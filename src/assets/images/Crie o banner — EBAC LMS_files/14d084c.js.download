(window.webpackJsonp=window.webpackJsonp||[]).push([[15,214],{1695:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n(221);var l=n(8),o=(n(557),n(558),n(539),n(94),n(1157),n(12),n(61),n(7),n(88),n(13),n(185),n(37),n(51),n(57),n(122),n(63),n(550),n(551),n(520),n(49),n(322),n(323),n(217),n(556)),c=n.n(o);var r=function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(e,n,l){var o,r,d,link;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.get(e.url,{onDownloadProgress:l,responseType:"blob"});case 2:return o=t.sent,t.next=5,o.data;case 5:r=t.sent,d=new File([r],n,{type:e.mimetype}),(link=document.createElement("a")).href=URL.createObjectURL(d),link.download=n,link.style.display="none",link.target="_blank",document.body.appendChild(link),link.click(),document.body.removeChild(link);case 15:case"end":return t.stop()}}),t)})));return function(e,n,l){return t.apply(this,arguments)}}()},1696:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(1150);var l=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],o=function(t){for(var e=0,n=t;n>=1024&&++e;)n/=1024;return(n=parseFloat("".concat(n))).toFixed(n<10&&e>0?1:0)+" "+l[e]}},1697:function(t,e,n){t.exports={}},1886:function(t,e,n){"use strict";n(1697)},2009:function(t,e,n){"use strict";n.r(e);n(12),n(108);var l=n(3),o=n(515),c=n(1695),r=n(1696),d=n(70),v=Object(l.b)({props:{attachment:{type:Object,default:null}},setup:function(t){var e=Object(d.a)().isMobile,dialog=Object(l.o)(!1),n=Object(l.y)(),v=Object(l.o)(null),_=Object(o.useFullscreen)(),f=Object(l.a)((function(){return _.isFullscreen.value})),m=Object(l.a)((function(){var e,n,l=null===(e=t.attachment)||void 0===e?void 0:e.extension,o=null===(n=t.attachment)||void 0===n?void 0:n.size,c=Number(o)?", "+Object(r.a)(o):"";return".".concat(l).concat(c)}));return Object(l.z)((function(){return t.attachment}),(function(t){dialog.value=!!t}),{immediate:!0}),Object(l.z)(dialog,(function(t){n.dispatch("app/setPopupState",t)}),{immediate:!0}),{viewport:v,nFiledata:m,isFullscreen:f,isMobile:e,alertContainerStyle:{maxHeight:"656px",height:"100%"},alertContainerMobileStyle:{padding:"0",backgroundColor:"#10001F"},dialog:dialog,closeHandler:function(){dialog.value=!1},closeViewerHandler:function(){f.value||(dialog.value=!1)},download:function(){Object(c.a)(t.attachment,t.attachment.filename)}}}}),_=(n(1886),n(0)),component=Object(_.a)(v,(function(){var t=this,e=t._self._c;t._self._setupProxy;return t.attachment?e("EDialog",{attrs:{maximized:t.isMobile},on:{hide:function(e){return t.$emit("close")}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("EDialogAlert",{ref:"viewport",staticClass:"attachment-viewer",class:{"attachment-viewer--mobile":t.isMobile},style:t.alertContainerStyle,attrs:{scrollable:!1,"close-button":!t.isFullscreen.value&&!t.isMobile,"round-top":!t.isFullscreen.value&&!t.isMobile,"round-bottom":!t.isFullscreen.value&&!t.isMobile,"round-left":!t.isFullscreen.value&&!t.isMobile,"round-right":!t.isFullscreen.value&&!t.isMobile,"container-style":t.isMobile?t.alertContainerMobileStyle:null},on:{close:t.closeHandler},scopedSlots:t._u([t.isMobile?null:{key:"title",fn:function(){return[e("div",{staticClass:"attachment-viewer__title"},[e("div",{staticClass:"attachment-viewer__title-meta"},[e("div",{staticClass:"attachment-viewer__title-filename"},[t._v("\n            "+t._s(t.attachment.title)+"\n          ")]),t._v("\n          Â \n          "),e("div",{staticClass:"attachment-viewer__title-metadata"},[t._v("\n            "+t._s(t.nFiledata)+"\n          ")])]),t._v(" "),e("div",{staticClass:"attachment-viewer__title-download-button-wrapper"},[e("button",{staticClass:"attachment-viewer__title-download-button",on:{click:t.download}},[e("EX24icdownload")],1),t._v(" "),e("ETooltip",[e("p",{staticClass:"tooltip-text"},[t._v("\n              "+t._s(t.$t("tooltip.fileDownload"))+"\n            ")])])],1)])]},proxy:!0}],null,!0)},[t._v(" "),e("div",{staticClass:"attachment-viewer__content",class:{"attachment-viewer__content--mobile":t.isMobile,"attachment-viewer__content--full":t.isMobile||t.isFullscreen}},[e("client-only",[e("FileViewer",{ref:"viewer",attrs:{"can-download":"",files:[t.attachment]},on:{close:t.closeViewerHandler}})],1)],1)])],1):t._e()}),[],!1,null,"4b27f593",null);e.default=component.exports;installComponents(component,{EX24icdownload:n(530).default,ETooltip:n(413).default,FileViewer:n(1855).default,EDialogAlert:n(120).default,EDialog:n(142).default})},2558:function(t,e,n){"use strict";n.r(e);n(121);var l=n(3),o=n(2009),c=n(70),r=Object(l.b)({components:{AttachmentViewer:o.default},props:{note:{type:Object,required:!0},isNewNote:{type:Boolean,required:!1,default:!1}},emits:["saveNote","deleteNote","deleteNoteCancel","scrollToQuote","createNewNote"],setup:function(t,e){var n=e.emit,o=Object(c.a)().isMobile,r=Object(l.o)(t.note),d=Object(l.a)((function(){return t.isNewNote})),text=Object(l.o)(null),v=Object(l.o)(r.value.html),_=Object(l.o)(!1),f=Object(l.o)(!1),m=Object(l.o)(!1),h=Object(l.a)((function(){var t;return null===(t=r.value.html)||void 0===t?void 0:t.trim()}));function w(t){m.value=!0,v.value=t}var j=Object(l.a)((function(){var t,e;return!(null===(t=text.value)||void 0===t||!t.scrollHeight||null===(e=text.value)||void 0===e||!e.clientHeight)&&text.value.scrollHeight>text.value.clientHeight}));return Object(l.j)((function(){d.value&&w("")})),Object(l.z)(t.note,(function(t){r.value=t})),Object(l.z)(m,(function(t){n("editing",t)})),{noteObject:r,isMobile:o,clickQuote:function(){n("scrollToQuote",r.value)},deleteNoteCancel:function(){n("deleteNoteCancel",r.value.id),r.value.deleted=void 0},deleteNote:function(){n("deleteNote",r.value.id),r.value.deleted="deleted"},saveNote:function(){m.value=!1,d.value?(n("createNewNote",r.value),r.value.html=""):n("saveNote",r.value),n("editing",!1)},cancelNoteSaving:function(){r.value.html=v.value,m.value=!1,d.value&&n("createNewNote",!1)},editNote:w,isEditing:m,modal:f,openModal:function(){f.value=!0},closeModal:function(){f.value=!1},text:text,isExpandable:j,isExpanded:_,canSave:h}}}),d=(n(2717),n(0)),component=Object(d.a)(r,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"note-card"},[t.noteObject.deleted?t._e():[e("div",{staticClass:"note-card__title"},[t._v("\n      "+t._s(t.noteObject.lecture.title)+"\n    ")]),t._v(" "),t.noteObject.files.length?e("div",{staticClass:"note-card__picture"},t._l(t.noteObject.files,(function(n,p){return e("div",{key:p},[e("EInnerLoading",{attrs:{showing:""}}),t._v(" "),e("img",{attrs:{src:n.url,alt:n.title},on:{click:t.openModal}}),t._v(" "),e("AttachmentViewer",{attrs:{attachment:t.modal?n:null},on:{close:t.closeModal}})],1)})),0):t._e(),t._v(" "),t.noteObject.quote?e("div",{staticClass:"note-card__quote",on:{click:t.clickQuote}},[e("div",{staticClass:"note-card__quote-glyph"},[e("EX16icquote",{attrs:{color:"color-colors-actions-color-2",size:"s"}})],1),t._v(" "),e("div",[t._v("\n        "+t._s(t.noteObject.quote)+"\n      ")])]):t._e(),t._v(" "),t.isEditing?t._e():e("div",{ref:"text",staticClass:"note-card__text",class:{"note-card__text--expanded":t.isExpanded}},[e("pre",{staticClass:"note-card__text--pre"},[t._v(t._s(t.noteObject.html))])]),t._v(" "),t.isEditing?e("div",{staticClass:"note-card__text--editing"},[e("ETextField",{staticClass:"note-card__text-field",attrs:{type:"textarea",focus:"",placeholder:t.$t("notes.type")},model:{value:t.noteObject.html,callback:function(e){t.$set(t.noteObject,"html",e)},expression:"noteObject.html"}})],1):t._e(),t._v(" "),e("div",{staticClass:"note-card__settings",class:{"note-card__settings--editing":t.isEditing}},[t.isEditing?[e("EBtn",{staticClass:"note-card__button-save",attrs:{disable:!t.canSave,size:"s",color:"secondary"},on:{click:t.saveNote}},[t._v("\n          "+t._s(t.$t("notes.save"))+"\n        ")]),t._v(" "),e("EBtn",{staticClass:"note-card__button-cancel",attrs:{size:"s",color:"white"},on:{click:t.cancelNoteSaving}},[t._v("\n          "+t._s(t.$t("notes.cancel"))+"\n        ")])]:[t.isExpandable&&!t.isExpanded?e("div",{staticClass:"note-card__button-hide",on:{click:function(e){t.isExpanded=!0}}},[t._v("\n          "+t._s(t.$t("notes.show"))+"\n        ")]):t._e(),t._v(" "),t.isExpandable&&t.isExpanded?e("div",{staticClass:"note-card__button-hide",on:{click:function(e){t.isExpanded=!1}}},[t._v("\n          "+t._s(t.$t("notes.hide"))+"\n        ")]):t._e(),t._v(" "),e("div",{staticClass:"note-card__button-edit",on:{click:function(e){return t.editNote(t.noteObject.html)}}},[e("EBtn",{attrs:{size:"s",color:"white",round:!0}},[e("EX16icedit")],1),t._v(" "),e("ETooltip",[e("p",{staticClass:"tooltip-text"},[t._v("\n              "+t._s(t.$t("tooltip.editNote"))+"\n            ")])])],1),t._v(" "),e("div",{staticClass:"note-card__button-delete",on:{click:t.deleteNote}},[e("EBtn",{attrs:{size:"s",color:"white",round:!0}},[e("EX16icdelete")],1),t._v(" "),e("ETooltip",[e("p",{staticClass:"tooltip-text"},[t._v("\n              "+t._s(t.$t("tooltip.deleteNote"))+"\n            ")])])],1)]],2)],t._v(" "),t.noteObject.deleted?[e("div",{staticClass:"note-card__title note-card__title--deleting"},[t._v("\n      "+t._s(t.$t("notes.deleted"))+"\n      "),e("EBtn",{staticClass:"note-card__button-cancel-delete",attrs:{size:"s",color:"white"},on:{click:t.deleteNoteCancel}},[t._v("\n        "+t._s(t.$t("notes.cancel"))+"\n      ")])],1)]:t._e()],2)}),[],!1,null,"46390aea",null);e.default=component.exports;installComponents(component,{EInnerLoading:n(511).default,EX16icquote:n(575).default,ETextField:n(321).default,EX16icedit:n(546).default,EBtn:n(97).default,ETooltip:n(413).default,EX16icdelete:n(342).default})},2570:function(t,e,n){t.exports={}},2717:function(t,e,n){"use strict";n(2570)}}]);