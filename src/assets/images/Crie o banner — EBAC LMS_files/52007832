/**
* Bundle builder 2.2.4/4790d92
* Created at Sun Sep 14 2025 10:26:08 GMT+0000 (Coordinated Universal Time)
* -------------------
* Kaltura Player lib
* kaltura-ovp-player v3.17.57
* playkit-hotspots v3.2.21
* playkit-ivq v3.7.10
* playkit-kaltura-cuepoints v3.0.19
* playkit-kava v1.13.0
* playkit-timeline v3.1.3
* playkit-ui-managers v1.8.2
* playkit-visibility v2.3.2
*/
/*! For license information please see kaltura-ovp-player.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.KalturaPlayer=t():e.KalturaPlayer=t()}(self,(()=>(()=>{var e={129:(module,e,t)=>{"use strict";t.d(e,{Z:()=>o});var n=t(864),r=t.n(n),i=t(352),a=t.n(i)()(r());a.push([module.id,".kaltura-player-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  background-color: #000;\n  outline: none;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n","",{version:3,sources:["webpack://./assets/style.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,sBAAsB;EACtB,aAAa;EACb,2BAA2B;EAC3B,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;EACjB,wCAAwC;AAC1C",sourcesContent:[".kaltura-player-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  background-color: #000;\n  outline: none;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n"],sourceRoot:""}]);const o=a},644:(module,e,t)=>{var n,r;self,module.exports=(n=t(109),r=t(150),function(){var e={774:function(e,t,n){"use strict";var r=n(864),i=n.n(r),a=n(352),o=n.n(a)()(i());o.push([e.id,".shaka-text-container {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  pointer-events: none;\n  width: 100%;\n  min-width: 48px;\n  transition: bottom cubic-bezier(0.4, 0, 0.6, 1) 0.1s;\n  transition-delay: 0s;\n  font-size: 20px;\n  line-height: 1.4;\n  color: #fff;\n  font-family: Roboto-Regular, Roboto, sans-serif, TengwarTelcontar;\n}\n.shaka-text-container span.shaka-text-wrapper {\n  display: inline;\n  background: 0 0;\n  text-align: center;\n}\n\n:fullscreen .shaka-text-container {\n  font-size: 4.4vmin;\n}\n\n:-webkit-full-screen .shaka-text-container {\n  font-size: 4.4vmin;\n}\n\n:-moz-full-screen .shaka-text-container {\n  font-size: 4.4vmin;\n}\n\n:-ms-fullscreen .shaka-text-container {\n  font-size: 4.4vmin;\n}\n","",{version:3,sources:["webpack://./src/assets/style.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,OAAO;EACP,QAAQ;EACR,MAAM;EACN,SAAS;EACT,oBAAoB;EACpB,WAAW;EACX,eAAe;EACf,oDAAoD;EACpD,oBAAoB;EACpB,eAAe;EACf,gBAAgB;EAChB,WAAW;EACX,iEAAiE;AACnE;AACA;EACE,eAAe;EACf,eAAe;EACf,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;AACpB",sourcesContent:[".shaka-text-container {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  pointer-events: none;\n  width: 100%;\n  min-width: 48px;\n  transition: bottom cubic-bezier(0.4, 0, 0.6, 1) 0.1s;\n  transition-delay: 0s;\n  font-size: 20px;\n  line-height: 1.4;\n  color: #fff;\n  font-family: Roboto-Regular, Roboto, sans-serif, TengwarTelcontar;\n}\n.shaka-text-container span.shaka-text-wrapper {\n  display: inline;\n  background: 0 0;\n  text-align: center;\n}\n\n:fullscreen .shaka-text-container {\n  font-size: 4.4vmin;\n}\n\n:-webkit-full-screen .shaka-text-container {\n  font-size: 4.4vmin;\n}\n\n:-moz-full-screen .shaka-text-container {\n  font-size: 4.4vmin;\n}\n\n:-ms-fullscreen .shaka-text-container {\n  font-size: 4.4vmin;\n}\n"],sourceRoot:""}]),t.Z=o},352:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,a){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&o[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),t.push(c))}},t}},864:function(e){"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(i," */");return[t].concat([a]).join("\n")}return[t].join("\n")}},701:function(e){"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},o=[],s=0;s<e.length;s++){var l=e[s],u=r.base?l[0]+r.base:l[0],c=a[u]||0,d="".concat(u," ").concat(c);a[u]=c+1;var p=n(d),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var h=i(f,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:h,references:1})}o.push(d)}return o}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var a=r(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<a.length;o++){var s=n(a[o]);t[s].references--}for(var l=r(e,i),u=0;u<a.length;u++){var c=n(a[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}a=l}}},182:function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},75:function(e){"use strict";e.exports=function(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}},236:function(e){"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},213:function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},230:function(e){"use strict";e.exports=n},475:function(e){"use strict";e.exports=r},333:function(e,t,n){var r=n(125).default;function i(){"use strict";e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},a=Object.prototype,o=a.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(t){p=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof k?t:k,a=Object.create(i.prototype),o=new O(r||[]);return s(a,"_invoke",{value:P(e,n,o)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var y="suspendedStart",g="suspendedYield",v="executing",m="completed",b={};function k(){}function E(){}function T(){}var _={};p(_,u,(function(){return this}));var A=Object.getPrototypeOf,S=A&&A(A(L([])));S&&S!==a&&o.call(S,u)&&(_=S);var w=T.prototype=k.prototype=Object.create(_);function C(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,a,s,l){var u=h(e[i],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==r(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,l)}))}l(u.arg)}var i;s(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function P(e,n,r){var i=y;return function(a,o){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var l=R(s,r);if(l){if(l===b)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===y)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var u=h(e,n,r);if("normal"===u.type){if(i=r.done?m:g,u.arg===b)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=m,r.method="throw",r.arg=u.arg)}}}function R(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,R(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var a=h(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,b;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return E.prototype=T,s(w,"constructor",{value:T,configurable:!0}),s(T,"constructor",{value:E,configurable:!0}),E.displayName=p(T,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,T):(e.__proto__=T,p(e,d,"GeneratorFunction")),e.prototype=Object.create(w),e},n.awrap=function(e){return{__await:e}},C(x.prototype),p(x.prototype,c,(function(){return this})),n.AsyncIterator=x,n.async=function(e,t,r,i,a){void 0===a&&(a=Promise);var o=new x(f(e,t,r,i),a);return n.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(w),p(w,d,"Generator"),p(w,u,(function(){return this})),p(w,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;D(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},125:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},47:function(e,t,n){var r=n(333)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={id:n,exports:{}};return e[n](a,a.exports,i),a.exports}i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return function(){"use strict";i.r(a),i.d(a,{NAME:function(){return ae},VERSION:function(){return ie},default:function(){return oe}});var e=i(230);function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function r(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,l,"next",e)}function l(e){o(a,r,i,s,l,"throw",e)}s(void 0)}))}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:String(t)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},y.apply(this,arguments)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function v(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m,b,k=i(47),E=i.n(k),T=i(475),_=i.n(T),A=(m=function(){function t(){l(this,t)}return p(t,null,[{key:"isConfigured",value:function(t,n){return e.DrmScheme.WIDEVINE===n.keySystem&&!!t.find((function(e){return e.scheme===n.keySystem}))}},{key:"canPlayDrm",value:function(n){return t._logger.debug("Can play DRM scheme of: "+e.DrmScheme.WIDEVINE),!!n.find((function(t){return t.scheme===e.DrmScheme.WIDEVINE}))}},{key:"setDrmPlayback",value:function(n,r){t._logger.debug("Sets drm playback");var i=e.Env.browser.name,a=r.find((function(t){return t.scheme===e.DrmScheme.WIDEVINE}));a&&(n.drm={servers:v({},e.DrmScheme.WIDEVINE,a.licenseUrl),advanced:{}},"Chrome"===i&&(n.drm.advanced=v({},e.DrmScheme.WIDEVINE,{videoRobustness:"SW_SECURE_CRYPTO",audioRobustness:"SW_SECURE_CRYPTO"})))}}]),t}(),v(m,"_logger",(0,e.getLogger)("Widevine")),m),S=(b=function(){function t(){l(this,t)}return p(t,null,[{key:"isConfigured",value:function(t,n){return e.DrmScheme.PLAYREADY===n.keySystem&&!!t.find((function(e){return e.scheme===n.keySystem}))}},{key:"canPlayDrm",value:function(n){return t._logger.debug("Can play DRM scheme of: "+e.DrmScheme.PLAYREADY),!!n.find((function(t){return t.scheme===e.DrmScheme.PLAYREADY}))}},{key:"setDrmPlayback",value:function(n,r){t._logger.debug("Sets drm playback");var i=r.find((function(t){return t.scheme===e.DrmScheme.PLAYREADY}));i&&(n.drm={servers:v({},e.DrmScheme.PLAYREADY,i.licenseUrl)})}}]),t}(),v(b,"_logger",(0,e.getLogger)("PlayReady")),b),w=JSON.parse('{"shakaConfig":{"streaming":{"ignoreTextStreamFailures":true,"bufferingGoal":60,"alwaysStreamText":true},"abr":{"enabled":true,"restrictions":{}}},"forceRedirectExternalStreams":false,"trackEmsgEvents":true,"switchDynamicToStatic":false,"stallDetectionThreshold":3}'),C=i(701),x=i.n(C),P=i(236),R=i.n(P),I=i(75),D=i.n(I),O=i(182),L=i.n(O),M=i(213),N=i.n(M),U=i(774),B={attributes:{id:"@playkit-js/playkit-js-dash"}};B.styleTagTransform=N(),B.setAttributes=D(),B.insert=function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},B.domAPI=R(),B.insertStyleElement=L(),x()(U.Z,B),U.Z&&U.Z.locals&&U.Z.locals;var F=function(){function e(t){l(this,e),this._media=V.parseAttr(t,H.AttributeTypes.MEDIA),this._startNumber=V.parseAttr(t,H.AttributeTypes.START_NUMBER,V.parseInt,1),this._duration=V.parseAttr(t,H.AttributeTypes.DURATION,V.parseFloat),this._timescale=V.parseAttr(t,H.AttributeTypes.TIMESCALE,V.parsePositiveInt,1),this._presentationTimeOffset=V.parseAttr(t,H.AttributeTypes.PRESENTATION_TIME_OFFSET,V.parseInt,0),this._endNumber=V.parseAttr(t,H.AttributeTypes.END_NUMBER,V.parsePositiveInt)}return p(e,[{key:"media",get:function(){return this._media}},{key:"startNumber",get:function(){return this._startNumber}},{key:"duration",get:function(){return this._duration}},{key:"timescale",get:function(){return this._timescale}},{key:"presentationTimeOffset",get:function(){return this._presentationTimeOffset}},{key:"endNumber",get:function(){return this._endNumber}}]),e}();v(F,"MediaTemplateType",{REPRESENTATION:"$RepresentationID$",NUMBER:"$Number$",BANDWIDTH:"$Bandwidth$",TIME:"$Time$"});var j=function(e,t){var n=t.id,r=t.index,i=t.bitrate,a=t.time,o=e.match(/\$([a-zA-Z]+)\$/g),s=function(e,t,n){return n?e.replace(t,n):e};return o&&o.forEach((function(t){switch(t){case F.MediaTemplateType.REPRESENTATION:e=s(e,t,n);break;case F.MediaTemplateType.NUMBER:e=s(e,t,r);break;case F.MediaTemplateType.BANDWIDTH:e=s(e,t,i);break;case F.MediaTemplateType.TIME:e=s(e,t,a)}})),e},H={TagTypes:{BASE_URL:"BaseURL",SEGMENT_TEMPLATE:"SegmentTemplate",REPRESENTATION:"Representation",ESSENTIAL_PROPERTY:"EssentialProperty",ADAPTATION_SET:"AdaptationSet"},AttributeTypes:{BASE_URL:"BaseURL",ID:"id",CONTENT_TYPE:"contentType",MIME_TYPE:"mimeType",MEDIA:"media",DURATION:"duration",START_NUMBER:"startNumber",TIMESCALE:"timescale",PRESENTATION_TIME_OFFSET:"presentationTimeOffset",END_NUMBER:"endNumber",BANDWIDTH:"bandwidth",WIDTH:"width",HEIGHT:"height",SCHEME_ID_URI:"schemeIdUri",VALUE:"value"}},V={parseXml:function(e){return(new DOMParser).parseFromString(e,"text/xml")},parseAttr:function(e,t,n,r){var i=null,a=e.getAttribute(t);return null!==a&&(i=n?n(a):a),null===i?r:i},findElements:function(e,t){return e.getElementsByTagName(t)},findChild:function(e,t){var n=this.findChildren(e,t);return 1!==n.length?null:n[0]},findChildren:function(e,t){return Array.from(e.childNodes).filter((function(e){return e instanceof Element&&e.tagName===t}))},parseInt:function(e){var t=Number(e);return t%1==0?t:null},parsePositiveInt:function(e){var t=Number(e);return t%1==0&&t>0?t:null},parseFloat:function(e){var t=Number(e);return isNaN(t)?null:t}},G=function(){function e(t){l(this,e),this._schemeIdUri=V.parseAttr(t,H.AttributeTypes.SCHEME_ID_URI),this._value=V.parseAttr(t,H.AttributeTypes.VALUE)}return p(e,[{key:"schemeIdUri",get:function(){return this._schemeIdUri}},{key:"value",get:function(){return this._value}}]),e}(),K=function(){function e(t){l(this,e),this._id=V.parseAttr(t,H.AttributeTypes.ID),this._bandwidth=V.parseAttr(t,H.AttributeTypes.BANDWIDTH,parseInt),this._width=V.parseAttr(t,H.AttributeTypes.WIDTH,parseInt),this._height=V.parseAttr(t,H.AttributeTypes.HEIGHT,parseInt);var n=V.findChild(t,H.TagTypes.ESSENTIAL_PROPERTY);n&&(this._essentialProperty=new G(n))}return p(e,[{key:"bandwidth",get:function(){return this._bandwidth}},{key:"id",get:function(){return this._id}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"essentialProperty",get:function(){return this._essentialProperty}}]),e}(),z=function(){function e(t){l(this,e),this._id=V.parseAttr(t,H.AttributeTypes.ID),this._mimeType=V.parseAttr(t,H.AttributeTypes.MIME_TYPE),this._contentType=V.parseAttr(t,H.AttributeTypes.CONTENT_TYPE),this._representations=Array.from(V.findChildren(t,H.TagTypes.REPRESENTATION)).map((function(e){return new K(e)}));var n=V.findChild(t,H.TagTypes.SEGMENT_TEMPLATE);n&&(this._segmentTemplate=new F(n));var r=V.findChild(t,H.TagTypes.ESSENTIAL_PROPERTY);r&&(this._essentialProperty=new G(r))}return p(e,[{key:"id",get:function(){return this._id}},{key:"mimeType",get:function(){return this._mimeType}},{key:"contentType",get:function(){return this._contentType}},{key:"segmentTemplate",get:function(){return this._segmentTemplate}},{key:"essentialProperty",get:function(){return this._essentialProperty}},{key:"representations",get:function(){return this._representations}}]),e}();v(z,"ContentType",{VIDEO:"video",AUDIO:"audio",TEXT:"text",IMAGE:"image"});var W,Y=function(){function t(n){var r,i,a=this;l(this,t),v(this,"_logger",(0,e.getLogger)("DashManifestParser")),v(this,"_parseAdaptionSets",(function(){var e=V.findElements(a._xmlDoc,H.TagTypes.BASE_URL);e&&e.length>0&&e[0].innerHTML&&(a._baseURL=e[0].textContent);var t=V.findElements(a._xmlDoc,H.TagTypes.ADAPTATION_SET),n=Array.from(t).filter((function(e){return V.parseAttr(e,H.AttributeTypes.CONTENT_TYPE)===z.ContentType.IMAGE}));n.length>0?(a._adaptationSets=n.map((function(e){return new z(e)})),a._logger.debug("Found image adaptation set",a._adaptationSets)):a._logger.debug("No image adaptations were found in manifest")})),this._logger.debug("Initialize manifest parser"),this._adaptationSets=[],(r=n instanceof ArrayBuffer?(i=n,TextDecoder?(new TextDecoder).decode(new Uint8Array(i)):null):n)&&(this._xmlDoc=V.parseXml(r))}return p(t,[{key:"parseManifest",value:function(){try{this._logger.debug("Start parsing dash manifest"),this._parseAdaptionSets(),this._logger.debug("Manifest parsing finished successfully")}catch(e){this._logger.warn("Manifest parsing failed",e)}}},{key:"getBaseUrl",value:function(){return this._baseURL||""}},{key:"getImageSet",value:function(){return this._adaptationSets.find((function(e){return e.contentType===z.ContentType.IMAGE}))}},{key:"hasImageSet",value:function(){return!!this.getImageSet()}},{key:"adaptationSets",get:function(){return this._adaptationSets}}],[{key:"isValid",value:function(){return!(!window.TextEncoder||!window.TextDecoder)}}]),t}(),Z=function(){function t(r,i,a){var o=this;l(this,t),v(this,"_tracks",[]),v(this,"_parseTracks",(function(t,r,i){var a=t.representations,s=t.segmentTemplate,l=t.essentialProperty;a.forEach((function(t,a){var u,c,d=t.id,p=t.bandwidth,f=t.width,h=t.height,y=s,g=y.startNumber,v=y.duration,m=y.media,b=y.timescale,k=y.presentationTimeOffset,E=o._getEssentialValue(l,t),T=(c=2,function(e){if(Array.isArray(e))return e}(u=o._getDimensions(E))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(u,c)||n(u,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=T[0],A=T[1];o._tracks.push(new e.ImageTrack({id:d,index:a,active:!1,width:f,height:h,duration:v,rows:_,cols:A,url:o._buildTemplateUrl(m,d,r,i),customData:{bitrate:p,startNumber:g,timescale:b,presentationTimeOffset:k}}))}))})),v(this,"_getDimensions",(function(e){var t=1,n=1;if(e.includes("x")){var r=e.split("x");n=parseInt(r[0]),t=parseInt(r[1])}return[t,n]})),v(this,"_getEssentialValue",(function(e,t){return e?e.value:t.essentialProperty?t.essentialProperty.value:""})),v(this,"_buildTemplateUrl",(function(e,t,n,r){var i=n.split("/").pop(),a=n.replace(i,"");(r=r.replace(/^\.\//,"")).length>0&&!r.endsWith("/")&&(r+="/");var o="".concat(a).concat(r).concat(e);return j(o,{id:t})})),v(this,"_buildUrlFromTemplate",(function(e,t){return j(e.url,{index:t,time:(t-1)*e.duration*e.customData.timescale,bitrate:e.customData.bitrate})})),this._parseTracks(r,i,a),this._tracks.length>0&&(this._tracks.sort((function(e,t){return e.customData.bitrate-t.customData.bitrate})),this.selectTrack(this._tracks[this._tracks.length-1]))}return p(t,[{key:"selectTrack",value:function(e){this._tracks.forEach((function(t){return t.index===e.index?t.active=!0:t.active=!1}))}},{key:"getTracks",value:function(){return this._tracks}},{key:"getActiveTrack",value:function(){return this._tracks.find((function(e){return e.active}))}},{key:"getThumbnail",value:function(t){var n=this.getActiveTrack(),r=n.duration,i=n.rows,a=n.cols,o=n.sliceWidth,s=n.sliceHeight,l=n.customData,u=Math.floor(t/r)+l.startNumber,c=t%r,d=Math.floor(c*i*a/r);return new e.ThumbnailInfo({width:Math.floor(o),height:Math.floor(s),x:Math.floor(d%a)*o,y:Math.floor(d/a)*s,url:this._buildUrlFromTemplate(n,u)})}}]),t}(),q=["startTime","endTime","id"];function X(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var J="error",$="adaptation",ee="buffering",te="drmsessionupdate",ne="emsg",re=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(m,t);var n,i,a,o,c,d=(o=m,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(o);if(c){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}(this,e)});function m(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return l(this,m),v(f(r=d.call(this,t,n,i)),"_shakaLib",_()),v(f(r),"_adapterEventsBindings",v(v(v(v(v(v(v({},J,(function(e){return r._onError(e)})),$,(function(){return r._onAdaptation()})),ee,(function(e){return r._onBuffering(e)})),te,(function(){return r._onDrmSessionUpdate()})),ne,(function(e){return r._onEmsg(e)})),e.EventType.WAITING,(function(){return r._onWaiting()})),e.EventType.PLAYING,(function(){return r._onPlaying()}))),v(f(r),"_buffering",!1),v(f(r),"_waitingSent",!1),v(f(r),"_playingSent",!1),v(f(r),"_videoSizeUpdateTimer",null),v(f(r),"_stallInterval",null),v(f(r),"VIDEO_ERROR_CODE",3016),v(f(r),"_lastTimeDetach",NaN),v(f(r),"_requestFilterError",!1),v(f(r),"_responseFilterError",!1),v(f(r),"_isDestroyInProgress",!1),v(f(r),"_errorCounter",{}),v(f(r),"_isStartOver",!0),v(f(r),"_seekRangeStart",0),v(f(r),"_isLive",!1),v(f(r),"_isStaticLive",!1),v(f(r),"_selectedVideoTrack",null),m._logger.debug("Creating adapter. Shaka version: "+_().Player.version),r._config=e.Utils.Object.mergeDeep({},w,r._config),r._init(),r}return p(m,[{key:"applyTextTrackStyles",value:function(e,t,n){e.insertRule("#".concat(n," .").concat(m.textContainerClass," { align-items: ").concat({left:"flex-start",center:"center",right:"flex-end"}[t.textAlign],"!important; }"),0),e.insertRule("#".concat(n," .").concat(m.textContainerClass," > * { ").concat(t.toCSS()," }"),0)}},{key:"setMaxBitrate",value:function(e){this._hasLowerOrEqualBitrate(e)&&this._shaka.configure({abr:{restrictions:{maxBandwidth:e}}})}},{key:"_getSortedTracks",value:function(){return this._shaka.getVariantTracks().map((function(e){return{id:e.id,bandwidth:e.bandwidth,active:e.active}})).sort((function(e,t){return e.bandwidth-t.bandwidth}))}},{key:"_hasLowerOrEqualBitrate",value:function(e){return this._getSortedTracks()[0].bandwidth<=e}},{key:"_init",value:function(){_().polyfill.installAll(),this._shaka=new(_().Player),this._config.useShakaTextTrackDisplay&&this._shaka.setVideoContainer(e.Utils.Dom.getElementBySelector(".playkit-subtitles")),this._maybeSetFilters(),this._maybeSetDrmConfig(),this._maybeBreakStalls(),this._shaka.configure(this._config.shakaConfig),this._addBindings()}},{key:"_clearStallInterval",value:function(){this._stallInterval&&(clearInterval(this._stallInterval),this._stallInterval=null)}},{key:"_stallHandler",value:function(){var e=this;this._clearStallInterval();var t=function(){return Date.now()/1e3},n=t(),r=this._videoElement.currentTime;this._stallInterval=window.setInterval((function(){t()-n>e._config.stallDetectionThreshold&&!e._videoElement.paused&&(r===e._videoElement.currentTime&&(m._logger.debug("stall found, break the stall"),e._videoElement.currentTime=parseFloat(e._videoElement.currentTime.toFixed(1))+.1),e._clearStallInterval()),r=e._videoElement.currentTime}),500)}},{key:"_maybeBreakStalls",value:function(){var t=this;this._config.forceBreakStall&&this._eventManager.listen(this._videoElement,e.EventType.SEEKING,(function(){return t._stallHandler()}))}},{key:"_maybeGetRedirectedUrl",value:function(t){var n=this._config.forceRedirectExternalStreams,r=this._config.redirectExternalStreamsTimeout,i=this._config.redirectExternalStreamsHandler;return new Promise((function(a){if(!n)return a(t);e.Utils.Http.jsonp(t,i,{timeout:r}).then((function(e){a(e)})).catch((function(){return a(t)}))}))}},{key:"_maybeSetFilters",value:function(){var t,n,r=this;"function"==typeof e.Utils.Object.getPropertyPath(this._config,"network.requestFilter")&&(m._logger.debug("Register request filter"),null===(t=this._shaka.getNetworkingEngine())||void 0===t||t.registerRequestFilter((function(t,n){if(Object.values(e.RequestType).includes(t)){var i,a={url:n.uris[0],body:n.body,headers:n.headers};try{i=r._config.network.requestFilter(t,a)}catch(e){i=Promise.reject(e)}return(i=i||Promise.resolve(a)).then((function(e){n.uris=[e.url],n.headers=e.headers,"boolean"==typeof e.withCredentials&&(n.allowCrossSiteCredentials=e.withCredentials),"POST"===n.method?n.body=e.body:e.body&&m._logger.warn("Request with ".concat(n.method," method cannot have body"))})).catch((function(e){throw r._requestFilterError=!0,e}))}}))),"function"==typeof e.Utils.Object.getPropertyPath(this._config,"network.responseFilter")&&(m._logger.debug("Register response filter"),null===(n=this._shaka.getNetworkingEngine())||void 0===n||n.registerResponseFilter((function(t,n){if(Object.values(e.RequestType).includes(t)){var i,a=n.uri,o=n.data,s=n.headers,l={url:a,originalUrl:r._sourceObj.url,data:o,headers:s};try{i=r._config.network.responseFilter(t,l)}catch(e){i=Promise.reject(e)}return(i=i||Promise.resolve(l)).then((function(e){n.data=e.data})).catch((function(e){throw r._responseFilterError=!0,e}))}})))}},{key:"_maybeSetDrmConfig",value:function(){if(this._sourceObj&&this._sourceObj.drmData){var t,n={},r=X(m._availableDrmProtocol);try{for(r.s();!(t=r.n()).done;)t.value.setDrmPlayback(n,this._sourceObj.drmData),this._config.shakaConfig.drm&&e.Utils.Object.mergeDeep(n.drm,this._config.shakaConfig.drm),e.Utils.Object.mergeDeep(this._config.shakaConfig,n)}catch(e){r.e(e)}finally{r.f()}}}},{key:"_maybeCapLevelToPlayerSize",value:function(){var e=this;if(this._config.capLevelToPlayerSize){var t=function(){return{minHeight:0,maxHeight:e._videoHeight,minWidth:0,maxWidth:e._videoWidth,minBitrate:0,maxBitrate:1/0}};this._clearVideoUpdateTimer(),this._videoSizeUpdateTimer=window.setInterval((function(){return e._updateRestriction(t())}),1e3),this._updateRestriction(t())}}},{key:"_maybeApplyAbrRestrictions",value:function(){this._config.capLevelToPlayerSize||(this._clearVideoUpdateTimer(),e.Utils.Object.hasPropertyPath(this._config,"abr.restrictions")&&this._updateRestriction(this._config.abr.restrictions))}},{key:"_updateRestriction",value:function(e){var t=this._getRestrictionShakaConfig(e);this._shaka.configure({abr:{restrictions:t}})}},{key:"_getRestrictionShakaConfig",value:function(e){var t=this,n=function(e){var n=t._getVideoTracks();return Math.min.apply(null,n.map((function(t){return t[e]})))},r={};if(e){var i=e.maxHeight,a=e.maxWidth,o=e.maxBitrate,s=e.minHeight,l=e.minWidth,u=e.minBitrate,c=Math.max(s,0),d=Math.max(i,n("height"));d>=c?(r.minHeight=c,r.maxHeight=d):m._logger.warn("Invalid maxHeight restriction, maxHeight must be greater than minHeight",s,i);var p=Math.max(l,0),f=Math.max(a,n("width"));f>=p?(r.minWidth=p,r.maxWidth=f):m._logger.warn("Invalid maxWidth restriction, maxWidth must be greater than minWidth",l,a);var h=Math.max(u,0),y=Math.max(o,n("bandwidth"));y>=h?(r.minBandwidth=h,r.maxBandwidth=y):m._logger.warn("Invalid maxBitrate restriction, maxBitrate must be greater than minBitrate",u,o)}return r}},{key:"attachMediaSource",value:function(){this._shaka||(this._videoElement&&this._videoElement.src&&(e.Utils.Dom.setAttribute(this._videoElement,"src",""),e.Utils.Dom.removeAttribute(this._videoElement,"src")),this._init())}},{key:"detachMediaSource",value:function(){var e=this;return this._shaka?(0===Math.floor(this.duration-this.currentTime)?this._lastTimeDetach=0:this.currentTime>0&&(this._lastTimeDetach=this.currentTime),this._reset().then((function(){e._shaka=null,e._loadPromise=void 0}))):Promise.resolve()}},{key:"_clearVideoUpdateTimer",value:function(){this._videoSizeUpdateTimer&&(clearInterval(this._videoSizeUpdateTimer),this._videoSizeUpdateTimer=null)}},{key:"_videoWidth",get:function(){var e,t=this._videoElement;return t&&(e=t.width||t.clientWidth||t.offsetWidth,e*=this._contentScaleFactor),e}},{key:"_videoHeight",get:function(){var e,t=this._videoElement;return t&&(e=t.height||t.clientHeight||t.offsetHeight,e*=this._contentScaleFactor),e}},{key:"_contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){m._logger.debug("failed reading devicePixelRatio, assume 1")}return e}},{key:"_addBindings",value:function(){var t,n=this;this._eventManager.listen(this._shaka,$,this._adapterEventsBindings.adaptation),this._eventManager.listen(this._shaka,J,this._adapterEventsBindings.error),this._eventManager.listen(this._shaka,te,this._adapterEventsBindings.drmsessionupdate),this._eventManager.listen(this._videoElement,e.EventType.WAITING,this._adapterEventsBindings.waiting),this._eventManager.listen(this._videoElement,e.EventType.PLAYING,this._adapterEventsBindings.playing),this._eventManager.listen(this._videoElement,e.EventType.LOADED_DATA,(function(){return n._onLoadedData()})),this._eventManager.listenOnce(this._videoElement,e.EventType.PLAYING,(function(){n._eventManager.listen(n._shaka,ee,n._adapterEventsBindings.buffering)})),this._config.trackEmsgEvents&&this._eventManager.listen(this._shaka,ne,this._adapterEventsBindings.emsg),null===(t=this._shaka.getNetworkingEngine())||void 0===t||t.registerResponseFilter((function(t,r){switch(t){case _().net.NetworkingEngine.RequestType.SEGMENT:n._trigger(e.EventType.FRAG_LOADED,{miliSeconds:r.timeMs,bytes:r.data.byteLength,url:r.uri}),n.isLive()&&n._dispatchNativeEvent(e.EventType.DURATION_CHANGE);break;case _().net.NetworkingEngine.RequestType.MANIFEST:n._parseManifest(r.data),n._playbackActualUri=r.uri,n._trigger(e.EventType.MANIFEST_LOADED,{miliSeconds:r.timeMs}),setTimeout((function(){var e,t;n._isLive=n._isLive||(null===(e=n._shaka)||void 0===e?void 0:e.isLive()),!n._isLive||null!==(t=n._shaka)&&void 0!==t&&t.isLive()||n._isStaticLive||!n._config.switchDynamicToStatic||(n._sourceObj.url=r.uri,n._switchFromDynamicToStatic())}))}}))}},{key:"_onLoadedData",value:function(){var e=this;this._setLowLatencyMode();var t=this.getSegmentDuration();this._seekRangeStart=this._shaka.seekRange().start,this._startOverTimeout=window.setTimeout((function(){e._shaka.seekRange().start-e._seekRangeStart>=t&&(e._isStartOver=!1)}),1e3*(t+1))}},{key:"_switchFromDynamicToStatic",value:(a=s(E().mark((function t(){var n,r,i;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m._logger.info("Switching from dynamic manifest to static"),this._dispatchNativeEvent(e.EventType.WAITING),n=this._videoElement.currentTime-this._seekRangeStart,r=this.isAdaptiveBitrateEnabled(),i=this._videoElement.paused,t.next=7,this.detachMediaSource();case 7:return this._isStaticLive=!0,this._isLive=!0,this.attachMediaSource(),t.next=12,this.load();case 12:this._videoElement.currentTime=n,i||this._videoElement.play(),r?this._onAdaptation():this._selectedVideoTrack&&this.selectVideoTrack(this._selectedVideoTrack);case 15:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"_setLowLatencyMode",value:function(){this._shaka.configure({streaming:{lowLatencyMode:"boolean"==typeof this._config.lowLatencyMode?this._config.lowLatencyMode:this.isLive()}})}},{key:"_parseManifest",value:function(e){!this._manifestParser&&Y.isValid()&&(m._logger.debug("Creating parser for the first time"),this._manifestParser=new Y(e),this._manifestParser.parseManifest())}},{key:"load",value:(i=s(E().mark((function t(n){var r=this;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._loadPromise){t.next=5;break}return t.next=3,this._removeMediaKeys();case 3:this._shaka.attach(this._videoElement),this._loadPromise=new Promise((function(t,i){if(r._sourceObj&&r._sourceObj.url){r._trigger(e.EventType.ABR_MODE_CHANGED,{mode:r.isAdaptiveBitrateEnabled()?"auto":"manual"});var a="number"==typeof n&&n>-1?n:void 0;a=isNaN(r._lastTimeDetach)?a:r._lastTimeDetach,r._lastTimeDetach=NaN,r._maybeGetRedirectedUrl(r._sourceObj.url).then((function(e){return r._shaka.load(e,a)})).then((function(){var e={tracks:r._getParsedTracks()};r._maybeCapLevelToPlayerSize(),m._logger.debug("The source has been loaded successfully"),t(e)})).catch((function(t){i(new e.Error(r._isDestroyInProgress?e.Error.Severity.RECOVERABLE:t.severity,t.category,t.code,t.data))}))}}));case 5:return t.abrupt("return",this._loadPromise);case 6:case"end":return t.stop()}}),t,this)}))),function(e){return i.apply(this,arguments)})},{key:"destroy",value:function(){var e=this;return this._isDestroyInProgress=!0,new Promise((function(t,n){y(h(m.prototype),"destroy",e).call(e).then((function(){m._logger.debug("destroy"),e._loadPromise=void 0,e._adapterEventsBindings={},e._reset().then((function(n){e._isDestroyInProgress=!1,t(n)})).catch((function(t){e._isDestroyInProgress=!1,n(t)}))}))}))}},{key:"getThumbnail",value:function(e){return this._thumbnailController?this._thumbnailController.getThumbnail(e):null}},{key:"_reset",value:function(){return this._buffering=!1,this._waitingSent=!1,this._playingSent=!1,this._isLive=!1,this._isStaticLive=!1,this._requestFilterError=!1,this._responseFilterError=!1,this._manifestParser=null,this._thumbnailController=null,this._errorCounter={},this._clearStallInterval(),this._clearVideoUpdateTimer(),clearTimeout(this._startOverTimeout),this._eventManager&&this._eventManager.removeAll(),this._shaka?this._shaka.destroy():Promise.resolve()}},{key:"_removeMediaKeys",value:(n=s(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._videoElement||!this._videoElement.mediaKeys){e.next=16;break}return e.prev=1,m._logger.debug("Removing mediaKeys from the video element"),e.next=5,this._videoElement.setMediaKeys(null);case 5:m._logger.debug("mediaKeys removed"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),m._logger.warn("mediaKeys not cleared");case 11:return e.prev=11,e.abrupt("return",Promise.resolve());case 14:e.next=17;break;case 16:return e.abrupt("return",Promise.resolve());case 17:case"end":return e.stop()}}),e,this,[[1,8,11,14]])}))),function(){return n.apply(this,arguments)})},{key:"_getVideoTracks",value:function(){var e=this._shaka.getVariantTracks(),t=this._getActiveTrack();return e.filter((function(e){return e.audioId===t.audioId}))}},{key:"_getActiveTrack",value:function(){return this._shaka.getVariantTracks().find((function(e){return e.active}))}},{key:"_getAudioTracks",value:function(){var t=this._shaka.getVariantTracks(),n=this._shaka.getAudioLanguagesAndRoles();return n.forEach((function(n){var r=t.filter((function(e){return e.language===n.language&&(!n.role||!e.audioRoles||e.audioRoles.includes(n.role))})),i=r.map((function(e){return e.id})).join("_"),a=r.some((function(e){return e.active})),o=r.some((function(e){return e.accessibilityPurpose}));n.id=i,n.label=r[0].label,n.active=a,n.kind=o?e.AudioTrackKind.DESCRIPTION:e.AudioTrackKind.MAIN})),n}},{key:"_getParsedTracks",value:function(){if(this._shaka){var e=this._getParsedVideoTracks(),t=this._getParsedAudioTracks(),n=this._getParsedTextTracks(),i=this._getParsedImageTracks();return[].concat(r(e),r(t),r(n),r(i))}return[]}},{key:"_getParsedVideoTracks",value:function(){var t=this._getVideoTracks(),n=[];if(t)for(var r=0;r<t.length;r++){var i={id:t[r].id,bandwidth:t[r].videoBandwidth||t[r].bandwidth,width:t[r].width,height:t[r].height,active:t[r].active,index:r};n.push(new e.VideoTrack(i))}return n}},{key:"_getParsedAudioTracks",value:function(){var t=this._getAudioTracks(),n=[];if(t)for(var r=0;r<t.length;r++){var i={id:t[r].id,active:t[r].active,label:t[r].label,language:t[r].language,index:r,kind:t[r].kind};n.push(new e.AudioTrack(i))}return n}},{key:"_getParsedTextTracks",value:function(){var t,n=[],r=X(this._shaka.getTextTracks());try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i.kind?i.kind+"s":"";a=""===a&&this._config.useShakaTextTrackDisplay?"captions":a;var o={id:i.id,kind:a,active:!1,default:i.primary,label:i.label,language:i.language};n.push(new e.TextTrack(o))}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"_getParsedImageTracks",value:function(){var e,t,n=null===(e=this._manifestParser)||void 0===e?void 0:e.getImageSet(),r=(null===(t=this._manifestParser)||void 0===t?void 0:t.getBaseUrl())||"";return n?(this._thumbnailController=new Z(n,this._playbackActualUri,r),this._thumbnailController.getTracks()):[]}},{key:"selectVideoTrack",value:function(t){if(this._shaka){var n=this._getVideoTracks();if(t instanceof e.VideoTrack&&n){var r=n[t.index];r&&(this.isAdaptiveBitrateEnabled()&&(this._shaka.configure({abr:{enabled:!1}}),this._trigger(e.EventType.ABR_MODE_CHANGED,{mode:"manual"})),r.active||(this._selectedVideoTrack=t,this._shaka.selectVariantTrack(n[t.index],!0),this._onTrackChanged(t)))}}}},{key:"selectAudioTrack",value:function(t){this._shaka&&t instanceof e.AudioTrack&&!t.active&&(this._shaka.selectAudioLanguage(t.language),this._onTrackChanged(t))}},{key:"selectTextTrack",value:function(t){this._shaka&&t instanceof e.TextTrack&&!t.active&&("subtitles"===t.kind||"captions"===t.kind)&&(this._shaka.setTextTrackVisibility(this._config.textTrackVisibile),this._shaka.selectTextLanguage(t.language),this._onTrackChanged(t))}},{key:"selectImageTrack",value:function(t){this._shaka&&this._thumbnailController&&t instanceof e.ImageTrack&&!t.active&&(this._thumbnailController.selectTrack(t),this._onTrackChanged(t))}},{key:"hideTextTrack",value:function(){this._shaka&&this._shaka.setTextTrackVisibility(!1)}},{key:"enableAdaptiveBitrate",value:function(){this._shaka&&!this.isAdaptiveBitrateEnabled()&&(this._trigger(e.EventType.ABR_MODE_CHANGED,{mode:"auto"}),this._shaka.configure({abr:{enabled:!0}}))}},{key:"isAdaptiveBitrateEnabled",value:function(){return!!this._shaka&&this._shaka.getConfiguration().abr.enabled}},{key:"applyABRRestriction",value:function(t){if(e.Utils.Object.createPropertyPath(this._config,"abr.restrictions",t),this._maybeApplyAbrRestrictions(),!this.isAdaptiveBitrateEnabled()){var n=this._getParsedVideoTracks(),r=(0,e.filterTracksByRestriction)(n,this._config.abr.restrictions);r.length&&(r.find((function(e){return e.active}))||this.selectVideoTrack(r[0]))}}},{key:"_getLiveEdge",value:function(){return this._shaka?this._shaka.seekRange().end:NaN}},{key:"seekToLiveEdge",value:function(){this._shaka&&this._videoElement.readyState>0&&(this._videoElement.currentTime=this._getLiveEdge())}},{key:"isLive",value:function(){var e;return(null===(e=this._shaka)||void 0===e?void 0:e.isLive())||this._isLive}},{key:"liveDuration",get:function(){return this._getLiveEdge()}},{key:"getSegmentDuration",value:function(){return this._shaka?this._shaka.getStats().maxSegmentDuration:0}},{key:"_onAdaptation",value:function(){var e=this._getParsedVideoTracks().find((function(e){return e.active}));this._onTrackChanged(e)}},{key:"_onError",value:function(t){if(t&&t.detail){var n=t.detail;if(n.code===this.VIDEO_ERROR_CODE)return;(this._requestFilterError||this._responseFilterError)&&n.data[0]instanceof _().util.Error&&(n=n.data[0],this._requestFilterError?this._requestFilterError=!1:this._responseFilterError=!1),n.severity=this._shouldErrorChangeSeverity(n.code)?e.Error.Severity.CRITICAL:n.severity,this._trigger(e.EventType.ERROR,new e.Error(n.severity,n.category,n.code,n.data)),m._logger.error(n),n.severity===e.Error.Severity.CRITICAL&&this.destroy()}}},{key:"_shouldErrorChangeSeverity",value:function(e){var t=function(){return Date.now()/1e3};return e in this._errorCounter?(this._errorCounter[e].count+=1,this._errorCounter[e].count>3?(delete this._errorCounter[e],!0):t()-this._errorCounter[e].timeStamp>30&&(this._errorCounter[e].timeStamp=t(),this._errorCounter[e].count=1,!1)):(this._errorCounter[e]={count:1,timeStamp:t()},!1)}},{key:"_onBuffering",value:function(t){t.buffering?this._waitingSent||(this._dispatchNativeEvent(e.EventType.WAITING),this._buffering=!0):(this._buffering=!1,this._videoElement.paused||this._playingSent||this._dispatchNativeEvent(e.EventType.PLAYING))}},{key:"_dispatchNativeEvent",value:function(e){var t;"function"==typeof window.Event?t=new Event(e):(t=document.createEvent("Event")).initEvent(e,!0,!0),this._videoElement.dispatchEvent(t)}},{key:"_onDrmSessionUpdate",value:function(){var t;this._trigger(e.EventType.DRM_LICENSE_LOADED,{licenseTime:this._shaka.getStats().licenseTime,scheme:null===(t=this._shaka.drmInfo())||void 0===t?void 0:t.keySystem})}},{key:"_onEmsg",value:function(t){var n=t.detail,r=t.type,i=Array.from(this._videoElement.textTracks).find((function(e){return e.label===r}));i||(i=this._videoElement.addTextTrack(e.TextTrack.KIND.METADATA,r));var a=n.startTime,o=n.endTime,s=n.id,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,q),u=new e.TimedMetadata(a,o,s,e.TimedMetadata.TYPE.EMSG,l),c=(0,e.createTextTrackCue)(u);i.addCue(c),this._trigger(e.EventType.TIMED_METADATA_ADDED,{cues:[u]})}},{key:"_onWaiting",value:function(){this._waitingSent=!0,this._playingSent=!1}},{key:"_onPlaying",value:function(){this._playingSent=!0,this._waitingSent=!1,this._buffering&&this._dispatchNativeEvent(e.EventType.WAITING)}},{key:"getStartTimeOfDvrWindow",value:function(){return this.isLive()&&this._shaka?(this._isStartOver?this._seekRangeStart:this._shaka.seekRange().start)+this._shaka.getConfiguration().streaming.safeSeekOffset:0}},{key:"targetBuffer",get:function(){var e=NaN;return this._shaka?(e=this.isLive()?this._getLiveEdge()-this._videoElement.currentTime:this._videoElement.duration-this._videoElement.currentTime,e=Math.min(e,this._shaka.getConfiguration().streaming.bufferingGoal+this._shaka.getStats().maxSegmentDuration)):NaN}},{key:"getDrmInfo",value:function(){var e=this._shaka.drmInfo();if(e){var t=e.licenseServerUri,n=e.keySystem,r=e.serverCertificateUri,i={licenseUrl:t,scheme:n};return r&&(i.certificate=r),i}return null}}],[{key:"createAdapter",value:function(t,n,r){var i=e.Utils.Object.copyDeep(w);if(e.Utils.Object.hasPropertyPath(r,"text.useNativeTextTrack")&&(i.textTrackVisibile=e.Utils.Object.getPropertyPath(r,"text.useNativeTextTrack")),e.Utils.Object.hasPropertyPath(r,"text.useShakaTextTrackDisplay")&&(i.useShakaTextTrackDisplay=e.Utils.Object.getPropertyPath(r,"text.useShakaTextTrackDisplay"),i.textTrackVisibile=i.textTrackVisibile||i.useShakaTextTrackDisplay),e.Utils.Object.hasPropertyPath(r,"streaming")){var a=r.streaming;"boolean"==typeof a.forceBreakStall&&(i.forceBreakStall=a.forceBreakStall),"number"==typeof a.stallDetectionThreshold&&(i.stallDetectionThreshold=Math.max(2,a.stallDetectionThreshold)),"boolean"==typeof a.lowLatencyMode&&(i.lowLatencyMode=a.lowLatencyMode),"boolean"==typeof a.trackEmsgEvents&&(i.trackEmsgEvents=a.trackEmsgEvents),"boolean"==typeof a.switchDynamicToStatic&&(i.switchDynamicToStatic=a.switchDynamicToStatic)}if(e.Utils.Object.hasPropertyPath(r,"sources.options")){var o=r.sources.options;i.forceRedirectExternalStreams=o.forceRedirectExternalStreams,i.redirectExternalStreamsHandler=o.redirectExternalStreamsHandler,i.redirectExternalStreamsTimeout=o.redirectExternalStreamsTimeout}if(e.Utils.Object.hasPropertyPath(r,"abr")){var s=r.abr;"boolean"==typeof s.enabled&&(i.shakaConfig.abr.enabled=s.enabled),"boolean"==typeof s.capLevelToPlayerSize&&(i.capLevelToPlayerSize=s.capLevelToPlayerSize),s.defaultBandwidthEstimate&&(i.shakaConfig.abr.defaultBandwidthEstimate=s.defaultBandwidthEstimate),s.restrictions&&e.Utils.Object.createPropertyPath(i,"abr.restrictions",s.restrictions)}return e.Utils.Object.hasPropertyPath(r,"playback.options.html5.dash")&&(e.Utils.Object.mergeDeep(i.shakaConfig,r.playback.options.html5.dash),e.Utils.Object.hasPropertyPath(i.shakaConfig,"manifest.dash.defaultPresentationDelay")&&(i.shakaConfig.manifest.defaultPresentationDelay=i.shakaConfig.manifest.dash.defaultPresentationDelay,delete i.shakaConfig.manifest.dash.defaultPresentationDelay)),i.network=r.network,new this(t,n,i)}},{key:"canPlayType",value:function(e){var t="string"==typeof e&&e.toLowerCase()===m._dashMimeType&&m.isMSESupported();return m._logger.debug("canPlayType result for mimeType: "+e+" is "+t.toString()),t}},{key:"canPlayDrm",value:function(e,t){m._availableDrmProtocol=[];var n,r=X(m._drmProtocols);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.isConfigured(e,t)){m._availableDrmProtocol.push(i);break}}}catch(e){r.e(e)}finally{r.f()}if(!m._availableDrmProtocol.length){var a,o=X(m._drmProtocols);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.canPlayDrm(e)&&m._availableDrmProtocol.push(s)}}catch(e){o.e(e)}finally{o.f()}}return!!m._availableDrmProtocol.length}},{key:"isSupported",value:function(){var e=_().Player.isBrowserSupported();return m._logger.debug("isSupported:"+e),e}}]),m}(e.BaseMediaSourceAdapter);W=re,v(re,"id","DashAdapter"),v(re,"_logger",e.BaseMediaSourceAdapter.getLogger(W.id)),v(re,"textContainerClass","shaka-text-container"),v(re,"_dashMimeType","application/dash+xml"),v(re,"_drmProtocols",[A,S]),v(re,"_availableDrmProtocol",[]);var ie="1.39.1",ae="@playkit-js/playkit-js-dash",oe=re;re.isSupported()&&(0,e.registerMediaSourceAdapter)(re)}(),a}())},305:(module,e,t)=>{var n,r;self,module.exports=(n=t(109),r=t(718),function(){"use strict";var e={230:function(e){e.exports=n},85:function(e){e.exports=r}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,i),a.exports}i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return function(){i.r(a),i.d(a,{NAME:function(){return P},VERSION:function(){return x},default:function(){return R}});var e=i(230);function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===s(t)?t:String(t)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},f.apply(this,arguments)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function g(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function v(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m,b,k=i(85),E=i.n(k),T=JSON.parse('{"recoverDecodingErrorDelay":3000,"recoverSwapAudioCodecDelay":3000,"abr":{"enabled":true,"restrictions":{}},"hlsConfig":{"fragLoadingMaxRetry":4,"maxMaxBufferLength":60,"stretchShortVideoTrack":true},"network":{}}'),_=(v(v(v(v(v(v(v(v(v(v(m={},E().ErrorDetails.MANIFEST_LOAD_ERROR,{category:e.Error.Category.MANIFEST,code:e.Error.Code.HTTP_ERROR}),E().ErrorDetails.MANIFEST_LOAD_TIMEOUT,{category:e.Error.Category.MANIFEST,code:e.Error.Code.TIMEOUT}),E().ErrorDetails.MANIFEST_PARSING_ERROR,{category:e.Error.Category.MANIFEST,code:e.Error.Code.HLSJS_CANNOT_PARSE}),E().ErrorDetails.LEVEL_LOAD_ERROR,{category:e.Error.Category.NETWORK,code:e.Error.Code.HTTP_ERROR}),E().ErrorDetails.LEVEL_LOAD_TIMEOUT,{category:e.Error.Category.NETWORK,code:e.Error.Code.TIMEOUT}),E().ErrorDetails.LEVEL_SWITCH_ERROR,{category:e.Error.Category.PLAYER,code:e.Error.Code.BITRATE_SWITCH_ISSUE}),E().ErrorDetails.FRAG_LOAD_ERROR,{category:e.Error.Category.NETWORK,code:e.Error.Code.HTTP_ERROR}),E().ErrorDetails.FRAG_LOAD_TIMEOUT,{category:e.Error.Category.NETWORK,code:e.Error.Code.TIMEOUT}),E().ErrorDetails.FRAG_PARSING_ERROR,{category:e.Error.Category.MEDIA,code:e.Error.Code.HLS_FRAG_PARSING_ERROR}),E().ErrorDetails.BUFFER_APPEND_ERROR,{category:e.Error.Category.MEDIA,code:e.Error.Code.HLS_BUFFER_APPEND_ISSUE}),v(v(m,E().ErrorDetails.BUFFER_APPENDING_ERROR,{category:e.Error.Category.MEDIA,code:e.Error.Code.HLS_BUFFER_APPENDING_ISSUE}),E().ErrorDetails.BUFFER_STALLED_ERROR,{category:e.Error.Category.MEDIA,code:e.Error.Code.HLS_BUFFER_STALLED_ERROR})),A=function(e){y(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p(t);if(n){var i=p(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return g(this,e)});function i(e){var t;return o(this,i),t=r.call(this,e),e&&e.readystatechange&&(t.readystatechange=e.readystatechange),t}return c(i,[{key:"loadInternal",value:function(){var e,t=this,n=this.context;e=this.loader=new XMLHttpRequest;var r=this.stats;r.tfirst=0,r.loaded=0;var i,a=this.xhrSetup;try{if(a)try{i=a(e,n.url,n)}catch(t){e.open("GET",n.url,!0),i=a(e,n.url,n)}e.readyState||e.open("GET",n.url,!0)}catch(e){i=Promise.reject(e)}(i=i||Promise.resolve()).then((function(){n.rangeEnd&&e.setRequestHeader("Range","bytes="+n.rangeStart+"-"+(n.rangeEnd-1)),e.onreadystatechange=t.readystatechange.bind(t),e.onprogress=t.loadprogress.bind(t),e.responseType=n.responseType,t.requestTimeout=window.setTimeout(t.loadtimeout.bind(t),t.config.timeout),e.send()})).catch((function(r){t.callbacks.onError({code:e.status,text:r.message},n,e)}))}}]),i}(E().DefaultConfig.loader),S=function(t){y(a,t);var n,r,i=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(n);if(r){var i=p(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return g(this,e)});function a(t){var n;o(this,a);var r=(n=i.call(this,t)).load.bind(d(n)),s=a.redirectExternalStreamsHandler;return n.load=function(t,n,i){var o=t.url;"manifest"===t.type?e.Utils.Http.jsonp(o,s,{timeout:a.redirectExternalStreamsTimeout}).then((function(e){t.url=e,r(t,n,i)})).catch((function(){return r(t,n,i)})):r(t,n,i)},n}return c(a)}(A);function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}v(S,"redirectExternalStreamsHandler",(function(e,t){return t}));var C=function(i){y(u,i);var a,s,l=(a=u,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(a);if(s){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function u(t,n,r){var i;return o(this,u),v(d(i=l.call(this,t,n,r)),"_hlsjsLib",E()),v(d(i),"_triedReloadWithRedirect",!1),v(d(i),"_playerTracks",[]),v(d(i),"_startTime",0),v(d(i),"_requestFilterError",!1),v(d(i),"_responseFilterError",!1),v(d(i),"_nativeTextTracksMap",{}),v(d(i),"_lastLoadedFragSN",-1),v(d(i),"_sameFragSNLoadedCount",0),v(d(i),"_waitForSubtitleLoad",!0),v(d(i),"_adapterEventsBindings",v(v(v(v(v(v(v(v(v({},E().Events.ERROR,(function(e,t){return i._onError(t)})),E().Events.MANIFEST_LOADED,(function(e,t){return i._onManifestLoaded(t)})),E().Events.LEVEL_SWITCHED,(function(e,t){return i._onLevelSwitched(e,t)})),E().Events.AUDIO_TRACK_SWITCHED,(function(e,t){return i._onAudioTrackSwitched(e,t)})),E().Events.FPS_DROP,(function(e,t){return i._onFpsDrop(t)})),E().Events.FRAG_PARSING_METADATA,(function(e,t){return i._onFragParsingMetadata(t)})),E().Events.FRAG_LOADED,(function(e,t){return i._onFragLoaded(t)})),E().Events.MEDIA_ATTACHED,(function(){return i._onMediaAttached()})),E().Events.LEVEL_LOADED,(function(e,t){return i._onLevelLoaded(e,t)}))),v(d(i),"_onLevelLoaded",(function(t,n){if(i.isLive()){var r=n.details.endSN;if(i._lastLoadedFragSN===r){if(i._sameFragSNLoadedCount++,u._logger.debug("Same frag SN. Count is: ".concat(i._sameFragSNLoadedCount,", Max is: ").concat(i._config.network.maxStaleLevelReloads)),i._sameFragSNLoadedCount>=i._config.network.maxStaleLevelReloads){u._logger.error("Same frag loading reached max count");var a=new e.Error(e.Error.Severity.CRITICAL,e.Error.Category.NETWORK,e.Error.Code.LIVE_MANIFEST_REFRESH_ERROR,{fragSN:r});return i._trigger(e.EventType.ERROR,a),i.destroy()}u._logger.debug("Last frag SN is: ".concat(r))}else i._sameFragSNLoadedCount=0;i._lastLoadedFragSN=r}})),u._logger.debug("Creating adapter. Hls version: "+E().version),i._config=e.Utils.Object.mergeDeep({},T,i._config),i._init(),i}return c(u,[{key:"_init",value:function(){this._config.forceRedirectExternalStreams&&(this._config.hlsConfig.pLoader=S),this._maybeSetFilters(),this._hls=new(E())(this._config.hlsConfig),this._capabilities.fpsControl=!0,this._hls.subtitleDisplay=this._config.subtitleDisplay,this._addBindings()}},{key:"_maybeSetFilters",value:function(){var r=this;if("function"==typeof e.Utils.Object.getPropertyPath(this._config,"network.requestFilter")&&(u._logger.debug("Register request filter"),e.Utils.Object.mergeDeep(this._config.hlsConfig,{loader:A,xhrSetup:function(i,a,o){var s,l={url:a,body:null,headers:{}};try{"manifest"===o.type&&(s=r._config.network.requestFilter(e.RequestType.MANIFEST,l)),o.frag&&"subtitle"!==o.frag.type&&(s=r._config.network.requestFilter(e.RequestType.SEGMENT,l))}catch(e){s=Promise.reject(e)}return(s=s||Promise.resolve(l)).then((function(e){o.url=e.url,i.open("GET",e.url,!0),Object.entries(e.headers).forEach((function(e){var r;i.setRequestHeader.apply(i,function(e){if(Array.isArray(e))return t(e)}(r=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||n(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())})),"boolean"==typeof e.withCredentials&&(i.withCredentials=e.withCredentials)})).catch((function(e){throw r._requestFilterError=!0,e}))}})),"function"==typeof e.Utils.Object.getPropertyPath(this._config,"network.responseFilter")){var i=this;u._logger.debug("Register response filter"),e.Utils.Object.mergeDeep(this._config.hlsConfig,{loader:A,readystatechange:function(t){var n=this,r=t.currentTarget,a=r.readyState,o=this.stats,s=this.context,l=this.config;if(!o.aborted&&a>=2){window.clearTimeout(this.requestTimeout);var c=o.loading;if(0===c.first&&(c.first=Math.max(performance.now(),c.start)),4===a){var d=r.status;if(d>=200&&d<300){var p,f;c.end=Math.max(o.tfirst,performance.now()),f="arraybuffer"===s.responseType?(p=r.response).byteLength:(p=r.responseText).length,o.loaded=o.total=f;var h,y={url:r.responseURL,originalUrl:s.url,data:p,headers:e.Utils.Http.convertHeadersToDictionary(r.getAllResponseHeaders())};try{"manifest"===s.type&&(h=i._config.network.responseFilter(e.RequestType.MANIFEST,y)),s.frag&&"subtitle"!==s.frag.type&&(h=i._config.network.responseFilter(e.RequestType.SEGMENT,y))}catch(e){h=Promise.reject(e)}return(h=h||Promise.resolve(y)).then((function(e){n.callbacks.onSuccess(e,o,s,r)})).catch((function(e){i._responseFilterError=!0,n.callbacks.onError({code:d,text:e.message},s,r)}))}o.retry>=l.maxRetry||d>=400&&d<499?(u._logger.error("".concat(d," while loading ").concat(s.url)),this.callbacks.onError({code:d,text:r.statusText},s,r)):(u._logger.warn("".concat(d," while loading ").concat(s.url,", retrying in ").concat(this.retryDelay,"...")),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,l.maxRetryDelay),o.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),l.timeout)}}})}}},{key:"_addBindings",value:function(){var e=this;this._mediaAttachedPromise=new Promise((function(t){return e._onMediaAttached=t}));for(var t=0,n=Object.entries(this._adapterEventsBindings);t<n.length;t++){var i=r(n[t],2),a=i[0],o=i[1];this._hls.on(a,o)}this._onRecoveredCallback=function(){return e._onRecovered()},this._onAddTrack=this._onAddTrack.bind(this),this._eventManager.listen(this._videoElement,"addtrack",this._onAddTrack),this._videoElement.textTracks.onaddtrack=this._onAddTrack}},{key:"_onFpsDrop",value:function(t){this._trigger(e.EventType.FPS_DROP,t)}},{key:"_onFragParsingMetadata",value:function(t){var n;this._trigger("hlsFragParsingMetadata",t);var r=Array.from(null===(n=this._videoElement)||void 0===n?void 0:n.textTracks).find((function(e){return"id3"===e.label})),i=Array.from((null==r?void 0:r.cues)||[]),a=[];null==t||t.samples.forEach((function(t){var n=e.Utils.binarySearch(i,(function(e){return e.startTime-t.pts}));if(n){var r=(0,e.createTimedMetadata)(n);a.push(r)}})),a.length&&this._trigger(e.EventType.TIMED_METADATA_ADDED,{cues:a})}},{key:"_onAddTrack",value:function(t){if(!this._hls.subtitleTracks.length){var n=this._parseCEATextTrack(t.track);n&&(u._logger.debug("A CEA 608/708 caption has been found",n),this._playerTracks.push(n),this._trigger(e.EventType.TRACKS_CHANGED,{tracks:this._playerTracks}))}}},{key:"attachMediaSource",value:function(){this._hls||(this._videoElement&&this._videoElement.src&&(e.Utils.Dom.setAttribute(this._videoElement,"src",""),e.Utils.Dom.removeAttribute(this._videoElement,"src")),this._init())}},{key:"detachMediaSource",value:function(){var t;this._hls&&(0===Math.floor(this.duration-this.currentTime)?this._config.hlsConfig.startPosition=0:this.currentTime>0&&(this._config.hlsConfig.startPosition=this.currentTime),this._reset(),null===(t=this._loadPromiseHandlers)||void 0===t||t.reject(new e.Error(e.Error.Severity.CRITICAL,e.Error.Category.PLAYER,e.Error.Code.HLS_FATAL_MEDIA_ERROR,"media detached while loading")),this._loadPromiseHandlers=null,this._loadPromise=void 0,this._hls=null)}},{key:"handleMediaError",value:function(e){return e.code===e.MEDIA_ERR_DECODE&&(u._logger.debug("The video playback was aborted due to a corruption problem or because the video used features your browser did not support.",e.message),this._handleMediaError(E().ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR))}},{key:"load",value:function(e){var t=this;return this._loadPromise||(this._startTime=e,this._loadPromise=new Promise((function(e,n){t._loadPromiseHandlers={resolve:e,reject:n},t._loadInternal()}))),this._loadPromise}},{key:"_loadInternal",value:function(){var t;this._hls&&this._sourceObj&&this._sourceObj.url?(this._hls.loadSource(this._sourceObj.url),this._hls.attachMedia(this._videoElement),this._trigger(e.EventType.ABR_MODE_CHANGED,{mode:this.isAdaptiveBitrateEnabled()?"auto":"manual"})):null===(t=this._loadPromiseHandlers)||void 0===t||t.reject(new e.Error(e.Error.Severity.CRITICAL,e.Error.Category.PLAYER,e.Error.Code.HLS_FATAL_MEDIA_ERROR,"no url provided"))}},{key:"_reloadWithDirectManifest",value:function(){this._triedReloadWithRedirect=!0,this._reset(),this._config.hlsConfig.pLoader=S,this._hls=new(E())(this._config.hlsConfig),this._addBindings(),this._loadInternal()}},{key:"destroy",value:function(){var t=this;return new Promise((function(n,r){f(p(u.prototype),"destroy",t).call(t).then((function(){var r;u._logger.debug("destroy"),t._playerTracks=[],t._nativeTextTracksMap={},t._sameFragSNLoadedCount=0,t._lastLoadedFragSN=-1,null===(r=t._loadPromiseHandlers)||void 0===r||r.reject(new e.Error(e.Error.Severity.CRITICAL,e.Error.Category.PLAYER,e.Error.Code.HLS_FATAL_MEDIA_ERROR,"The adapter has been destroyed while loading")),t._loadPromiseHandlers=null,t._loadPromise=void 0,t._reset(),n()}),(function(){return r()}))}))}},{key:"_reset",value:function(){this._removeBindings(),this._requestFilterError=!1,this._responseFilterError=!1,this._hls.detachMedia(),this._hls.destroy()}},{key:"_parseTracks",value:function(){var e=this._parseAudioTracks(this._hls.audioTracks||[]),t=this._parseVideoTracks(this._hls.levels||[]),n=this._parseTextTracks(this._hls.subtitleTracks||[]);return e.concat(t).concat(n)}},{key:"_parseAudioTracks",value:function(t){for(var n=[],r=0;r<t.length;r++){var i={id:t[r].id,active:this._hls.audioTrack===t[r].id,label:t[r].name,language:t[r].lang,index:r,kind:t[r].characteristics?e.AudioTrackKind.DESCRIPTION:e.AudioTrackKind.MAIN};n.push(new e.AudioTrack(i))}return n}},{key:"_parseVideoTracks",value:function(t){for(var n=[],r=0;r<t.length;r++){var i={active:this._hls.startLevel===r,bandwidth:t[r].bitrate,width:t[r].width,height:t[r].height,language:"",index:r};n.push(new e.VideoTrack(i))}return n}},{key:"_parseTextTracks",value:function(t){var n,r=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(t);try{for(i.s();!(n=i.n()).done;){var a=n.value,o={id:a.id,active:!1,default:a.default,label:a.name,kind:this._captionsOrSubtitlesFromCharacteristics(a),language:a.lang};r.push(new e.TextTrack(o))}}catch(e){i.e(e)}finally{i.f()}return r}},{key:"_captionsOrSubtitlesFromCharacteristics",value:function(t){var n=t.characteristics;return n&&/transcribes-spoken-dialog/gi.test(n)&&/describes-music-and-sound/gi.test(n)?e.TextTrack.KIND.CAPTIONS:e.TextTrack.KIND.SUBTITLES}},{key:"_parseCEATextTrack",value:function(t){var n=null;if("captions"===t.kind){var r={id:t.id,active:"showing"===t.mode,label:t.label,kind:t.kind,language:t.language};n=new e.TextTrack(r),this._nativeTextTracksMap[n.index]=t}return n}},{key:"selectAudioTrack",value:function(t){t instanceof e.AudioTrack&&!t.active&&this._hls.audioTracks&&(this._hls.audioTrack=t.id)}},{key:"selectVideoTrack",value:function(t){t instanceof e.VideoTrack&&(!t.active||this.isAdaptiveBitrateEnabled())&&this._hls.levels&&(this.isAdaptiveBitrateEnabled()&&this._trigger(e.EventType.ABR_MODE_CHANGED,{mode:"manual"}),this._hls.currentLevel=t.index)}},{key:"selectTextTrack",value:function(t){t instanceof e.TextTrack&&!t.active&&this._hls&&(this._hls.subtitleTracks.length?(this._hls.subtitleTrack=t.id,this._notifyTrackChanged(t)):this._selectNativeTextTrack(t))}},{key:"_selectNativeTextTrack",value:function(e){var t=this._nativeTextTracksMap[e.index];t&&(this.disableNativeTextTracks(),t.mode=this._config.subtitleDisplay?"showing":"hidden",this._notifyTrackChanged(e))}},{key:"_notifyTrackChanged",value:function(e){this._onTrackChanged(e)}},{key:"hideTextTrack",value:function(){this._hls&&!this._hls.subtitleTracks.length&&this.disableNativeTextTracks()}},{key:"enableAdaptiveBitrate",value:function(){this.isAdaptiveBitrateEnabled()||(this._trigger(e.EventType.ABR_MODE_CHANGED,{mode:"auto"}),this._hls.nextLevel=-1)}},{key:"isAdaptiveBitrateEnabled",value:function(){return!!this._hls&&this._hls.autoLevelEnabled}},{key:"applyABRRestriction",value:function(t){e.Utils.Object.createPropertyPath(this._config,"abr.restrictions",t),this._hls.capLevelToPlayerSize||this._maybeApplyAbrRestrictions(t)}},{key:"_getLevelDetails",value:function(){var e=this._hls.levels[this._hls.currentLevel]||this._hls.levels[this._hls.nextLevel]||this._hls.levels[this._hls.nextAutoLevel]||this._hls.levels[this._hls.nextLoadLevel];return e&&e.details?e.details:{}}},{key:"_getLiveEdge",value:function(){try{var e;return(e=this._hls.liveSyncPosition?this._hls.liveSyncPosition:this._hls.config.liveSyncDuration?this._videoElement.duration-this._hls.config.liveSyncDuration:this._videoElement.duration-this._hls.config.liveSyncDurationCount*this._getLevelDetails().targetduration)>0?e:this._videoElement.duration}catch(e){return u._logger.debug("Live edge calculation failed, fall back to duration"),this._videoElement.duration}}},{key:"seekToLiveEdge",value:function(){try{this._videoElement.currentTime=this._getLiveEdge()}catch(e){return}}},{key:"getSegmentDuration",value:function(){var t=e.Utils.Object.getPropertyPath(this._hls,"streamController.fragCurrent");return t?t.duration:0}},{key:"liveDuration",get:function(){return this._getLiveEdge()+this.getSegmentDuration()}},{key:"isLive",value:function(){try{return!!this._getLevelDetails().live}catch(e){return!1}}},{key:"_onManifestLoaded",value:function(t){var n=this;u._logger.debug("The source has been loaded successfully"),this._hls.config.autoStartLoad||this._hls.startLoad(this._startTime),this._playerTracks=this._parseTracks(),this._config.abr.enabled||(this._hls.currentLevel=0),this._mediaAttachedPromise.then((function(){var e;null===(e=n._loadPromiseHandlers)||void 0===e||e.resolve({tracks:n._playerTracks}),n._loadPromiseHandlers=null}));var r=t.stats.loading,i=r.end-r.start;this._trigger(e.EventType.MANIFEST_LOADED,{miliSeconds:i})}},{key:"_maybeApplyAbrRestrictions",value:function(t){var n=this._playerTracks.filter((function(t){return t instanceof e.VideoTrack})),r=(0,e.filterTracksByRestriction)(n,t);if(r.length){var i=r[0],a=r.pop();this._hls.config.minAutoBitrate=i.bandwidth,this._hls.autoLevelCapping=a.index;var o=r.some((function(e){return e.active}));this.isAdaptiveBitrateEnabled()||o||this.selectVideoTrack(i)}else u._logger.warn("Invalid restrictions, there are not tracks within the restriction range")}},{key:"_onLevelSwitched",value:function(t,n){var r=this._playerTracks.find((function(t){return t instanceof e.VideoTrack&&t.index===n.level}));this._onTrackChanged(r)}},{key:"_onAudioTrackSwitched",value:function(t,n){var r=this._playerTracks.find((function(t){return t instanceof e.AudioTrack&&t.id===n.id}));this._onTrackChanged(r),this._handleWaitingUponAudioTrackSwitch()}},{key:"_handleWaitingUponAudioTrackSwitch",value:function(){var t=this;["IE","Edge"].includes(e.Env.browser.name)&&this._eventManager.listenOnce(this._videoElement,e.EventType.TIME_UPDATE,(function(){t._trigger(e.EventType.PLAYING)}))}},{key:"_getErrorDataObject",value:function(e){var t={};switch(t.name=e.details,t.name){case E().ErrorDetails.MANIFEST_LOAD_ERROR:case E().ErrorDetails.LEVEL_LOAD_ERROR:case E().ErrorDetails.AUDIO_TRACK_LOAD_ERROR:t.url=e.url,t.responseCode=e.response?e.response.code:null;break;case E().ErrorDetails.MANIFEST_LOAD_TIMEOUT:case E().ErrorDetails.LEVEL_LOAD_TIMEOUT:case E().ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:t.url=e.url;break;case E().ErrorDetails.MANIFEST_PARSING_ERROR:t.url=e.url,t.reason=e.reason;break;case E().ErrorDetails.LEVEL_SWITCH_ERROR:t.level=e.level,t.reason=e.reason;break;case E().ErrorDetails.FRAG_LOAD_ERROR:t.fragUrl=e.frag?e.frag.url:null,t.responseCode=e.response?e.response.code:null;break;case E().ErrorDetails.FRAG_LOAD_TIMEOUT:t.fragUrl=e.frag?e.frag.url:null;break;case E().ErrorDetails.FRAG_DECRYPT_ERROR:case E().ErrorDetails.FRAG_PARSING_ERROR:t.reason=e.reason;break;case E().ErrorDetails.KEY_LOAD_ERROR:t.fragDecryptedDataUri=e.frag&&e.frag.decryptdata?e.frag.decryptdata.uri:null,t.responseCode=e.response?e.response.code:null;break;case E().ErrorDetails.KEY_LOAD_TIMEOUT:t.fragDecryptedDataUri=e.frag&&e.frag.decryptdata?e.frag.decryptdata.uri:null;break;case E().ErrorDetails.BUFFER_ADD_CODEC_ERROR:t.mimeType=e.mimeType,t.errorMsg=e.err?e.err.message:null;break;case E().ErrorDetails.BUFFER_STALLED_ERROR:t.buffer=e.buffer}return(this._requestFilterError||this._responseFilterError)&&(t.reason=e.response.text),t}},{key:"_onError",value:function(t){var n=t.type,r=t.details,i=t.fatal,a=this._getErrorDataObject(t);if(i){var o,s;switch(n){case E().ErrorTypes.NETWORK_ERROR:var l;l=this._requestFilterError?e.Error.Code.REQUEST_FILTER_ERROR:this._responseFilterError?e.Error.Code.RESPONSE_FILTER_ERROR:e.Error.Code.HTTP_ERROR,![E().ErrorDetails.MANIFEST_LOAD_ERROR,E().ErrorDetails.MANIFEST_LOAD_TIMEOUT].includes(r)||this._triedReloadWithRedirect||this._config.forceRedirectExternalStreams||this._requestFilterError||this._responseFilterError?o=new e.Error(e.Error.Severity.CRITICAL,e.Error.Category.NETWORK,l,a):(o=new e.Error(e.Error.Severity.RECOVERABLE,e.Error.Category.NETWORK,l,a),this._reloadWithDirectManifest());break;case E().ErrorTypes.MEDIA_ERROR:o=this._handleMediaError(r)?new e.Error(e.Error.Severity.RECOVERABLE,e.Error.Category.MEDIA,e.Error.Code.HLS_FATAL_MEDIA_ERROR,a):new e.Error(e.Error.Severity.CRITICAL,e.Error.Category.MEDIA,e.Error.Code.HLS_FATAL_MEDIA_ERROR,a);break;default:o=new e.Error(e.Error.Severity.CRITICAL,e.Error.Category.PLAYER,e.Error.Code.HLS_FATAL_MEDIA_ERROR,a)}this._trigger(e.EventType.ERROR,o),o&&o.severity===e.Error.Severity.CRITICAL&&(this._loadPromiseHandlers&&(null===(s=this._loadPromiseHandlers)||void 0===s||s.reject(o),this._loadPromiseHandlers=null,this._loadPromise=void 0),this.destroy())}else{var c=this._requestFilterError||this._responseFilterError?{category:e.Error.Category.NETWORK,code:this._requestFilterError?e.Error.Code.REQUEST_FILTER_ERROR:e.Error.Code.RESPONSE_FILTER_ERROR}:_[r]||{category:0,code:0},d=c.category,p=c.code;u._logger.warn(new e.Error(e.Error.Severity.RECOVERABLE,d,p,a))}this._requestFilterError=!1,this._responseFilterError=!1}},{key:"_handleMediaError",value:function(t){u._logger.error("_handleMediaError mediaErrorName:",t);var n=performance.now(),r=!0;if(t===E().ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR)u._logger.error("recover aborted due to: MANIFEST_INCOMPATIBLE_CODECS_ERROR"),r=!1;else if(this._checkTimeDeltaHasPassed(n,this._recoverDecodingErrorDate,this._config.recoverDecodingErrorDelay)){if(t===E().ErrorDetails.FRAG_PARSING_ERROR)return u._logger.error("Manifest parsing error on "+this._videoElement.currentTime+". Try to recover"),r;this._eventManager.listen(this._videoElement,e.EventType.LOADED_METADATA,this._onRecoveredCallback),u._logger.debug("try to recover using: _recoverDecodingError()"),this._recoverDecodingError()}else this._checkTimeDeltaHasPassed(n,this._recoverSwapAudioCodecDate,this._config.recoverSwapAudioCodecDelay)?(this._eventManager.listen(this._videoElement,e.EventType.LOADED_METADATA,this._onRecoveredCallback),u._logger.debug("try to recover using: _recoverSwapAudioCodec()"),this._recoverSwapAudioCodec()):(u._logger.error("cannot recover, last media error recovery failed error: ",t),r=!1);return r}},{key:"_onRecovered",value:function(){this._trigger(e.EventType.MEDIA_RECOVERED),this._videoElement.removeEventListener(e.EventType.LOADED_METADATA,this._onRecoveredCallback)}},{key:"_checkTimeDeltaHasPassed",value:function(e,t,n){return!t||e-t>n}},{key:"_recoverDecodingError",value:function(){this._recoverDecodingErrorDate=performance.now(),u._logger.warn("try to recover media Error"),this._hls.recoverMediaError()}},{key:"_recoverSwapAudioCodec",value:function(){this._recoverSwapAudioCodecDate=performance.now(),u._logger.warn("try to swap Audio Codec and recover media Error"),this._hls.swapAudioCodec(),this._hls.recoverMediaError()}},{key:"_removeBindings",value:function(){for(var e=0,t=Object.entries(this._adapterEventsBindings);e<t.length;e++){var n=r(t[e],2),i=n[0],a=n[1];this._hls.off(i,a)}this._videoElement.textTracks.onaddtrack=null,this._onRecoveredCallback=null,this._eventManager&&this._eventManager.removeAll()}},{key:"getStartTimeOfDvrWindow",value:function(){if(!this.isLive())return 0;try{var e=this._hls.levels[this._hls.nextLoadLevel].details,t=e.fragments,n=t.length,r=t[0].start+t[0].duration,i=t[n-1].start+t[n-1].duration,a=void 0!==this._hls.config.liveMaxLatencyDuration?this._hls.config.liveMaxLatencyDuration:this._hls.config.liveMaxLatencyDurationCount*e.targetduration;return Math.max(r-this._hls.config.maxFragLookUpTolerance,i-a)}catch(e){return u._logger.debug("Unable obtain the start of DVR window"),0}}},{key:"_onFragLoaded",value:function(t){if(e.Utils.Object.hasPropertyPath(t,"frag.stats.loading")){var n=t.frag.stats,r=n.loading.end-n.loading.start;this._trigger(e.EventType.FRAG_LOADED,{miliSeconds:r,bytes:n.loaded,url:t.frag.url})}}},{key:"targetBuffer",get:function(){var e=NaN;return this._hls?(e=this.isLive()?this._getLiveTargetBuffer()-(this._videoElement.currentTime-this._getLiveEdge()):this._videoElement.duration-this._videoElement.currentTime,e=Math.min(e,this._hls.config.maxMaxBufferLength+this._getLevelDetails().targetduration)):NaN}},{key:"_getLiveTargetBuffer",value:function(){return this._hls.config.liveSyncDuration?this._hls.config.liveSyncDuration:this._hls.config.liveSyncDurationCount*this._getLevelDetails().targetduration}}],[{key:"createAdapter",value:function(t,n,r){var i=e.Utils.Object.copyDeep(T);if(e.Utils.Object.hasPropertyPath(r,"sources.options")){var a=r.sources.options;i.forceRedirectExternalStreams=a.forceRedirectExternalStreams,i.redirectExternalStreamsHandler=a.redirectExternalStreamsHandler,i.redirectExternalStreamsTimeout=a.redirectExternalStreamsTimeout,S.redirectExternalStreamsHandler=i.redirectExternalStreamsHandler,S.redirectExternalStreamsTimeout=i.redirectExternalStreamsTimeout}if(e.Utils.Object.hasPropertyPath(r,"sources.startTime")&&e.Utils.Object.getPropertyPath(r,"sources.startTime")>-1&&(i.hlsConfig.startPosition=r.sources.startTime),e.Utils.Object.hasPropertyPath(r,"text.useNativeTextTrack")&&(i.subtitleDisplay=e.Utils.Object.getPropertyPath(r,"text.useNativeTextTrack")),e.Utils.Object.hasPropertyPath(r,"abr.fpsDroppedFramesInterval")&&(i.hlsConfig.fpsDroppedFramesInterval=r.abr.fpsDroppedFramesInterval),e.Utils.Object.hasPropertyPath(r,"abr.fpsDroppedMonitoringThreshold")&&(i.hlsConfig.fpsDroppedMonitoringThreshold=r.abr.fpsDroppedMonitoringThreshold),e.Utils.Object.hasPropertyPath(r,"abr.capLevelOnFPSDrop")&&(u._logger.debug("capLevelOnFPSDrop = ",r.abr.capLevelOnFPSDrop),i.hlsConfig.capLevelOnFPSDrop=r.abr.capLevelOnFPSDrop),e.Utils.Object.hasPropertyPath(r,"text")&&(i.hlsConfig.enableCEA708Captions=r.text.enableCEA708Captions,i.hlsConfig.captionsTextTrack1Label=r.text.captionsTextTrack1Label,i.hlsConfig.captionsTextTrack1LanguageCode=r.text.captionsTextTrack1LanguageCode,i.hlsConfig.captionsTextTrack2Label=r.text.captionsTextTrack2Label,i.hlsConfig.captionsTextTrack2LanguageCode=r.text.captionsTextTrack2LanguageCode),e.Utils.Object.hasPropertyPath(r,"abr")){var o=r.abr;"boolean"==typeof o.enabled&&(i.abr.enabled=o.enabled),"boolean"==typeof o.capLevelToPlayerSize&&(i.hlsConfig.capLevelToPlayerSize=o.capLevelToPlayerSize),o.defaultBandwidthEstimate&&(i.hlsConfig.abrEwmaDefaultEstimate=o.defaultBandwidthEstimate),o.restrictions&&e.Utils.Object.createPropertyPath(i,"abr.restrictions",o.restrictions)}return e.Utils.Object.hasPropertyPath(r,"streaming.lowLatencyMode")&&(i.hlsConfig.lowLatencyMode=e.Utils.Object.getPropertyPath(r,"streaming.lowLatencyMode")),e.Utils.Object.hasPropertyPath(r,"playback.options.html5.hls")&&e.Utils.Object.mergeDeep(i.hlsConfig,r.playback.options.html5.hls),i.network=r.network,new this(t,n,i)}},{key:"canPlayType",value:function(e){var t="string"==typeof e&&u._hlsMimeTypes.includes(e.toLowerCase())&&u.isMSESupported();return u._logger.debug("canPlayType result for mimeType:"+e+" is "+t.toString()),t}},{key:"canPlayDrm",value:function(){return u._logger.warn("canPlayDrm result is false"),!1}},{key:"isSupported",value:function(){var e=E().isSupported();return u._logger.debug("isSupported:"+e),e}}]),u}(e.BaseMediaSourceAdapter);b=C,v(C,"id","HlsAdapter"),v(C,"_logger",e.BaseMediaSourceAdapter.getLogger(b.id)),v(C,"_hlsMimeTypes",["application/x-mpegurl","application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"]);var x="1.32.18",P="@playkit-js/playkit-js-hls",R=C;C.isSupported()&&(0,e.registerMediaSourceAdapter)(C)}(),a}())},859:module=>{self,module.exports=function(){var e={61:function(e,t,n){var r=n(698).default;function i(){"use strict";e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},a=Object.prototype,o=a.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(t){p=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof k?t:k,a=Object.create(i.prototype),o=new O(r||[]);return s(a,"_invoke",{value:P(e,n,o)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var y="suspendedStart",g="suspendedYield",v="executing",m="completed",b={};function k(){}function E(){}function T(){}var _={};p(_,u,(function(){return this}));var A=Object.getPrototypeOf,S=A&&A(A(L([])));S&&S!==a&&o.call(S,u)&&(_=S);var w=T.prototype=k.prototype=Object.create(_);function C(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,a,s,l){var u=h(e[i],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==r(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,l)}))}l(u.arg)}var i;s(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function P(e,n,r){var i=y;return function(a,o){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var l=R(s,r);if(l){if(l===b)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===y)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var u=h(e,n,r);if("normal"===u.type){if(i=r.done?m:g,u.arg===b)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=m,r.method="throw",r.arg=u.arg)}}}function R(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,R(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var a=h(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,b;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return E.prototype=T,s(w,"constructor",{value:T,configurable:!0}),s(T,"constructor",{value:E,configurable:!0}),E.displayName=p(T,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,T):(e.__proto__=T,p(e,d,"GeneratorFunction")),e.prototype=Object.create(w),e},n.awrap=function(e){return{__await:e}},C(x.prototype),p(x.prototype,c,(function(){return this})),n.AsyncIterator=x,n.async=function(e,t,r,i,a){void 0===a&&(a=Promise);var o=new x(f(e,t,r,i),a);return n.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(w),p(w,d,"Generator"),p(w,u,(function(){return this})),p(w,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;D(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},687:function(e,t,n){var r=n(61)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){"use strict";n.r(r),n.d(r,{NAME:function(){return Le},Provider:function(){return Oe},ProviderParser:function(){return le},RequestBuilder:function(){return ce},ResponseTypes:function(){return e},VERSION:function(){return Me}});var e={};function t(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function p(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function h(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(e),n.d(e,{BaseServiceResult:function(){return A},KalturaAccessControlMessage:function(){return U},KalturaAccessControlModifyRequestHostRegexAction:function(){return P},KalturaBaseEntryListResponse:function(){return C},KalturaBumper:function(){return D},KalturaDrmPlaybackPluginData:function(){return R},KalturaFlavorAsset:function(){return O},KalturaMediaEntries:function(){return L},KalturaMediaEntry:function(){return w},KalturaMetadata:function(){return M},KalturaMetadataListResponse:function(){return N},KalturaPlaybackContext:function(){return B},KalturaPlaybackSource:function(){return I},KalturaPlaylist:function(){return F},KalturaRuleAction:function(){return x},KalturaUIConfResponse:function(){return j},KalturaUserEntry:function(){return H},KalturaUserEntryListResponse:function(){return V}});var y=n(687),g=n.n(y),v={get:function(){return{VERSION:"",DEBUG:{value:"",name:""},ERROR:{value:"",name:""},INFO:{value:"",name:""},OFF:{value:"",name:""},TIME:{value:"",name:""},TRACE:{value:"",name:""},WARN:{value:"",name:""},createDefaultHandler:function(){},debug:function(){},enabledFor:function(){},error:function(){},get:function(){},getLevel:function(){},info:function(){},log:function(){},setHandler:function(){},setLevel:function(){},time:function(){},timeEnd:function(){},trace:function(){},useDefaults:function(){},warn:function(){}}}},m={};function b(e){return v.get(e)}var k=b,E=function e(t){var n;return Array.isArray(t)?(n=t.length>0?t.slice(0):[]).forEach((function(t,r){("object"===a(t)||Array.isArray(t)&&t.length>0)&&(n[r]=e(t))})):"object"===a(t)?(n=Object.assign({},t),Object.keys(n).forEach((function(t){("object"===a(n[t])||Array.isArray(n[t])&&n[t].length>0)&&(n[t]=e(n[t]))}))):n=t,n},T={serviceUrl:"https://cdnapisec.kaltura.com/api_v3",cdnUrl:"https://cdnapisec.kaltura.com",serviceParams:{apiVersion:"3.3.0",format:1},useApiCaptions:!0,loadThumbnailWithKs:!1,replaceHostOnlyManifestUrls:!1},_=function(){function e(){i(this,e)}return l(e,null,[{key:"set",value:function(e){null!=e&&e.overrideServiceUrl&&(e.serviceUrl=e.overrideServiceUrl),e&&Object.assign(T,e)}},{key:"get",value:function(){return E(T)}},{key:"serviceUrl",get:function(){return T.serviceUrl}}]),e}(),A=l((function e(t){i(this,e),h(this,"hasError",!1),"KalturaAPIException"===t.objectType?(this.hasError=!0,this.error=new S(t.code,t.message)):t.error&&"KalturaAPIException"===t.error.objectType?(this.hasError=!0,this.error=new S(t.error.code,t.error.message)):this.data=t})),S=l((function e(t,n){i(this,e),this.code=t,this.message=n})),w=l((function e(t){i(this,e),this.id=t.id,this.referenceId=t.referenceId,this.externalSourceType=t.externalSourceType,this.name=t.name,this.description=t.description,this.dataUrl=t.dataUrl,this.type=t.type,this.entryType=t.mediaType,this.flavorParamsIds=t.flavorParamsIds,this.duration=t.duration,this.poster=t.thumbnailUrl,this.rawThumbnailUrl=t.thumbnailUrl,this.status=t.status,this.dvrStatus=t.dvrStatus,this.tags=t.tags,this.createdAt=t.createdAt,this.updatedAt=t.updatedAt,this.creatorId=t.creatorId,this.endDate=t.endDate,this.plays=t.plays,this.views=t.views,this.downloadUrl=t.downloadUrl,this.rootEntryId=t.rootEntryId,this.capabilities=t.capabilities}));h(w,"EntryType",{AUTOMATIC:{value:-1},EXTERNAL_MEDIA:{value:"externalMedia.externalMedia"},MEDIA_CLIP:{value:1},MIX:{value:2},PLAYLIST:{value:5},DATA:{value:6},LIVE_STREAM:{value:7},LIVE_CHANNEL:{value:8},DOCUMENT:{value:10}}),h(w,"MediaType",{VIDEO:{value:1},IMAGE:{value:2},AUDIO:{value:5},LIVE_STREAM_FLASH:{value:201},LIVE_STREAM_WINDOWS_MEDIA:{value:202},LIVE_STREAM_REAL_MEDIA:{value:203},LIVE_STREAM_QUICK_TIME:{value:204}}),h(w,"EntryStatus",{ERROR_IMPORTING:-2,ERROR_CONVERTING:-1,SCAN_FAILURE:"virusScan.ScanFailure",IMPORT:0,INFECTED:"virusScan.Infected",PRECONVERT:1,READY:2,DELETED:3,PENDING:4,MODERATE:5,BLOCKED:6,NO_CONTENT:7}),h(w,"EntryModerationStatus",{PENDING_MODERATION:1,APPROVED:2,REJECTED:3,FLAGGED_FOR_REVIEW:4,MODERATE:5,AUTO_APPROVED:6});var C=function(e){d(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=f(t);if(n){var i=f(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return p(this,e)});function a(e){var t;return i(this,a),(t=r.call(this,e)).hasError||(t.totalCount=e.totalCount,t.totalCount>0&&(t.entries=[],e.objects.map((function(e){return t.entries.push(new w(e))})))),t}return l(a)}(A),x=l((function e(t){i(this,e),this.type=t.type}));h(x,"Type",{DRM_POLICY:"drm.DRM_POLICY",BLOCK:1,PREVIEW:2,LIMIT_FLAVORS:3,ADD_TO_STORAGE:4,LIMIT_DELIVERY_PROFILES:5,SERVE_FROM_REMOTE_SERVER:6,REQUEST_HOST_REGEX:7,LIMIT_THUMBNAIL_CAPTURE:8,SCHEDULED_RESTRICTED:"SCHEDULED_RESTRICTED"});var P=function(e){d(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=f(t);if(n){var i=f(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return p(this,e)});function a(e){var t;return i(this,a),(t=r.call(this,e)).pattern=e.pattern,t.replacement=e.replacement,t.replacmenServerNodeId=e.replacmenServerNodeId,t.checkAliveTimeoutMs=e.checkAliveTimeoutMs,t}return l(a)}(x),R=l((function e(t){i(this,e),this.scheme=t.scheme,this.licenseURL=t.licenseURL,this.certificate=t.certificate}));h(R,"Scheme",{"drm.PLAYREADY_CENC":"com.microsoft.playready","drm.WIDEVINE_CENC":"com.widevine.alpha","fairplay.FAIRPLAY":"com.apple.fairplay",WIDEVINE_CENC:"com.widevine.alpha",PLAYREADY_CENC:"com.microsoft.playready",FAIRPLAY:"com.apple.fairplay"});var I=function(){function e(t){var n=this;i(this,e),h(this,"drm",[]),this.format=t.format,this.deliveryProfileId=t.deliveryProfileId,this.url=t.url,this.protocols=t.protocols,this.flavorIds=t.flavorIds,t.drm&&t.drm.map((function(e){return n.drm.push(new R(e))}))}return l(e,[{key:"hasDrmData",value:function(){return this.drm&&this.drm.length>0}},{key:"hasFlavorIds",value:function(){return!!this.flavorIds&&this.flavorIds.length>0}},{key:"getProtocol",value:function(e){var t="";if(this.protocols&&this.protocols.length>0)this.protocols.split(",").forEach((function(n){n===e&&(t=n)}));else if("http"===e)return e;return t}}]),e}(),D=l((function e(t){i(this,e),this.entryId=t.entryId,this.clickThroughUrl=t.url,this.sources=t.sources?t.sources.map((function(e){return new I(e)})):[]})),O=function(){function e(t){i(this,e),this.id=t.id,this.flavorParamsId=t.flavorParamsId,this.fileExt=t.fileExt,this.bitrate=t.bitrate,this.width=t.width,this.height=t.height,this.id=t.id,this.frameRate=t.frameRate,this.isOriginal=t.isOriginal,this.isWeb=t.isWeb,this.containerFormat=t.containerFormat,this.videoCodecId=t.videoCodecId,this.status=t.status,this.language=t.language,this.label=t.label,this.tags=e.parseTags(t.tags)}return l(e,null,[{key:"parseTags",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(",")}}]),e}();h(O,"Status",{ERROR:-1,QUEUED:0,CONVERTING:1,READY:2,DELETED:3,NOT_APPLICABLE:4,TEMP:5,WAIT_FOR_CONVERT:6,IMPORTING:7,VALIDATING:8,EXPORTING:9});var L=function(e){d(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=f(t);if(n){var i=f(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return p(this,e)});function a(e){var t;return i(this,a),(t=r.call(this,e)).hasError||(t.entries=[],e.map((function(e){return t.entries.push(new w(e))}))),t}return l(a)}(A),M=l((function e(t){i(this,e),this.id=t.id,this.metadataProfileId=t.metadataProfileId,this.metadataProfileVersion=t.metadataProfileVersion,this.metadataProfileId=t.metadataProfileId,this.metadataObjectType=t.metadataObjectType,this.objectId=t.objectId,this.version=t.version,this.created=new Date(0),this.created.setUTCSeconds(t.createdAt),this.updated=new Date(0),this.updated.setUTCSeconds(t.updatedAt),this.status=t.status,this.xml=t.xml}));h(M,"ObjectType",{AD_CUE_POINT:"adCuePointMetadata.AdCuePoint",ANNOTATION:"annotationMetadata.Annotation",CODE_CUE_POINT:"codeCuePointMetadata.CodeCuePoint",THUMB_CUE_POINT:"thumbCuePointMetadata.thumbCuePoint",ENTRY:1,CATEGORY:2,USER:3,PARTNER:4,DYNAMIC_OBJECT:5}),h(M,"Status",{VALID:1,INVALID:2,DELETED:3});var N=function(e){d(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=f(t);if(n){var i=f(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return p(this,e)});function a(e){var t;return i(this,a),(t=r.call(this,e)).hasError||(t.totalCount=e.totalCount,t.totalCount>0&&(t.metas=[],e.objects.map((function(e){return t.metas.push(new M(e))})))),t}return l(a)}(A),U=l((function e(t){i(this,e),this.message=t.message,this.code=t.code})),B=function(e){d(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=f(t);if(n){var i=f(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return p(this,e)});function a(e){var t;if(i(this,a),h(u(t=r.call(this,e)),"sources",[]),h(u(t),"actions",[]),h(u(t),"messages",[]),h(u(t),"flavorAssets",[]),h(u(t),"bumperData",[]),!t.hasError){var n=e.messages;n&&n.map((function(e){return t.messages.push(new U(e))}));var o=e.actions;o&&o.map((function(e){e.type===x.Type.REQUEST_HOST_REGEX?t.actions.push(new P(e)):t.actions.push(new x(e))}));var s=e.sources;s&&s.map((function(e){return t.sources.push(new I(e))}));var l=e.flavorAssets;l&&l.map((function(e){return t.flavorAssets.push(new O(e))}));var c=e.bumperData;c&&c.map((function(e){return t.bumperData.push(new D(e))})),e.activeLiveStreamTime&&(t.activeLiveStreamTime={startTime:e.activeLiveStreamTime.startTime,endTime:e.activeLiveStreamTime.endTime})}return t}return l(a,[{key:"hasBlockAction",value:function(){return void 0!==this.getBlockAction()}},{key:"getBlockAction",value:function(){return this.actions.find((function(e){return e.type===x.Type.BLOCK}))}},{key:"hasScheduledRestriction",value:function(){return this.messages.some((function(e){return e.code===x.Type.SCHEDULED_RESTRICTED}))}},{key:"getErrorMessages",value:function(){return this.messages}},{key:"getRequestHostRegexAction",value:function(){var e=this.actions.find((function(e){return e.type===x.Type.REQUEST_HOST_REGEX}));if(e instanceof P)return e}}]),a}(A),F=l((function e(t){i(this,e),this.id=t.id,this.name=t.name,this.description=t.description,this.poster=t.thumbnailUrl})),j=function(e){d(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=f(t);if(n){var i=f(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return p(this,e)});function a(e){var t;return i(this,a),(t=r.call(this,e)).hasError||(t.name=e.name,t.description=e.description,t.objTypeAsString=e.objTypeAsString,t.width=e.width,t.height=e.height,t.htmlParams=e.htmlParams,t.swfUrl=e.swfUrl,t.confFilePath=e.confFilePath,t.confFile=e.confFile,t.confFileFeatures=e.confFileFeatures,t.config=e.config,t.confVars=e.confVars,t.useCdn=e.useCdn,t.tags=e.tags,t.swfUrlVersion=e.swfUrlVersion,t.created=new Date(0),t.created.setUTCSeconds(e.createdAt),t.updated=new Date(0),t.updated.setUTCSeconds(e.updatedAt),t.html5Url=e.description,t.version=e.description,t.partnerTags=e.description,t.objType=e.description,t.creationMode=e.description),t}return l(a)}(A);h(j,"Type",{PLAYER:1,CONTRIBUTION_WIZARD:2,SIMPLE_EDITOR:3,ADVANCED_EDITOR:4,PLAYLIST:5,APP_STUDIO:6,KRECORD:7,PLAYER_V3:8,KMC_ACCOUNT:9,KMC_ANALYTICS:10,KMC_CONTENT:11,KMC_DASHBOARD:12,KMC_LOGIN:13,PLAYER_SL:14,CLIENTSIDE_ENCODER:15,KMC_GENERAL:16,KMC_ROLES_AND_PERMISSIONS:17,CLIPPER:18,KSR:19,KUPLOAD:20,WEBCASTING:21}),h(j,"CreationMode",{WIZARD:2,ADVANCED:3});var H=l((function e(t){i(this,e),this.playlistLastEntryId=t.playlistLastEntryId,this.entryId=t.entryId,this.id=t.id,this.userId=t.userId,this.partnerId=t.partnerId,this.status=t.status,this.createdAt=t.createdAt,this.updatedAt=t.updatedAt})),V=function(e){d(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=f(t);if(n){var i=f(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return p(this,e)});function a(e){var t;return i(this,a),(t=r.call(this,e)).hasError||(t.totalCount=e.totalCount,t.entries=[],t.totalCount>0&&e.objects.map((function(e){return t.entries.push(new H(e))}))),t}return l(a)}(A),G=function(){function e(){i(this,e)}return l(e,null,[{key:"build",value:function(e){var t=_.get(),n=t.serviceUrl.substr(0,t.serviceUrl.lastIndexOf("/")),r=e.partnerId,i=e.entryId,a=e.ks,o=e.uiConfId,s=e.format,l=e.protocol,u=e.extension,c=e.flavorIds;if(!n||isNaN(Number.parseInt(r))||!i||!s||!l)return"";var d=n;return n.endsWith("/")||(d+="/"),d+="p/"+r+"/sp/"+r+"00/playManifest/entryId/"+i+"/protocol/"+l+"/format/"+s,c?d+="/flavorIds/"+c:o&&(d+="/uiConfId/"+o),""!==a&&(d+="/ks/"+a),""!==u&&(d+="/a."+u),o&&""!==c&&(d+="?uiConfId="+o),d}}]),e}(),K=function(){function e(){i(this,e)}return l(e,null,[{key:"xmlToJson",value:function(e){var t={};if(1===e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var n=0;n<e.attributes.length;n++){var r=e.attributes.item(n);t["@attributes"][r.nodeName]=r.nodeValue}}}else 3===e.nodeType&&(t=e.nodeValue);if(e.hasChildNodes())for(var i=0;i<e.childNodes.length;i++){var a=e.childNodes.item(i),o=a.nodeName;if(void 0===t[o])t[o]=this.xmlToJson(a);else{if(void 0===t[o].push){var s=t[o];t[o]=[],t[o].push(s)}t[o].push(this.xmlToJson(a))}}return t}}]),e}(),z={DASH:{name:"dash",mimeType:"application/dash+xml",pathExt:"mpd"},HLS:{name:"hls",mimeType:"application/x-mpegURL",pathExt:"m3u8"},WVM:{name:"wvm",mimeType:"video/wvm",pathExt:"wvm"},MP4:{name:"mp4",mimeType:"video/mp4",pathExt:"mp4"},MP3:{name:"mp3",mimeType:"audio/mpeg",pathExt:"mp3"}},W=new Map([["mpegdash",z.DASH],["applehttp",z.HLS],["url",z.MP4]]);function Y(e){var t=W.get(e);return!!t&&t.name===z.MP4.name}var Z=function(){function e(){i(this,e),this.progressive=[],this.dash=[],this.hls=[],this.image=[],this.document=[]}return l(e,[{key:"map",value:function(e,t){if(t)switch(t.name){case z.MP4.name:this.progressive.push(e);break;case z.DASH.name:this.dash.push(e);break;case z.HLS.name:this.hls.push(e)}}},{key:"toJSON",value:function(){var e={progressive:[],dash:[],hls:[],image:[],document:[]};return this.progressive.forEach((function(t){return e.progressive.push(t.toJSON())})),this.hls.forEach((function(t){return e.hls.push(t.toJSON())})),this.dash.forEach((function(t){return e.dash.push(t.toJSON())})),e.image=this.image,e.document=this.document,e}}]),e}(),q=function(){function e(){i(this,e),this.metadata=new Map,this.sources=new Z,this.type=e.Type.UNKNOWN}return l(e,[{key:"toJSON",value:function(){return{id:this.id,name:this.name,sources:this.sources.toJSON(),duration:this.duration,dvrStatus:this.dvrStatus,status:this.status,metadata:this.metadata,type:this.type,poster:this.poster,assetReferenceType:this.assetReferenceType,downloadUrl:this.downloadUrl,rawThumbnailUrl:this.rawThumbnailUrl,rootEntryId:this.rootEntryId,capabilities:this.capabilities}}}]),e}();h(q,"Type",{VOD:"Vod",LIVE:"Live",IMAGE:"Image",AUDIO:"Audio",UNKNOWN:"Unknown",DOCUMENT:"Document"}),h(q,"DvrStatus",{ON:1,OFF:0});var X=function(){function e(t,n,r){i(this,e),this.licenseUrl=t,this.scheme=n,r&&(this.certificate=r)}return l(e,[{key:"toJSON",value:function(){var e={licenseUrl:this.licenseUrl,scheme:this.scheme};return this.certificate&&(e.certificate=this.certificate),e}}]),e}(),Q=function(){function e(){i(this,e)}return l(e,[{key:"toJSON",value:function(){var e={id:this.id,url:this.url,mimetype:this.mimetype};return this.bandwidth&&(e.bandwidth=this.bandwidth),this.width&&(e.width=this.width),this.height&&(e.height=this.height),this.label&&(e.label=this.label),this.drmData&&this.drmData.length>0&&(e.drmData=[],this.drmData.forEach((function(t){Array.isArray(e.drmData)&&e.drmData.push(t.toJSON())}))),e}}]),e}(),J=l((function e(){i(this,e),this.items=[]})),$=l((function e(){i(this,e),this.items=[]})),ee=l((function e(t){i(this,e),this.url=t.url,this.clickThroughUrl=t.clickThroughUrl})),te={SRT:"1",DFXP:"2",WEBVTT:"3",CAP:"4"},ne={3:"vtt",1:"srt"},re=function(){function e(){i(this,e)}return l(e,null,[{key:"createConfig",value:function(e,t){return e.map((function(e){var n=e.url,r=ne[e.format];return[te.DFXP,te.CAP].includes(e.format)&&(n=e.webVttUrl,r=ne[te.WEBVTT]),n=se(n,t),{default:!!e.isDefault,type:r,language:e.languageCode,label:e.label,url:n}}))}}]),e}(),ie=function(){function e(t){i(this,e),this.id=t.id,this.url=e.extractBaseThumbnailUrl(t.dataUrl),this.mimetype=""}return l(e,null,[{key:"extractBaseThumbnailUrl",value:function(e){return e.match(".+entry_id/[a-zA-Z0-9_]+/")[0].slice(0,-1)}}]),e}(),ae=l((function e(t){i(this,e),this.id=t.id,this.url=t.downloadUrl,this.thumbnailUrl=t.poster,this.mimetype=""})),oe=function(){function e(){i(this,e)}return l(e,null,[{key:"getMediaEntry",value:function(t,n,r,i){var a=new q,o=i.entry,s=i.playBackContextResult,l=i.metadataListResult,u=s.sources;return a.activeLiveStreamTime=s.activeLiveStreamTime,a.sources=e._getParsedSources(u,t,n,r,o,s),e._fillBaseData(a,o,l,s),a.type!==q.Type.LIVE&&_.get().useApiCaptions&&s.data.playbackCaptions&&(a.sources.captions=re.createConfig(s.data.playbackCaptions,t)),a}},{key:"addKsToUrl",value:function(e,t){var n;return t?(n=-1!==e.split("?")[0].replace(/^.*[\\/]/,"").indexOf(".")?-1===e.indexOf("?")?"?ks=":"&ks=":"/ks/",e+n+t):e}},{key:"getPlaylist",value:function(t){var n=new J,r=t.playlistData,i=t.playlistItems.entries,a=t.playlistUserEntries.entries;return n.id=r.id,n.name=r.name,n.description=r.description,n.poster=r.poster,n.playlistLastEntryId=a.map((function(e){return e.playlistLastEntryId}))[0],i.forEach((function(t){var r=new q;e._fillBaseData(r,t),n.items.push(r)})),n}},{key:"getEntryList",value:function(t){var n=new $;return t.playlistItems.entries.forEach((function(t){var r=new q;e._fillBaseData(r,t),n.items.push(r)})),n}},{key:"getBumper",value:function(t,n,r){var i=t.playBackContextResult,a=i.bumperData[0];if(a){var o=(a&&a.sources).find((function(e){return Y(e.format)}));if(o){var s=e._parseProgressiveSources(o,i,n,r,0,a.entryId);if(s[0])return new ee({url:s[0].url,clickThroughUrl:a.clickThroughUrl})}}}},{key:"_fillBaseData",value:function(t,n,r,i){if(t.poster=n.poster,t.rawThumbnailUrl=n.rawThumbnailUrl,t.id=n.id,t.duration=n.duration,t.downloadUrl=n.downloadUrl||"",t.metadata=e._parseMetadata(r),t.metadata.description=n.description||"",t.metadata.entryId=n.id||"",t.metadata.name=n.name||"",n.createdAt&&(t.metadata.createdAt=n.createdAt),n.updatedAt&&(t.metadata.updatedAt=n.updatedAt),n.creatorId&&(t.metadata.creatorId=n.creatorId),n.endDate&&(t.metadata.endDate=n.endDate),n.views&&(t.metadata.views=n.views),n.plays&&(t.metadata.plays=n.plays),t.metadata.tags=n.tags||"",t.status=n.status,t.rootEntryId=n.rootEntryId,t.capabilities=n.capabilities?n.capabilities.split(","):[],t.type=e._getEntryType(n.entryType,n.type),t.type===q.Type.LIVE&&(t.dvrStatus=n.dvrStatus),i&&i.flavorAssets[0]&&i.flavorAssets[0].width&&i.flavorAssets[0].height){var a=i.flavorAssets[0],o=a.height,s=a.width;t.metadata.aspectRatio=+Number(s/o).toFixed(2)}return i&&Array.isArray(i.flavorAssets)&&(t.metadata.audioFlavors=i.flavorAssets.filter((function(e){return e.bitrate&&!e.width&&!e.height}))),t}},{key:"_getEntryType",value:function(e,t){var n=q.Type.UNKNOWN;switch(e){case w.MediaType.IMAGE.value:n=q.Type.IMAGE;break;case w.MediaType.AUDIO.value:n=q.Type.AUDIO;break;default:switch(t){case w.EntryType.MEDIA_CLIP.value:n=q.Type.VOD;break;case w.EntryType.LIVE_STREAM.value:case w.EntryType.LIVE_CHANNEL.value:n=q.Type.LIVE;break;case w.EntryType.DOCUMENT.value:n=q.Type.DOCUMENT;break;default:n=q.Type.UNKNOWN}}return n}},{key:"_getParsedSources",value:function(t,n,r,i,a,o){var s,l,u=new Z;return a.type===w.EntryType.EXTERNAL_MEDIA.value?((l=new Q).mimetype="video/youtube",l.url=a.referenceId,l.id=a.id+"_youtube",u.progressive.push(l)):a.entryType===w.MediaType.IMAGE.value?u.image.push(new ie(a)):a.type===w.EntryType.DOCUMENT.value?u.document.push(new ae(a)):t&&t.length>0&&(t.filter((function(e){return!Y(e.format)})).forEach((function(t){var s=e._parseAdaptiveSource(t,o,n,r,i,a.id);if(s){var l=W.get(t.format);u.map(s,l)}})),s=t.find((function(t){return Y(t.format)&&""!==t.getProtocol(e._getBaseProtocol())})),u.progressive=e._parseProgressiveSources(s,o,n,r,i,a.id)),u}},{key:"_parseAdaptiveSource",value:function(t,n,r,i,a,o){var s=new Q;if(t){var l="",u=W.get(t.format),c=t.getProtocol(e._getBaseProtocol()),d=t.deliveryProfileId,p=t.format,f="";if(u&&(f=u.pathExt,s.mimetype=u.mimeType),t.hasFlavorIds()?(!f&&n.flavorAssets&&n.flavorAssets.length>0&&(f=n.flavorAssets[0].fileExt),l=G.build({entryId:o,flavorIds:t.flavorIds,format:p,ks:r,partnerId:i,uiConfId:a,extension:f,protocol:c})):l=e.addKsToUrl(t.url,r),!l){var h="failed to create play url from source, discarding source: (".concat(o,"_").concat(d,"), ").concat(p);return e._logger.warn(h),null}if(s.url=l,s.id=o+"_"+d+","+p,t.hasDrmData()){var y=[];t.drm.forEach((function(e){y.push(new X(e.licenseURL,R.Scheme[e.scheme],e.certificate))})),s.drmData=y}}return s}},{key:"_parseProgressiveSources",value:function(t,n,r,i,a,o){var s=[],l=[];if(t){var u=t.getProtocol(e._getBaseProtocol()),c=t.format,d=t.deliveryProfileId,p=d+","+c;n.flavorAssets.map((function(t){var n=new Q;n.id=t.id+p,n.mimetype="mp3"===t.fileExt?"audio/mp3":"video/mp4",n.height=t.height,n.width=t.width,n.bandwidth=1024*t.bitrate,n.label=t.label||t.language;var f=G.build({entryId:o,flavorIds:t.id,format:c,ks:r,partnerId:i,uiConfId:a,extension:t.fileExt,protocol:u});if(""===f)return e._logger.warn("failed to create play url from source, discarding source: (".concat(o,"_").concat(d,"), ").concat(c,".")),null;n.url=f,t.height&&t.width?s.push(n):l.push(n)}))}return l.length&&!s.length?l:s}},{key:"_parseMetadata",value:function(e){var t={};return e&&e.metas&&e.metas.length>0&&e.metas.forEach((function(e){if(e.xml){var n=new DOMParser;e.xml=e.xml.replace(/\r?\n|\r/g,""),e.xml=e.xml.replace(/>\s*/g,">"),e.xml=e.xml.replace(/>\s*/g,">");var r=n.parseFromString(e.xml,"text/xml"),i=K.xmlToJson(r);Object.keys(i.metadata).forEach((function(e){t[e]=i.metadata[e]["#text"]}))}})),t}},{key:"_getBaseProtocol",value:function(){var e=_.get(),t=/^https?:/.exec(e.cdnUrl),n=t?t[0]:document.location.protocol;return"string"==typeof n?n.slice(0,-1):"https"}},{key:"hasBlockAction",value:function(e){return e.playBackContextResult.hasBlockAction()}},{key:"getBlockAction",value:function(e){return e.playBackContextResult.getBlockAction()}},{key:"hasScheduledRestriction",value:function(e){return e.playBackContextResult.hasScheduledRestriction()}},{key:"getErrorMessages",value:function(e){return e.playBackContextResult.getErrorMessages()}}]),e}();h(oe,"_logger",k("OVPProviderParser"));var se=oe.addKsToUrl,le=oe,ue=l((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i(this,e),this.severity=t,this.category=n,this.code=r,this.data=a,e._logger.error("Category:".concat(n," | Code:").concat(r," |"),a)}));h(ue,"Severity",{RECOVERABLE:1,CRITICAL:2}),h(ue,"Category",{NETWORK:1,SERVICE:2,PROVIDER:3}),h(ue,"Code",{UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,BAD_SERVER_RESPONSE:1005,MULTIREQUEST_API_ERROR:1006,API_RESPONSE_MISMATCH:1007,ERROR:2e3,BLOCK_ACTION:2001,MEDIA_STATUS_NOT_READY:2002,SCHEDULED_RESTRICTED:2003,MISSING_MANDATORY_PARAMS:3e3,MISSING_PLAY_SOURCE:3001,METHOD_NOT_IMPLEMENTED:3002}),h(ue,"_logger",k("Error"));var ce=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;i(this,e),h(this,"retryConfig",{async:!0,timeout:0,maxAttempts:4}),h(this,"_attemptCounter",1),this.headers=t}return l(e,[{key:"getUrl",value:function(e){return e+"/service/"+this.service+(this.action?"/action/"+this.action:"")}},{key:"doHttpRequest",value:function(){var e=this,t=new Promise((function(t,n){e._requestPromise={resolve:t,reject:n}}));return this.url||this._requestPromise.reject(new ue(ue.Severity.CRITICAL,ue.Category.NETWORK,ue.Code.MALFORMED_DATA_URI,{url:this.url})),this._createXHR(),t}},{key:"_createXHR",value:function(){var e=this,t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===t.readyState&&200===t.status)try{var n=JSON.parse(t.responseText);return e.responseHeaders=e._getResponseHeaders(t),e._requestPromise.resolve(n)}catch(n){e._requestPromise.reject(e._createError(t,ue.Code.BAD_SERVER_RESPONSE,{text:t.responseText}))}},t.open(this.method,this.url,this.retryConfig.async),this.retryConfig.async&&this.retryConfig.timeout&&(t.timeout=this.retryConfig.timeout);var n=performance.now();t.ontimeout=function(){e._handleError(t,ue.Code.TIMEOUT,{timeout:(performance.now()-n)/1e3,statusText:t.statusText})},t.onerror=t.onabort=function(){e._handleError(t,ue.Code.HTTP_ERROR,{text:t.responseText,statusText:t.statusText})},this.headers.forEach((function(e,n){t.setRequestHeader(n,e)})),t.send(this.params)}},{key:"_getResponseHeaders",value:function(e){return e.getAllResponseHeaders().split("\n").filter((function(e){return 0===e.toLowerCase().indexOf("x-")}))}},{key:"_handleError",value:function(e,t,n){var r=this._createError(e,t,n);if(e.onreadystatechange=function(){},e.onerror=function(){},e.ontimeout=function(){},e.onabort=function(){},!(this.retryConfig.maxAttempts&&this._attemptCounter<this.retryConfig.maxAttempts))return this._requestPromise.reject(r);this._attemptCounter++,this._createXHR()}},{key:"_createError",value:function(e,t,n){return Object.assign(n,{url:this.url,headers:this._getResponseHeaders(e),attempt:this._attemptCounter}),new ue(ue.Severity.CRITICAL,ue.Category.NETWORK,t,n)}}]),e}(),de=function(e){d(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=f(t);if(n){var i=f(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return p(this,e)});function a(){var e;i(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return h(u(e=r.call.apply(r,[this].concat(n))),"requests",[]),e}return l(a,[{key:"add",value:function(e){this.requests.push(e);var t={},n={service:e.service,action:e.action};return Object.assign(t,h({},this.requests.length,Object.assign(n,e.params))),Object.assign(t,this.params),this.params=t,this}},{key:"execute",value:function(e){var t=this;return new Promise((function(n,r){try{t.params=JSON.stringify(t.params)}catch(e){a._logger.error("".concat(e.message)),r(new ue(ue.Severity.CRITICAL,ue.Category.PROVIDER,ue.Code.FAILED_PARSING_REQUEST,{error:e,params:t.params}))}t.doHttpRequest().then((function(i){var a=new pe(i,e);a.success?n({headers:t.responseHeaders,response:a}):r(new ue(ue.Severity.CRITICAL,ue.Category.NETWORK,ue.Code.MULTIREQUEST_API_ERROR,{url:t.url,headers:t.responseHeaders,results:a.results}))}),(function(e){r(e)}))}))}}]),a}(ce);h(de,"_logger",k("MultiRequestBuilder"));var pe=l((function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];i(this,e),h(this,"results",[]);var r=t.result?t.result:t,a=(Array.isArray(r)?r:[r]).map((function(e){return new A(e)})),o=a.filter((function(e){return e.hasError}));o.forEach((function(t){e._logger.error("Service returned an error with error code: ".concat(t.error.code," and message: ").concat(t.error.message,"."))})),this.results=a,n&&o.length||o.length===this.results.length?this.success=!1:(this.results=this.results.filter((function(e){return!e.hasError})),this.success=!0)}));h(pe,"_logger",k("MultiRequestResult"));var fe=function(){function e(){i(this,e)}return l(e,null,[{key:"getMultiRequest",value:function(e,t,n){var r=_.get(),i=r.serviceParams;Object.assign(i,{ks:t,clientTag:"html5:v"+e}),n&&Object.assign(i,{partnerId:n});var a=new Map;a.set("Content-Type","application/json");var o=new de(a);return o.method="POST",o.service="multirequest",o.url=o.getUrl(r.serviceUrl),o.params=i,o}}]),e}(),he=l((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.type=t.type||e.Type.INCLUDE_FIELDS,this.fields=t.fields||"id,referenceId,name,description,thumbnailUrl,dataUrl,duration,msDuration,flavorParamsIds,mediaType,type,tags,dvrStatus,externalSourceType,status,createdAt,updatedAt,endDate,plays,views,downloadUrl,creatorId,rootEntryId,capabilities"}));h(he,"Type",{INCLUDE_FIELDS:1,EXCLUDE_FIELDS:2});var ye="baseEntry",ge=function(e){d(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=f(t);if(n){var i=f(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return p(this,e)});function a(){return i(this,a),r.apply(this,arguments)}return l(a,null,[{key:"getPlaybackContext",value:function(e,t,n,r){var i=new Map;i.set("Content-Type","application/json");var a=new ce(i);a.service=ye,a.action="getPlaybackContext",a.method="POST",a.url=a.getUrl(e),a.tag="baseEntry-getPlaybackContext";var o={objectType:"KalturaContextDataParams",flavorTags:"all"};return r&&(o.referrer=r),a.params={entryId:n,ks:t,contextDataParams:o},a}},{key:"list",value:function(e,t,n,r,i){var o=new Map;o.set("Content-Type","application/json");var s=new ce(o);return s.service=ye,s.action="list",s.method="POST",s.url=s.getUrl(e),s.tag="list",s.params=a.getEntryListReqParams(n,t,r,i),s}},{key:"getEntryListReqParams",value:function(e,t,n,r){var i={};return e?i=n?{redirectFromEntryId:e}:{idEqual:e}:r&&(i={objectType:"KalturaBaseEntryFilter",referenceIdEqual:r}),{ks:t,filter:i,responseProfile:new he}}}]),a}(fe),ve=function(e){d(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=f(t);if(n){var i=f(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return p(this,e)});function a(){return i(this,a),r.apply(this,arguments)}return l(a,null,[{key:"list",value:function(e,t,n){var r=new Map;r.set("Content-Type","application/json");var i=new ce(r);i.service="metadata_metadata",i.action="list",i.method="POST",i.url=i.getUrl(e),i.tag="metadata_metadata-list";var a={objectType:"KalturaMetadataFilter",objectIdEqual:n,metadataObjectTypeEqual:"1"};return i.params={filter:a,ks:t},i}}]),a}(fe),me=function(){function e(t){i(this,e),h(this,"_response",{}),this.requests=this.buildRequests(t),this._entryId=t.entryId,this._referenceId=t.referenceId}return l(e,[{key:"requests",get:function(){return this._requests},set:function(e){this._requests=e}},{key:"response",get:function(){return this._response},set:function(e){var t=new C(e[0].data);this._response.entry=t.entries[0],this._response.playBackContextResult=new B(e[1].data),this._response.metadataListResult=new N(e[2].data)}},{key:"buildRequests",value:function(e){var t=_.get(),n=[];n.push(ge.list(t.serviceUrl,e.ks,e.entryId,e.redirectFromEntryId,e.referenceId));var r="{1:result:ks}"===e.ks?"{2:result:objects:0:id}":"{1:result:objects:0:id}";return n.push(ge.getPlaybackContext(t.serviceUrl,e.ks,r,e.referrer)),n.push(ve.list(t.serviceUrl,e.ks,r)),n}},{key:"isValid",value:function(){return!(!this._entryId&&!this._referenceId)}}],[{key:"id",get:function(){return"media"}}]),e}(),be=function(e){d(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=f(t);if(n){var i=f(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return p(this,e)});function a(){return i(this,a),r.apply(this,arguments)}return l(a,null,[{key:"anonymousSession",value:function(e,t){var n=new Map;n.set("Content-Type","application/json");var r=new ce(n);return r.service="session",r.action="startWidgetSession",r.method="POST",r.url=r.getUrl(e),r.tag="session-startWidget",r.params={widgetId:t},r}}]),a}(fe),ke=function(){function e(t){i(this,e),h(this,"_response",{}),this.requests=this.buildRequests(t),this._widgetId=t.widgetId}return l(e,[{key:"requests",get:function(){return this._requests},set:function(e){this._requests=e}},{key:"response",get:function(){return this._response.ks},set:function(e){this._response.ks=e[0].data.ks}},{key:"buildRequests",value:function(e){var t=_.get(),n=[];return n.push(be.anonymousSession(t.serviceUrl,e.widgetId)),n}},{key:"isValid",value:function(){return!!this._widgetId}}],[{key:"id",get:function(){return"session"}}]),e}(),Ee=function(e){d(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=f(t);if(n){var i=f(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return p(this,e)});function a(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3?arguments[3]:void 0;return i(this,a),(n=r.call(this,s))._multiRequest=fe.getMultiRequest(e,o,t),n}return l(a)}(function(){function e(t){i(this,e),h(this,"_loadersResponseMap",new Map),h(this,"_loaders",new Map),this._networkRetryConfig=t}return l(e,[{key:"add",value:function(e,t,n){var r=this,i=new e(t);if(i.isValid()){this._loaders.set(e.id,i);var a=this._multiRequest.requests.length,o=i.requests;this._multiRequest.retryConfig=this._networkRetryConfig,o.forEach((function(e){e.params=e.params||{},e.params.ks=e.params.ks||n,r._multiRequest.add(e)}));var s=Array.from(new Array(o.length),(function(e,t){return t+a}));this._loadersResponseMap.set(e.id,s)}}},{key:"fetchData",value:function(e){var t=this;return new Promise((function(n,r){t._multiRequest.execute(e).then((function(e){t._multiResponse=e.response,t.prepareData(e.response).success?n(t._loaders):r(new ue(ue.Severity.CRITICAL,ue.Category.NETWORK,ue.Code.API_RESPONSE_MISMATCH,{headers:e.headers}))}),(function(e){r(e)}))}))}},{key:"prepareData",value:function(e){var t=this;return this._loaders.forEach((function(n,r){var i=t._loadersResponseMap.get(r);try{i&&i.length>0&&(n.response=e.results.slice(i[0],i[i.length-1]+1))}catch(e){return{success:!1,error:e}}})),{success:!0,data:this._loaders}}}]),e}()),Te="playlist",_e=function(e){d(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=f(t);if(n){var i=f(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return p(this,e)});function a(){return i(this,a),r.apply(this,arguments)}return l(a,null,[{key:"execute",value:function(e,t,n){var r=new Map;r.set("Content-Type","application/json");var i=new ce(r);return i.service=Te,i.action="execute",i.method="POST",i.url=i.getUrl(e),i.tag="".concat(Te,"-execute"),i.params={ks:t,id:n,responseProfile:new he},i}},{key:"get",value:function(e,t,n){var r=new Map;r.set("Content-Type","application/json");var i=new ce(r);return i.service=Te,i.action="get",i.method="POST",i.url=i.getUrl(e),i.tag="".concat(Te,"-get"),i.params={ks:t,id:n,responseProfile:{fields:"id,name,description,thumbnailUrl",type:1}},i}},{key:"getLastEntryId",value:function(e,t,n){var r=new Map;r.set("Content-Type","application/json");var i=new ce(r);return i.service="userEntry",i.action="list",i.method="POST",i.url=i.getUrl(e),i.tag="userEntry-list",i.params={ks:t,filter:{objectType:"KalturaViewHistoryUserEntry",entryIdEqual:n,userIdEqualCurrent:1},responseProfile:{fields:"playlistLastEntryId",type:1}},i}}]),a}(fe),Ae=function(){function e(t){i(this,e),h(this,"_response",{}),this.requests=this.buildRequests(t),this._playlistId=t.playlistId}return l(e,[{key:"requests",get:function(){return this._requests},set:function(e){this._requests=e}},{key:"response",get:function(){return this._response},set:function(e){this._response.playlistData=new F(e[0].data),this._response.playlistItems=new L(e[1].data),this._response.playlistUserEntries=new V(e[2].data)}},{key:"buildRequests",value:function(e){var t=_.get(),n=[];return n.push(_e.get(t.serviceUrl,e.ks,e.playlistId)),n.push(_e.execute(t.serviceUrl,e.ks,e.playlistId)),n.push(_e.getLastEntryId(t.serviceUrl,e.ks,e.playlistId)),n}},{key:"isValid",value:function(){return!!this._playlistId}}],[{key:"id",get:function(){return"playlist"}}]),e}(),Se=function(){function e(t,n){i(this,e),h(this,"_networkRetryConfig",{async:!0,timeout:0,maxAttempts:4}),function(e){e&&"function"==typeof e.getLogger&&(v.get=e.getLogger),e&&e.LogLevel&&(m=e.LogLevel)}(t.logger),this._partnerId=t.partnerId,this._widgetId=t.widgetId,this._uiConfId=t.uiConfId,this._isAnonymous=!t.ks,this._ks=t.ks||"",this._playerVersion=n,this._referrer=t.referrer}return l(e,[{key:"partnerId",get:function(){return this._partnerId}},{key:"widgetId",get:function(){return this._widgetId||this.defaultWidgetId}},{key:"defaultWidgetId",get:function(){return"_"+this._partnerId}},{key:"uiConfId",get:function(){return this._uiConfId}},{key:"ks",get:function(){return this._ks},set:function(e){this._ks=e}},{key:"playerVersion",get:function(){return this._playerVersion}},{key:"isAnonymous",get:function(){return this._isAnonymous}},{key:"getMediaConfig",value:function(e){return Promise.reject(new ue(ue.Severity.CRITICAL,ue.Category.PROVIDER,ue.Code.METHOD_NOT_IMPLEMENTED,{message:"getMediaConfig method must be implement by the derived class"}))}},{key:"getPlaylistConfig",value:function(e){return Promise.reject(new ue(ue.Severity.CRITICAL,ue.Category.PROVIDER,ue.Code.METHOD_NOT_IMPLEMENTED,{message:"The provider does not support loading playlist by id"}))}},{key:"getEntryListConfig",value:function(e){return Promise.reject(new ue(ue.Severity.CRITICAL,ue.Category.PROVIDER,ue.Code.METHOD_NOT_IMPLEMENTED,{message:"The provider does not support loading entry list"}))}},{key:"_verifyHasSources",value:function(e){if(0===e.hls.concat(e.dash,e.progressive,e.image,e.document).length)throw new ue(ue.Severity.CRITICAL,ue.Category.SERVICE,ue.Code.MISSING_PLAY_SOURCE,{action:"",messages:"No play source for entry id: ".concat(e.id)})}},{key:"LogLevel",get:function(){return m}},{key:"getLogLevel",value:function(e){return function(e){return b(e).getLevel()}(e)}},{key:"setLogLevel",value:function(e,t){!function(e,t){b(t).setLevel(e)}(e,t)}}]),e}(),we=function(){function e(t){i(this,e),h(this,"_response",{playlistItems:{entries:[]}}),this.requests=this.buildRequests(t),this._entries=t.entries}return l(e,[{key:"requests",get:function(){return this._requests},set:function(e){this._requests=e}},{key:"response",get:function(){return this._response},set:function(e){var t,n=this;e.forEach((function(e){t=new C(e.data),n._response.playlistItems.entries.push(t.entries[0])}))}},{key:"buildRequests",value:function(e){var t=_.get(),n=[];return e.entries.forEach((function(r){n.push(ge.list(t.serviceUrl,e.ks,r.entryId||r,e.redirectFromEntryId,r.referenceId))})),n}},{key:"isValid",value:function(){return!(!this._entries||!this._entries.length)}}],[{key:"id",get:function(){return"entry_list"}}]),e}();function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xe(e){return function(e){if(Array.isArray(e))return Ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ce(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Pe=function(){function e(){i(this,e)}return l(e,null,[{key:"_applyRegexAction",value:function(e,t){if(e){var n=new RegExp(e.pattern,"i");if(t.match(n))return t.replace(n,e.replacement+"/")}return t}},{key:"_pingECDNAndReplaceHostUrls",value:function(t,n,r){return new Promise((function(i){var a=r+"/api_v3/service/system/action/ping/format/1",o=new XMLHttpRequest;o.open("GET",a),o.timeout=n.checkAliveTimeoutMs,o.onreadystatechange=function(){4===o.readyState&&(200===o.status&&e._replaceHostUrls(t,n),i(t))},o.ontimeout=function(){e._logger.warn("Got timeout while pinging the ECDN url. the ping url: ".concat(a)),i(t)},o.send()}))}},{key:"handleRegexAction",value:function(t,n){return new Promise((function(r){var i=_.get().cdnUrl,a=e._extractRegexActionFromData(n),o=e._getRegExp(a);i&&a&&o&&i.match(o)?a.checkAliveTimeoutMs>0?(e._logger.debug("executing ping request..."),e._pingECDNAndReplaceHostUrls(t,a,i.replace(o,a.replacement)).then(r)):(e._replaceHostUrls(t,a),r(t)):(e._logger.debug("exiting handleRegexAction - not applying regex action."),r(t))}))}},{key:"_replaceHostUrls",value:function(t,n){e._logger.debug("Starting to modify urls...");var r=t.sources,i=r.hls,a=r.dash,o=r.progressive,s=r.image;[].concat(xe(i),xe(a),xe(o),xe(s)).forEach((function(t){return t.url=e._applyRegexAction(n,t.url)})),_.get().replaceHostOnlyManifestUrls||(e._logger.debug("replaceHostOnlyManifestUrls flag is off - modifying captions and poster URLs"),r.captions&&r.captions.forEach((function(t){return t.url=e._applyRegexAction(n,t.url)})),"string"==typeof r.poster&&(r.poster=e._applyRegexAction(n,r.poster))),e._logger.debug("Finished modifying urls")}},{key:"_extractRegexActionFromData",value:function(e){var t;return null===(t=e.get(me.id))||void 0===t||null===(t=t.response)||void 0===t?void 0:t.playBackContextResult.getRequestHostRegexAction()}},{key:"_getRegExp",value:function(e){if(e&&e.pattern&&e.replacement)return new RegExp(e.pattern,"i")}}]),e}();h(Pe,"_logger",k("RegexActionHandler"));var Re=Pe,Ie=function(e){d(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=f(t);if(n){var i=f(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return p(this,e)});function a(){return i(this,a),r.apply(this,arguments)}return l(a,null,[{key:"get",value:function(e,t){var n=new Map;n.set("Content-Type","application/json");var r=new ce(n);return r.service="user",r.action="get",r.method="POST",r.url=r.getUrl(e),r.tag="user-get",r.params={ks:t,format:1},r}}]),a}(fe),De=function(){function e(t){i(this,e),this.id=t.id}return l(e,[{key:"isAnonymous",value:function(){return e.INVALID_IDS.includes(this.id)}}]),e}();h(De,"INVALID_IDS",["0","",null,void 0]);var Oe=function(e){d(c,e);var n,r,a,o,s=(a=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(a);if(o){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function c(e,t){var n;return i(this,c),h(u(n=s.call(this,e,t)),"_filterOptionsConfig",{redirectFromEntryId:!0}),n._logger=k("OVPProvider"),_.set(e.env),n._setFilterOptionsConfig(e.filterOptions),n._vrTag=e.vrTag||"360",n._networkRetryConfig=Object.assign(n._networkRetryConfig,e.networkRetryParameters),n._isAnonymous=!n._ks||void 0,void 0===n._isAnonymous&&n.initializeUserResponse(_.serviceUrl,n._ks).then((function(){n._logger.info("User response initialized")})).catch((function(e){n._logger.error("Failed to initialize user response",e)})),n}return l(c,[{key:"env",get:function(){return _.get()}},{key:"initializeUserResponse",value:(n=g().mark((function e(t,n){var r,i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ie.get(t,n)).params=JSON.stringify(r.params),e.next=4,r.doHttpRequest();case 4:i=e.sent,a=new De(i),this._isAnonymous=a.isAnonymous();case 7:case"end":return e.stop()}}),e,this)})),r=function(){var e=this,r=arguments;return new Promise((function(i,a){var o=n.apply(e,r);function s(e){t(o,i,a,s,l,"next",e)}function l(e){t(o,i,a,s,l,"throw",e)}s(void 0)}))},function(e,t){return r.apply(this,arguments)})},{key:"getMediaConfig",value:function(e){var t=this;return e.ks&&(this.ks=e.ks),this._dataLoader=new Ee(this.playerVersion,this.partnerId,this.ks,this._networkRetryConfig),new Promise((function(n,r){var i=e.entryId,a=e.referenceId;if(i||a){var o=t.ks;o||(o="{1:result:ks}",t._dataLoader.add(ke,{widgetId:t.widgetId}));var s=t._getEntryRedirectFilter(e);return t._dataLoader.add(me,{entryId:i,ks:o,redirectFromEntryId:s,referenceId:a,referrer:t._referrer}),t._dataLoader.fetchData().then((function(e){try{var i=t._parseDataFromResponse(e);Re.handleRegexAction(i,e).then(n)}catch(e){r(e)}}),(function(e){r(e)}))}r(new ue(ue.Severity.CRITICAL,ue.Category.PROVIDER,ue.Code.MISSING_MANDATORY_PARAMS,{message:"missing entry id"}))}))}},{key:"doRequest",value:function(e,t,n){var r=this,i=t||this.ks,a=new Ee(this.playerVersion,this.partnerId,i,this._networkRetryConfig);return new Promise((function(t,o){return i||a.add(ke,{widgetId:r.widgetId}),e.forEach((function(e){a.add(e.loader,e.params,i||"{1:result:ks}")})),a.fetchData(n).then((function(e){try{t(e)}catch(e){o(e)}}),(function(e){o(e)}))}))}},{key:"_getEntryRedirectFilter",value:function(e){return"boolean"==typeof e.redirectFromEntryId?e.redirectFromEntryId:"boolean"!=typeof this._filterOptionsConfig.redirectFromEntryId||this._filterOptionsConfig.redirectFromEntryId}},{key:"_setFilterOptionsConfig",value:function(e){e&&"boolean"==typeof e.redirectFromEntryId&&(this._filterOptionsConfig.redirectFromEntryId=e.redirectFromEntryId)}},{key:"_parseDataFromResponse",value:function(e){this._logger.debug("Data parsing started");var t={session:{isAnonymous:this._isAnonymous,partnerId:this.partnerId},sources:this._getDefaultSourcesObject(),plugins:{}};if(this.uiConfId&&(t.session.uiConfId=this.uiConfId),e){if(e.has(ke.id)){var n=e.get(ke.id);n&&n.response&&(t.session.ks=n.response,this.widgetId!==this.defaultWidgetId&&(this.ks=t.session.ks))}else t.session.ks=this.ks;if(e.has(me.id)){var r=e.get(me.id);if(r&&r.response){var i=r.response;if(le.hasBlockAction(i))throw new ue(ue.Severity.CRITICAL,ue.Category.SERVICE,ue.Code.BLOCK_ACTION,{action:le.getBlockAction(i),messages:le.getErrorMessages(i)});if(le.hasScheduledRestriction(i))throw new ue(ue.Severity.CRITICAL,ue.Category.SERVICE,ue.Code.SCHEDULED_RESTRICTED,{messages:le.getErrorMessages(i)});var a=le.getMediaEntry(this.ks,this.partnerId,this.uiConfId,i);Object.assign(t.sources,this._getSourcesObject(a)),this._verifyMediaStatus(a),this._verifyHasSources(t.sources);var o=le.getBumper(i,this.ks,this.partnerId);o&&Object.assign(t.plugins,{bumper:o})}}}return this._logger.debug("Data parsing finished",t),t}},{key:"_verifyMediaStatus",value:function(e){if([w.EntryStatus.IMPORT,w.EntryStatus.PRECONVERT].includes(e.status))throw new ue(ue.Severity.CRITICAL,ue.Category.SERVICE,ue.Code.MEDIA_STATUS_NOT_READY,{messages:"Status of entry id ".concat(e.id," is ").concat(e.status," and is still being imported or converted"),data:{status}})}},{key:"getPlaylistConfig",value:function(e){var t=this;return e.ks&&(this.ks=e.ks),this._dataLoader=new Ee(this.playerVersion,this.partnerId,this.ks,this._networkRetryConfig),new Promise((function(n,r){var i=e.playlistId;if(i){var a=t.ks;a||(a="{1:result:ks}",t._dataLoader.add(ke,{widgetId:t.widgetId})),t._dataLoader.add(Ae,{playlistId:i,ks:a}),t._dataLoader.fetchData().then((function(e){n(t._parsePlaylistDataFromResponse(e))}),(function(e){r(e)}))}else r({success:!1,data:"Missing mandatory parameter"})}))}},{key:"_parsePlaylistDataFromResponse",value:function(e){var t=this;this._logger.debug("Data parsing started");var n=this._getPlaylistObject();if(e&&e.has(Ae.id)){var r=e.get(Ae.id);if(r&&r.response){var i=le.getPlaylist(r.response);n.id=i.id,n.poster=i.poster,n.metadata.name=i.name,n.metadata.description=i.description,n.playlistLastEntryId=i.playlistLastEntryId,i.items.forEach((function(e){return n.items.push({sources:t._getSourcesObject(e)})}))}}return this._logger.debug("Data parsing finished",n),n}},{key:"getEntryListConfig",value:function(e){var t=this;return e.ks&&(this.ks=e.ks),this._dataLoader=new Ee(this.playerVersion,this.partnerId,this.ks,this._networkRetryConfig),new Promise((function(n,r){var i=e.entries;if(i&&i.length){var a=t.ks;a||(a="{1:result:ks}",t._dataLoader.add(ke,{widgetId:t.widgetId}));var o=t._getEntryRedirectFilter(e);t._dataLoader.add(we,{entries:i,ks:a,redirectFromEntryId:o}),t._dataLoader.fetchData(!1).then((function(e){n(t._parseEntryListDataFromResponse(e))}),(function(e){r(e)}))}else r({success:!1,data:"Missing mandatory parameter"})}))}},{key:"_parseEntryListDataFromResponse",value:function(e){var t=this;this._logger.debug("Data parsing started");var n=this._getPlaylistObject();if(e&&e.has(we.id)){var r=e.get(we.id);r&&r.response&&le.getEntryList(r.response).items.forEach((function(e){return n.items.push({sources:t._getSourcesObject(e)})}))}return this._logger.debug("Data parsing finished",n),n}},{key:"_getPlaylistObject",value:function(){return{id:"",metadata:{name:"",description:""},poster:"",playlistLastEntryId:"",items:[]}}},{key:"_getDefaultSourcesObject",value:function(){return{hls:[],dash:[],progressive:[],image:[],document:[],id:"",duration:0,type:q.Type.UNKNOWN,poster:"",rawThumbnailUrl:"",dvr:!1,vr:null,metadata:{name:"",description:"",tags:""}}}},{key:"_getSourcesObject",value:function(e){var t=this,n=this._getDefaultSourcesObject(),r=e.sources.toJSON();return n.hls=r.hls,n.dash=r.dash,n.progressive=r.progressive,n.image=r.image,n.document=r.document,n.id=e.id,n.duration=e.duration,n.type=e.type,n.dvr=!!e.dvrStatus,n.poster=e.poster,n.rawThumbnailUrl=e.rawThumbnailUrl,n.downloadUrl=e.downloadUrl,n.rootEntryId=e.rootEntryId,n.capabilities=e.capabilities,e.activeLiveStreamTime&&(n.activeLiveStreamTime=e.activeLiveStreamTime),e.sources.captions&&(n.captions=e.sources.captions),e.metadata&&"string"==typeof e.metadata.tags&&e.metadata.tags.split(",").some((function(e){return e.trim()===t._vrTag}))&&(n.vr={}),Object.assign(n.metadata,e.metadata),n}}]),c}(Se),Le="@playkit-js/playkit-js-providers-ovp",Me="2.44.0-canary.0-a2d1ace"}(),r}()},79:(module,e,t)=>{var n;self,module.exports=(n=t(109),function(){var e={228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},858:function(e){e.exports=function(e){if(Array.isArray(e))return e}},646:function(e,t,n){var r=n(228);e.exports=function(e){if(Array.isArray(e))return r(e)}},506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}},713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},154:function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}e.exports=t},754:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(n)}e.exports=t},205:function(e,t,n){var r=n(489);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},860:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},884:function(e){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},479:function(e,t,n){var r=n(316);e.exports=function(e,t){if(null==e)return{};var n,i,a=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},316:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},585:function(e,t,n){var r=n(8),i=n(506);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},489:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,r)}e.exports=t},38:function(e,t,n){var r=n(858),i=n(884),a=n(379),o=n(521);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()}},319:function(e,t,n){var r=n(646),i=n(860),a=n(379),o=n(206);e.exports=function(e){return r(e)||i(e)||a(e)||o()}},8:function(e){function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(n)}e.exports=t},379:function(e,t,n){var r=n(228);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},944:function(e,t,n){(t=n(645)(!1)).push([e.id,".playkit-player{--playkit-primary-hsl-hue: 214deg;--playkit-secondary-hsl-hue: 40deg;--playkit-success-hsl-hue: 135deg;--playkit-danger-hsl-hue: 354deg;--playkit-warning-hsl-hue: 21deg;--playkit-primary-hsl-saturation: 100%;--playkit-secondary-hsl-saturation: 100%;--playkit-success-hsl-saturation: 57%;--playkit-danger-hsl-saturation: 76%;--playkit-warning-hsl-saturation: 81%;--playkit-primary-hsl-lightness: 49%;--playkit-secondary-hsl-lightness: 50%;--playkit-success-hsl-lightness: 30%;--playkit-danger-hsl-lightness: 51%;--playkit-warning-hsl-lightness: 53%;--playkit-primary-color: hsl(var(--playkit-primary-hsl-hue) var(--playkit-primary-hsl-saturation) var(--playkit-primary-hsl-lightness));--playkit-primary-darker-color: hsl( var(--playkit-primary-hsl-hue) var(--playkit-primary-hsl-saturation) calc(var(--playkit-primary-hsl-lightness) - 15%) );--playkit-primary-brighter-color: hsl( var(--playkit-primary-hsl-hue) var(--playkit-primary-hsl-saturation) calc(var(--playkit-primary-hsl-lightness) + 15%) );--playkit-primary-text-contrast-color: #ffffff;--playkit-secondary-color: hsl(var(--playkit-secondary-hsl-hue) var(--playkit-secondary-hsl-saturation) var(--playkit-secondary-hsl-lightness));--playkit-secondary-darker-color: hsl( var(--playkit-secondary-hsl-hue) var(--playkit-secondary-hsl-saturation) calc(var(--playkit-secondary-hsl-lightness) - 15%) );--playkit-secondary-brighter-color: hsl( var(--playkit-secondary-hsl-hue) var(--playkit-secondary-hsl-saturation) calc(var(--playkit-secondary-hsl-lightness) + 15%) );--playkit-secondary-text-contrast-color: #ffffff;--playkit-success-color: hsl(var(--playkit-success-hsl-hue) var(--playkit-success-hsl-saturation) var(--playkit-success-hsl-lightness));--playkit-success-darker-color: hsl( var(--playkit-success-hsl-hue) var(--playkit-success-hsl-saturation) calc(var(--playkit-success-hsl-lightness) - 15%) );--playkit-success-brighter-color: hsl( var(--playkit-success-hsl-hue) var(--playkit-success-hsl-saturation) calc(var(--playkit-success-hsl-lightness) + 15%) );--playkit-success-text-contrast-color: #ffffff;--playkit-danger-color: hsl(var(--playkit-danger-hsl-hue) var(--playkit-danger-hsl-saturation) var(--playkit-danger-hsl-lightness));--playkit-danger-darker-color: hsl( var(--playkit-danger-hsl-hue) var(--playkit-danger-hsl-saturation) calc(var(--playkit-danger-hsl-lightness) - 15%) );--playkit-danger-brighter-color: hsl( var(--playkit-danger-hsl-hue) var(--playkit-danger-hsl-saturation) calc(var(--playkit-danger-hsl-lightness) + 15%) );--playkit-danger-text-contrast-color: #ffffff;--playkit-warning-color: hsl(var(--playkit-warning-hsl-hue) var(--playkit-warning-hsl-saturation) var(--playkit-warning-hsl-lightness));--playkit-warning-darker-color: hsl( var(--playkit-warning-hsl-hue) var(--playkit-warning-hsl-saturation) calc(var(--playkit-warning-hsl-lightness) - 15%) );--playkit-warning-brighter-color: hsl( var(--playkit-warning-hsl-hue) var(--playkit-warning-hsl-saturation) calc(var(--playkit-warning-hsl-lightness) + 15%) );--playkit-warning-text-contrast-color: #ffffff;--playkit-tone-1-color: #ffffff;--playkit-tone-2-color: #cccccc;--playkit-tone-3-color: #999999;--playkit-tone-4-color: #666666;--playkit-tone-5-color: #525252;--playkit-tone-6-color: #383838;--playkit-tone-7-color: #212121;--playkit-tone-8-color: #000000;--playkit-tone-1-color-rgb: 255, 255, 255;--playkit-tone-2-color-rgb: 204, 204, 204;--playkit-tone-3-color-rgb: 153, 153, 153;--playkit-tone-4-color-rgb: 102, 102, 102;--playkit-tone-5-color-rgb: 82, 82, 82;--playkit-tone-6-color-rgb: 56, 56, 56;--playkit-tone-7-color-rgb: 33, 33, 33;--playkit-tone-8-color-rgb: 0, 0, 0;--playkit-live-color: #e12437;--playkit-player-background-color: #000000;--playkit-tab-focus-color: var(--playkit-primary-color);--playkit-tooltip-background-color: var(--playkit-tone-1-color);--playkit-tooltip-color: var(--playkit-tone-7-color);--playkit-ads-color: var(--playkit-secondary-color);--playkit-background-color: #121212;--playkit-elevated-color: #333333;--playkit-paper-color: #242424;--playkit-protection-color: #222222}.playkit-row{display:block}.playkit-row:after{content:\"\";clear:both;display:block}.playkit-d-inline-block{display:inline-block}.playkit-mobile-hidden-select{display:block;opacity:0;position:absolute;top:0;left:0px;width:100%;height:100%}.playkit-font-size-base,.playkit-ad-notice{font-size:15px}.playkit-player .playkit-form-group{margin:10px 0;position:relative;max-width:100%}.playkit-player .playkit-form-group.playkit-has-error .playkit-form-control{border-color:var(--playkit-danger-color)}.playkit-player .playkit-form-group.playkit-has-error .playkit-form-control:focus{border-color:#fff}.playkit-player .playkit-form-group.playkit-has-icon .playkit-form-control{padding-left:34px}.playkit-player .playkit-form-group .playkit-icon{position:absolute;top:2px;left:2px;width:32px;height:32px;fill:rgba(255,255,255,.4)}.playkit-player .playkit-form-control{height:32px;width:100%;min-width:72px;border:2px solid rgba(255,255,255,.2);border-radius:4px;background-color:rgba(0,0,0,.4);font-size:15px;line-height:18px;color:#fff;padding:8px 10px;text-overflow:ellipsis}.playkit-player .playkit-form-control::-webkit-input-placeholder{color:rgba(255,255,255,.6)}.playkit-player .playkit-form-control:focus{background-color:#fff;border-color:#fff;color:var(--playkit-tone-7-color)}.playkit-player .playkit-form-control:focus::-webkit-input-placeholder{color:var(--playkit-tone-2-color)}.playkit-player .playkit-form-control:focus+.playkit-icon{fill:var(--playkit-tone-3-color)}.playkit-player textarea.playkit-form-control{min-height:72px}.playkit-player select{font-size:15px;color:#fff;-webkit-appearance:none;border:0;background:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23FFFFFF' viewBox='0 0 1024 1024'><path d='M301.255 338.745c-24.994-24.994-65.516-24.994-90.51 0s-24.994 65.516 0 90.51l256 256c24.994 24.994 65.516 24.994 90.51 0l256-256c24.994-24.994 24.994-65.516 0-90.51s-65.516-24.994-90.51 0l-210.745 210.745-210.745-210.745z' /></svg>\") no-repeat;background-size:16px;background-position:100% center;background-repeat:no-repeat;padding-right:24px}.playkit-checkbox{font-size:15px;position:relative}.playkit-checkbox input{display:none}.playkit-checkbox label:before{height:16px;width:16px;border:1px solid rgba(255,255,255,.2);border-radius:4px;background-color:rgba(0,0,0,.4);margin-right:8px;display:inline-block;content:\"\";vertical-align:middle}.playkit-checkbox input:checked+label:before{content:\"✔\";text-align:center;font-size:14px}.playkit-form-group-row{font-size:15px;margin:24px 0}.playkit-form-group-row:after{clear:both;content:\" \";display:block}.playkit-form-group-row label{float:left;color:rgba(244,244,244,.8)}.playkit-form-group-row .playkit-dropdown{float:right}.playkit-btn{text-decoration:none;height:36px;border-radius:18px;color:#fff;line-height:36px;font-weight:bold;cursor:pointer;display:inline-block;padding:0 24px}.playkit-btn.playkit-btn-block{display:block}.playkit-btn.playkit-btn-dark-transparent{background-color:rgba(0,0,0,.5);border:2px solid rgba(255,255,255,.2);line-height:32px}.playkit-btn.playkit-btn-dark-transparent:hover{color:#fff;border:2px solid rgba(255,255,255,.4)}.playkit-btn.playkit-btn-branded{background-color:var(--playkit-primary-color)}.playkit-btn.playkit-btn-branded:hover{color:#fff}.playkit-btn-rounded{height:36px;width:36px;min-width:36px;min-height:36px;border-radius:18px;background-color:rgba(0,0,0,.4);display:inline-block;padding:2px}.playkit-player button:focus{outline:none}.playkit-btn-borderless{display:flex;flex-direction:row;justify-content:center;align-items:center;border-radius:4px;border:none;padding:8px 12px 8px 8px;width:82px;height:40px;background-color:rgba(0,0,0,0);cursor:pointer}.playkit-btn-borderless.playkit-only-icon{padding:4px;width:40px;height:40px}.playkit-btn-borderless.playkit-only-label{padding:8px;width:50px;height:40px}.playkit-btn-borderless i{width:32px;height:32px}.playkit-btn-borderless label{color:var(--playkit-tone-1-color)}.playkit-btn-borderless:hover{background-color:var(--playkit-tone-5-color)}.playkit-btn-translucent{background-color:rgba(0,0,0,.6)}.playkit-btn-translucent:hover{background-color:rgba(0,0,0,.7)}.playkit-player.playkit-size-sm .playkit-btn-borderless,.playkit-player.playkit-size-xs .playkit-btn-borderless{height:32px}.playkit-player.playkit-size-sm .playkit-btn-borderless i,.playkit-player.playkit-size-xs .playkit-btn-borderless i{width:24px;height:24px}.playkit-player.playkit-size-sm .playkit-btn-borderless.playkit-only-icon,.playkit-player.playkit-size-xs .playkit-btn-borderless.playkit-only-icon{padding:4px;width:32px;height:32px}.playkit-player.playkit-size-sm .playkit-btn-borderless.playkit-only-label,.playkit-player.playkit-size-xs .playkit-btn-borderless.playkit-only-label{padding:8px;width:50px;height:32px}.playkit-icon{display:inline-block;font-size:0;width:100%;height:100%;margin:0 auto;background-size:cover;background-repeat:no-repeat;background-position:50% 50%;filter:drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.7))}.playkit-badge-icon:after{content:\"\";position:absolute;height:16px;width:16px;background-size:cover;background-repeat:no-repeat;background-position:50% 50%}.playkit-player{--playkit-icon-vr-stereo-full-url: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23006bff' d='M12 16C12 17.3807 10.8807 18.5 9.5 18.5C8.11929 18.5 7 17.3807 7 16C7 14.6193 8.11929 13.5 9.5 13.5C10.8807 13.5 12 14.6193 12 16Z'/%3E%3Cpath fill='%23006bff' d='M22.5 18.5C23.8807 18.5 25 17.3807 25 16C25 14.6193 23.8807 13.5 22.5 13.5C21.1193 13.5 20 14.6193 20 16C20 17.3807 21.1193 18.5 22.5 18.5Z'/%3E%3Cpath fill='%23006bff' fill-rule='evenodd' clip-rule='evenodd' d='M27 7H5C3.34315 7 2 8.34315 2 10V22C2 23.6569 3.34315 25 5 25H11.8676C12.9214 25 13.8979 24.4471 14.4401 23.5435L16 20.9437L17.5599 23.5435C18.1021 24.4471 19.0786 25 20.1324 25H27C28.6569 25 30 23.6569 30 22V10C30 8.34315 28.6569 7 27 7ZM4 10C4 9.44772 4.44772 9 5 9H27C27.5523 9 28 9.44772 28 10V22C28 22.5523 27.5523 23 27 23H20.1324C19.7811 23 19.4556 22.8157 19.2749 22.5145L17.715 19.9147C17.1467 18.9675 15.9182 18.6604 14.971 19.2287C14.6895 19.3976 14.4539 19.6332 14.285 19.9147L12.7251 22.5145C12.5444 22.8157 12.2189 23 11.8676 23H5C4.44772 23 4 22.5523 4 22V10Z'/%3E%3C/svg%3E\");--playkit-icon-chromecast-url: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23006bff' d='M160 704v96h96c0-53.12-42.88-96-96-96zM160 576v64c88.32 0 160 71.68 160 160h64c0-123.84-100.16-224-224-224zM736 352h-448v52.16c126.72 40.96 226.88 141.12 267.84 267.84h180.16v-320zM160 448v64c159.040 0 288 128.96 288 288h64c0-194.56-157.76-352-352-352zM800 224h-576c-35.2 0-64 28.8-64 64v96h64v-96h576v448h-224v64h224c35.2 0 64-28.8 64-64v-448c0-35.2-28.8-64-64-64z'%3E%3C/path%3E%3C/svg%3E\");--playkit-icon-quality-HD-active-url: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 16 16' width='16' height='16' fill-rule='nonzero'%3E%3Cpath fill='%23006bff' d='M13.9932 4C14.5492 4 15 4.45304 15 4.99703V11.003C15 11.5536 14.5501 12 13.9932 12H2.00685C1.45078 12 1 11.547 1 11.003V4.99703C1 4.44639 1.44995 4 2.00685 4H13.9932Z' fill-rule='evenodd' clip-rule='evenodd'/%3E%3Cpath fill='textColor' d='M3.74623 5H2.00684V11H3.74623L3.74602 8.56941H5.97529L5.976 11H7.70614V5H5.976L5.97529 7.32457H3.74602L3.74623 5Z'/%3E%3Cpath fill='textColor' d='M10.8565 5H8.66374V11H10.8842L11.1456 10.9922C11.5739 10.966 11.9652 10.8745 12.3197 10.7176L12.4987 10.6312L12.6935 10.52C13.0708 10.2858 13.3744 9.98155 13.6044 9.60714C13.8344 9.23273 13.9658 8.81089 13.9986 8.34161L14.0068 8.10302V7.9011L13.9986 7.66146C13.9658 7.19033 13.8344 6.76815 13.6044 6.39492C13.3361 5.95948 12.9652 5.61813 12.4918 5.37088C12.086 5.15895 11.6276 5.03784 11.1164 5.00757L10.8565 5ZM10.8565 6.24902C11.1618 6.24902 11.417 6.30946 11.6221 6.43034C11.8272 6.55122 11.9814 6.73323 12.0847 6.97636C12.1674 7.17086 12.217 7.40537 12.2335 7.67988L12.2397 7.89325V8.10342L12.2334 8.31837C12.2166 8.59485 12.1663 8.83089 12.0824 9.0265C11.9776 9.271 11.8249 9.45369 11.6244 9.57457C11.4641 9.67128 11.2741 9.7293 11.0545 9.74864L10.8843 9.75589L10.4026 9.75641V6.24977L10.8565 6.24902Z' fill-rule='evenodd' clip-rule='evenodd'/%3E%3C/svg%3E\");--playkit-icon-quality-4K-active-url: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 16 16' width='16' height='16' fill-rule='nonzero'%3E%3Cpath fill='%23006bff' d='M13.9932 4C14.5492 4 15 4.45304 15 4.99703V11.003C15 11.5536 14.5501 12 13.9932 12H2.00685C1.45078 12 1 11.547 1 11.003V4.99703C1 4.44639 1.44995 4 2.00685 4H13.9932Z' fill-rule='evenodd' clip-rule='evenodd'/%3E%3Cpath fill='textColor' fill-rule='evenodd' clip-rule='evenodd' d='M6.52118 5H4.77854L4.77781 5.01382L2 8.80769L2.10649 9.76786L4.77781 9.76867L4.77854 11H6.52118L6.52064 9.76867L7.19403 9.76786V8.5728L6.52064 8.57363L6.52118 5ZM4.77781 7.01953V8.5741L3.65067 8.57327L4.69625 7.13921L4.77781 7.01953Z'/%3E%3Cpath fill='textColor' d='M9.81283 5H7.99274V11H9.81283L9.81198 9.5062L10.4712 8.88589L11.8314 11H13.9806L11.6857 7.663L14 5H11.7588L10.355 6.78434L9.81198 7.5229L9.81283 5Z'/%3E%3C/svg%3E\");--playkit-icon-quality-8K-active-url: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 16 16' width='16' height='16' fill-rule='nonzero'%3E%3Cpath fill='%23006bff' d='M13.9932 4C14.5492 4 15 4.45304 15 4.99703V11.003C15 11.5536 14.5501 12 13.9932 12H2.00685C1.45078 12 1 11.547 1 11.003V4.99703C1 4.44639 1.44995 4 2.00685 4H13.9932Z' fill-rule='evenodd' clip-rule='evenodd'/%3E%3Cpath fill='textColor' d='M4.5 5C4.04427 5 3.639 5.06279 3.28418 5.18838C2.92936 5.31396 2.65104 5.49967 2.44922 5.74549C2.2474 5.99132 2.14648 6.29459 2.14648 6.65531C2.14648 6.96259 2.24821 7.23113 2.45166 7.46092C2.58729 7.61412 2.75693 7.74445 2.96056 7.85193L3.07973 7.90981L3.04818 7.92134L2.87891 8.00067C2.71615 8.08484 2.57292 8.18353 2.44922 8.29676L2.33203 8.41483L2.24394 8.52321C2.08131 8.74602 2 9.00515 2 9.3006C2 9.67735 2.10986 9.99132 2.32959 10.2425C2.54932 10.4937 2.8488 10.6827 3.22803 10.8096C3.60726 10.9365 4.03613 11 4.51465 11C4.99642 11 5.42367 10.9365 5.79639 10.8096C6.16911 10.6827 6.46289 10.4937 6.67773 10.2425C6.89258 9.99132 7 9.67735 7 9.3006C7 8.95591 6.89176 8.66065 6.67529 8.41483L6.56041 8.29676C6.39837 8.14579 6.20089 8.02065 5.96796 7.92134L5.94 7.911L6.06141 7.85193L6.20532 7.76703C6.29701 7.70758 6.3802 7.64241 6.45489 7.57153L6.56055 7.46092L6.65156 7.3428C6.78945 7.14054 6.8584 6.91138 6.8584 6.65531C6.8584 6.29459 6.7583 5.99132 6.55811 5.74549C6.35791 5.49967 6.08122 5.31396 5.72803 5.18838C5.37484 5.06279 4.9655 5 4.5 5ZM4.5 6.16211C4.63672 6.16211 4.74902 6.18549 4.83691 6.23225C4.9248 6.27901 4.99072 6.34514 5.03467 6.43065C5.07861 6.51615 5.10059 6.62036 5.10059 6.74327C5.10059 6.86351 5.08024 6.96972 5.03955 7.06191C4.99886 7.15409 4.93538 7.22624 4.84912 7.27834C4.76286 7.33045 4.65137 7.3565 4.51465 7.3565C4.37793 7.3565 4.26481 7.33045 4.17529 7.27834C4.08577 7.22624 4.01986 7.15409 3.97754 7.06191C3.93522 6.96972 3.91406 6.86351 3.91406 6.74327C3.91406 6.62036 3.93522 6.51615 3.97754 6.43065C4.01986 6.34514 4.08496 6.27901 4.17285 6.23225C4.26074 6.18549 4.36979 6.16211 4.5 6.16211ZM4.50488 8.51882C4.65462 8.51882 4.78402 8.54354 4.89307 8.59297C5.00212 8.6424 5.08675 8.71522 5.14697 8.81141C5.20719 8.9076 5.2373 9.02784 5.2373 9.17213C5.2373 9.3084 5.20801 9.42597 5.14941 9.52484C5.09082 9.6237 5.007 9.70052 4.89795 9.7553C4.7889 9.81007 4.66113 9.83746 4.51465 9.83746C4.36491 9.83746 4.23389 9.81007 4.12158 9.7553C4.00928 9.70052 3.9222 9.6237 3.86035 9.52484C3.7985 9.42597 3.76758 9.3084 3.76758 9.17213C3.76758 9.02784 3.7985 8.9076 3.86035 8.81141C3.9222 8.71522 4.00846 8.6424 4.11914 8.59297C4.22982 8.54354 4.3584 8.51882 4.50488 8.51882Z' fill-rule='evenodd' clip-rule='evenodd'/%3E%3Cpath fill='textColor' d='M9.81789 5H8V11H9.81789L9.81771 9.5062L10.4752 8.88673L11.834 11H13.9807L11.6891 7.663L14 5H11.7615L10.3594 6.78434L9.81771 7.5229L9.81789 5Z'/%3E%3C/svg%3E\")}.playkit-icon-maximize{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M800 269.255v114.745c0 17.673 14.327 32 32 32s32-14.327 32-32v-192c0-17.673-14.327-32-32-32h-192c-17.673 0-32 14.327-32 32s14.327 32 32 32h114.745l-137.373 137.373c-12.497 12.497-12.497 32.758 0 45.255s32.758 12.497 45.255 0l137.373-137.373z' /%3E %3Cpath fill='%23fff' d='M224 754.745v-114.745c0-17.673-14.327-32-32-32s-32 14.327-32 32v192c0 17.673 14.327 32 32 32h192c17.673 0 32-14.327 32-32s-14.327-32-32-32h-114.745l137.373-137.373c12.497-12.497 12.497-32.758 0-45.255s-32.758-12.497-45.255 0l-137.373 137.373z' /%3E%3C/svg%3E\")}.playkit-icon-minimize{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M672 306.745v-114.745c0-17.673-14.327-32-32-32s-32 14.327-32 32v192c0 17.673 14.327 32 32 32h192c17.673 0 32-14.327 32-32s-14.327-32-32-32h-114.745l137.373-137.373c12.497-12.497 12.497-32.758 0-45.255s-32.758-12.497-45.255 0l-137.373 137.373z' /%3E%3Cpath fill='%23fff' d='M352 717.255v114.745c0 17.673 14.327 32 32 32s32-14.327 32-32v-192c0-17.673-14.327-32-32-32h-192c-17.673 0-32 14.327-32 32s14.327 32 32 32h114.745l-137.373 137.373c-12.497 12.497-12.497 32.758 0 45.255s32.758 12.497 45.255 0l137.373-137.373z' /%3E%3C/svg%3E\")}.playkit-icon-play{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M796.806 461.202c44.919 28.075 44.739 73.706 0 101.668l-459.472 287.171c-44.919 28.075-81.334 7.915-81.334-45.305v-585.4c0-53.096 36.595-73.266 81.334-45.305l459.472 287.171z' /%3E%3C/svg%3E\")}.playkit-icon-pause{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M256 287.843c0-35.259 28.407-63.843 64-63.843 35.346 0 64 28.564 64 63.843v448.314c0 35.259-28.407 63.843-64 63.843-35.346 0-64-28.564-64-63.843v-448.314zM640 287.843c0-35.259 28.407-63.843 64-63.843 35.346 0 64 28.564 64 63.843v448.314c0 35.259-28.407 63.843-64 63.843-35.346 0-64-28.564-64-63.843v-448.314z' /%3E%3C/svg%3E\")}.playkit-icon-volume-base{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M128 416v192h96v-192h-96zM64 383.853c0-17.592 14.012-31.853 32.094-31.853h159.813c17.725 0 32.094 14.581 32.094 31.853v256.295c0 17.592-14.012 31.853-32.094 31.853h-159.813c-17.725 0-32.094-14.581-32.094-31.853v-256.295z' /%3E%3Cpath fill='%23fff' d='M288 634.342l160 88.889v-422.462l-160 88.889v244.684zM224 352l231.787-128.771c31.046-17.248 56.213-2.487 56.213 32.476v512.589c0 35.184-25.054 49.786-56.213 32.476l-231.787-128.771v-320z' /%3E%3C/svg%3E\")}.playkit-icon-volume-waves{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M802.017 837.177c82.359-86.627 129.183-201.774 129.183-324.26 0-123.976-47.976-240.409-132.127-327.329-12.293-12.697-32.552-13.025-45.249-0.732s-13.025 32.552-0.732 45.249c72.692 75.084 114.109 175.597 114.109 282.812 0 105.928-40.422 205.331-111.566 280.162-12.177 12.808-11.666 33.063 1.143 45.24s33.063 11.666 45.24-1.143z' /%3E%3Cpath fill='%23fff' d='M667.436 743.221c67.761-60.884 107.273-147.888 107.273-241.233 0-87.318-34.552-169.203-94.836-229.446-12.501-12.493-32.762-12.486-45.255 0.015s-12.486 32.762 0.015 45.255c48.375 48.342 76.075 113.989 76.075 184.176 0 75.021-31.679 144.776-86.048 193.627-13.146 11.812-14.227 32.044-2.416 45.19s32.044 14.227 45.19 2.416z' /%3E%3C/svg%3E\")}.playkit-icon-volume-wave{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M667.436 743.221c67.761-60.884 107.273-147.888 107.273-241.233 0-87.318-34.552-169.203-94.836-229.446-12.501-12.493-32.762-12.486-45.255 0.015s-12.486 32.762 0.015 45.255c48.375 48.342 76.075 113.989 76.075 184.176 0 75.021-31.679 144.776-86.048 193.627-13.146 11.812-14.227 32.044-2.416 45.19s32.044 14.227 45.19 2.416z'/%3E%3C/svg%3E\")}.playkit-icon-volume-mute{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M768 466.745l-67.986-67.986c-12.213-12.213-32.654-12.393-45.151 0.104-12.584 12.584-12.543 32.711-0.104 45.151l67.986 67.986-67.986 67.986c-12.213 12.213-12.393 32.654 0.104 45.151 12.584 12.584 32.711 12.543 45.151 0.104l67.986-67.986 67.986 67.986c12.213 12.213 32.654 12.393 45.151-0.104 12.584-12.584 12.543-32.711 0.104-45.151l-67.986-67.986 67.986-67.986c12.213-12.213 12.393-32.654-0.104-45.151-12.584-12.584-32.711-12.543-45.151-0.104l-67.986 67.986z' /%3E%3C/svg%3E\")}.playkit-icon-close{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M573.162 512l214.269-214.269c16.772-16.772 16.688-44.071-0.202-60.96-17.007-17.007-44.182-16.98-60.96-0.202l-214.269 214.269-214.269-214.269c-16.772-16.772-44.071-16.688-60.96 0.202-17.007 17.007-16.98 44.182-0.202 60.96l214.269 214.269-214.269 214.269c-16.772 16.772-16.688 44.071 0.202 60.96 17.007 17.007 44.182 16.98 60.96 0.202l214.269-214.269 214.269 214.269c16.772 16.772 44.071 16.688 60.96-0.202 17.007-17.007 16.98-44.182 0.202-60.96l-214.269-214.269z' /%3E%3C/svg%3E\")}.playkit-icon-settings{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M803.451 546.033c2.552-22.107 2.552-44.408 0.246-64.81-1.084-6.208-6.499-10.721-12.535-10.671-30.286 0.533-57.727-17.773-68.866-45.941s-3.64-60.291 18.795-80.593c3.935-3.569 4.416-9.583 0.92-13.959-13.595-17.35-29.146-33.073-46.311-46.83-4.23-3.38-10.359-2.886-14.783 1.966-14.421 14.721-34.212 22.938-54.434 22.761-9.009 0.041-17.942-1.652-26.865-5.212-28.414-11.992-46.226-40.546-44.49-71.542 0.335-5.319-3.547-9.972-8.785-10.588-21.926-2.538-44.068-2.595-65.961-0.176-5.349 0.6-9.341 5.207-9.175 10.514 1.027 30.384-16.802 58.251-45.764 70.431-8.238 3.138-16.993 4.701-25.207 4.609-20.599 0.206-40.395-7.982-55.482-23.363-2.014-2.187-4.849-3.435-7.553-3.445-2.441 0.015-4.811 0.83-6.513 2.139-17.541 13.798-33.455 29.547-47.262 46.729-3.418 4.337-2.922 10.575 0.97 14.162 22.816 20.692 30.19 53.479 17.807 83.351-13.035 27.396-41.135 44.394-71.446 43.222-5.112-0.197-9.499 3.606-10.086 9.179-2.673 22.023-2.673 44.289-0.212 64.867 1.080 6.27 6.559 10.824 13.309 10.737l2.225 0.006c28.935 0.604 54.726 18.391 65.634 45.374 11.22 28.205 3.921 60.407-18.565 81.204-3.866 3.509-4.341 9.418-0.895 13.742 13.545 17.354 29.027 33.106 46.042 46.867 4.303 3.449 10.547 2.954 14.986-1.907 14.414-14.76 34.226-23.001 54.43-22.82 9.070-0.052 18.063 1.668 27.041 5.299 28.19 12.071 45.891 40.41 44.347 71.468-0.342 5.312 3.536 9.962 8.802 10.578 21.915 2.548 44.049 2.605 65.929 0.176 5.364-0.604 9.364-5.227 9.191-10.598-0.997-30.358 16.84-58.183 45.452-70.201 8.263-3.256 17.070-4.908 25.521-4.865 20.676-0.206 40.533 8.070 55.398 23.38 2.039 2.195 4.898 3.446 7.673 3.455 2.268-0.011 4.468-0.776 6.321-2.228 17.625-13.724 33.599-29.444 47.415-46.611 3.426-4.348 2.928-10.6-0.863-14.097-22.358-20.082-30.057-51.85-19.372-79.939s37.55-46.71 67.745-46.857h5.229c5.12-0.026 9.413-3.875 9.996-8.962zM861.733 552.735c-3.961 34.572-33.157 60.748-68.129 60.926h-5.235c-5.803 0.028-10.991 3.624-13.054 9.048s-0.577 11.558 4.020 15.69c26.602 24.519 29.853 65.381 7.275 94.034-16.847 20.934-36.063 39.845-57.197 56.302-12.034 9.427-26.861 14.584-42.368 14.658-19.254-0.051-37.623-8.090-50.269-21.718-3.221-3.315-7.66-5.165-12.712-5.118-1.425-0.007-2.839 0.258-3.554 0.532-5.581 2.346-9.136 7.892-8.937 13.966 1.152 35.958-25.509 66.771-61.307 70.804-26.332 2.923-52.909 2.854-79.246-0.208-36.286-4.245-62.897-36.157-60.576-72.186 0.304-6.123-3.235-11.788-8.302-13.964-1.328-0.536-2.748-0.808-4.606-0.8-4.651-0.041-9.118 1.817-11.635 4.367-24.544 27.036-65.886 30.311-94.481 7.394-20.587-16.65-39.207-35.595-55.308-56.226-22.552-28.277-19.261-69.208 7.317-93.334 4.474-4.138 5.939-10.604 3.748-16.115-2.052-5.076-6.932-8.442-11.794-8.55-36.436 0.464-66.759-24.741-72.949-60.89-3.243-26.718-3.243-53.731-0.055-79.964 3.744-35.827 34.642-62.605 70.642-61.219 6.877 0.266 13.251-3.59 15.584-8.401 2.309-5.59 0.861-12.028-3.789-16.247-26.603-24.51-29.856-65.368-7.293-93.994 16.767-20.868 35.856-39.76 57.129-56.491 12.099-9.322 26.921-14.42 42.463-14.513 19.308 0.059 37.717 8.166 50.145 21.684 3.263 3.322 7.737 5.172 12.994 5.126 1.471 0.015 2.933-0.245 3.363-0.39 5.601-2.359 9.165-7.93 8.957-14.077-1.126-35.941 25.542-66.721 61.322-70.731 26.322-2.909 52.889-2.84 79.251 0.212 36.244 4.265 62.828 36.125 60.546 72.343-0.339 6.047 3.159 11.654 8.186 13.782 1.381 0.55 2.855 0.829 4.726 0.823 4.663 0.040 9.142-1.819 11.615-4.312 24.439-26.99 65.656-30.312 94.137-7.557 20.721 16.607 39.456 35.549 55.655 56.225 22.667 28.35 19.38 69.439-7.531 93.846-4.33 3.918-5.776 10.112-3.628 15.542s7.438 8.96 13.543 8.854c34.999-0.298 65.076 24.766 71.337 60.925 3.065 26.552 3.065 53.368 0 79.92zM511.956 589.951c43.215-0.108 78.137-35.17 78.072-78.385 0-31.732-19.132-60.334-48.461-72.448s-63.068-5.35-85.461 17.133c-22.393 22.483-29.022 56.249-16.791 85.529s40.909 48.298 72.641 48.171zM512.146 648.617c-55.438 0.221-105.58-33.029-126.965-84.224s-9.796-110.233 29.358-149.543c39.153-39.31 98.144-51.136 149.424-29.956s84.731 71.189 84.732 126.627c0.114 75.549-60.999 136.907-136.548 137.096z' /%3E%3C/svg%3E\")}.playkit-icon-check{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M342.481 563.894c-12.577-12.416-32.838-12.285-45.254 0.292s-12.285 32.838 0.292 45.254l118.857 117.333c13.275 13.105 34.901 12.123 46.933-2.131l297.143-352c11.4-13.505 9.694-33.694-3.811-45.094s-33.694-9.694-45.094 3.811l-274.828 325.566-94.238-93.030z' /%3E%3C/svg%3E\")}.playkit-icon-check-active{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M342.481 563.894c-12.577-12.416-32.838-12.285-45.254 0.292s-12.285 32.838 0.292 45.254l118.857 117.333c13.275 13.105 34.901 12.123 46.933-2.131l297.143-352c11.4-13.505 9.694-33.694-3.811-45.094s-33.694-9.694-45.094 3.811l-274.828 325.566-94.238-93.030z' /%3E%3C/svg%3E\")}.playkit-icon-language{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M512 800c159.058 0 288-128.942 288-288s-128.942-288-288-288c-159.058 0-288 128.942-288 288s128.942 288 288 288zM512 864c-194.404 0-352-157.596-352-352s157.596-352 352-352c194.404 0 352 157.596 352 352s-157.596 352-352 352z' /%3E%3Cpath fill='%23fff' d='M441.231 173.324c-76.632 84.62-121.231 207.208-121.231 338.676 0 134.304 46.556 259.282 126.083 343.936l46.646-43.82c-68.041-72.429-108.728-181.651-108.728-300.116 0-116.001 39.001-223.203 104.669-295.716l-47.438-42.96z' /%3E%3Cpath fill='%23fff' d='M584.297 173.324c76.632 84.62 121.231 207.208 121.231 338.676 0 134.304-46.556 259.282-126.083 343.936l-46.646-43.82c68.041-72.429 108.728-181.651 108.728-300.116 0-116.001-39.001-223.203-104.669-295.716l47.438-42.96z' /%3E%3Cpath fill='%23fff' d='M840.432 419.786c-81.65-22.637-200.551-35.786-328.432-35.786-128.056 0-247.103 13.185-328.758 35.876l17.136 61.663c75.47-20.972 188.938-33.539 311.622-33.539 122.521 0 235.854 12.533 311.334 33.459l17.099-61.674z' /%3E%3Cpath fill='%23fff' d='M840.432 605.754c-81.65 22.637-200.551 35.786-328.432 35.786-128.056 0-247.103-13.185-328.758-35.876l17.136-61.663c75.47 20.972 188.938 33.539 311.622 33.539 122.521 0 235.854-12.533 311.334-33.459l17.099 61.674z' /%3E%3Cpath fill='%23fff' d='M480 192h64v640h-64v-640z' /%3E%3C/svg%3E\")}.playkit-icon-quality{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M159.904 192h288.234c17.277 0 31.862 14.323 31.862 31.992 0 17.792-14.261 31.993-31.853 31.994l-288.147 0.014v544.174c-0.017-0.18 704-0.174 704-0.174v-128.006c0-17.795 14.327-31.994 32-31.994 17.796 0 32 14.34 32 32.029v128.145c0 35.25-28.639 63.826-63.904 63.826h-704.192c-35.293 0-63.904-28.875-63.904-63.826v-544.348c0-35.25 28.639-63.826 63.904-63.826zM501.818 378.182c108.449 0 196.364-87.915 196.364-196.364 0-29.091 43.636-29.091 43.636 0 0 108.449 87.915 196.364 196.364 196.364 29.091 0 29.091 43.636 0 43.636-108.449 0-196.364 87.915-196.364 196.364 0 29.091-43.636 29.091-43.636 0 0-108.449-87.915-196.364-196.364-196.364-29.091 0-29.091-43.636 0-43.636z' /%3E%3C/svg%3E\")}.playkit-icon-captions{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M160 771.213c-0.017-0.172 704-0.166 704-0.166v-518.261c0.017 0.172-704 0.166-704 0.166v518.261zM96 252.787c0-33.572 28.639-60.787 63.904-60.787h704.192c35.293 0 63.904 27.5 63.904 60.787v518.427c0 33.572-28.639 60.787-63.904 60.787h-704.192c-35.293 0-63.904-27.5-63.904-60.787v-518.427z' /%3E%3Cpath fill='%23fff' d='M490.583 568.655c0 7.729-2.311 15.987-6.933 24.777s-11.668 17.162-21.14 25.118c-9.471 7.956-21.405 14.358-35.801 19.208s-30.611 7.274-48.644 7.274c-38.34 0-68.268-11.176-89.787-33.528s-32.278-52.319-32.278-89.901c0-25.459 4.925-47.962 14.775-67.511s24.095-34.665 42.734-45.348c18.639-10.684 40.916-16.025 66.829-16.025 16.063 0 30.8 2.349 44.212 7.047s24.777 10.759 34.096 18.185c9.32 7.425 16.442 15.343 21.367 23.754s7.388 16.253 7.388 23.527c0 7.425-2.766 13.714-8.297 18.867s-12.237 7.729-20.117 7.729c-5.152 0-9.433-1.326-12.843-3.978s-7.236-6.933-11.479-12.843c-7.577-11.517-15.495-20.155-23.754-25.913s-18.753-8.638-31.482-8.638c-18.336 0-33.111 7.16-44.325 21.481s-16.821 33.907-16.821 58.759c0 11.669 1.44 22.39 4.319 32.164s7.047 18.109 12.502 25.004c5.455 6.895 12.047 12.123 19.776 15.684s16.215 5.342 25.459 5.342c12.426 0 23.072-2.879 31.937-8.638s16.707-14.548 23.527-26.368c3.789-6.971 7.88-12.426 12.275-16.366s9.774-5.91 16.139-5.91c7.577 0 13.866 2.879 18.867 8.638s7.501 11.896 7.501 18.412zM767.219 568.655c0 7.729-2.311 15.987-6.933 24.777s-11.668 17.162-21.14 25.118c-9.471 7.956-21.405 14.358-35.801 19.208s-30.611 7.274-48.644 7.274c-38.34 0-68.268-11.176-89.787-33.528s-32.278-52.319-32.278-89.901c0-25.459 4.925-47.962 14.775-67.511s24.095-34.665 42.734-45.348c18.639-10.684 40.916-16.025 66.829-16.025 16.063 0 30.8 2.349 44.212 7.047s24.777 10.759 34.096 18.185c9.32 7.425 16.442 15.343 21.367 23.754s7.388 16.253 7.388 23.527c0 7.425-2.766 13.714-8.297 18.867s-12.237 7.729-20.117 7.729c-5.152 0-9.433-1.326-12.843-3.978s-7.236-6.933-11.479-12.843c-7.577-11.517-15.495-20.155-23.754-25.913s-18.753-8.638-31.482-8.638c-18.336 0-33.111 7.16-44.325 21.481s-16.821 33.907-16.821 58.759c0 11.669 1.44 22.39 4.319 32.164s7.047 18.109 12.502 25.004c5.455 6.895 12.047 12.123 19.776 15.684s16.215 5.342 25.459 5.342c12.426 0 23.072-2.879 31.937-8.638s16.707-14.548 23.527-26.368c3.789-6.971 7.88-12.426 12.275-16.366s9.774-5.91 16.139-5.91c7.577 0 13.866 2.879 18.867 8.638s7.501 11.896 7.501 18.412z' /%3E%3C/svg%3E\")}.playkit-icon-speed{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M512 832c35.346 0 64-28.654 64-64s-28.654-64-64-64c-35.346 0-64 28.654-64 64s28.654 64 64 64zM480.239 643.971c-0.158-1.272-0.239-2.566-0.239-3.876v-192.19c0-17.621 14.204-31.905 32-31.905 17.673 0 32 14.497 32 31.905v192.19c0 1.313-0.079 2.607-0.232 3.878 55.325 14.128 96.232 64.301 96.232 124.027 0 70.692-57.308 128-128 128s-128-57.308-128-128c0-59.729 40.91-109.903 96.239-124.029zM928 576c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-194.404-157.596-352-352-352s-352 157.596-352 352c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-229.75 186.25-416 416-416s416 186.25 416 416z' /%3E%3C/svg%3E\")}.playkit-icon-speed-down{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M512 800c35.346 0 64-28.654 64-64s-28.654-64-64-64c-35.346 0-64 28.654-64 64s28.654 64 64 64zM401.852 670.758c-1.056-0.826-2.077-1.728-3.055-2.706l-113.005-113.005c-12.533-12.533-12.65-32.737-0.066-45.321 12.497-12.497 32.536-12.719 45.321 0.066l113.005 113.005c0.976 0.976 1.876 1.998 2.701 3.059 19.106-11.343 41.416-17.855 65.248-17.855 70.692 0 128 57.308 128 128s-57.308 128-128 128c-70.692 0-128-57.308-128-128 0-23.829 6.511-46.137 17.852-65.242zM928 576c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-194.404-157.596-352-352-352s-352 157.596-352 352c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-229.75 186.25-416 416-416s416 186.25 416 416z'/%3E%3C/svg%3E\")}.playkit-icon-speed-up{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M512 800c35.346 0 64-28.654 64-64s-28.654-64-64-64c-35.346 0-64 28.654-64 64s28.654 64 64 64zM546.516 612.708c0.524-1.23 1.129-2.446 1.819-3.64l79.906-138.402c8.862-15.35 28.348-20.692 43.76-11.794 15.305 8.837 20.707 28.135 11.666 43.794l-79.906 138.402c-0.693 1.201-1.451 2.34-2.268 3.416 23.761 23.238 38.508 55.655 38.508 91.516 0 70.692-57.308 128-128 128s-128-57.308-128-128c0-70.692 57.308-128 128-128 11.959 0 23.535 1.64 34.516 4.708zM928 576c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-194.404-157.596-352-352-352s-352 157.596-352 352c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-229.75 186.25-416 416-416s416 186.25 416 416z'/%3E%3C/svg%3E\")}.playkit-icon-audio{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M768 625.124v-354.531l-352 135.385v330.022c0 70.692-57.308 128-128 128s-128-57.308-128-128c0-70.692 57.308-128 128-128 23.314 0 45.173 6.233 64 17.124v-241.124c0-13.241 8.155-25.114 20.513-29.867l416-160c20.96-8.062 43.487 7.41 43.487 29.867v512c0 70.692-57.308 128-128 128s-128-57.308-128-128c0-70.692 57.308-128 128-128 23.314 0 45.173 6.233 64 17.124zM288 800c35.346 0 64-28.654 64-64s-28.654-64-64-64c-35.346 0-64 28.654-64 64s28.654 64 64 64zM704 800c35.346 0 64-28.654 64-64s-28.654-64-64-64c-35.346 0-64 28.654-64 64s28.654 64 64 64z' /%3E%3C/svg%3E\")}.playkit-icon-arrow-down{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M301.255 338.745c-24.994-24.994-65.516-24.994-90.51 0s-24.994 65.516 0 90.51l256 256c24.994 24.994 65.516 24.994 90.51 0l256-256c24.994-24.994 24.994-65.516 0-90.51s-65.516-24.994-90.51 0l-210.745 210.745-210.745-210.745z' /%3E%3C/svg%3E\")}.playkit-icon-start-over{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M255.271 339.053c94.182-126.513 270.298-165.203 410.222-84.418 150.758 87.040 202.411 279.813 115.371 430.571s-279.813 202.411-430.571 115.371c-61.424-35.463-107.948-89.4-134.169-153.673-7.677-18.818-29.156-27.85-47.974-20.173s-27.85 29.156-20.173 47.974c32.339 79.269 89.818 145.906 165.517 189.611 185.96 107.364 423.747 43.649 531.111-142.311s43.649-423.747-142.311-531.111c-172.433-99.554-389.428-52.014-505.682 103.69l-27.226-78.49c-6.66-19.202-27.626-29.368-46.828-22.708s-29.368 27.626-22.708 46.828l52.434 151.164c5.36 15.452 20.275 25.513 36.61 24.694l159.799-8.011c20.299-1.018 35.929-18.298 34.911-38.596s-18.298-35.929-38.596-34.911l-89.738 4.499z' /%3E%3C/svg%3E\")}.playkit-icon-seek-end{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M742.494 323.053c-94.182-126.513-270.298-165.203-410.222-84.418-150.758 87.040-202.411 279.813-115.371 430.571s279.813 202.411 430.571 115.371c61.424-35.463 107.948-89.4 134.169-153.673 7.677-18.818 29.156-27.85 47.974-20.173s27.85 29.156 20.173 47.974c-32.339 79.269-89.818 145.906-165.517 189.611-185.96 107.364-423.747 43.649-531.111-142.311s-43.649-423.747 142.311-531.111c172.433-99.554 389.428-52.014 505.682 103.69l27.226-78.49c6.66-19.202 27.626-29.368 46.828-22.708s29.368 27.626 22.708 46.828l-52.434 151.164c-5.36 15.452-20.275 25.513-36.61 24.694l-159.799-8.011c-20.299-1.018-35.929-18.298-34.911-38.596s18.298-35.929 38.596-34.911l89.738 4.499z'/%3E%3C/svg%3E\")}.playkit-icon-rewind{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' opacity='0.5' d='M258.471 323.053c94.182-126.513 270.298-165.203 410.222-84.418 150.758 87.040 202.411 279.813 115.371 430.571s-279.813 202.411-430.571 115.371c-61.424-35.463-107.948-89.4-134.169-153.673-7.677-18.818-29.156-27.85-47.974-20.173s-27.85 29.156-20.173 47.974c32.339 79.269 89.818 145.906 165.517 189.611 185.96 107.364 423.747 43.649 531.111-142.311s43.649-423.747-142.311-531.111c-172.433-99.554-389.428-52.014-505.682 103.69l-27.226-78.49c-6.66-19.202-27.626-29.368-46.828-22.708s-29.368 27.626-22.708 46.828l52.434 151.164c5.36 15.452 20.275 25.513 36.61 24.694l159.799-8.011c20.299-1.018 35.929-18.298 34.911-38.596s-18.298-35.929-38.596-34.911l-89.738 4.499z'%3E%3C/path%3E%3Cpath fill='%23fff' d='M816.068 431.974c-20.553-78.699-71.369-149.456-147.375-193.338-139.923-80.785-316.040-42.095-410.222 84.418l89.738-4.499c20.299-1.018 37.579 14.613 38.596 34.911s-14.613 37.579-34.911 38.596l-159.799 8.011c-16.335 0.819-31.25-9.242-36.61-24.694l-52.434-151.164c-6.66-19.202 3.506-40.167 22.708-46.828s40.167 3.506 46.828 22.708l27.226 78.49c116.254-155.703 333.248-203.244 505.682-103.69 91.184 52.645 152.976 136.648 179.618 230.523l-69.044 26.555z'%3E%3C/path%3E%3C/svg%3E\")}.playkit-icon-rewind-10{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M258.471 323.053c94.182-126.513 270.298-165.203 410.222-84.418 150.758 87.040 202.411 279.813 115.371 430.571s-279.813 202.411-430.571 115.371c-61.424-35.463-107.948-89.4-134.169-153.673-7.677-18.818-29.156-27.85-47.974-20.173s-27.85 29.156-20.173 47.974c32.339 79.269 89.818 145.906 165.517 189.611 185.96 107.364 423.747 43.649 531.111-142.311s43.649-423.747-142.311-531.111c-172.433-99.554-389.428-52.014-505.682 103.69l-27.226-78.49c-6.66-19.202-27.626-29.368-46.828-22.708s-29.368 27.626-22.708 46.828l52.434 151.164c5.36 15.452 20.275 25.513 36.61 24.694l159.799-8.011c20.299-1.018 35.929-18.298 34.911-38.596s-18.298-35.929-38.596-34.911l-89.738 4.499z'%3E%3C/path%3E%3Cpath fill='%23fff' d='M413.327 636.083h67.358v-252.083h-48.527c-2.173 7.358-4.949 13.589-8.329 18.693s-7.726 9.139-13.037 12.106c-5.311 2.967-11.709 5.103-19.193 6.409s-16.417 1.958-26.798 1.958v41.302h48.527v171.616zM596.807 554.192c0 17.803 1.569 29.849 4.708 36.139s8.208 9.435 15.21 9.435c7.001 0 12.071-3.145 15.21-9.435s4.708-18.336 4.708-36.139v-83.316c0-17.803-1.569-29.849-4.708-36.139s-8.208-9.435-15.21-9.435c-7.001 0-12.071 3.145-15.21 9.435s-4.708 18.336-4.708 36.139v83.316zM529.449 512.534c0-25.398 1.75-46.405 5.251-63.021s8.812-29.789 15.934-39.522c7.122-9.732 16.176-16.497 27.16-20.295s23.962-5.697 38.93-5.697c14.969 0 27.945 1.899 38.93 5.697s20.038 10.563 27.16 20.295c7.122 9.732 12.433 22.906 15.934 39.522s5.251 37.622 5.251 63.021c0 25.636-1.75 46.702-5.251 63.199s-8.812 29.552-15.934 39.166c-7.122 9.613-16.176 16.2-27.16 19.761s-23.962 5.341-38.93 5.341c-14.969 0-27.945-1.78-38.93-5.341s-20.038-10.147-27.16-19.761c-7.122-9.613-12.433-22.668-15.934-39.166s-5.251-37.563-5.251-63.199z'%3E%3C/path%3E%3C/svg%3E\")}.playkit-icon-forward{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' opacity='0.5' d='M765.529 323.053c-94.182-126.513-270.298-165.203-410.222-84.418-150.758 87.040-202.411 279.813-115.371 430.571s279.813 202.411 430.571 115.371c61.424-35.463 107.948-89.4 134.169-153.673 7.677-18.818 29.156-27.85 47.974-20.173s27.85 29.156 20.173 47.974c-32.339 79.269-89.818 145.906-165.517 189.611-185.96 107.364-423.747 43.649-531.111-142.311s-43.649-423.747 142.311-531.111c172.433-99.554 389.428-52.014 505.682 103.69l27.226-78.49c6.66-19.202 27.626-29.368 46.828-22.708s29.368 27.626 22.708 46.828l-52.434 151.164c-5.36 15.452-20.275 25.513-36.61 24.694l-159.799-8.011c-20.299-1.018-35.929-18.298-34.911-38.596s18.298-35.929 38.596-34.911l89.738 4.499z'%3E%3C/path%3E%3Cpath fill='%23fff' d='M207.932 431.974c20.553-78.699 71.369-149.456 147.375-193.338 139.923-80.785 316.040-42.095 410.222 84.418l-89.738-4.499c-20.299-1.018-37.579 14.613-38.596 34.911s14.613 37.579 34.911 38.596l159.799 8.011c16.335 0.819 31.25-9.242 36.61-24.694l52.434-151.164c6.66-19.202-3.506-40.167-22.708-46.828s-40.167 3.506-46.828 22.708l-27.226 78.49c-116.254-155.703-333.248-203.244-505.682-103.69-91.184 52.645-152.976 136.648-179.618 230.523l69.044 26.555z'%3E%3C/path%3E%3C/svg%3E\")}.playkit-icon-forward-10{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M765.529 323.053c-94.182-126.513-270.298-165.203-410.222-84.418-150.758 87.040-202.411 279.813-115.371 430.571s279.813 202.411 430.571 115.371c61.424-35.463 107.948-89.4 134.169-153.673 7.677-18.818 29.156-27.85 47.974-20.173s27.85 29.156 20.173 47.974c-32.339 79.269-89.818 145.906-165.517 189.611-185.96 107.364-423.747 43.649-531.111-142.311s-43.649-423.747 142.311-531.111c172.433-99.554 389.428-52.014 505.682 103.69l27.226-78.49c6.66-19.202 27.626-29.368 46.828-22.708s29.368 27.626 22.708 46.828l-52.434 151.164c-5.36 15.452-20.275 25.513-36.61 24.694l-159.799-8.011c-20.299-1.018-35.929-18.298-34.911-38.596s18.298-35.929 38.596-34.911l89.738 4.499z'%3E%3C/path%3E%3Cpath fill='%23fff' d='M365.327 636.083h67.358v-252.083h-48.527c-2.173 7.358-4.949 13.589-8.329 18.693s-7.726 9.139-13.037 12.106c-5.311 2.967-11.709 5.103-19.193 6.409s-16.417 1.958-26.798 1.958v41.302h48.527v171.616zM548.807 554.192c0 17.803 1.569 29.849 4.708 36.139s8.208 9.435 15.21 9.435c7.001 0 12.071-3.145 15.21-9.435s4.708-18.336 4.708-36.139v-83.316c0-17.803-1.569-29.849-4.708-36.139s-8.208-9.435-15.21-9.435c-7.001 0-12.071 3.145-15.21 9.435s-4.708 18.336-4.708 36.139v83.316zM481.449 512.534c0-25.398 1.75-46.405 5.251-63.021s8.812-29.789 15.934-39.522c7.122-9.732 16.176-16.497 27.16-20.295s23.962-5.697 38.93-5.697c14.969 0 27.945 1.899 38.93 5.697s20.038 10.563 27.16 20.295c7.122 9.732 12.433 22.906 15.934 39.522s5.251 37.622 5.251 63.021c0 25.636-1.75 46.702-5.251 63.199s-8.812 29.552-15.934 39.166c-7.122 9.613-16.176 16.2-27.16 19.761s-23.962 5.341-38.93 5.341c-14.969 0-27.945-1.78-38.93-5.341s-20.038-10.147-27.16-19.761c-7.122-9.613-12.433-22.668-15.934-39.166s-5.251-37.563-5.251-63.199z'%3E%3C/path%3E%3C/svg%3E\")}.playkit-icon-vr-stereo{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 32 32' width='32' height='32' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M25 16C25 17.3807 23.8807 18.5 22.5 18.5C21.1193 18.5 20 17.3807 20 16C20 14.6193 21.1193 13.5 22.5 13.5C23.8807 13.5 25 14.6193 25 16Z'/%3E%3Cpath fill='%23fff' fill-rule='evenodd' clip-rule='evenodd' d='M29.6097 6.79267C30.0475 6.45594 30.1293 5.82809 29.7926 5.39034C29.4559 4.95258 28.828 4.87069 28.3903 5.20743L2.39028 25.2074C1.95252 25.5442 1.87063 26.172 2.20736 26.6098C2.5441 27.0475 3.17195 27.1294 3.6097 26.7927L5.94017 25H11.8676C12.9214 25 13.8979 24.4471 14.4401 23.5435L16 20.9437L17.5599 23.5435C18.1021 24.4471 19.0786 25 20.1324 25H27C28.6569 25 30 23.6569 30 22V10C30 8.96373 29.4746 8.05017 28.6756 7.5112L29.6097 6.79267ZM26.7402 9L8.54017 23H11.8676C12.2189 23 12.5444 22.8157 12.7251 22.5145L14.285 19.9147C14.4539 19.6332 14.6895 19.3976 14.971 19.2287C15.9182 18.6604 17.1467 18.9675 17.715 19.9147L19.2749 22.5145C19.4556 22.8157 19.7811 23 20.1324 23H27C27.5523 23 28 22.5523 28 22V10C28 9.44772 27.5523 9 27 9H26.7402Z'/%3E%3Cpath fill='%23fff' d='M5 7H22.7795L20.1795 9H5C4.44772 9 4 9.44772 4 10V21.4458L2.13197 22.8827C2.04618 22.6036 2 22.3072 2 22V10C2 8.34315 3.34315 7 5 7Z'/%3E%3Cpath fill='%23fff' d='M11.9163 15.3563C11.6324 14.2875 10.6582 13.5 9.5 13.5C8.11929 13.5 7 14.6193 7 16C7 16.9287 7.50642 17.7392 8.25819 18.1703L11.9163 15.3563Z'/%3E%3C/svg%3E\")}.playkit-icon-vr-stereo-full{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 32 32' width='32' height='32' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M12 16C12 17.3807 10.8807 18.5 9.5 18.5C8.11929 18.5 7 17.3807 7 16C7 14.6193 8.11929 13.5 9.5 13.5C10.8807 13.5 12 14.6193 12 16Z'/%3E%3Cpath fill='%23fff' d='M22.5 18.5C23.8807 18.5 25 17.3807 25 16C25 14.6193 23.8807 13.5 22.5 13.5C21.1193 13.5 20 14.6193 20 16C20 17.3807 21.1193 18.5 22.5 18.5Z'/%3E%3Cpath fill='%23fff' fill-rule='evenodd' clip-rule='evenodd' d='M27 7H5C3.34315 7 2 8.34315 2 10V22C2 23.6569 3.34315 25 5 25H11.8676C12.9214 25 13.8979 24.4471 14.4401 23.5435L16 20.9437L17.5599 23.5435C18.1021 24.4471 19.0786 25 20.1324 25H27C28.6569 25 30 23.6569 30 22V10C30 8.34315 28.6569 7 27 7ZM4 10C4 9.44772 4.44772 9 5 9H27C27.5523 9 28 9.44772 28 10V22C28 22.5523 27.5523 23 27 23H20.1324C19.7811 23 19.4556 22.8157 19.2749 22.5145L17.715 19.9147C17.1467 18.9675 15.9182 18.6604 14.971 19.2287C14.6895 19.3976 14.4539 19.6332 14.285 19.9147L12.7251 22.5145C12.5444 22.8157 12.2189 23 11.8676 23H5C4.44772 23 4 22.5523 4 22V10Z'/%3E%3C/svg%3E\")}.playkit-icon-chromecast{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M160 704v96h96c0-53.12-42.88-96-96-96zM160 576v64c88.32 0 160 71.68 160 160h64c0-123.84-100.16-224-224-224zM736 352h-448v52.16c126.72 40.96 226.88 141.12 267.84 267.84h180.16v-320zM160 448v64c159.040 0 288 128.96 288 288h64c0-194.56-157.76-352-352-352zM800 224h-576c-35.2 0-64 28.8-64 64v96h64v-96h576v448h-224v64h224c35.2 0 64-28.8 64-64v-448c0-35.2-28.8-64-64-64z'%3E%3C/path%3E%3C/svg%3E\")}.playkit-icon-chromecast-brand{background-image:var(--playkit-icon-chromecast-url)}.playkit-icon-next{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M640 549.333l-264.982 154.573c-30.386 17.725-55.018 3.388-55.018-32.094v-319.625c0-35.45 24.605-49.835 55.018-32.094l264.982 154.573v-154.448c0-17.794 14.204-32.219 32-32.219 17.673 0 32 14.398 32 32.219v383.562c0 17.794-14.204 32.219-32 32.219-17.673 0-32-14.398-32-32.219v-154.448z'%3E%3C/path%3E%3C/svg%3E\")}.playkit-icon-prev{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M384 549.333l264.982 154.573c30.386 17.725 55.018 3.388 55.018-32.094v-319.625c0-35.45-24.605-49.835-55.018-32.094l-264.982 154.573v-154.448c0-17.794-14.204-32.219-32-32.219-17.673 0-32 14.398-32 32.219v383.562c0 17.794 14.204 32.219 32 32.219 17.673 0 32-14.398 32-32.219v-154.448z'%3E%3C/path%3E%3C/svg%3E\")}.playkit-icon-picture-in-picture-start{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M224 256c-17.673 0-32 14.327-32 32v448c0 17.673 14.327 32 32 32h576c17.673 0 32-14.327 32-32v-448c0-17.673-14.327-32-32-32h-576zM224 192h576c53.019 0 96 42.981 96 96v448c0 53.019-42.981 96-96 96h-576c-53.019 0-96-42.981-96-96v-448c0-53.019 42.981-96 96-96z'%3E%3C/path%3E%3Cpath fill='%23fff' d='M544 512h192c17.673 0 32 14.327 32 32v128c0 17.673-14.327 32-32 32h-192c-17.673 0-32-14.327-32-32v-128c0-17.673 14.327-32 32-32z'%3E%3C/path%3E%3C/svg%3E\")}.playkit-icon-picture-in-picture-stop{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M800 192c51.126 0 92.917 39.965 95.837 90.359l0.163 5.641v448c0 51.126-39.965 92.917-90.359 95.837l-5.641 0.163h-576c-51.126 0-92.917-39.965-95.837-90.359l-0.163-5.641v-64c0-17.673 14.327-32 32-32 16.411 0 29.936 12.353 31.785 28.268l0.215 3.732v64c0 16.411 12.353 29.936 28.268 31.785l3.732 0.215h576c16.411 0 29.936-12.353 31.785-28.268l0.215-3.732v-448c0-16.411-12.353-29.936-28.268-31.785l-3.732-0.215h-192c-17.673 0-32-14.327-32-32 0-16.411 12.353-29.936 28.268-31.785l3.732-0.215h192z'%3E%3C/path%3E%3Cpath fill='%23fff' d='M416 192c17.673 0 32 14.327 32 32 0 16.411-12.353 29.936-28.268 31.785l-3.732 0.215-178.752-0.032 202.711 202.736c12.497 12.497 12.497 32.758 0 45.255-11.535 11.535-29.687 12.423-42.24 2.662l-3.015-2.662-202.704-202.679v178.72c0 16.411-12.353 29.936-28.268 31.785l-3.732 0.215c-16.411 0-29.936-12.353-31.785-28.268l-0.215-3.732v-256l0.005-0.588c0.014-0.757 0.054-1.514 0.122-2.268l-0.127 2.856c0-1.62 0.12-3.212 0.353-4.767 0.083-0.544 0.182-1.101 0.295-1.656 0.141-0.705 0.307-1.399 0.495-2.084 0.14-0.5 0.288-0.992 0.449-1.482 0.204-0.629 0.434-1.262 0.684-1.885 0.227-0.568 0.466-1.121 0.722-1.669 0.311-0.661 0.644-1.314 0.998-1.954 0.212-0.388 0.439-0.779 0.676-1.166 0.503-0.818 1.040-1.614 1.61-2.382 0.174-0.238 0.351-0.47 0.532-0.7 1.588-2.021 3.42-3.854 5.45-5.446l-2.891 2.563c1.133-1.133 2.329-2.163 3.578-3.090 0.774-0.571 1.569-1.108 2.389-1.609 0.386-0.239 0.777-0.466 1.171-0.685 0.633-0.348 1.285-0.681 1.951-0.993 0.544-0.255 1.098-0.495 1.656-0.718 0.632-0.253 1.265-0.483 1.907-0.694 0.476-0.154 0.969-0.302 1.464-0.438 0.69-0.192 1.384-0.359 2.086-0.502 0.557-0.111 1.115-0.209 1.674-0.293 0.327-0.051 0.672-0.097 1.019-0.137l0.876-0.088c0.755-0.067 1.511-0.108 2.268-0.122l0.588-0.005h256z'%3E%3C/path%3E%3C/svg%3E\")}.playkit-icon-advanced-audio-description{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 32 32' width='32' height='32' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M24.5517 12.666H23.6342C24.67 13.5857 25.2672 14.8454 25.2672 16.1541C25.2672 17.3159 24.7998 18.4262 23.9718 19.3072H24.8517C25.5874 18.403 26 17.2953 26 16.1541C26 14.8686 25.4749 13.6321 24.5517 12.666Z'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M29.6097 6.79267C30.0475 6.45594 30.1293 5.82809 29.7926 5.39034C29.4559 4.95258 28.828 4.87069 28.3903 5.20743L2.39028 25.2074C1.95252 25.5442 1.87063 26.172 2.20736 26.6098C2.5441 27.0475 3.17195 27.1294 3.6097 26.7927L4.67285 25.9749C4.77836 25.9914 4.88663 26 4.997 26H27.003C28.105 26 29 25.1495 29 24.1004V7.89958C29 7.70242 28.9679 7.51176 28.9083 7.33221L29.6097 6.79267ZM27 8.80013L21.9744 12.666H22.6752C23.5984 13.6321 24.1235 14.8686 24.1235 16.1541C24.1235 17.2953 23.7109 18.403 22.9695 19.3072H22.0953C22.9233 18.4262 23.3907 17.3159 23.3907 16.1541C23.3907 14.8877 22.8315 13.6673 21.8569 12.7564L21.2576 13.2174C21.8933 14.0825 22.2412 15.1019 22.2412 16.1541C22.2412 17.2953 21.8344 18.403 21.093 19.3072H20.2188C21.041 18.4262 21.5084 17.3159 21.5084 16.1541C21.5084 15.2579 21.2311 14.3848 20.7237 13.628L19.7255 14.3959C20.0176 14.8723 20.1836 15.42 20.1836 16.0032C20.1836 17.8374 18.5103 19.3289 16.4532 19.3289V19.3315H14.1654V18.6729L13.3945 19.2659V19.3327H13.3077L7.1129 24.0979C12.6219 24.0951 27 24.0952 27 24.0952V8.80013ZM15.732 17.4679V17.7781H16.2513C17.3505 17.7781 18.2362 16.9821 18.2362 16.0032C18.2362 15.859 18.2169 15.7188 18.1804 15.5844L15.732 17.4679Z' fill='%23fff'/%3E%3Cpath fill='%23fff' d='M4.997 6H24.0795L21.6053 7.90324C15.0918 7.90485 5 7.90476 5 7.90476V20.6766L3 22.215V7.89958C3 6.85047 3.89498 6 4.997 6Z'/%3E%3Cpath fill='%23fff' d='M14.1654 12.6723H15.4055L14.1654 13.6263V12.6723Z'/%3E%3Cpath fill='%23fff' d='M13.3945 12.6709V14.2193L11.7717 15.4676V14.678L10.4942 16.4502L6.74704 19.3327H6L11.3547 12.6709H13.3945Z'/%3E%3C/svg%3E\")}.playkit-icon-advanced-audio-description-active{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 32 32' width='32' height='32' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M24.5517 12.666H23.6342C24.67 13.5857 25.2672 14.8454 25.2672 16.1541C25.2672 17.3159 24.7998 18.4262 23.9718 19.3072H24.8517C25.5874 18.403 26 17.2953 26 16.1541C26 14.8686 25.4749 13.6321 24.5517 12.666Z'/%3E%3Cpath fill='%23fff' fill-rule='evenodd' clip-rule='evenodd' d='M13.3945 19.3327H11.7615V18.4517H9.02645L8.3975 19.3327H6L11.3547 12.6709H13.3945V19.3327ZM10.0522 17.0635H11.7717V14.678L10.0522 17.0635Z'/%3E%3Cpath fill='%23fff' fill-rule='evenodd' clip-rule='evenodd' d='M20.1836 16.0032C20.1836 17.8374 18.5103 19.3289 16.4532 19.3289V19.3315H14.1654V12.6723H16.4705C18.5276 12.6723 20.1836 14.1613 20.1836 16.0032ZM16.2513 14.2308C17.3505 14.2308 18.2362 15.0268 18.2362 16.0032C18.2362 16.9821 17.3505 17.7781 16.2513 17.7781H15.732V14.2308H16.2513Z'/%3E%3Cpath fill='%23fff' d='M21.7577 12.666H22.6752C23.5984 13.6321 24.1235 14.8686 24.1235 16.1541C24.1235 17.2953 23.7109 18.403 22.9695 19.3072H22.0953C22.9233 18.4262 23.3907 17.3159 23.3907 16.1541C23.3907 14.8454 22.7935 13.5857 21.7577 12.666Z'/%3E%3Cpath fill='%23fff' d='M20.7929 12.666H19.8812C20.917 13.5857 21.5084 14.8454 21.5084 16.1541C21.5084 17.3159 21.041 18.4262 20.2188 19.3072H21.093C21.8344 18.403 22.2412 17.2953 22.2412 16.1541C22.2412 14.8686 21.7219 13.6321 20.7929 12.666Z'/%3E%3Cpath fill='%23fff' fill-rule='evenodd' clip-rule='evenodd' d='M4.997 6C3.89498 6 3 6.85047 3 7.89958V24.1004C3 25.1406 3.89409 26 4.997 26H27.003C28.105 26 29 25.1495 29 24.1004V7.89958C29 6.85938 28.1059 6 27.003 6H4.997ZM27 24.0952C27 24.0952 4.99946 24.0951 5 24.1004V7.90476C5 7.90476 27.0005 7.90495 27 7.89958V24.0952Z'/%3E%3C/svg%3E\")}.playkit-icon-quality-hd:after{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 16 16' width='16' height='16' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M13.9931545,4 C14.5492199,4 15,4.45303631 15,4.99703014 L15,11.0029699 C15,11.5536144 14.5500512,12 13.9931545,12 L2.00684547,12 C1.45078007,12 1,11.5469637 1,11.0029699 L1,4.99703014 C1,4.4463856 1.44994876,4 2.00684547,4 L13.9931545,4 Z M3.73939861,5 L2,5 L2,11 L3.73939861,11 L3.73918396,8.56940659 L5.96845644,8.56940659 L5.9691596,11 L7.69930609,11 L7.69930609,5 L5.9691596,5 L5.96845644,7.32457143 L3.73918396,7.32457143 L3.73939861,5 Z M10.849653,5 L8.65690054,5 L8.65690054,11 L10.8774094,11 L11.1387878,10.9921562 C11.5670397,10.9660102 11.9583976,10.8744992 12.3128614,10.7176232 L12.3128614,10.7176232 L12.4919044,10.6311813 L12.686671,10.5199596 C13.0639309,10.2858264 13.3675515,9.98155416 13.5975328,9.60714286 C13.827514,9.23273155 13.9589319,8.81088809 13.9917864,8.34161247 L13.9917864,8.34161247 L14,8.10302198 L14,7.9010989 L13.9917864,7.66145717 C13.9589319,7.19033135 13.827514,6.76815149 13.5975328,6.39491758 C13.3292213,5.95947802 12.9583655,5.61813187 12.4849653,5.37087912 C12.0791937,5.15894819 11.6207417,5.03784481 11.1096093,5.00756896 L11.1096093,5.00756896 L10.849653,5 Z M10.849653,6.24862637 C11.154973,6.24862637 11.4101773,6.30906593 11.615266,6.42994505 C11.8203547,6.55082418 11.9745567,6.73282967 12.077872,6.97596154 C12.1605243,7.17046703 12.2101157,7.40497253 12.2266461,7.67947802 L12.2266461,7.67947802 L12.232845,7.89285714 L12.232845,8.10302198 L12.2265536,8.31796703 C12.2097764,8.59445055 12.1594449,8.83049451 12.075559,9.0260989 C11.9707016,9.2706044 11.8180416,9.4532967 11.617579,9.57417582 C11.4572089,9.67087912 11.2672321,9.7289011 11.0476484,9.74824176 L11.0476484,9.74824176 L10.8774094,9.75549451 L10.3957366,9.75600879 L10.3957366,6.24937143 Z'%3E%3C/path%3E%3C/svg%3E\")}.playkit-icon-quality-hd-active:after{background-image:var(--playkit-icon-quality-HD-active-url)}.playkit-icon-quality-4k:after{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 16 16' width='16' height='16' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M13.9931545,4 C14.5492199,4 15,4.45303631 15,4.99703014 L15,11.0029699 C15,11.5536144 14.5500512,12 13.9931545,12 L2.00684547,12 C1.45078007,12 1,11.5469637 1,11.0029699 L1,4.99703014 C1,4.4463856 1.44994876,4 2.00684547,4 L13.9931545,4 Z M6.52117789,5 L4.77853973,5 L4.7778117,5.01381978 L2,8.80769231 L2.10649455,9.76785714 L4.7778117,9.76866813 L4.77853973,11 L6.52117789,11 L6.52063574,9.76866813 L7.19402985,9.76785714 L7.19402985,8.5728022 L6.52063574,8.57362637 L6.52117789,5 Z M9.81282775,5 L7.99273901,5 L7.99273901,11 L9.81282775,11 L9.8119758,9.5061978 L10.4712352,8.88589011 L11.8313836,11 L13.9806374,11 L11.6856603,7.6629978 L14,5 L11.7587737,5 L10.3549818,6.78434066 L9.8119758,7.5229011 L9.81282775,5 Z M4.7778117,7.01905934 L4.7778117,8.57362637 L3.65066559,8.5728022 L4.69624849,7.13873626 L4.7778117,7.01905934 Z'%3E%3C/path%3E%3C/svg%3E\")}.playkit-icon-quality-4k-active:after{background-image:var(--playkit-icon-quality-4K-active-url)}.playkit-icon-quality-8k:after{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 16 16' width='16' height='16' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M13.9931545,4 C14.5492199,4 15,4.45303631 15,4.99703014 L15,11.0029699 C15,11.5536144 14.5500512,12 13.9931545,12 L2.00684547,12 C1.45078007,12 1,11.5469637 1,11.0029699 L1,4.99703014 C1,4.4463856 1.44994876,4 2.00684547,4 L13.9931545,4 Z M4.5,5 C4.04427083,5 3.6389974,5.06279225 3.28417969,5.18837675 C2.92936198,5.31396126 2.65104167,5.499666 2.44921875,5.74549098 C2.24739583,5.99131597 2.14648438,6.29458918 2.14648438,6.65531062 C2.14648438,6.96259185 2.24820964,7.23112892 2.45166016,7.46092184 C2.58729384,7.61411712 2.75692636,7.74445187 2.96055773,7.85192607 L2.96055773,7.85192607 L3.07972656,7.90981323 L3.04817708,7.92134269 L2.87890625,8.000668 C2.71614583,8.08483634 2.57291667,8.18353373 2.44921875,8.29676019 L2.44921875,8.29676019 L2.33203125,8.41482966 L2.24394133,8.52320968 C2.08131378,8.74602266 2,9.00515316 2,9.3006012 C2,9.67735471 2.10986328,9.99131597 2.32958984,10.242485 C2.54931641,10.493654 2.84879557,10.6826987 3.22802734,10.8096192 C3.60725911,10.9365397 4.03613281,11 4.51464844,11 C4.99641927,11 5.42366536,10.9365397 5.79638672,10.8096192 C6.16910807,10.6826987 6.46289063,10.493654 6.67773438,10.242485 C6.89257813,9.99131597 7,9.67735471 7,9.3006012 C7,8.95591182 6.89176432,8.66065464 6.67529297,8.41482966 L6.67529297,8.41482966 L6.56041124,8.29676019 C6.3983742,8.14579158 6.20089157,8.02065242 5.96796332,7.92134269 L5.96796332,7.92134269 L5.94,7.911 L6.06141493,7.85192607 L6.20532227,7.76703407 C6.29701063,7.70758183 6.38019929,7.64241446 6.45488824,7.57153195 L6.45488824,7.57153195 L6.56054688,7.46092184 L6.65155707,7.3427967 C6.78945132,7.14054034 6.85839844,6.91137831 6.85839844,6.65531062 C6.85839844,6.29458918 6.75830078,5.99131597 6.55810547,5.74549098 C6.35791016,5.499666 6.08121745,5.31396126 5.72802734,5.18837675 C5.37483724,5.06279225 4.96549479,5 4.5,5 Z M9.8178888,5 L8,5 L8,11 L9.8178888,11 L9.81771088,9.5061978 L10.4751832,8.88673407 L11.8340048,11 L13.9806608,11 L11.6891307,7.6629978 L14,5 L11.7614827,5 L10.3593876,6.78434066 L9.81771088,7.5229011 L9.8178888,5 Z M4.50488281,8.51903808 C4.6546224,8.51903808 4.78401693,8.54375418 4.89306641,8.59318637 C5.00211589,8.64261857 5.0867513,8.71543086 5.14697266,8.81162325 C5.20719401,8.90781563 5.23730469,9.02805611 5.23730469,9.17234469 C5.23730469,9.30861723 5.20800781,9.4261857 5.14941406,9.5250501 C5.09082031,9.6239145 5.0069987,9.7007348 4.89794922,9.75551102 C4.78889974,9.81028724 4.66113281,9.83767535 4.51464844,9.83767535 C4.36490885,9.83767535 4.23388672,9.81028724 4.12158203,9.75551102 C4.00927734,9.7007348 3.92220052,9.6239145 3.86035156,9.5250501 C3.7985026,9.4261857 3.76757812,9.30861723 3.76757812,9.17234469 C3.76757812,9.02805611 3.7985026,8.90781563 3.86035156,8.81162325 C3.92220052,8.71543086 4.00846354,8.64261857 4.11914062,8.59318637 C4.22981771,8.54375418 4.35839844,8.51903808 4.50488281,8.51903808 Z M4.5,6.16232465 C4.63671875,6.16232465 4.74902344,6.18570474 4.83691406,6.23246493 C4.92480469,6.27922512 4.99072266,6.34535738 5.03466797,6.43086172 C5.07861328,6.51636607 5.10058594,6.62057448 5.10058594,6.74348697 C5.10058594,6.86372745 5.08024089,6.96993988 5.03955078,7.06212425 C4.99886068,7.15430862 4.93538411,7.22645291 4.84912109,7.27855711 C4.76285807,7.33066132 4.65136719,7.35671343 4.51464844,7.35671343 C4.37792969,7.35671343 4.2648112,7.33066132 4.17529297,7.27855711 C4.08577474,7.22645291 4.01985677,7.15430862 3.97753906,7.06212425 C3.93522135,6.96993988 3.9140625,6.86372745 3.9140625,6.74348697 C3.9140625,6.62057448 3.93522135,6.51636607 3.97753906,6.43086172 C4.01985677,6.34535738 4.08496094,6.27922512 4.17285156,6.23246493 C4.26074219,6.18570474 4.36979167,6.16232465 4.5,6.16232465 Z'%3E%3C/path%3E%3C/svg%3E\")}.playkit-icon-quality-8k-active:after{background-image:var(--playkit-icon-quality-8K-active-url)}.playkit-icon-closed-captions-on{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 32 32' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M15.114 18.545c0.144-0.275 0.217-0.533 0.217-0.774 0-0.204-0.078-0.395-0.234-0.575s-0.353-0.27-0.59-0.27c-0.199 0-0.367 0.061-0.504 0.185s-0.265 0.294-0.384 0.511c-0.213 0.369-0.458 0.644-0.735 0.824s-0.61 0.27-0.998 0.27c-0.289 0-0.554-0.056-0.796-0.167s-0.447-0.275-0.618-0.49c-0.171-0.215-0.301-0.476-0.391-0.781s-0.135-0.64-0.135-1.005c0-0.777 0.175-1.389 0.526-1.836s0.812-0.671 1.385-0.671c0.398 0 0.726 0.090 0.984 0.27s0.505 0.45 0.742 0.81c0.133 0.185 0.252 0.318 0.359 0.401s0.24 0.124 0.401 0.124c0.246 0 0.456-0.081 0.629-0.242s0.259-0.357 0.259-0.59c0-0.227-0.077-0.472-0.231-0.735s-0.377-0.51-0.668-0.742c-0.291-0.232-0.646-0.421-1.066-0.568s-0.88-0.22-1.382-0.22c-0.81 0-1.506 0.167-2.088 0.501s-1.028 0.806-1.335 1.417-0.462 1.314-0.462 2.11c0 1.174 0.336 2.111 1.009 2.809s1.608 1.048 2.806 1.048c0.564 0 1.070-0.076 1.52-0.227s0.823-0.352 1.119-0.6c0.296-0.249 0.516-0.51 0.661-0.785z'%3E%3C/path%3E %3Cpath fill='%23fff' d='M23.759 18.545c0.145-0.275 0.217-0.533 0.217-0.774 0-0.204-0.078-0.395-0.234-0.575s-0.353-0.27-0.59-0.27c-0.199 0-0.367 0.061-0.504 0.185s-0.265 0.294-0.384 0.511c-0.213 0.369-0.458 0.644-0.735 0.824s-0.61 0.27-0.998 0.27c-0.289 0-0.554-0.056-0.796-0.167s-0.448-0.275-0.618-0.49c-0.17-0.215-0.301-0.476-0.391-0.781s-0.135-0.64-0.135-1.005c0-0.777 0.175-1.389 0.526-1.836s0.812-0.671 1.385-0.671c0.398 0 0.726 0.090 0.984 0.27s0.506 0.45 0.742 0.81c0.133 0.185 0.252 0.318 0.359 0.401s0.24 0.124 0.401 0.124c0.246 0 0.456-0.081 0.629-0.242s0.259-0.357 0.259-0.59c0-0.227-0.077-0.472-0.231-0.735s-0.377-0.51-0.668-0.742c-0.291-0.232-0.646-0.421-1.066-0.568s-0.88-0.22-1.382-0.22c-0.81 0-1.506 0.167-2.088 0.501s-1.028 0.806-1.335 1.417-0.462 1.314-0.462 2.11c0 1.174 0.336 2.111 1.009 2.809s1.608 1.048 2.806 1.048c0.564 0 1.070-0.076 1.52-0.227s0.823-0.352 1.119-0.6 0.516-0.51 0.661-0.785z'%3E%3C/path%3E %3Cpath fill='%23fff' d='M3 7.9c0-1.049 0.895-1.9 1.997-1.9h22.006c1.103 0 1.997 0.859 1.997 1.9v16.201c0 1.049-0.895 1.9-1.997 1.9h-22.006c-1.103 0-1.997-0.859-1.997-1.9v-16.201zM5 24.1c-0.001-0.005 22-0.005 22-0.005v-16.196c0 0.005-22 0.005-22 0.005v16.196z'%3E%3C/path%3E%3C/svg%3E\")}.playkit-icon-closed-captions-off{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 32 32' width='36' height='36' fill-rule='nonzero'%3E%3Cpath fill='%23fff' d='M30.133 6.838l-1.143 0.863c0.007 0.065 0.011 0.131 0.011 0.198v16.201c0 1.049-0.895 1.9-1.997 1.9h-22.006c-0.080 0-0.159-0.005-0.236-0.013l-1.128 0.851c-0.463 0.349-1.121 0.257-1.471-0.206s-0.257-1.121 0.206-1.471l26.5-20c0.463-0.349 1.121-0.257 1.471 0.206s0.257 1.121-0.206 1.471zM27 9.202l-4.619 3.486c0.222 0.109 0.421 0.233 0.596 0.373 0.291 0.232 0.514 0.479 0.668 0.742s0.231 0.508 0.231 0.735c0 0.232-0.086 0.429-0.259 0.59s-0.382 0.242-0.629 0.242c-0.161 0-0.295-0.041-0.401-0.124s-0.226-0.217-0.359-0.401c-0.237-0.36-0.484-0.63-0.742-0.81-0.164-0.114-0.357-0.193-0.578-0.234l-2.249 1.697c-0.045 0.237-0.068 0.495-0.068 0.774 0 0.365 0.045 0.7 0.135 1.005s0.22 0.566 0.391 0.781c0.171 0.215 0.377 0.379 0.618 0.49s0.507 0.167 0.796 0.167c0.388 0 0.721-0.090 0.998-0.27s0.522-0.455 0.735-0.824c0.118-0.218 0.246-0.388 0.384-0.511s0.305-0.185 0.504-0.185c0.237 0 0.433 0.090 0.59 0.27s0.234 0.372 0.234 0.575c0 0.241-0.072 0.5-0.217 0.774s-0.365 0.536-0.661 0.785-0.669 0.449-1.119 0.6c-0.45 0.152-0.957 0.227-1.52 0.227-1.198 0-2.133-0.349-2.806-1.048-0.536-0.557-0.858-1.265-0.967-2.123l-1.382 1.043c-0.033 0.165-0.096 0.337-0.19 0.516-0.145 0.275-0.365 0.536-0.661 0.785s-0.669 0.449-1.119 0.6c-0.246 0.083-0.508 0.143-0.788 0.18l-5.283 3.987c5.615-0.003 19.737-0.003 19.737-0.003v-14.893z'%3E%3C/path%3E %3Cpath fill='%23fff' d='M4.997 6h19.546l-2.492 1.903c-6.487 0.002-17.051 0.002-17.051 0.002v13.019l-2 1.527v-14.551c0-1.049 0.895-1.9 1.997-1.9z'%3E%3C/path%3E %3Cpath fill='%23fff' d='M12.841 14.034c0.179 0.125 0.353 0.293 0.521 0.504l1.399-1.068c-0.121-0.141-0.264-0.277-0.428-0.409-0.291-0.232-0.646-0.421-1.066-0.568s-0.88-0.22-1.382-0.22c-0.81 0-1.506 0.167-2.088 0.501s-1.028 0.806-1.335 1.417-0.462 1.314-0.462 2.11c0 0.77 0.144 1.437 0.433 2.002l1.598-1.22c-0.056-0.252-0.085-0.522-0.085-0.81 0-0.777 0.175-1.389 0.526-1.836s0.812-0.671 1.385-0.671c0.398 0 0.726 0.090 0.984 0.27z'%3E%3C/path%3E%3C/svg%3E\")}@keyframes playkit-openDropmenu{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.playkit-dropdown{position:relative;font-size:15px}.playkit-dropdown .playkit-label-badge{position:relative}.playkit-dropdown .playkit-label-badge:after{top:-5px;right:-18px}.playkit-dropdown.playkit-active .playkit-dropdown-menu{display:block;opacity:1}.playkit-dropdown.playkit-active .playkit-dropdown-button .playkit-icon-arrow-down{transform:rotate(180deg)}.playkit-dropdown .playkit-dropdown-button{font-weight:bold;line-height:18px;color:#fff;cursor:pointer;padding-left:20px;display:flex}.playkit-dropdown .playkit-dropdown-button .playkit-icon{width:16px;height:16px;vertical-align:middle;margin-left:6px;transition:150ms transform;will-change:transform}.playkit-dropdown .playkit-dropdown-button>.playkit-label-badge.playkit-badge-icon{margin-right:13px}.playkit-dropdown-menu{display:block;opacity:1;position:absolute;background-color:#333;box-shadow:0 2px 8px 0 rgba(0,0,0,.3);border-radius:4px;padding:8px 0;z-index:5;animation:playkit-openDropmenu 100ms ease-out forwards;max-height:220px;overflow-y:auto;font-size:15px;text-align:left;font-weight:normal}.playkit-dropdown-menu.playkit-top{margin-bottom:10px;bottom:100%}.playkit-dropdown-menu.playkit-bottom{margin-top:10px;top:100%}.playkit-dropdown-menu.playkit-right{left:0}.playkit-dropdown-menu.playkit-left{right:0}.playkit-dropdown-menu.playkit-stick-bottom{bottom:-95px;margin:5px 0}.playkit-dropdown-menu .playkit-dropdown-menu-item{display:flex;justify-content:space-between;align-items:center;padding:4px 12px;margin:4px;white-space:nowrap;min-height:30px;cursor:pointer;border-radius:4px}.playkit-dropdown-menu .playkit-dropdown-menu-item:hover{background-color:var(--playkit-tone-5-color);color:#fff}.playkit-dropdown-menu .playkit-dropdown-menu-item:focus{color:#fff}.playkit-dropdown-menu .playkit-dropdown-menu-item.playkit-active .playkit-menu-icon-container{opacity:1}.playkit-dropdown-menu .playkit-dropdown-menu-item .playkit-icon-check-active{display:inline-block;margin-left:16px;vertical-align:middle;width:24px;height:24px}.playkit-dropdown-menu .playkit-dropdown-menu-item .playkit-menu-icon-container{opacity:0}.playkit-dropdown-menu .playkit-dropdown-menu-item>.playkit-label-badge.playkit-badge-icon{margin-right:5px}.playkit-smart-container>div:last-child .playkit-dropdown-menu.playkit-stick-bottom{bottom:-55px !important}.playkit-player .playkit-control-button{width:32px;height:32px;border-radius:4px;background:rgba(0,0,0,0);display:inline-block;opacity:.8;border:none;padding:0;cursor:pointer}.playkit-player .playkit-control-button.playkit-button-badge{position:relative}.playkit-player .playkit-control-button.playkit-button-badge:after{top:-4px;right:-1px}.playkit-player .playkit-control-button i{width:32px;height:32px}.playkit-player .playkit-control-button.playkit-active{opacity:1}.playkit-player .playkit-control-button:disabled{opacity:.4;cursor:default}.playkit-player .playkit-control-button.playkit-control-button-rounded{width:36px;height:36px;padding:2px}.playkit-player:not(.playkit-touch) .playkit-control-button:not(:disabled):hover{opacity:1}.playkit-player:not(.playkit-touch) .playkit-control-button:not(:disabled).playkit-control-button-rounded:hover{background-color:rgba(0,0,0,.4);border-radius:18px}.playkit-player .playkit-control-button-container{display:inline-block;position:relative;vertical-align:top}.playkit-player.playkit-touch .playkit-player .playkit-control-button-container{position:static}.playkit-player.playkit-touch .playkit-control-button{position:relative}.playkit-player.playkit-state-idle .playkit-no-idle-control{display:none}.playkit-rotate{-moz-animation:playkit-spin .3s 1 linear;-o-animation:playkit-spin .3s 1 linear;-webkit-animation:playkit-spin .3s 1 linear;animation:playkit-spin .3s 1 linear}.playkit-reverse-rotate{-moz-animation:playkit-reverse-spin .3s 1 linear;-o-animation:playkit-reverse-spin .3s 1 linear;-webkit-animation:playkit-reverse-spin .3s 1 linear;animation:playkit-reverse-spin .3s 1 linear}@-webkit-keyframes playkit-spin{0%{-webkit-transform:rotate(359deg)}100%{-webkit-transform:rotate(0deg)}}@-moz-keyframes playkit-spin{0%{-moz-transform:rotate(359deg)}100%{-moz-transform:rotate(0deg)}}@-o-keyframes playkit-spin{0%{-o-transform:rotate(359deg)}100%{-o-transform:rotate(0deg)}}@-ms-keyframes playkit-spin{0%{-ms-transform:rotate(359deg)}100%{-ms-transform:rotate(0deg)}}@keyframes playkit-spin{0%{transform:rotate(359deg)}100%{transform:rotate(0deg)}}@-webkit-keyframes playkit-reverse-spin{0%{transform:rotate(0deg)}100%{transform:rotate(359deg)}}@-moz-keyframes playkit-reverse-spin{0%{transform:rotate(0deg)}100%{transform:rotate(359deg)}}@-o-keyframes playkit-reverse-spin{0%{transform:rotate(0deg)}100%{transform:rotate(359deg)}}@-ms-keyframes playkit-reverse-spin{0%{transform:rotate(0deg)}100%{transform:rotate(359deg)}}@keyframes playkit-reverse-spin{0%{transform:rotate(0deg)}100%{transform:rotate(359deg)}}.playkit-upper-bar-icon{width:36px;height:36px;border-radius:4px;padding:2px;cursor:pointer;color:var(--playkit-tone-1-color);display:flex;align-items:center;justify-content:center;opacity:.8;border:none;background-color:rgba(0,0,0,0);margin:0 4px}.playkit-upper-bar-icon:hover{background-color:var(--playkit-tone-4-color);opacity:1}.playkit-upper-bar-icon:active{background-color:var(--playkit-tone-6-color);opacity:1}.playkit-upper-bar-icon:disabled{opacity:.4}.playkit-player a{font-size:15px;line-height:18px;cursor:pointer;--primary-hover-color: hsl(var(--playkit-primary-hsl-hue) var(--playkit-hsl-saturation) calc(var(--playkit-hsl-lightness) - 10%))}.playkit-player a:hover{color:var(--primary-hover-color)}.playkit-player a:active{opacity:.7}.playkit-emptyUrl a{cursor:auto;pointer-events:none}.playkit-player{overflow:hidden;user-select:none;width:100%;height:100%;position:relative;outline:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:none;font-family:Lato,Helvetica Neue,Segoe UI,sans-serif}.playkit-player:-webkit-full-screen{width:100%;height:100%;max-width:none}.playkit-player *{box-sizing:border-box;outline:none}.playkit-player ::selection{background-color:rgba(0,0,0,.1)}.playkit-player video{width:100%;left:0}.playkit-player video::-webkit-media-controls-panel-container,.playkit-player video::-webkit-media-controls{display:none !important;-webkit-appearance:none}.playkit-player video::-webkit-media-controls-start-playback-button{display:none !important;-webkit-appearance:none}.playkit-player .playkit-player-gui{overflow:hidden;font-size:0}.playkit-player .playkit-player-gui label{margin-bottom:0}.playkit-player .overlay-portal{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.playkit-player.playkit-overlay-active .overlay-portal{z-index:11;pointer-events:initial}.playkit-player.playkit-protected .no-copy{user-select:none !important;-webkit-user-select:none !important;-moz-user-select:none !important;-ms-user-select:none !important;-webkit-touch-callout:none !important;cursor:default}.playkit-player.playkit-protected .no-copy::selection{background:rgba(0,0,0,0)}.playkit-player.playkit-nav *:focus{outline:2px solid var(--playkit-tab-focus-color) !important;box-shadow:0 0 0 2px #fff !important;outline-offset:2px}.playkit-player [id^=\"playkit-ads-container\"]{transition:transform 100ms}.playkit-player [id^=\"playkit-ads-container\"][data-adtype=\"overlay\"]{z-index:1}.playkit-player:not(.playkit-ad-break).playkit-metadata-loaded.playkit-hover [id^=\"playkit-ads-container\"],.playkit-player:not(.playkit-ad-break).playkit-metadata-loaded.playkit-state-paused [id^=\"playkit-ads-container\"],.playkit-player:not(.playkit-ad-break).playkit-metadata-loaded.playkit-state-idle [id^=\"playkit-ads-container\"]{transform:translateY(-60px);-webkit-transform:translateY(-60px);-ms-transform:translateY(-60px)}.playkit-player.playkit-pre-playback,.playkit-player.playkit-casting,.playkit-player.playkit-metadata-loaded.playkit-hover,.playkit-player.playkit-state-paused,.playkit-player.playkit-state-idle,.playkit-player.playkit-ad-break,.playkit-player.playkit-menu-active,.playkit-player.playkit-overlay-active{cursor:auto}.playkit-player video::-webkit-media-text-track-container{max-height:none}.playkit-player.playkit-iOS video::-webkit-media-text-track-container{position:absolute;top:0;bottom:0;left:0;right:0}.playkit-player.playkit-state-paused video::-webkit-media-text-track-container,.playkit-player.playkit-state-idle video::-webkit-media-text-track-container,.playkit-player.playkit-hover video::-webkit-media-text-track-container{padding:0 0 50px 0}.playkit-player.playkit-state-paused.playkit-Safari video::-webkit-media-text-track-container,.playkit-player.playkit-state-paused.playkit-iOS video::-webkit-media-text-track-container,.playkit-player.playkit-state-idle.playkit-Safari video::-webkit-media-text-track-container,.playkit-player.playkit-state-idle.playkit-iOS video::-webkit-media-text-track-container,.playkit-player.playkit-hover.playkit-Safari video::-webkit-media-text-track-container,.playkit-player.playkit-hover.playkit-iOS video::-webkit-media-text-track-container{padding:initial;max-height:calc(100% - 50px)}.playkit-player.playkit-state-paused.playkit-fullscreen.playkit-iOS video::-webkit-media-text-track-display,.playkit-player.playkit-state-idle.playkit-fullscreen.playkit-iOS video::-webkit-media-text-track-display,.playkit-player.playkit-hover.playkit-fullscreen.playkit-iOS video::-webkit-media-text-track-display{transform:translateY(-50px);-webkit-transform:translateY(-50px);-ms-transform:translateY(-50px)}.playkit-player.playkit-fullscreen.playkit-iOS video::-webkit-media-text-track-container{max-height:none}.playkit-player.playkit-overlay-active .playkit-subtitles{visibility:hidden}.playkit-player .playkit-subtitles{top:50px;transform:translateY(0px);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);transition:ease-in 100ms}.playkit-player:not(.playkit-overlay-active).playkit-state-paused .playkit-subtitles,.playkit-player:not(.playkit-overlay-active).playkit-state-idle .playkit-subtitles,.playkit-player:not(.playkit-overlay-active).playkit-hover .playkit-subtitles{transform:translateY(-50px);-webkit-transform:translateY(-50px);-ms-transform:translateY(-50px)}.playkit-player:not(.playkit-overlay-active).playkit-fullscreen.playkit-iOS .playkit-subtitles{transform:translateY(0px);-webkit-transform:translateY(0px);-ms-transform:translateY(0px)}.playkit-video-player{position:absolute;top:0;left:0;width:100%;height:100%;background:var(--playkit-player-background-color);transition:all 500ms;transition-property:left,right,bottom,top,width,height;display:flex}.playkit-overlay-active .playkit-video-player{filter:blur(16px)}@keyframes playkit-openOverlay{from{opacity:0}to{opacity:1}}.playkit-overlay{position:absolute;width:100%;height:100%;display:none;opacity:0;animation:playkit-openOverlay 100ms ease-in-out forwards;z-index:11}.playkit-overlay.playkit-active{display:block;opacity:1}.playkit-overlay .playkit-overlay-contents{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.7);z-index:4;text-align:center;color:#fff;padding:60px 20px 30px 20px;overflow-y:auto}.playkit-overlay .playkit-title{font-size:24px;font-weight:bold;line-height:29px;margin-bottom:60px;margin-top:0px}.playkit-overlay .playkit-close-overlay{position:absolute;top:48px;right:48px;z-index:5;cursor:pointer}.playkit-overlay .playkit-close-overlay .playkit-icon-close{width:24px;height:24px}.playkit-overlay .playkit-overlay-screen{display:none}.playkit-overlay .playkit-overlay-screen.playkit-active{display:block}.playkit-player.playkit-size-md .playkit-overlay .playkit-overlay-contents{padding:36px 20px}.playkit-player.playkit-size-md .playkit-overlay .playkit-close-overlay{top:38px}.playkit-player.playkit-size-md .playkit-overlay .playkit-title{margin-bottom:24px;margin-top:0px}.playkit-player.playkit-size-sm .playkit-overlay .playkit-overlay-contents,.playkit-player.playkit-size-xs .playkit-overlay .playkit-overlay-contents{padding:16px 24px}.playkit-player.playkit-size-sm .playkit-overlay .playkit-close-overlay,.playkit-player.playkit-size-xs .playkit-overlay .playkit-close-overlay{top:15px;right:24px}.playkit-player.playkit-size-sm .playkit-overlay .playkit-title,.playkit-player.playkit-size-xs .playkit-overlay .playkit-title{font-size:20px;line-height:19px;margin-bottom:24px;margin-top:0px}@keyframes playkit-openSmartContainer{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes playkit-closeSmartContainer{from{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(10px)}}.playkit-player:not(.playkit-touch) .playkit-smart-container{background-color:#222;box-shadow:0 2px 8px 0 rgba(0,0,0,.3);border-radius:4px;position:absolute;right:0px;min-width:193px;font-size:15px;z-index:10;display:block;animation:playkit-openSmartContainer 100ms ease-out forwards}.playkit-player:not(.playkit-touch) .playkit-smart-container.playkit-leaving{animation:playkit-closeSmartContainer 100ms ease-out forwards}.playkit-player:not(.playkit-touch) .playkit-smart-container.playkit-top{bottom:100%;margin-bottom:6px}.playkit-player:not(.playkit-touch) .playkit-smart-container.playkit-top:before{display:block;content:\" \";position:absolute;bottom:-6px;left:0;width:100%;height:6px}.playkit-player:not(.playkit-touch) .playkit-smart-container.playkit-bottom{top:100%;margin-top:6px}.playkit-player:not(.playkit-touch) .playkit-smart-container.playkit-right{left:0px}.playkit-player:not(.playkit-touch) .playkit-smart-container.playkit-left{right:0px}.playkit-player:not(.playkit-touch) .playkit-smart-container .playkit-smart-container-item{margin:16px;color:rgba(244,244,244,.8);white-space:nowrap;display:flex;justify-content:space-between}.playkit-player:not(.playkit-touch) .playkit-smart-container .playkit-smart-container-item.playkit-select-menu-item label .playkit-label-icon{display:none}.playkit-player:not(.playkit-touch) .playkit-smart-container .playkit-smart-container-item.playkit-select-menu-item .playkit-dropdown,.playkit-player:not(.playkit-touch) .playkit-smart-container .playkit-smart-container-item.playkit-select-menu-item select{align-self:flex-end}.playkit-player:not(.playkit-touch) .playkit-smart-container .playkit-smart-container-item.playkit-select-menu-item .playkit-dropdown span:not(.playkit-badge-icon){overflow:hidden;text-overflow:ellipsis;vertical-align:middle}.playkit-player:not(.playkit-touch) .playkit-smart-container .playkit-smart-container-item.playkit-select-menu-item select{text-align-last:right}.playkit-player.playkit-touch .playkit-smart-container-item,.playkit-player.playkit-size-sm .playkit-smart-container-item,.playkit-player.playkit-size-xs .playkit-smart-container-item{width:300px;max-width:100%;margin:16px auto;color:rgba(244,244,244,.8);white-space:nowrap;text-align:left;display:flex;justify-content:space-between}.playkit-player.playkit-touch .playkit-smart-container-item.playkit-select-menu-item label,.playkit-player.playkit-size-sm .playkit-smart-container-item.playkit-select-menu-item label,.playkit-player.playkit-size-xs .playkit-smart-container-item.playkit-select-menu-item label{font-size:16px;color:rgba(255,255,255,.8);margin-right:20px}.playkit-player.playkit-touch .playkit-smart-container-item.playkit-select-menu-item label .playkit-label-icon,.playkit-player.playkit-size-sm .playkit-smart-container-item.playkit-select-menu-item label .playkit-label-icon,.playkit-player.playkit-size-xs .playkit-smart-container-item.playkit-select-menu-item label .playkit-label-icon{width:24px;height:24px;display:inline-block;vertical-align:middle;margin-right:16px}.playkit-player.playkit-touch .playkit-smart-container-item.playkit-select-menu-item .playkit-dropdown,.playkit-player.playkit-touch .playkit-smart-container-item.playkit-select-menu-item select,.playkit-player.playkit-size-sm .playkit-smart-container-item.playkit-select-menu-item .playkit-dropdown,.playkit-player.playkit-size-sm .playkit-smart-container-item.playkit-select-menu-item select,.playkit-player.playkit-size-xs .playkit-smart-container-item.playkit-select-menu-item .playkit-dropdown,.playkit-player.playkit-size-xs .playkit-smart-container-item.playkit-select-menu-item select{align-self:flex-end}.playkit-player.playkit-touch .playkit-smart-container-item.playkit-select-menu-item select,.playkit-player.playkit-size-sm .playkit-smart-container-item.playkit-select-menu-item select,.playkit-player.playkit-size-xs .playkit-smart-container-item.playkit-select-menu-item select{text-align-last:right;min-width:1px;line-height:24px}.playkit-player.playkit-touch.playkit-Windows select option,.playkit-player.playkit-size-sm.playkit-Windows select option,.playkit-player.playkit-size-xs.playkit-Windows select option{color:#000;background-color:#fff}.playkit-overlay.playkit-cvaa-overlay .playkit-sample{border:2px solid rgba(255,255,255,.2);border-radius:4px;font-size:16px;font-weight:bold;line-height:36px;text-align:center;padding:0 31px;display:inline-block;margin:0 12px;position:relative}.playkit-overlay.playkit-cvaa-overlay .playkit-sample:not(.playkit-custom){cursor:pointer}.playkit-overlay.playkit-cvaa-overlay .playkit-sample.playkit-black-bg{background-color:#000}.playkit-overlay.playkit-cvaa-overlay .playkit-sample.playkit-yellow-text{color:#faff00}.playkit-overlay.playkit-cvaa-overlay .playkit-sample .playkit-active-tick{height:16px;width:16px;border-radius:8px;background-color:var(--playkit-primary-color);position:absolute;top:-5px;right:-5px}.playkit-overlay.playkit-cvaa-overlay .playkit-sample .playkit-active-tick .playkit-icon{vertical-align:top}.playkit-overlay.playkit-cvaa-overlay .playkit-sample span{font-size:16px !important;line-height:1;vertical-align:middle}.playkit-overlay.playkit-cvaa-overlay .playkit-button-save-cvaa{margin-top:50px;height:40px;width:400px;max-width:100%;border:2px solid rgba(255,255,255,.2);border-radius:4px;font-size:16px;font-weight:bold;line-height:38px;text-align:center;display:inline-block;color:#fff;text-decoration:none;cursor:pointer}.playkit-overlay.playkit-cvaa-overlay .playkit-button-save-cvaa:focus{outline:2px solid #2684ff;box-shadow:0 0 0 2px #fff;outline-offset:1px}.playkit-overlay.playkit-cvaa-overlay .playkit-button-edit-cvaa{display:inline-block;text-decoration:none;cursor:pointer}.playkit-overlay.playkit-cvaa-overlay .playkit-button-edit-cvaa:focus{outline:1px solid #2684ff;box-shadow:0 0 0 1px #fff;outline-offset:1px}.playkit-overlay.playkit-cvaa-overlay .playkit-custom-captions-applied{margin-top:50px}.playkit-overlay.playkit-cvaa-overlay .playkit-custom-captions-applied a{color:var(--playkit-primary-brighter-color)}.playkit-overlay.playkit-cvaa-overlay .playkit-custom-caption-form{width:300px;max-width:100%;margin:0 auto}.playkit-overlay.playkit-cvaa-overlay .playkit-custom-caption-form a{color:#fff;line-height:36px;text-decoration:none}.playkit-overlay.playkit-cvaa-overlay .playkit-custom-caption-form a:hover,.playkit-overlay.playkit-cvaa-overlay .playkit-custom-caption-form a:focus{text-decoration:underline}.playkit-overlay.playkit-cvaa-overlay .playkit-custom-caption-form .playkit-slider{float:right;width:100px;margin-top:5px}.playkit-overlay.playkit-cvaa-overlay .playkit-preview-container{width:100%;text-align:center;font-size:16px}.playkit-player.playkit-size-sm .playkit-overlay.playkit-cvaa-overlay .playkit-sample{width:30%;margin:2.33%;padding:0}.playkit-player.playkit-size-sm .playkit-overlay.playkit-cvaa-overlay .playkit-sample:first-child{margin-left:0}.playkit-player.playkit-size-sm .playkit-overlay.playkit-cvaa-overlay .playkit-sample:last-child{margin-right:0}.playkit-player.playkit-size-sm .playkit-overlay.playkit-cvaa-overlay .playkit-sample.playkit-custom{width:auto;padding:0 10px}.playkit-player.playkit-size-sm .playkit-overlay.playkit-cvaa-overlay .playkit-button-save-cvaa,.playkit-player.playkit-size-sm .playkit-overlay.playkit-cvaa-overlay .playkit-custom-captions-applied{margin-top:20px}.playkit-font-size,.playkit-font-alignment,.playkit-font-color,.playkit-font-family,.playkit-font-style,.playkit-font-opacity,.playkit-background-color,.playkit-background-opacity{background:initial}.playkit-loading-backdrop{position:absolute;top:50%;left:50%;transition:100ms opacity;opacity:0;z-index:5}.playkit-loading-backdrop.playkit-show{opacity:1}.playkit-loading-backdrop.playkit-show .playkit-spinner-container{display:block}.playkit-loading-backdrop .playkit-spinner-container{display:none;position:absolute;top:50%;left:50%;transform:translate3d(-50%, -50%, 0)}.playkit-control-button-container.playkit-control-play-pause .playkit-control-button{transition:400ms transform}.playkit-control-button-container.playkit-control-play-pause .playkit-control-button .playkit-icon-pause{transition:400ms opacity;opacity:0;display:none}.playkit-control-button-container.playkit-control-play-pause .playkit-control-button .playkit-icon-play{transition:400ms opacity;opacity:1;display:block}.playkit-control-button-container.playkit-control-play-pause .playkit-control-button.playkit-is-playing{transform:rotate(360deg)}.playkit-control-button-container.playkit-control-play-pause .playkit-control-button.playkit-is-playing .playkit-icon-pause{opacity:1;display:block}.playkit-control-button-container.playkit-control-play-pause .playkit-control-button.playkit-is-playing .playkit-icon-play{opacity:0;display:none}.playkit-control-button-container.playkit-control-volume,.playkit-control-button-container.playkit-volume-control{display:inline-block !important}.playkit-control-button-container.playkit-control-volume.playkit-hover .playkit-volume-control-bar,.playkit-control-button-container.playkit-volume-control.playkit-hover .playkit-volume-control-bar{display:block !important;opacity:1;height:112px;padding:6px}.playkit-control-button-container.playkit-control-volume.playkit-hover .playkit-volume-control-bar:before,.playkit-control-button-container.playkit-volume-control.playkit-hover .playkit-volume-control-bar:before{height:14px}.playkit-control-button-container.playkit-control-volume.playkit-is-muted .playkit-icon-volume-waves,.playkit-control-button-container.playkit-volume-control.playkit-is-muted .playkit-icon-volume-waves{opacity:0;-webkit-transform:translateX(-5px);-ms-transform:translateX(-5px);transform:translateX(-5px)}.playkit-control-button-container.playkit-control-volume.playkit-is-muted .playkit-icon-volume-mute,.playkit-control-button-container.playkit-volume-control.playkit-is-muted .playkit-icon-volume-mute{opacity:1;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}.playkit-control-button-container.playkit-control-volume.playkit-dragging-active .playkit-volume-control-bar,.playkit-control-button-container.playkit-volume-control.playkit-dragging-active .playkit-volume-control-bar{display:block !important;opacity:1;height:112px;padding:6px}.playkit-control-button-container.playkit-control-volume.playkit-dragging-active .playkit-volume-control-bar:before,.playkit-control-button-container.playkit-volume-control.playkit-dragging-active .playkit-volume-control-bar:before{height:14px}.playkit-control-button-container.playkit-control-volume .playkit-volume-button,.playkit-control-button-container.playkit-volume-control .playkit-volume-button{position:absolute;bottom:-2px;left:0;width:2px;height:2px;background:rgba(0,0,0,0)}.playkit-control-button-container.playkit-control-volume .playkit-icon-volume-waves,.playkit-control-button-container.playkit-volume-control .playkit-icon-volume-waves{-webkit-transform:translateX(0px);-ms-transform:translateX(0px);transform:translateX(0px)}.playkit-control-button-container.playkit-control-volume .playkit-icon-volume-mute,.playkit-control-button-container.playkit-volume-control .playkit-icon-volume-mute{opacity:1;-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0)}.playkit-control-button-container.playkit-control-volume .playkit-icon-volume-waves,.playkit-control-button-container.playkit-control-volume .playkit-icon-volume-mute,.playkit-control-button-container.playkit-volume-control .playkit-icon-volume-waves,.playkit-control-button-container.playkit-volume-control .playkit-icon-volume-mute{transition:300ms transform,300ms opacity}.playkit-control-button-container.playkit-control-volume i,.playkit-control-button-container.playkit-volume-control i{position:absolute;top:0;left:0}.playkit-volume-control-bar{position:absolute;z-index:2;bottom:38px;left:0;height:0px;width:34px;border-radius:4px;box-shadow:0 2px 8px 0 rgba(0,0,0,.3);background-color:#333;padding:0px;opacity:0}.playkit-volume-control-bar:before{position:absolute;width:34px;height:0px;bottom:-8px;left:0;content:\" \";display:block}.playkit-volume-control-bar .playkit-bar{background-color:#424242;height:100%;position:relative;cursor:pointer}.playkit-volume-control-bar .playkit-progress{position:absolute;bottom:0;left:0;width:100%;border-radius:0 0 2px 2px;background-color:var(--playkit-tone-1-color)}.playkit-player.playkit-smart-container-open .playkit-control-button-container.playkit-control-volume.playkit-hover .playkit-control-volume-bar,.playkit-player.playkit-smart-container-open .playkit-control-button-container.playkit-volume-control.playkit-hover .playkit-control-volume-bar{display:none !important}.playkit-size-ty .playkit-control-button-container.playkit-control-volume.playkit-hover .playkit-control-volume-bar,.playkit-size-ty .playkit-control-button-container.playkit-volume-control.playkit-hover .playkit-control-volume-bar{display:none !important}.playkit-touch .playkit-control-button-container.playkit-control-volume.playkit-hover .playkit-control-volume-bar,.playkit-touch .playkit-control-button-container.playkit-volume-control.playkit-hover .playkit-control-volume-bar{display:none !important}.playkit-sr-only{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}.playkit-player .playkit-control-button-container.playkit-control-fullscreen .playkit-control-button{transition:100ms transform;transform:scale(1)}.playkit-player .playkit-control-button-container.playkit-control-fullscreen .playkit-control-button .playkit-icon-minimize{display:none}.playkit-player .playkit-control-button-container.playkit-control-fullscreen .playkit-control-button.playkit-is-fullscreen .playkit-icon-maximize{display:none}.playkit-player .playkit-control-button-container.playkit-control-fullscreen .playkit-control-button.playkit-is-fullscreen .playkit-icon-minimize{display:block}.playkit-player:not(.playkit-touch) .playkit-control-button-container.playkit-control-fullscreen .playkit-control-button:hover{transform:scale(1.1)}.playkit-player .playkit-seek-bar{padding:12px 0 12px 0;cursor:pointer;position:relative;z-index:1}.playkit-player .playkit-seek-bar:hover .playkit-time-preview,.playkit-player .playkit-seek-bar:hover .playkit-frame-preview:not(.playkit-hide-frame-preview),.playkit-player .playkit-seek-bar.playkit-hover .playkit-time-preview,.playkit-player .playkit-seek-bar.playkit-hover .playkit-frame-preview:not(.playkit-hide-frame-preview){display:block}.playkit-player .playkit-seek-bar:hover .playkit-progress-bar .playkit-scrubber,.playkit-player .playkit-seek-bar.playkit-hover .playkit-progress-bar .playkit-scrubber{transform:scale(1)}.playkit-player .playkit-seek-bar:hover .playkit-progress-bar .playkit-virtual-progress,.playkit-player .playkit-seek-bar.playkit-hover .playkit-progress-bar .playkit-virtual-progress{display:block}.playkit-player .playkit-seek-bar.playkit-ad-break{cursor:initial}.playkit-player .playkit-seek-bar .playkit-progress-bar{width:100%;height:4px;background-color:rgba(255,255,255,.4);border-radius:2px;border:1px solid rgba(0,0,0,.4);position:absolute;transition:height 200ms ease,transform 200ms ease}.playkit-player .playkit-seek-bar .playkit-progress-bar.playkit-chapters{background-color:rgba(0,0,0,0);border:none}.playkit-player .playkit-seek-bar .playkit-progress-bar.playkit-chapters .playkit-virtual-progress-indicator{height:8px;transform:translateY(-2px)}.playkit-player .playkit-seek-bar .playkit-progress-bar .playkit-virtual-progress{display:none}.playkit-player .playkit-seek-bar .playkit-progress-bar .playkit-virtual-progress{position:absolute;top:0;left:0;height:100%;border-radius:inherit}.playkit-player .playkit-seek-bar .playkit-progress-bar .playkit-virtual-progress-indicator{width:1px;height:100%;background-color:var(--playkit-tone-1-color);float:right}.playkit-player .playkit-seek-bar .playkit-progress-bar .playkit-scrubber{position:absolute;cursor:pointer;display:block;top:-6px;left:-6px;border-radius:8px;height:16px;width:16px;background-color:var(--playkit-tone-1-color);box-shadow:0 0 31px 0 rgba(0,0,0,.3);transform:scale(0);transition:100ms transform;z-index:1;pointer-events:none}.playkit-player .playkit-seek-bar .playkit-progress-bar .playkit-scrubber:active{opacity:1;cursor:grabbing}.playkit-player .playkit-seek-bar .playkit-frame-preview{position:absolute;bottom:20px;left:0}.playkit-player .playkit-seek-bar .playkit-time-preview{position:absolute;bottom:26px;left:0;height:22px;min-width:48px;padding:0 3px;text-align:center;border-radius:3px;background-color:rgba(0,0,0,.7);font-size:13px;font-weight:bold;line-height:22px;color:#fff;z-index:1;pointer-events:none}.playkit-player .playkit-seek-bar .playkit-time-preview,.playkit-player .playkit-seek-bar .playkit-frame-preview{display:none}.playkit-player .playkit-seek-bar .playkit-non-sticky:hover{display:none}.playkit-player:not(.playkit-touch):not(.playkit-size-ty) .playkit-seek-bar:hover .playkit-progress-bar:not(.playkit-chapters),.playkit-player:not(.playkit-touch):not(.playkit-size-ty) .playkit-seek-bar.playkit-hover .playkit-progress-bar:not(.playkit-chapters){height:8px;border-radius:4px;transform:translateY(-2px)}.playkit-player:not(.playkit-touch):not(.playkit-size-ty) .playkit-seek-bar:hover .playkit-progress-bar:not(.playkit-chapters) .playkit-scrubber,.playkit-player:not(.playkit-touch):not(.playkit-size-ty) .playkit-seek-bar.playkit-hover .playkit-progress-bar:not(.playkit-chapters) .playkit-scrubber{top:-4px}.playkit-player.playkit-touch .playkit-seek-bar .playkit-progress-bar .playkit-virtual-progress,.playkit-player.playkit-touch .playkit-seek-bar .playkit-progress-bar .playkit-time-preview,.playkit-player.playkit-touch .playkit-seek-bar .playkit-progress-bar .playkit-frame-preview{display:none}.playkit-player.playkit-size-ty .playkit-seek-bar{padding:12px 0;cursor:pointer;position:relative;float:left;width:calc(100% - 45px);margin:1px 0}.playkit-player.playkit-size-ty .playkit-seek-bar .playkit-frame-preview{display:none}.playkit-player.playkit-size-ty .playkit-seek-bar .playkit-time-preview{bottom:16px}.playkit-player .playkit-seek-bar.playkit-ad-break{cursor:initial}.playkit-player .playkit-seek-bar.playkit-ad-break .playkit-progress-bar .playkit-progress{background-color:var(--playkit-ads-color)}.playkit-player .playkit-seek-bar.playkit-live .playkit-progress-bar .playkit-progress{background-color:var(--playkit-live-color)}.playkit-player .playkit-seek-bar .playkit-progress-bar .playkit-progress{position:absolute;top:0;left:0;height:100%;border-radius:inherit;background-color:var(--playkit-primary-color)}.playkit-player .playkit-seek-bar .playkit-progress-bar .playkit-buffered{position:absolute;top:0;left:0;height:100%;border-radius:inherit;background-color:rgba(255,255,255,.6)}.playkit-frame-preview .playkit-frame-preview-img-container{border:2px solid rgba(255,255,255,.2);border-radius:4px}.playkit-frame-preview .playkit-frame-preview-img-container .playkit-frame-preview-img{background-size:auto 100% !important;width:100%;height:100%;position:relative}.playkit-player .playkit-time-display{display:inline-block;line-height:32px;vertical-align:top;font-size:14px;padding:0 23px 0 4px;font-weight:bold;white-space:nowrap;filter:drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.7))}.playkit-touch .playkit-time-display{padding-left:0}.playkit-player.playkit-size-md .playkit-time-display,.playkit-player.playkit-size-sm .playkit-time-display,.playkit-player.playkit-size-xs .playkit-time-display{padding-right:12px}.playkit-player .playkit-video-playing-title{font-size:15px;font-weight:bold;line-height:18px;padding:6px 0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.playkit-player .playkit-bottom-bar{background:linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.8) 100%);color:#fff;height:auto;width:100%;margin-top:auto;bottom:0;left:0;z-index:1;pointer-events:auto;position:absolute;padding:0;opacity:0;max-height:60px;transition:100ms opacity ease-in-out,0ms padding linear 100ms}.playkit-player .playkit-bottom-bar.playkit-hide{display:none}.playkit-player .playkit-bottom-bar .playkit-controls-container{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;width:100%;position:relative;z-index:1}.playkit-player .playkit-bottom-bar .playkit-controls-container .playkit-left-controls{flex-shrink:0;text-align:left;pointer-events:none}.playkit-player .playkit-bottom-bar .playkit-controls-container .playkit-left-controls .playkit-control-button-container:first-child{margin-left:0px}.playkit-player .playkit-bottom-bar .playkit-controls-container .playkit-right-controls{display:flex;flex-wrap:nowrap;flex-grow:0;text-align:left;pointer-events:none}.playkit-player .playkit-bottom-bar .playkit-controls-container .playkit-right-controls .playkit-control-button-container:last-child{margin-right:0px}.playkit-player .playkit-bottom-bar .playkit-bottom-bar-area{position:relative;pointer-events:none}.playkit-player .playkit-bottom-bar .playkit-bottom-bar-area .playkit-time-display{padding:0;position:absolute;bottom:20px;font-size:12px;line-height:normal;font-weight:400}.playkit-player .playkit-bottom-bar .playkit-control-button-container{margin:0 4px}.playkit-player.playkit-overlay-active .playkit-bottom-bar{display:none}.playkit-player.playkit-size-ty .playkit-controls-container{display:block}.playkit-player.playkit-size-ty .playkit-controls-container .playkit-left-controls{display:none}.playkit-player.playkit-size-ty .playkit-controls-container .playkit-right-controls{display:block;float:right}.playkit-player.playkit-size-ty .playkit-control-button-container{display:none;margin:0}.playkit-player.playkit-size-xs .playkit-control-button-container:not(.playkit-upper-bar-icon),.playkit-player.playkit-size-sm .playkit-control-button-container:not(.playkit-upper-bar-icon){margin:0 3px}.playkit-player.playkit-casting:not(.playkit-overlay-active) .playkit-bottom-bar,.playkit-player.playkit-metadata-loaded.playkit-hover:not(.playkit-overlay-active) .playkit-bottom-bar,.playkit-player.playkit-state-paused:not(.playkit-overlay-active) .playkit-bottom-bar,.playkit-player.playkit-state-idle:not(.playkit-overlay-active) .playkit-bottom-bar,.playkit-player.playkit-ad-break:not(.playkit-overlay-active) .playkit-bottom-bar,.playkit-player.playkit-menu-active:not(.playkit-overlay-active) .playkit-bottom-bar{position:relative;opacity:1;padding:0 16px 4px;transition:100ms opacity ease-in-out}.playkit-player.playkit-size-sm .playkit-playback-controls+.playkit-time-display,.playkit-player.playkit-size-xs .playkit-playback-controls+.playkit-time-display{padding-left:0}.playkit-player.playkit-size-sm .playkit-bottom-bar{padding:0 8px 4px}.playkit-player .playkit-bottom-bar .playkit-left-controls>*,.playkit-player .playkit-bottom-bar .playkit-right-controls>*,.playkit-player .playkit-bottom-bar .playkit-bottom-bar-area>*{pointer-events:auto}.playkit-player .playkit-top-bar{display:flex;justify-content:space-between;background:linear-gradient(180deg, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0) 100%);color:#fff;visibility:hidden;position:relative;height:auto;min-height:75px;max-height:75px;margin-top:-75px;transition:100ms visibility ease-in-out,100ms margin-top ease-in-out,100ms min-height ease-in-out;width:100%;top:0;left:0;z-index:2;pointer-events:auto}.playkit-player .playkit-top-bar .playkit-top-bar-area{position:absolute;top:0;left:0;height:calc(100% - 24px);width:calc(100% - 32px);margin:12px 16px;pointer-events:none}.playkit-player .playkit-top-bar .playkit-top-bar-area:empty{margin:0;height:0;width:0}.playkit-player .playkit-top-bar.playkit-disabled{pointer-events:none}.playkit-player .playkit-top-bar.playkit-hide{display:none}.playkit-player .playkit-top-bar .playkit-left-controls{float:left;text-align:left;min-width:0;margin:12px 16px;pointer-events:none}.playkit-player .playkit-top-bar .playkit-left-controls:empty{margin:0}.playkit-player .playkit-top-bar .playkit-right-controls{float:right;text-align:left;margin:12px 16px 12px 32px;pointer-events:none}.playkit-player .playkit-top-bar .playkit-right-controls:empty{margin:0}.playkit-player .playkit-top-bar .playkit-right-controls .playkit-control-button-container:not(.playkit-upper-bar-icon){margin:0 6px}.playkit-player .playkit-top-bar .playkit-right-controls .playkit-control-button-container:not(.playkit-upper-bar-icon):last-child{margin-right:0}.playkit-player.playkit-casting:not(.playkit-overlay-active) .playkit-top-bar,.playkit-player.playkit-metadata-loaded.playkit-hover:not(.playkit-overlay-active) .playkit-top-bar,.playkit-player.playkit-state-paused:not(.playkit-overlay-active) .playkit-top-bar,.playkit-player.playkit-state-idle:not(.playkit-overlay-active) .playkit-top-bar,.playkit-player.playkit-ad-break:not(.playkit-overlay-active) .playkit-top-bar,.playkit-player.playkit-menu-active:not(.playkit-overlay-active) .playkit-top-bar{visibility:visible;margin-top:0;min-height:16px}.playkit-player .playkit-top-bar .playkit-left-controls>*,.playkit-player .playkit-top-bar .playkit-right-controls>*,.playkit-player .playkit-top-bar .playkit-top-bar-area>*{pointer-events:auto}.playkit-player .playkit-top-bar:has(.playkit-left-controls:empty+.playkit-right-controls:empty){visibility:hidden}.playkit-player.playkit-size-sm .playkit-top-bar .playkit-left-controls{margin:12px 0 12px 8px}.playkit-player.playkit-size-sm .playkit-top-bar .playkit-left-controls:empty{margin:0}.playkit-player.playkit-size-sm .playkit-top-bar .playkit-right-controls{margin:12px 8px 12px 0}.playkit-player.playkit-size-sm .playkit-top-bar .playkit-right-controls:empty{margin:0}.playkit-player.playkit-size-sm .playkit-top-bar .playkit-top-bar-area{width:calc(100% - 16px);margin:12px 8px}.playkit-player.playkit-size-sm .playkit-top-bar .playkit-top-bar-area:empty{margin:0}@keyframes playkit-overlayActionIconIn{0%{opacity:0;transform:scale(0)}10%{opacity:.1;transform:scale(0.1)}20%{opacity:.3;transform:scale(0.2)}30%{opacity:.5;transform:scale(0.3)}40%{opacity:.7;transform:scale(0.4)}50%{opacity:.9;transform:scale(0.5)}60%{opacity:.9;transform:scale(0.5)}70%{opacity:.9;transform:scale(0.5)}75%{opacity:.9;transform:scale(0.5)}80%{opacity:1;transform:scale(0.5)}85%{opacity:1;transform:scale(0.5)}90%{opacity:1;transform:scale(0.5)}93%{opacity:.7;transform:scale(0.5)}95%{opacity:.5;transform:scale(0.5)}98%{opacity:.2;transform:scale(0.5)}100%{opacity:0;transform:scale(0.5)}}.playkit-overlay-action .playkit-icon{width:144px;height:144px;position:absolute;top:50%;left:50%;margin:-72px 0 0 -72px;opacity:0}.playkit-player:not(.playkit-touch):not(.playkit-size-sm) .playkit-overlay-action.playkit-in .playkit-icon{animation:playkit-overlayActionIconIn 300ms linear forwards}.playkit-pre-playback-play-overlay{position:absolute;top:0;left:0;width:100%;height:100%}.playkit-pre-playback-play-overlay.playkit-prePlaybackPlayOverlayYoutube{z-index:2}.playkit-pre-playback-play-overlay .playkit-pre-playback-play-button{z-index:2;position:absolute;top:50%;left:50%;height:108px;width:108px;border:2px solid rgba(255,255,255,.2);background-color:rgba(0,0,0,.5);transform:translate(-50%, -50%);-webkit-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);border-radius:54px;padding:20px;cursor:pointer}.playkit-pre-playback-play-overlay .playkit-pre-playback-play-button:hover{border:2px solid rgba(255,255,255,.4)}.playkit-pre-playback-play-overlay .playkit-pre-playback-play-button:active{opacity:.7;transform:scale(1) translate(-50%, -50%)}.playkit-pre-playback-play-overlay .playkit-pre-playback-play-button:focus{outline:2px solid var(--playkit-tab-focus-color) !important;box-shadow:0 0 0 2px #fff !important;outline-offset:2px}.playkit-pre-playback .playkit-bottom-bar,.playkit-pre-playback .playkit-top-bar{opacity:0;display:none}.playkit-player.playkit-size-ty .playkit-pre-playback-play-button{width:75px;height:75px;padding:12px}.playkit-player.playkit-size-xs .playkit-pre-playback-play-button{width:85px;height:85px;padding:15px}.playkit-player.playkit-overlay-active .playkit-gui-area .playkit-pre-playback-play-overlay{opacity:0;visibility:hidden}.playkit-player .playkit-btn-skip-ad{font-weight:lighter;position:absolute;bottom:60px;right:16px;line-height:36px}.playkit-player .playkit-skip-ad{color:#fff;font-size:20px;font-weight:lighter;line-height:24px;text-shadow:0 0 6px rgba(0,0,0,.6);position:absolute;bottom:66px;right:16px}.playkit-row{display:block}.playkit-row:after{content:\"\";clear:both;display:block}.playkit-d-inline-block{display:inline-block}.playkit-mobile-hidden-select{display:block;opacity:0;position:absolute;top:0;left:0px;width:100%;height:100%}.playkit-font-size-base,.playkit-ad-notice{font-size:15px}.playkit-ad-notice{pointer-events:none}.playkit-live-tag{display:inline-block;background-color:var(--playkit-live-color);color:#fff;border-radius:4px;padding:3px 4px;margin:5px 10px;text-transform:uppercase;font-size:15px;cursor:default}.playkit-live-tag.playkit-non-live-playhead{background-color:#666;cursor:pointer}.playkit-player.playkit-size-sm .playkit-live-tag{margin-left:0}.playkit-unmute-button-container{display:inline-block;position:absolute;z-index:15}.playkit-unmute-button-container a{color:#fff}.playkit-unmute-button-container.playkit-show-icon-only .playkit-btn.playkit-unmute-button{max-width:64px}.playkit-unmute-button-container.playkit-show-icon-only .playkit-btn.playkit-unmute-button span{transform:translateX(10px);opacity:0;margin-left:0;max-width:0}.playkit-btn.playkit-unmute-button{font-size:14px;max-width:200px;transition:max-width 200ms;padding:8px 12px;white-space:nowrap;display:flex;align-items:center;height:32px;border-radius:4px;border:none}.playkit-btn.playkit-unmute-button span{transform:translateX(0px);max-width:51px;opacity:1;transition:max-width 100ms,transform 100ms,opacity 100ms;display:inline-block;color:#fff;margin-left:4px}.playkit-btn.playkit-unmute-button.playkit-has-top-bar{transition:100ms transform}.playkit-btn.playkit-unmute-button:hover{border:none}.playkit-unmute-icon-container{width:24px;height:24px;display:inline-block;vertical-align:top;position:relative}.playkit-unmute-icon-container i{position:absolute;top:0;left:0}.playkit-player.playkit-hover .playkit-unmute-button-container.playkit-has-top-bar,.playkit-player.playkit-state-paused .playkit-unmute-button-container.playkit-has-top-bar,.playkit-player.playkit-state-idle .playkit-unmute-button-container.playkit-has-top-bar,.playkit-player.playkit-menu-active .playkit-unmute-button-container.playkit-has-top-bar{transform:translateY(32px)}.playkit-overlay.playkit-error-overlay{background-color:var(--playkit-tone-7-color);font-size:0em}.playkit-custom-error-slate .playkit-overlay.playkit-error-overlay .playkit-overlay-contents{padding:0}.playkit-error-overlay{position:relative;display:flex;justify-content:center;align-items:center;flex-direction:column;height:100%;background-size:cover;background-repeat:no-repeat;background-position:center center}.playkit-error-overlay .playkit-copy-url-row{display:flex;align-items:center;margin-bottom:16px}.playkit-error-overlay .playkit-headline{color:var(--playkit-tone-1-color);margin-bottom:16px}.playkit-error-overlay .playkit-headline .playkit-error-title{font-weight:700;font-size:20px;font-style:normal;line-height:22px;margin:0 0 4px 0;text-shadow:0px 4px 4px rgba(0,0,0,.25)}.playkit-error-overlay .playkit-headline .playkit-error-message{font-weight:400;font-size:16px;font-style:normal;line-height:22px}.playkit-error-overlay .playkit-error-session{font-size:14px;color:var(--playkit-tone-1-color);font-style:normal;font-weight:400;line-height:18px;user-select:text;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;max-width:310px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-shadow:0px 4px 4px rgba(0,0,0,.25)}.playkit-error-overlay .playkit-retry-btn{height:32px;width:auto;min-width:120px;padding:0 8px;border-radius:4px;color:var(--playkit-tone-1-color);border:none;font-size:14px;font-weight:700;font-style:normal;line-height:normal;cursor:pointer}.playkit-error-overlay .playkit-error-text{height:0px;visibility:hidden}.playkit-link-options-container{width:auto}.playkit-link-options-container .playkit-copy-url-row .playkit-input-copy-url{margin:0}.playkit-link-options-container .playkit-copy-url-row .playkit-btn-copy-url{margin-left:8px;height:32px;width:32px}.playkit-link-options-container .playkit-copy-url-row .playkit-btn-copy-url .playkit-icon{height:24px;width:24px;margin-top:-3px}.playkit-slider{height:8px;border-radius:8px;background-color:rgba(255,255,255,.6)}.playkit-slider .playkit-progress{background-color:var(--playkit-primary-color);height:8px;border-radius:4px;position:relative}.playkit-slider .playkit-progress .playkit-handle{height:12px;width:12px;border-radius:5px;background-color:#fff;box-shadow:0 2px 8px 0 rgba(0,0,0,.3);position:absolute;right:0;top:0px;transform:translate3d(6px, -2px, 0);cursor:pointer}.playkit-player .playkit-learn-more{font-weight:lighter}.playkit-player .playkit-control-button-container.playkit-control-fullscreen .playkit-control-button{transition:100ms transform;transform:scale(1)}.playkit-player .playkit-control-button-container.playkit-control-fullscreen .playkit-control-button .playkit-icon-minimize{display:none}.playkit-player .playkit-control-button-container.playkit-control-fullscreen .playkit-control-button.playkit-is-fullscreen .playkit-icon-maximize{display:none}.playkit-player .playkit-control-button-container.playkit-control-fullscreen .playkit-control-button.playkit-is-fullscreen .playkit-icon-minimize{display:block}.playkit-player:not(.playkit-touch) .playkit-control-button-container.playkit-control-fullscreen .playkit-control-button:hover{transform:scale(1.1)}.playkit-player .playkit-watermark{position:absolute;transition:visibility 0s 1s,opacity 1s linear,transform ease-out 100ms}.playkit-player .playkit-watermark.playkit-hide-watermark{visibility:hidden;opacity:0}.playkit-player .playkit-watermark.playkit-top{top:0}.playkit-player .playkit-watermark.playkit-bottom{bottom:0}.playkit-player .playkit-watermark.playkit-right{right:0}.playkit-player .playkit-watermark.playkit-left{left:0}.playkit-control-button-container.playkit-control-vr-stereo .playkit-control-button .playkit-icon-vr-stereo-full{display:none}.playkit-control-button-container.playkit-control-vr-stereo .playkit-control-button.playkit-vr-stereo-mode .playkit-icon-vr-stereo{display:none}.playkit-control-button-container.playkit-control-vr-stereo .playkit-control-button.playkit-vr-stereo-mode .playkit-icon-vr-stereo-full{display:block}.playkit-control-button-container.playkit-control-closed-captions .playkit-control-button .playkit-icon-closed-captions-on{display:none}.playkit-control-button-container.playkit-control-closed-captions .playkit-control-button.playkit-cc-on .playkit-icon-closed-captions-off{display:none}.playkit-control-button-container.playkit-control-closed-captions .playkit-control-button.playkit-cc-on .playkit-icon-closed-captions-on{display:block}.playkit-player .playkit-cast-button{display:block;width:32px;height:32px;background-color:rgba(255,255,255,0);border:none;cursor:pointer;--connected-color: var(--playkit-tone-2-color);--disconnected-color: var(--playkit-tone-2-color)}.playkit-player .playkit-cast-button:hover{--connected-color: #ffffffff;--disconnected-color: #ffffffff}.playkit-player .playkit-cast-button.playkit-cast-button-active{--connected-color: rgba(1, 172, 205, 0.8)}.playkit-player .playkit-cast-button.playkit-cast-button-active:hover{--connected-color: var(--playkit-primary-color)}.playkit-player .playkit-cast-overlay{position:absolute;top:0;left:0;width:100%;height:100%}.playkit-player .playkit-cast-overlay .playkit-cast-poster{all:inherit;background-size:contain;background:#000 no-repeat center center}.playkit-player .playkit-cast-overlay .playkit-cast-poster.playkit-has-poster{background-color:#000}.playkit-player .playkit-cast-overlay .playkit-cast-black-cover{all:inherit;background:linear-gradient(to top, rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0) 72%, rgba(0, 0, 0, 0) 100%)}.playkit-player .playkit-cast-box .playkit-cast-icon{position:absolute;bottom:0;left:46px;height:128px}.playkit-player .playkit-cast-box .playkit-cast-icon .playkit-icon{width:30px;height:22px;color:rgba(255,255,255,.6);opacity:.6}.playkit-player .playkit-cast-box .playkit-cast-connecting-spinner{height:21px;width:21px;-webkit-animation:playkit-spin .9s infinite linear;border:3px solid rgba(255,255,255,.4);border-top-color:rgba(255,255,255,.8);border-radius:100%}.playkit-player .playkit-cast-box .playkit-cast-text{position:absolute;bottom:0;left:89px;height:128px;font-weight:lighter}.playkit-player .playkit-cast-box .playkit-cast-text .playkit-cast-status{display:inline-block;margin-top:3px;font-size:16px;color:rgba(255,255,255,.6);float:left;font-weight:inherit}.playkit-player .playkit-cast-box .playkit-cast-text .playkit-cast-device{left:0;display:inline-block;font-weight:inherit;font-size:25px;color:#fff;line-height:40px}@keyframes playkit-castOnTVAnimation{0%{opacity:0;transform:rotateY(70deg)}33%{opacity:.3;transform:rotateY(50deg)}66%{opacity:.6;transform:rotateY(30deg)}100%{opacity:1;transform:rotateY(0)}}.playkit-player .playkit-cast-on-tv-button-container{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0}.playkit-player .playkit-cast-on-tv-button-container span{font-weight:lighter;color:#fff}.playkit-player .playkit-cast-on-tv-button-container.playkit-show-cast-on-tv{animation:playkit-castOnTVAnimation 300ms linear forwards}.playkit-player .playkit-btn.playkit-cast-on-tv-button{font-size:15px;max-width:200px;transition:max-width 200ms;padding:0 16px;white-space:nowrap;position:absolute;bottom:0;transform:translate(-50%, -50%);left:50%}.playkit-player .playkit-btn.playkit-cast-on-tv-button span{transform:translateX(0px);opacity:1;transition:transform 100ms,opacity 100ms;display:inline-block}.playkit-player .playkit-cast-on-tv-icon-container{width:32px;height:32px;display:inline-block;vertical-align:top;position:relative;margin-right:3px}.playkit-player .playkit-cast-on-tv-icon-container i{position:absolute;top:0;left:0}.playkit-control-button-container.playkit-control-playlist-button .playkit-poster-preview{position:absolute;bottom:35px;width:280px;height:72px;display:flex;border-radius:4px;box-shadow:0px 0px 0px 1px rgba(0,0,0,.2),0px 8px 60px -16px rgba(0,0,0,.2);opacity:0;transition:400ms opacity;pointer-events:none}.playkit-control-button-container.playkit-control-playlist-button .playkit-poster-preview:hover{opacity:0 !important}.playkit-control-button-container.playkit-control-playlist-button .playkit-poster-preview .playkit-poster-preview-img{width:128px;height:inherit;border-radius:4px 0 0 4px;background-size:contain;background-repeat:round}.playkit-control-button-container.playkit-control-playlist-button .playkit-poster-preview .playkit-poster-preview-text{width:152px;height:inherit;padding:8px;background-color:rgba(0,0,0,.7);border-radius:0 4px 4px 0}.playkit-control-button-container.playkit-control-playlist-button .playkit-poster-preview .playkit-poster-preview-text .playkit-poster-preview-text-title{font-size:14px;font-weight:400;margin-bottom:3px;opacity:.7}.playkit-control-button-container.playkit-control-playlist-button .playkit-poster-preview .playkit-poster-preview-text .playkit-poster-preview-text-name{font-size:15px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400}.playkit-control-button-container.playkit-control-playlist-button:hover .playkit-poster-preview{opacity:1}.playkit-icon-picture-in-picture-stop{display:none}.playkit-is-in-picture-in-picture .playkit-icon-picture-in-picture-start{display:none}.playkit-is-in-picture-in-picture .playkit-icon-picture-in-picture-stop{display:block}.playkit-player-gui>.playkit-playback-controls,.playkit-center-playback-controls{display:none;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);-webkit-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);white-space:nowrap;z-index:1}.playkit-bottom-bar .playkit-playback-controls{display:inline}.playkit-player.playkit-size-sm.playkit-state-idle .playkit-control-playlist-button,.playkit-player.playkit-size-xs.playkit-state-idle .playkit-control-playlist-button,.playkit-player.playkit-touch.playkit-state-idle .playkit-control-playlist-button{display:none}.playkit-player.playkit-size-sm:not(.playkit-state-idle) .playkit-bottom-bar .playkit-playback-controls,.playkit-player.playkit-size-xs:not(.playkit-state-idle) .playkit-bottom-bar .playkit-playback-controls,.playkit-player.playkit-touch:not(.playkit-state-idle) .playkit-bottom-bar .playkit-playback-controls{display:none}.playkit-player.playkit-size-sm:not(.playkit-state-idle).playkit-hover .playkit-player-gui>.playkit-playback-controls:not(.playkit-image),.playkit-player.playkit-size-sm:not(.playkit-state-idle).playkit-hover .playkit-center-playback-controls:not(.playkit-image),.playkit-player.playkit-size-xs:not(.playkit-state-idle).playkit-hover .playkit-player-gui>.playkit-playback-controls:not(.playkit-image),.playkit-player.playkit-size-xs:not(.playkit-state-idle).playkit-hover .playkit-center-playback-controls:not(.playkit-image),.playkit-player.playkit-touch:not(.playkit-state-idle).playkit-hover .playkit-player-gui>.playkit-playback-controls:not(.playkit-image),.playkit-player.playkit-touch:not(.playkit-state-idle).playkit-hover .playkit-center-playback-controls:not(.playkit-image){display:block}.playkit-player.playkit-size-sm:not(.playkit-state-idle).playkit-hover .playkit-player-gui>.playkit-playback-controls:not(.playkit-image) .playkit-control-button,.playkit-player.playkit-size-sm:not(.playkit-state-idle).playkit-hover .playkit-center-playback-controls:not(.playkit-image) .playkit-control-button,.playkit-player.playkit-size-xs:not(.playkit-state-idle).playkit-hover .playkit-player-gui>.playkit-playback-controls:not(.playkit-image) .playkit-control-button,.playkit-player.playkit-size-xs:not(.playkit-state-idle).playkit-hover .playkit-center-playback-controls:not(.playkit-image) .playkit-control-button,.playkit-player.playkit-touch:not(.playkit-state-idle).playkit-hover .playkit-player-gui>.playkit-playback-controls:not(.playkit-image) .playkit-control-button,.playkit-player.playkit-touch:not(.playkit-state-idle).playkit-hover .playkit-center-playback-controls:not(.playkit-image) .playkit-control-button{width:auto;height:auto;padding:0 16px;-webkit-filter:drop-shadow(0px 0px 8px rgba(0, 0, 0, 0.5));filter:drop-shadow(0px 0px 8px rgba(0, 0, 0, 0.5))}.playkit-player.playkit-size-sm:not(.playkit-state-idle).playkit-hover .playkit-player-gui>.playkit-playback-controls:not(.playkit-image) .playkit-icon,.playkit-player.playkit-size-sm:not(.playkit-state-idle).playkit-hover .playkit-center-playback-controls:not(.playkit-image) .playkit-icon,.playkit-player.playkit-size-xs:not(.playkit-state-idle).playkit-hover .playkit-player-gui>.playkit-playback-controls:not(.playkit-image) .playkit-icon,.playkit-player.playkit-size-xs:not(.playkit-state-idle).playkit-hover .playkit-center-playback-controls:not(.playkit-image) .playkit-icon,.playkit-player.playkit-touch:not(.playkit-state-idle).playkit-hover .playkit-player-gui>.playkit-playback-controls:not(.playkit-image) .playkit-icon,.playkit-player.playkit-touch:not(.playkit-state-idle).playkit-hover .playkit-center-playback-controls:not(.playkit-image) .playkit-icon{width:64px;height:64px}.playkit-player.playkit-overlay-active .playkit-gui-area .playkit-playback-controls{opacity:0;visibility:hidden}@keyframes playkit-slideIn{0%{right:-160px}100%{right:0}}.playkit-player .playkit-playlist-countdown{display:flex;height:72px;position:absolute;right:0;bottom:0;border-radius:4px;transition:opacity 400ms,bottom 300ms;cursor:pointer;box-shadow:0px 0px 0px 1px rgba(0,0,0,.2),0px 8px 60px -16px rgba(0,0,0,.2)}.playkit-player .playkit-playlist-countdown.playkit-slideIn{right:-160px;animation:playkit-slideIn 500ms 500ms forwards}.playkit-player .playkit-playlist-countdown.playkit-hidden{pointer-events:none;opacity:0}.playkit-player .playkit-playlist-countdown.playkit-hidden .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background{width:0}.playkit-player .playkit-playlist-countdown.playkit-hidden .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background .playkit-playlist-countdown-content{opacity:0}.playkit-player .playkit-playlist-countdown.playkit-canceled{bottom:-50px;opacity:0}.playkit-player .playkit-playlist-countdown:hover .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background{background-color:#000}.playkit-player .playkit-playlist-countdown .playkit-playlist-countdown-poster{width:128px;height:inherit;border-radius:4px 0 0 4px;background-size:contain;background-repeat:round}.playkit-player .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder{width:152px;height:inherit}.playkit-player .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background{width:inherit;border-radius:0 4px 3px 0;background-color:rgba(0,0,0,.7);height:inherit;transition:width 500ms 1000ms}.playkit-player .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background .playkit-playlist-countdown-content{width:inherit;transition:opacity 300ms 1200ms}.playkit-player .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background .playkit-playlist-countdown-content .playkit-playlist-countdown-text{width:100%;padding:10px;font-size:14px;font-weight:400;text-align:left;color:#fff;float:left;line-height:initial}.playkit-player .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background .playkit-playlist-countdown-content .playkit-playlist-countdown-text .playkit-playlist-countdown-text-title{margin-bottom:12px;opacity:.7}.playkit-player .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background .playkit-playlist-countdown-content .playkit-playlist-countdown-text .playkit-playlist-countdown-text-title .playkit-playlist-countdown-time-left{display:inline;margin-left:4px}.playkit-player .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background .playkit-playlist-countdown-content .playkit-playlist-countdown-text .playkit-playlist-countdown-text-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.playkit-player .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background .playkit-playlist-countdown-content .playkit-playlist-countdown-cancel{position:absolute;top:5px;right:5px;width:24px;height:24px}.playkit-player .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background .playkit-playlist-countdown-content .playkit-playlist-countdown-cancel *{width:inherit;height:inherit}.playkit-player.playkit-size-md .playkit-playlist-countdown{height:54px}.playkit-player.playkit-size-md .playkit-playlist-countdown .playkit-playlist-countdown-poster{width:96px}.playkit-player.playkit-size-md .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder{width:152px}.playkit-player.playkit-size-md .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background .playkit-playlist-countdown-content .playkit-playlist-countdown-text{padding:8px}.playkit-player.playkit-size-md .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background .playkit-playlist-countdown-content .playkit-playlist-countdown-text .playkit-playlist-countdown-text-title{margin-bottom:4px}.playkit-player.playkit-size-md .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background .playkit-playlist-countdown-content .playkit-playlist-countdown-cancel{top:3px;right:3px}.playkit-player.playkit-size-sm .playkit-playlist-countdown,.playkit-player.playkit-size-xs .playkit-playlist-countdown,.playkit-player.playkit-size-ty .playkit-playlist-countdown{z-index:1;height:36px;margin:8px}.playkit-player.playkit-size-sm .playkit-playlist-countdown .playkit-playlist-countdown-poster,.playkit-player.playkit-size-xs .playkit-playlist-countdown .playkit-playlist-countdown-poster,.playkit-player.playkit-size-ty .playkit-playlist-countdown .playkit-playlist-countdown-poster{display:none}.playkit-player.playkit-size-sm .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder,.playkit-player.playkit-size-xs .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder,.playkit-player.playkit-size-ty .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder{width:108px}.playkit-player.playkit-size-sm .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background,.playkit-player.playkit-size-xs .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background,.playkit-player.playkit-size-ty .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background{transition:width 500ms;border-radius:2px}.playkit-player.playkit-size-sm .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background .playkit-playlist-countdown-content .playkit-playlist-countdown-text,.playkit-player.playkit-size-xs .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background .playkit-playlist-countdown-content .playkit-playlist-countdown-text,.playkit-player.playkit-size-ty .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background .playkit-playlist-countdown-content .playkit-playlist-countdown-text{width:90%;padding:3px 0 0 4px}.playkit-player.playkit-size-sm .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background .playkit-playlist-countdown-content .playkit-playlist-countdown-text .playkit-playlist-countdown-text-title,.playkit-player.playkit-size-xs .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background .playkit-playlist-countdown-content .playkit-playlist-countdown-text .playkit-playlist-countdown-text-title,.playkit-player.playkit-size-ty .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background .playkit-playlist-countdown-content .playkit-playlist-countdown-text .playkit-playlist-countdown-text-title{font-size:12px;margin-bottom:0}.playkit-player.playkit-size-sm .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background .playkit-playlist-countdown-content .playkit-playlist-countdown-text .playkit-playlist-countdown-text-name,.playkit-player.playkit-size-xs .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background .playkit-playlist-countdown-content .playkit-playlist-countdown-text .playkit-playlist-countdown-text-name,.playkit-player.playkit-size-ty .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background .playkit-playlist-countdown-content .playkit-playlist-countdown-text .playkit-playlist-countdown-text-name{font-size:12px;font-weight:400}.playkit-player.playkit-size-sm .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background .playkit-playlist-countdown-content .playkit-playlist-countdown-cancel,.playkit-player.playkit-size-xs .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background .playkit-playlist-countdown-content .playkit-playlist-countdown-cancel,.playkit-player.playkit-size-ty .playkit-playlist-countdown .playkit-playlist-countdown-content-placeholder .playkit-playlist-countdown-content-background .playkit-playlist-countdown-content .playkit-playlist-countdown-cancel{top:0;right:0}.playkit-player.playkit-state-idle .playkit-playlist-next-screen-overlay{position:absolute;width:100%;height:100%;background-color:rgba(0,0,0,.5)}.playkit-player.playkit-state-idle .playkit-playlist-next-screen-overlay .playkit-playlist-next-screen-content{position:relative;top:50%;transform:translateY(-50%)}.playkit-player.playkit-state-idle .playkit-playlist-next-screen-overlay .playkit-playlist-next-screen-content .playkit-playlist-next-screen-text{position:absolute;width:100%;top:-90px;font-size:15px;color:#fff;padding:4px 8px 12px 8px;text-align:center}.playkit-player.playkit-state-idle .playkit-playlist-next-screen-overlay .playkit-playlist-next-screen-content .playkit-playlist-next-screen-text .playkit-playlist-next-screen-text-title{padding:4px;font-weight:100}.playkit-player.playkit-state-idle .playkit-playlist-next-screen-overlay .playkit-playlist-next-screen-content .playkit-playlist-next-screen-text .playkit-playlist-next-screen-text-name{padding:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.playkit-player.playkit-state-idle .playkit-playlist-next-screen-overlay .playkit-playlist-next-screen-content .playkit-playlist-next-screen-poster-placeholder{position:relative;margin:auto;width:384px}.playkit-player.playkit-state-idle .playkit-playlist-next-screen-overlay .playkit-playlist-next-screen-content .playkit-playlist-next-screen-poster-placeholder .playkit-playlist-next-screen-poster-aspect-ratio{width:100%;padding-top:56%}.playkit-player.playkit-state-idle .playkit-playlist-next-screen-overlay .playkit-playlist-next-screen-content .playkit-playlist-next-screen-poster-placeholder .playkit-playlist-next-screen-poster-aspect-ratio .playkit-playlist-next-screen-poster{position:absolute;top:0;left:0;bottom:0;right:0;border:2px solid rgba(255,255,255,.2);border-radius:4px;cursor:pointer}.playkit-player.playkit-state-idle .playkit-playlist-next-screen-overlay .playkit-playlist-next-screen-content .playkit-playlist-next-screen-poster-placeholder .playkit-playlist-next-screen-poster-aspect-ratio .playkit-playlist-next-screen-poster .playkit-playlist-next-screen-poster-img{height:100%;border-radius:3px;background-size:contain;background-repeat:round}.playkit-player.playkit-state-idle .playkit-playlist-next-screen-overlay .playkit-playlist-next-screen-content .playkit-playlist-next-screen-poster-placeholder .playkit-playlist-next-screen-poster-aspect-ratio .playkit-playlist-next-screen-poster .playkit-icon{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);width:64px;height:64px}.playkit-player.playkit-state-idle.playkit-size-lg .playkit-playlist-next-screen-content .playkit-playlist-next-screen-poster-placeholder{width:37.5%}.playkit-player.playkit-state-idle.playkit-size-md .playkit-playlist-next-screen-content .playkit-playlist-next-screen-text{top:-58px}.playkit-player.playkit-state-idle.playkit-size-md .playkit-playlist-next-screen-content .playkit-playlist-next-screen-text .playkit-playlist-next-screen-text-name{padding:0}.playkit-player.playkit-state-idle.playkit-size-md .playkit-playlist-next-screen-content .playkit-playlist-next-screen-poster-placeholder{width:42%}.playkit-player.playkit-state-idle.playkit-size-sm .playkit-playlist-next-screen-content .playkit-playlist-next-screen-poster-placeholder,.playkit-player.playkit-state-idle.playkit-size-xs .playkit-playlist-next-screen-content .playkit-playlist-next-screen-poster-placeholder,.playkit-player.playkit-state-idle.playkit-size-ty .playkit-playlist-next-screen-content .playkit-playlist-next-screen-poster-placeholder{width:32px}.playkit-player.playkit-state-idle.playkit-size-sm .playkit-playlist-next-screen-content .playkit-playlist-next-screen-poster-placeholder .playkit-playlist-next-screen-poster-aspect-ratio .playkit-playlist-next-screen-poster,.playkit-player.playkit-state-idle.playkit-size-xs .playkit-playlist-next-screen-content .playkit-playlist-next-screen-poster-placeholder .playkit-playlist-next-screen-poster-aspect-ratio .playkit-playlist-next-screen-poster,.playkit-player.playkit-state-idle.playkit-size-ty .playkit-playlist-next-screen-content .playkit-playlist-next-screen-poster-placeholder .playkit-playlist-next-screen-poster-aspect-ratio .playkit-playlist-next-screen-poster{border:0}.playkit-player.playkit-state-idle.playkit-size-sm .playkit-playlist-next-screen-content .playkit-playlist-next-screen-poster-placeholder .playkit-playlist-next-screen-poster-aspect-ratio .playkit-playlist-next-screen-poster .playkit-playlist-next-screen-poster-img,.playkit-player.playkit-state-idle.playkit-size-xs .playkit-playlist-next-screen-content .playkit-playlist-next-screen-poster-placeholder .playkit-playlist-next-screen-poster-aspect-ratio .playkit-playlist-next-screen-poster .playkit-playlist-next-screen-poster-img,.playkit-player.playkit-state-idle.playkit-size-ty .playkit-playlist-next-screen-content .playkit-playlist-next-screen-poster-placeholder .playkit-playlist-next-screen-poster-aspect-ratio .playkit-playlist-next-screen-poster .playkit-playlist-next-screen-poster-img{display:none}.playkit-player.playkit-state-idle.playkit-size-sm .playkit-playlist-next-screen-content .playkit-playlist-next-screen-poster-placeholder .playkit-playlist-next-screen-poster-aspect-ratio .playkit-playlist-next-screen-poster .playkit-icon,.playkit-player.playkit-state-idle.playkit-size-xs .playkit-playlist-next-screen-content .playkit-playlist-next-screen-poster-placeholder .playkit-playlist-next-screen-poster-aspect-ratio .playkit-playlist-next-screen-poster .playkit-icon,.playkit-player.playkit-state-idle.playkit-size-ty .playkit-playlist-next-screen-content .playkit-playlist-next-screen-poster-placeholder .playkit-playlist-next-screen-poster-aspect-ratio .playkit-playlist-next-screen-poster .playkit-icon{width:32px;height:32px}.playkit-picture-in-picture-overlay{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center}.playkit-picture-in-picture-overlay .playkit-picture-in-picture-poster{all:inherit;background-size:contain;background:#000 no-repeat center center}.playkit-picture-in-picture-overlay .playkit-picture-in-picture-poster.playkit-has-poster{background-color:#000}.playkit-picture-in-picture-overlay .playkit-picture-in-picture-poster .playkit-dark-layer{background-color:rgba(0,0,0,.4);position:absolute;top:0;left:0;width:100%;height:100%}.playkit-picture-in-picture-overlay .playkit-picture-in-picture-control{position:absolute;display:flex;flex-direction:column;height:100%}.playkit-picture-in-picture-overlay .playkit-picture-in-picture-control::after{content:\"\";flex:3}.playkit-picture-in-picture-overlay .playkit-picture-in-picture-control::before{content:\"\";flex:1}.playkit-picture-in-picture-overlay .playkit-picture-in-picture-text{color:var(--playkit-tone-1-color);font-size:18px;white-space:nowrap;overflow:hidden}.playkit-picture-in-picture-overlay .playkit-picture-in-picture-button{height:36px;width:120px;border:2px solid var(--playkit-tone-6-color);border-radius:18px;background-color:var(--playkit-tone-7-color);color:var(--playkit-tone-1-color);font-size:15px;font-weight:bold;line-height:30px;cursor:pointer;margin-top:20px;align-self:center}.playkit-picture-in-picture-overlay .playkit-picture-in-picture-button:hover{background-color:var(--playkit-tone-6-color)}.playkit-copy-url-row .playkit-input-copy-url{margin:0}.playkit-copy-url-row .playkit-btn-copy-url{margin:0 8px}.playkit-copy-url-row .playkit-btn-copy-url .playkit-icon{height:24px;width:24px;margin-top:-3px;display:none}.playkit-copy-url-row .playkit-btn-copy-url .playkit-icon-copy{display:block}.playkit-copy-url-row .playkit-btn-copy-url.playkit-copied .playkit-icon-copy{display:none}.playkit-copy-url-row .playkit-btn-copy-url.playkit-copied .playkit-icon-check{display:block}.playkit-IE.playkit-player .playkit-tooltip .playkit-tooltip-label{white-space:nowrap}.playkit-player .playkit-tooltip{position:relative;display:inline-block;height:100%;width:100%}.playkit-player .playkit-tooltip .playkit-tooltip-label{visibility:hidden;background-color:var(--playkit-tooltip-background-color);color:var(--playkit-tooltip-color);text-align:center;padding:4px 6px;border-radius:4px;position:absolute;line-height:normal;font-weight:bold;font-size:13px;opacity:0;transition:opacity 1s;width:max-content;display:table}.playkit-player .playkit-tooltip .playkit-tooltip-label:before{content:\"\";position:absolute;border-width:5px;border-style:solid;border-radius:3px;color:var(--playkit-tooltip-background-color);z-index:-1}.playkit-player .playkit-tooltip .playkit-tooltip-label:after{content:\"\";position:absolute;inset:-1em}.playkit-player .playkit-tooltip .playkit-tooltip-label.playkit-tooltip-top{bottom:calc(100% + 10px);left:50%;transform:translate(-50%)}.playkit-player .playkit-tooltip .playkit-tooltip-label.playkit-tooltip-top:before{bottom:-4px;left:50%;transform:translate(-50%) rotate(45deg) skew(5deg, 5deg)}.playkit-player .playkit-tooltip .playkit-tooltip-label.playkit-tooltip-top-left{bottom:calc(100% + 10px);left:50%;transform:translate(-100%);margin-left:16px}.playkit-player .playkit-tooltip .playkit-tooltip-label.playkit-tooltip-top-left:before{bottom:-4px;right:0;margin-right:11px;transform:rotate(45deg) skew(5deg, 5deg)}.playkit-player .playkit-tooltip .playkit-tooltip-label.playkit-tooltip-top-right{bottom:calc(100% + 10px);left:50%;transform:translate(-16px)}.playkit-player .playkit-tooltip .playkit-tooltip-label.playkit-tooltip-top-right:before{bottom:-4px;left:0;margin-left:11px;transform:rotate(45deg) skew(5deg, 5deg)}.playkit-player .playkit-tooltip .playkit-tooltip-label.playkit-tooltip-bottom{top:calc(100% + 10px);left:50%;transform:translate(-50%)}.playkit-player .playkit-tooltip .playkit-tooltip-label.playkit-tooltip-bottom:before{top:-4px;left:50%;margin-left:-5px;transform:rotate(45deg) skew(5deg, 5deg)}.playkit-player .playkit-tooltip .playkit-tooltip-label.playkit-tooltip-bottom-right{top:calc(100% + 10px);left:50%;transform:translate(-16px)}.playkit-player .playkit-tooltip .playkit-tooltip-label.playkit-tooltip-bottom-right:before{top:-4px;left:0;margin-left:11px;transform:rotate(45deg) skew(5deg, 5deg)}.playkit-player .playkit-tooltip .playkit-tooltip-label.playkit-tooltip-bottom-left{top:calc(100% + 10px);transform:translate(-100%);left:50%;margin-left:16px}.playkit-player .playkit-tooltip .playkit-tooltip-label.playkit-tooltip-bottom-left:before{top:-4px;right:0;margin-right:11px;transform:rotate(45deg) skew(5deg, 5deg)}.playkit-player .playkit-tooltip .playkit-tooltip-label.playkit-tooltip-left{top:50%;right:calc(100% + 10px);transform:translate(0, -50%)}.playkit-player .playkit-tooltip .playkit-tooltip-label.playkit-tooltip-left:before{top:50%;left:100%;margin-left:-6px;margin-top:-5px;transform:rotate(135deg) skew(10deg, 10deg)}.playkit-player .playkit-tooltip .playkit-tooltip-label.playkit-tooltip-right{top:50%;left:calc(100% + 10px);transform:translate(0, -50%)}.playkit-player .playkit-tooltip .playkit-tooltip-label.playkit-tooltip-right:before{top:50%;right:100%;margin-top:-5px;margin-right:-6px;transform:rotate(135deg) skew(10deg, 10deg)}.playkit-player .playkit-tooltip .playkit-tooltip-label.playkit-show{visibility:visible;opacity:1}.playkit-player .playkit-tooltip .playkit-tooltip-label.playkit-hide{transition:opacity .15s ease-in-out}.playkit-side-panel{position:absolute;transition:all 500ms;transition-property:left,right,bottom,top,opacity;z-index:1}.playkit-side-panel.playkit-small-size{z-index:2}.playkit-vertical-side-panel{height:100%}.playkit-horizontal-side-panel{height:0;left:0;right:0}.playkit-side-panel-content{width:100%;height:100%;overflow:hidden}.playkit-player.playkit-overlay-active .playkit-interactive-area{filter:blur(16px)}.playkit-interactive-area{pointer-events:none;position:relative;top:0;margin:16px;transition:margin 100ms ease-in-out;flex:1}.playkit-player.playkit-size-sm .playkit-interactive-area{margin:8px}.playkit-player.playkit-casting:not(.playkit-overlay-active).playkit-size-sm .playkit-interactive-area,.playkit-player.playkit-metadata-loaded.playkit-hover:not(.playkit-overlay-active).playkit-size-sm .playkit-interactive-area,.playkit-player.playkit-state-paused:not(.playkit-overlay-active).playkit-size-sm .playkit-interactive-area,.playkit-player.playkit-state-idle:not(.playkit-overlay-active).playkit-size-sm .playkit-interactive-area,.playkit-player.playkit-ad-break:not(.playkit-overlay-active).playkit-size-sm .playkit-interactive-area,.playkit-player.playkit-menu-active:not(.playkit-overlay-active).playkit-size-sm .playkit-interactive-area{margin:0px 8px}.playkit-player.playkit-casting .playkit-interactive-area,.playkit-player.playkit-metadata-loaded.playkit-hover .playkit-interactive-area,.playkit-player.playkit-state-paused .playkit-interactive-area,.playkit-player.playkit-state-idle .playkit-interactive-area,.playkit-player.playkit-ad-break .playkit-interactive-area,.playkit-player.playkit-menu-active .playkit-interactive-area{margin:0px 16px}.playkit-video-area{pointer-events:none;transition:all 500ms;transition-property:left,right,bottom,top,width,height}.playkit-gui-area{pointer-events:none;transition:all 500ms;transition-property:left,right,bottom,top;display:flex;flex-flow:column nowrap}@keyframes playkit-kaltura-spinner{0%{transform:rotate(0deg) scale(0.7);opacity:1}70%{transform:rotate(360deg) scale(0.7);opacity:1}82%{transform:rotate(360deg) scale(0);opacity:0}87%{transform:rotate(360deg) scale(0.9);opacity:1}100%{transform:rotate(360deg) scale(0.7);opacity:1}}.playkit-spinner{width:100px;height:100px;position:relative;animation:playkit-kaltura-spinner 2.5s infinite}.playkit-spinner span{width:8px;height:8px;background-color:#fff;display:block;border-radius:8px;position:absolute;top:50%;left:50%;margin-top:-4px;margin-left:-4px}.playkit-spinner span:nth-child(1){transform:rotate(45deg) translateX(-25px) translateY(-25px);background-color:#da1f26}.playkit-spinner span:nth-child(2){transform:rotate(90deg) translateX(-25px) translateY(-25px);background-color:#06a885}.playkit-spinner span:nth-child(3){transform:rotate(135deg) translateX(-25px) translateY(-25px);background-color:#009344}.playkit-spinner span:nth-child(4){transform:rotate(180deg) translateX(-25px) translateY(-25px);background-color:#f8a61a}.playkit-spinner span:nth-child(5){transform:rotate(225deg) translateX(-25px) translateY(-25px);background-color:#1b4a97}.playkit-spinner span:nth-child(6){transform:rotate(270deg) translateX(-25px) translateY(-25px);background-color:#00abcc}.playkit-spinner span:nth-child(7){transform:rotate(315deg) translateX(-25px) translateY(-25px);background-color:#b1d238}.playkit-spinner span:nth-child(8){transform:rotate(360deg) translateX(-25px) translateY(-25px);background-color:#fcd203}.playkit-sr-only{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}.playkit-switch{position:relative;display:inline-block;width:32px;height:16px}.playkit-switch .playkit-toggle-input{opacity:0;width:0;height:0}.playkit-switch .playkit-toggle-input:checked+.playkit-slider{background-color:#2196f3}.playkit-switch .playkit-toggle-input:focus+.playkit-slider{box-shadow:0 0 1px #2196f3}.playkit-switch .playkit-toggle-input:checked+.playkit-slider:before{transform:translateX(14px);-webkit-transform:translateX(14px);-ms-transform:translateX(14px)}.playkit-switch .playkit-slider{height:100%;position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s;border-radius:34px}.playkit-switch .playkit-slider:before{position:absolute;content:\"\";height:12px;width:12px;left:3px;top:2px;background-color:#fff;-webkit-transition:.3s;transition:.3s;border-radius:50%}.playkit-player .playkit-audio-entry-backdrop{background:linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.7) 100%);bottom:0;left:0;position:absolute;width:100%;pointer-events:none;display:flex;flex-direction:column;justify-content:flex-end}.playkit-player .playkit-audio-entry-backdrop .playkit-audio-entry-details{margin:128px 16px 60px 16px;left:16px;color:#fff;max-height:100%;pointer-events:auto;z-index:1}.playkit-player .playkit-audio-entry-backdrop .playkit-audio-entry-details.playkit-audio-entry-l{max-width:600px}.playkit-player .playkit-audio-entry-backdrop .playkit-audio-entry-details.playkit-audio-entry-m{max-width:min(600px,100%)}.playkit-player .playkit-audio-entry-backdrop .playkit-audio-entry-details.playkit-audio-entry-t{max-width:0px}.playkit-player .playkit-audio-entry-backdrop .playkit-audio-entry-details.playkit-audio-entry-t .playkit-audio-entry-description{font-size:0}.playkit-player .playkit-audio-entry-backdrop .playkit-audio-entry-details .playkit-audio-entry-title{font-size:32px;line-height:38px}.playkit-player .playkit-audio-entry-backdrop .playkit-audio-entry-details .playkit-audio-entry-title.playkit-audio-entry-title-trimmed{-webkit-box-orient:vertical;-webkit-line-clamp:1;display:-webkit-box;overflow:hidden;text-overflow:ellipsis}.playkit-player .playkit-audio-entry-backdrop .playkit-audio-entry-details .playkit-audio-entry-description{font-size:14px;line-height:18px}.playkit-player .playkit-audio-entry-backdrop.playkit-audio-entry-expanded{overflow:auto;background:linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.7) 100%);height:auto}.playkit-player .playkit-audio-entry-backdrop.playkit-audio-entry-expanded .playkit-audio-entry-details{overflow:auto;margin:60px 16px}.playkit-player .playkit-expandable-text{text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;display:-webkit-box}.playkit-player .playkit-more-button-text{pointer-events:auto;cursor:pointer;position:relative;z-index:1;width:fit-content;outline-offset:-1px}.playkit-scrollable{display:flex;width:100%}.playkit-scrollable .playkit-items-container{display:flex;width:100%;height:fit-content}.playkit-scrollable.playkit-horizontal{flex-direction:row;overflow:auto hidden}.playkit-scrollable.playkit-horizontal .playkit-items-container{flex-direction:row}.playkit-scrollable.playkit-vertical{flex-direction:column;height:100%;overflow:hidden auto}.playkit-scrollable.playkit-vertical .playkit-items-container{flex-direction:column}.playkit-scrollable::-webkit-scrollbar{height:4px;width:4px}.playkit-scrollable::-webkit-scrollbar-track{visibility:hidden}.playkit-scrollable::-webkit-scrollbar-thumb{background-color:rgba(255,255,255,.3);border-radius:3px;visibility:hidden}.playkit-scrollable.playkit-scrolling::-webkit-scrollbar-track,.playkit-scrollable.playkit-scrolling::-webkit-scrollbar-thumb{visibility:visible}.playkit-context-menu{position:absolute;z-index:999;display:flex;align-items:center;height:40px;width:260px;padding:8px 16px;box-shadow:0px 4px 30px -8px rgba(0,0,0,.2),0px 0px 0px 1px rgba(0,0,0,.2);color:#fff;background-color:#333;border-radius:4px;font-family:Lato,Helvetica Neue,Segoe UI,sans-serif}.playkit-context-menu.playkit-hidden{display:none}.playkit-context-menu .playkit-context-menu-item{cursor:pointer}",""]),t.locals={primaryColor:"var(--playkit-primary-color)",primaryDarkerColor:"var(--playkit-primary-darker-color)",primaryBrighterColor:"var(--playkit-primary-brighter-color)",primaryTextContrastColor:"var(--playkit-primary-text-contrast-color)",secondaryColor:"var(--playkit-secondary-color)",secondaryDarkerColor:"var(--playkit-secondary-darker-color)",secondaryBrighterColor:"var(--playkit-secondary-brighter-color)",secondaryTextContrastColor:"var(--playkit-secondary-text-contrast-color)",successDarkerColor:"var(--playkit-success-darker-color)",successBrighterColor:"var(--playkit-success-brighter-color)",successTextContrastColor:"var(--playkit-success-text-contrast-color)",dangerColor:"var(--playkit-danger-color)",dangerDarkerColor:"var(--playkit-danger-darker-color)",dangerBrighterColor:"var(--playkit-danger-brighter-color)","danger-text-contrast-color":"var(--playkit-danger-text-contrast-color)",dangerTextContrastColor:"var(--playkit-danger-text-contrast-color)",warningColor:"var(--playkit-warning-color)",warningDarkerColor:"var(--playkit-warning-darker-color)",warningBrighterColor:"var(--playkit-warning-brighter-color)",warningTextContrastColor:"var(--playkit-warning-text-contrast-color)",tone1Color:"var(--playkit-tone-1-color)",tone2Color:"var(--playkit-tone-2-color)",tone3Color:"var(--playkit-tone-3-color)",tone4Color:"var(--playkit-tone-4-color)",tone5Color:"var(--playkit-tone-5-color)",tone6Color:"var(--playkit-tone-6-color)",tone7Color:"var(--playkit-tone-7-color)",tone8Color:"var(--playkit-tone-8-color)",liveColor:"var(--playkit-live-color)",playerBackgroundColor:"var(--playkit-player-background-color)",tabFocusColor:"var(--playkit-tab-focus-color)",tooltipBackgroundColor:"var(--playkit-tooltip-background-color)",tooltipColor:"var(--playkit-tooltip-color)",adsColor:"var(--playkit-ads-color)",progressBarHeight:"4px",progressBarBorderRadius:"2px",defaultTransitionTime:"500",bottomBarMaxHeight:"60",topBarMaxHeight:"75",contextMenuHeight:"40",contextMenuWidth:"260",brandColor:"#006bff",white:"#fff",player:"playkit-player",row:"playkit-row","d-inline-block":"playkit-d-inline-block",dInlineBlock:"playkit-d-inline-block","mobile-hidden-select":"playkit-mobile-hidden-select",mobileHiddenSelect:"playkit-mobile-hidden-select","font-size-base":"playkit-font-size-base",fontSizeBase:"playkit-font-size-base","ad-notice":"playkit-ad-notice",adNotice:"playkit-ad-notice","form-group":"playkit-form-group",formGroup:"playkit-form-group","has-error":"playkit-has-error",hasError:"playkit-has-error","form-control":"playkit-form-control",formControl:"playkit-form-control","has-icon":"playkit-has-icon",hasIcon:"playkit-has-icon",icon:"playkit-icon",checkbox:"playkit-checkbox","form-group-row":"playkit-form-group-row",formGroupRow:"playkit-form-group-row",dropdown:"playkit-dropdown",btn:"playkit-btn","btn-block":"playkit-btn-block",btnBlock:"playkit-btn-block","btn-dark-transparent":"playkit-btn-dark-transparent",btnDarkTransparent:"playkit-btn-dark-transparent","btn-branded":"playkit-btn-branded",btnBranded:"playkit-btn-branded","btn-rounded":"playkit-btn-rounded",btnRounded:"playkit-btn-rounded","btn-borderless":"playkit-btn-borderless",btnBorderless:"playkit-btn-borderless","only-icon":"playkit-only-icon",onlyIcon:"playkit-only-icon","only-label":"playkit-only-label",onlyLabel:"playkit-only-label","btn-translucent":"playkit-btn-translucent",btnTranslucent:"playkit-btn-translucent","size-sm":"playkit-size-sm",sizeSm:"playkit-size-sm","size-xs":"playkit-size-xs",sizeXs:"playkit-size-xs","badge-icon":"playkit-badge-icon",badgeIcon:"playkit-badge-icon","icon-maximize":"playkit-icon-maximize",iconMaximize:"playkit-icon-maximize","icon-minimize":"playkit-icon-minimize",iconMinimize:"playkit-icon-minimize","icon-play":"playkit-icon-play",iconPlay:"playkit-icon-play","icon-pause":"playkit-icon-pause",iconPause:"playkit-icon-pause","icon-volume-base":"playkit-icon-volume-base",iconVolumeBase:"playkit-icon-volume-base","icon-volume-waves":"playkit-icon-volume-waves",iconVolumeWaves:"playkit-icon-volume-waves","icon-volume-wave":"playkit-icon-volume-wave",iconVolumeWave:"playkit-icon-volume-wave","icon-volume-mute":"playkit-icon-volume-mute",iconVolumeMute:"playkit-icon-volume-mute","icon-close":"playkit-icon-close",iconClose:"playkit-icon-close","icon-settings":"playkit-icon-settings",iconSettings:"playkit-icon-settings","icon-check":"playkit-icon-check",iconCheck:"playkit-icon-check","icon-check-active":"playkit-icon-check-active",iconCheckActive:"playkit-icon-check-active","icon-language":"playkit-icon-language",iconLanguage:"playkit-icon-language","icon-quality":"playkit-icon-quality",iconQuality:"playkit-icon-quality","icon-captions":"playkit-icon-captions",iconCaptions:"playkit-icon-captions","icon-speed":"playkit-icon-speed",iconSpeed:"playkit-icon-speed","icon-speed-down":"playkit-icon-speed-down",iconSpeedDown:"playkit-icon-speed-down","icon-speed-up":"playkit-icon-speed-up",iconSpeedUp:"playkit-icon-speed-up","icon-audio":"playkit-icon-audio",iconAudio:"playkit-icon-audio","icon-arrow-down":"playkit-icon-arrow-down",iconArrowDown:"playkit-icon-arrow-down","icon-start-over":"playkit-icon-start-over",iconStartOver:"playkit-icon-start-over","icon-seek-end":"playkit-icon-seek-end",iconSeekEnd:"playkit-icon-seek-end","icon-rewind":"playkit-icon-rewind",iconRewind:"playkit-icon-rewind","icon-rewind-10":"playkit-icon-rewind-10",iconRewind10:"playkit-icon-rewind-10","icon-forward":"playkit-icon-forward",iconForward:"playkit-icon-forward","icon-forward-10":"playkit-icon-forward-10",iconForward10:"playkit-icon-forward-10","icon-vr-stereo":"playkit-icon-vr-stereo",iconVrStereo:"playkit-icon-vr-stereo","icon-vr-stereo-full":"playkit-icon-vr-stereo-full",iconVrStereoFull:"playkit-icon-vr-stereo-full","icon-chromecast":"playkit-icon-chromecast",iconChromecast:"playkit-icon-chromecast","icon-chromecast-brand":"playkit-icon-chromecast-brand",iconChromecastBrand:"playkit-icon-chromecast-brand","icon-next":"playkit-icon-next",iconNext:"playkit-icon-next","icon-prev":"playkit-icon-prev",iconPrev:"playkit-icon-prev","icon-picture-in-picture-start":"playkit-icon-picture-in-picture-start",iconPictureInPictureStart:"playkit-icon-picture-in-picture-start","icon-picture-in-picture-stop":"playkit-icon-picture-in-picture-stop",iconPictureInPictureStop:"playkit-icon-picture-in-picture-stop","icon-advanced-audio-description":"playkit-icon-advanced-audio-description",iconAdvancedAudioDescription:"playkit-icon-advanced-audio-description","icon-advanced-audio-description-active":"playkit-icon-advanced-audio-description-active",iconAdvancedAudioDescriptionActive:"playkit-icon-advanced-audio-description-active","icon-quality-hd":"playkit-icon-quality-hd",iconQualityHd:"playkit-icon-quality-hd","icon-quality-hd-active":"playkit-icon-quality-hd-active",iconQualityHdActive:"playkit-icon-quality-hd-active","icon-quality-4k":"playkit-icon-quality-4k",iconQuality4K:"playkit-icon-quality-4k","icon-quality-4k-active":"playkit-icon-quality-4k-active",iconQuality4KActive:"playkit-icon-quality-4k-active","icon-quality-8k":"playkit-icon-quality-8k",iconQuality8K:"playkit-icon-quality-8k","icon-quality-8k-active":"playkit-icon-quality-8k-active",iconQuality8KActive:"playkit-icon-quality-8k-active","icon-closed-captions-on":"playkit-icon-closed-captions-on",iconClosedCaptionsOn:"playkit-icon-closed-captions-on","icon-closed-captions-off":"playkit-icon-closed-captions-off",iconClosedCaptionsOff:"playkit-icon-closed-captions-off","label-badge":"playkit-label-badge",labelBadge:"playkit-label-badge",active:"playkit-active","dropdown-menu":"playkit-dropdown-menu",dropdownMenu:"playkit-dropdown-menu","dropdown-button":"playkit-dropdown-button",dropdownButton:"playkit-dropdown-button",openDropmenu:"playkit-openDropmenu",top:"playkit-top",bottom:"playkit-bottom",right:"playkit-right",left:"playkit-left","stick-bottom":"playkit-stick-bottom",stickBottom:"playkit-stick-bottom","dropdown-menu-item":"playkit-dropdown-menu-item",dropdownMenuItem:"playkit-dropdown-menu-item","menu-icon-container":"playkit-menu-icon-container",menuIconContainer:"playkit-menu-icon-container","smart-container":"playkit-smart-container",smartContainer:"playkit-smart-container","control-button":"playkit-control-button",controlButton:"playkit-control-button","button-badge":"playkit-button-badge",buttonBadge:"playkit-button-badge","control-button-rounded":"playkit-control-button-rounded",controlButtonRounded:"playkit-control-button-rounded",touch:"playkit-touch","control-button-container":"playkit-control-button-container",controlButtonContainer:"playkit-control-button-container","state-idle":"playkit-state-idle",stateIdle:"playkit-state-idle","no-idle-control":"playkit-no-idle-control",noIdleControl:"playkit-no-idle-control",rotate:"playkit-rotate",spin:"playkit-spin","reverse-rotate":"playkit-reverse-rotate",reverseRotate:"playkit-reverse-rotate","reverse-spin":"playkit-reverse-spin",reverseSpin:"playkit-reverse-spin","upper-bar-icon":"playkit-upper-bar-icon",upperBarIcon:"playkit-upper-bar-icon",emptyUrl:"playkit-emptyUrl","player-gui":"playkit-player-gui",playerGui:"playkit-player-gui","overlay-active":"playkit-overlay-active",overlayActive:"playkit-overlay-active",protected:"playkit-protected",nav:"playkit-nav","ad-break":"playkit-ad-break",adBreak:"playkit-ad-break","metadata-loaded":"playkit-metadata-loaded",metadataLoaded:"playkit-metadata-loaded",hover:"playkit-hover","state-paused":"playkit-state-paused",statePaused:"playkit-state-paused","pre-playback":"playkit-pre-playback",prePlayback:"playkit-pre-playback",casting:"playkit-casting","menu-active":"playkit-menu-active",menuActive:"playkit-menu-active",iOS:"playkit-iOS",iOs:"playkit-iOS",Safari:"playkit-Safari",safari:"playkit-Safari",fullscreen:"playkit-fullscreen","video-player":"playkit-video-player",videoPlayer:"playkit-video-player",overlay:"playkit-overlay",openOverlay:"playkit-openOverlay","overlay-contents":"playkit-overlay-contents",overlayContents:"playkit-overlay-contents",title:"playkit-title","close-overlay":"playkit-close-overlay",closeOverlay:"playkit-close-overlay","overlay-screen":"playkit-overlay-screen",overlayScreen:"playkit-overlay-screen","size-md":"playkit-size-md",sizeMd:"playkit-size-md",openSmartContainer:"playkit-openSmartContainer",leaving:"playkit-leaving",closeSmartContainer:"playkit-closeSmartContainer","smart-container-item":"playkit-smart-container-item",smartContainerItem:"playkit-smart-container-item","select-menu-item":"playkit-select-menu-item",selectMenuItem:"playkit-select-menu-item","label-icon":"playkit-label-icon",labelIcon:"playkit-label-icon",Windows:"playkit-Windows",windows:"playkit-Windows","cvaa-overlay":"playkit-cvaa-overlay",cvaaOverlay:"playkit-cvaa-overlay",sample:"playkit-sample",custom:"playkit-custom","black-bg":"playkit-black-bg",blackBg:"playkit-black-bg","yellow-text":"playkit-yellow-text",yellowText:"playkit-yellow-text","active-tick":"playkit-active-tick",activeTick:"playkit-active-tick","button-save-cvaa":"playkit-button-save-cvaa",buttonSaveCvaa:"playkit-button-save-cvaa","button-edit-cvaa":"playkit-button-edit-cvaa",buttonEditCvaa:"playkit-button-edit-cvaa","custom-captions-applied":"playkit-custom-captions-applied",customCaptionsApplied:"playkit-custom-captions-applied","custom-caption-form":"playkit-custom-caption-form",customCaptionForm:"playkit-custom-caption-form",slider:"playkit-slider","preview-container":"playkit-preview-container",previewContainer:"playkit-preview-container","font-size":"playkit-font-size",fontSize:"playkit-font-size","font-alignment":"playkit-font-alignment",fontAlignment:"playkit-font-alignment","font-color":"playkit-font-color",fontColor:"playkit-font-color","font-family":"playkit-font-family",fontFamily:"playkit-font-family","font-style":"playkit-font-style",fontStyle:"playkit-font-style","font-opacity":"playkit-font-opacity",fontOpacity:"playkit-font-opacity","background-color":"playkit-background-color",backgroundColor:"playkit-background-color","background-opacity":"playkit-background-opacity",backgroundOpacity:"playkit-background-opacity","loading-backdrop":"playkit-loading-backdrop",loadingBackdrop:"playkit-loading-backdrop",show:"playkit-show","spinner-container":"playkit-spinner-container",spinnerContainer:"playkit-spinner-container","control-play-pause":"playkit-control-play-pause",controlPlayPause:"playkit-control-play-pause","is-playing":"playkit-is-playing",isPlaying:"playkit-is-playing","control-volume":"playkit-control-volume",controlVolume:"playkit-control-volume","volume-control":"playkit-volume-control",volumeControl:"playkit-volume-control","volume-control-bar":"playkit-volume-control-bar",volumeControlBar:"playkit-volume-control-bar","is-muted":"playkit-is-muted",isMuted:"playkit-is-muted","dragging-active":"playkit-dragging-active",draggingActive:"playkit-dragging-active","volume-button":"playkit-volume-button",volumeButton:"playkit-volume-button",bar:"playkit-bar",progress:"playkit-progress","smart-container-open":"playkit-smart-container-open",smartContainerOpen:"playkit-smart-container-open","control-volume-bar":"playkit-control-volume-bar",controlVolumeBar:"playkit-control-volume-bar","size-ty":"playkit-size-ty",sizeTy:"playkit-size-ty","sr-only":"playkit-sr-only",srOnly:"playkit-sr-only","control-fullscreen":"playkit-control-fullscreen",controlFullscreen:"playkit-control-fullscreen","is-fullscreen":"playkit-is-fullscreen",isFullscreen:"playkit-is-fullscreen","seek-bar":"playkit-seek-bar",seekBar:"playkit-seek-bar","time-preview":"playkit-time-preview",timePreview:"playkit-time-preview","frame-preview":"playkit-frame-preview",framePreview:"playkit-frame-preview","hide-frame-preview":"playkit-hide-frame-preview",hideFramePreview:"playkit-hide-frame-preview","progress-bar":"playkit-progress-bar",progressBar:"playkit-progress-bar",scrubber:"playkit-scrubber","virtual-progress":"playkit-virtual-progress",virtualProgress:"playkit-virtual-progress",chapters:"playkit-chapters","virtual-progress-indicator":"playkit-virtual-progress-indicator",virtualProgressIndicator:"playkit-virtual-progress-indicator","non-sticky":"playkit-non-sticky",nonSticky:"playkit-non-sticky",live:"playkit-live",buffered:"playkit-buffered","frame-preview-img-container":"playkit-frame-preview-img-container",framePreviewImgContainer:"playkit-frame-preview-img-container","frame-preview-img":"playkit-frame-preview-img",framePreviewImg:"playkit-frame-preview-img","time-display":"playkit-time-display",timeDisplay:"playkit-time-display","video-playing-title":"playkit-video-playing-title",videoPlayingTitle:"playkit-video-playing-title","bottom-bar":"playkit-bottom-bar",bottomBar:"playkit-bottom-bar",hide:"playkit-hide","controls-container":"playkit-controls-container",controlsContainer:"playkit-controls-container","left-controls":"playkit-left-controls",leftControls:"playkit-left-controls","right-controls":"playkit-right-controls",rightControls:"playkit-right-controls","bottom-bar-area":"playkit-bottom-bar-area",bottomBarArea:"playkit-bottom-bar-area","playback-controls":"playkit-playback-controls",playbackControls:"playkit-playback-controls","top-bar":"playkit-top-bar",topBar:"playkit-top-bar","top-bar-area":"playkit-top-bar-area",topBarArea:"playkit-top-bar-area",disabled:"playkit-disabled","overlay-action":"playkit-overlay-action",overlayAction:"playkit-overlay-action",in:"playkit-in",overlayActionIconIn:"playkit-overlayActionIconIn","pre-playback-play-overlay":"playkit-pre-playback-play-overlay",prePlaybackPlayOverlay:"playkit-pre-playback-play-overlay",prePlaybackPlayOverlayYoutube:"playkit-prePlaybackPlayOverlayYoutube","pre-playback-play-button":"playkit-pre-playback-play-button",prePlaybackPlayButton:"playkit-pre-playback-play-button","gui-area":"playkit-gui-area",guiArea:"playkit-gui-area","btn-skip-ad":"playkit-btn-skip-ad",btnSkipAd:"playkit-btn-skip-ad","skip-ad":"playkit-skip-ad",skipAd:"playkit-skip-ad","live-tag":"playkit-live-tag",liveTag:"playkit-live-tag","non-live-playhead":"playkit-non-live-playhead",nonLivePlayhead:"playkit-non-live-playhead","unmute-button-container":"playkit-unmute-button-container",unmuteButtonContainer:"playkit-unmute-button-container","show-icon-only":"playkit-show-icon-only",showIconOnly:"playkit-show-icon-only","unmute-button":"playkit-unmute-button",unmuteButton:"playkit-unmute-button","has-top-bar":"playkit-has-top-bar",hasTopBar:"playkit-has-top-bar","unmute-icon-container":"playkit-unmute-icon-container",unmuteIconContainer:"playkit-unmute-icon-container","error-overlay":"playkit-error-overlay",errorOverlay:"playkit-error-overlay","custom-error-slate":"playkit-custom-error-slate",customErrorSlate:"playkit-custom-error-slate","copy-url-row":"playkit-copy-url-row",copyUrlRow:"playkit-copy-url-row",headline:"playkit-headline","error-title":"playkit-error-title",errorTitle:"playkit-error-title","error-message":"playkit-error-message",errorMessage:"playkit-error-message","error-session":"playkit-error-session",errorSession:"playkit-error-session","retry-btn":"playkit-retry-btn",retryBtn:"playkit-retry-btn","error-text":"playkit-error-text",errorText:"playkit-error-text","link-options-container":"playkit-link-options-container",linkOptionsContainer:"playkit-link-options-container","input-copy-url":"playkit-input-copy-url",inputCopyUrl:"playkit-input-copy-url","btn-copy-url":"playkit-btn-copy-url",btnCopyUrl:"playkit-btn-copy-url",handle:"playkit-handle","learn-more":"playkit-learn-more",learnMore:"playkit-learn-more",watermark:"playkit-watermark","hide-watermark":"playkit-hide-watermark",hideWatermark:"playkit-hide-watermark","control-vr-stereo":"playkit-control-vr-stereo",controlVrStereo:"playkit-control-vr-stereo","vr-stereo-mode":"playkit-vr-stereo-mode",vrStereoMode:"playkit-vr-stereo-mode","control-closed-captions":"playkit-control-closed-captions",controlClosedCaptions:"playkit-control-closed-captions","cc-on":"playkit-cc-on",ccOn:"playkit-cc-on","cast-button":"playkit-cast-button",castButton:"playkit-cast-button","cast-button-active":"playkit-cast-button-active",castButtonActive:"playkit-cast-button-active","cast-overlay":"playkit-cast-overlay",castOverlay:"playkit-cast-overlay","cast-poster":"playkit-cast-poster",castPoster:"playkit-cast-poster","has-poster":"playkit-has-poster",hasPoster:"playkit-has-poster","cast-black-cover":"playkit-cast-black-cover",castBlackCover:"playkit-cast-black-cover","cast-box":"playkit-cast-box",castBox:"playkit-cast-box","cast-icon":"playkit-cast-icon",castIcon:"playkit-cast-icon","cast-connecting-spinner":"playkit-cast-connecting-spinner",castConnectingSpinner:"playkit-cast-connecting-spinner","cast-text":"playkit-cast-text",castText:"playkit-cast-text","cast-status":"playkit-cast-status",castStatus:"playkit-cast-status","cast-device":"playkit-cast-device",castDevice:"playkit-cast-device","cast-on-tv-button-container":"playkit-cast-on-tv-button-container",castOnTvButtonContainer:"playkit-cast-on-tv-button-container","show-cast-on-tv":"playkit-show-cast-on-tv",showCastOnTv:"playkit-show-cast-on-tv",castOnTVAnimation:"playkit-castOnTVAnimation",castOnTvAnimation:"playkit-castOnTVAnimation","cast-on-tv-button":"playkit-cast-on-tv-button",castOnTvButton:"playkit-cast-on-tv-button","cast-on-tv-icon-container":"playkit-cast-on-tv-icon-container",castOnTvIconContainer:"playkit-cast-on-tv-icon-container","control-playlist-button":"playkit-control-playlist-button",controlPlaylistButton:"playkit-control-playlist-button","poster-preview":"playkit-poster-preview",posterPreview:"playkit-poster-preview","poster-preview-img":"playkit-poster-preview-img",posterPreviewImg:"playkit-poster-preview-img","poster-preview-text":"playkit-poster-preview-text",posterPreviewText:"playkit-poster-preview-text","poster-preview-text-title":"playkit-poster-preview-text-title",posterPreviewTextTitle:"playkit-poster-preview-text-title","poster-preview-text-name":"playkit-poster-preview-text-name",posterPreviewTextName:"playkit-poster-preview-text-name","is-in-picture-in-picture":"playkit-is-in-picture-in-picture",isInPictureInPicture:"playkit-is-in-picture-in-picture","center-playback-controls":"playkit-center-playback-controls",centerPlaybackControls:"playkit-center-playback-controls",image:"playkit-image","playlist-countdown":"playkit-playlist-countdown",playlistCountdown:"playkit-playlist-countdown",slideIn:"playkit-slideIn",hidden:"playkit-hidden","playlist-countdown-content-placeholder":"playkit-playlist-countdown-content-placeholder",playlistCountdownContentPlaceholder:"playkit-playlist-countdown-content-placeholder","playlist-countdown-content-background":"playkit-playlist-countdown-content-background",playlistCountdownContentBackground:"playkit-playlist-countdown-content-background","playlist-countdown-content":"playkit-playlist-countdown-content",playlistCountdownContent:"playkit-playlist-countdown-content",canceled:"playkit-canceled","playlist-countdown-poster":"playkit-playlist-countdown-poster",playlistCountdownPoster:"playkit-playlist-countdown-poster","playlist-countdown-text":"playkit-playlist-countdown-text",playlistCountdownText:"playkit-playlist-countdown-text","playlist-countdown-text-title":"playkit-playlist-countdown-text-title",playlistCountdownTextTitle:"playkit-playlist-countdown-text-title","playlist-countdown-time-left":"playkit-playlist-countdown-time-left",playlistCountdownTimeLeft:"playkit-playlist-countdown-time-left","playlist-countdown-text-name":"playkit-playlist-countdown-text-name",playlistCountdownTextName:"playkit-playlist-countdown-text-name","playlist-countdown-cancel":"playkit-playlist-countdown-cancel",playlistCountdownCancel:"playkit-playlist-countdown-cancel","playlist-next-screen-overlay":"playkit-playlist-next-screen-overlay",playlistNextScreenOverlay:"playkit-playlist-next-screen-overlay","playlist-next-screen-content":"playkit-playlist-next-screen-content",playlistNextScreenContent:"playkit-playlist-next-screen-content","playlist-next-screen-text":"playkit-playlist-next-screen-text",playlistNextScreenText:"playkit-playlist-next-screen-text","playlist-next-screen-text-title":"playkit-playlist-next-screen-text-title",playlistNextScreenTextTitle:"playkit-playlist-next-screen-text-title","playlist-next-screen-text-name":"playkit-playlist-next-screen-text-name",playlistNextScreenTextName:"playkit-playlist-next-screen-text-name","playlist-next-screen-poster-placeholder":"playkit-playlist-next-screen-poster-placeholder",playlistNextScreenPosterPlaceholder:"playkit-playlist-next-screen-poster-placeholder","playlist-next-screen-poster-aspect-ratio":"playkit-playlist-next-screen-poster-aspect-ratio",playlistNextScreenPosterAspectRatio:"playkit-playlist-next-screen-poster-aspect-ratio","playlist-next-screen-poster":"playkit-playlist-next-screen-poster",playlistNextScreenPoster:"playkit-playlist-next-screen-poster","playlist-next-screen-poster-img":"playkit-playlist-next-screen-poster-img",playlistNextScreenPosterImg:"playkit-playlist-next-screen-poster-img","size-lg":"playkit-size-lg",sizeLg:"playkit-size-lg","picture-in-picture-overlay":"playkit-picture-in-picture-overlay",pictureInPictureOverlay:"playkit-picture-in-picture-overlay","picture-in-picture-poster":"playkit-picture-in-picture-poster",pictureInPicturePoster:"playkit-picture-in-picture-poster","dark-layer":"playkit-dark-layer",darkLayer:"playkit-dark-layer","picture-in-picture-control":"playkit-picture-in-picture-control",pictureInPictureControl:"playkit-picture-in-picture-control","picture-in-picture-text":"playkit-picture-in-picture-text",pictureInPictureText:"playkit-picture-in-picture-text","picture-in-picture-button":"playkit-picture-in-picture-button",pictureInPictureButton:"playkit-picture-in-picture-button","icon-copy":"playkit-icon-copy",iconCopy:"playkit-icon-copy",copied:"playkit-copied",IE:"playkit-IE",ie:"playkit-IE",tooltip:"playkit-tooltip","tooltip-label":"playkit-tooltip-label",tooltipLabel:"playkit-tooltip-label","tooltip-top":"playkit-tooltip-top",tooltipTop:"playkit-tooltip-top","tooltip-top-left":"playkit-tooltip-top-left",tooltipTopLeft:"playkit-tooltip-top-left","tooltip-top-right":"playkit-tooltip-top-right",tooltipTopRight:"playkit-tooltip-top-right","tooltip-bottom":"playkit-tooltip-bottom",tooltipBottom:"playkit-tooltip-bottom","tooltip-bottom-right":"playkit-tooltip-bottom-right",tooltipBottomRight:"playkit-tooltip-bottom-right","tooltip-bottom-left":"playkit-tooltip-bottom-left",tooltipBottomLeft:"playkit-tooltip-bottom-left","tooltip-left":"playkit-tooltip-left",tooltipLeft:"playkit-tooltip-left","tooltip-right":"playkit-tooltip-right",tooltipRight:"playkit-tooltip-right","side-panel":"playkit-side-panel",sidePanel:"playkit-side-panel","small-size":"playkit-small-size",smallSize:"playkit-small-size","vertical-side-panel":"playkit-vertical-side-panel",verticalSidePanel:"playkit-vertical-side-panel","horizontal-side-panel":"playkit-horizontal-side-panel",horizontalSidePanel:"playkit-horizontal-side-panel","side-panel-content":"playkit-side-panel-content",sidePanelContent:"playkit-side-panel-content","interactive-area":"playkit-interactive-area",interactiveArea:"playkit-interactive-area","video-area":"playkit-video-area",videoArea:"playkit-video-area",spinner:"playkit-spinner","kaltura-spinner":"playkit-kaltura-spinner",kalturaSpinner:"playkit-kaltura-spinner",switch:"playkit-switch","toggle-input":"playkit-toggle-input",toggleInput:"playkit-toggle-input","audio-entry-backdrop":"playkit-audio-entry-backdrop",audioEntryBackdrop:"playkit-audio-entry-backdrop","audio-entry-details":"playkit-audio-entry-details",audioEntryDetails:"playkit-audio-entry-details","audio-entry-l":"playkit-audio-entry-l",audioEntryL:"playkit-audio-entry-l","audio-entry-m":"playkit-audio-entry-m",audioEntryM:"playkit-audio-entry-m","audio-entry-t":"playkit-audio-entry-t",audioEntryT:"playkit-audio-entry-t","audio-entry-description":"playkit-audio-entry-description",audioEntryDescription:"playkit-audio-entry-description","audio-entry-title":"playkit-audio-entry-title",audioEntryTitle:"playkit-audio-entry-title","audio-entry-title-trimmed":"playkit-audio-entry-title-trimmed",audioEntryTitleTrimmed:"playkit-audio-entry-title-trimmed","audio-entry-expanded":"playkit-audio-entry-expanded",audioEntryExpanded:"playkit-audio-entry-expanded","expandable-text":"playkit-expandable-text",expandableText:"playkit-expandable-text","more-button-text":"playkit-more-button-text",moreButtonText:"playkit-more-button-text",scrollable:"playkit-scrollable","items-container":"playkit-items-container",itemsContainer:"playkit-items-container",horizontal:"playkit-horizontal",vertical:"playkit-vertical",scrolling:"playkit-scrolling","context-menu":"playkit-context-menu",contextMenu:"playkit-context-menu","context-menu-item":"playkit-context-menu-item",contextMenuItem:"playkit-context-menu-item"},e.exports=t},645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r,i,a=e[1]||"",o=e[3];if(!o)return a;if(t&&"function"==typeof btoa){var s=(n=o,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(i," */")),l=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[a].concat(l).concat([s]).join("\n")}return[a].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(i[o]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},905:function(e){e.exports=function(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}},679:function(e,t,n){"use strict";var r=n(864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var i=f(n);i&&i!==h&&e(t,i,r)}var o=c(n);d&&(o=o.concat(d(n)));for(var s=l(t),y=l(n),g=0;g<o.length;++g){var v=o[g];if(!(a[v]||r&&r[v]||y&&y[v]||s&&s[v])){var m=p(n,v);try{u(t,v,m)}catch(e){}}}}return t}},695:function(e,t,n){var r;!function(){var i=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])y(t,r)&&(e[r]=t[r]);return e},a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=l((function(e){return 1===e?"χρόνος":"χρόνια"}),(function(e){return 1===e?"μήνας":"μήνες"}),(function(e){return 1===e?"εβδομάδα":"εβδομάδες"}),(function(e){return 1===e?"μέρα":"μέρες"}),(function(e){return 1===e?"ώρα":"ώρες"}),(function(e){return 1===e?"λεπτό":"λεπτά"}),(function(e){return 1===e?"δευτερόλεπτο":"δευτερόλεπτα"}),(function(e){return(1===e?"χιλιοστό":"χιλιοστά")+" του δευτερολέπτου"}),","),s={af:l("jaar",(function(e){return"maand"+(1===e?"":"e")}),(function(e){return 1===e?"week":"weke"}),(function(e){return 1===e?"dag":"dae"}),(function(e){return 1===e?"uur":"ure"}),(function(e){return 1===e?"minuut":"minute"}),(function(e){return"sekonde"+(1===e?"":"s")}),(function(e){return"millisekonde"+(1===e?"":"s")}),","),am:l("ዓመት","ወር","ሳምንት","ቀን","ሰዓት","ደቂቃ","ሰከንድ","ሚሊሰከንድ"),ar:i(l((function(e){return["سنة","سنتان","سنوات"][u(e)]}),(function(e){return["شهر","شهران","أشهر"][u(e)]}),(function(e){return["أسبوع","أسبوعين","أسابيع"][u(e)]}),(function(e){return["يوم","يومين","أيام"][u(e)]}),(function(e){return["ساعة","ساعتين","ساعات"][u(e)]}),(function(e){return["دقيقة","دقيقتان","دقائق"][u(e)]}),(function(e){return["ثانية","ثانيتان","ثواني"][u(e)]}),(function(e){return["جزء من الثانية","جزآن من الثانية","أجزاء من الثانية"][u(e)]}),","),{delimiter:" ﻭ ",_hideCountIf2:!0,_digitReplacements:["۰","١","٢","٣","٤","٥","٦","٧","٨","٩"]}),bg:l((function(e){return["години","година","години"][d(e)]}),(function(e){return["месеца","месец","месеца"][d(e)]}),(function(e){return["седмици","седмица","седмици"][d(e)]}),(function(e){return["дни","ден","дни"][d(e)]}),(function(e){return["часа","час","часа"][d(e)]}),(function(e){return["минути","минута","минути"][d(e)]}),(function(e){return["секунди","секунда","секунди"][d(e)]}),(function(e){return["милисекунди","милисекунда","милисекунди"][d(e)]}),","),bn:l("বছর","মাস","সপ্তাহ","দিন","ঘন্টা","মিনিট","সেকেন্ড","মিলিসেকেন্ড"),ca:l((function(e){return"any"+(1===e?"":"s")}),(function(e){return"mes"+(1===e?"":"os")}),(function(e){return"setman"+(1===e?"a":"es")}),(function(e){return"di"+(1===e?"a":"es")}),(function(e){return"hor"+(1===e?"a":"es")}),(function(e){return"minut"+(1===e?"":"s")}),(function(e){return"segon"+(1===e?"":"s")}),(function(e){return"milisegon"+(1===e?"":"s")}),","),ckb:l("ساڵ","مانگ","هەفتە","ڕۆژ","کاژێر","خولەک","چرکە","میلی چرکە","."),cs:l((function(e){return["rok","roku","roky","let"][p(e)]}),(function(e){return["měsíc","měsíce","měsíce","měsíců"][p(e)]}),(function(e){return["týden","týdne","týdny","týdnů"][p(e)]}),(function(e){return["den","dne","dny","dní"][p(e)]}),(function(e){return["hodina","hodiny","hodiny","hodin"][p(e)]}),(function(e){return["minuta","minuty","minuty","minut"][p(e)]}),(function(e){return["sekunda","sekundy","sekundy","sekund"][p(e)]}),(function(e){return["milisekunda","milisekundy","milisekundy","milisekund"][p(e)]}),","),cy:l("flwyddyn","mis","wythnos","diwrnod","awr","munud","eiliad","milieiliad"),da:l("år",(function(e){return"måned"+(1===e?"":"er")}),(function(e){return"uge"+(1===e?"":"r")}),(function(e){return"dag"+(1===e?"":"e")}),(function(e){return"time"+(1===e?"":"r")}),(function(e){return"minut"+(1===e?"":"ter")}),(function(e){return"sekund"+(1===e?"":"er")}),(function(e){return"millisekund"+(1===e?"":"er")}),","),de:l((function(e){return"Jahr"+(1===e?"":"e")}),(function(e){return"Monat"+(1===e?"":"e")}),(function(e){return"Woche"+(1===e?"":"n")}),(function(e){return"Tag"+(1===e?"":"e")}),(function(e){return"Stunde"+(1===e?"":"n")}),(function(e){return"Minute"+(1===e?"":"n")}),(function(e){return"Sekunde"+(1===e?"":"n")}),(function(e){return"Millisekunde"+(1===e?"":"n")}),","),el:o,en:l((function(e){return"year"+(1===e?"":"s")}),(function(e){return"month"+(1===e?"":"s")}),(function(e){return"week"+(1===e?"":"s")}),(function(e){return"day"+(1===e?"":"s")}),(function(e){return"hour"+(1===e?"":"s")}),(function(e){return"minute"+(1===e?"":"s")}),(function(e){return"second"+(1===e?"":"s")}),(function(e){return"millisecond"+(1===e?"":"s")})),eo:l((function(e){return"jaro"+(1===e?"":"j")}),(function(e){return"monato"+(1===e?"":"j")}),(function(e){return"semajno"+(1===e?"":"j")}),(function(e){return"tago"+(1===e?"":"j")}),(function(e){return"horo"+(1===e?"":"j")}),(function(e){return"minuto"+(1===e?"":"j")}),(function(e){return"sekundo"+(1===e?"":"j")}),(function(e){return"milisekundo"+(1===e?"":"j")}),","),es:l((function(e){return"año"+(1===e?"":"s")}),(function(e){return"mes"+(1===e?"":"es")}),(function(e){return"semana"+(1===e?"":"s")}),(function(e){return"día"+(1===e?"":"s")}),(function(e){return"hora"+(1===e?"":"s")}),(function(e){return"minuto"+(1===e?"":"s")}),(function(e){return"segundo"+(1===e?"":"s")}),(function(e){return"milisegundo"+(1===e?"":"s")}),","),et:l((function(e){return"aasta"+(1===e?"":"t")}),(function(e){return"kuu"+(1===e?"":"d")}),(function(e){return"nädal"+(1===e?"":"at")}),(function(e){return"päev"+(1===e?"":"a")}),(function(e){return"tund"+(1===e?"":"i")}),(function(e){return"minut"+(1===e?"":"it")}),(function(e){return"sekund"+(1===e?"":"it")}),(function(e){return"millisekund"+(1===e?"":"it")}),","),eu:l("urte","hilabete","aste","egun","ordu","minutu","segundo","milisegundo",","),fa:l("سال","ماه","هفته","روز","ساعت","دقیقه","ثانیه","میلی ثانیه"),fi:l((function(e){return 1===e?"vuosi":"vuotta"}),(function(e){return 1===e?"kuukausi":"kuukautta"}),(function(e){return"viikko"+(1===e?"":"a")}),(function(e){return"päivä"+(1===e?"":"ä")}),(function(e){return"tunti"+(1===e?"":"a")}),(function(e){return"minuutti"+(1===e?"":"a")}),(function(e){return"sekunti"+(1===e?"":"a")}),(function(e){return"millisekunti"+(1===e?"":"a")}),","),fo:l("ár",(function(e){return 1===e?"mánaður":"mánaðir"}),(function(e){return 1===e?"vika":"vikur"}),(function(e){return 1===e?"dagur":"dagar"}),(function(e){return 1===e?"tími":"tímar"}),(function(e){return 1===e?"minuttur":"minuttir"}),"sekund","millisekund",","),fr:l((function(e){return"an"+(e>=2?"s":"")}),"mois",(function(e){return"semaine"+(e>=2?"s":"")}),(function(e){return"jour"+(e>=2?"s":"")}),(function(e){return"heure"+(e>=2?"s":"")}),(function(e){return"minute"+(e>=2?"s":"")}),(function(e){return"seconde"+(e>=2?"s":"")}),(function(e){return"milliseconde"+(e>=2?"s":"")}),","),gr:o,he:l((function(e){return 1===e?"שנה":"שנים"}),(function(e){return 1===e?"חודש":"חודשים"}),(function(e){return 1===e?"שבוע":"שבועות"}),(function(e){return 1===e?"יום":"ימים"}),(function(e){return 1===e?"שעה":"שעות"}),(function(e){return 1===e?"דקה":"דקות"}),(function(e){return 1===e?"שניה":"שניות"}),(function(e){return 1===e?"מילישנייה":"מילישניות"})),hr:l((function(e){return e%10==2||e%10==3||e%10==4?"godine":"godina"}),(function(e){return 1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci"}),(function(e){return e%10==1&&11!==e?"tjedan":"tjedna"}),(function(e){return 1===e?"dan":"dana"}),(function(e){return 1===e?"sat":2===e||3===e||4===e?"sata":"sati"}),(function(e){var t=e%10;return 2!==t&&3!==t&&4!==t||!(e<10||e>14)?"minuta":"minute"}),(function(e){var t=e%10;return 5===t||Math.floor(e)===e&&e>=10&&e<=19?"sekundi":1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi"}),(function(e){return 1===e?"milisekunda":e%10==2||e%10==3||e%10==4?"milisekunde":"milisekundi"}),","),hi:l("साल",(function(e){return 1===e?"महीना":"महीने"}),(function(e){return 1===e?"हफ़्ता":"हफ्ते"}),"दिन",(function(e){return 1===e?"घंटा":"घंटे"}),"मिनट","सेकंड","मिलीसेकंड"),hu:l("év","hónap","hét","nap","óra","perc","másodperc","ezredmásodperc",","),id:l("tahun","bulan","minggu","hari","jam","menit","detik","milidetik"),is:l("ár",(function(e){return"mánuð"+(1===e?"ur":"ir")}),(function(e){return"vik"+(1===e?"a":"ur")}),(function(e){return"dag"+(1===e?"ur":"ar")}),(function(e){return"klukkutím"+(1===e?"i":"ar")}),(function(e){return"mínút"+(1===e?"a":"ur")}),(function(e){return"sekúnd"+(1===e?"a":"ur")}),(function(e){return"millisekúnd"+(1===e?"a":"ur")})),it:l((function(e){return"ann"+(1===e?"o":"i")}),(function(e){return"mes"+(1===e?"e":"i")}),(function(e){return"settiman"+(1===e?"a":"e")}),(function(e){return"giorn"+(1===e?"o":"i")}),(function(e){return"or"+(1===e?"a":"e")}),(function(e){return"minut"+(1===e?"o":"i")}),(function(e){return"second"+(1===e?"o":"i")}),(function(e){return"millisecond"+(1===e?"o":"i")}),","),ja:l("年","ヶ月","週","日","時間","分","秒","ミリ秒"),km:l("ឆ្នាំ","ខែ","សប្តាហ៍","ថ្ងៃ","ម៉ោង","នាទី","វិនាទី","មិល្លីវិនាទី"),kn:l((function(e){return 1===e?"ವರ್ಷ":"ವರ್ಷಗಳು"}),(function(e){return 1===e?"ತಿಂಗಳು":"ತಿಂಗಳುಗಳು"}),(function(e){return 1===e?"ವಾರ":"ವಾರಗಳು"}),(function(e){return 1===e?"ದಿನ":"ದಿನಗಳು"}),(function(e){return 1===e?"ಗಂಟೆ":"ಗಂಟೆಗಳು"}),(function(e){return 1===e?"ನಿಮಿಷ":"ನಿಮಿಷಗಳು"}),(function(e){return 1===e?"ಸೆಕೆಂಡ್":"ಸೆಕೆಂಡುಗಳು"}),(function(e){return 1===e?"ಮಿಲಿಸೆಕೆಂಡ್":"ಮಿಲಿಸೆಕೆಂಡುಗಳು"})),ko:l("년","개월","주일","일","시간","분","초","밀리 초"),ku:l("sal","meh","hefte","roj","seet","deqe","saniye","mîlîçirk",","),lo:l("ປີ","ເດືອນ","ອາທິດ","ມື້","ຊົ່ວໂມງ","ນາທີ","ວິນາທີ","ມິນລິວິນາທີ",","),lt:l((function(e){return e%10==0||e%100>=10&&e%100<=20?"metų":"metai"}),(function(e){return["mėnuo","mėnesiai","mėnesių"][f(e)]}),(function(e){return["savaitė","savaitės","savaičių"][f(e)]}),(function(e){return["diena","dienos","dienų"][f(e)]}),(function(e){return["valanda","valandos","valandų"][f(e)]}),(function(e){return["minutė","minutės","minučių"][f(e)]}),(function(e){return["sekundė","sekundės","sekundžių"][f(e)]}),(function(e){return["milisekundė","milisekundės","milisekundžių"][f(e)]}),","),lv:l((function(e){return h(e)?"gads":"gadi"}),(function(e){return h(e)?"mēnesis":"mēneši"}),(function(e){return h(e)?"nedēļa":"nedēļas"}),(function(e){return h(e)?"diena":"dienas"}),(function(e){return h(e)?"stunda":"stundas"}),(function(e){return h(e)?"minūte":"minūtes"}),(function(e){return h(e)?"sekunde":"sekundes"}),(function(e){return h(e)?"milisekunde":"milisekundes"}),","),mk:l((function(e){return 1===e?"година":"години"}),(function(e){return 1===e?"месец":"месеци"}),(function(e){return 1===e?"недела":"недели"}),(function(e){return 1===e?"ден":"дена"}),(function(e){return 1===e?"час":"часа"}),(function(e){return 1===e?"минута":"минути"}),(function(e){return 1===e?"секунда":"секунди"}),(function(e){return 1===e?"милисекунда":"милисекунди"}),","),mn:l("жил","сар","долоо хоног","өдөр","цаг","минут","секунд","миллисекунд"),mr:l((function(e){return 1===e?"वर्ष":"वर्षे"}),(function(e){return 1===e?"महिना":"महिने"}),(function(e){return 1===e?"आठवडा":"आठवडे"}),"दिवस","तास",(function(e){return 1===e?"मिनिट":"मिनिटे"}),"सेकंद","मिलिसेकंद"),ms:l("tahun","bulan","minggu","hari","jam","minit","saat","milisaat"),nl:l("jaar",(function(e){return 1===e?"maand":"maanden"}),(function(e){return 1===e?"week":"weken"}),(function(e){return 1===e?"dag":"dagen"}),"uur",(function(e){return 1===e?"minuut":"minuten"}),(function(e){return 1===e?"seconde":"seconden"}),(function(e){return 1===e?"milliseconde":"milliseconden"}),","),no:l("år",(function(e){return"måned"+(1===e?"":"er")}),(function(e){return"uke"+(1===e?"":"r")}),(function(e){return"dag"+(1===e?"":"er")}),(function(e){return"time"+(1===e?"":"r")}),(function(e){return"minutt"+(1===e?"":"er")}),(function(e){return"sekund"+(1===e?"":"er")}),(function(e){return"millisekund"+(1===e?"":"er")}),","),pl:l((function(e){return["rok","roku","lata","lat"][c(e)]}),(function(e){return["miesiąc","miesiąca","miesiące","miesięcy"][c(e)]}),(function(e){return["tydzień","tygodnia","tygodnie","tygodni"][c(e)]}),(function(e){return["dzień","dnia","dni","dni"][c(e)]}),(function(e){return["godzina","godziny","godziny","godzin"][c(e)]}),(function(e){return["minuta","minuty","minuty","minut"][c(e)]}),(function(e){return["sekunda","sekundy","sekundy","sekund"][c(e)]}),(function(e){return["milisekunda","milisekundy","milisekundy","milisekund"][c(e)]}),","),pt:l((function(e){return"ano"+(1===e?"":"s")}),(function(e){return 1===e?"mês":"meses"}),(function(e){return"semana"+(1===e?"":"s")}),(function(e){return"dia"+(1===e?"":"s")}),(function(e){return"hora"+(1===e?"":"s")}),(function(e){return"minuto"+(1===e?"":"s")}),(function(e){return"segundo"+(1===e?"":"s")}),(function(e){return"milissegundo"+(1===e?"":"s")}),","),ro:l((function(e){return 1===e?"an":"ani"}),(function(e){return 1===e?"lună":"luni"}),(function(e){return 1===e?"săptămână":"săptămâni"}),(function(e){return 1===e?"zi":"zile"}),(function(e){return 1===e?"oră":"ore"}),(function(e){return 1===e?"minut":"minute"}),(function(e){return 1===e?"secundă":"secunde"}),(function(e){return 1===e?"milisecundă":"milisecunde"}),","),ru:l((function(e){return["лет","год","года"][d(e)]}),(function(e){return["месяцев","месяц","месяца"][d(e)]}),(function(e){return["недель","неделя","недели"][d(e)]}),(function(e){return["дней","день","дня"][d(e)]}),(function(e){return["часов","час","часа"][d(e)]}),(function(e){return["минут","минута","минуты"][d(e)]}),(function(e){return["секунд","секунда","секунды"][d(e)]}),(function(e){return["миллисекунд","миллисекунда","миллисекунды"][d(e)]}),","),sq:l((function(e){return 1===e?"vit":"vjet"}),"muaj","javë","ditë","orë",(function(e){return"minut"+(1===e?"ë":"a")}),(function(e){return"sekond"+(1===e?"ë":"a")}),(function(e){return"milisekond"+(1===e?"ë":"a")}),","),sr:l((function(e){return["години","година","године"][d(e)]}),(function(e){return["месеци","месец","месеца"][d(e)]}),(function(e){return["недељи","недеља","недеље"][d(e)]}),(function(e){return["дани","дан","дана"][d(e)]}),(function(e){return["сати","сат","сата"][d(e)]}),(function(e){return["минута","минут","минута"][d(e)]}),(function(e){return["секунди","секунда","секунде"][d(e)]}),(function(e){return["милисекунди","милисекунда","милисекунде"][d(e)]}),","),ta:l((function(e){return 1===e?"வருடம்":"ஆண்டுகள்"}),(function(e){return 1===e?"மாதம்":"மாதங்கள்"}),(function(e){return 1===e?"வாரம்":"வாரங்கள்"}),(function(e){return 1===e?"நாள்":"நாட்கள்"}),(function(e){return 1===e?"மணி":"மணிநேரம்"}),(function(e){return"நிமிட"+(1===e?"ம்":"ங்கள்")}),(function(e){return"வினாடி"+(1===e?"":"கள்")}),(function(e){return"மில்லி விநாடி"+(1===e?"":"கள்")})),te:l((function(e){return"సంవత్స"+(1===e?"రం":"రాల")}),(function(e){return"నెల"+(1===e?"":"ల")}),(function(e){return 1===e?"వారం":"వారాలు"}),(function(e){return"రోజు"+(1===e?"":"లు")}),(function(e){return"గంట"+(1===e?"":"లు")}),(function(e){return 1===e?"నిమిషం":"నిమిషాలు"}),(function(e){return 1===e?"సెకను":"సెకన్లు"}),(function(e){return 1===e?"మిల్లీసెకన్":"మిల్లీసెకన్లు"})),uk:l((function(e){return["років","рік","роки"][d(e)]}),(function(e){return["місяців","місяць","місяці"][d(e)]}),(function(e){return["тижнів","тиждень","тижні"][d(e)]}),(function(e){return["днів","день","дні"][d(e)]}),(function(e){return["годин","година","години"][d(e)]}),(function(e){return["хвилин","хвилина","хвилини"][d(e)]}),(function(e){return["секунд","секунда","секунди"][d(e)]}),(function(e){return["мілісекунд","мілісекунда","мілісекунди"][d(e)]}),","),ur:l("سال",(function(e){return 1===e?"مہینہ":"مہینے"}),(function(e){return 1===e?"ہفتہ":"ہفتے"}),"دن",(function(e){return 1===e?"گھنٹہ":"گھنٹے"}),"منٹ","سیکنڈ","ملی سیکنڈ"),sk:l((function(e){return["rok","roky","roky","rokov"][p(e)]}),(function(e){return["mesiac","mesiace","mesiace","mesiacov"][p(e)]}),(function(e){return["týždeň","týždne","týždne","týždňov"][p(e)]}),(function(e){return["deň","dni","dni","dní"][p(e)]}),(function(e){return["hodina","hodiny","hodiny","hodín"][p(e)]}),(function(e){return["minúta","minúty","minúty","minút"][p(e)]}),(function(e){return["sekunda","sekundy","sekundy","sekúnd"][p(e)]}),(function(e){return["milisekunda","milisekundy","milisekundy","milisekúnd"][p(e)]}),","),sl:l((function(e){return e%10==1?"leto":e%100==2?"leti":e%100==3||e%100==4||Math.floor(e)!==e&&e%100<=5?"leta":"let"}),(function(e){return e%10==1?"mesec":e%100==2||Math.floor(e)!==e&&e%100<=5?"meseca":e%10==3||e%10==4?"mesece":"mesecev"}),(function(e){return e%10==1?"teden":e%10==2||Math.floor(e)!==e&&e%100<=4?"tedna":e%10==3||e%10==4?"tedne":"tednov"}),(function(e){return e%100==1?"dan":"dni"}),(function(e){return e%10==1?"ura":e%100==2?"uri":e%10==3||e%10==4||Math.floor(e)!==e?"ure":"ur"}),(function(e){return e%10==1?"minuta":e%10==2?"minuti":e%10==3||e%10==4||Math.floor(e)!==e&&e%100<=4?"minute":"minut"}),(function(e){return e%10==1?"sekunda":e%100==2?"sekundi":e%100==3||e%100==4||Math.floor(e)!==e?"sekunde":"sekund"}),(function(e){return e%10==1?"milisekunda":e%100==2?"milisekundi":e%100==3||e%100==4||Math.floor(e)!==e?"milisekunde":"milisekund"}),","),sv:l("år",(function(e){return"månad"+(1===e?"":"er")}),(function(e){return"veck"+(1===e?"a":"or")}),(function(e){return"dag"+(1===e?"":"ar")}),(function(e){return"timm"+(1===e?"e":"ar")}),(function(e){return"minut"+(1===e?"":"er")}),(function(e){return"sekund"+(1===e?"":"er")}),(function(e){return"millisekund"+(1===e?"":"er")}),","),sw:i(l((function(e){return 1===e?"mwaka":"miaka"}),(function(e){return 1===e?"mwezi":"miezi"}),"wiki",(function(e){return 1===e?"siku":"masiku"}),(function(e){return 1===e?"saa":"masaa"}),"dakika","sekunde","milisekunde"),{_numberFirst:!0}),tr:l("yıl","ay","hafta","gün","saat","dakika","saniye","milisaniye",","),th:l("ปี","เดือน","สัปดาห์","วัน","ชั่วโมง","นาที","วินาที","มิลลิวินาที"),uz:l("yil","oy","hafta","kun","soat","minut","sekund","millisekund"),uz_CYR:l("йил","ой","ҳафта","кун","соат","минут","секунд","миллисекунд"),vi:l("năm","tháng","tuần","ngày","giờ","phút","giây","mili giây",","),zh_CN:l("年","个月","周","天","小时","分钟","秒","毫秒"),zh_TW:l("年","個月","周","天","小時","分鐘","秒","毫秒")};function l(e,t,n,r,i,a,o,s,l){var u={y:e,mo:t,w:n,d:r,h:i,m:a,s:o,ms:s};return void 0!==l&&(u.decimal=l),u}function u(e){return 2===e?1:e>2&&e<11?2:0}function c(e){return 1===e?0:Math.floor(e)!==e?1:e%10>=2&&e%10<=4&&!(e%100>10&&e%100<20)?2:3}function d(e){return Math.floor(e)!==e?2:e%100>=5&&e%100<=20||e%10>=5&&e%10<=9||e%10==0?0:e%10==1?1:e>1?2:0}function p(e){return 1===e?0:Math.floor(e)!==e?1:e%10>=2&&e%10<=4&&e%100<10?2:3}function f(e){return 1===e||e%10==1&&e%100>20?0:Math.floor(e)!==e||e%10>=2&&e%100>20||e%10>=2&&e%100<10?1:2}function h(e){return e%10==1&&e%100!=11}function y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function g(e,t,n){var r,i,a,o=e.unitName,s=e.unitCount,l=n.spacer,u=n.maxDecimalPoints;r=y(n,"decimal")?n.decimal:y(t,"decimal")?t.decimal:".","digitReplacements"in n?i=n.digitReplacements:"_digitReplacements"in t&&(i=t._digitReplacements);var c=(void 0===u?s:Math.floor(s*Math.pow(10,u))/Math.pow(10,u)).toString();if(t._hideCountIf2&&2===s)a="",l="";else if(i){a="";for(var d=0;d<c.length;d++){var p=c[d];a+="."===p?r:i[p]}}else a=c.replace(".",r);var f,h=t[o];return f="function"==typeof h?h(s):h,t._numberFirst?f+l+a:a+l+f}function v(e){var t=function(e,n){e=Math.abs(e);var r=i({},t,n||{}),o=function(e,t){var n,r,i,a,o=t.units,s=t.unitMeasures,l="largest"in t?t.largest:1/0;if(!o.length)return[];var u={};for(a=e,r=0;r<o.length;r++){var c=s[n=o[r]];i=r===o.length-1?a/c:Math.floor(a/c),u[n]=i,a-=i*c}if(t.round){var d=l;for(r=0;r<o.length;r++)if(0!==(i=u[n=o[r]])&&0==--d){for(var p=r+1;p<o.length;p++){var f=o[p],h=u[f];u[n]+=h*s[f]/s[n],u[f]=0}break}for(r=o.length-1;r>=0;r--)if(0!==(i=u[n=o[r]])){var y=Math.round(i);if(u[n]=y,0===r)break;var g=o[r-1],v=s[g],m=Math.floor(y*s[n]/v);if(!m)break;u[g]+=m,u[n]=0}}var b=[];for(r=0;r<o.length&&b.length<l;r++)(i=u[n=o[r]])&&b.push({unitName:n,unitCount:i});return b}(e,r);return function(e,t){var n=function(e){var t=[e.language];if(y(e,"fallbacks")){if(!a(e.fallbacks)||!e.fallbacks.length)throw new Error("fallbacks must be an array with at least one element");t=t.concat(e.fallbacks)}for(var n=0;n<t.length;n++){var r=t[n];if(y(e.languages,r))return e.languages[r];if(y(s,r))return s[r]}throw new Error("No language found.")}(t);if(!e.length){var r=t.units;return g({unitName:r[r.length-1],unitCount:0},n,t)}var i,o=t.conjunction,l=t.serialComma;i=y(t,"delimiter")?t.delimiter:y(n,"delimiter")?n.delimiter:", ";for(var u=[],c=0;c<e.length;c++)u.push(g(e[c],n,t));return o&&1!==e.length?2===e.length?u.join(o):u.slice(0,-1).join(i)+(l?",":"")+o+u.slice(-1):u.join(i)}(o,r)};return i(t,{language:"en",spacer:" ",conjunction:"",serialComma:!0,units:["y","mo","w","d","h","m","s"],languages:{},round:!1,unitMeasures:{y:315576e5,mo:26298e5,w:6048e5,d:864e5,h:36e5,m:6e4,s:1e3,ms:1}},e)}var m=i(v({}),{getSupportedLanguages:function(){var e=[];for(var t in s)y(s,t)&&"gr"!==t&&e.push(t);return e},humanizer:v});void 0===(r=function(){return m}.call(t,n,t,e))||(e.exports=r)}()},703:function(e,t,n){"use strict";var r=n(414);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},697:function(e,t,n){e.exports=n(703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},921:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,m=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case a:case s:case o:case f:return e;default:switch(e=e&&e.$$typeof){case u:case p:case g:case y:case l:return e;default:return t}}case i:return t}}}function T(e){return E(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=a,t.Lazy=g,t.Memo=y,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return T(e)||E(e)===c},t.isConcurrentMode=T,t.isContextConsumer=function(e){return E(e)===u},t.isContextProvider=function(e){return E(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===p},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===g},t.isMemo=function(e){return E(e)===y},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===s},t.isStrictMode=function(e){return E(e)===o},t.isSuspense=function(e){return E(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===s||e===o||e===f||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===y||e.$$typeof===l||e.$$typeof===u||e.$$typeof===p||e.$$typeof===m||e.$$typeof===b||e.$$typeof===k||e.$$typeof===v)},t.typeOf=E},864:function(e,t,n){"use strict";e.exports=n(921)},25:function(e,t,n){var r=n(994),i=n(944);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-ui"},insert:function(e){"string"==typeof window.kalturaGlobalConfig?.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},994:function(e,t,n){"use strict";var r,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function o(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],i=0;i<e.length;i++){var s=e[i],l=t.base?s[0]+t.base:s[0],u=n[l]||0,c="".concat(l," ").concat(u);n[l]=u+1;var d=o(c),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(a[d].references++,a[d].updater(p)):a.push({identifier:c,updater:y(p,t),references:1}),r.push(c)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var a=n.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var o=i(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var u,c=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=c(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function p(e,t,n){var r=n.css,i=n.media,a=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),a&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,h=0;function y(e,t){var n,r,i;if(t.singleton){var a=h++;n=f||(f=l(t)),r=d.bind(null,n,a,!1),i=d.bind(null,n,a,!0)}else n=l(t),r=p.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=o(n[r]);a[i].references--}for(var l=s(e,t),u=0;u<n.length;u++){var c=o(n[u]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}n=l}}}},121:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}}),e=n.hmd(e);var r=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:e)},230:function(e){"use strict";e.exports=n}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nc=void 0;var i={};return function(){"use strict";r.r(i),r.d(i,{Components:function(){return E},Event:function(){return o},EventType:function(){return sr},NAME:function(){return wh},Presets:function(){return T},Reducers:function(){return _},ReservedPresetAreas:function(){return Ir},ReservedPresetNames:function(){return Rr},SidePanelModes:function(){return Pr},SidePanelPositions:function(){return xr},UIEventType:function(){return sr},UIManager:function(){return Ah},Utils:function(){return l},VERSION:function(){return Sh},components:function(){return E},createPortal:function(){return st},getDurationAsText:function(){return Yr},getOverlayPortalElement:function(){return qs},h:function(){return W},preact:function(){return e},preactHooks:function(){return t},preacti18n:function(){return a},presets:function(){return T},reducers:function(){return _},redux:function(){return n},style:function(){return Ch},utils:function(){return l}});var e={};r.r(e),r.d(e,{Component:function(){return X},Fragment:function(){return q},__u:function(){return pe},cloneElement:function(){return ge},createContext:function(){return ve},createElement:function(){return W},createRef:function(){return Z},h:function(){return W},hydrate:function(){return ye},isValidElement:function(){return S},options:function(){return A},render:function(){return he},toChildArray:function(){return ne}});var t={};r.r(t),r.d(t,{useCallback:function(){return Me},useContext:function(){return Ne},useDebugValue:function(){return Ue},useEffect:function(){return Re},useErrorBoundary:function(){return Be},useImperativeHandle:function(){return Oe},useLayoutEffect:function(){return Ie},useMemo:function(){return Le},useReducer:function(){return Pe},useRef:function(){return De},useState:function(){return xe}});var n={};r.r(n),r.d(n,{Provider:function(){return Tt},ReactReduxContext:function(){return vt},batch:function(){return yt},connect:function(){return un},connectAdvanced:function(){return Nt},createDispatchHook:function(){return fn},createSelectorHook:function(){return gn},createStoreHook:function(){return dn},shallowEqual:function(){return Bt},useDispatch:function(){return hn},useSelector:function(){return vn},useStore:function(){return pn}});var a={};r.r(a),r.d(a,{IntlProvider:function(){return An},Localizer:function(){return Ln},MarkupText:function(){return Mn},Text:function(){return Dn},default:function(){return Bn},intl:function(){return Sn},withText:function(){return Un}});var o={};r.r(o),r.d(o,{EventType:function(){return sr},withEventManager:function(){return ar}});var s={};r.r(s),r.d(s,{ReservedPresetAreas:function(){return Ir},ReservedPresetNames:function(){return Rr},SidePanelModes:function(){return Pr},SidePanelOrientation:function(){return Cr},SidePanelPositions:function(){return xr},actions:function(){return Nr},default:function(){return Mr},initialState:function(){return Lr},types:function(){return wr}});var l={};r.r(l),r.d(l,{KeyCode:function(){return ur},KeyMap:function(){return lr},bindActions:function(){return Ur},focusElement:function(){return Br},formatOnlyNumbersInput:function(){return Kr},getDurationAsText:function(){return Yr},getLogger:function(){return Yn},toHHMMSS:function(){return Vr},toSecondsFromHHMMSS:function(){return Gr},withKeyboardA11y:function(){return Hr}});var u={};r.r(u),r.d(u,{actions:function(){return ii},default:function(){return ri},initialState:function(){return ni},types:function(){return ti}});var c={};r.r(c),r.d(c,{actions:function(){return pi},default:function(){return di},initialState:function(){return ci},types:function(){return ui}});var d={};r.r(d),r.d(d,{actions:function(){return da},default:function(){return ca},initialState:function(){return ua},types:function(){return la}});var p={};r.r(p),r.d(p,{actions:function(){return va},default:function(){return ga},initialState:function(){return ya},types:function(){return ha}});var f={};r.r(f),r.d(f,{actions:function(){return Aa},default:function(){return _a},initialState:function(){return Ta},types:function(){return Ea}});var h={};r.r(h),r.d(h,{actions:function(){return Ra},default:function(){return Pa},initialState:function(){return xa},types:function(){return Ca}});var y={};r.r(y),r.d(y,{actions:function(){return Na},default:function(){return Ma},initialState:function(){return La},types:function(){return Oa}});var g={};r.r(g),r.d(g,{actions:function(){return Va},default:function(){return Ha},initialState:function(){return ja},types:function(){return Fa}});var v={};r.r(v),r.d(v,{actions:function(){return Za},default:function(){return Ya},initialState:function(){return Wa},types:function(){return za}});var m={};r.r(m),r.d(m,{actions:function(){return eo},default:function(){return $a},initialState:function(){return Ja},types:function(){return Qa}});var b={};r.r(b),r.d(b,{actions:function(){return fo},default:function(){return po},initialState:function(){return co},types:function(){return uo}});var k={};r.r(k),r.d(k,{isPlayingAdOrPlayback:function(){return Oo}});var E={};r.r(E),r.d(E,{AdLearnMore:function(){return Fl},AdNotice:function(){return Vl},AdSkip:function(){return Hl},AdvancedAudioDesc:function(){return $p},AdvancedAudioDescToggle:function(){return qp},AudioMenu:function(){return Tp},BadgeType:function(){return Po},BaseComponent:function(){return tu},BottomBar:function(){return Al},Button:function(){return Ko},ButtonControl:function(){return is},CVAAOverlay:function(){return Ou},CaptionsControl:function(){return Ef},CaptionsMenu:function(){return Ip},Cast:function(){return Eo},CastAfterPlay:function(){return Vd},CastBeforePlay:function(){return Fd},CastControl:function(){return Eo},CastOverlay:function(){return Od},ClosedCaptions:function(){return Ll},ClosedCaptionsControl:function(){return Ll},CopyButton:function(){return Gu},DropDown:function(){return fu},EngineConnector:function(){return ju},ErrorOverlay:function(){return nc},EventDispatcherProvider:function(){return _i},ExpandableText:function(){return af},Forward:function(){return Rs},ForwardControl:function(){return Rs},Fullscreen:function(){return ss},FullscreenControl:function(){return ss},GuiArea:function(){return pf},HeightResolution:function(){return Bp},Icon:function(){return Io},IconState:function(){return Ro},IconType:function(){return xo},InteractiveArea:function(){return ff},Keyboard:function(){return jo},KeyboardControl:function(){return jo},KeyboardEventProvider:function(){return Vo},LiveTag:function(){return ac},Loading:function(){return yc},Logo:function(){return Cd},Menu:function(){return cu},Overlay:function(){return iu},OverlayAction:function(){return Ac},OverlayPortal:function(){return Gs},PLAYER_BREAK_POINTS:function(){return Vi},PLAYER_SIZE:function(){return Hi},PictureInPicture:function(){return sp},PlayPause:function(){return ds},PlayPauseControl:function(){return ds},PlaybackControls:function(){return up},PlayerArea:function(){return Tr},PlayerProvider:function(){return Fr},PlaylistButton:function(){return Zd},PlaylistNextScreen:function(){return np},PrePlaybackPlayOverlay:function(){return Rc},PrevNext:function(){return Yd},ProgressIndicator:function(){return Us},QualityMenu:function(){return Gp},Remove:function(){return gr},Rewind:function(){return ws},RewindControl:function(){return ws},Scrollable:function(){return cf},SeekBar:function(){return Vs},SeekBarControl:function(){return Vs},SeekBarLivePlaybackContainer:function(){return Nc},SeekBarPlaybackContainer:function(){return Hc},SeekBarPreview:function(){return Ds},Settings:function(){return al},SettingsControl:function(){return al},Shell:function(){return Ki},SidePanel:function(){return hf},Slider:function(){return yu},SmartContainer:function(){return Gc},SmartContainerItem:function(){return Kc},SpeedMenu:function(){return Up},TimeDisplay:function(){return Wc},TimeDisplayAdsContainer:function(){return qc},TimeDisplayPlaybackContainer:function(){return $c},ToggleSwitch:function(){return hp},ToolTipType:function(){return vo},Tooltip:function(){return mo},TopBar:function(){return id},UnmuteIndication:function(){return cd},VideoArea:function(){return df},VideoPlayer:function(){return bd},Volume:function(){return ul},VolumeControl:function(){return ul},VrStereo:function(){return xl},VrStereoControl:function(){return xl},Watermark:function(){return Td},getLabelBadgeType:function(){return Fp},withEventDispatcher:function(){return Oi},withKeyboardEvent:function(){return Go},withLogger:function(){return yr},withPlayer:function(){return jr},withPlayerPreset:function(){return ia}});var T={};r.r(T),r.d(T,{adsUI:function(){return Zf},docUI:function(){return sh},errorUI:function(){return Xf},idleUI:function(){return If},imgUI:function(){return rh},liveUI:function(){return eh},playbackUI:function(){return Kf}});var _={};r.r(_),r.d(_,{bottomBar:function(){return b},config:function(){return u},cvaa:function(){return h},engine:function(){return c},getters:function(){return k},loading:function(){return f},overlay:function(){return m},overlayAction:function(){return g},playlist:function(){return v},seekbar:function(){return d},setting:function(){return y},shell:function(){return s},volume:function(){return p}});var A,S,w,C,x,P,R,I=r(38),D=r.n(I),O=r(319),L=r.n(O),M=r(575),N=r.n(M),U=r(913),B=r.n(U),F=r(713),j=r.n(F),H={},V=[],G=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function K(e,t){for(var n in t)e[n]=t[n];return e}function z(e){var t=e.parentNode;t&&t.removeChild(e)}function W(e,t,n){var r,i=arguments,a={};for(r in t)"key"!==r&&"ref"!==r&&(a[r]=t[r]);if(arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(i[r]);if(null!=n&&(a.children=n),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===a[r]&&(a[r]=e.defaultProps[r]);return Y(e,a,t&&t.key,t&&t.ref,null)}function Y(e,t,n,r,i){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i};return null==i&&(a.__v=a),A.vnode&&A.vnode(a),a}function Z(){return{current:null}}function q(e){return e.children}function X(e,t){this.props=e,this.context=t}function Q(e,t){if(null==t)return e.__?Q(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?Q(e):null}function J(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return J(e)}}function $(e){(!e.__d&&(e.__d=!0)&&w.push(e)&&!ee.__r++||x!==A.debounceRendering)&&((x=A.debounceRendering)||C)(ee)}function ee(){for(var e;ee.__r=w.length;)e=w.sort((function(e,t){return e.__v.__b-t.__v.__b})),w=[],e.some((function(e){var t,n,r,i,a,o,s;e.__d&&(o=(a=(t=e).__v).__e,(s=t.__P)&&(n=[],(r=K({},a)).__v=r,i=le(s,a,r,t.__n,void 0!==s.ownerSVGElement,null,n,null==o?Q(a):o),ue(n,a),i!=o&&J(a)))}))}function te(e,t,n,r,i,a,o,s,l,u){var c,d,p,f,h,y,g,v=r&&r.__k||V,m=v.length;for(l==H&&(l=null!=o?o[0]:m?Q(r,0):null),n.__k=[],c=0;c<t.length;c++)if(null!=(f=n.__k[c]=null==(f=t[c])||"boolean"==typeof f?null:"string"==typeof f||"number"==typeof f?Y(null,f,null,null,f):Array.isArray(f)?Y(q,{children:f},null,null,null):null!=f.__e||null!=f.__c?Y(f.type,f.props,f.key,null,f.__v):f)){if(f.__=n,f.__b=n.__b+1,null===(p=v[c])||p&&f.key==p.key&&f.type===p.type)v[c]=void 0;else for(d=0;d<m;d++){if((p=v[d])&&f.key==p.key&&f.type===p.type){v[d]=void 0;break}p=null}h=le(e,f,p=p||H,i,a,o,s,l,u),(d=f.ref)&&p.ref!=d&&(g||(g=[]),p.ref&&g.push(p.ref,null,f),g.push(d,f.__c||h,f)),null!=h?(null==y&&(y=h),l=re(e,f,p,v,o,h,l),"option"==n.type?e.value="":"function"==typeof n.type&&(n.__d=l)):l&&p.__e==l&&l.parentNode!=e&&(l=Q(p))}if(n.__e=y,null!=o&&"function"!=typeof n.type)for(c=o.length;c--;)null!=o[c]&&z(o[c]);for(c=m;c--;)null!=v[c]&&pe(v[c],v[c]);if(g)for(c=0;c<g.length;c++)de(g[c],g[++c],g[++c])}function ne(e){return null==e||"boolean"==typeof e?[]:Array.isArray(e)?V.concat.apply([],e.map(ne)):[e]}function re(e,t,n,r,i,a,o){var s,l,u;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(i==n||a!=o||null==a.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(a),s=null;else{for(l=o,u=0;(l=l.nextSibling)&&u<r.length;u+=2)if(l==a)break e;e.insertBefore(a,o),s=o}return void 0!==s?s:a.nextSibling}function ie(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===G.test(t)?n+"px":null==n?"":n}function ae(e,t,n,r,i){var a,o,s,l,u;if(i?"className"===t&&(t="class"):"class"===t&&(t="className"),"style"===t)if(a=e.style,"string"==typeof n)a.cssText=n;else{if("string"==typeof r&&(a.cssText="",r=null),r)for(l in r)n&&l in n||ie(a,l,"");if(n)for(u in n)r&&n[u]===r[u]||ie(a,u,n[u])}else"o"===t[0]&&"n"===t[1]?(o=t!==(t=t.replace(/Capture$/,"")),s=t.toLowerCase(),t=(s in e?s:t).slice(2),n?(r||e.addEventListener(t,oe,o),(e.l||(e.l={}))[t]=n):e.removeEventListener(t,oe,o)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!i&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function oe(e){this.l[e.type](A.event?A.event(e):e)}function se(e,t,n){var r,i;for(r=0;r<e.__k.length;r++)(i=e.__k[r])&&(i.__=e,i.__e&&("function"==typeof i.type&&i.__k.length>1&&se(i,t,n),t=re(n,i,i,e.__k,null,i.__e,t),"function"==typeof e.type&&(e.__d=t)))}function le(e,t,n,r,i,a,o,s,l){var u,c,d,p,f,h,y,g,v,m,b,k=t.type;if(void 0!==t.constructor)return null;(u=A.__b)&&u(t);try{e:if("function"==typeof k){if(g=t.props,v=(u=k.contextType)&&r[u.__c],m=u?v?v.props.value:u.__:r,n.__c?y=(c=t.__c=n.__c).__=c.__E:("prototype"in k&&k.prototype.render?t.__c=c=new k(g,m):(t.__c=c=new X(g,m),c.constructor=k,c.render=fe),v&&v.sub(c),c.props=g,c.state||(c.state={}),c.context=m,c.__n=r,d=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=k.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=K({},c.__s)),K(c.__s,k.getDerivedStateFromProps(g,c.__s))),p=c.props,f=c.state,d)null==k.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==k.getDerivedStateFromProps&&g!==p&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(g,m),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(g,c.__s,m)||t.__v===n.__v){c.props=g,c.state=c.__s,t.__v!==n.__v&&(c.__d=!1),c.__v=t,t.__e=n.__e,t.__k=n.__k,c.__h.length&&o.push(c),se(t,s,e);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(g,c.__s,m),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(p,f,h)}))}c.context=m,c.props=g,c.state=c.__s,(u=A.__r)&&u(t),c.__d=!1,c.__v=t,c.__P=e,u=c.render(c.props,c.state,c.context),c.state=c.__s,null!=c.getChildContext&&(r=K(K({},r),c.getChildContext())),d||null==c.getSnapshotBeforeUpdate||(h=c.getSnapshotBeforeUpdate(p,f)),b=null!=u&&u.type==q&&null==u.key?u.props.children:u,te(e,Array.isArray(b)?b:[b],t,n,r,i,a,o,s,l),c.base=t.__e,c.__h.length&&o.push(c),y&&(c.__E=c.__=null),c.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=ce(n.__e,t,n,r,i,a,o,l);(u=A.diffed)&&u(t)}catch(e){t.__v=null,A.__e(e,t,n)}return t.__e}function ue(e,t){A.__c&&A.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){A.__e(e,t.__v)}}))}function ce(e,t,n,r,i,a,o,s){var l,u,c,d,p,f=n.props,h=t.props;if(i="svg"===t.type||i,null!=a)for(l=0;l<a.length;l++)if(null!=(u=a[l])&&((null===t.type?3===u.nodeType:u.localName===t.type)||e==u)){e=u,a[l]=null;break}if(null==e){if(null===t.type)return document.createTextNode(h);e=i?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,h.is&&{is:h.is}),a=null,s=!1}if(null===t.type)f!==h&&e.data!=h&&(e.data=h);else{if(null!=a&&(a=V.slice.call(e.childNodes)),c=(f=n.props||H).dangerouslySetInnerHTML,d=h.dangerouslySetInnerHTML,!s){if(null!=a)for(f={},p=0;p<e.attributes.length;p++)f[e.attributes[p].name]=e.attributes[p].value;(d||c)&&(d&&c&&d.__html==c.__html||(e.innerHTML=d&&d.__html||""))}(function(e,t,n,r,i){var a;for(a in n)"children"===a||"key"===a||a in t||ae(e,a,null,n[a],r);for(a in t)i&&"function"!=typeof t[a]||"children"===a||"key"===a||"value"===a||"checked"===a||n[a]===t[a]||ae(e,a,t[a],n[a],r)})(e,h,f,i,s),d?t.__k=[]:(l=t.props.children,te(e,Array.isArray(l)?l:[l],t,n,r,"foreignObject"!==t.type&&i,a,o,H,s)),s||("value"in h&&void 0!==(l=h.value)&&l!==e.value&&ae(e,"value",l,f.value,!1),"checked"in h&&void 0!==(l=h.checked)&&l!==e.checked&&ae(e,"checked",l,f.checked,!1))}return e}function de(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){A.__e(e,n)}}function pe(e,t,n){var r,i,a;if(A.unmount&&A.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||de(r,null,t)),n||"function"==typeof e.type||(n=null!=(i=e.__e)),e.__e=e.__d=void 0,null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){A.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(a=0;a<r.length;a++)r[a]&&pe(r[a],t,n);null!=i&&z(i)}function fe(e,t,n){return this.constructor(e,n)}function he(e,t,n){var r,i,a;A.__&&A.__(e,t),i=(r=n===P)?null:n&&n.__k||t.__k,e=W(q,null,[e]),a=[],le(t,(r?t:n||t).__k=e,i||H,H,void 0!==t.ownerSVGElement,n&&!r?[n]:i?null:t.childNodes.length?V.slice.call(t.childNodes):null,a,n||H,r),ue(a,e)}function ye(e,t){he(e,t,P)}function ge(e,t){var n,r;for(r in t=K(K({},e.props),t),arguments.length>2&&(t.children=V.slice.call(arguments,2)),n={},t)"key"!==r&&"ref"!==r&&(n[r]=t[r]);return Y(e.type,n,t.key||e.key,t.ref||e.ref,null)}function ve(e){var t={},n={__c:"__cC"+R++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,i=this;return this.getChildContext||(r=[],this.getChildContext=function(){return t[n.__c]=i,t},this.shouldComponentUpdate=function(e){i.props.value!==e.value&&r.some((function(t){t.context=e.value,$(t)}))},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Consumer.contextType=n,n.Provider.__=n,n}A={__e:function(e,t){for(var n,r;t=t.__;)if((n=t.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError&&(r=!0,n.setState(n.constructor.getDerivedStateFromError(e))),null!=n.componentDidCatch&&(r=!0,n.componentDidCatch(e)),r)return $(n.__E=n)}catch(t){e=t}throw e}},S=function(e){return null!=e&&void 0===e.constructor},X.prototype.setState=function(e,t){var n;n=this.__s!==this.state?this.__s:this.__s=K({},this.state),"function"==typeof e&&(e=e(n,this.props)),e&&K(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),$(this))},X.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),$(this))},X.prototype.render=q,w=[],C="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ee.__r=0,P=H,R=0;var me,be,ke,Ee=0,Te=[],_e=A.__r,Ae=A.diffed,Se=A.__c,we=A.unmount;function Ce(e,t){A.__h&&A.__h(be,e,Ee||t),Ee=0;var n=be.__H||(be.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function xe(e){return Ee=1,Pe(Ke,e)}function Pe(e,t,n){var r=Ce(me++,2);return r.t=e,r.__c||(r.__c=be,r.__=[n?n(t):Ke(void 0,t),function(e){var t=r.t(r.__[0],e);r.__[0]!==t&&(r.__=[t,r.__[1]],r.__c.setState({}))}]),r.__}function Re(e,t){var n=Ce(me++,3);!A.__s&&Ge(n.__H,t)&&(n.__=e,n.__H=t,be.__H.__h.push(n))}function Ie(e,t){var n=Ce(me++,4);!A.__s&&Ge(n.__H,t)&&(n.__=e,n.__H=t,be.__h.push(n))}function De(e){return Ee=5,Le((function(){return{current:e}}),[])}function Oe(e,t,n){Ee=6,Ie((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))}function Le(e,t){var n=Ce(me++,7);return Ge(n.__H,t)?(n.__H=t,n.__h=e,n.__=e()):n.__}function Me(e,t){return Ee=8,Le((function(){return e}),t)}function Ne(e){var t=be.context[e.__c],n=Ce(me++,9);return n.__c=e,t?(null==n.__&&(n.__=!0,t.sub(be)),t.props.value):e.__}function Ue(e,t){A.useDebugValue&&A.useDebugValue(t?t(e):e)}function Be(e){var t=Ce(me++,10),n=xe();return t.__=e,be.componentDidCatch||(be.componentDidCatch=function(e){t.__&&t.__(e),n[1](e)}),[n[0],function(){n[1](void 0)}]}function Fe(){Te.some((function(e){if(e.__P)try{e.__H.__h.forEach(He),e.__H.__h.forEach(Ve),e.__H.__h=[]}catch(t){return e.__H.__h=[],A.__e(t,e.__v),!0}})),Te=[]}A.__r=function(e){_e&&_e(e),me=0;var t=(be=e.__c).__H;t&&(t.__h.forEach(He),t.__h.forEach(Ve),t.__h=[])},A.diffed=function(e){Ae&&Ae(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==Te.push(t)&&ke===A.requestAnimationFrame||((ke=A.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),je&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);je&&(t=requestAnimationFrame(n))})(Fe))},A.__c=function(e,t){t.some((function(e){try{e.__h.forEach(He),e.__h=e.__h.filter((function(e){return!e.__||Ve(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],A.__e(n,e.__v)}})),Se&&Se(e,t)},A.unmount=function(e){we&&we(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(He)}catch(e){A.__e(e,t.__v)}};var je="function"==typeof requestAnimationFrame;function He(e){"function"==typeof e.u&&e.u()}function Ve(e){e.u=e.__()}function Ge(e,t){return!e||t.some((function(t,n){return t!==e[n]}))}function Ke(e,t){return"function"==typeof t?t(e):t}function ze(e,t){for(var n in t)e[n]=t[n];return e}function We(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}var Ye=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).isPureReactComponent=!0,n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.shouldComponentUpdate=function(e,t){return We(this.props,e)||We(this.state,t)},r}(X),Ze=A.__b;A.__b=function(e){e.type&&e.type.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),Ze&&Ze(e)};var qe="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Xe(e){function t(t,n){var r=ze({},t);return delete r.ref,e(r,(n=t.ref||n)&&("object"!=typeof n||"current"in n)?n:null)}return t.$$typeof=qe,t.render=t,t.prototype.isReactComponent=t.t=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var Qe=function(e,t){return e?ne(e).reduce((function(e,n,r){return e.concat(t(n,r))}),[]):null},Je={map:Qe,forEach:Qe,count:function(e){return e?ne(e).length:0},only:function(e){if(1!==(e=ne(e)).length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:ne},$e=A.__e;function et(e){return e&&((e=ze({},e)).__c=null,e.__k=e.__k&&e.__k.map(et)),e}function tt(){this.__u=0,this.o=null,this.__b=null}function nt(e){var t=e.__.__c;return t&&t.u&&t.u(e)}function rt(){this.i=null,this.l=null}A.__e=function(e,t,n){if(e.then)for(var r,i=t;i=i.__;)if((r=i.__c)&&r.__c)return r.__c(e,t.__c);$e(e,t,n)},(tt.prototype=new X).__c=function(e,t){var n=this;null==n.o&&(n.o=[]),n.o.push(t);var r=nt(n.__v),i=!1,a=function(){i||(i=!0,r?r(o):o())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){a(),t.__c&&t.__c()};var o=function(){var e;if(! --n.__u)for(n.__v.__k[0]=n.state.u,n.setState({u:n.__b=null});e=n.o.pop();)e.forceUpdate()};n.__u++||n.setState({u:n.__b=n.__v.__k[0]}),e.then(a,a)},tt.prototype.render=function(e,t){return this.__b&&(this.__v.__k&&(this.__v.__k[0]=et(this.__b)),this.__b=null),[W(q,null,t.u?null:e.children),t.u&&e.fallback]};var it=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};(rt.prototype=new X).u=function(e){var t=this,n=nt(t.__v),r=t.l.get(e);return r[0]++,function(i){var a=function(){t.props.revealOrder?(r.push(i),it(t,e,r)):i()};n?n(a):a()}},rt.prototype.render=function(e){this.i=null,this.l=new Map;var t=ne(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},rt.prototype.componentDidUpdate=rt.prototype.componentDidMount=function(){var e=this;e.l.forEach((function(t,n){it(e,n,t)}))};var at=function(){function e(){}var t=e.prototype;return t.getChildContext=function(){return this.props.context},t.render=function(e){return e.children},e}();function ot(e){var t=this,n=e.container,r=W(at,{context:t.context},e.vnode);return t.s&&t.s!==n&&(t.v.parentNode&&t.s.removeChild(t.v),pe(t.h),t.p=!1),e.vnode?t.p?(n.__k=t.__k,he(r,n),t.__k=n.__k):(t.v=document.createTextNode(""),ye("",n),n.appendChild(t.v),t.p=!0,t.s=n,he(r,n,t.v),t.__k=t.v.__k):t.p&&(t.v.parentNode&&t.s.removeChild(t.v),pe(t.h)),t.h=r,t.componentWillUnmount=function(){t.v.parentNode&&t.s.removeChild(t.v),pe(t.h)},null}function st(e,t){return W(ot,{vnode:e,container:t})}var lt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;X.prototype.isReactComponent={};var ut="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,ct=A.event;function dt(e,t){e["UNSAFE_"+t]&&!e[t]&&Object.defineProperty(e,t,{configurable:!1,get:function(){return this["UNSAFE_"+t]},set:function(e){this["UNSAFE_"+t]=e}})}A.event=function(e){ct&&(e=ct(e)),e.persist=function(){};var t=!1,n=!1,r=e.stopPropagation;e.stopPropagation=function(){r.call(e),t=!0};var i=e.preventDefault;return e.preventDefault=function(){i.call(e),n=!0},e.isPropagationStopped=function(){return t},e.isDefaultPrevented=function(){return n},e.nativeEvent=e};var pt={configurable:!0,get:function(){return this.class}},ft=A.vnode;function ht(e){return!!e&&e.$$typeof===ut}A.vnode=function(e){e.$$typeof=ut;var t=e.type,n=e.props;if(t){if(n.class!=n.className&&(pt.enumerable="className"in n,null!=n.className&&(n.class=n.className),Object.defineProperty(n,"className",pt)),"function"!=typeof t){var r,i,a;for(a in n.defaultValue&&void 0!==n.value&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),Array.isArray(n.value)&&n.multiple&&"select"===t&&(ne(n.children).forEach((function(e){-1!=n.value.indexOf(e.props.value)&&(e.props.selected=!0)})),delete n.value),n)if(r=lt.test(a))break;if(r)for(a in i=e.props={},n)i[lt.test(a)?a.replace(/[A-Z0-9]/,"-$&").toLowerCase():a]=n[a]}!function(t){var n=e.type,r=e.props;if(r&&"string"==typeof n){var i={};for(var a in r)/^on(Ani|Tra|Tou)/.test(a)&&(r[a.toLowerCase()]=r[a],delete r[a]),i[a.toLowerCase()]=a;if(i.ondoubleclick&&(r.ondblclick=r[i.ondoubleclick],delete r[i.ondoubleclick]),i.onbeforeinput&&(r.onbeforeinput=r[i.onbeforeinput],delete r[i.onbeforeinput]),i.onchange&&("textarea"===n||"input"===n.toLowerCase()&&!/^fil|che|ra/i.test(r.type))){var o=i.oninput||"oninput";r[o]||(r[o]=r[i.onchange],delete r[i.onchange])}}}(),"function"==typeof t&&!t.m&&t.prototype&&(dt(t.prototype,"componentWillMount"),dt(t.prototype,"componentWillReceiveProps"),dt(t.prototype,"componentWillUpdate"),t.m=!0)}ft&&ft(e)};var yt=function(e,t){return e(t)},gt={useState:xe,useReducer:Pe,useEffect:Re,useLayoutEffect:Ie,useRef:De,useImperativeHandle:Oe,useMemo:Le,useCallback:Me,useContext:Ne,useDebugValue:Ue,version:"16.8.0",Children:Je,render:function(e,t,n){if(null==t.__k)for(;t.firstChild;)t.removeChild(t.firstChild);return he(e,t),"function"==typeof n&&n(),e?e.__c:null},hydrate:function(e,t,n){return ye(e,t),"function"==typeof n&&n(),e?e.__c:null},unmountComponentAtNode:function(e){return!!e.__k&&(he(null,e),!0)},createPortal:st,createElement:W,createContext:ve,createFactory:function(e){return W.bind(null,e)},cloneElement:function(e){return ht(e)?ge.apply(null,arguments):e},createRef:Z,Fragment:q,isValidElement:ht,findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:X,PureComponent:Ye,memo:function(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:We(this.props,e)}function r(t){return this.shouldComponentUpdate=n,W(e,t)}return r.prototype.isReactComponent=!0,r.displayName="Memo("+(e.displayName||e.name)+")",r.t=!0,r},forwardRef:Xe,unstable_batchedUpdates:yt,StrictMode:q,Suspense:tt,SuspenseList:rt,lazy:function(e){var t,n,r;function i(i){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){r=e})),r)throw r;if(!n)throw t;return W(n,i)}return i.displayName="Lazy",i.t=!0,i}},vt=(r(697),gt.createContext(null)),mt=function(e){e()},bt=function(){return mt},kt={notify:function(){}},Et=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=kt,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var e=bt(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=kt)},e}(),Tt=function(e){var t=e.store,n=e.context,r=e.children,i=Le((function(){var e=new Et(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),a=Le((function(){return t.getState()}),[t]);Re((function(){var e=i.subscription;return e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[i,a]);var o=n||vt;return gt.createElement(o.Provider,{value:i},r)};function _t(){return _t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_t.apply(this,arguments)}function At(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var St=r(679),wt=r.n(St),Ct=r(864),xt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?Ie:Re,Pt=[],Rt=[null,null];function It(e,t){var n=e[1];return[t.payload,n+1]}function Dt(e,t,n){xt((function(){return e.apply(void 0,t)}),n)}function Ot(e,t,n,r,i,a,o){e.current=r,t.current=i,n.current=!1,a.current&&(a.current=null,o())}function Lt(e,t,n,r,i,a,o,s,l,u){if(e){var c=!1,d=null,p=function(){if(!c){var e,n,p=t.getState();try{e=r(p,i.current)}catch(e){n=e,d=e}n||(d=null),e===a.current?o.current||l():(a.current=e,s.current=e,o.current=!0,u({type:"STORE_UPDATED",payload:{error:n}}))}};return n.onStateChange=p,n.trySubscribe(),p(),function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var Mt=function(){return[null,0]};function Nt(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,i=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,a=n.methodName,o=void 0===a?"connectAdvanced":a,s=n.renderCountProp,l=void 0===s?void 0:s,u=n.shouldHandleStateChanges,c=void 0===u||u,d=n.storeKey,p=void 0===d?"store":d,f=(n.withRef,n.forwardRef),h=void 0!==f&&f,y=n.context,g=void 0===y?vt:y,v=At(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),m=g;return function(t){var n=t.displayName||t.name||"Component",r=i(n),a=_t({},v,{getDisplayName:i,methodName:o,renderCountProp:l,shouldHandleStateChanges:c,storeKey:p,displayName:r,wrappedComponentName:n,WrappedComponent:t}),s=v.pure,u=s?Le:function(e){return e()};function d(n){var r=Le((function(){var e=n.reactReduxForwardedRef,t=At(n,["reactReduxForwardedRef"]);return[n.context,e,t]}),[n]),i=r[0],o=r[1],s=r[2],l=Le((function(){return i&&i.Consumer&&(0,Ct.isContextConsumer)(gt.createElement(i.Consumer,null))?i:m}),[i,m]),d=Ne(l),p=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(d)&&Boolean(d.store);var f=p?n.store:d.store,h=Le((function(){return function(t){return e(t.dispatch,a)}(f)}),[f]),y=Le((function(){if(!c)return Rt;var e=new Et(f,p?null:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[f,p,d]),g=y[0],v=y[1],b=Le((function(){return p?d:_t({},d,{subscription:g})}),[p,d,g]),k=Pe(It,Pt,Mt),E=k[0][0],T=k[1];if(E&&E.error)throw E.error;var _=De(),A=De(s),S=De(),w=De(!1),C=u((function(){return S.current&&s===A.current?S.current:h(f.getState(),s)}),[f,E,s]);Dt(Ot,[A,_,w,s,C,S,v]),Dt(Lt,[c,f,g,h,A,_,w,S,v,T],[f,g,h]);var x=Le((function(){return gt.createElement(t,_t({},C,{ref:o}))}),[o,t,C]);return Le((function(){return c?gt.createElement(l.Provider,{value:b},x):x}),[l,x,b])}var f=s?gt.memo(d):d;if(f.WrappedComponent=t,f.displayName=r,h){var y=gt.forwardRef((function(e,t){return gt.createElement(f,_t({},e,{reactReduxForwardedRef:t}))}));return y.displayName=r,y.WrappedComponent=t,wt()(y,t)}return wt()(f,t)}}function Ut(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Bt(e,t){if(Ut(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Ut(e[n[i]],t[n[i]]))return!1;return!0}var Ft=r(121),jt=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ht={INIT:"@@redux/INIT"+jt(),REPLACE:"@@redux/REPLACE"+jt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+jt()}};function Vt(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(Vt)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var i=e,a=t,o=[],s=o,l=!1;function u(){s===o&&(s=o.slice())}function c(){if(l)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return a}function d(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(l)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return u(),s.push(e),function(){if(t){if(l)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,u();var n=s.indexOf(e);s.splice(n,1),o=null}}}function p(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(l)throw new Error("Reducers may not dispatch actions.");try{l=!0,a=i(a,e)}finally{l=!1}for(var t=o=s,n=0;n<t.length;n++)(0,t[n])();return e}return p({type:Ht.INIT}),(r={dispatch:p,subscribe:d,getState:c,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");i=e,p({type:Ht.REPLACE})}})[Ft.Z]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[Ft.Z]=function(){return this},e},r}function Gt(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function Kt(e,t){return function(){return t(e.apply(this,arguments))}}function zt(e,t){if("function"==typeof e)return Kt(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var i=e[r];"function"==typeof i&&(n[r]=Kt(i,t))}return n}function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yt(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function Zt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function qt(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function Xt(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Qt(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Xt(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=Xt(i),i=r(t,n)),i},r}}var Jt=[function(e){return"function"==typeof e?Qt(e):void 0},function(e){return e?void 0:qt((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?qt((function(t){return zt(e,t)})):void 0}],$t=[function(e){return"function"==typeof e?Qt(e):void 0},function(e){return e?void 0:qt((function(){return{}}))}];function en(e,t,n){return _t({},n,{},e,{},t)}var tn=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,a=n.areMergedPropsEqual,o=!1;return function(t,n,s){var l=e(t,n,s);return o?i&&a(l,r)||(r=l):(o=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return en}}];function nn(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function rn(e,t,n,r,i){var a,o,s,l,u,c=i.areStatesEqual,d=i.areOwnPropsEqual,p=i.areStatePropsEqual,f=!1;return function(i,h){return f?function(i,f){var h,y,g=!d(f,o),v=!c(i,a);return a=i,o=f,g&&v?(s=e(a,o),t.dependsOnOwnProps&&(l=t(r,o)),u=n(s,l,o)):g?(e.dependsOnOwnProps&&(s=e(a,o)),t.dependsOnOwnProps&&(l=t(r,o)),u=n(s,l,o)):v?(h=e(a,o),y=!p(h,s),s=h,y&&(u=n(s,l,o)),u):u}(i,h):(s=e(a=i,o=h),l=t(r,o),u=n(s,l,o),f=!0,u)}}function an(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=At(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(e,a),s=r(e,a),l=i(e,a);return(a.pure?rn:nn)(o,s,l,e,a)}function on(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function sn(e,t){return e===t}function ln(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Nt:n,i=t.mapStateToPropsFactories,a=void 0===i?$t:i,o=t.mapDispatchToPropsFactories,s=void 0===o?Jt:o,l=t.mergePropsFactories,u=void 0===l?tn:l,c=t.selectorFactory,d=void 0===c?an:c;return function(e,t,n,i){void 0===i&&(i={});var o=i,l=o.pure,c=void 0===l||l,p=o.areStatesEqual,f=void 0===p?sn:p,h=o.areOwnPropsEqual,y=void 0===h?Bt:h,g=o.areStatePropsEqual,v=void 0===g?Bt:g,m=o.areMergedPropsEqual,b=void 0===m?Bt:m,k=At(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),E=on(e,a,"mapStateToProps"),T=on(t,s,"mapDispatchToProps"),_=on(n,u,"mergeProps");return r(d,_t({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:E,initMapDispatchToProps:T,initMergeProps:_,pure:c,areStatesEqual:f,areOwnPropsEqual:y,areStatePropsEqual:v,areMergedPropsEqual:b},k))}}var un=ln();function cn(){return Ne(vt)}function dn(e){void 0===e&&(e=vt);var t=e===vt?cn:function(){return Ne(e)};return function(){return t().store}}var pn=dn();function fn(e){void 0===e&&(e=vt);var t=e===vt?pn:dn(e);return function(){return t().dispatch}}var hn=fn(),yn=function(e,t){return e===t};function gn(e){void 0===e&&(e=vt);var t=e===vt?cn:function(){return Ne(e)};return function(e,n){void 0===n&&(n=yn);var r=t(),i=function(e,t,n,r){var i,a=Pe((function(e){return e+1}),0),o=a[1],s=Le((function(){return new Et(n,r)}),[n,r]),l=De(),u=De(),c=De(),d=De(),p=n.getState();try{i=e!==u.current||p!==c.current||l.current?e(p):d.current}catch(e){throw l.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+l.current.stack+"\n\n"),e}return xt((function(){u.current=e,c.current=p,d.current=i,l.current=void 0})),xt((function(){function e(){try{var e=u.current(n.getState());if(t(e,d.current))return;d.current=e}catch(e){l.current=e}o()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[n,s]),i}(e,n,r.store,r.subscription);return Ue(i),i}}var vn=gn();mt=yt;var mn=r(905),bn=r.n(mn);function kn(e){return null!=e}function En(e,t){for(var n in t)e[n]=t[n];return e}function Tn(e,t){var n=En({},e);for(var r in t)t.hasOwnProperty(r)&&(e[r]&&t[r]&&"object"==typeof e[r]&&"object"==typeof t[r]?n[r]=Tn(e[r],t[r]):n[r]=e[r]||t[r]);return n}var _n=/[?&#]intl=show/,An=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getChildContext=function(){var e=this.props,t=e.scope,n=e.definition,r=e.mark,i=En({},this.context.intl||{});return t&&(i.scope=t),n&&(i.dictionary=Tn(i.dictionary||{},n)),(r||"undefined"!=typeof location&&String(location).match(_n))&&(i.mark=!0),{intl:i}},t.prototype.render=function(e){return e.children},t}(X);function Sn(e,t){if(arguments.length<2)return t=e,function(e){return Sn(e,t)};function n(n){return W(An,t||{},W(e,n))}return n.getWrappedComponent=e&&e.getWrappedComponent||function(){return e},n}var wn,Cn={};function xn(e,t){return wn=t||Cn,e&&e.replace(/\{\{([\w.-]+)\}\}/g,Pn)}function Pn(e,t){for(var n=t.split("."),r=wn,i=0;i<n.length;i++)if(null==(r=r[n[i]]))return"";return"string"==typeof r&&r.match(/\{\{/)&&(r=xn(r,wn)),r}function Rn(e,t,n,r,i,a){t&&(e=t+"."+e);var o=n&&bn()(n,e);return(i||0===i)&&o&&"object"==typeof o&&(o=o.splice?o[i]||o[0]:0===i&&kn(o.none)?o.none:1===i&&kn(o.one||o.singular)?o.one||o.singular:o.some||o.many||o.plural||o.other||o),o&&xn(o,r)||a||null}function In(e,t){var n=e.value,r=e.id,i=t.intl;if(i&&i.mark){var a="dictionary"+(i&&i.scope?"."+i.scope:"")+"."+r;return W("mark",{style:{background:n?bn()(i,a)?"rgba(119,231,117,.5)":"rgba(229,226,41,.5)":"rgba(228,147,51,.5)"},title:r},n)}return n}function Dn(e,t){var n=e.id,r=e.children,i=e.plural,a=e.fields,o=t.intl;return W(In,{id:n,value:Rn(n,o&&o.scope,o&&o.dictionary,a,i,r)})}function On(e,t,n){var r={};for(var i in t=t||{},e=function(e){if("string"==typeof(e=e||{})&&(e=e.split(",")),"join"in e){for(var t={},n=0;n<e.length;n++){var r=e[n].trim();r&&(t[r.split(".").pop()]=r)}return t}return e}(e),e)if(e.hasOwnProperty(i)&&e[i]){var a=e[i];n||"string"!=typeof a?a.type===Dn&&(a=En({fallback:a.props.children},a.props),r[i]=Rn(a.id,t.scope,t.dictionary,a.fields,a.plural,a.fallback)):r[i]=Rn(a,t.scope,t.dictionary)}return r}function Ln(e,t){var n=e.children,r=t.intl;return n&&n.length?n.map((function(e){return ge(e,On(e.props,r,!0))})):n&&ge(n,On(n.props,r,!0))}function Mn(e){return W(Ln,null,W(Nn,{html:W(Dn,e),id:e.id}))}function Nn(e){var t=e.html,n=e.id,r=t?"string"==typeof t?W("span",{dangerouslySetInnerHTML:{__html:t}}):W("span",null,t):t;return W(In,{id:n,value:r})}function Un(e){return function(t){function n(n,r){var i=On("function"==typeof e?e(n,r):e,r.intl);return W(t,En(En({},n),i))}return n.getWrappedComponent=t&&t.getWrappedComponent||function(){return t},n}}Sn.intl=Sn,Sn.IntlProvider=An,Sn.Text=Dn,Sn.MarkupText=Mn,Sn.Localizer=Ln,Sn.withText=Un;var Bn=Sn,Fn=r(8),jn=r.n(Fn);function Hn(e){var t;return Array.isArray(e)?(t=e.length>0?e.slice(0):[]).forEach((function(e,n){("object"===jn()(e)||Array.isArray(e)&&e.length>0)&&(t[n]=Hn(e))})):"object"===jn()(e)?(t=Object.assign({},e),Object.keys(t).forEach((function(e){("object"===jn()(t[e])||Array.isArray(t[e])&&t[e].length>0)&&(t[e]=Hn(t[e]))}))):t=e,t}function Vn(e){return e&&"object"===jn()(e)&&!Array.isArray(e)}function Gn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;var i=n.shift();if(Vn(e)&&Vn(i))for(var a in i)Vn(i[a])?(e[a]||Object.assign(e,j()({},a,{})),Gn(e[a],i[a])):Object.assign(e,j()({},a,i[a]));return Gn.apply(void 0,[e].concat(n))}var Kn={get:function(e){return{VERSION:"",DEBUG:{value:"",name:""},ERROR:{value:"",name:""},INFO:{value:"",name:""},OFF:{value:"",name:""},TIME:{value:"",name:""},TRACE:{value:"",name:""},WARN:{value:"",name:""},createDefaultHandler:function(){},debug:function(){},enabledFor:function(){},error:function(){},get:function(){},getLevel:function(){},info:function(){},log:function(){},setHandler:function(){},setLevel:function(){},time:function(){},timeEnd:function(){},trace:function(){},useDefaults:function(){},warn:function(){}}}},zn={};function Wn(e){return Kn.get(e)}var Yn=Wn,Zn=r(154),qn=r.n(Zn),Xn=r(506),Qn=r.n(Xn),Jn=r(205),$n=r.n(Jn),er=r(585),tr=r.n(er),nr=r(754),rr=r.n(nr),ir=r(230),ar=function(e){return function(t){$n()(a,t);var n,r,i=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rr()(n);if(r){var i=rr()(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return tr()(this,e)});function a(){var e;N()(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=i.call.apply(i,[this].concat(n)),j()(Qn()(e),"eventManager",new ir.EventManager),e}return B()(a,[{key:"componentWillUnmount",value:function(){this.eventManager&&(this.eventManager.destroy(),this.eventManager=null)}},{key:"render",value:function(){return W(e,qn()({},this.props,{eventManager:this.eventManager}))}}]),a}(X)},or="playkit-ui",sr={UI_CLICKED:"".concat(or,"-uiclicked"),UI_VISIBILITY_CHANGED:"".concat(or,"-uivisibilitychanged"),GUI_RESIZE:"".concat(or,"-guiresize"),PLAYER_RESIZE:"".concat(or,"-playerresize"),VIDEO_RESIZE:"".concat(or,"-videoresize"),UI_PRESET_CHANGE:"".concat(or,"-uipresetchange"),USER_CLICKED_PLAY:"".concat(or,"-userclickedplay"),USER_CLICKED_PAUSE:"".concat(or,"-userclickedpause"),USER_CLICKED_REWIND:"".concat(or,"-userclickedrewind"),USER_CLICKED_FORWARD:"".concat(or,"-userclickedforward"),USER_CLICKED_LIVE_TAG:"".concat(or,"-userclickedlivetag"),USER_CLICKED_LOGO:"".concat(or,"-userclickedlogo"),USER_CLICKED_MUTE:"".concat(or,"-userclickedmute"),USER_CLICKED_UNMUTE:"".concat(or,"-userclickedunmute"),USER_CLICKED_ADVANCED_AUDIO_DESCRIPTION:"".concat(or,"-userclickedadvancedaudiodescription"),USER_CHANGED_VOLUME:"".concat(or,"-userchangedvolume"),USER_SELECTED_CAPTION_TRACK:"".concat(or,"-userselectedcaptiontrack"),USER_SHOWED_CAPTIONS:"".concat(or,"-usershowedcaptions"),USER_HID_CAPTIONS:"".concat(or,"-userhidcaptions"),USER_SELECTED_AUDIO_TRACK:"".concat(or,"-userselectedaudiotrack"),USER_SELECTED_QUALITY_TRACK:"".concat(or,"-userselectedqualitytrack"),USER_ENTERED_FULL_SCREEN:"".concat(or,"-userenteredfullscreen"),USER_EXITED_FULL_SCREEN:"".concat(or,"-userexitedfullscreen"),USER_ENTERED_PICTURE_IN_PICTURE:"".concat(or,"-userenteredpictureinpicture"),USER_EXITED_PICTURE_IN_PICTURE:"".concat(or,"-userexitedpictureinpicture"),USER_SELECTED_CAPTIONS_STYLE:"".concat(or,"-userselectedcaptionsstyle"),USER_SELECTED_SPEED:"".concat(or,"-userselectedspeed"),USER_SEEKED:"".concat(or,"-userseeked"),RESIZE:"".concat(or,"-resize"),USER_SELECTED_CAPTIONS_SIZE:"".concat(or,"-userselectedcaptionssize"),USER_SELECTED_CAPTIONS_ALIGNMENT:"".concat(or,"-userselectedcaptionsalignment"),USER_SELECTED_CAPTIONS_FONT_COLOR:"".concat(or,"-userselectedcaptionsfontcolor"),USER_SELECTED_CAPTIONS_FONT_FAMILY:"".concat(or,"-userselectedcaptionsfontfamily"),USER_SELECTED_CAPTIONS_FONT_STYLE:"".concat(or,"-userselectedcaptionsfontstyle"),USER_SELECTED_CAPTIONS_FONT_OPACITY:"".concat(or,"-userselectedcaptionsfontopacity"),USER_SELECTED_CAPTIONS_BACKGROUND_COLOR:"".concat(or,"-userselectedcaptionsbackgroundcolor"),USER_SELECTED_CAPTIONS_BACKGROUND_OPACITY:"".concat(or,"-userselectedcaptionsbackgroundopacity"),BOTTOM_BAR_CLIENT_RECT_CHANGED:"".concat(or,"-bottombarclientrectchanged"),PLAYER_HOVERED:"".concat(or,"-playerhovered"),USER_COPIED_DEBUG_INFO:"".concat(or,"-usercopieddebuginfo")},lr={TAB:9,ENTER:13,ESC:27,SPACE:32,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,P:80,C:67,F:70,M:77,SEMI_COLON:186,COMMA:188,PERIOD:190},ur={Backspace:"Backspace",Tab:"Tab",Enter:"Enter",ShiftLeft:"ShiftLeft",ShiftRight:"ShiftRight",ControlLeft:"ControlLeft",ControlRight:"ControlRight",AltLeft:"AltLeft",AltRight:"AltRight",Pause:"Pause",CapsLock:"CapsLock",Escape:"Escape",Space:"Space",PageUp:"PageUp",PageDown:"PageDown",End:"End",Home:"Home",ArrowLeft:"ArrowLeft",ArrowUp:"ArrowUp",ArrowRight:"ArrowRight",ArrowDown:"ArrowDown",Insert:"Insert",Delete:"Delete",KeyP:"KeyP",KeyC:"KeyC",KeyF:"KeyF",KeyM:"KeyM",KeyR:"KeyR",KeyD:"KeyD",Numpad0:"Numpad0",Semicolon:"Semicolon",Equal:"Equal",Comma:"Comma",Minus:"Minus",Period:"Period",Slash:"Slash"};function cr(e){return pr(e.code,ur.Enter)}function dr(e){return pr(e.code,ur.Space)}function pr(e,t){return e===t}var fr,hr,yr=function(e){return function(t){return function(n){$n()(o,n);var r,i,a=(r=o,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rr()(r);if(i){var n=rr()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return tr()(this,e)});function o(t){var n;return N()(this,o),n=a.call(this),j()(Qn()(n),"logger",void 0),n.logger=Yn("UI ".concat(e)),n.logger.debug("Initialized"),n}return B()(o,[{key:"render",value:function(){return W(t,qn()({},this.props,{logger:this.logger}))}}]),o}(X)}},gr="remove";function vr(e,t){return e[t]=e[t]||{before:[],after:[],replace:null},e[t]}var mr,br,kr,Er={playerAreaComponents:null,hasPositionedComponents:!1,presetComponentsOnlyMode:!0},Tr=yr("PlayerArea")(fr=un((function(e){return{activePresetName:e.shell.activePresetName}}))((hr=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"_unregisterListenerCallback",void 0),j()(Qn()(e),"_actualChildren",void 0),j()(Qn()(e),"_updateAreaComponents",(function(t){var n=e.props,r=n.activePresetName,i=n.name;e.props.logger.debug("Player area '".concat(i,"' in preset '").concat(r,"' - update children components"));var a={},o={appendedComponents:[],positionedComponentMap:a},s=!1;t.forEach((function(e){e.beforeComponent?(vr(a,e.beforeComponent).before.push(e),s=!0):e.afterComponent?(vr(a,e.afterComponent).after.push(e),s=!0):e.replaceComponent?(vr(a,e.replaceComponent).replace=e,s=!0):o.appendedComponents.push(e)})),e.setState({playerAreaComponents:o,hasPositionedComponents:s,presetComponentsOnlyMode:!1})})),e}return B()(i,[{key:"shouldComponentUpdate",value:function(e,t){return e.shouldUpdate||this.state.playerAreaComponents!==t.playerAreaComponents||e.activePresetName!==this.props.activePresetName}},{key:"componentDidUpdate",value:function(e){e.activePresetName!==this.props.activePresetName&&this._registerListener()}},{key:"_unregisterListener",value:function(){this.props.logger.debug("Player area '".concat(this.props.name,"' - unregister to changes")),"function"==typeof this._unregisterListenerCallback&&(this._unregisterListenerCallback(),this._unregisterListenerCallback=null)}},{key:"_registerListener",value:function(){var e=this.props,t=e.activePresetName,n=e.name;this._unregisterListener(),t&&n&&(this.props.logger.debug("Player area '".concat(n,"' in preset '").concat(t,"' - register to changes")),this._unregisterListenerCallback=this.context.playerAreaComponentsStore.listen(t,n,this._updateAreaComponents))}},{key:"componentDidMount",value:function(){this.props.logger.debug("Player area '".concat(this.props.name,"' - handle did mount")),this.setState(Er),this._registerListener(),this._actualChildren=[]}},{key:"componentWillUpdate",value:function(e){var t=e.children;this._actualChildren=t&&t.type===q?t.props.children:t}},{key:"componentWillUnmount",value:function(){var e=this.props.name;this.props.logger.debug("Player area '".concat(e,"' - handle will unmount")),this._unregisterListener()}},{key:"_renderUIComponent",value:function(e){return e.get?W(e.get,e.props):null}},{key:"renderContent",value:function(e){return W(q,null,e)}},{key:"_getPositionedComponents",value:function(e){var t=this,n=this.state.playerAreaComponents,r=[];return ne(e).forEach((function(e){if("div"===e.type||e.type===q)return e.props.children=t._getPositionedComponents(e.props.children),void r.push(e);var i=function(e){return e&&e.type?e.type.displayName:null}(e);if(i){var a=n.positionedComponentMap[i];if(a){var o=a.replace,s=a.before,l=a.after;if(o){if(o.get===gr)return;return"string"!=typeof o.get&&(o.props=o.props||{},o.props.replacedComponentProps=e.props),void r.push(t._renderUIComponent(o))}s.length&&s.forEach((function(e){r.push(t._renderUIComponent(e))})),r.push(e),l.length&&l.forEach((function(e){r.push(t._renderUIComponent(e))}))}else r.push(e)}else r.push(e)})),r}},{key:"render",value:function(){var e,t=this,n=this.props.show,r=this.state,i=r.playerAreaComponents,a=r.hasPositionedComponents;if(r.presetComponentsOnlyMode)return this.renderContent(this._actualChildren);if(!i||!n)return null;var o,s=[];a?s=this._getPositionedComponents(this._actualChildren):(o=s).push.apply(o,L()(ne(this._actualChildren)));var l=i.appendedComponents.map((function(e){return t._renderUIComponent(e)})),u=s.length;return(e=s).splice.apply(e,[u,0].concat(L()(l))),this.renderContent(s)}}]),i}(X),j()(hr,"defaultProps",{show:!0}),fr=hr))||fr)||fr,_r=function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(e[n[i]]!==t[n[i]])return!1;return!0};function Ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ar(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ar(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wr={ADD_PLAYER_CLASS:"shell/ADD_PLAYER_CLASS",REMOVE_PLAYER_CLASS:"shell/REMOVE_PLAYER_CLASS",UPDATE_IS_MOBILE:"shell/UPDATE_IS_MOBILE",UPDATE_PLAYER_SIZE:"shell/UPDATE_PLAYER_SIZE",UPDATE_IS_SMALL_SIZE:"shell/UPDATE_IS_SMALL_SIZE",UPDATE_GUI_CLIENT_RECT:"shell/UPDATE_GUI_CLIENT_RECT",UPDATE_TOP_BAR_CLIENT_RECT:"shell/UPDATE_TOP_BAR_CLIENT_RECT",UPDATE_PLAYER_CLIENT_RECT:"shell/UPDATE_PLAYER_CLIENT_RECT",UPDATE_VIDEO_CLIENT_RECT:"shell/UPDATE_VIDEO_CLIENT_RECT",UPDATE_DOCUMENT_WIDTH:"shell/UPDATE_DOCUMENT_WIDTH",UPDATE_PLAYER_HOVER_STATE:"shell/UPDATE_PLAYER_HOVER_STATE",UPDATE_PLAYER_NAV_STATE:"shell/UPDATE_PLAYER_NAV_STATE",UPDATE_SMART_CONTAINER_OPEN:"shell/UPDATE_SMART_CONTAINER_OPEN",UPDATE_ACTIVE_PRESET_NAME:"shell/UPDATE_ACTIVE_PRESET_NAME",UPDATE_SIDE_PANEL_MODE:"shell/UPDATE_SIDE_PANEL_MODE",UPDATE_SIDE_PANEL_SIZE:"shell/UPDATE_SIDE_PANEL_SIZE",UPDATE_PRESET_SETTINGS:"shell/UPDATE_PRESET_SETTINGS",UPDATE_LAYOUT_STYLES:"shell/UPDATE_LAYOUT_STYLES"},Cr={VERTICAL:"vertical",HORIZONTAL:"horizontal"},xr={LEFT:"left",TOP:"top",BOTTOM:"bottom",RIGHT:"right"},Pr={ALONGSIDE:"alongside",HIDDEN:"hidden",OVER:"over"},Rr={Playback:"Playback",Live:"Live",Ads:"Ads",Error:"Error",Idle:"Idle",Img:"Img",Document:"Document",MiniAudioUI:"MiniAudioUI"},Ir={PlayerArea:"PlayerArea",PresetArea:"PresetArea",InteractiveArea:"InteractiveArea",VideoArea:"VideoArea",GuiArea:"GuiArea",TopBar:"TopBar",BottomBar:"BottomBar",PresetFloating:"PresetFloating",TopBarLeftControls:"TopBarLeftControls",TopBarRightControls:"TopBarRightControls",BottomBarLeftControls:"BottomBarLeftControls",BottomBarRightControls:"BottomBarRightControls",SidePanelTop:"SidePanelTop",SidePanelLeft:"SidePanelLeft",SidePanelRight:"SidePanelRight",SidePanelBottom:"SidePanelBottom",SeekBar:"SeekBar",LoadingSpinner:"LoadingSpinner"},Dr={x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0},Or={position:"absolute",left:0,right:0,top:0,bottom:0},Lr={playerClasses:[],guiClientRect:Dr,topBarClientRect:Dr,playerClientRect:Dr,videoClientRect:Dr,layoutStyles:{video:Or,gui:Or,sidePanels:(mr={},j()(mr,xr.LEFT,{}),j()(mr,xr.RIGHT,{}),j()(mr,xr.TOP,{}),j()(mr,xr.BOTTOM,{}),mr)},playerHover:!1,playerNav:!1,smartContainerOpen:!1,activePresetName:"",sidePanelsModes:(br={},j()(br,xr.LEFT,Pr.HIDDEN),j()(br,xr.RIGHT,Pr.HIDDEN),j()(br,xr.TOP,Pr.HIDDEN),j()(br,xr.BOTTOM,Pr.HIDDEN),br),sidePanelsSizes:(kr={},j()(kr,Cr.VERTICAL,{min:240,max:480,ratio:.33}),j()(kr,Cr.HORIZONTAL,{min:144,max:288,ratio:.33}),kr),presetSettings:{allowSidePanels:!1,allowPlayerArea:!1}},Mr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wr.ADD_PLAYER_CLASS:return e.playerClasses.includes(t.className)?e:Sr(Sr({},e),{},{playerClasses:[].concat(L()(e.playerClasses),[t.className])});case wr.REMOVE_PLAYER_CLASS:return Sr(Sr({},e),{},{playerClasses:e.playerClasses.filter((function(e){return e!==t.className}))});case wr.UPDATE_IS_MOBILE:return Sr(Sr({},e),{},{isMobile:t.isMobile});case wr.UPDATE_PLAYER_SIZE:return Sr(Sr({},e),{},{playerSize:t.playerSize});case wr.UPDATE_IS_SMALL_SIZE:return Sr(Sr({},e),{},{isSmallSize:t.isSmallSize});case wr.UPDATE_GUI_CLIENT_RECT:return Sr(Sr({},e),{},{guiClientRect:t.guiClientRect});case wr.UPDATE_TOP_BAR_CLIENT_RECT:return Sr(Sr({},e),{},{topBarClientRect:t.topBarClientRect});case wr.UPDATE_PLAYER_CLIENT_RECT:return Sr(Sr({},e),{},{playerClientRect:t.playerClientRect});case wr.UPDATE_LAYOUT_STYLES:var n,r=e.layoutStyles,i=r.sidePanels,a=r.video,o=r.gui,s=t.layoutStyles,l=s.sidePanels,u=s.video,c=s.gui;return Sr(Sr({},e),{},{layoutStyles:{sidePanels:(n={},j()(n,xr.LEFT,_r(i[xr.LEFT],l[xr.LEFT])?i[xr.LEFT]:l[xr.LEFT]),j()(n,xr.RIGHT,_r(i[xr.RIGHT],l[xr.RIGHT])?i[xr.RIGHT]:l[xr.RIGHT]),j()(n,xr.TOP,_r(i[xr.TOP],l[xr.TOP])?i[xr.TOP]:l[xr.TOP]),j()(n,xr.BOTTOM,_r(i[xr.BOTTOM],l[xr.BOTTOM])?i[xr.BOTTOM]:l[xr.BOTTOM]),n),video:_r(a,u)?a:u,gui:_r(o,c)?o:c}});case wr.UPDATE_VIDEO_CLIENT_RECT:return Sr(Sr({},e),{},{videoClientRect:t.videoClientRect});case wr.UPDATE_DOCUMENT_WIDTH:return Sr(Sr({},e),{},{documentWidth:t.documentWidth});case wr.UPDATE_PLAYER_HOVER_STATE:return Sr(Sr({},e),{},{playerHover:t.hover});case wr.UPDATE_PLAYER_NAV_STATE:return Sr(Sr({},e),{},{playerNav:t.nav});case wr.UPDATE_SMART_CONTAINER_OPEN:return Sr(Sr({},e),{},{smartContainerOpen:t.open});case wr.UPDATE_ACTIVE_PRESET_NAME:return Sr(Sr({},e),{},{activePresetName:t.activePresetName});case wr.UPDATE_SIDE_PANEL_MODE:return Sr(Sr({},e),{},{sidePanelsModes:Sr(Sr({},e.sidePanelsModes),{},j()({},t.position,t.sidePanelMode))});case wr.UPDATE_SIDE_PANEL_SIZE:var d=t.options,p=d.ratio,f=d.min,h=d.max,y=e.sidePanelsSizes[t.orientation],g={ratio:"number"==typeof p&&p<=1?p:y.ratio,min:"number"==typeof f?f:y.min,max:"number"==typeof h?h:y.max};return Sr(Sr({},e),{},{sidePanelsSizes:Sr(Sr({},e.sidePanelsSizes),{},j()({},t.orientation,g))});case wr.UPDATE_PRESET_SETTINGS:return Sr(Sr({},e),{},{presetSettings:Sr(Sr({},{allowSidePanels:!1,allowPlayerArea:!1}),t.presetSettings||{})});default:return e}},Nr={addPlayerClass:function(e){return{type:wr.ADD_PLAYER_CLASS,className:e}},removePlayerClass:function(e){return{type:wr.REMOVE_PLAYER_CLASS,className:e}},updateIsMobile:function(e){return{type:wr.UPDATE_IS_MOBILE,isMobile:e}},updatePlayerSize:function(e){return{type:wr.UPDATE_PLAYER_SIZE,playerSize:e}},updateIsSmallSize:function(e){return{type:wr.UPDATE_IS_SMALL_SIZE,isSmallSize:e}},updateGuiClientRect:function(e){return{type:wr.UPDATE_GUI_CLIENT_RECT,guiClientRect:e}},updateTopBarClientRect:function(e){return{type:wr.UPDATE_TOP_BAR_CLIENT_RECT,topBarClientRect:e}},updatePlayerClientRect:function(e){return{type:wr.UPDATE_PLAYER_CLIENT_RECT,playerClientRect:e}},updateVideoClientRect:function(e){return{type:wr.UPDATE_VIDEO_CLIENT_RECT,videoClientRect:e}},updateDocumentWidth:function(e){return{type:wr.UPDATE_DOCUMENT_WIDTH,documentWidth:e}},updatePlayerHoverState:function(e){return{type:wr.UPDATE_PLAYER_HOVER_STATE,hover:e}},updatePlayerNavState:function(e){return{type:wr.UPDATE_PLAYER_NAV_STATE,nav:e}},updateSmartContainerOpen:function(e){return{type:wr.UPDATE_SMART_CONTAINER_OPEN,open:e}},updateActivePresetName:function(e){return{type:wr.UPDATE_ACTIVE_PRESET_NAME,activePresetName:e}},updateSidePanelMode:function(e,t){return{type:wr.UPDATE_SIDE_PANEL_MODE,position:e,sidePanelMode:t}},updateSidePanelSize:function(e,t){return{type:wr.UPDATE_SIDE_PANEL_SIZE,orientation:e,options:t}},updatePresetSettings:function(e){return{type:wr.UPDATE_PRESET_SETTINGS,presetSettings:e}},updateLayoutStyles:function(e){return{type:wr.UPDATE_LAYOUT_STYLES,layoutStyles:e}}};function Ur(e){return function(t){return zt(e,t)}}function Br(e){var t=setInterval((function(){e&&"hidden"!==getComputedStyle(e).visibility&&(e.focus(),clearInterval(t))}),arguments.length>1&&void 0!==arguments[1]?arguments[1]:100)}var Fr=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"getChildContext",value:function(){return{player:this.props.player}}},{key:"render",value:function(){return this.props.children&&ne(this.props.children)[0]||null}}]),i}(X),jr=function(e){return function(t){$n()(a,t);var n,r,i=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rr()(n);if(r){var i=rr()(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return tr()(this,e)});function a(e){return N()(this,a),i.call(this)}return B()(a,[{key:"render",value:function(){var t=this.context.player;return W(e,qn()({},this.props,{player:t}))}}]),a}(X)},Hr=function(e){var t,n=jr(t=function(t){$n()(a,t);var n,r,i=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rr()(n);if(r){var i=rr()(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return tr()(this,e)});function a(){var e;N()(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=i.call.apply(i,[this].concat(n)),j()(Qn()(e),"_defaultFocusedElement",void 0),j()(Qn()(e),"_accessibleChildren",[]),j()(Qn()(e),"_previouslyActiveElement",void 0),j()(Qn()(e),"_isModal",!1),j()(Qn()(e),"_morePluginButton",null),j()(Qn()(e),"onKeyDown",(function(t){switch(t.keyCode){case lr.ESC:e.props.onClose&&(e.props.onClose(),t.stopPropagation());break;case lr.DOWN:case lr.UP:if(document.activeElement&&!e._isModal){var n=e._accessibleChildren.indexOf(document.activeElement);n=(n+(t.keyCode==lr.DOWN?1:-1)+e._accessibleChildren.length)%e._accessibleChildren.length,e._accessibleChildren[n].focus(),t.preventDefault(),t.stopPropagation()}break;case lr.TAB:e._isModal?t.shiftKey||document.activeElement!==e._accessibleChildren[e._accessibleChildren.length-1]?t.shiftKey&&document.activeElement===e._accessibleChildren[0]&&(e._accessibleChildren[e._accessibleChildren.length-1].focus(),t.preventDefault(),t.stopPropagation()):(e._accessibleChildren[0].focus(),t.preventDefault(),t.stopPropagation()):(e._previouslyActiveElement=null,e.props.onClose&&e.props.onClose())}})),j()(Qn()(e),"setDefaultFocusedElement",(function(t){t&&(e._defaultFocusedElement=t)})),j()(Qn()(e),"addAccessibleChild",(function(t,n){t&&-1==e._accessibleChildren.indexOf(t)&&(n?e._accessibleChildren.unshift(t):e._accessibleChildren.push(t))})),j()(Qn()(e),"clearAccessibleChildren",(function(){e._accessibleChildren=[]})),j()(Qn()(e),"focusOnDefault",(function(){var t=e._defaultFocusedElement||e._accessibleChildren.length&&e._accessibleChildren[0];t&&(e._previouslyActiveElement=document.activeElement,t.focus())})),j()(Qn()(e),"setIsModel",(function(t){e.isModal=t})),j()(Qn()(e),"setMoreButton",(function(t){e.morePluginButton=t})),e}return B()(a,[{key:"componentDidMount",value:function(){this.focusOnDefault()}},{key:"componentWillUnmount",value:function(){var e;this._previouslyActiveElement&&document.contains(this._previouslyActiveElement)&&!this.isOverlayOpen?Br(this._previouslyActiveElement):(null===(e=this._previouslyActiveElement)||void 0===e?void 0:e.classList.contains("playkit-dropdown-item_kw"))&&Br(this._morePluginButton)}},{key:"render",value:function(t){return W(e,qn()({},t,{setDefaultFocusedElement:this.setDefaultFocusedElement,focusOnDefault:this.focusOnDefault,addAccessibleChild:this.addAccessibleChild,clearAccessibleChildren:this.clearAccessibleChildren,handleKeyDown:this.onKeyDown,setIsModal:this.setIsModel,setMoreButton:this.setMoreButton}))}},{key:"isOverlayOpen",get:function(){return this.props.player.ui.store.getState().overlay.isOpen}},{key:"isModal",set:function(e){this._isModal=e}},{key:"morePluginButton",set:function(e){this._morePluginButton=e}}]),a}(X))||t;return n};function Vr(e){var t=parseInt(e,10),n=Math.floor(t/3600),r=Math.floor((t-3600*n)/60),i=t-3600*n-60*r,a=n,o=r,s=i;return n<10&&(a="0"+n),r<10&&(o="0"+r),i<10&&(s="0"+i),"".concat("00"!==a?a+":":"").concat(o,":").concat(s)}function Gr(e){for(var t=e.split(":"),n=0,r=1,i=t.length-1;i>=0;i--){var a=parseInt(t[i]);if(isNaN(a)||a>59){n=0;break}n+=a*r,r*=60}return n}function Kr(e){var t=parseInt(e);return t<10?"00:0"+e:t<=59?"00:"+e:Vr(t)}var zr,Wr=r(695),Yr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var r=Zr(t);if(r)try{return e?r(1e3*e,{round:n}):"0"}catch(t){return"".concat(e)}}catch(e){zr||(zr=Yn("DurationHumanizer")),zr.log(e)}},Zr=function(e){var t=["en"];e&&(e.match("_")&&t.unshift(e.split("_")[0]),t.unshift(e));for(var n=new Map(Wr.getSupportedLanguages().map((function(e){return[e.toLowerCase(),e]}))),r=0,i=t;r<i.length;r++){var a=i[r];try{if(n.has(a))return Wr.humanizer({language:n.get(a)})}catch(e){}}return null},qr=r(25),Xr=r.n(qr);function Qr(e,t,n){var r=n.config.components&&n.config.components[e];return r?Gn(t,r):t}function Jr(e,t,n){return n.componentAlias===e?Gn(t,n.config):t}function $r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ti={UPDATE:"config/UPDATE",UPDATE_COMPONENT:"config/UPDATE_COMPONENT",RESET:"config/RESET"},ni={targetId:void 0,forceTouchUI:!1,showCCButton:!0,openMenuFromCCButton:!1,settings:{showAudioMenu:!0,showCaptionsMenu:!0,showQualityMenu:!0,showSpeedMenu:!0,showAdvancedAudioDescToggle:!1,showAdvancedCaptionsMenu:!0},hoverTimeout:3e3,tinySizeDisabled:!1,components:{watermark:{},seekbar:{},vrStereo:{},logo:{},fullscreen:{},sidePanels:{}}},ri=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ti.UPDATE:var n=Gn({},e,t.config);return ei(ei({},e),n);case ti.UPDATE_COMPONENT:return ei(ei({},e),{},{components:ei(ei({},e.components),{},j()({},t.componentAlias,Gn({},e.components[t.componentAlias],t.config)))});default:return e}},ii={updateConfig:function(e){return{type:ti.UPDATE,config:e}},updateComponentConfig:function(e,t){return{type:ti.UPDATE_COMPONENT,componentAlias:e,config:t}}};function ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ai(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ai(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var si,li="engine",ui={UPDATE_PLAYER_STATE:"".concat(li,"/UPDATE_PLAYER_STATE"),UPDATE_PRE_PLAYBACK:"".concat(li,"/UPDATE_PRE_PLAYBACK"),UPDATE_IS_PLAYING:"".concat(li,"/UPDATE_IS_PLAYING"),UPDATE_IS_PAUSED:"".concat(li,"/UPDATE_IS_PAUSED"),UPDATE_IS_SEEKING:"".concat(li,"/UPDATE_IS_SEEKING"),UPDATE_LAST_SEEK_POINT:"".concat(li,"/UPDATE_LAST_SEEK_POINT"),UPDATE_IS_CHANGING_SOURCE:"".concat(li,"/UPDATE_IS_CHANGING_SOURCE"),UPDATE_IS_ENDED:"".concat(li,"/UPDATE_IS_ENDED"),UPDATE_IS_PLAYBACK_STARTED:"".concat(li,"/UPDATE_IS_PLAYBACK_STARTED"),UPDATE_IS_PLAYBACK_ENDED:"".concat(li,"/UPDATE_IS_PLAYBACK_ENDED"),UPDATE_CURRENT_TIME:"".concat(li,"/UPDATE_CURRENT_TIME"),UPDATE_DURATION:"".concat(li,"/UPDATE_DURATION"),UPDATE_VOLUME:"".concat(li,"/UPDATE_VOLUME"),UPDATE_MUTED:"".concat(li,"/UPDATE_MUTED"),UPDATE_METADATA_LOADING_STATUS:"".concat(li,"/UPDATE_METADATA_LOADING_STATUS"),UPDATE_DATA_LOADING_STATUS:"".concat(li,"/UPDATE_DATA_LOADING_STATUS"),UPDATE_AUDIO_TRACKS:"".concat(li,"/UPDATE_AUDIO_TRACKS"),UPDATE_VIDEO_TRACKS:"".concat(li,"/UPDATE_VIDEO_TRACKS"),UPDATE_TEXT_TRACKS:"".concat(li,"/UPDATE_TEXT_TRACKS"),UPDATE_AD_BREAK:"".concat(li,"/UPDATE_AD_BREAK"),UPDATE_AD_BREAK_PROGRESS:"".concat(li,"/UPDATE_AD_BREAK_PROGRESS"),UPDATE_AD_BREAK_COMPLETED:"".concat(li,"/UPDATE_AD_BREAK_COMPLETED"),UPDATE_AD_IS_PLAYING:"".concat(li,"/UPDATE_AD_IS_PLAYING"),UPDATE_AD_SKIP_TIME_OFFSET:"".concat(li,"/UPDATE_AD_SKIP_TIME_OFFSET"),UPDATE_AD_SKIPPABLE_STATE:"".concat(li,"/UPDATE_AD_SKIPPABLE_STATE"),UPDATE_AD_URL:"".concat(li,"/UPDATE_AD_URL"),UPDATE_AD_IS_LINEAR:"".concat(li,"/UPDATE_AD_IS_LINEAR"),UPDATE_AD_IS_BUMPER:"".concat(li,"/UPDATE_AD_IS_BUMPER"),UPDATE_AD_CONTENT_TYPE:"".concat(li,"/UPDATE_AD_CONTENT_TYPE"),UPDATE_PLAYER_POSTER:"".concat(li,"/UPDATE_PLAYER_POSTER"),UPDATE_IS_AUDIO:"".concat(li,"/UPDATE_IS_AUDIO"),UPDATE_IS_LIVE:"".concat(li,"/UPDATE_IS_LIVE"),UPDATE_IS_DVR:"".concat(li,"/UPDATE_IS_DVR"),UPDATE_IS_IMG:"".concat(li,"/UPDATE_IS_IMG"),UPDATE_IS_DOCUMENT:"".concat(li,"/UPDATE_IS_DOCUMENT"),UPDATE_ERROR:"".concat(li,"/ERROR"),UPDATE_ERROR_DETAILS:"".concat(li,"/ERROR_DETAILS"),UPDATE_IS_IDLE:"".concat(li,"/UPDATE_IS_IDLE"),UPDATE_FALLBACK_TO_MUTED_AUTOPLAY:"".concat(li,"/UPDATE_FALLBACK_TO_MUTED_AUTOPLAY"),UPDATE_IS_VR:"".concat(li,"/UPDATE_IS_VR"),UPDATE_VR_STEREO_MODE:"".concat(li,"/UPDATE_VR_STEREO_MODE"),UPDATE_IS_CASTING:"".concat(li,"/UPDATE_IS_CASTING"),UPDATE_CAST_SESSION:"".concat(li,"/UPDATE_CAST_SESSION"),UPDATE_IS_CAST_AVAILABLE:"".concat(li,"/UPDATE_IS_CAST_AVAILABLE"),UPDATE_PLAYLIST:"".concat(li,"/UPDATE_PLAYLIST"),UPDATE_PICTURE_IN_PICTURE_SUPPORTED:"".concat(li,"/UPDATE_PICTURE_IN_PICTURE_SUPPORTED"),UPDATE_PICTURE_IN_PICTURE_MODE:"".concat(li,"/UPDATE_PICTURE_IN_PICTURE_MODE"),UPDATE_FULLSCREEN:"".concat(li,"/UPDATE_FULLSCREEN")},ci={isIdle:!1,isPlaying:!1,isPaused:!0,isSeeking:!1,isEnded:!1,isPlaybackStarted:!1,isPlaybackEnded:!1,isChangingSource:!1,prePlayback:!0,metadataLoaded:!1,dataLoaded:!1,playerState:{previousState:"",currentState:""},fallbackToMutedAutoPlay:!1,poster:"",currentTime:0,lastSeekPoint:0,duration:0,volume:1,muted:!1,videoTracks:[],audioTracks:[],textTracks:[],adIsLinear:!1,adBreak:!1,adIsPlaying:!1,adSkipTimeOffset:0,adSkippableState:!1,adIsBumper:!1,adContentType:null,isLive:!1,isDvr:!1,isImg:!1,isDocument:!1,isAudio:!1,adProgress:{currentTime:0,duration:0},adUrl:"",hasError:!1,errorDetails:{errorCategory:void 0,errorTitle:void 0,errorMessage:void 0},isVr:!1,vrStereoMode:!1,isCasting:!1,castSession:null,isCastAvailable:!1,pictureInPictureSupported:!1,isInPictureInPicture:!1,playlist:null,fullscreen:!1},di=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ci,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ti.UPDATE:return Qr(li,e,t);case ti.UPDATE_COMPONENT:return Jr(li,e,t);case ui.UPDATE_ERROR:return oi(oi({},e),{},{hasError:t.hasError});case ui.UPDATE_ERROR_DETAILS:return oi(oi({},e),{},{errorDetails:t.errorDetails});case ui.UPDATE_PLAYER_STATE:return oi(oi({},e),{},{playerState:t.playerState});case ui.UPDATE_PRE_PLAYBACK:return oi(oi({},e),{},{prePlayback:t.prePlayback});case ui.UPDATE_IS_PLAYING:return oi(oi({},e),{},{isPlaying:t.isPlaying});case ui.UPDATE_IS_PAUSED:return oi(oi({},e),{},{isPaused:t.isPaused});case ui.UPDATE_IS_SEEKING:return oi(oi({},e),{},{isSeeking:t.isSeeking});case ui.UPDATE_LAST_SEEK_POINT:return oi(oi({},e),{},{lastSeekPoint:t.lastSeekPoint});case ui.UPDATE_IS_ENDED:return oi(oi({},e),{},{isEnded:t.isEnded});case ui.UPDATE_IS_PLAYBACK_STARTED:return oi(oi({},e),{},{isPlaybackStarted:t.isPlaybackStarted});case ui.UPDATE_IS_PLAYBACK_ENDED:return oi(oi({},e),{},{isPlaybackEnded:t.isPlaybackEnded});case ui.UPDATE_CURRENT_TIME:return oi(oi({},e),{},{currentTime:t.currentTime});case ui.UPDATE_DURATION:return oi(oi({},e),{},{duration:t.duration});case ui.UPDATE_VOLUME:return oi(oi({},e),{},{volume:t.volume});case ui.UPDATE_MUTED:return oi(oi({},e),{},{muted:t.muted});case ui.UPDATE_METADATA_LOADING_STATUS:return oi(oi({},e),{},{metadataLoaded:t.metadataLoaded});case ui.UPDATE_DATA_LOADING_STATUS:return oi(oi({},e),{},{dataLoaded:t.dataLoaded});case ui.UPDATE_AUDIO_TRACKS:return oi(oi({},e),{},{audioTracks:t.tracks});case ui.UPDATE_VIDEO_TRACKS:return oi(oi({},e),{},{videoTracks:t.tracks});case ui.UPDATE_TEXT_TRACKS:return oi(oi({},e),{},{textTracks:t.tracks});case ui.UPDATE_AD_BREAK:return oi(oi({},e),{},{adBreak:t.adBreak});case ui.UPDATE_AD_BREAK_PROGRESS:return oi(oi({},e),{},{adProgress:t.adProgress});case ui.UPDATE_AD_BREAK_COMPLETED:return oi(oi({},e),{},{adProgress:{currentTime:e.adProgress.duration,duration:e.adProgress.duration}});case ui.UPDATE_AD_IS_PLAYING:return oi(oi({},e),{},{adIsPlaying:t.adIsPlaying});case ui.UPDATE_AD_IS_LINEAR:return oi(oi({},e),{},{adIsLinear:t.adIsLinear});case ui.UPDATE_AD_SKIP_TIME_OFFSET:return oi(oi({},e),{},{adSkipTimeOffset:t.adSkipTimeOffset});case ui.UPDATE_AD_SKIPPABLE_STATE:return oi(oi({},e),{},{adSkippableState:t.adSkippableState});case ui.UPDATE_AD_URL:return oi(oi({},e),{},{adUrl:t.adUrl});case ui.UPDATE_AD_IS_BUMPER:return oi(oi({},e),{},{adIsBumper:t.adIsBumper});case ui.UPDATE_AD_CONTENT_TYPE:return oi(oi({},e),{},{adContentType:t.adContentType});case ui.UPDATE_PLAYER_POSTER:return oi(oi({},e),{},{poster:t.poster});case ui.UPDATE_IS_AUDIO:return oi(oi({},e),{},{isAudio:t.isAudio});case ui.UPDATE_IS_LIVE:return oi(oi({},e),{},{isLive:t.isLive});case ui.UPDATE_IS_DVR:return oi(oi({},e),{},{isDvr:t.isDvr});case ui.UPDATE_IS_IMG:return oi(oi({},e),{},{isImg:t.isImg});case ui.UPDATE_IS_DOCUMENT:return oi(oi({},e),{},{isDocument:t.isDocument});case ui.UPDATE_IS_IDLE:return oi(oi({},e),{},{isIdle:t.IsIdle});case ui.UPDATE_FALLBACK_TO_MUTED_AUTOPLAY:return oi(oi({},e),{},{fallbackToMutedAutoPlay:t.fallback});case ui.UPDATE_IS_VR:return oi(oi({},e),{},{isVr:t.isVr});case ui.UPDATE_VR_STEREO_MODE:return oi(oi({},e),{},{vrStereoMode:t.vrStereoMode});case ui.UPDATE_IS_CASTING:return oi(oi({},e),{},{isCasting:t.isCasting});case ui.UPDATE_CAST_SESSION:return oi(oi({},e),{},{castSession:t.castSession});case ui.UPDATE_IS_CAST_AVAILABLE:return oi(oi({},e),{},{isCastAvailable:t.isCastAvailable});case ui.UPDATE_IS_CHANGING_SOURCE:return oi(oi({},e),{},{isChangingSource:t.isChangingSource});case ui.UPDATE_PLAYLIST:return oi(oi({},e),{},{playlist:t.playlist});case ui.UPDATE_PICTURE_IN_PICTURE_SUPPORTED:return oi(oi({},e),{},{isPictureInPictureSupported:t.isPictureInPictureSupported});case ui.UPDATE_PICTURE_IN_PICTURE_MODE:return oi(oi({},e),{},{isInPictureInPicture:t.isInPictureInPicture});case ui.UPDATE_FULLSCREEN:return oi(oi({},e),{},{fullscreen:t.fullscreen});default:return e}},pi={updateHasError:function(e){return{type:ui.UPDATE_ERROR,hasError:e}},updateErrorDetails:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:ui.UPDATE_ERROR_DETAILS,errorDetails:{errorCategory:e,errorTitle:t,errorMessage:n}}},updatePlayerState:function(e,t){return{type:ui.UPDATE_PLAYER_STATE,playerState:{prevoiusState:e,currentState:t}}},updatePrePlayback:function(e){return{type:ui.UPDATE_PRE_PLAYBACK,prePlayback:e}},updateIsPlaying:function(e){return{type:ui.UPDATE_IS_PLAYING,isPlaying:e}},updateIsPaused:function(e){return{type:ui.UPDATE_IS_PAUSED,isPaused:e}},updateIsSeeking:function(e){return{type:ui.UPDATE_IS_SEEKING,isSeeking:e}},updateLastSeekPoint:function(e){return{type:ui.UPDATE_LAST_SEEK_POINT,lastSeekPoint:e}},updateIsEnded:function(e){return{type:ui.UPDATE_IS_ENDED,isEnded:e}},updateIsPlaybackStarted:function(e){return{type:ui.UPDATE_IS_PLAYBACK_STARTED,isPlaybackStarted:e}},updateIsPlaybackEnded:function(e){return{type:ui.UPDATE_IS_PLAYBACK_ENDED,isPlaybackEnded:e}},updateCurrentTime:function(e){return{type:ui.UPDATE_CURRENT_TIME,currentTime:e}},updateDuration:function(e){return{type:ui.UPDATE_DURATION,duration:e}},updateVolume:function(e){return{type:ui.UPDATE_VOLUME,volume:e}},updateMuted:function(e){return{type:ui.UPDATE_MUTED,muted:e}},updateMetadataLoadingStatus:function(e){return{type:ui.UPDATE_METADATA_LOADING_STATUS,metadataLoaded:e}},updateDataLoadingStatus:function(e){return{type:ui.UPDATE_DATA_LOADING_STATUS,dataLoaded:e}},updateAudioTracks:function(e){return{type:ui.UPDATE_AUDIO_TRACKS,tracks:e}},updateVideoTracks:function(e){return{type:ui.UPDATE_VIDEO_TRACKS,tracks:e}},updateTextTracks:function(e){return{type:ui.UPDATE_TEXT_TRACKS,tracks:e}},updateAdBreak:function(e){return{type:ui.UPDATE_AD_BREAK,adBreak:e}},updateAdBreakProgress:function(e,t){return{type:ui.UPDATE_AD_BREAK_PROGRESS,adProgress:{currentTime:e,duration:t}}},updateAdBreakCompleted:function(){return{type:ui.UPDATE_AD_BREAK_COMPLETED}},updateAdIsPlaying:function(e){return{type:ui.UPDATE_AD_IS_PLAYING,adIsPlaying:e}},updateAdSkipTimeOffset:function(e){return{type:ui.UPDATE_AD_SKIP_TIME_OFFSET,adSkipTimeOffset:e}},updateAdSkippableState:function(e){return{type:ui.UPDATE_AD_SKIPPABLE_STATE,adSkippableState:e}},updateAdClickUrl:function(e){return{type:ui.UPDATE_AD_URL,adUrl:e}},updateAdIsLinear:function(e){return{type:ui.UPDATE_AD_IS_LINEAR,adIsLinear:e}},updateAdIsBumper:function(e){return{type:ui.UPDATE_AD_IS_BUMPER,adIsBumper:e}},updateAdContentType:function(e){return{type:ui.UPDATE_AD_CONTENT_TYPE,adContentType:e}},updatePlayerPoster:function(e){return{type:ui.UPDATE_PLAYER_POSTER,poster:e}},updateIsAudio:function(e){return{type:ui.UPDATE_IS_AUDIO,isAudio:e}},updateIsLive:function(e){return{type:ui.UPDATE_IS_LIVE,isLive:e}},updateIsDvr:function(e){return{type:ui.UPDATE_IS_DVR,isDvr:e}},updateIsImg:function(e){return{type:ui.UPDATE_IS_IMG,isImg:e}},updateIsDocument:function(e){return{type:ui.UPDATE_IS_DOCUMENT,isDocument:e}},updateIsIdle:function(e){return{type:ui.UPDATE_IS_IDLE,IsIdle:e}},updateFallbackToMutedAutoPlay:function(e){return{type:ui.UPDATE_FALLBACK_TO_MUTED_AUTOPLAY,fallback:e}},updateIsVr:function(e){return{type:ui.UPDATE_IS_VR,isVr:e}},updateVrStereoMode:function(e){return{type:ui.UPDATE_VR_STEREO_MODE,vrStereoMode:e}},updateIsCasting:function(e){return{type:ui.UPDATE_IS_CASTING,isCasting:e}},updateCastSession:function(e){return{type:ui.UPDATE_CAST_SESSION,castSession:e}},updateIsCastAvailable:function(e){return{type:ui.UPDATE_IS_CAST_AVAILABLE,isCastAvailable:e}},updateIsChangingSource:function(e){return{type:ui.UPDATE_IS_CHANGING_SOURCE,isChangingSource:e}},updatePlaylist:function(e){return{type:ui.UPDATE_PLAYLIST,playlist:e}},updatePictureInPictureSupport:function(e){return{type:ui.UPDATE_PICTURE_IN_PICTURE_SUPPORTED,isPictureInPictureSupported:e}},updateIsInPictureInPicture:function(e){return{type:ui.UPDATE_PICTURE_IN_PICTURE_MODE,isInPictureInPicture:e}},updateFullscreen:function(e){return{type:ui.UPDATE_FULLSCREEN,fullscreen:e}}},fi=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(e){var t;return N()(this,i),(t=r.call(this,sr.USER_SELECTED_AUDIO_TRACK)).payload={audioTrack:e},t}return i}(ir.FakeEvent),hi=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(e){var t;return N()(this,i),(t=r.call(this,sr.USER_SELECTED_CAPTION_TRACK)).payload={captionTrack:e},t}return i}(ir.FakeEvent),yi=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(e){var t;return N()(this,i),(t=r.call(this,sr.USER_SELECTED_CAPTIONS_STYLE)).payload={captionsStyle:e},t}return i}(ir.FakeEvent),gi=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(e){var t;return N()(this,i),(t=r.call(this,sr.USER_SELECTED_QUALITY_TRACK)).payload={qualityTrack:e},t}return i}(ir.FakeEvent),vi=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(e,t){var n;return N()(this,i),(n=r.call(this,sr.USER_SEEKED)).payload={from:e,to:t},n}return i}(ir.FakeEvent),mi=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(e){var t;return N()(this,i),(t=r.call(this,sr.USER_SELECTED_SPEED)).payload={speed:e},t}return i}(ir.FakeEvent),bi=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(e){var t;return N()(this,i),(t=r.call(this,sr.UI_VISIBILITY_CHANGED)).payload={visible:e},t}return i}(ir.FakeEvent),ki=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(e,t){var n;return N()(this,i),(n=r.call(this,sr.USER_CLICKED_REWIND)).payload={from:e,to:t},n}return i}(ir.FakeEvent),Ei=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(e,t){var n;return N()(this,i),(n=r.call(this,sr.USER_CLICKED_FORWARD)).payload={from:e,to:t},n}return i}(ir.FakeEvent),Ti=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(e){var t;return N()(this,i),(t=r.call(this,sr.USER_CHANGED_VOLUME)).payload={volume:e},t}return i}(ir.FakeEvent),_i=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"_notifyClick",(function(t){return function(e,t,n){switch(t.name){case"Keyboard":Di[t.payload.key](e,t,n);break;case"OverlayAction":!function(e,t,n){"PlayPause"===t.payload.type?Ai(e,0,n):"Fullscreen"===t.payload.type&&wi(0,0,n)}(e,t,n);break;case"CVAAOverlay":!function(e,t,n){var r,i=n.textStyle,a=null===(r=t.payload)||void 0===r?void 0:r.textStyle;[{key:"fontSize",eventType:sr.USER_SELECTED_CAPTIONS_SIZE},{key:"textAlign",eventType:sr.USER_SELECTED_CAPTIONS_ALIGNMENT},{key:"fontFamily",eventType:sr.USER_SELECTED_CAPTIONS_FONT_FAMILY},{key:"fontOpacity",eventType:sr.USER_SELECTED_CAPTIONS_FONT_OPACITY},{key:"backgroundOpacity",eventType:sr.USER_SELECTED_CAPTIONS_BACKGROUND_OPACITY},{key:"backgroundColor",eventType:sr.USER_SELECTED_CAPTIONS_BACKGROUND_COLOR,collection:n.TextStyle.StandardColors},{key:"fontColor",eventType:sr.USER_SELECTED_CAPTIONS_FONT_COLOR,collection:n.TextStyle.StandardColors},{key:"fontEdge",eventType:sr.USER_SELECTED_CAPTIONS_FONT_STYLE,collection:n.TextStyle.EdgeStyles}].map((function(e){var t=e.key,r=e.eventType,o=e.collection;o&&!_r(null==i?void 0:i[t],null==a?void 0:a[t])?Object.keys(o).some((function(e){if(_r(o[e],null==a?void 0:a[t]))return n.dispatchEvent(new ir.FakeEvent(r,e.toLowerCase())),!0})):(null==i?void 0:i[t])!==(null==a?void 0:a[t])&&n.dispatchEvent(new ir.FakeEvent(r,null==a?void 0:a[t])),n.dispatchEvent(new yi(a))}))}(0,t,n);break;case"Fullscreen":wi(0,0,n);break;case"CaptionsMenu":!function(e,t,n){t.payload.type===n.Track.TEXT&&n.dispatchEvent(new hi(t.payload.track))}(0,t,n);break;case"AudioMenu":!function(e,t,n){t.payload.type===n.Track.AUDIO&&n.dispatchEvent(new fi(t.payload.track))}(0,t,n);break;case"QualityMenu":!function(e,t,n){t.payload.type===n.Track.VIDEO&&n.dispatchEvent(new gi(t.payload.track))}(0,t,n);break;case"SpeedMenu":!function(e,t,n){"speed"===t.payload.type&&n.dispatchEvent(new mi(t.payload.speed))}(0,t,n);break;case"AdvancedAudioDescToggle":case"AdvancedAudioDesc":!function(e,t,n){"AdvancedAudioDescription"===t.payload.type&&n.dispatchEvent(new ir.FakeEvent(sr.USER_CLICKED_ADVANCED_AUDIO_DESCRIPTION,t.payload))}(0,t,n);break;case"Shell":n.dispatchEvent(new ir.FakeEvent(sr.UI_CLICKED));break;case"Rewind":n.dispatchEvent(new ki(t.payload.from,t.payload.to));break;case"Forward":n.dispatchEvent(new Ei(t.payload.from,t.payload.to));break;case"LiveTag":n.dispatchEvent(new ir.FakeEvent(sr.USER_CLICKED_LIVE_TAG));break;case"Logo":n.dispatchEvent(new ir.FakeEvent(sr.USER_CLICKED_LOGO,t.payload));break;case"PrePlaybackPlayOverlay":case"PlayPause":Ai(e,0,n);break;case"Volume":Si(e,0,n);break;case"PictureInPicture":Ci(0,0,n);break;case"ClosedCaptions":!function(e,t,n){var r,i=t.payload,a=null===(r=n.getActiveTracks())||void 0===r?void 0:r[n.Track.TEXT];n.dispatchEvent(new ir.FakeEvent(i?sr.USER_HID_CAPTIONS:sr.USER_SHOWED_CAPTIONS,{language:null==a?void 0:a.language}))}(0,t,n)}}(e.props.store,t,e.props.player)})),j()(Qn()(e),"_notifyChange",(function(t){return function(e,t,n){switch(t.name){case"Volume":n.dispatchEvent(new Ti(t.payload.volume));break;case"SeekBarPlaybackContainer":case"SeekBarLivePlaybackContainer":n.dispatchEvent(new vi(t.payload.from,t.payload.to));break;case"ActivePreset":n.dispatchEvent(new ir.FakeEvent(sr.UI_PRESET_CHANGE,t.payload))}}(e.props.store,t,e.props.player)})),j()(Qn()(e),"_notifyHoverChange",(function(t){return function(e,t,n){var r=e.getState().engine,i=e.getState().shell;!r.adBreak&&r.isPlaying&&i.playerHover!==t.payload.hover&&n.dispatchEvent(new bi(t.payload.hover))}(e.props.store,t,e.props.player)})),e}return B()(i,[{key:"getChildContext",value:function(){return{notifyClick:this._notifyClick,notifyChange:this._notifyChange,notifyHoverChange:this._notifyHoverChange}}},{key:"render",value:function(){return this.props.children&&ne(this.props.children)[0]||null}}]),i}(X);function Ai(e,t,n){var r=e.getState().engine;r.adBreak?r.adIsPlaying?n.dispatchEvent(new ir.FakeEvent(sr.USER_CLICKED_PAUSE)):n.dispatchEvent(new ir.FakeEvent(sr.USER_CLICKED_PLAY)):r.isPlaying?n.dispatchEvent(new ir.FakeEvent(sr.USER_CLICKED_PAUSE)):n.dispatchEvent(new ir.FakeEvent(sr.USER_CLICKED_PLAY))}function Si(e,t,n){e.getState().engine.muted?n.dispatchEvent(new ir.FakeEvent(sr.USER_CLICKED_MUTE)):n.dispatchEvent(new ir.FakeEvent(sr.USER_CLICKED_UNMUTE))}function wi(e,t,n){n.isFullscreen()?n.dispatchEvent(new ir.FakeEvent(sr.USER_EXITED_FULL_SCREEN)):n.dispatchEvent(new ir.FakeEvent(sr.USER_ENTERED_FULL_SCREEN))}function Ci(e,t,n){n.isInPictureInPicture()?n.dispatchEvent(new ir.FakeEvent(sr.USER_EXITED_PICTURE_IN_PICTURE)):n.dispatchEvent(new ir.FakeEvent(sr.USER_ENTERED_PICTURE_IN_PICTURE))}var xi,Pi,Ri,Ii,Di=(si={},j()(si,lr.SPACE,(function(e,t,n){Ai(e,0,n)})),j()(si,lr.UP,(function(e,t,n){n.dispatchEvent(new Ti(t.payload.volume))})),j()(si,lr.DOWN,(function(e,t,n){n.dispatchEvent(new Ti(t.payload.volume))})),j()(si,lr.F,(function(e,t,n){wi(0,0,n)})),j()(si,lr.P,(function(e,t,n){Ci(0,0,n)})),j()(si,lr.ESC,(function(e,t,n){wi(0,0,n)})),j()(si,lr.LEFT,(function(e,t,n){n.dispatchEvent(new vi(t.payload.from,t.payload.to))})),j()(si,lr.RIGHT,(function(e,t,n){n.dispatchEvent(new vi(t.payload.from,t.payload.to))})),j()(si,lr.HOME,(function(e,t,n){n.dispatchEvent(new vi(t.payload.from,t.payload.to))})),j()(si,lr.END,(function(e,t,n){n.dispatchEvent(new vi(t.payload.from,t.payload.to))})),j()(si,lr.M,(function(e,t,n){Si(e,0,n)})),j()(si,lr.SEMI_COLON,(function(e,t,n){n.dispatchEvent(new mi(t.payload.speed))})),j()(si,lr.PERIOD,(function(e,t,n){n.dispatchEvent(new mi(t.payload.speed))})),j()(si,lr.COMMA,(function(e,t,n){n.dispatchEvent(new mi(t.payload.speed))})),j()(si,lr.C,(function(e,t,n){n.dispatchEvent(new hi(t.payload.track))})),si),Oi=function(e){return function(t){return function(n){$n()(o,n);var r,i,a=(r=o,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rr()(r);if(i){var n=rr()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return tr()(this,e)});function o(){return N()(this,o),a.apply(this,arguments)}return B()(o,[{key:"notifyClick",value:function(t){this.context.notifyClick({name:e,payload:t})}},{key:"notifyChange",value:function(t){this.context.notifyChange({name:e,payload:t})}},{key:"notifyHoverChange",value:function(t){this.context.notifyHoverChange({name:e,payload:t})}},{key:"render",value:function(){var e=this;return W(t,qn()({},this.props,{notifyHoverChange:function(t){return e.notifyHoverChange(t)},notifyChange:function(t){return e.notifyChange(t)},notifyClick:function(t){return e.notifyClick(t)}}))}}]),o}(X)}},Li=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"_observer",void 0),j()(Qn()(e),"_el",void 0),e}return B()(i,[{key:"destroy",value:function(){this._observer&&this._observer.disconnect(),this._observer=null,this._el=null}},{key:"init",value:function(e){this._observer||(this._el=e,ResizeObserver?this._createNativeObserver():this._createIframeObserver(),this._el instanceof HTMLElement&&this._observer&&this._observer.observe(this._el))}},{key:"_createNativeObserver",value:function(){var e=this;this._observer=new ResizeObserver((function(t){t.forEach((function(){e._triggerResize()}))}))}},{key:"_createIframeObserver",value:function(){this._observer=new Mi(this._triggerResize.bind(this))}},{key:"_triggerResize",value:function(){this.dispatchEvent(new ir.FakeEvent(sr.RESIZE))}}]),i}(ir.FakeEventTarget),Mi=function(){function e(t){N()(this,e),j()(this,"_observersStore",{}),j()(this,"_onChangeCallback",void 0),this._onChangeCallback=t}return B()(e,[{key:"observe",value:function(e){var t=this,n=this._createIframe(),r=e.getAttribute("id");this._observersStore[r]=n,e.appendChild(n),n.contentWindow.onresize=function(){return t._onChangeCallback()}}},{key:"disconnect",value:function(){for(var e in this._observersStore){var t=document.getElementById(e),n=this._observersStore[e];n.onresize=null,t&&(t.removeChild(n),delete this._observersStore[t.getAttribute("id")])}}},{key:"_createIframe",value:function(){var e=document.createElement("iframe");return e.className="playkit-size-iframe",e}}]),e}(),Ni=function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=void 0;r&&!n&&e.apply(s,a),clearTimeout(n),n=setTimeout((function(){n=null,r||e.apply(s,a)}),t)}};function Ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ui(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fi,ji=100,Hi={TINY:"tiny",EXTRA_SMALL:"extrasmall",SMALL:"small",MEDIUM:"medium",LARGE:"large",EXTRA_LARGE:"extralarge"},Vi={TINY:280,EXTRA_SMALL:380,SMALL:480,MEDIUM:768,LARGE:1024},Gi="Shell",Ki=(xi=un((function(e){return{targetId:e.config.targetId,forceTouchUI:e.config.forceTouchUI,hoverTimeout:e.config.hoverTimeout,metadataLoaded:e.engine.metadataLoaded,currentState:e.engine.playerState.currentState,playerClasses:e.shell.playerClasses,isMobile:e.shell.isMobile,playerSize:e.shell.playerSize,isCasting:e.engine.isCasting,guiClientRect:e.shell.guiClientRect,playerHover:e.shell.playerHover,playerNav:e.shell.playerNav,seekbarDraggingActive:e.seekbar.draggingActive,seekbarHoverActive:e.seekbar.hoverActive,volumeHoverActive:e.volume.hover,adBreak:e.engine.adBreak,prePlayback:e.engine.prePlayback,smartContainerOpen:e.shell.smartContainerOpen,fullscreen:e.engine.fullscreen,fallbackToMutedAutoPlay:e.engine.fallbackToMutedAutoPlay,playlist:e.engine.playlist,tinySizeDisabled:e.config.tinySizeDisabled,isCopyProtected:e.config.isCopyProtected}}),Ur(Bi(Bi({},Nr),pi))),Pi=yr(Gi),Ri=Oi(Gi),xi(Ii=jr(Ii=ar(Ii=Pi(Ii=Ri(Ii=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"hoverTimeout",null),j()(Qn()(e),"_environmentClasses",void 0),j()(Qn()(e),"_playerResizeWatcher",void 0),j()(Qn()(e),"_playerRef",null),j()(Qn()(e),"onMouseLeave",(function(t){Object.prototype.hasOwnProperty.call(t,"toElement")&&(e.props.isMobile||e.state.hover&&e._updatePlayerHover(!1))})),j()(Qn()(e),"onMouseMove",(function(){e.props.isMobile||(e.state.nav&&(e.setState({nav:!1}),e.props.updatePlayerNavState(!1)),e._updatePlayerHoverState())})),j()(Qn()(e),"onMouseUp",(function(){e.unMuteFallback(),e.props.notifyClick(),e._startHoverTimeout()})),j()(Qn()(e),"onTouchEnd",(function(t){e.props.prePlayback||(e.props.fallbackToMutedAutoPlay&&(e.props.player.muted=!1),e.state.hover||t.stopPropagation(),e._updatePlayerHoverState())})),j()(Qn()(e),"onKeyDown",(function(t){var n=t.target,r=n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement||n.isContentEditable;e.state.nav||t.keyCode!==lr.TAB||(e.setState({nav:!0}),e.props.updatePlayerNavState(!0)),e.state.nav&&t.keyCode===lr.F&&!r&&e.toggleFullscreen(),!e.state.nav||t.keyCode!==lr.ENTER&&t.keyCode!==lr.SPACE||(e.unMuteFallback(),t.srcElement.contains(e._playerRef)&&(t.preventDefault(),e.props.player.paused?e.props.player.play():e.props.player.pause()))})),j()(Qn()(e),"_handleClickOutside",(function(t){var n,r=t.target,i=e.props,a=i.isMobile,o=i.isSmallSize,s=i.updatePlayerNavState;a||o||(null===(n=e._playerRef)||void 0===n?void 0:n.contains(r))||!e.state.nav||(e.setState({nav:!1}),s(!1))})),j()(Qn()(e),"_onWindowResize",(function(){e._updatePlayerClientRect(),document.body&&e.props.updateDocumentWidth(document.body.clientWidth)})),j()(Qn()(e),"_updatePlayerClientRect",(function(){var t=document.getElementById(e.props.targetId);t&&e.props.updatePlayerClientRect(t.getBoundingClientRect()),setTimeout((function(){t&&e.props.updatePlayerClientRect(t.getBoundingClientRect())}),ji)})),e}return B()(i,[{key:"unMuteFallback",value:function(){this.props.fallbackToMutedAutoPlay&&(this.props.player.muted=!1)}},{key:"toggleFullscreen",value:function(){this.props.player.isFullscreen()?this.props.player.exitFullscreen():this.props.player.enterFullscreen()}},{key:"componentWillMount",value:function(){var e=this.props,t=e.player,n=e.forceTouchUI;this._environmentClasses=["".concat("playkit","-").concat(t.env.os.name.replace(/ /g,"-")),"".concat("playkit","-").concat(t.env.browser.name.replace(/ /g,"-"))];var r=t.env,i=r.isIPadOS,a=r.isTablet,o=r.isMobile;this.props.updateIsMobile(i||a||o||n)}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.player,r=t.eventManager;r.listen(window,"resize",Ni(this._onWindowResize,ji)),r.listen(document,"scroll",Ni(this._updatePlayerClientRect,ji)),r.listen(document,"click",Ni(this._handleClickOutside,ji)),this._playerResizeWatcher=new Li,this._playerResizeWatcher.init(document.getElementById(this.props.targetId)),r.listen(this._playerResizeWatcher,sr.RESIZE,Ni(this._onWindowResize,ji)),r.listen(n,n.Event.FIRST_PLAY,(function(){return e._onWindowResize()})),r.listen(n,sr.PLAYER_HOVERED,(function(){e._updatePlayerHover(!0)})),this._onWindowResize()}},{key:"componentWillUnmount",value:function(){this._clearHoverTimeout(),this._playerResizeWatcher.destroy()}},{key:"_updatePlayerHoverState",value:function(){this.props.prePlayback||(this.state.hover||this._updatePlayerHover(!0),this._startHoverTimeout())}},{key:"_updatePlayerHover",value:function(e){this.props.updatePlayerHoverState(e),this.props.notifyHoverChange({hover:e}),this.setState({hover:e})}},{key:"_canEndHoverState",value:function(){return!this.props.seekbarDraggingActive&&!this.props.seekbarHoverActive&&!this.props.volumeHoverActive&&!this.props.smartContainerOpen&&(!this.props.player.paused||this.props.adBreak)}},{key:"_startHoverTimeout",value:function(){var e=this;this._clearHoverTimeout(),this.props.hoverTimeout&&(this.hoverTimeout=setTimeout((function(){e._canEndHoverState()&&e._updatePlayerHover(!1)}),this.props.hoverTimeout))}},{key:"_clearHoverTimeout",value:function(){this.hoverTimeout&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=null)}},{key:"componentDidUpdate",value:function(e){(this.state.hover!==this.props.playerHover||"playing"===this.props.currentState&&"paused"===e.currentState||!this.props.prePlayback&&e.prePlayback||!this.props.adBreak&&e.adBreak||this.props.adBreak&&!e.adBreak)&&(this.state.hover!==this.props.playerHover&&this.props.notifyHoverChange({hover:this.props.playerHover}),this._updatePlayerHoverState())}},{key:"render",value:function(e){var t=this,n=[Xr().player,Xr().skinDefault].concat(L()(this._environmentClasses)).concat(e.playerClasses);return this.props.prePlayback&&n.push(Xr().prePlayback),this.props.isCasting&&n.push("".concat("playkit","-casting")),this.props.isCopyProtected&&n.push(Xr().protected),this.props.isMobile&&n.push(Xr().touch),this.props.playerNav&&n.push(Xr().nav),(this.props.playerHover||this.props.playerNav)&&n.push(Xr().hover),this.props.metadataLoaded&&n.push(Xr().metadataLoaded),this.props.adBreak&&n.push(Xr().adBreak),this.props.metadataLoaded&&n.push(Xr()["state-"+this.props.currentState]),this.props.seekbarDraggingActive&&n.push(Xr().hover),this.props.fullscreen&&n.push(Xr().fullscreen),this.props.playlist&&n.push(Xr().playlist),this.props.guiClientRect&&(this.props.guiClientRect.width<=Vi.TINY&&!this.props.tinySizeDisabled?(n.push(Xr().sizeTy),this.props.updatePlayerSize(Hi.TINY)):this.props.guiClientRect.width<=Vi.EXTRA_SMALL?(n.push(Xr().sizeXs),this.props.updatePlayerSize(Hi.EXTRA_SMALL)):this.props.guiClientRect.width<=Vi.SMALL?(n.push(Xr().sizeSm),this.props.updatePlayerSize(Hi.SMALL)):this.props.guiClientRect.width<=Vi.MEDIUM?(n.push(Xr().sizeMd),this.props.updatePlayerSize(Hi.MEDIUM)):this.props.guiClientRect.width<=Vi.LARGE?(n.push(Xr().sizeLg),this.props.updatePlayerSize(Hi.LARGE)):this.props.updatePlayerSize(Hi.EXTRA_LARGE),this.props.updateIsSmallSize([Hi.SMALL,Hi.EXTRA_SMALL].includes(this.props.playerSize))),n.push("notranslate"),W("div",{tabIndex:-1,ref:function(e){return t._playerRef=e},className:n.join(" "),onTouchEnd:this.onTouchEnd,onMouseUp:this.onMouseUp,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,onKeyDown:this.onKeyDown},e.children)}}]),i}(X))||Ii)||Ii)||Ii)||Ii)||Ii);function zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zi(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yi(e){var t,n=e.sidePanelsSizes,r=e.sidePanelsModes,i=e.playerClientRect,a=e.isVideo,o=n[Cr.VERTICAL],s=i.width,l=Math.max(o.min,Math.min(o.max,s*o.ratio)),u=r[xr.LEFT],c=r[xr.RIGHT],d=s-(t=a?u===Pr.ALONGSIDE&&c===Pr.ALONGSIDE?2:1:u!==Pr.HIDDEN&&c!==Pr.HIDDEN?2:1)*l;return s<Vi.SMALL&&(d=s,l=s),{verticalPanelWidth:l,videoWidth:d,verticalPanelCount:t}}function Zi(e){var t,n=e.sidePanelsSizes,r=e.sidePanelsModes,i=e.playerClientRect,a=e.isVideo,o=n[Cr.HORIZONTAL],s=i.height,l=Math.max(o.min,Math.min(o.max,s*o.ratio)),u=r[xr.TOP],c=r[xr.BOTTOM],d=s-(t=a?u===Pr.ALONGSIDE&&c===Pr.ALONGSIDE?2:1:u!==Pr.HIDDEN&&c!==Pr.HIDDEN?2:1)*l;return i.width<Vi.SMALL&&(d=s,l=s),{horizontalPanelHeight:l,videoHeight:d,horizontalPanelCount:t}}function qi(e){var t=e.sidePanelsModes,n=e.allowSidePanels,r={position:"absolute",left:0,right:0,top:0,bottom:0},i=n?t[xr.LEFT]:Pr.HIDDEN,a=n?t[xr.RIGHT]:Pr.HIDDEN,o=n?t[xr.TOP]:Pr.HIDDEN,s=n?t[xr.BOTTOM]:Pr.HIDDEN;if(e.playerClientRect.width>Vi.SMALL){if(i===Pr.ALONGSIDE||a===Pr.ALONGSIDE){var l=Yi(Wi(Wi({},e),{},{isVideo:!0})),u=l.verticalPanelWidth,c=l.videoWidth;r.left=i===Pr.ALONGSIDE?u:0,r.right=a===Pr.ALONGSIDE?u:0,r.width=c,r.position="absolute"}if(o===Pr.ALONGSIDE||s===Pr.ALONGSIDE){var d=Zi(Wi(Wi({},e),{},{isVideo:!0})),p=d.horizontalPanelHeight,f=d.videoHeight;r.top=o===Pr.ALONGSIDE?p:0,r.bottom=s===Pr.ALONGSIDE?p:0,r.height=f,r.position="absolute"}}return r}function Xi(e){var t=e.position,n=e.sidePanelsModes,r=n[xr.LEFT],i=n[xr.RIGHT],a=n[xr.TOP],o=n[xr.BOTTOM];if(-1!==[xr.RIGHT,xr.LEFT].indexOf(t)){var s={},l=Yi(e).verticalPanelWidth;return s.width=l,t===xr.RIGHT?(i===Pr.HIDDEN?(s.right=-l,s.opacity=0):(s.right=0,s.opacity=1),s):(r===Pr.HIDDEN?(s.left=-l,s.opacity=0):(s.left=0,s.opacity=1),s)}var u={},c=Zi(e).horizontalPanelHeight,d=Yi(e).verticalPanelWidth;return u.height=c,r!==Pr.HIDDEN&&(u.left=d),i!==Pr.HIDDEN&&(u.right=d),t===xr.TOP?(a===Pr.HIDDEN?(u.top=-c,u.opacity=0):(u.top=0,u.opacity=1),u):(o===Pr.HIDDEN?(u.bottom=-c,u.opacity=0):(u.bottom=0,u.opacity=1),u)}function Qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ji(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qi(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $i(e){var t,n;return e.allowSidePanels?(t={},j()(t,xr.TOP,Xi(Ji(Ji({},e),{},{position:xr.TOP}))),j()(t,xr.BOTTOM,Xi(Ji(Ji({},e),{},{position:xr.BOTTOM}))),j()(t,xr.RIGHT,Xi(Ji(Ji({},e),{},{position:xr.RIGHT}))),j()(t,xr.LEFT,Xi(Ji(Ji({},e),{},{position:xr.LEFT}))),t):(n={},j()(n,xr.TOP,{}),j()(n,xr.BOTTOM,{}),j()(n,xr.RIGHT,{}),j()(n,xr.LEFT,{}),n)}var ea,ta=un((function(e){return{sidePanelsModes:e.shell.sidePanelsModes,sidePanelsSizes:e.shell.sidePanelsSizes,allowSidePanels:e.shell.presetSettings.allowSidePanels,playerClientRect:e.shell.playerClientRect}}),Ur(Nr))(Fi=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.sidePanelsModes,r=t.sidePanelsSizes,i=t.allowSidePanels,a=t.playerClientRect,o=e.sidePanelsModes,s=e.sidePanelsSizes,l=e.allowSidePanels,u=e.playerClientRect;return!(n===o&&r===s&&i===l&&a===u)}},{key:"componentDidUpdate",value:function(){var e={sidePanelsModes:this.props.sidePanelsModes,sidePanelsSizes:this.props.sidePanelsSizes,playerClientRect:this.props.playerClientRect,allowSidePanels:this.props.allowSidePanels},t=function(e){var t=e.sidePanelsModes,n=e.playerClientRect,r=e.allowSidePanels,i={position:"absolute",left:0,right:0,top:0,bottom:0},a=n.width,o=n.height,s=r?t[xr.LEFT]:Pr.HIDDEN,l=r?t[xr.RIGHT]:Pr.HIDDEN,u=r?t[xr.TOP]:Pr.HIDDEN,c=r?t[xr.BOTTOM]:Pr.HIDDEN;if(n.width>Vi.SMALL){if(s!==Pr.HIDDEN||l!==Pr.HIDDEN){var d=Yi(e).verticalPanelWidth;s!==Pr.HIDDEN&&(i.left=d),l!==Pr.HIDDEN&&(i.right=d)}if(u!==Pr.HIDDEN||c!==Pr.HIDDEN){var p=Zi(e).horizontalPanelHeight;u!==Pr.HIDDEN&&(i.top=p),c!==Pr.HIDDEN&&(i.bottom=p)}a=a-i.right-i.left,o=o-i.top-i.bottom}var f=n.left+(s!==Pr.HIDDEN?i.left:0),h=n.top+(u!==Pr.HIDDEN?i.top:0);return{style:i,rect:{x:f,y:h,width:a,height:o,top:h,right:n.right+(l!==Pr.HIDDEN?i.right:0),bottom:n.bottom+(c!==Pr.HIDDEN?i.bottom:0),left:f}}}(e),n=t.style,r=t.rect;this.props.updateLayoutStyles({gui:n,video:qi(e),sidePanels:$i(e)}),this.props.updateGuiClientRect(r)}},{key:"render",value:function(){return null}}]),i}(X))||Fi,na=yr("PlayerAreaProvider")(ea=un((function(e){return{activePresetName:e.shell.activePresetName}}))(ea=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;return N()(this,i),e=r.call(this),j()(Qn()(e),"_listeners",void 0),j()(Qn()(e),"_componentsByPreset",void 0),j()(Qn()(e),"_validateComponentData",(function(t){var n=t.container||t.area;return!!(t.get&&t.presets&&n)||(e.props.logger.warn("component data with label '".concat(t.label||"","' is invalid (did you remember to set 'get', 'presets' and 'area'?)")),!1)})),j()(Qn()(e),"_addNewComponentAndUpdateListeners",(function(t){return e._addNewComponent(t,!0)})),j()(Qn()(e),"_addNewComponent",(function(t,n){var r=Object.assign({},t);if(r.container&&(r.area=r.area||r.container,delete r.container),!e._validateComponentData(r))return function(){};var i=r.area;return r.presets.forEach((function(t){if((e._componentsByPreset[t]||(e._componentsByPreset[t]=[])).push(r),n){var a=e._findListeners(i,t);e._emitListeners(a)}})),function(){e._removeNewComponent(r)}})),j()(Qn()(e),"_removeNewComponent",(function(t){e._validateComponentData(t)&&t.presets.forEach((function(n){var r=e._componentsByPreset[n]||[],i=r.indexOf(t);if(-1!==i){r.splice(i,1);var a=e._findListeners(t.area,t.presetName);e._emitListeners(a)}}))})),j()(Qn()(e),"_findListeners",(function(t,n){return t?e._listeners.filter((function(e){return(!n||e.presetName===n)&&e.areaName===t})):[]})),j()(Qn()(e),"_listen",(function(t,n,r){if(!t||!n||!r)return function(){};var i=e._findListeners(n,t);i&&i.length>0&&(e.props.logger.warn("Another component is already registered to updates for player area '".concat(n,"' in preset '").concat(t,"'. Unlisten to previous listener")),i.forEach((function(t){e._unlisten(t)})));var a={presetName:t,areaName:n,callback:r};return e._listeners.push(a),e._emitListeners([a]),function(){e._unlisten(a)}})),j()(Qn()(e),"_unlisten",(function(t){var n=e._listeners.indexOf(t);-1!==n&&e._listeners.splice(n,1)})),j()(Qn()(e),"_getAreaComponents",(function(t,n){if(!n||!t)return[];var r=e._componentsByPreset[t],i=r?r.filter((function(e){return e.area===n})):[];return i||[]})),e._listeners=[],e._componentsByPreset={},e}return B()(i,[{key:"_initializePlayerComponents",value:function(){var e=this;this.props.uiComponents&&this.props.uiComponents.length>0&&(this.props.uiComponents.forEach((function(t){return e._addNewComponent(t)})),this._emitAllListeners())}},{key:"_emitListeners",value:function(e){var t=this,n=this.props.activePresetName;(e||[]).forEach((function(e){var r=e.presetName===n?t._getAreaComponents(n,e.areaName):[];try{e.callback(r)}catch(n){t.props.logger.error("Error occurred when handling player area ".concat(e.areaName," of preset ").concat(e.presetName,"."),n)}}))}},{key:"_emitAllListeners",value:function(){this._emitListeners(this._listeners)}},{key:"componentDidMount",value:function(){this.props.setApi(this._addNewComponentAndUpdateListeners),this._initializePlayerComponents()}},{key:"componentDidUpdate",value:function(e){e.activePresetName!==this.props.activePresetName&&this._emitAllListeners()}},{key:"getChildContext",value:function(){return{playerAreaComponentsStore:{listen:this._listen,addNewComponent:this._addNewComponentAndUpdateListeners,getAreaComponents:this._getAreaComponents}}}},{key:"render",value:function(e){return W(q,null,W(ta,null),e.children)}}]),i}(X))||ea)||ea,ra={allowSidePanels:!1,allowPlayerArea:!1},ia=function(e){return function(t){var n,r=un(null,Ur(Nr))(n=function(n){$n()(o,n);var r,i,a=(r=o,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rr()(r);if(i){var n=rr()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return tr()(this,e)});function o(){return N()(this,o),a.apply(this,arguments)}return B()(o,[{key:"componentDidMount",value:function(){var t=Object.assign({},ra,e),n=t.allowSidePanels,r=t.allowPlayerArea;this.props.updatePresetSettings({allowSidePanels:n,allowPlayerArea:r})}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(e){return W(t,e)}}]),o}(X))||n;return r}};function aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sa="seekbar",la={UPDATE_SEEKBAR_DRAGGING_STATUS:"".concat(sa,"/UPDATE_SEEKBAR_DRAGGING_STATUS"),UPDATE_SEEKBAR_HOVER_ACTIVE:"".concat(sa,"/UPDATE_SEEKBAR_HOVER_ACTIVE"),UPDATE_SEEKBAR_PREVIEW_HOVER_ACTIVE:"".concat(sa,"/UPDATE_SEEKBAR_PREVIEW_HOVER_ACTIVE"),UPDATE_SEEKBAR_CLIENT_RECT:"".concat(sa,"/UPDATE_SEEKBAR_CLIENT_RECT"),UPDATE_HIDE_SEEKBAR_PREVIEW:"".concat(sa,"/UPDATE_HIDE_SEEKBAR_PREVIEW"),UPDATE_HIDE_SEEKBAR_TIME_BUBBLE:"".concat(sa,"/UPDATE_HIDE_SEEKBAR_TIME_BUBBLE"),UPDATE_CURRENT_TIME:"".concat(sa,"/UPDATE_CURRENT_TIME"),UPDATE_VIRTUAL_TIME:"".concat(sa,"/UPDATE_VIRTUAL_TIME"),UPDATE_HOVERED_SEGMENT:"".concat(sa,"/UPDATE_HOVERED_SEGMENT"),UPDATE_SEEKBAR_SEGMENTS:"".concat(sa,"/UPDATE_SEEKBAR_SEGMENTS"),UPDATE_SEGMENT_END_TIME:"".concat(sa,"/UPDATE_SEGMENT_END_TIME"),ADD_SEEKBAR_CLASS:"".concat(sa,"/ADD_SEEKBAR_CLASS"),REMOVE_SEEKBAR_CLASS:"".concat(sa,"/REMOVE_SEEKBAR_CLASS"),UPDATE_PREVENT_SEEK:"".concat(sa,"/UPDATE_PREVENT_SEEK")},ua={currentTime:0,virtualTime:0,draggingActive:!1,hoverActive:!1,previewHoverActive:!1,clientRect:{x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0},hidePreview:!1,hideTimeBubble:!1,segments:[],seekbarClasses:[],isPreventSeek:!1},ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case la.UPDATE_SEEKBAR_DRAGGING_STATUS:return oa(oa({},e),{},{draggingActive:t.draggingActive});case la.UPDATE_SEEKBAR_HOVER_ACTIVE:return oa(oa({},e),{},{hoverActive:t.hoverActive});case la.UPDATE_SEEKBAR_PREVIEW_HOVER_ACTIVE:return oa(oa({},e),{},{previewHoverActive:t.previewHoverActive});case la.UPDATE_SEEKBAR_CLIENT_RECT:return oa(oa({},e),{},{clientRect:t.clientRect});case la.UPDATE_HIDE_SEEKBAR_PREVIEW:return oa(oa({},e),{},{hidePreview:t.hidePreview});case la.UPDATE_HIDE_SEEKBAR_TIME_BUBBLE:return oa(oa({},e),{},{hideTimeBubble:t.hideTimeBubble});case la.UPDATE_CURRENT_TIME:return oa(oa({},e),{},{currentTime:t.currentTime});case la.UPDATE_VIRTUAL_TIME:return oa(oa({},e),{},{virtualTime:t.virtualTime});case la.UPDATE_HOVERED_SEGMENT:return oa(oa({},e),{},{segments:e.segments.map((function(e){return e.id===t.id?oa(oa({},e),{},{isHovered:t.isHovered}):e}))});case la.UPDATE_SEEKBAR_SEGMENTS:return oa(oa({},e),{},{segments:t.segments});case la.UPDATE_SEGMENT_END_TIME:return oa(oa({},e),{},{segments:e.segments.map((function(e){return e.id===t.id?oa(oa({},e),{},{endTime:t.endTime}):e}))});case la.ADD_SEEKBAR_CLASS:return e.seekbarClasses.includes(t.className)?e:oa(oa({},e),{},{seekbarClasses:[].concat(L()(e.seekbarClasses),[t.className])});case la.REMOVE_SEEKBAR_CLASS:return oa(oa({},e),{},{seekbarClasses:e.seekbarClasses.filter((function(e){return e!==t.className}))});case la.UPDATE_PREVENT_SEEK:return oa(oa({},e),{},{isPreventSeek:t.isPreventSeek});default:return e}},da={updateSeekbarDraggingStatus:function(e){return{type:la.UPDATE_SEEKBAR_DRAGGING_STATUS,draggingActive:e}},updateSeekbarHoverActive:function(e){return{type:la.UPDATE_SEEKBAR_HOVER_ACTIVE,hoverActive:e}},updateSeekbarPreviewHoverActive:function(e){return{type:la.UPDATE_SEEKBAR_PREVIEW_HOVER_ACTIVE,previewHoverActive:e}},updateSeekbarClientRect:function(e){return{type:la.UPDATE_SEEKBAR_CLIENT_RECT,clientRect:e}},updateHideSeekbarPreview:function(e){return{type:la.UPDATE_HIDE_SEEKBAR_PREVIEW,hidePreview:e}},updateHideSeekbarTimeBubble:function(e){return{type:la.UPDATE_HIDE_SEEKBAR_TIME_BUBBLE,hideTimeBubble:e}},updateCurrentTime:function(e){return{type:la.UPDATE_CURRENT_TIME,currentTime:e}},updateVirtualTime:function(e){return{type:la.UPDATE_VIRTUAL_TIME,virtualTime:e}},updateHoveredSegment:function(e,t){return{type:la.UPDATE_HOVERED_SEGMENT,id:e,isHovered:t}},updateSegmentEndTime:function(e,t){return{type:la.UPDATE_SEGMENT_END_TIME,id:e,endTime:t}},updateSeekbarSegments:function(e){return{type:la.UPDATE_SEEKBAR_SEGMENTS,segments:e}},addSeekbarClass:function(e){return{type:la.ADD_SEEKBAR_CLASS,className:e}},removeSeekbarClass:function(e){return{type:la.REMOVE_SEEKBAR_CLASS,className:e}},updatePreventSeek:function(e){return{type:la.UPDATE_PREVENT_SEEK,isPreventSeek:e}}};function pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pa(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ha={UPDATE_VOLUME_DRAGGING_STATUS:"volume/UPDATE_VOLUME_DRAGGING_STATUS",UPDATE_HOVER:"volume/UPDATE_HOVER"},ya={draggingActive:!1,hover:!1},ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ha.UPDATE_VOLUME_DRAGGING_STATUS:return fa(fa({},e),{},{draggingActive:t.draggingActive});case ha.UPDATE_HOVER:return fa(fa({},e),{},{hover:t.hover});default:return e}},va={updateVolumeDraggingStatus:function(e){return{type:ha.UPDATE_VOLUME_DRAGGING_STATUS,draggingActive:e}},updateVolumeHover:function(e){return{type:ha.UPDATE_HOVER,hover:e}}};function ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ma(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ma(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ka="loading",Ea={UPDATE_LOADING_SPINNER_STATE:"".concat(ka,"/UPDATE_LOADING_SPINNER_STATE")},Ta={show:!1},_a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ti.UPDATE:return Qr(ka,e,t);case ti.UPDATE_COMPONENT:return Jr(ka,e,t);case Ea.UPDATE_LOADING_SPINNER_STATE:return ba(ba({},e),{},{show:t.show});default:return e}},Aa={updateLoadingSpinnerState:function(e){return{type:Ea.UPDATE_LOADING_SPINNER_STATE,show:e}}};function Sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sa(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ca={UPDATE_CAPTIONS_STYLE:"cvaa/UPDATE_CAPTIONS_STYLE"},xa={style:"default"},Pa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa,t=arguments.length>1?arguments[1]:void 0;return t.type===Ca.UPDATE_CAPTIONS_STYLE?wa(wa({},e),{},{style:t.style}):e},Ra={updateCaptionsStyle:function(e){return{type:Ca.UPDATE_CAPTIONS_STYLE,style:e}}};function Ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Da(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ia(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ia(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oa={UPDATE_QUALITY:"settings/UPDATE_QUALITY",UPDATE_SPEED:"settings/UPDATE_SPEED",UPDATE_AUDIO:"settings/UPDATE_AUDIO",UPDATE_ADVANCED_AUDIO_DESC:"settings/UPDATE_ADVANCED_AUDIO_DESC",UPDATE_IS_CAPTIONS_ENABLED:"settings/UPDATE_IS_CAPTIONS_ENABLED"},La={quality:1,speed:2,advancedAudioDesc:!1,isCaptionsEnabled:!1},Ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oa.UPDATE_QUALITY:return Da(Da({},e),{},{quality:t.quality});case Oa.UPDATE_SPEED:return Da(Da({},e),{},{speed:t.speed});case Oa.UPDATE_AUDIO:return Da(Da({},e),{},{audio:t.audio});case Oa.UPDATE_ADVANCED_AUDIO_DESC:return Da(Da({},e),{},{advancedAudioDesc:t.isChecked});case Oa.UPDATE_IS_CAPTIONS_ENABLED:return Da(Da({},e),{},{isCaptionsEnabled:t.isCaptionsEnabled});default:return e}},Na={updateQuality:function(e){return{type:Oa.UPDATE_QUALITY,quality:e}},updateSpeed:function(e){return{type:Oa.UPDATE_SPEED,speed:e}},updateAudio:function(e){return{type:Oa.UPDATE_AUDIO,audio:e}},updateAdvancedAudioDesc:function(e){return{type:Oa.UPDATE_ADVANCED_AUDIO_DESC,isChecked:e}},updateIsCaptionsEnabled:function(e){return{type:Oa.UPDATE_IS_CAPTIONS_ENABLED,isCaptionsEnabled:e}}};function Ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fa={UPDATE_ACTION_ICON:"overlay-action/UPDATE_ACTION_ICON"},ja={iconType:null},Ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ja,t=arguments.length>1?arguments[1]:void 0;return t.type===Fa.UPDATE_ACTION_ICON?Ba(Ba({},e),{},{iconType:t.iconType}):e},Va={updateOverlayActionIcon:function(e){return{type:Fa.UPDATE_ACTION_ICON,iconType:e}}};function Ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ka(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var za={UPDATE_PLAYLIST_COUNTDOWN_CANCELED:"playlist-countdown/UPDATE_PLAYLIST_COUNTDOWN_CANCELED"},Wa={countdownCanceled:!1},Ya=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wa,t=arguments.length>1?arguments[1]:void 0;return t.type===za.UPDATE_PLAYLIST_COUNTDOWN_CANCELED?Ka(Ka({},e),{},{countdownCanceled:t.countdownCanceled}):e},Za={updatePlaylistCountdownCanceled:function(e){return{type:za.UPDATE_PLAYLIST_COUNTDOWN_CANCELED,countdownCanceled:e}}};function qa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qa(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qa={UPDATE_OVERLAY:"overlay/UPDATE_OVERLAY"},Ja={isOpen:!1},$a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja,t=arguments.length>1?arguments[1]:void 0;return t.type===Qa.UPDATE_OVERLAY?Xa(Xa({},e),{},{isOpen:t.isOpen}):e},eo={updateOverlay:function(e){return{type:Qa.UPDATE_OVERLAY,isOpen:e}}};function to(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function no(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?to(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):to(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ro,io,ao,oo,so,lo,uo={UPDATE_CONTROLS_TO_MOVE:"bottom-bar/UPDATE_CONTROLS_TO_MOVE"},co={controlsToMove:[]},po=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:co,t=arguments.length>1?arguments[1]:void 0;return t.type===uo.UPDATE_CONTROLS_TO_MOVE?no(no({},e),{},{controlsToMove:t.controlsToMove}):e},fo={updateControlsToMove:function(e){return{type:uo.UPDATE_CONTROLS_TO_MOVE,controlsToMove:e}}},ho=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:Ht.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:Ht.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+Ht.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var l=o[s],u=n[l],c=e[l],d=u(c,t);if(void 0===d){var p=Gt(l,t);throw new Error(p)}i[l]=d,r=r||d!==c}return(r=r||o.length!==Object.keys(e).length)?i:e}}({config:ri,engine:di,shell:Mr,seekbar:ca,volume:ga,loading:_a,cvaa:Pa,settings:Ma,overlayAction:Ha,playlist:Ya,overlay:$a,bottomBar:po}),yo=ho,go=JSON.parse('{"en":{"controls":{"play":"Play","pause":"Pause","title":"title","language":"Language","settings":"Settings","fullscreen":"Fullscreen","fullscreenExit":"Exit fullscreen","rewind":"Seek backwards","secondsRewind":"Seek {{seconds}} seconds backwards","forward":"Seek forward","secondsForward":"Seek {{seconds}} seconds forward","vrStereo":"vrStereo","closedCaptionsOn":"Disable Captions","closedCaptionsOff":"Enable Captions","live":"Live","mute":"Mute","unmute":"Unmute","next":"Next","prev":"Prev","startOver":"Start over","pictureInPicture":"Picture in picture","pictureInPictureExit":"Exit picture in picture","logo":"Logo","seekBarSlider":"Seek bar","readLess":"Less","readMore":"More","valuetextLabel":"of"},"unmute":{"unmute":"Unmute"},"volume":{"muted_click_to_unmute":"Muted. Click to unmute","volume_click_to_mute":"{{vol}}% volume. Click to mute","ten_percent":"ten percent","twenty_percent":"twenty percent","thirty_percent":"thirty percent","fourty_percent":"forty percent","fifty_percent":"fifty percent","sixty_percent":"sixty percent","seventy_percent":"seventy percent","eighty_percent":"eighty percent","ninety_percent":"ninety percent","one_hundred_percent":"one hundred percent","volume_button_aria_label":"Volume","volume_button_description":"Click to volume control","volume_slider_aria_label":"Volume control","volume_slider_description":"Use the arrows to control the volume"},"copy":{"button":"Copy URL"},"settings":{"title":"Settings","audio":"Audio","quality":"Quality","speed":"Speed","speedNormal":"Normal","qualityAuto":"Auto","qualityHdLabel":"Quality is HD","quality4kLabel":"Quality is 4k","quality8kLabel":"Quality is 8k","advanced_audio_description":"Extended Audio Description","advanced_audio_description_enabled":"Disable Extended Audio Description","advanced_audio_description_disabled":"Enable Extended Audio Description"},"captions":{"captions":"Captions","advanced_captions_settings":"Advanced captions settings"},"overlay":{"close":"Close"},"error":{"default_error_title":"Something went wrong","default_error_message":"An error occurred, please try again later.","network_error_title":"There’s a problem with your network","network_error_message":"Please check your network connection and try again.","media_unavailable_error_title":"Media unavailable","media_unavailable_error_message":"This media has been restricted. Please obtain relevant permissions to access content.","text_error_title":"Text stream error","text_error_message":"Text stream error occurred","media_error_title":"Media stream error","media_error_message":"One or more media streams have failed.","manifest_error_title":"Play manifest error","manifest_error_message":"Error processing the play manifest.","streaming_error_title":"Cannot load stream","streaming_error_message":"A streaming protocol error occurred.","drm_error_message":"You don’t have permissions to view this media.","media_not_ready_error_title":"Media is being processed","media_not_ready_error_message":"Media is processing, check back soon.","geo_location_error_title":"Geo location unavailable","geo_location_error_message":"This content is unavailable in your region.","ip_restricted_error_message":"This media has been restricted to certain IP addresses.","site_restricted_error_message":"This content is unavailable in this domain.","scheduled_restricted_error_message":"This content is currently unavailable.","default_session_text":"Copy for customer care: session ID","retry":"Try again","error_title":"Error","access_control_error_message":"Blocked by Conditional Access","copy_debug_info":"Copy debug info"},"ads":{"ad_notice":"Advertisement","learn_more":"Learn more","skip_ad":"Skip ad","skip_in":"Skip in"},"cvaa":{"title":"Advanced captions settings","sample_caption_tag":"Sample {{number}}","sample_custom_caption_tag":"Custom captions","set_custom_caption":"Set custom caption","edit_caption":"Edit caption","size_label":"Size","font_color_label":"Font color","font_alignment_label":"Font alignment","font_family_label":"Font family","font_style_label":"Font style","font_opacity_label":"Font opacity","background_color_label":"Background color","background_opacity_label":"Background opacity","apply":"Apply","caption_preview":"This is your caption preview","close_label":"Close Advanced captions settings"},"cast":{"play_on_tv":"Play on TV","disconnect_from_tv":"Disconnect from TV","status":{"connecting_to":"Connecting to","connected_to":"Connected to","playing_on":"Playing on"}},"playlist":{"prev":"Previous","next":"Next","up_next":"Up Next","up_next_in":"Up next in","cancel":"Cancel"},"pictureInPicture":{"overlay_text":"Playing in Picture In Picture mode"},"watermark":{"watermark_alt_text":"Watermark"},"spinner":{"loading":"Loading"},"videoArea":{"videoLabel":"Video player. Use the play button or press the space bar to start playback."}}}'),vo={Top:"top",Bottom:"bottom",TopRight:"top-right",TopLeft:"top-left",BottomRight:"bottom-right",BottomLeft:"bottom-left",Left:"left",Right:"right"},mo=un((function(e){return{playerClientRect:e.shell.playerClientRect,guiClientRect:e.shell.guiClientRect,isMobile:e.shell.isMobile}}))(ro=ar((io=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"_hoverTimeout",null),j()(Qn()(e),"textElement",void 0),j()(Qn()(e),"tooltipElement",void 0),j()(Qn()(e),"lastAlternativeTypeIndex",-1),j()(Qn()(e),"_buttonRef",null),j()(Qn()(e),"showTooltip",(function(){e.setState({showTooltip:!0})})),j()(Qn()(e),"hideTooltip",(function(){e.setState({showTooltip:!1})})),j()(Qn()(e),"handleKeyDown",(function(t){t.keyCode===lr.ESC&&e.hideTooltip()})),j()(Qn()(e),"setButtonRef",(function(t){e._buttonRef=t})),j()(Qn()(e),"handleFocusOnChildren",(function(){var t=e.props.children.props.onFocus;e.showTooltip(),t&&t()})),j()(Qn()(e),"handleBlurOnChildren",(function(){var t=e.props.children.props.onBlur;e.hideTooltip(),t&&t()})),j()(Qn()(e),"onMouseOver",(function(){e._clearHoverTimeout(),e._hoverTimeout=setTimeout((function(){e.showTooltip()}),750)})),j()(Qn()(e),"onMouseLeave",(function(){e.hideTooltip(),e._clearHoverTimeout()})),j()(Qn()(e),"handleRef",(function(t){e.setButtonRef(t);var n=e.props.children.ref;"function"==typeof n?n(t):n&&"object"===jn()(n)&&(n.current=t)})),e}return B()(i,[{key:"_clearHoverTimeout",value:function(){this._hoverTimeout&&(clearTimeout(this._hoverTimeout),this._hoverTimeout=null)}},{key:"getAlternateType",value:function(){var e=this;return Object.values(vo).find((function(t,n){return n>e.lastAlternativeTypeIndex&&t!=e.props.type&&(e.lastAlternativeTypeIndex=n,!0)}))}},{key:"isToolTipInBoundaries",value:function(){if(this.props.strictPosition)return!0;var e=this.textElement.getBoundingClientRect(),t=this.props.playerClientRect;return e.top>t.top+5&&e.bottom<t.bottom-5&&e.right<t.right-5&&e.left>t.left+5}},{key:"componentWillMount",value:function(){this.setState({valid:!1,type:this.props.type})}},{key:"componentDidMount",value:function(){var e,t=this,n=this.props.eventManager;n.listen(document,"click",(function(e){return t.handleClickOutside(e)})),(null===(e=this._buttonRef)||void 0===e?void 0:e.addEventListener)&&n.listen(this._buttonRef,"keydown",this.handleKeyDown)}},{key:"handleClickOutside",value:function(e){var t;!(null===(t=this.tooltipElement)||void 0===t?void 0:t.contains(e.target))&&this.state.showTooltip&&this.hideTooltip()}},{key:"componentDidUpdate",value:function(e){if(this.props.guiClientRect!==e.guiClientRect)this.lastAlternativeTypeIndex=-1,this.setState({valid:!1,type:this.props.type});else if(this.state.showTooltip)if(this.isToolTipInBoundaries())this.state.valid||this.setState({valid:!0});else{var t=this.getAlternateType();t&&this.setState({valid:!1,type:t})}}},{key:"componentWillUnmount",value:function(){this._clearHoverTimeout()}},{key:"render",value:function(e){var t=this,n=[Xr().tooltipLabel,Xr()["tooltip-".concat(this.state.type)]];if(e.className&&n.push(e.className),this.state.showTooltip&&this.state.valid?n.push(Xr().show):n.push(Xr().hide),e.isMobile)return ne(e.children)[0];var r=ge(e.children,{onFocus:this.handleFocusOnChildren,onBlur:this.handleBlurOnChildren,ref:this.handleRef});return W("div",{className:Xr().tooltip,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,ref:function(e){return e?t.tooltipElement=e:void 0}},r,W("span",{"aria-hidden":"true",style:{maxWidth:e.maxWidth},ref:function(e){return e?t.textElement=e:void 0},className:n.join(" ")},e.label))}}]),i}(X),j()(io,"defaultProps",{type:vo.Top,maxWidth:"240px",strictPosition:!1}),ro=io))||ro)||ro,bo="chromecast",ko="Cast",Eo=(ao=un((function(e){return{isCasting:e.engine.isCasting,isCastAvailable:e.engine.isCastAvailable}})),oo=yr(ko),so=Un({castText:"cast.play_on_tv"}),ao(lo=jr(lo=ar(lo=oo(lo=so(lo=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"onClick",(function(){e.props.player.setIsCastInitiator(bo,!0),e.props.eventManager.listenOnce(e.props.player,e.props.player.Event.Cast.CAST_SESSION_START_FAILED,(function(){return e.props.player.setIsCastInitiator(bo,!1)}))})),j()(Qn()(e),"onKeyDown",(function(t){t.keyCode!==lr.ENTER&&t.keyCode!==lr.SPACE||(t.preventDefault(),e.props.player.startCasting(bo))})),e}return B()(i,[{key:"_shouldRender",value:function(){var e=this.props.isCasting||this.props.isCastAvailable;return this.props.onToggle(ko,e),e}},{key:"render",value:function(e){if(this._shouldRender()){var t,n=e.isCasting?"".concat(Xr().castButton," ").concat(Xr().castButtonActive):Xr().castButton;return W("div",{role:"button","aria-label":this.props.castText,className:Xr().controlButtonContainer,onClick:this.onClick,onKeyDown:this.onKeyDown},W(mo,{label:this.props.castText,type:(null===(t=e.classNames)||void 0===t?void 0:t.includes(Xr().upperBarIcon))?"bottom-left":"top",strictPosition:!0},W("google-cast-launcher",{className:n,tabIndex:"0"})))}}}]),i}(X))||lo)||lo)||lo)||lo)||lo);function To(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?To(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):To(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Eo.displayName=ko;var Ao,So,wo,Co,xo={Maximize:"maximize",Minimize:"minimize",Play:"play",Pause:"pause",VolumeBase:"volume-base",VolumeWaves:"volume-waves",VolumeWave:"volume-wave",VolumeMute:"volume-mute",Close:"close",Settings:"settings",Check:"check",CheckActive:"check-active",Language:"language",Quality:"quality",Captions:"captions",Speed:"speed",SpeedDown:"speed-down",SpeedUp:"speed-up",Audio:"audio",ArrowDown:"arrow-down",StartOver:"start-over",SeekEnd:"seek-end",Rewind:"rewind",Rewind10:"rewind10",Forward:"forward",Forward10:"forward10",vrStereo:"vr-stereo",vrStereoFull:"vr-stereo-full",Cast:"cast",CastBrand:"cast-brand",Next:"next",Prev:"prev",PictureInPictureStart:"picture-in-picture-start",PictureInPictureStop:"picture-in-picture-stop",ClosedCaptionsOn:"closed-captions-on",ClosedCaptionsOff:"closed-captions-off",AdvancedAudioDescription:"advanced-audio-description",AdvancedAudioDescriptionActive:"advanced-audio-description-active"},Po={qualityHd:"".concat(Xr().badgeIcon," ").concat(Xr().iconQualityHd),qualityHdActive:"".concat(Xr().badgeIcon," ").concat(Xr().iconQualityHdActive),quality4k:"".concat(Xr().badgeIcon," ").concat(Xr().iconQuality4K),quality4kActive:"".concat(Xr().badgeIcon," ").concat(Xr().iconQuality4KActive),quality8k:"".concat(Xr().badgeIcon," ").concat(Xr().iconQuality8K),quality8kActive:"".concat(Xr().badgeIcon," ").concat(Xr().iconQuality8KActive)},Ro={INACTIVE:0,ACTIVE:1},Io=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(e){var t;N()(this,i),t=r.call(this,e),j()(Qn()(t),"_defaultColor",Xr().white),j()(Qn()(t),"_activeColor",Xr().brandColor),j()(Qn()(t),"_className",""),j()(Qn()(t),"createDynamicIconClass",(function(e){var n=e.path,r=e.state,i=e.color,a=e.activeColor,o=e.width,s=e.height,l=e.viewBox,u=e.fillRule,c=t.getFillColor(r,i,a),d=t.getPathTag(n,c),p=t.getSVGUrl(d,o,s,l,u),f=".".concat(t._className," { background-image: ").concat(p,"; }"),h=document.getElementById(wh);h&&h.appendChild(document.createTextNode(f))})),j()(Qn()(t),"getSVGUrl",(function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:36,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:36,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"nonzero",i='<svg xmlns="http://www.w3.org/2000/svg"  xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="'.concat(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"0 0 1024 1024",'" width="').concat(t,'" height="').concat(n,'" fill-rule="').concat(r,'">').concat(e,"</svg>"),a=[['"',"'"],["%","%25"],["&","%26"],["#","%23"],["{","%7B"],["}","%7D"],["<","%3C"],[">","%3E"]],o=2e3,s=Math.ceil(i.length/o),l=0,u="",c=0;c<s;c++){for(var d=i.slice(l,l+o-1),p=0;p<a.length;p++)d=d.split(a[p][0]).join(a[p][1]);u="".concat(u).concat(d),l+=o}return'url("data:image/svg+xml,'.concat(u,'")')})),j()(Qn()(t),"getFillColor",(function(e,n,r){return e===Ro.ACTIVE?r||t._activeColor:n||t._defaultColor})),j()(Qn()(t),"getPathTag",(function(e,t){return Array.isArray(e)||(e=[e]),e.map((function(e){var n="string"==typeof e?{d:e,fill:t}:_o(_o({},e),{},{fill:t}),r=Object.keys(n).map((function(e){return"".concat(e,'="').concat(n[e],'"')})).join(" ");return"<path ".concat(r," />")})).join(" ")}));var n=e.path,a=e.id;if(n&&a){t._className="playkit-icon-".concat(a);var o=Array.from(document.styleSheets).find((function(e){return e.ownerNode.id===wh}));o&&Array.from(o.rules).find((function(e){return e.selectorText===".".concat(t._className)}))||t.createDynamicIconClass(e)}return t}return B()(i,[{key:"componentWillUpdate",value:function(e){this._className&&this.props.state!==e.state&&this.createDynamicIconClass(e)}},{key:"render",value:function(e){if(this._className)return W("i",qn()({className:[Xr().icon,this._className].join(" ")},e.hidden?{"aria-hidden":"true"}:{}));switch(e.type){case xo.Maximize:return W("i",{className:[Xr().icon,Xr().iconMaximize].join(" "),"aria-hidden":"true"});case xo.Minimize:return W("i",{className:[Xr().icon,Xr().iconMinimize].join(" "),"aria-hidden":"true"});case xo.Play:return W("i",{className:[Xr().icon,Xr().iconPlay].join(" "),"aria-hidden":"true"});case xo.Pause:return W("i",{className:[Xr().icon,Xr().iconPause].join(" "),"aria-hidden":"true"});case xo.VolumeBase:return W("i",{className:[Xr().icon,Xr().iconVolumeBase].join(" "),"aria-hidden":"true"});case xo.VolumeWaves:return W("i",{className:[Xr().icon,Xr().iconVolumeWaves].join(" "),"aria-hidden":"true"});case xo.VolumeWave:return W("i",{className:[Xr().icon,Xr().iconVolumeWave].join(" "),"aria-hidden":"true"});case xo.VolumeMute:return W("i",{className:[Xr().icon,Xr().iconVolumeMute].join(" "),"aria-hidden":"true"});case xo.Close:return W("i",{className:[Xr().icon,Xr().iconClose].join(" "),"aria-hidden":"true"});case xo.Settings:return W("i",{className:[Xr().icon,Xr().iconSettings].join(" "),"aria-hidden":"true"});case xo.Check:return W("i",{className:[Xr().icon,Xr().iconCheck].join(" ")});case xo.CheckActive:return W("i",{className:[Xr().icon,Xr().iconCheckActive].join(" ")});case xo.Language:return W("i",{className:[Xr().icon,Xr().iconLanguage].join(" "),"aria-hidden":"true"});case xo.Quality:return W("i",{className:[Xr().icon,Xr().iconQuality].join(" ")});case xo.Captions:return W("i",{className:[Xr().icon,Xr().iconCaptions].join(" ")});case xo.Speed:return W("i",{className:[Xr().icon,Xr().iconSpeed].join(" ")});case xo.SpeedDown:return W("i",{className:[Xr().icon,Xr().iconSpeedDown].join(" ")});case xo.SpeedUp:return W("i",{className:[Xr().icon,Xr().iconSpeedUp].join(" ")});case xo.Audio:return W("i",{className:[Xr().icon,Xr().iconAudio].join(" ")});case xo.ArrowDown:return W("i",{className:[Xr().icon,Xr().iconArrowDown].join(" ")});case xo.StartOver:return W("i",{className:[Xr().icon,Xr().iconStartOver].join(" ")});case xo.SeekEnd:return W("i",{className:[Xr().icon,Xr().iconSeekEnd].join(" ")});case xo.Rewind:return W("i",{className:[Xr().icon,Xr().iconRewind].join(" "),"aria-hidden":"true"});case xo.Rewind10:return W("i",{className:[Xr().icon,Xr().iconRewind10].join(" "),"aria-hidden":"true"});case xo.Forward:return W("i",{className:[Xr().icon,Xr().iconForward].join(" "),"aria-hidden":"true"});case xo.Forward10:return W("i",{className:[Xr().icon,Xr().iconForward10].join(" "),"aria-hidden":"true"});case xo.vrStereo:return W("i",{className:[Xr().icon,Xr().iconVrStereo].join(" ")});case xo.vrStereoFull:return W("i",{className:[Xr().icon,Xr().iconVrStereoFull].join(" ")});case xo.Cast:return W("i",{className:[Xr().icon,Xr().iconChromecast].join(" ")});case xo.CastBrand:return W("i",{className:[Xr().icon,Xr().iconChromecastBrand].join(" ")});case xo.Next:return W("i",{className:[Xr().icon,Xr().iconNext].join(" ")});case xo.Prev:return W("i",{className:[Xr().icon,Xr().iconPrev].join(" ")});case xo.PictureInPictureStart:return W("i",{className:[Xr().icon,Xr().iconPictureInPictureStart].join(" "),"aria-hidden":"true"});case xo.PictureInPictureStop:return W("i",{className:[Xr().icon,Xr().iconPictureInPictureStop].join(" "),"aria-hidden":"true"});case xo.ClosedCaptionsOn:return W("i",{className:[Xr().icon,Xr().iconClosedCaptionsOn].join(" "),"aria-hidden":"true"});case xo.ClosedCaptionsOff:return W("i",{className:[Xr().icon,Xr().iconClosedCaptionsOff].join(" "),"aria-hidden":"true"});case xo.AdvancedAudioDescription:return W("i",{className:[Xr().icon,Xr().iconAdvancedAudioDescription].join(" ")});case xo.AdvancedAudioDescriptionActive:return W("i",{className:[Xr().icon,Xr().iconAdvancedAudioDescriptionActive].join(" ")})}}}]),i}(X),Do=Io,Oo=function(e){return e.adBreak&&e.adIsPlaying||!e.adBreak&&e.isPlaying};function Lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Mo,No,Uo,Bo="Keyboard",Fo={preventDefault:!1,payload:null},jo=(Ao=un((function(e){return{isPlayingAdOrPlayback:Oo(e.engine),playerNav:e.shell.playerNav,textTracks:e.engine.textTracks,overlayOpen:e.overlay.isOpen}}),Ur(Object.assign({},Nr,Va))),So=yr(Bo),wo=Oi(Bo),Ao(Co=jr(Co=So(Co=wo(Co=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(e){var t,n;N()(this,i),n=r.call(this),j()(Qn()(n),"_lastActiveTextLanguage",""),j()(Qn()(n),"_hoverTimeout",null),j()(Qn()(n),"keyboardHandlers",(t={},j()(t,lr.SPACE,(function(){return n.props.isPlayingAdOrPlayback?(n.props.player.pause(),n.props.updateOverlayActionIcon(xo.Pause)):(n.props.player.play(),n.props.updateOverlayActionIcon(xo.Play)),n.props.updatePlayerHoverState(!0),{preventDefault:!0,payload:!0}})),j()(t,lr.UP,(function(){var e=(Math.round(100*n.props.player.volume)+5)/100;return e=e>1?1:e,n.props.logger.debug("Changing volume. ".concat(n.props.player.volume," => ").concat(e)),n.props.player.muted&&(n.props.player.muted=!1),n.props.player.volume=e,n.props.updateOverlayActionIcon([xo.VolumeBase,xo.VolumeWaves]),{preventDefault:!0,payload:{volume:n.props.player.volume}}})),j()(t,lr.DOWN,(function(){var e=(Math.round(100*n.props.player.volume)-5)/100;return e=e<0?0:e,n.props.logger.debug("Changing volume. ".concat(n.props.player.volume," => ").concat(e)),n.props.player.volume=e,0===e?(n.props.player.muted=!0,n.props.updateOverlayActionIcon([xo.VolumeBase,xo.VolumeMute])):n.props.updateOverlayActionIcon([xo.VolumeBase,xo.VolumeWave]),{preventDefault:!0,payload:{volume:n.props.player.volume}}})),j()(t,lr.F,(function(){return n.props.player.isFullscreen()?{preventDefault:!0,payload:null}:(n.props.logger.debug("Enter fullscreen"),n.props.player.enterFullscreen(),{preventDefault:!0,payload:!0})})),j()(t,lr.P,(function(){return n.props.player.isInPictureInPicture()?(n.props.logger.debug("Exit Picture In Picture"),n.props.player.exitPictureInPicture()):(n.props.logger.debug("Enter Picture In Picture"),n.props.player.enterPictureInPicture()),n.props.updatePlayerHoverState(!0),{preventDefault:!0,payload:!0}})),j()(t,lr.ESC,(function(){return n.props.player.isFullscreen()?(n.props.logger.debug("Exit fullscreen"),n.props.player.exitFullscreen(),{preventDefault:!0,payload:!0}):{preventDefault:!0,payload:null}})),j()(t,lr.LEFT,(function(){if((!n.props.player.ads||!n.props.player.ads.isAdBreak())&&(!n.props.player.isLive()||n.props.player.isDvr())){var e=n.props.player.currentTime-5,t=n.props.player.currentTime,r=e>0?e:0;return n.props.logger.debug("Seek. ".concat(t," => ").concat(r)),n.props.player.currentTime=r,n.props.updateOverlayActionIcon(xo.Rewind),n.props.updatePlayerHoverState(!0),{preventDefault:!0,payload:{from:t,to:r}}}return{preventDefault:!0,payload:null}})),j()(t,lr.RIGHT,(function(){if((!n.props.player.ads||!n.props.player.ads.isAdBreak())&&(!n.props.player.isLive()||n.props.player.isDvr())){var e=n.props.player.currentTime+5,t=n.props.player.currentTime,r=e>n.props.player.duration?n.props.player.duration:e;return n.props.logger.debug("Seek. ".concat(t," => ").concat(r)),n.props.player.currentTime=e>n.props.player.duration?n.props.player.duration:e,n.props.updateOverlayActionIcon(xo.Forward),n.props.updatePlayerHoverState(!0),{preventDefault:!0,payload:{from:t,to:r}}}return{preventDefault:!0,payload:null}})),j()(t,lr.HOME,(function(){if((!n.props.player.ads||!n.props.player.ads.isAdBreak())&&(!n.props.player.isLive()||n.props.player.isDvr())){var e=n.props.player.currentTime;return n.props.logger.debug("Seek. ".concat(e," => ").concat(0)),n.props.player.currentTime=0,n.props.updateOverlayActionIcon(xo.StartOver),n.props.updatePlayerHoverState(!0),{preventDefault:!0,payload:{from:e,to:0}}}return{preventDefault:!0,payload:null}})),j()(t,lr.END,(function(){if((!n.props.player.ads||!n.props.player.ads.isAdBreak())&&(!n.props.player.isLive()||n.props.player.isDvr())){var e=n.props.player.currentTime,t=n.props.player.duration;return n.props.logger.debug("Seek. ".concat(e," => ").concat(t)),n.props.player.currentTime=t,n.props.updateOverlayActionIcon(xo.SeekEnd),n.props.updatePlayerHoverState(!0),{preventDefault:!0,payload:{from:e,to:t}}}return{preventDefault:!0,payload:null}})),j()(t,lr.M,(function(){return n.props.logger.debug(n.props.player.muted?"Umnute":"Mute"),n.props.player.muted=!n.props.player.muted,n.props.player.muted?n.props.updateOverlayActionIcon([xo.VolumeBase,xo.VolumeMute]):n.props.updateOverlayActionIcon([xo.VolumeBase,xo.VolumeWaves]),{preventDefault:!0,payload:!0}})),j()(t,lr.SEMI_COLON,(function(e){return e.shiftKey?n.props.player.playbackRate!==n.props.player.defaultPlaybackRate?(n.props.logger.debug("Changing playback rate. ".concat(n.props.player.playbackRate," => ").concat(n.props.player.defaultPlaybackRate)),n.props.player.playbackRate=n.props.player.defaultPlaybackRate,n.props.updateOverlayActionIcon(xo.Speed),{preventDefault:!0,payload:{speed:n.props.player.defaultPlaybackRate}}):{preventDefault:!0,payload:null}:Fo})),j()(t,lr.PERIOD,(function(e){if(e.shiftKey){var t=n.props.player.playbackRate,r=n.props.player.playbackRates.indexOf(t);return r<n.props.player.playbackRates.length-1?(n.props.logger.debug("Changing playback rate. ".concat(t," => ").concat(n.props.player.playbackRates[r+1])),n.props.player.playbackRate=n.props.player.playbackRates[r+1],n.props.updateOverlayActionIcon(xo.SpeedUp),{preventDefault:!0,payload:{speed:n.props.player.playbackRates[r+1]}}):{preventDefault:!0,payload:null}}return Fo})),j()(t,lr.COMMA,(function(e){if(e.shiftKey){var t=n.props.player.playbackRate,r=n.props.player.playbackRates.indexOf(t);return r>0?(n.props.logger.debug("Changing playback rate. ".concat(t," => ").concat(n.props.player.playbackRates[r-1])),n.props.player.playbackRate=n.props.player.playbackRates[r-1],n.props.updateOverlayActionIcon(xo.SpeedDown),{preventDefault:!0,payload:{speed:n.props.player.playbackRates[r-1]}}):{preventDefault:!0,payload:null}}return Fo})),j()(t,lr.C,(function(e){var t=n.props.player.getActiveTracks().text;if(e.altKey||e.shiftKey||e.ctrlKey||e.metaKey)return Fo;if(t){if("off"===t.language&&n._lastActiveTextLanguage){n.props.logger.debug("Changing text track to language",n._lastActiveTextLanguage);var r=n.props.player.getTracks("text").find((function(e){return e.language===n._lastActiveTextLanguage}));return n.props.player.selectTrack(r),{preventDefault:!0,payload:{track:r}}}"off"===t.language||n._lastActiveTextLanguage||(n.props.logger.debug("Hiding text track"),n._lastActiveTextLanguage=t.language,n.props.player.hideTextTrack())}return{preventDefault:!0,payload:null}})),t));var a=document.getElementById(e.config.targetId);return a?(a.onkeydown=function(e){var t=e.target instanceof Node&&e.target.nodeName||"";if(-1===["INPUT","SELECT","TEXTAREA"].indexOf(t)&&!n.props.overlayOpen&&!n.props.playerNav&&"function"==typeof n.keyboardHandlers[e.keyCode]){n.props.logger.debug("KeyDown -> keyName: ".concat(function(e){for(var t in lr)if(lr[t]===e)return t;return"NOT_FOUND"}(e.keyCode),", shiftKey: ").concat(e.shiftKey.toString()));var r=n.keyboardHandlers[e.keyCode](e),i=r.preventDefault,a=r.payload;i&&e.preventDefault(),a&&n.props.notifyClick(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lo(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({key:e.keyCode},a))}},n):tr()(n)}return B()(i,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.textTracks.find((function(e){return e.active})),n=e.textTracks.find((function(e){return e.active}));t&&"off"!==t.language&&n&&"off"===n.language?this._lastActiveTextLanguage=t.language:n&&"off"!==n.language&&(this._lastActiveTextLanguage="")}},{key:"render",value:function(){}}]),i}(X))||Co)||Co)||Co)||Co),Ho=["keydown","keyup"],Vo=(Mo=un((function(e){return{playerNav:e.shell.playerNav,overlayOpen:e.overlay.isOpen}})),No=yr("KEYBOARD_PROVIDER"),Mo(Uo=ar(Uo=No(Uo=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return N()(this,i),e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"_keyboardListeners",[]),j()(Qn()(e),"_isKeyboardEnable",!1),j()(Qn()(e),"_componentToHandle",null),j()(Qn()(e),"keyEventHandler",void 0),j()(Qn()(e),"_addKeyboardHandler",(function(t,n,r,i){var a=e._createKeyCode(n,r);e._keyboardListeners[a]?e.props.logger.warn("Combination of key ".concat(r.code," altKey ").concat((!!r.altKey).toString()," ctrlKey ").concat((!!r.ctrlKey).toString(),"\n      metaKey ").concat((!!r.metaKey).toString()," shiftKey ").concat((!!r.shiftKey).toString()," already exist")):e._keyboardListeners[a]={callback:i,componentName:t}})),j()(Qn()(e),"_removeKeyboardHandler",(function(t,n){var r=e._createKeyCode(t,n);e._keyboardListeners[r]&&delete e._keyboardListeners[r]})),j()(Qn()(e),"_updateIsKeyboardEnabled",(function(t){e._isKeyboardEnable=t})),j()(Qn()(e),"_setKeyboardEventToScope",(function(t){e._componentToHandle=t})),e}return B()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.eventManager,r=t.playerContainer;this.keyEventHandler=this._keyEventHandler.bind(this),Ho.forEach((function(t){n.listen(r,t,e.keyEventHandler)}))}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"_keyEventHandler",value:function(e){var t=this._createKeyCode(e.type,{code:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey}),n=e.target instanceof Node&&e.target.nodeName||"";-1!==["INPUT","SELECT","TEXTAREA"].indexOf(n)||!this._shouldHandleKeyboardEvents()||!this._keyboardListeners[t]||"function"!=typeof this._keyboardListeners[t].callback||this._componentToHandle&&this._keyboardListeners[t].componentName!==this._componentToHandle||(e.preventDefault(),e.stopPropagation(),this._keyboardListeners[t].callback(e))}},{key:"_shouldHandleKeyboardEvents",value:function(){return this._isKeyboardEnable&&!this.props.playerNav&&!this.props.overlayOpen}},{key:"_createKeyCode",value:function(e,t){var n=Ho.indexOf(e),r=t.altKey?1:0,i=t.ctrlKey?1:0,a=t.metaKey?1:0,o=t.shiftKey?1:0;return parseInt(""+n+t.code+r+i+a+o)}},{key:"getChildContext",value:function(){return{addKeyboardHandler:this._addKeyboardHandler,removeKeyboardHandler:this._removeKeyboardHandler,updateIsKeyboardEnabled:this._updateIsKeyboardEnabled,setKeyboardEventToScope:this._setKeyboardEventToScope}}},{key:"render",value:function(){return this.props.children&&ne(this.props.children)[0]||null}}]),i}(X))||Uo)||Uo)||Uo),Go=function(e){return function(t){return function(n){$n()(o,n);var r,i,a=(r=o,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rr()(r);if(i){var n=rr()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return tr()(this,e)});function o(){var t;N()(this,o);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=a.call.apply(a,[this].concat(r)),j()(Qn()(t),"keyboardEventHandlers",[]),j()(Qn()(t),"_updateIsKeyboardEnabled",(function(e){t.context.updateIsKeyboardEnabled(e)})),j()(Qn()(t),"_setKeyboardEventToScope",(function(n){n?t.context.setKeyboardEventToScope(e):t.context.setKeyboardEventToScope(null)})),t}return B()(o,[{key:"componentDidMount",value:function(){var t=this;this.keyboardEventHandlers.forEach((function(n){var r=n.eventType?n.eventType:Ho[0];t._addKeyboardHandler(e,r,n.key,n.action)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.keyboardEventHandlers.forEach((function(t){var n=t.eventType?t.eventType:Ho[0];e._removeKeyboardHandler(n,t.key)}))}},{key:"registerKeyboardEvents",value:function(e){this.keyboardEventHandlers=e}},{key:"_addKeyboardHandler",value:function(e,t,n,r){this.context.addKeyboardHandler(e,t,n,r)}},{key:"_removeKeyboardHandler",value:function(e,t){this.context.removeKeyboardHandler(e,t)}},{key:"render",value:function(){var e=this;return W(t,qn()({},this.props,{setKeyboardEventToScope:function(t){return e._setKeyboardEventToScope(t)},updateIsKeyboardEnabled:function(t){return e._updateIsKeyboardEnabled(t)},registerKeyboardEvents:function(t){return e.registerKeyboardEvents(t)}}))}}]),o}(X)}},Ko=Xe((function(e,t){return W("button",qn()({type:"button",ref:t},e))}));Ko.displayName="Button";var zo,Wo,Yo,Zo,qo,Xo,Qo,Jo,$o,es,ts,ns=r(479),rs=r.n(ns),is=Xe((function(e,t){var n=e.className,r=e.children,i=e.name,a=rs()(e,["className","children","name"]),o=[Xr().controlButtonContainer,"".concat("playkit","-control-").concat(as(i))];if(n){var s=Array.isArray(n)?n:[n];o=o.concat(s)}return W("div",qn()({className:o.join(" "),ref:t},a),r)})),as=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase()},os="Fullscreen",ss=(zo=un((function(e){return{isInFullscreen:e.engine.fullscreen}})),Wo=yr(os),Yo=Go(os),Zo=Oi(os),qo=Un({fullscreenText:"controls.fullscreen",fullscreenExitText:"controls.fullscreenExit"}),zo(Xo=jr(Xo=Wo(Xo=Yo(Xo=Zo(Xo=qo(Xo=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"_keyboardEventHandlers",[{key:{code:lr.ENTER},action:function(t){e.handleKeydown(t)}},{key:{code:lr.F},action:function(t){e.handleKeydown(t)}},{key:{code:lr.ESC},action:function(t){e.handleKeydown(t)}}]),j()(Qn()(e),"handleKeydown",(function(t){switch(t.keyCode){case lr.ENTER:t.preventDefault(),t.repeat||e.toggleFullscreen();case lr.F:e.toggleFullscreen();break;case lr.ESC:e.props.player.isFullscreen()&&e.toggleFullscreen()}})),j()(Qn()(e),"toggleFullscreen",(function(){var t=e.props,n=t.logger,r=t.player;n.debug("Toggle fullscreen"),r.isFullscreen()?r.exitFullscreen():r.enterFullscreen(),e.props.notifyClick()})),e}return B()(i,[{key:"componentDidMount",value:function(){this.props.registerKeyboardEvents(this._keyboardEventHandlers)}},{key:"render",value:function(){return W(is,{name:os},W(mo,{label:this.props.isInFullscreen?this.props.fullscreenExitText:this.props.fullscreenText},W(Ko,{tabIndex:"0","aria-label":this.props.isInFullscreen?this.props.fullscreenExitText:this.props.fullscreenText,className:this.props.isInFullscreen?[Xr().controlButton,Xr().isFullscreen].join(" "):Xr().controlButton,onKeyDown:this.handleKeydown,onClick:this.toggleFullscreen},W(Io,{type:xo.Maximize}),W(Io,{type:xo.Minimize}))))}}]),i}(X))||Xo)||Xo)||Xo)||Xo)||Xo)||Xo);function ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function us(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ls(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}ss.displayName=os;var cs="PlayPause",ds=(Qo=un((function(e){return{isPlayingAdOrPlayback:Oo(e.engine),isPlaying:e.engine.isPlaying,adBreak:e.engine.adBreak,isPlaybackEnded:e.engine.isPlaybackEnded,playerSize:e.shell.playerSize}}),Ur(us(us(us({},Nr),Na),Va))),Jo=yr(cs),$o=Oi(cs),es=Un({startOverText:"controls.startOver",pauseText:"controls.pause",playText:"controls.play",title:"controls.title"}),Qo(ts=jr(ts=Jo(ts=$o(ts=ar(ts=es(ts=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"_playPauseButtonRef",{current:null}),j()(Qn()(e),"state",{entryName:""}),j()(Qn()(e),"togglePlayPause",(function(){e.props.logger.debug("Toggle play"),e.props.isPlayingAdOrPlayback?e.props.player.pause():e.props.player.play(),e.props.notifyClick()})),e}return B()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.eventManager,r=t.player,i=[Hi.TINY,Hi.EXTRA_SMALL,Hi.SMALL];n.listenOnce(r,r.Event.UI.USER_CLICKED_PLAY,(function(){n.listenOnce(r,r.Event.Core.FIRST_PLAY,(function(){var t,n,r;i.includes(e.props.playerSize)||null===(t=e._playPauseButtonRef)||void 0===t||null===(n=t.current)||void 0===n||null===(r=n.querySelector("button"))||void 0===r||r.focus()}))})),n.listenOnce(r,r.Event.Core.CHANGE_SOURCE_ENDED,(function(){var t,n,i=null===(t=r.sources)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.name;i&&e.setState({entryName:i})}))}},{key:"render",value:function(e){var t=this.props.isPlayingAdOrPlayback?[Xr().controlButton,Xr().isPlaying].join(" "):Xr().controlButton,n=e.isPlaybackEnded&&!this.props.adBreak,r="".concat(this.props.title,": ").concat(this.state.entryName),i=this.props.isPlayingAdOrPlayback?this.props.pauseText:this.props.playText,a=n?this.props.startOverText:i;return W(is,{name:cs},W("div",{ref:this._playPauseButtonRef},W(mo,{label:a},W(Ko,{tabIndex:"0","aria-label":"".concat(a,", ").concat(r),className:t,onClick:this.togglePlayPause},n?W(Do,{type:xo.StartOver}):W("div",null,W(Do,{type:xo.Play}),W(Do,{type:xo.Pause}))))))}}]),i}(X))||ts)||ts)||ts)||ts)||ts)||ts);ds.displayName=cs;var ps,fs,hs,ys,gs,vs,ms,bs,ks,Es,Ts,_s,As=function(e){return function(t){return ar(function(n){$n()(o,n);var r,i,a=(r=o,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rr()(r);if(i){var n=rr()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return tr()(this,e)});function o(){var t;N()(this,o);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=a.call.apply(a,[this].concat(r)),j()(Qn()(t),"ref",{current:null}),j()(Qn()(t),"animate",(function(){t.ref.current&&(t.ref.current.classList.add(e),t.props.eventManager.listenOnce(t.ref.current,"animationend",(function(){t.ref.current.classList.remove(e)})))})),t}return B()(o,[{key:"render",value:function(){return W(t,qn()({},this.props,{innerRef:this.ref,animate:this.animate}))}}]),o}(X))}},Ss="Rewind",ws=(ps=un((function(e){return{isDvr:e.engine.isDvr,isLive:e.engine.isLive}})),fs=yr(Ss),hs=Oi(Ss),ys=As(Xr().rotate),gs=Un((function(e){return{rewindText:W(Dn,{id:"controls.secondsRewind",fields:{seconds:e.step||10}})}})),ps(vs=jr(vs=fs(vs=hs(vs=ys(vs=gs(vs=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"onClick",(function(){var t,n=e.props.player;e.props.animate();var r=e.props.step||10,i=n.currentTime,a=n.isLive()?n.getStartTimeOfDvrWindow():0;n.currentTime-r<a?e.props.isDvr||(t=a):t=n.currentTime-r,n.currentTime=t,e.props.notifyClick({from:i,to:t})})),e}return B()(i,[{key:"_shouldRender",value:function(){var e=!(this.props.isLive&&!this.props.isDvr);return this.props.onToggle(Ss,e),e}},{key:"render",value:function(e){var t=e.step,n=e.rewindText,r=e.innerRef;return this._shouldRender()?W(is,{name:Ss,className:Xr().noIdleControl},W(mo,{label:n},W(Ko,{tabIndex:"0","aria-label":n,className:"".concat(Xr().controlButton),ref:r,onClick:this.onClick},W(Do,{type:t&&10!==t?xo.Rewind:xo.Rewind10})))):void 0}}]),i}(X))||vs)||vs)||vs)||vs)||vs)||vs);ws.displayName=Ss;var Cs,xs,Ps="Forward",Rs=(ms=un((function(e){return{isDvr:e.engine.isDvr,isLive:e.engine.isLive}})),bs=yr(Ps),ks=Oi(Ps),Es=As(Xr().reverseRotate),Ts=Un((function(e){return{forwardText:W(Dn,{id:"controls.secondsForward",fields:{seconds:e.step||10}})}})),ms(_s=jr(_s=bs(_s=ks(_s=Es(_s=Ts(_s=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"onClick",(function(){var t,n=e.props.player;e.props.animate();var r=e.props.step||10,i=n.currentTime,a=n.isLive()?n.liveDuration:n.duration;n.currentTime+r>a?n.isOnLiveEdge()||(t=a):t=n.currentTime+r,n.currentTime=t,e.props.notifyClick({from:i,to:t})})),e}return B()(i,[{key:"_shouldRender",value:function(){var e=!(this.props.isLive&&!this.props.isDvr);return this.props.onToggle(Ps,e),e}},{key:"render",value:function(e){var t=e.step,n=e.forwardText,r=e.innerRef;return this._shouldRender()?W(is,{name:Ps,className:Xr().noIdleControl},W(mo,{label:n},W(Ko,{tabIndex:"0","aria-label":n,className:"".concat(Xr().controlButton),ref:r,onClick:this.onClick},W(Io,{type:t&&10!==t?xo.Forward:xo.Forward10})))):void 0}}]),i}(X))||_s)||_s)||_s)||_s)||_s)||_s);Rs.displayName=Ps;var Is,Ds=(Cs=un((function(e){return{duration:e.engine.duration}})),jr(xs=Cs(xs=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"_getFramePreviewImgStyle",value:function(e){return"background: url(".concat(e.url,");")+"background-position: -".concat(e.x,"px -").concat(e.y,"px;")}},{key:"_getFramePreviewImgContainerStyle",value:function(e){return{height:"".concat(e.height+4,"px"),width:"".concat(e.width+4,"px")}}},{key:"render",value:function(){var e=this.props.player.getThumbnail(this.props.virtualTime);if(e)return W("div",{style:this._getFramePreviewImgContainerStyle(e),className:[Xr().framePreviewImgContainer,Xr().nonSticky].join(" ")},W("div",{className:Xr().framePreviewImg,style:this._getFramePreviewImgStyle(e)}))}}]),i}(X))||xs)||xs);Ds.displayName="SeekBarPreview";var Os,Ls,Ms,Ns,Us=un((function(e){return{dataLoaded:e.engine.dataLoaded,currentTime:e.seekbar.currentTime,duration:e.engine.duration,isMobile:e.shell.isMobile,adBreak:e.engine.adBreak}}))(Is=jr(Is=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"getBufferedPercent",value:function(){var e=this.props.player;if(this.props.duration>0&&e.buffered.length>0){var t=(e.isLive()?e.buffered.end(0)-e.getStartTimeOfDvrWindow():e.buffered.end(0))/this.props.duration*100;return t<100?t:100}return 0}},{key:"render",value:function(e){var t="".concat(Math.round(this.getBufferedPercent()),"%"),n="".concat(e.player.isLive()&&e.player.isOnLiveEdge()?100:e.currentTime/e.duration*100,"%");return W(q,null,W("div",{className:Xr().buffered,style:{width:t}}),e.dataLoaded?W("div",{className:Xr().progress,style:{width:n}}):void 0)}}]),i}(X))||Is)||Is;function Bs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bs(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Us.displayName="ProgressIndicator";var js="SeekBar",Hs={sliderAriaLabel:W(Dn,{id:"controls.seekBarSlider"},"Seek bar"),valuetextLabel:W(Dn,{id:"controls.valuetextLabel"},"of")},Vs=(Os=un((function(e){return{config:e.config.components.seekbar,isMobile:e.shell.isMobile,previewHoverActive:e.seekbar.previewHoverActive,hidePreview:e.seekbar.hidePreview,hideTimeBubble:e.seekbar.hideTimeBubble,segments:e.seekbar.segments,seekbarClasses:e.seekbar.seekbarClasses,isPreventSeek:e.seekbar.isPreventSeek,playerSize:e.shell.playerSize}}),Ur(Fs(Fs({},Nr),Va))),Ls=Go(js),Ms=Un(Hs),Os(Ns=jr(Ns=ar(Ns=Ls(Ns=Ms(Ns=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"_seekBarElement",void 0),j()(Qn()(e),"_framePreviewElement",void 0),j()(Qn()(e),"_timeBubbleElement",void 0),j()(Qn()(e),"_keyboardEventHandlers",[{key:{code:lr.LEFT},action:function(t){e.handleKeydown(t,!1)}},{key:{code:lr.RIGHT},action:function(t){e.handleKeydown(t,!1)}},{key:{code:lr.HOME},action:function(t){e.handleKeydown(t,!1)}},{key:{code:lr.END},action:function(t){e.handleKeydown(t,!1)}}]),j()(Qn()(e),"handleUpdateSeekBarClientRect",(function(){var t=e._seekBarElement.getBoundingClientRect();e.props.updateSeekbarClientRect(t)})),j()(Qn()(e),"onSeekbarMouseDown",(function(t){if(!e.props.isMobile&&!e.props.previewHoverActive&&(t.preventDefault(),t.stopPropagation(),e.props.updateSeekbarDraggingStatus(!0),e.props.isDraggingActive)){var n=e.getTime(t);e.updateSeekBarProgress(n,e.props.duration)}})),j()(Qn()(e),"onPlayerMouseUp",(function(t){if(!e.props.isMobile&&!e.props.previewHoverActive&&e.props.isDraggingActive){var n=e.props.currentTime,r=e.getTime(t);e.props.changeCurrentTime(r),e.updateSeekBarProgress(r,e.props.duration),e.props.updateSeekbarDraggingStatus(!1),e.props.notifyChange({from:n,to:r})}})),j()(Qn()(e),"onPlayerMouseMove",(function(t){if(!e.props.isMobile&&e.props.isDraggingActive){var n=e.getTime(t);e.updateSeekBarProgress(n,e.props.duration),e.updateSeekBarProgress(n,e.props.duration,!0)}})),j()(Qn()(e),"onSeekbarMouseMove",(function(t){if(!e.props.isMobile&&!e.props.previewHoverActive){var n=e.getTime(t);e.updateSeekBarProgress(n,e.props.duration,!0)}})),j()(Qn()(e),"onSeekbarTouchStart",(function(t){if(e.props.updateSeekbarDraggingStatus(!0),e.props.isDraggingActive){var n=e.getTime(t);e.updateSeekBarProgress(n,e.props.duration)}})),j()(Qn()(e),"onSeekbarTouchMove",(function(t){var n=e.getTime(t);e.updateSeekBarProgress(n,e.props.duration,!0),e.props.isDraggingActive&&e.updateSeekBarProgress(n,e.props.duration),t.preventDefault()})),j()(Qn()(e),"onKeyDown",(function(t){switch(t.keyCode){case lr.LEFT:case lr.RIGHT:e.handleKeydown(t,!0);break;case lr.ENTER:case lr.SPACE:t.preventDefault(),t.stopPropagation(),e.togglePlayPause()}})),j()(Qn()(e),"togglePlayPause",(function(){e.props.player.paused?e.props.player.play():e.props.player.pause()})),j()(Qn()(e),"onSeekbarTouchEnd",(function(t){if(e.props.isDraggingActive){var n=e.getTime(t),r=e.props.currentTime,i=n;e.props.changeCurrentTime(i),e.updateSeekBarProgress(i,e.props.duration),e.props.notifyChange({from:r,to:i})}e.props.updateSeekbarDraggingStatus(!1)})),j()(Qn()(e),"onSeekbarMouseOver",(function(){e.props.isMobile||e.props.updateSeekbarHoverActive(!0)})),j()(Qn()(e),"onSeekbarMouseLeave",(function(){e.props.isMobile||e.props.updateSeekbarHoverActive(!1)})),e}return B()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.player,r=t.eventManager,i=this._seekBarElement.getBoundingClientRect();this.props.updateSeekbarClientRect(i);var a=[Hi.TINY,Hi.EXTRA_SMALL,Hi.SMALL];r.listenOnce(n,n.Event.UI.USER_CLICKED_PLAY,(function(){r.listenOnce(n,n.Event.Core.FIRST_PLAY,(function(){var t;a.includes(e.props.playerSize)&&(null===(t=e._seekBarElement)||void 0===t||t.focus())}))})),r.listen(n,sr.BOTTOM_BAR_CLIENT_RECT_CHANGED,this.handleUpdateSeekBarClientRect),document.addEventListener("mouseup",this.onPlayerMouseUp),document.addEventListener("mousemove",this.onPlayerMouseMove),this.props.registerKeyboardEvents(this._keyboardEventHandlers)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onPlayerMouseUp),document.removeEventListener("mousemove",this.onPlayerMouseMove)}},{key:"handleKeydown",value:function(e,t){var n=this,r=this.props,i=r.duration,a=r.currentTime,o=function(e,t){n.props.changeCurrentTime(t),n.updateSeekBarProgress(t,i,!0),n.props.notifyChange({from:e,to:t})};switch(this.props.updatePlayerHoverState(!0),e.keyCode){case lr.LEFT:t||this.props.updateOverlayActionIcon(xo.Rewind),o(a,a-1>0?a-1:0);break;case lr.RIGHT:t||this.props.updateOverlayActionIcon(xo.Forward),o(a,a+1>i?i:a+1);break;case lr.HOME:t||this.props.updateOverlayActionIcon(xo.StartOver),o(a,0);break;case lr.END:t||this.props.updateOverlayActionIcon(xo.SeekEnd),o(a,i)}}},{key:"updateSeekBarProgress",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]?this.props.updateVirtualTime(e):this.props.updateCurrentTime(e)}},{key:"getOffset",value:function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-e.scrollLeft+this._getTransformX(e),n+=e.offsetTop-e.scrollTop,e=e.offsetParent;return this.props.player.isFullscreen()&&(t=0),{top:n,left:t}}},{key:"_getTransformX",value:function(e){var t=getComputedStyle(e),n=(t.getPropertyValue("transform")||t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")).match(/-?\d+/g),r=0;return n&&n.length>0&&(r=parseFloat(n[4])),r}},{key:"getTime",value:function(e){var t,n=("number"==typeof e.clientX?e.clientX:null==e||null===(t=e.changedTouches[0])||void 0===t?void 0:t.clientX)-this._seekBarElement.getBoundingClientRect().left,r=parseFloat((this.props.duration/this._seekBarElement.offsetWidth*n).toFixed(2));return r<0?0:r>this.props.duration?this.props.duration:r}},{key:"getFramePreviewOffset",value:function(){if(this._seekBarElement&&this._framePreviewElement){var e=this.props.virtualTime/this.props.duration*this._seekBarElement.clientWidth-this._framePreviewElement.clientWidth/2;return e<0?0:e>this._seekBarElement.clientWidth-this._framePreviewElement.clientWidth?this._seekBarElement.clientWidth-this._framePreviewElement.clientWidth:e}return 0}},{key:"getTimeBubbleOffset",value:function(){if(this._timeBubbleElement){var e=this.props.virtualTime/this.props.duration*this._seekBarElement.clientWidth-this._timeBubbleElement.clientWidth/2;return e<0?0:e>this._seekBarElement.clientWidth-this._timeBubbleElement.clientWidth?this._seekBarElement.clientWidth-this._timeBubbleElement.clientWidth:e}return 0}},{key:"renderFramePreview",value:function(){var e=this;if(this.props.showFramePreview&&!this.props.isMobile&&!this.props.isPreventSeek)return W("div",{className:this.props.hidePreview?[Xr().framePreview,Xr().hideFramePreview].join(" "):Xr().framePreview,style:this._getFramePreviewStyle(),ref:function(t){return t?e._framePreviewElement=t:void 0}},W(Ds,{virtualTime:this.props.virtualTime}))}},{key:"_getFramePreviewStyle",value:function(){return"left: ".concat(this.getFramePreviewOffset(),"px;")}},{key:"renderTimeBubble",value:function(){var e=this;if(!this.props.hideTimeBubble&&this.props.showTimeBubble&&!this.props.isMobile){var t="left: ".concat(this.getTimeBubbleOffset(),"px"),n=this.props.isDvr?"-"+Vr(this.props.duration-this.props.virtualTime):Vr(this.props.virtualTime);return W("div",{className:Xr().timePreview,style:t,ref:function(t){return t?e._timeBubbleElement=t:void 0}},n)}}},{key:"render",value:function(e,t){var n,r=this,i="".concat(e.virtualTime/e.duration*100,"%"),a="".concat(e.currentTime/e.duration*(null===(n=this._seekBarElement)||void 0===n?void 0:n.clientWidth),"px"),o=[Xr().seekBar].concat(L()(e.seekbarClasses));return e.adBreak&&o.push(Xr().adBreak),e.isDvr&&o.push(Xr().live),e.isMobile&&o.push(Xr().hover),e.isDraggingActive&&o.push(Xr().hover),t.resizing&&o.push(Xr().resizing),W("div",{tabIndex:0,className:o.join(" "),ref:function(e){return e?r._seekBarElement=e:void 0},role:"slider","aria-label":e.sliderAriaLabel,"aria-valuemin":0,"aria-valuemax":Math.round(this.props.duration),"aria-valuenow":Math.round(this.props.currentTime),"aria-valuetext":"".concat(Yr(e.currentTime,e.player.config.ui.locale,!0)," ").concat(this.props.valuetextLabel," ").concat(Yr(e.duration,e.player.config.ui.locale,!0)),onMouseOver:this.onSeekbarMouseOver,onMouseLeave:this.onSeekbarMouseLeave,onMouseMove:this.onSeekbarMouseMove,onMouseDown:this.onSeekbarMouseDown,onTouchStart:this.onSeekbarTouchStart,onTouchMove:this.onSeekbarTouchMove,onTouchEnd:this.onSeekbarTouchEnd,onKeyDown:this.onKeyDown},W("div",{className:Xr().progressBar},W(Tr,{name:"SeekBar",shouldUpdate:!0},this.renderFramePreview(),this.renderTimeBubble(),W(Us,null),e.adBreak?void 0:W("div",{id:"scrubber-container",style:"transform: translateX(".concat(a,")")},W("div",{id:"scrubber",className:Xr().scrubber})),W("div",{className:Xr().virtualProgress,style:{width:i}},W("div",{className:Xr().virtualProgressIndicator})))))}}]),i}(X))||Ns)||Ns)||Ns)||Ns)||Ns);Vs.displayName=js;var Gs=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(e){return W("div",{className:"overlay-portal","aria-live":"polite"},e.children)}}]),i}(X);Gs.displayName="OverlayPortal";var Ks,zs,Ws,Ys,Zs,qs=function(e){return(document.getElementById(e.config.targetId)||document).querySelector(".overlay-portal")};function Xs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xs(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Js,$s,el,tl,nl,rl,il="Settings",al=(Ks=un((function(e){return{audioTracks:e.engine.audioTracks,textTracks:e.engine.textTracks,videoTracks:e.engine.videoTracks,isMobile:e.shell.isMobile,isSmallSize:e.shell.isSmallSize,isLive:e.engine.isLive,isAudio:e.engine.isAudio,showQualityMenu:e.config.settings.showQualityMenu,showAudioMenu:e.config.settings.showAudioMenu,showCaptionsMenu:e.config.settings.showCaptionsMenu,showSpeedMenu:e.config.settings.showSpeedMenu,showAdvancedAudioDescToggle:e.config.settings.showAdvancedAudioDescToggle}}),Ur(Qs(Qs({},Na),Va))),zs=Un((function(){return{buttonLabel:W(Dn,{id:"controls.settings"},"Settings"),qualityHdLabel:W(Dn,{id:"settings.qualityHdLabel"},"Quality is HD"),quality4kLabel:W(Dn,{id:"settings.quality4kLabel"},"Quality is 4k"),quality8kLabel:W(Dn,{id:"settings.quality8kLabel"},"Quality is 8k")}})),Ws=Go(il),Ys=yr(il),Ks(Zs=zs(Zs=jr(Zs=ar(Zs=Ws(Zs=Ys(Zs=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"_controlSettingsElement",void 0),j()(Qn()(e),"_buttonRef",null),j()(Qn()(e),"_lastActiveTextLanguage",""),j()(Qn()(e),"_keyboardEventHandlers",[{key:{code:lr.PERIOD,shiftKey:!0},action:function(t){e.handleKeydown(t)}},{key:{code:lr.SEMI_COLON,shiftKey:!0},action:function(t){e.handleKeydown(t)}},{key:{code:lr.COMMA,shiftKey:!0},action:function(t){e.handleKeydown(t)}}]),j()(Qn()(e),"onControlButtonClick",(function(t,n){e.setState((function(e){return{smartContainerOpen:!e.smartContainerOpen}})),n&&e.state.smartContainerOpen&&Br(e._buttonRef)})),j()(Qn()(e),"setButtonRef",(function(t){e._buttonRef=t})),j()(Qn()(e),"toggleCVAAOverlay",(function(){e.setState((function(e){return{cvaaOverlay:!e.cvaaOverlay}}))})),j()(Qn()(e),"onCVAAOverlayClose",(function(t,n){e.toggleCVAAOverlay(),e.onControlButtonClick(t,n)})),e}return B()(i,[{key:"componentWillMount",value:function(){this.setState({smartContainerOpen:!1,cvaaOverlay:!1})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.eventManager;t.listen(document,"click",(function(t){return e.handleClickOutside(t)})),t.listen(document,"keydown",(function(t){return e.handleCCToggle(t)})),this.props.registerKeyboardEvents(this._keyboardEventHandlers)}},{key:"handleKeydown",value:function(e){var t,n,r=this.props,i=r.player,a=r.logger;switch(e.keyCode){case lr.PERIOD:t=i.playbackRate,(n=i.playbackRates.indexOf(t))<i.playbackRates.length-1&&(a.debug("Changing playback rate. ".concat(t," => ").concat(i.playbackRates[n+1])),i.playbackRate=i.playbackRates[n+1],this.props.updateOverlayActionIcon(xo.SpeedUp),i.dispatchEvent(new mi(i.playbackRate)));break;case lr.SEMI_COLON:i.playbackRate!==i.defaultPlaybackRate&&(a.debug("Changing playback rate. ".concat(i.playbackRate," => ").concat(i.defaultPlaybackRate)),i.playbackRate=i.defaultPlaybackRate,this.props.updateOverlayActionIcon(xo.Speed),i.dispatchEvent(new mi(i.playbackRate)));break;case lr.COMMA:t=i.playbackRate,(n=i.playbackRates.indexOf(t))>0&&(a.debug("Changing playback rate. ".concat(t," => ").concat(i.playbackRates[n-1])),i.playbackRate=i.playbackRates[n-1],this.props.updateOverlayActionIcon(xo.SpeedDown),i.dispatchEvent(new mi(i.playbackRate)))}}},{key:"handleCCToggle",value:function(e){var t=this;if("c"===e.key||"C"===e.key){var n=this.props,r=n.player,i=n.logger,a=r.getActiveTracks().text;if(a)if("off"===a.language&&this._lastActiveTextLanguage){i.debug("Changing text track to language",this._lastActiveTextLanguage);var o=r.getTracks("text").find((function(e){return e.language===t._lastActiveTextLanguage}));r.selectTrack(o)}else"off"===a.language||this._lastActiveTextLanguage||(i.debug("Hiding text track"),this._lastActiveTextLanguage=a.language,r.hideTextTrack())}}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.textTracks.find((function(e){return e.active})),n=e.textTracks.find((function(e){return e.active}));t&&"off"!==t.language&&n&&"off"===n.language?this._lastActiveTextLanguage=t.language:n&&"off"!==n.language&&(this._lastActiveTextLanguage="")}},{key:"handleClickOutside",value:function(e){this.state.cvaaOverlay||this.props.isMobile||this.props.isSmallSize||!this._controlSettingsElement||this._controlSettingsElement.contains(e.target)||!this.state.smartContainerOpen||this.setState({smartContainerOpen:!1})}},{key:"getButtonBadgeType",value:function(){var e,t,n=null===(e=this.props.player.getActiveTracks())||void 0===e||null===(t=e.video)||void 0===t?void 0:t.height;return n?Fp(n):null}},{key:"getQualityLabel",value:function(e){switch(e){case"qualityHd":return this.props.qualityHdLabel;case"quality4k":return this.props.quality4kLabel;case"quality8k":return this.props.quality8kLabel;default:return""}}},{key:"render",value:function(e){var t=this,n=e.showAudioMenu&&e.audioTracks.length>1,r=e.showAdvancedAudioDescToggle,i=e.showCaptionsMenu&&e.textTracks.length>1,a=e.showQualityMenu&&!e.isAudio&&e.videoTracks.length>1,o=e.showSpeedMenu&&e.player.playbackRates.length>1&&!e.isLive;if((n||i||a||o)&&(!(e.isLive&&e.videoTracks.length<=1)||n||i)){var s=this.getButtonBadgeType()||"",l="".concat(e.buttonLabel," ").concat(this.getQualityLabel(s)," ");return W(is,{name:il,ref:function(e){return e?t._controlSettingsElement=e:void 0}},W(mo,{label:e.buttonLabel},W(Ko,{ref:this.setButtonRef,tabIndex:"0","aria-label":l,"aria-haspopup":"true","aria-expanded":this.state.smartContainerOpen,className:[Xr().controlButton,Xr().buttonBadge,Po[s+"Active"],this.state.smartContainerOpen?Xr().active:""].join(" "),onClick:this.onControlButtonClick},W(Do,{type:xo.Settings}))),this.state.smartContainerOpen&&!this.state.cvaaOverlay&&W(Gc,{title:W(Dn,{id:"settings.title"}),onClose:this.onControlButtonClick},r&&W(qp,null),n&&W(Tp,null),i&&W(Ip,{asDropdown:!0,onAdvancedCaptionsClick:this.toggleCVAAOverlay}),a&&W(Gp,null),o&&W(Up,null)),this.state.cvaaOverlay?st(W(Ou,{onClose:this.onCVAAOverlayClose}),qs(e.player)):W("div",null))}}}]),i}(X))||Zs)||Zs)||Zs)||Zs)||Zs)||Zs);function ol(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ol(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ol(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}al.displayName=il;var ll="Volume",ul=(Js=un((function(e){return{isDraggingActive:e.volume.draggingActive,volume:e.engine.volume,muted:e.engine.muted,isMobile:e.shell.isMobile}}),Ur(sl(sl(sl({},va),pi),Va))),$s=Go(ll),el=yr(ll),tl=Oi(ll),nl=Un((function(e){return{volumeLabel:e.muted?W(Dn,{id:"controls.unmute"},"Unmute"):W(Dn,{id:"controls.mute"},"Mute"),volumeButtonAriaLabel:W(Dn,{id:"volume.volume_button_aria_label"},"Volume"),volumeButtonAriaDescription:W(Dn,{id:"volume.volume_button_description"},"Click to volume control"),sliderAriaLabel:W(Dn,{id:"volume.volume_slider_aria_label"},"Volume control"),sliderDescription:W(Dn,{id:"volume.volume_slider_description"},"Use the arrows to control the volume")}})),Js(rl=jr(rl=ar(rl=$s(rl=el(rl=tl(rl=nl(rl=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"_volumeControlElement",void 0),j()(Qn()(e),"_volumeSliderElement",void 0),j()(Qn()(e),"_volumeProgressBarElement",void 0),j()(Qn()(e),"_keyboardEventHandlers",[{key:{code:lr.UP},action:function(t){e.handleKeydown(t)}},{key:{code:lr.DOWN},action:function(t){e.handleKeydown(t)}},{key:{code:lr.M},action:function(t){e.handleKeydown(t)}}]),j()(Qn()(e),"onVolumeProgressBarMouseDown",(function(){e.props.updateVolumeDraggingStatus(!0)})),j()(Qn()(e),"onVolumeProgressBarMouseMove",(function(t){e.props.isDraggingActive&&e.changeVolume(t)})),j()(Qn()(e),"onMouseOver",(function(){e.props.isMobile||(e.props.updateVolumeHover(!0),e.setState({hover:!0}))})),j()(Qn()(e),"onMouseOut",(function(){e.props.isMobile||(e.props.updateVolumeHover(!1),e.setState({hover:!1}))})),j()(Qn()(e),"onKeyDown",(function(t){switch(t.keyCode){case lr.UP:case lr.DOWN:case lr.ENTER:case lr.SPACE:t.preventDefault(),t.stopPropagation(),e.handleKeydown(t);break;case lr.TAB:break;default:e.setState({hover:!1})}})),j()(Qn()(e),"onFocus",(function(){e.props.isMobile||e.state.hover||e.setState({hover:!0})})),j()(Qn()(e),"onTouchEnd",(function(e){e.stopImmediatePropagation()})),j()(Qn()(e),"onVolumeProgressBarMouseUp",(function(t){e.props.isDraggingActive&&(e.props.updateVolumeDraggingStatus(!1),e.changeVolume(t))})),j()(Qn()(e),"toggleMute",(function(){var t=e.props.player;0===t.volume?(e.props.logger.debug("Toggle mute. Volume is 0, set mute to false & volume to 0.5"),t.muted=!1,t.volume=.5):(e.props.logger.debug("Toggle mute. ".concat(t.muted," => ").concat(!t.muted)),t.muted=!t.muted),e.props.notifyClick()})),j()(Qn()(e),"onProgressBarKeyDown",(function(t){t.keyCode===lr.TAB?e.setState({hover:!1}):(t.preventDefault(),t.stopPropagation(),e.handleKeydown(t,!0))})),j()(Qn()(e),"handleClickOnVolumeButton",(function(t){var n,r,i;null===(n=t.stopPropagation)||void 0===n||n.call(t),null===(r=t.preventDefault)||void 0===r||r.call(t),null===(i=e._volumeSliderElement)||void 0===i||i.focus()})),e}return B()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props.player;this.props.eventManager.listen(t,t.Event.LOADED_METADATA,(function(){e.props.updateVolume(t.volume),e.props.updateMuted(t.muted)})),this.props.eventManager.listen(t,t.Event.VOLUME_CHANGE,(function(){e.props.updateMuted(t.muted),e.props.updateVolume(t.volume)})),this.props.eventManager.listen(document,"mouseup",this.onVolumeProgressBarMouseUp),this.props.eventManager.listen(document,"mousemove",this.onVolumeProgressBarMouseMove),this.props.eventManager.listen(document,"click",(function(t){return e.handleClickOutside(t)})),this.props.registerKeyboardEvents(this._keyboardEventHandlers)}},{key:"_shouldRender",value:function(){var e=!(this.props.player.isImage()||this.props.player.isDocument());return this.props.onToggle(ll,e),e}},{key:"handleClickOutside",value:function(e){!this.props.isMobile&&this._volumeControlElement&&!this._volumeControlElement.contains(e.target)&&this.state.hover&&this.setState({hover:!1})}},{key:"getVolumeProgressHeight",value:function(){return this.props.muted?"0%":Math.round(100*this.props.volume)+"%"}},{key:"handleKeydown",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.props.player,a=function(e){e===i.volume||e>100||e<0||(i.muted=e<5,i.volume=e/100,n.props.notifyChange({volume:i.volume}))};switch(e.keyCode){case lr.UP:this.props.updateOverlayActionIcon([xo.VolumeBase,xo.VolumeWaves]),a(t=Math.min(Math.round(100*i.volume)+5,100));break;case lr.DOWN:0===(t=Math.max(Math.round(100*i.volume)-5,0))?this.props.updateOverlayActionIcon([xo.VolumeBase,xo.VolumeMute]):this.props.updateOverlayActionIcon([xo.VolumeBase,xo.VolumeWave]),a(t);break;case lr.M:i.muted?this.props.updateOverlayActionIcon([xo.VolumeBase,xo.VolumeWaves]):this.props.updateOverlayActionIcon([xo.VolumeBase,xo.VolumeMute]),this.toggleMute();break;case lr.ENTER:case lr.SPACE:r||this.toggleMute()}}},{key:"changeVolume",value:function(e){var t,n=this.props.player,r=this._volumeProgressBarElement.getBoundingClientRect();t=r.height>r.width?this._getVerticalVolume(r,e):this._getHorizontalVolume(r,e),(t=parseFloat(t.toFixed(2)))<=1&&t>=0&&(this.props.logger.debug("Change volume from ".concat(n.volume," => ").concat(t)),n.volume=t,this.props.muted&&(n.muted=!1),this.props.notifyChange({volume:n.volume}))}},{key:"_getHorizontalVolume",value:function(e,t){var n=e.width,r=e.left,i=t.clientX;return 0!=n?(i-r)/n:0}},{key:"_getVerticalVolume",value:function(e,t){var n=e.height,r=e.top,i=t.clientY;return 0!=n?1-(i-r)/n:0}},{key:"render",value:function(){var e=this;if(this._shouldRender){var t=this.props,n=t.player,r=t.isDraggingActive,i=t.muted,a=t.volume,o=t.smartContainerOpen,s=[Xr().volumeControl];r&&s.push(Xr().draggingActive),(i||0===a)&&s.push(Xr().isMuted),this.state.hover&&!o&&s.push(Xr().hover);var l=Math.round(100*n.volume);return W(is,{name:ll,ref:function(t){return t?e._volumeControlElement=t:void 0},className:s,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut},W(mo,{label:this.props.volumeLabel,type:this.props.toolTipType?this.props.toolTipType:vo.Left},W(Ko,{tabIndex:"0","aria-label":"".concat(this.props.volumeLabel),className:Xr().controlButton,onMouseUp:this.toggleMute,onTouchEnd:this.onTouchEnd,onKeyDown:this.onKeyDown,"aria-describedBy":"volumeButtonDescription"},W(Io,{type:xo.VolumeBase}),W(Io,{type:xo.VolumeWaves}),W(Io,{type:xo.VolumeMute}))),W("span",{className:Xr().volumeButton,hidden:this.state.hover,role:"button",tabIndex:-1,onClick:this.handleClickOnVolumeButton,"aria-label":this.props.volumeButtonAriaLabel}),W("div",{ref:function(t){return t?e._volumeSliderElement=t:void 0},tabIndex:0,"aria-orientation":"vertical","aria-label":this.props.sliderAriaLabel,"aria-describedBy":"sliderDescription",onKeyDown:this.onProgressBarKeyDown,className:Xr().volumeControlBar,onFocus:this.onFocus,role:"slider","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":l,"aria-valuetext":"".concat(l,"% volume ").concat(n.muted?"muted":"")},W("div",{className:Xr().bar,ref:function(t){return t?e._volumeProgressBarElement=t:void 0},onMouseDown:this.onVolumeProgressBarMouseDown},W("div",{className:Xr().progress,style:{height:this.getVolumeProgressHeight()}}))),W("span",{className:Xr().srOnly},W("span",{id:"volumeButtonDescription"},this.props.volumeButtonAriaDescription),W("span",{id:"sliderDescription"},this.props.sliderDescription)))}}}]),i}(X))||rl)||rl)||rl)||rl)||rl)||rl)||rl);ul.displayName=ll;var cl,dl,pl=function(){function e(){N()(this,e),j()(this,"_registry",void 0),this._registry=new Map}return B()(e,[{key:"register",value:function(e,t){this.getComponentItem(e)||this._registry.set(e,t)}},{key:"unregister",value:function(e){this.getComponentItem(e)&&this._registry.delete(e)}},{key:"getComponentItem",value:function(e){return this._registry.get(e)}},{key:"clear",value:function(){this._registry.clear()}}]),e}(),fl="bottomBarRegistryManager",hl=function(e,t,n){var r=(null==t?void 0:t.getService(fl))||void 0;r&&!r.getComponentItem(e)&&r.register(e,n())},yl=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.call(this,sr.BOTTOM_BAR_CLIENT_RECT_CHANGED)}return i}(ir.FakeEvent);function gl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gl(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ml,bl,kl,El,Tl=[["PictureInPicture"],["VrStereo"],["TimeDisplayPlaybackContainer"],["AdvancedAudioDesc"],["ClosedCaptions"],["CaptionsControl"],["Cast"]],_l="TimeDisplayPlaybackContainer",Al=(cl=un((function(e){return{isCasting:e.engine.isCasting,isPlaybackEnded:e.engine.isPlaybackEnded,guiClientRect:e.shell.guiClientRect,playerSize:e.shell.playerSize,playlist:e.engine.playlist}}),Ur(vl(vl({},Nr),fo))),jr(dl=ar(dl=cl(dl=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(e){var t;N()(this,i),t=r.call(this),j()(Qn()(t),"bottomBarContainerRef",{current:null}),j()(Qn()(t),"presetControls",{}),j()(Qn()(t),"resizeObserver",void 0),j()(Qn()(t),"_currBarWidthArr",[0,0]),j()(Qn()(t),"_maxControlsWidthArr",[0,0]),j()(Qn()(t),"_isFullscreenModeChanging",!1),j()(Qn()(t),"_getControlsWidth",(function(){return Array.from(t.bottomBarContainerRef.current.childNodes).reduce((function(e,t){return e+t.offsetWidth}),0)})),j()(Qn()(t),"onToggleControl",(function(e,n){e in t.state.activeControls&&t.state.activeControls[e]!==n&&t.setState((function(t){return{activeControls:vl(vl({},t.activeControls),j()({},e,n))}}))})),j()(Qn()(t),"toggleObserver",(function(e){e?t.resizeObserver.disconnect():t.resizeObserver.observe(t.bottomBarContainerRef.current)})),e.leftControls=e.leftControls||[],e.rightControls=e.rightControls||[],e.leftControls.concat(e.rightControls).map((function(e){return e.displayName})).forEach((function(e){return t.presetControls[e]=!0})),t.state={fitInControls:t.presetControls,activeControls:t.presetControls},e.player.registerService(fl,new pl);var n=null,a=function(){t._isFullscreenModeChanging=!0,n&&clearTimeout(n),n=setTimeout((function(){t._isFullscreenModeChanging=!1,t.onBarWidthChange(!0),n=null}),100)};return e.eventManager.listen(e.player,e.player.Event.Core.ENTER_FULLSCREEN,a),e.eventManager.listen(e.player,e.player.Event.Core.EXIT_FULLSCREEN,a),t}return B()(i,[{key:"componentDidMount",value:function(){var e=this;this.resizeObserver=new ResizeObserver((function(){return e.onBarWidthChange(!1)})),this.resizeObserver.observe(this.bottomBarContainerRef.current)}},{key:"componentWillUnmount",value:function(){this.resizeObserver.disconnect(),this._currBarWidthArr=[0,0],this._maxControlsWidthArr=[0,0],this._isFullscreenModeChanging=!1}},{key:"onBarWidthChange",value:function(e){var t,n=this;if(!this._isFullscreenModeChanging){var r=this.props.player,i=(null===(t=this.bottomBarContainerRef.current)||void 0===t?void 0:t.offsetWidth)||0,a=this._getControlsWidth();if(this.setMaxControlsWidth(r.isFullscreen(),Math.max(this.getMaxControlsWidth(r.isFullscreen()),a)),e||i!==this.getCurrentBarWidth(r.isFullscreen())){r.dispatchEvent(new yl),this.setCurrentBarWidth(r.isFullscreen(),i);var o=this.props.guiClientRect.width<=Vi.SMALL?38:44,s=Tl.filter((function(e){return n.state.activeControls[e[0]]}));this.filterControls(i,this.getMaxControlsWidth(r.isFullscreen()),o,s)}}}},{key:"getMaxControlsWidth",value:function(e){return this._maxControlsWidthArr[Number(e)]}},{key:"setMaxControlsWidth",value:function(e,t){this._maxControlsWidthArr[Number(e)]=t}},{key:"getCurrentBarWidth",value:function(e){return this._currBarWidthArr[Number(e)]}},{key:"setCurrentBarWidth",value:function(e,t){this._currBarWidthArr[Number(e)]=t}},{key:"filterControls",value:function(e,t,n,r){if(t>=e){var i=function(e,t,n,r){var i=Math.ceil((e-t)/n)||1,a=r.flat().slice(0,i),o=L()(r).reverse().find((function(e){return e.length>1}));return a[a.length-1]===(null==o?void 0:o[0])&&a.push(o[1]),a}(t,e,n,r),a={};i.forEach((function(e){return a[e]=!1})),this.props.updateControlsToMove(i),this.setState({fitInControls:vl(vl({},this.presetControls),a)})}else this.setState({fitInControls:vl({},this.presetControls)}),this.props.updateControlsToMove([])}},{key:"render",value:function(e){var t=this,n=[Xr().bottomBar];e.isCasting&&e.isPlaybackEnded&&n.push(Xr().hide);var r=this.presetControls[_l]&&!this.state.fitInControls[_l];return W("div",{className:n.join(" ")},W("div",{className:Xr().bottomBarArea},W(Tr,{shouldUpdate:!0,name:"BottomBar"},r&&W($c,null),e.children)),W("div",{ref:this.bottomBarContainerRef,className:Xr().controlsContainer},W("div",{className:Xr().leftControls},W(Tr,{shouldUpdate:!0,name:"BottomBarLeftControls"},e.leftControls&&e.leftControls.map((function(e){return t.presetControls[e.displayName]&&t.state.fitInControls[e.displayName]&&W(e,{key:e.displayName,onToggle:t.onToggleControl,toggleObserver:t.toggleObserver})})))),W(Tr,{shouldUpdate:!0,name:"BottomBarCenterControls"}),W("div",{className:Xr().rightControls},W(Tr,{shouldUpdate:!0,name:"BottomBarRightControls"},e.rightControls&&e.rightControls.map((function(e){return t.presetControls[e.displayName]&&t.state.fitInControls[e.displayName]&&W(e,{key:e.displayName,onToggle:t.onToggleControl,toggleObserver:t.toggleObserver})}))))))}}]),i}(X))||dl)||dl)||dl);function Sl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sl(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Al.displayName="BottomBar";var Cl="VrStereo",xl=(ml=un((function(e){return{isVr:e.engine.isVr,vrStereoMode:e.engine.vrStereoMode,config:e.config.components.vrStereo}}),Ur(wl(wl({},Nr),pi))),bl=yr(Cl),kl=Un({vrStereoText:"controls.vrStereo"}),ml(El=jr(El=bl(El=kl(El=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(e){var t;return N()(this,i),t=r.call(this,e),j()(Qn()(t),"getComponentText",(function(){return t.props.vrStereoText})),j()(Qn()(t),"onClick",(function(){t.props.player.toggleVrStereoMode(),t.props.updateVrStereoMode(!t.props.vrStereoMode)})),j()(Qn()(t),"onKeyDown",(function(e){[ur.Enter,ur.Space].includes(e.code)&&(e.preventDefault(),t.onClick())})),hl(Cl,e.player,(function(){return t.registerComponent()})),t}return B()(i,[{key:"registerComponent",value:function(){var e=this;return{ariaLabel:function(){return e.getComponentText()},displayName:Cl,order:5,svgIcon:function(){return e.getSvgIcon()},onClick:function(){return e.onClick()},component:function(){return Pl(wl(wl({},e.props),{},{classNames:[Xr().upperBarIcon]}))},shouldHandleOnClick:!1}}},{key:"getSvgIcon",value:function(){return{type:pn().getState().engine.vrStereoMode?xo.vrStereoFull:xo.vrStereo}}},{key:"_shouldRender",value:function(){var e=this.props.config,t=this.props.isVr&&!(0===Object.keys(e).length&&e.constructor===Object);return this.props.onToggle(Cl,t),t}},{key:"componentWillMount",value:function(){this.props.updateVrStereoMode(this.props.config.vrStereoMode)}},{key:"render",value:function(){var e;return this._shouldRender()?W(is,{name:Cl,className:this.props.classNames?this.props.classNames.join(" "):""},W(mo,{label:this.props.vrStereoText,type:(null===(e=this.props.classNames)||void 0===e?void 0:e.includes(Xr().upperBarIcon))?"bottom-left":"top",strictPosition:!0},W(Ko,{tabIndex:"0","aria-label":this.props.vrStereoText,className:this.props.vrStereoMode?[Xr().controlButton,Xr().vrStereoMode].join(" "):Xr().controlButton,onClick:this.onClick,onKeyDown:this.onKeyDown},W(Do,{type:xo.vrStereo}),W(Do,{type:xo.vrStereoFull})))):void 0}}]),i}(X))||El)||El)||El)||El),Pl=function(e){return W(xl,e)};function Rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Il(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rl(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}xl.displayName=Cl;var Dl,Ol="ClosedCaptions",Ll=un((function(e){return{textTracks:e.engine.textTracks,showCCButton:e.config.showCCButton,openMenuFromCCButton:e.config.openMenuFromCCButton}}))(yr(Ol)(Oi(Ol)(Un({closedCaptionsOnText:"controls.closedCaptionsOn",closedCaptionsOffText:"controls.closedCaptionsOff"})((function(e,t){var n,r,i=xe(!1),a=D()(i,2),o=a[0],s=a[1],l=e.textTracks,u=t.player,c=l.find((function(e){return e.active}));Re((function(){s("off"!==(null==c?void 0:c.language))}),[c]),Re((function(){hl(Ol,u,(function(){return d()}))}),[]);var d=function(){return{ariaLabel:function(){return f()},displayName:Ol,order:5,svgIcon:function(){return h()},onClick:function(){return y()},component:function(){return Ml(Il(Il({},e),{},{classNames:[Xr().upperBarIcon]}))},shouldHandleOnClick:!1}},p=function(){return pn().getState().settings.isCaptionsEnabled},f=function(){return p()?e.closedCaptionsOnText:e.closedCaptionsOffText},h=function(){return{type:p()?xo.ClosedCaptionsOn:xo.ClosedCaptionsOff}},y=function(){var t=p();e.notifyClick(t),t?(u.hideTextTrack(),pn().dispatch({type:Oa.UPDATE_IS_CAPTIONS_ENABLED,isCaptionsEnabled:!1})):(u.showTextTrack(),pn().dispatch({type:Oa.UPDATE_IS_CAPTIONS_ENABLED,isCaptionsEnabled:!0}))},g=function(e){(cr(e)||dr(e))&&(e.preventDefault(),y())},v=!!(null==l?void 0:l.length)&&e.showCCButton&&!e.openMenuFromCCButton;if(e.onToggle(Ol,v),v)return W(is,{name:Ol,className:e.classNames?e.classNames.join(" "):""},o?W(mo,{label:e.closedCaptionsOnText,type:(null===(n=e.classNames)||void 0===n?void 0:n.includes(Xr().upperBarIcon))?"bottom-left":"top",strictPosition:!0},W(Ko,{tabIndex:0,"aria-label":e.closedCaptionsOnText,className:[Xr().controlButton,Xr().ccOn].join(" "),onClick:function(){e.notifyClick(!0),u.hideTextTrack(),pn().dispatch({type:Oa.UPDATE_IS_CAPTIONS_ENABLED,isCaptionsEnabled:!1})},onKeyDown:g},W(Io,{type:xo.ClosedCaptionsOn}))):W(mo,{label:e.closedCaptionsOffText,type:(null===(r=e.classNames)||void 0===r?void 0:r.includes(Xr().upperBarIcon))?"bottom-left":"top",strictPosition:!0},W(Ko,{tabIndex:0,"aria-label":e.closedCaptionsOffText,className:Xr().controlButton,onClick:function(){u.showTextTrack(),e.notifyClick(!1),pn().dispatch({type:Oa.UPDATE_IS_CAPTIONS_ENABLED,isCaptionsEnabled:!0})},onKeyDown:g},W(Io,{type:xo.ClosedCaptionsOff}))))}))))),Ml=function(e){return W(Ll,e)};Ll.displayName=Ol;var Nl,Ul,Bl,Fl=un((function(e){return{url:e.engine.adUrl}}))(Dl=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"render",value:function(e){return W("a",{href:e.url,target:"_blank",rel:"noreferrer",className:[Xr().btn,Xr().btnDarkTransparent,Xr().learnMore].join(" ")},W(Dn,{id:"ads.learn_more"}))}}]),i}(X))||Dl;Fl.displayName="AdLearnMore";var jl="AdSkip",Hl=(Nl=un((function(e){return{currentTime:e.engine.adProgress.currentTime,duration:e.engine.adProgress.duration,adSkipTimeOffset:e.engine.adSkipTimeOffset,adSkippableState:e.engine.adSkippableState}})),Ul=yr(jl),Nl(Bl=jr(Bl=Ul(Bl=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"skipAd",(function(){var t;null===(t=e.props.player.ads)||void 0===t||t.skipAd()})),e}return B()(i,[{key:"getSkipTimeOffset",value:function(){return Math.ceil(this.props.adSkipTimeOffset-this.props.currentTime)}},{key:"render",value:function(){return this.props.adSkippableState?this.getSkipTimeOffset()<=0?W(Ln,null,W("a",{className:[Xr().btn,Xr().btnBranded,Xr().btnSkipAd].join(" "),onClick:this.skipAd},W(Dn,{id:"ads.skip_ad"}))):W(Ln,null,W("span",{className:Xr().skipAd},W(Dn,{id:"ads.skip_in"})," "+this.getSkipTimeOffset())):void 0}}]),i}(X))||Bl)||Bl)||Bl);Hl.displayName=jl;var Vl=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"render",value:function(){return W("span",{className:Xr().adNotice},W(Dn,{id:"ads.ad_notice"}))}}]),i}(X);Vl.displayName="AdNotice";var Gl,Kl=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(e){var t;return N()(this,i),(t=r.call(this,sr.PLAYER_RESIZE)).payload={playerSize:e},t}return i}(ir.FakeEvent),zl=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(e){var t;return N()(this,i),(t=r.call(this,sr.GUI_RESIZE)).payload={guiSize:e},t}return i}(ir.FakeEvent),Wl=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(e){var t;return N()(this,i),(t=r.call(this,sr.VIDEO_RESIZE)).payload={videoSize:e},t}return i}(ir.FakeEvent),Yl="event-dispatcher-middleware",Zl={COMPONENT_CLICKED:"".concat(Yl,"/COMPONENT_CLICKED"),COMPONENT_CHANGED:"".concat(Yl,"/COMPONENT_CHANGED")};function ql(e,t,n){var r=e.getState().engine;r.adBreak?r.adIsPlaying?n.dispatchEvent(new ir.FakeEvent(sr.USER_CLICKED_PAUSE)):n.dispatchEvent(new ir.FakeEvent(sr.USER_CLICKED_PLAY)):r.isPlaying?n.dispatchEvent(new ir.FakeEvent(sr.USER_CLICKED_PAUSE)):n.dispatchEvent(new ir.FakeEvent(sr.USER_CLICKED_PLAY))}function Xl(e,t,n){e.getState().engine.muted?n.dispatchEvent(new ir.FakeEvent(sr.USER_CLICKED_MUTE)):n.dispatchEvent(new ir.FakeEvent(sr.USER_CLICKED_UNMUTE))}function Ql(e,t,n){n.isFullscreen()?n.dispatchEvent(new ir.FakeEvent(sr.USER_EXITED_FULL_SCREEN)):n.dispatchEvent(new ir.FakeEvent(sr.USER_ENTERED_FULL_SCREEN))}var Jl,$l,eu=(Gl={},j()(Gl,lr.SPACE,(function(e,t,n){ql(e,0,n)})),j()(Gl,lr.UP,(function(e,t,n){n.dispatchEvent(new Ti(t.payload.volume))})),j()(Gl,lr.DOWN,(function(e,t,n){n.dispatchEvent(new Ti(t.payload.volume))})),j()(Gl,lr.F,(function(e,t,n){Ql(0,0,n)})),j()(Gl,lr.P,(function(e,t,n){!function(e,t,n){n.isInPictureInPicture()?n.dispatchEvent(new ir.FakeEvent(sr.USER_EXITED_PICTURE_IN_PICTURE)):n.dispatchEvent(new ir.FakeEvent(sr.USER_ENTERED_PICTURE_IN_PICTURE))}(0,0,n)})),j()(Gl,lr.ESC,(function(e,t,n){Ql(0,0,n)})),j()(Gl,lr.LEFT,(function(e,t,n){n.dispatchEvent(new vi(t.payload.from,t.payload.to))})),j()(Gl,lr.RIGHT,(function(e,t,n){n.dispatchEvent(new vi(t.payload.from,t.payload.to))})),j()(Gl,lr.HOME,(function(e,t,n){n.dispatchEvent(new vi(t.payload.from,t.payload.to))})),j()(Gl,lr.END,(function(e,t,n){n.dispatchEvent(new vi(t.payload.from,t.payload.to))})),j()(Gl,lr.M,(function(e,t,n){Xl(e,0,n)})),j()(Gl,lr.SEMI_COLON,(function(e,t,n){n.dispatchEvent(new mi(t.payload.speed))})),j()(Gl,lr.PERIOD,(function(e,t,n){n.dispatchEvent(new mi(t.payload.speed))})),j()(Gl,lr.COMMA,(function(e,t,n){n.dispatchEvent(new mi(t.payload.speed))})),j()(Gl,lr.C,(function(e,t,n){n.dispatchEvent(new hi(t.payload.track))})),Gl),tu=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{config:{}};return N()(this,i),e=r.call(this),j()(Qn()(e),"player",void 0),j()(Qn()(e),"name",void 0),j()(Qn()(e),"config",void 0),j()(Qn()(e),"logger",void 0),j()(Qn()(e),"eventManager",void 0),e.name=t.name,e.config=t.config,e.player=t.player,e.eventManager=new ir.EventManager,e.logger=Yn("UI ".concat(e.name)),e.logger.debug("Initialized"),e}return B()(i,[{key:"notifyClick",value:function(e){this.context.store.dispatch({type:Zl.COMPONENT_CLICKED,name:this.name,payload:e})}},{key:"notifyChange",value:function(e){this.context.store.dispatch({type:Zl.COMPONENT_CHANGED,name:this.name,payload:e})}},{key:"componentWillUnmount",value:function(){this.eventManager.removeAll()}},{key:"render",value:function(e,t,n){}}]),i}(X);function nu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ru(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nu(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}j()(tu,"defaultProps",{});var iu=un((function(e){return{overlayOpen:e.overlay.isOpen}}),Ur(ru(ru({},Nr),eo)))(Jl=jr(($l=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"_timeoutId",null),j()(Qn()(e),"_wasPlayed",!1),j()(Qn()(e),"onCloseButtonKeyDown",(function(t){var n,r;t.keyCode!==lr.ENTER&&t.keyCode!==lr.SPACE||(t.preventDefault(),null===(n=(r=e.props).onClose)||void 0===n||n.call(r,t,!0))})),j()(Qn()(e),"onKeyDown",(function(t){e.props.handleKeyDown&&e.props.handleKeyDown(t)})),e}return B()(i,[{key:"componentDidMount",value:function(){var e=this;this._timeoutId=setTimeout((function(){return e.props.addPlayerClass(Xr().overlayActive)}),0)}},{key:"componentWillUnmount",value:function(){this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null),(this.props.dontCheckOverlayPortal||qs(this.props.player).childElementCount<=1)&&this.props.removePlayerClass(Xr().overlayActive),this.props.overlayOpen&&this._wasPlayed&&(this._wasPlayed=!1,this.props.player.play())}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.player,r=t.pauseOnOpen;this.props.overlayOpen&&!e.overlayOpen&&r&&!n.paused&&(this._wasPlayed=!0,n.pause())}},{key:"renderCloseButton",value:function(e){return e.permanent?void 0:W(Ln,null,W("a",{role:"button",ref:function(t){e.addAccessibleChild&&e.addAccessibleChild(t)},tabIndex:0,onClick:function(){e.updateOverlay(!1),e.onClose()},onKeyDown:this.onCloseButtonKeyDown,"aria-label":e.closeAriaLabel,className:Xr().closeOverlay},W(Do,{type:xo.Close})))}},{key:"render",value:function(e){var t=e.type,n=e.open,r=e.ariaLabel,i=e.ariaLabelledBy,a="error"===t?"alert":"dialog",o="error"===t?"polite":void 0,s=i?{"aria-labelledby":i,"aria-live":o}:{"aria-label":r,"aria-live":o},l=[Xr().overlay];if(t){var u=Xr()[t+"-overlay"]?Xr()[t+"-overlay"]:t+"-overlay";l.push(u)}return n&&(this.props.updateOverlay(n),l.push(Xr().active)),W("div",qn()({tabIndex:-1,className:l.join(" "),role:a,onKeyDown:this.onKeyDown},s),W("div",{className:Xr().overlayContents},this.props.children),this.renderCloseButton(this.props))}}]),i}(X),j()($l,"defaultProps",{closeAriaLabel:W(Dn,{id:"overlay.close"})}),Jl=$l))||Jl)||Jl;iu.displayName="Overlay";var au,ou,su=function(e){var t=De(null);return Re((function(){e.isActive&&t.current&&t.current.focus()}),[]),W("div",{role:"radio",tabIndex:0,"aria-checked":e.isActive?"true":"false",ref:function(n){n&&(t.current=n,e.addAccessibleChild(n))},className:e.classNames.join(" "),onClick:e.changeCaptionsStyle,onKeyDown:function(t){t.keyCode===lr.ENTER&&e.changeCaptionsStyle()}},e.children,e.isActive?W("div",{className:Xr().activeTick},W(Io,{type:xo.Check})):void 0)},lu=jr(au=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"captionsStyleDefault",void 0),j()(Qn()(e),"captionsStyleYellow",void 0),j()(Qn()(e),"captionsStyleBlackBG",void 0),j()(Qn()(e),"transitionToState",(function(){e.props.transitionToState(e.props.cvaaOverlayState.CustomCaptions)})),j()(Qn()(e),"onKeyDown",(function(t){t.keyCode===lr.ENTER&&e.transitionToState()})),e}return B()(i,[{key:"componentWillMount",value:function(){var e=this.props.player;this.captionsStyleDefault=e.TextStyle.fromJson({backgroundOpacity:e.TextStyle.StandardOpacities.TRANSPARENT}),this.captionsStyleYellow=e.TextStyle.fromJson({backgroundOpacity:e.TextStyle.StandardOpacities.TRANSPARENT,fontColor:e.TextStyle.StandardColors.YELLOW}),this.captionsStyleBlackBG=e.TextStyle.fromJson({backgroundColor:e.TextStyle.StandardColors.BLACK,fontColor:e.TextStyle.StandardColors.WHITE})}},{key:"render",value:function(e){var t=this;return W("div",{className:[Xr().overlayScreen,Xr().active].join(" ")},W("h2",{className:Xr().title,id:this.props.captionsTitleId},W(Dn,{id:"cvaa.title"})),W("div",{role:"radiogroup"},W(su,{addAccessibleChild:e.addAccessibleChild,classNames:[Xr().sample],changeCaptionsStyle:function(){return e.changeCaptionsStyle(t.captionsStyleDefault)},isActive:e.player.textStyle.isEqual(this.captionsStyleDefault)},W(Dn,{id:"cvaa.sample_caption_tag",fields:{number:"1"}})),W(su,{addAccessibleChild:e.addAccessibleChild,classNames:[Xr().sample,Xr().blackBg],changeCaptionsStyle:function(){return e.changeCaptionsStyle(t.captionsStyleBlackBG)},isActive:e.player.textStyle.isEqual(this.captionsStyleBlackBG)},W(Dn,{id:"cvaa.sample_caption_tag",fields:{number:"2"}})),W(su,{addAccessibleChild:e.addAccessibleChild,classNames:[Xr().sample,Xr().yellowText],changeCaptionsStyle:function(){return e.changeCaptionsStyle(t.captionsStyleYellow)},isActive:e.player.textStyle.isEqual(this.captionsStyleYellow)},W(Dn,{id:"cvaa.sample_caption_tag",fields:{number:"3"}}))),this.isAdvancedStyleApplied()?W("div",{className:Xr().customCaptionsApplied},W("div",{className:[Xr().sample,Xr().custom].join(" "),style:e.customTextStyle.toCSS()},W(Dn,{id:"cvaa.sample_custom_caption_tag"}),W("div",{className:Xr().activeTick},W(Io,{type:xo.Check}))),W("a",{id:"editCaption",role:"button",tabIndex:0,"aria-haspopup":"true",className:Xr().buttonEditCvaa,onClick:this.transitionToState,ref:function(t){var n;e.addAccessibleChild(t),null===(n=e.setCustomOrEditRef)||void 0===n||n.call(e,t)},onKeyDown:this.onKeyDown},W(Dn,{id:"cvaa.edit_caption"}))):W("a",{id:"setCustom",role:"button","aria-haspopup":"true",tabIndex:0,className:Xr().buttonSaveCvaa,onClick:this.transitionToState,ref:function(t){var n;e.addAccessibleChild(t),null===(n=e.setCustomOrEditRef)||void 0===n||n.call(e,t)},onKeyDown:this.onKeyDown},W(Dn,{id:"cvaa.set_custom_caption"})))}},{key:"isAdvancedStyleApplied",value:function(){var e=this.props.player;return!e.textStyle.isEqual(this.captionsStyleDefault)&&!e.textStyle.isEqual(this.captionsStyleBlackBG)&&!e.textStyle.isEqual(this.captionsStyleYellow)}}]),i}(X))||au;function uu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rr()(e);if(t){var i=rr()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tr()(this,n)}}var cu=un((function(e){return{isMobile:e.shell.isMobile,isSmallSize:e.shell.isSmallSize,guiClientRect:e.shell.guiClientRect,topBarClientRect:e.shell.topBarClientRect}}))(ou=ar(ou=Hr(ou=function(e){$n()(n,e);var t=uu(n);function n(){var e;N()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),j()(Qn()(e),"_menuElement",void 0),j()(Qn()(e),"handleClickOutside",(function(t){e.props.isMobile||e.props.isSmallSize||!e._menuElement||e._menuElement.contains(t.target)||e.props.onClose()})),j()(Qn()(e),"onChange",(function(t){e.onSelect(e.props.options[t.target.value])})),e}return B()(n,[{key:"componentWillMount",value:function(){this.setState({position:[Xr().top,Xr().left]})}},{key:"componentDidMount",value:function(){this.props.eventManager.listen(document,"click",this.handleClickOutside),this.props.isMobile||this.props.isSmallSize||this.setState({position:this.getPosition()})}},{key:"getPosition",value:function(){var e=this._menuElement.getBoundingClientRect(),t=this.props.guiClientRect,n=this.props.topBarClientRect;return e.top>=n.bottom?[Xr().top,Xr().left]:e.bottom+e.height<t.bottom?[Xr().bottom,Xr().left]:(this._menuElement.style.maxHeight=t.height-n.height-Number(Xr().bottomBarMaxHeight)+"px",[Xr().stickBottom,Xr().left])}},{key:"isSelected",value:function(e){return e.active}},{key:"onSelect",value:function(e){this.props.onMenuChosen(e.value),this.props.options.filter((function(e){return e.active})).forEach((function(e){e.active=!1})),this.props.options.filter((function(t){return t.value===e.value}))[0].active=!0}},{key:"renderNativeSelect",value:function(e){var t=this,n=this.props.hideSelect?Xr().mobileHiddenSelect:"";n+=" ".concat(Xr().dropdown);var r=this.props.options.findIndex((function(e){return t.isSelected(e)}));return W("select",{"aria-labelledby":e,ref:function(e){t.props.pushRef&&t.props.pushRef(e)},className:n,value:r,onChange:this.onChange},this.props.options.map((function(e,t){return W("option",{value:t,key:t},e.label)})))}},{key:"render",value:function(e){var t=this;return e.clearAccessibleChildren(),e.isMobile||e.isSmallSize?this.renderNativeSelect(e.labelledby):W("div",{role:"listbox",onKeyDown:e.handleKeyDown,ref:function(e){return e?t._menuElement=e:void 0},className:[Xr().dropdownMenu].concat(L()(this.state.position)).join(" ")},e.options.map((function(n,r){return W(pu,{setDefaultFocusedElement:e.setDefaultFocusedElement,addAccessibleChild:e.addAccessibleChild,isSelected:t.isSelected,onSelect:function(e){t.onSelect(e)},key:r,data:n,role:"option","aria-selected":t.isSelected(n)})})))}}]),n}(X))||ou)||ou)||ou;cu.displayName="Menu";var du,pu=function(e){$n()(n,e);var t=uu(n);function n(){var e;N()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),j()(Qn()(e),"onClick",(function(t){t.stopPropagation(),e.props.onSelect(e.props.data)})),j()(Qn()(e),"onKeyDown",(function(t){switch(t.keyCode){case lr.ENTER:case lr.SPACE:e.props.onSelect(e.props.data),t.stopPropagation(),t.preventDefault()}})),e}return B()(n,[{key:"render",value:function(e){var t=this,n=e.data.badgeType&&!e.isSelected(e.data)?Po[e.data.badgeType]:Po[e.data.badgeType+"Active"];return W("div",{role:null==e?void 0:e.role,tabIndex:-1,"aria-selected":e.isSelected(e.data),ref:function(n){t.props.addAccessibleChild(n),e.isSelected(e.data)&&setTimeout((function(){return e.setDefaultFocusedElement(n)}))},className:e.isSelected(e.data)?[Xr().dropdownMenuItem,Xr().active].join(" "):Xr().dropdownMenuItem,onClick:this.onClick,onKeyDown:this.onKeyDown},W("span",{className:n?[Xr().labelBadge,n].join(" "):"","aria-label":(null==n?void 0:n.includes("quality-hd"))?"".concat(e.data.label," HD"):e.data.label},e.data.label),W("span",{className:[Xr().menuIconContainer,Xr().active].join(" ")},W(Do,{type:xo.CheckActive})))}}]),n}(X),fu=un((function(e){return{isMobile:e.shell.isMobile,isSmallSize:e.shell.isSmallSize}}))(du=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"_el",void 0),j()(Qn()(e),"onMenuChosen",(function(t){e.props.onMenuChosen(t),e.setState({dropMenuActive:!1})})),j()(Qn()(e),"onClick",(function(){e.state.dropMenuActive||setTimeout((function(){return e.toggleDropDown()}))})),j()(Qn()(e),"onKeyDown",(function(t){switch(t.keyCode){case lr.ENTER:e.onClick();break;case lr.SPACE:t.preventDefault(),e.onClick();break;case lr.ESC:e.state.dropMenuActive&&(e.onClose(),t.stopPropagation())}})),j()(Qn()(e),"onClose",(function(){e.setState({dropMenuActive:!1})})),e}return B()(i,[{key:"componentWillMount",value:function(){this.setState({dropMenuActive:!1})}},{key:"componentDidMount",value:function(){this.props.registerParentSelectedCallback&&this.props.registerParentSelectedCallback(this.toggleDropDown.bind(this))}},{key:"isSelected",value:function(e){return e.active}},{key:"getActiveOption",value:function(){return this.props.options.find((function(e){return e.active}))||this.props.options[0]||{label:"Unlabled"}}},{key:"renderNativeSelect",value:function(e){return W(cu,{labelledby:e,pushRef:this.props.pushRef,options:this.props.options,onMenuChosen:this.onMenuChosen,onClose:this.onClose})}},{key:"render",value:function(e){var t,n,r=this,i=e.name+"Active",a=this.getActiveOption(),o=(null==a||null===(t=a.dropdownOptions)||void 0===t?void 0:t.label)||a.label,s=Po[a.badgeType||(null==a||null===(n=a.dropdownOptions)||void 0===n?void 0:n.badgeType)];return e.isMobile||e.isSmallSize?this.renderNativeSelect(e.name):W("div",{name:e.name,className:this.state.dropMenuActive?[Xr().dropdown,Xr().active].join(" "):Xr().dropdown,ref:function(e){return e?r._el=e:void 0}},W("div",{tabIndex:e.tabbable?0:-1,ref:function(t){e.pushRef&&e.pushRef(t)},role:"combobox","aria-haspopup":"listbox","aria-expanded":this.state.dropMenuActive?"true":"false","aria-labelledby":e.name,className:Xr().dropdownButton,onClick:this.onClick,onKeyDown:this.onKeyDown},W("span",{id:i,className:s?[Xr().labelBadge,s].join(" "):"","aria-label":(null==s?void 0:s.includes("quality-hd"))?"".concat(o," HD"):o},o),W(Io,{type:xo.ArrowDown}),this.state.dropMenuActive?W(cu,{parentEl:this._el,options:e.options,onMenuChosen:this.onMenuChosen,onClose:this.onClose}):void 0))}},{key:"toggleDropDown",value:function(){this.setState((function(e){return{dropMenuActive:!e.dropMenuActive}}))}}]),i}(X))||du;fu.displayName="DropDown";var hu=function(e){var t=null;return W("div",{className:e.classNames.join(" ")},W("label",{id:e.styleName},W(Dn,{id:e.labelId})),W(fu,{name:e.styleName,pushRef:function(n){t=n,e.addAccessibleChild(n)},tabbable:!0,onMenuChosen:function(n){var r={};r[e.styleName]=n,e.changeCustomStyle(r),t&&t.focus()},options:e.options}))},yu=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"sliderWidth",void 0),j()(Qn()(e),"_sliderElement",void 0),j()(Qn()(e),"_sliderElementOffsetLeft",void 0),j()(Qn()(e),"mouseDownHandler",(function(t){e._sliderElementOffsetLeft=e._sliderElement.getBoundingClientRect().left,e.state.dragging||e.setState((function(n){return{dragging:!0,value:e.mouseEventToValue(t,n)}}),(function(){e.props.onChange(e.mouseEventToValue(t,e.state))}))})),j()(Qn()(e),"onKeyDown",(function(t){t.keyCode!==lr.LEFT&&t.keyCode!==lr.RIGHT||e.onKeyboardDragging(t)})),j()(Qn()(e),"mouseMoveHandler",(function(t){e.state.dragging&&e.setState((function(n){return{value:e.mouseEventToValue(t,n)}}),(function(){e.props.onChange(e.mouseEventToValue(t,e.state))}))})),j()(Qn()(e),"mouseUpHandler",(function(t){e.state.dragging&&e.setState((function(n){return{value:e.mouseEventToValue(t,n),dragging:!1}}),(function(){e.props.onChange(e.mouseEventToValue(t,e.state))}))})),e}return B()(i,[{key:"componentWillMount",value:function(){this.setState({value:this.props.value||0,min:this.props.min||0,max:this.props.max||100,dragging:!1}),document.addEventListener("mouseup",this.mouseUpHandler),document.addEventListener("mousemove",this.mouseMoveHandler),document.addEventListener("touchend",this.mouseUpHandler),document.addEventListener("touchmove",this.mouseMoveHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.mouseUpHandler),document.removeEventListener("mousemove",this.mouseMoveHandler),document.removeEventListener("touchend",this.mouseUpHandler),document.removeEventListener("touchmove",this.mouseMoveHandler)}},{key:"componentDidMount",value:function(){this.sliderWidth=this._sliderElement.clientWidth,this._sliderElementOffsetLeft=this._sliderElement.getBoundingClientRect().left}},{key:"onKeyboardDragging",value:function(e){var t=this;e.stopPropagation(),this._sliderElementOffsetLeft=this._sliderElement.getBoundingClientRect().left;var n=this.props.value;switch(e.keyCode){case lr.RIGHT:(n+=5)>this.state.max&&(n=this.state.max);break;case lr.LEFT:(n-=5)<this.state.min&&(n=this.state.min)}this.setState({value:n,dragging:!1},(function(){t.props.onChange(n)}))}},{key:"mouseEventToValue",value:function(e,t){var n=(e.touches&&e.touches.length>0?e.touches[0].clientX:e.changedTouches?e.changedTouches[0].pageX:e.clientX)-this._sliderElement.getBoundingClientRect().left,r=Math.round(n/this._sliderElement.clientWidth*100);return this.getValueByPersentage(r)<t.min?t.min:this.getValueByPersentage(r)>t.max?t.max:this.getValueByPersentage(r)}},{key:"getValueByPersentage",value:function(e){return this.state.max/100*e}},{key:"getPercentageByValue",value:function(){return Math.round(this.state.value/this.state.max*100)}},{key:"render",value:function(e){var t=this;return W("div",{role:"slider","aria-valuemin":this.state.min,"aria-valuenow":this.state.value,"aria-valuemax":this.state.max,"aria-labelledby":e.name,tabIndex:0,ref:function(n){n&&(t._sliderElement=n,e.pushRef&&e.pushRef(n))},className:Xr().slider,onMouseDown:this.mouseDownHandler,onTouchStart:this.mouseDownHandler,onKeyDown:this.onKeyDown},W("div",{className:Xr().progress,style:{width:this.getPercentageByValue()+"%"}},W("div",{className:Xr().handle,onMouseDown:this.mouseDownHandler,onTouchStart:this.mouseDownHandler})))}}]),i}(X);yu.displayName="Slider";var gu,vu=function(e){return W("div",{className:e.classNames.join(" ")},W("label",{id:e.styleName},W(Dn,{id:e.labelId})),W(yu,{name:e.styleName,pushRef:function(t){e.addAccessibleChild(t)},min:0,max:100,value:100*e.value,onChange:function(t){var n={};n[e.styleName]=t/100,e.changeCustomStyle(n)}}))};function mu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mu(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ku,Eu,Tu,_u,Au,Su=jr(gu=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"changeCaptionsStyle",(function(){e.props.changeCaptionsStyle(e.props.customTextStyle)})),j()(Qn()(e),"transitionToState",(function(){e.props.transitionToState(e.props.cvaaOverlayState.Main)})),j()(Qn()(e),"onKeyDown",(function(t){t.keyCode!==lr.ENTER&&t.keyCode!==lr.SPACE||(t.preventDefault(),t.stopPropagation(),e.changeCaptionsStyle(),e.transitionToState(),e.focusCustomOrEdit())})),e}return B()(i,[{key:"componentDidMount",value:function(){this.props.focusOnDefault()}},{key:"focusCustomOrEdit",value:function(){var e,t;null===(e=(t=this.props).focusCustomOrEdit)||void 0===e||e.call(t)}},{key:"render",value:function(e){var t=this,n=this.props.player,r=n.TextStyle.FontFamily,i=n.TextStyle.EdgeStyles,a=n.TextStyle.StandardColors,o=n.TextStyle.FontSizes.map((function(t){return{value:t.label,label:t.label,active:e.customTextStyle.fontSize===t.label}})),s=Object.keys(a).map((function(t){return{value:a[t],label:t.charAt(0).toUpperCase()+t.toLowerCase().slice(1),active:e.customTextStyle.fontColor.every((function(e,n){return e===a[t][n]}))}})),l=Object.keys(r).map((function(t){return{value:r[t],label:r[t],active:e.customTextStyle.fontFamily===r[t]}})),u=Object.keys(i).map((function(t){return{value:i[t],label:t.charAt(0).toUpperCase()+t.toLowerCase().slice(1),active:e.customTextStyle.fontEdge===i[t]}})),c=Object.keys(a).map((function(t){return{value:a[t],label:t.charAt(0).toUpperCase()+t.toLowerCase().slice(1),active:e.customTextStyle.backgroundColor.every((function(e,n){return e===a[t][n]}))}})),d=n.TextStyle.FontAlignment.map((function(t){return bu(bu({},t),{},{active:e.customTextStyle.textAlign===t.value})}));return W("div",{className:[Xr().overlayScreen,Xr().active].join(" ")},W("h2",{className:Xr().title},W(Dn,{id:"cvaa.set_custom_caption"})),W("form",{className:[Xr().form,Xr().customCaptionForm].join(" ")},W(hu,{addAccessibleChild:e.addAccessibleChild,labelId:"cvaa.size_label",options:o,classNames:[Xr().formGroupRow,Xr().fontSize],styleName:"fontSize",changeCustomStyle:e.changeCustomStyle}),W(hu,{addAccessibleChild:e.addAccessibleChild,labelId:"cvaa.font_alignment_label",options:d,classNames:[Xr().formGroupRow,Xr().fontAlignment],styleName:"textAlign",changeCustomStyle:e.changeCustomStyle}),W(hu,{addAccessibleChild:e.addAccessibleChild,labelId:"cvaa.font_color_label",options:s,classNames:[Xr().formGroupRow,Xr().fontColor],styleName:"fontColor",changeCustomStyle:e.changeCustomStyle}),W(hu,{addAccessibleChild:e.addAccessibleChild,labelId:"cvaa.font_family_label",options:l,classNames:[Xr().formGroupRow,Xr().fontFamily],styleName:"fontFamily",changeCustomStyle:e.changeCustomStyle}),W(hu,{addAccessibleChild:e.addAccessibleChild,labelId:"cvaa.font_style_label",options:u,classNames:[Xr().formGroupRow,Xr().fontStyle],styleName:"fontEdge",changeCustomStyle:e.changeCustomStyle}),W(vu,{addAccessibleChild:e.addAccessibleChild,labelId:"cvaa.font_opacity_label",value:e.customTextStyle.fontOpacity,classNames:[Xr().formGroupRow,Xr().fontOpacity],styleName:"fontOpacity",changeCustomStyle:e.changeCustomStyle}),W(hu,{addAccessibleChild:e.addAccessibleChild,labelId:"cvaa.background_color_label",options:c,classNames:[Xr().formGroupRow,Xr().backgroundColor],styleName:"backgroundColor",changeCustomStyle:e.changeCustomStyle}),W(vu,{addAccessibleChild:e.addAccessibleChild,labelId:"cvaa.background_opacity_label",value:e.customTextStyle.backgroundOpacity,classNames:[Xr().formGroupRow,Xr().backgroundOpacity],styleName:"backgroundOpacity",changeCustomStyle:e.changeCustomStyle}),W("div",{className:Xr().formGroupRow},W("a",{role:"button",tabIndex:0,ref:function(t){e.addAccessibleChild(t)},onClick:function(){t.changeCaptionsStyle(),t.transitionToState(),t.focusCustomOrEdit()},onKeyDown:this.onKeyDown,className:[Xr().btn,Xr().btnBranded,Xr().btnBlock].join(" ")},W(Dn,{id:"cvaa.apply"}))),W("div",{className:Xr().previewContainer},W("span",{style:e.getPreviewStyle()},W(Dn,{id:"cvaa.caption_preview"})))))}}]),i}(X))||gu;function wu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wu(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xu,Pu,Ru,Iu={Main:"main",CustomCaptions:"custom-captions"},Du="CVAAOverlay",Ou=(ku=un((function(e){return{style:e.cvaa.style,targetId:e.config.targetId}}),Ur(Cu(Cu({},Ra),Nr))),Eu=yr(Du),Tu=Oi(Du),_u=Un({cvvaDialogText:"cvaa.title",cvvaSetCustomCaptionsText:"cvaa.set_custom_caption",cvaaCloseLabel:"cvaa.close_label"}),ku(Au=jr(Au=Eu(Au=Tu(Au=Hr(Au=_u(Au=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"customOrEditRef",null),j()(Qn()(e),"focusOnNextUpdate",!1),j()(Qn()(e),"setCustomOrEditRef",(function(t){e.customOrEditRef=t})),j()(Qn()(e),"focusCustomOrEdit",(function(){e.focusOnNextUpdate=!0})),j()(Qn()(e),"transitionToState",(function(t){e.setState({activeWindow:t})})),j()(Qn()(e),"changeCaptionsStyle",(function(t){e.props.notifyClick({textStyle:t}),e.props.updateCaptionsStyle(t),e.props.player.textStyle=t})),j()(Qn()(e),"getPreviewStyle",(function(){var t=100*e.state.customTextStyle.implicitFontScale+"%",n=e.state.customTextStyle.toCSS();return"font-size: ".concat(t,"!important; ").concat(n)})),j()(Qn()(e),"changeCustomStyle",(function(t){e.setState((function(e){var n=e.customTextStyle.clone();return{customTextStyle:Object.assign(n,t)}}))})),j()(Qn()(e),"focusPlayerButtonBadge",(function(){e.props.player;var t=document.getElementById(e.props.targetId);if(t)var n=0,r=setInterval((function(){var e=t.querySelector(".playkit-button-badge");if(e&&"hidden"!==getComputedStyle(e).visibility)return e.focus(),void clearInterval(r);++n>=10&&clearInterval(r)}),100)})),e}return B()(i,[{key:"componentDidUpdate",value:function(){this.focusOnNextUpdate&&(this.focusOnNextUpdate=!1,Br(this.customOrEditRef,20))}},{key:"componentWillUnmount",value:function(){this.setState({activeWindow:Iu.Main})}},{key:"componentWillMount",value:function(){var e=this.props.player;this.setState({activeWindow:Iu.Main,customTextStyle:e.textStyle}),this.props.setIsModal(!0)}},{key:"render",value:function(e){var t=this;e.clearAccessibleChildren();var n=this.state.activeWindow===Iu.Main,r="captions_title_".concat(ir.Utils.Generator.guid()),i=n?{ariaLabelledBy:r}:{ariaLabel:this.props.cvvaSetCustomCaptionsText};return W(iu,qn()({open:!0,handleKeyDown:this.props.handleKeyDown,addAccessibleChild:this.props.addAccessibleChild,onClose:function(){e.onClose(),t.focusPlayerButtonBadge()},type:"cvaa"},i,{closeAriaLabel:this.props.cvaaCloseLabel}),this.state.activeWindow===Iu.Main?W(lu,{captionsTitleId:r,cvaaOverlayState:Iu,addAccessibleChild:e.addAccessibleChild,captionsStyleDefault:this.captionsStyleDefault,captionsStyleBlackBG:this.captionsStyleBlackBG,captionsStyleYellow:this.captionsStyleYellow,changeCaptionsStyle:this.changeCaptionsStyle,transitionToState:this.transitionToState,customTextStyle:this.state.customTextStyle,setCustomOrEditRef:this.setCustomOrEditRef}):W(Su,{addAccessibleChild:e.addAccessibleChild,focusOnDefault:this.props.focusOnDefault,changeCaptionsStyle:this.changeCaptionsStyle,changeCustomStyle:this.changeCustomStyle,getPreviewStyle:this.getPreviewStyle,customTextStyle:this.state.customTextStyle,transitionToState:this.transitionToState,cvaaOverlayState:Iu,focusCustomOrEdit:this.focusCustomOrEdit}))}}]),i}(X))||Au)||Au)||Au)||Au)||Au)||Au);function Lu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lu(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Ou.displayName=Du;var Nu,Uu=da.updateCurrentTime,Bu=Na.updateIsCaptionsEnabled,Fu="EngineConnector",ju=(xu=un(di,Ur(Mu(Mu(Mu(Mu({},pi),Aa),Nr),{},{seekbarUpdateCurrentTime:Uu,updateIsCaptionsEnabled:Bu}))),Pu=yr(Fu),xu(Ru=jr(Ru=ar(Ru=Pu(Ru=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.player,r=t.eventManager,i=n.Track;this.props.updatePrePlayback(!n.config.playback.autoplay),r.listen(n,n.Event.Core.PLAYER_RESET,(function(t){e.props.updateCurrentTime(0),e.props.seekbarUpdateCurrentTime(0),t.payload.isChangeMedia||e.props.updateIsIdle(!0),e.props.updateIsPlaybackStarted(!1),e.props.updateDataLoadingStatus(!1)})),r.listen(n,n.Event.Core.SOURCE_SELECTED,(function(){e.props.updateIsCastAvailable(n.isCastAvailable()),e.props.updateIsLive(n.isLive()),e.props.updateIsVr(n.isVr()),e.props.updateIsImg(n.isUntimedImg()),e.props.updateIsDocument(n.isUntimedDocument()),e.props.updateIsAudio(n.isAudio()),e.props.updateIsInPictureInPicture(n.isInPictureInPicture()),n.config.playback.autoplay?e.props.updateLoadingSpinnerState(!0):e.props.updateLoadingSpinnerState(!1)})),r.listen(n,n.Event.Core.CHANGE_SOURCE_STARTED,(function(){e.props.updatePrePlayback(!n.config.playback.autoplay&&!e.props.engine.isPlaybackStarted),e.props.updateIsChangingSource(!0),e.props.updateFallbackToMutedAutoPlay(!1),e.props.updateAdBreak(!1),e.props.updateAdIsPlaying(!1),e.props.updateIsPlaying(!1),e.props.updateIsEnded(!1),e.props.updateIsPlaybackEnded(!1),e.props.updateLastSeekPoint(0),e.props.updateIsPaused(!1),e.props.engine.isCasting&&e.props.updateLoadingSpinnerState(!0)})),r.listen(n,n.Event.Core.CHANGE_SOURCE_ENDED,(function(){e.props.updateIsChangingSource(!1),e.props.updatePlayerPoster(n.poster),e.props.updateIsIdle(!1)})),r.listen(n,n.Event.Core.PLAYER_STATE_CHANGED,(function(t){e.props.updatePlayerState(t.payload.oldState.type,t.payload.newState.type)})),r.listen(n,n.Event.Core.TIME_UPDATE,(function(){e.props.updateCurrentTime(n.currentTime)})),r.listen(n,n.Event.Core.DURATION_CHANGE,(function(){e.props.updateDuration(n.isLive()?n.liveDuration:n.duration)})),r.listen(n,n.Event.Core.LOADED_DATA,(function(){e.props.updateDuration(n.isLive()?n.liveDuration:n.duration),e.props.updatePictureInPictureSupport(n.isPictureInPictureSupported()),e.props.updateDataLoadingStatus(!0)})),r.listen(n,n.Event.Core.LOADED_METADATA,(function(){e.props.updateMuted(n.muted),e.props.updateMetadataLoadingStatus(!0),e.props.updateIsLive(n.isLive()),e.props.updateIsDvr(n.isDvr()),e.props.updatePlayerPoster(n.poster)})),r.listen(n,n.Event.Core.VOLUME_CHANGE,(function(){e.props.updateVolume(n.volume)})),r.listen(n,n.Event.Core.MUTE_CHANGE,(function(){e.props.updateMuted(n.muted),e.props.engine.fallbackToMutedAutoPlay&&e.props.updateFallbackToMutedAutoPlay(n.muted)})),r.listen(n,n.Event.Core.PLAYBACK_START,(function(){e.props.updatePrePlayback(!1),e.props.updateIsPlaybackStarted(!0),e.props.updateLoadingSpinnerState(!0)})),r.listen(n,n.Event.Core.AUTOPLAY_FAILED,(function(){e.props.updatePrePlayback(!0)})),r.listen(n,n.Event.Core.FIRST_PLAY,(function(){e.props.updatePrePlayback(!1)})),r.listen(n,n.Event.Core.PLAY,(function(){e.props.updateIsPlaying(!0),e.props.updateIsEnded(!1),e.props.updateIsPaused(!1),e.props.updateIsPlaybackEnded(!1)})),r.listen(n,n.Event.Core.PAUSE,(function(){e.props.updateIsPlaying(!1),e.props.updateIsPaused(!0)})),r.listen(n,n.Event.Core.SEEKING,(function(){e.props.updateIsSeeking(!0)})),r.listen(n,n.Event.Core.SEEKED,(function(){e.props.updateIsSeeking(!1),e.props.updateLastSeekPoint(n.currentTime),e.props.updateIsPlaybackEnded(!1)})),r.listen(n,n.Event.Core.ENDED,(function(){e.props.updateIsEnded(!0),e.props.updateIsPlaying(!1),e.props.updateIsPaused(!0)})),r.listen(n,n.Event.Core.PLAYBACK_ENDED,(function(){e.props.updateIsPlaybackEnded(!0)})),r.listen(n,n.Event.Core.TRACKS_CHANGED,(function(){var t=n.getTracks(i.AUDIO),r=n.getTracks(i.VIDEO),a=n.getTracks(i.TEXT);e.props.updateAudioTracks(t),e.props.updateVideoTracks(r),e.props.updateTextTracks(a)})),r.listen(n,n.Event.Core.TEXT_TRACK_CHANGED,(function(){var t,r=n.getTracks(i.TEXT);e.props.updateTextTracks(r),e.props.updateIsCaptionsEnabled("off"!==(null===(t=r.find((function(e){return e.active})))||void 0===t?void 0:t.language))})),r.listen(n,n.Event.Core.AUDIO_TRACK_CHANGED,(function(){var t=n.getTracks(i.AUDIO);e.props.updateAudioTracks(t)})),r.listen(n,n.Event.Core.VIDEO_TRACK_CHANGED,(function(){var t=n.getTracks(i.VIDEO);e.props.updateVideoTracks(t)})),r.listen(n,n.Event.Core.AD_BREAK_START,(function(){e.props.updateHasError(!1),e.props.updateAdBreak(!0)})),r.listen(n,n.Event.Core.AD_BREAK_END,(function(){e.props.updateAdBreak(!1)})),r.listen(n,n.Event.Core.ALL_ADS_COMPLETED,(function(){e.props.updateAdBreak(!1)})),r.listen(n,n.Event.Core.AD_PROGRESS,(function(t){var n=t.payload.adProgress.currentTime,r=t.payload.adProgress.duration;e.props.updateAdBreakProgress(n,r)})),r.listen(n,n.Event.Core.AD_COMPLETED,(function(){e.props.updateAdBreakCompleted()})),r.listen(n,n.Event.Core.AD_STARTED,(function(t){var n=t.payload.ad;e.props.updateLoadingSpinnerState(!1),e.props.updateAdIsPlaying(!0),e.props.updatePrePlayback(!1),e.props.updateAdIsBumper(n.bumper),e.props.updateAdContentType(n.contentType)})),r.listen(n,n.Event.Core.AD_RESUMED,(function(){e.props.updateAdIsPlaying(!0)})),r.listen(n,n.Event.Core.AD_PAUSED,(function(){e.props.updateAdIsPlaying(!1)})),r.listen(n,n.Event.Core.AD_ERROR,(function(t){t.payload.severity===n.Error.Severity.CRITICAL&&e.props.updateAdBreak(!1)})),r.listen(n,n.Event.Core.FALLBACK_TO_MUTED_AUTOPLAY,(function(){e.props.updateFallbackToMutedAutoPlay(!0)})),r.listen(n,n.Event.Core.AD_LOADED,(function(t){var n=t.payload.ad;e.props.updateAdIsLinear(n.linear),e.props.updateAdIsBumper(n.bumper),e.props.updateAdClickUrl(n.clickThroughUrl),e.props.updateAdSkipTimeOffset(n.skipOffset),e.props.updateAdSkippableState(n.skippable)})),r.listen(n,n.Event.Core.VR_STEREO_MODE_CHANGED,(function(t){e.props.updateVrStereoMode(t.payload.mode)})),r.listen(n,n.Event.Core.ERROR,(function(t){var r,i;t.payload.severity===n.Error.Severity.CRITICAL&&(e.props.updateIsIdle(!1),e.props.updateHasError(!0),e.props.updateErrorDetails(t.payload.category||void 0,null===(r=t.payload.errorDetails)||void 0===r?void 0:r.errorTitle,null===(i=t.payload.errorDetails)||void 0===i?void 0:i.errorMessage))})),r.listen(n,n.Event.Cast.CAST_SESSION_STARTED,(function(t){var n=t.payload.session;e.props.updateIsCasting(!0),e.props.updateCastSession(n),n.resuming&&e.props.updateLoadingSpinnerState(!1)})),r.listen(n,n.Event.Cast.CAST_SESSION_ENDED,(function(){e.props.updateIsCasting(!1),e.props.updateCastSession(null)})),r.listen(n,n.Event.Cast.CAST_AVAILABLE,(function(t){var n=t.payload.available;e.props.updateIsCastAvailable(n)})),r.listen(n,n.Event.Playlist.PLAYLIST_ITEM_CHANGED,(function(){e.props.updatePlaylist({next:n.playlist.next,prev:n.playlist.prev})})),r.listen(n,n.Event.Core.ENTER_PICTURE_IN_PICTURE,(function(){e.props.updateIsInPictureInPicture(!0)})),r.listen(n,n.Event.Core.LEAVE_PICTURE_IN_PICTURE,(function(){e.props.updateIsInPictureInPicture(!1)})),r.listen(n,n.Event.Core.PRESENTATION_MODE_CHANGED,(function(){e.props.updateIsInPictureInPicture(n.isInPictureInPicture()),e.props.updateFullscreen(n.isFullscreen())})),r.listen(n,n.Event.Core.ENTER_FULLSCREEN,(function(){e.props.updateFullscreen(!0)})),r.listen(n,n.Event.Core.EXIT_FULLSCREEN,(function(){e.props.updateFullscreen(!1)}))}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return W("span",null)}}]),i}(X))||Ru)||Ru)||Ru)||Ru);ju.displayName=Fu;var Hu="CopyButton",Vu=[{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 4C5.89543 4 5 4.89543 5 6V13C5 14.1046 5.89543 15 7 15H11C12.1046 15 13 14.1046 13 13V6C13 4.89543 12.1046 4 11 4H7ZM7 6H11V13H7V6Z"},{d:"M15 11H16V18H12V17.2H10V18.1C10 19.2458 10.9971 20 12 20H16C17.0029 20 18 19.2458 18 18.1V10.9C18 9.75416 17.0029 9 16 9H15V11Z"}],Gu=Un({copyButtonLabel:"copy.button"})(Nu=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(e){var t;return N()(this,i),t=r.call(this,e),j()(Qn()(t),"_timeoutId",null),j()(Qn()(t),"copy",(function(){try{t.props.copy(),t.setState({copySuccess:!0}),t._timeoutId=setTimeout((function(){t.setState({copySuccess:!1})}),2e3)}catch(e){t.setState({copySuccess:!1})}})),j()(Qn()(t),"onKeyDown",(function(e){e.keyCode===lr.ENTER&&t.copy()})),t.setState({copySuccess:!1}),t}return B()(i,[{key:"componentWillUnmount",value:function(){this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)}},{key:"render",value:function(e){var t=[Xr().btnCopyUrl,Xr().btnBorderless,Xr().onlyIcon].join(" ");return t+=this.state.copySuccess?" "+Xr().copied:"",W(Ln,null,W(is,{name:Hu},W(mo,{label:this.props.copyButtonLabel},W(Ko,{tabIndex:"0","aria-label":this.props.copyButtonLabel,ref:function(t){e.addAccessibleChild&&e.addAccessibleChild(t)},className:t,onClick:this.copy,onKeyDown:this.onKeyDown},W(Io,{id:"copy",color:"#fff",path:Vu,width:"24",height:"24",viewBox:"0 0 24 24"}),W(Io,{type:xo.Check})))))}}]),i}(X))||Nu;Gu.displayName=Hu;var Ku,zu,Wu,Yu=new Map([[1,{title:"network_error_title",message:"network_error_message"}],[2,{title:"text_error_title",message:"text_error_message"}],[3,{title:"media_error_title",message:"media_error_message"}],[4,{title:"manifest_error_title",message:"manifest_error_message"}],[5,{title:"streaming_error_title",message:"streaming_error_message"}],[6,{title:"media_unavailable_error_title",message:"drm_error_message"}],[7,{title:"default_error_title",message:"default_error_message"}],[8,{title:"default_error_title",message:"default_error_message"}],[9,{title:"default_error_title",message:"default_error_message"}],[12,{title:"media_not_ready_error_title",message:"media_not_ready_error_message"}],[13,{title:"geo_location_error_title",message:"geo_location_error_message"}],[14,{title:"media_unavailable_error_title",message:"media_unavailable_error_message"}],[15,{title:"media_unavailable_error_title",message:"ip_restricted_error_message"}],[16,{title:"media_unavailable_error_title",message:"site_restricted_error_message"}],[17,{title:"media_unavailable_error_title",message:"scheduled_restricted_error_message"}],[18,{title:"error_title",message:"access_control_error_message"}]]),Zu={title:"default_error_title",message:"default_error_message"};function qu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qu(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qu,Ju,$u,ec,tc="ErrorOverlay",nc=(Ku=un((function(e){var t;return{hasError:e.engine.hasError,errorOverlaConfig:null===(t=e.config.components)||void 0===t?void 0:t.errorOverlay,errorDetails:e.engine.errorDetails}}),Ur(Xu(Xu({},pi),eo))),zu=yr(tc),Ku(Wu=jr(Wu=zu(Wu=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"sessionEl",void 0),j()(Qn()(e),"copyError",(function(){navigator.clipboard.writeText(JSON.stringify(e.props.player.debugInfo))})),j()(Qn()(e),"handleClick",(function(){var t=e.props.player.getMediaInfo();e.props.updateOverlay(!1),e.props.player.loadMedia(t)})),j()(Qn()(e),"getBackgroundUrl",(function(){var t=e.props.errorOverlaConfig;return null==t?void 0:t.backgroundUrl})),e}return B()(i,[{key:"renderSessionID",value:function(){var e=this.props.player,t=e&&e.config&&e.config.session&&e.config.session.id;return W("div",{className:Xr().linkOptionsContainer},W("div",{className:Xr().copyUrlRow},W("div",null,W(Dn,{id:"error.default_session_text"})," "," "+t||0),W(Gu,{copy:this.copyError})))}},{key:"renderRetryButton",value:function(){if(this.props.player.getMediaInfo()){var e=Boolean(this.getBackgroundUrl());return W("div",{className:Xr().controlButtonContainer,onClick:this.handleClick},W(Ko,{className:[e?Xr().btnTranslucent:Xr().btnBorderless,Xr().retryBtn].join(" ")},W(Dn,{id:"error.retry"})))}}},{key:"renderErrorHead",value:function(){var e=this.props.errorDetails,t=e.errorCategory,n=e.errorTitle,r=e.errorMessage,i="",a="";if(n&&r)i=n,a=r;else{var o=function(e){return Yu.get(e)||Zu}(t);i=W(Dn,{id:"error.".concat(o.title)}),a=W(Dn,{id:"error.".concat(o.message)})}return W("div",{className:Xr().headline},W("div",{className:Xr().errorTitle},this.props.errorHead||i),a?W("div",{className:Xr().errorMessage},a):void 0)}},{key:"render",value:function(){if(this.props&&this.props.hasError||this.props.permanent){var e=this.getBackgroundUrl(),t=e?{backgroundImage:"url(".concat(e,")")}:void 0;return W("div",{className:["overlay-portal",e?Xr().customErrorSlate:""].join(" ")},W(iu,{open:!0,permanent:!0,type:"error"},W("div",{className:Xr().errorOverlay,style:t},W("p",{className:Xr().errorText}),this.renderErrorHead(),this.renderSessionID(),this.renderRetryButton())))}}}]),i}(X))||Wu)||Wu)||Wu);nc.displayName=tc;var rc,ic="LiveTag",ac=(Qu=un((function(e){return{isLive:e.engine.isLive,isDvr:e.engine.isDvr,currentTime:e.engine.currentTime,duration:e.engine.duration}})),Ju=yr(ic),$u=Oi(ic),Qu(ec=jr(ec=Ju(ec=$u(ec=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"onKeyDown",(function(t){t.keyCode===lr.ENTER&&e.onClick()})),j()(Qn()(e),"onClick",(function(){e.isOnLiveEdge()||(e.props.player.seekToLiveEdge(),e.props.player.paused&&e.props.player.play()),e.props.notifyClick()})),e}return B()(i,[{key:"isOnLiveEdge",value:function(){return this.props.player.isOnLiveEdge()}},{key:"render",value:function(e){var t=[Xr().liveTag];return e.isDvr&&!this.isOnLiveEdge()&&t.push(Xr().nonLivePlayhead),W("div",{tabIndex:0,className:t.join(" "),onClick:this.onClick,onKeyDown:this.onKeyDown},W(Dn,{id:"controls.live"}))}}]),i}(X))||ec)||ec)||ec)||ec);ac.displayName=ic;var oc,sc,lc,uc=Un({loading:W(Dn,{id:"spinner.loading"},"Loading")})(rc=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"loadingSpan",{current:null}),e}return B()(i,[{key:"componentDidMount",value:function(){var e=this;this.loadingSpan.current&&"hidden"!==getComputedStyle(this.loadingSpan.current).visibility&&setTimeout((function(){e.loadingSpan.current&&(e.loadingSpan.current.innerText=e.props.loading)}),1e3)}},{key:"render",value:function(){return W("div",null,W("div",{className:Xr().spinner},Array(8).fill(0).map((function(e,t){return W("span",{key:t+1})}))),W("span",{className:Xr().srOnly,"aria-live":"assertive",ref:this.loadingSpan}))}}]),i}(X))||rc;uc.displayName="Spinner";var cc,dc,pc,fc,hc="Loading",yc=(oc=un((function(e){return{show:e.loading.show,isMobile:e.shell.isMobile,adBreak:e.engine.adBreak,adIsLinear:e.engine.adIsLinear}}),Ur(Aa)),sc=yr(hc),oc(lc=jr(lc=ar(lc=sc(lc=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.call(this)}return B()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.player,r=t.eventManager;r.listen(n,n.Event.PLAYER_STATE_CHANGED,(function(t){var r=n.State;t.payload.newState.type===r.IDLE||t.payload.newState.type===r.PLAYING||t.payload.newState.type===r.PAUSED?e.props.updateLoadingSpinnerState(!1):e.props.updateLoadingSpinnerState(!0)})),r.listen(n,n.Event.AD_BREAK_START,(function(){e.props.updateLoadingSpinnerState(!0)})),r.listen(n,n.Event.AD_PROGRESS,(function(){e.props.updateLoadingSpinnerState(!1)})),r.listen(n,n.Event.AD_STARTED,(function(){e.props.adIsLinear&&e.props.updateLoadingSpinnerState(!1)})),r.listen(n,n.Event.ALL_ADS_COMPLETED,(function(){e.props.updateLoadingSpinnerState(!1)})),r.listen(n,n.Event.AUTOPLAY_FAILED,(function(){e.props.updateLoadingSpinnerState(!1)})),r.listen(n,n.Event.PLAYING,(function(){e.props.updateLoadingSpinnerState(!1)}))}},{key:"render",value:function(e){if(e.show)return W("div",{className:[Xr().loadingBackdrop,Xr().show].join(" ")},W("div",{className:Xr().spinnerContainer},W(Tr,{name:Ir.LoadingSpinner},W(uc,null))))}}]),i}(X))||lc)||lc)||lc)||lc);function gc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gc(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}yc.displayName=hc;var mc,bc,kc,Ec,Tc,_c="OverlayAction",Ac=(cc=un((function(e){return{isPlayingAdOrPlayback:Oo(e.engine),iconType:e.overlayAction.iconType,playerHover:e.shell.playerHover,isMobile:e.shell.isMobile,guiStyles:e.shell.layoutStyles.gui,isSmartContainerOpen:e.shell.smartContainerOpen,fullscreenConfig:e.config.components.fullscreen,seekbarDraggingActive:e.seekbar.draggingActive}}),Ur(vc(vc({},Va),Nr))),dc=yr(_c),pc=Oi(_c),cc(fc=jr(fc=dc(fc=pc(fc=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"_iconTimeout",null),j()(Qn()(e),"_pointerDownPosX",NaN),j()(Qn()(e),"_pointerDownPosY",NaN),j()(Qn()(e),"_firstClickTime",0),j()(Qn()(e),"_clickTimeout",null),j()(Qn()(e),"togglePlayPause",(function(){e.props.isPlayingAdOrPlayback?(e.props.player.pause(),e.props.updateOverlayActionIcon(xo.Pause)):(e.props.player.play(),e.props.updateOverlayActionIcon(xo.Play)),e.props.updatePlayerHoverState(!0),e.props.notifyClick({type:"PlayPause"})})),j()(Qn()(e),"onOverlayPointerDown",(function(t){e._pointerDownPosX=t.clientX||t.changedTouches&&t.changedTouches[0]&&t.changedTouches[0].clientX,e._pointerDownPosY=t.clientY||t.changedTouches&&t.changedTouches[0]&&t.changedTouches[0].clientY})),j()(Qn()(e),"onOverlayMouseUp",(function(t){var n=2===t.button&&e.props.player.debugInfo;e.isDragging(t)||n||e.overlayClick()})),j()(Qn()(e),"onOverlayTouchEnd",(function(t){t.preventDefault(),e.props.playerHover&&!e.isDragging(t)&&e.togglePlayPause()})),e}return B()(i,[{key:"componentWillUnmount",value:function(){this.cancelClickTimeout(),this.cancelIconTimeout()}},{key:"toggleFullscreen",value:function(){this.props.player.isFullscreen()?(this.props.logger.debug("Exit fullscreen"),this.props.player.exitFullscreen()):(this.props.logger.debug("Enter fullscreen"),this.props.player.enterFullscreen()),this.props.notifyClick({type:"Fullscreen"})}},{key:"isDragging",value:function(e){var t=e.clientX||e.changedTouches&&e.changedTouches[0]&&e.changedTouches[0].clientX,n=e.clientY||e.changedTouches&&e.changedTouches[0]&&e.changedTouches[0].clientY;return this.props.seekbarDraggingActive||Math.abs(t-this._pointerDownPosX)>5||Math.abs(n-this._pointerDownPosY)>5}},{key:"overlayClick",value:function(){var e=this;if(!this.props.isSmartContainerOpen){if(!this.props.fullscreenConfig.disableDoubleClick){var t=Date.now();if(t-this._firstClickTime<200)return this.cancelClickTimeout(),void this.toggleFullscreen();if(t-this._firstClickTime<500)return this.cancelClickTimeout(),this.togglePlayPause(),this.toggleFullscreen(),void(this._firstClickTime=0);this._firstClickTime=t}this._clickTimeout=setTimeout((function(){e._clickTimeout=null,e.togglePlayPause()}),200)}}},{key:"cancelClickTimeout",value:function(){this._clickTimeout&&(clearTimeout(this._clickTimeout),this._clickTimeout=null)}},{key:"cancelIconTimeout",value:function(){this._iconTimeout&&(clearTimeout(this._iconTimeout),this._iconTimeout=null)}},{key:"shouldComponentUpdate",value:function(e){return e.iconType&&this.toggleOverlayActionIcon(e.iconType),!0}},{key:"toggleOverlayActionIcon",value:function(e){var t=this,n=function(){t.setState({animation:!0,iconType:e},(function(){t._iconTimeout=setTimeout((function(){t._iconTimeout=null,t.setState({animation:!1})}),300)}))};null!==this._iconTimeout?(this.cancelIconTimeout(),this.setState({animation:!1},(function(){t.forceUpdate(),n()}))):n()}},{key:"render",value:function(){return W("div",{style:this.props.guiStyles,className:"".concat(Xr().overlayAction," ").concat(this.state.animation?Xr().in:""),onMouseDown:this.onOverlayPointerDown,onTouchStart:this.onOverlayPointerDown,onMouseUp:this.onOverlayMouseUp,onTouchEnd:this.onOverlayTouchEnd},this.state.animation?this.renderIcons():void 0)}},{key:"renderIcons",value:function(){return Array.isArray(this.state.iconType)?this.state.iconType.map((function(e,t){return W(Do,{key:t,type:e})})):W(Do,{type:this.state.iconType})}},{key:"componentDidUpdate",value:function(){this.state.animation&&this.props.updateOverlayActionIcon(null)}}]),i}(X))||fc)||fc)||fc)||fc);Ac.displayName=_c;var Sc,wc,Cc,xc,Pc="PrePlaybackPlayOverlay",Rc=(mc=un((function(e){return{prePlayback:e.engine.prePlayback,isPlaybackEnded:e.engine.isPlaybackEnded,playlist:e.engine.playlist,loading:e.loading.show}}),Ur(Aa)),bc=yr(Pc),kc=Oi(Pc),Ec=Un({startOverText:"controls.startOver",playText:"controls.play",title:"controls.title"}),mc(Tc=jr(Tc=bc(Tc=kc(Tc=Ec(Tc=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"handleClick",(function(){e.props.playlist&&e.props.isPlaybackEnded?e.props.player.playlist.playNext():e.props.player.play(),e.props.notifyClick()})),j()(Qn()(e),"onKeyDown",(function(t){t.keyCode===lr.ENTER&&(t.preventDefault(),t.stopPropagation(),e.handleClick())})),j()(Qn()(e),"onMouseOver",(function(e){e.stopPropagation()})),j()(Qn()(e),"createPrePlaybackClassName",(function(){var t,n=[Xr().prePlaybackPlayOverlay],r=null===(t=e.props.player.sources.capabilities)||void 0===t?void 0:t.includes("quiz.quiz");return e.props.player.engineType!==e.props.player.EngineType.YOUTUBE||r||n.push(Xr().prePlaybackPlayOverlayYoutube),n})),e}return B()(i,[{key:"render",value:function(e){var t,n=e.isPlaybackEnded&&!e.player.config.playback.loop&&!(e.playlist&&e.playlist.next);if((e.prePlayback||n)&&!e.loading){var r="".concat(this.props.title,": ").concat(null===(t=this.props.player.sources.metadata)||void 0===t?void 0:t.name),i=e.isPlaybackEnded?e.startOverText:e.playText;return W("div",{className:this.createPrePlaybackClassName().join(" "),onMouseOver:this.onMouseOver,onClick:this.handleClick},W(Ko,{className:Xr().prePlaybackPlayButton,tabIndex:"0","aria-label":"".concat(i,", ").concat(r),onKeyDown:this.onKeyDown},W(mo,{label:i},e.isPlaybackEnded?W(Do,{type:xo.StartOver}):W(Do,{type:xo.Play}))))}}}]),i}(X))||Tc)||Tc)||Tc)||Tc)||Tc);Rc.displayName=Pc;var Ic,Dc,Oc,Lc,Mc="SeekBarLivePlaybackContainer",Nc=(Sc=un((function(e){return{currentTime:e.seekbar.currentTime,virtualTime:e.seekbar.virtualTime,isDraggingActive:e.seekbar.draggingActive,isMobile:e.shell.isMobile,poster:e.engine.poster,isDvr:e.engine.isDvr,dataLoaded:e.engine.dataLoaded}}),Ur(da)),wc=Oi(Mc),Cc=yr(Mc),Sc(xc=jr(xc=ar(xc=wc(xc=Cc(xc=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"componentDidMount",value:function(){var e=this.props,t=e.eventManager,n=e.player,r=e.isDraggingActive,i=e.updateCurrentTime;t.listen(n,n.Event.TIME_UPDATE,(function(){r||i(Math.max(n.normalizedCurrentTime,0))})),t.listen(n,n.Event.LOADED_DATA,(function(){i(Math.max(n.normalizedCurrentTime,0))}))}},{key:"render",value:function(e){var t=this;if(e.isDvr)return W(Vs,{playerElement:this.props.playerContainer,showFramePreview:this.props.showFramePreview,showTimeBubble:this.props.showTimeBubble,changeCurrentTime:function(e){t.props.player.isOnLiveEdge()&&e===t.duration||(t.props.player.normalizedCurrentTime=e)},playerPoster:this.props.poster,updateSeekbarDraggingStatus:function(e){return t.props.updateSeekbarDraggingStatus(e)},updateSeekbarHoverActive:function(e){return t.props.updateSeekbarHoverActive(e)},updateSeekbarClientRect:function(e){return t.props.updateSeekbarClientRect(e)},updateCurrentTime:function(e){return t.props.updateCurrentTime(e)},updateVirtualTime:function(e){return t.props.updateVirtualTime(e)},isDvr:this.props.isDvr,currentTime:this.currentTime,virtualTime:this.props.virtualTime,duration:this.duration,isDraggingActive:this.props.isDraggingActive,isMobile:this.props.isMobile,notifyChange:function(e){return t.props.notifyChange(e)},forceFullProgress:this.props.player.isOnLiveEdge(),dataLoaded:this.props.dataLoaded})}},{key:"currentTime",get:function(){return Math.min(this.props.currentTime,this.duration)}},{key:"duration",get:function(){return this.props.player.normalizedDuration}}]),i}(X))||xc)||xc)||xc)||xc)||xc);Nc.displayName=Mc;var Uc,Bc,Fc,jc="SeekBarPlaybackContainer",Hc=(Ic=un((function(e){return{currentTime:e.seekbar.currentTime,virtualTime:e.seekbar.virtualTime,duration:e.engine.duration,isDraggingActive:e.seekbar.draggingActive,isMobile:e.shell.isMobile,poster:e.engine.poster,dataLoaded:e.engine.dataLoaded}}),Ur(da)),Dc=yr(jc),Oc=Oi(jc),Ic(Lc=jr(Lc=ar(Lc=Dc(Lc=Oc(Lc=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"componentDidMount",value:function(){var e=this;this.props.eventManager.listen(this.props.player,this.props.player.Event.TIME_UPDATE,(function(){e.props.isDraggingActive||e.props.updateCurrentTime(e.props.player.currentTime)}))}},{key:"render",value:function(){var e=this;return W(Vs,{playerElement:this.props.playerContainer,showFramePreview:this.props.showFramePreview,showTimeBubble:this.props.showTimeBubble,changeCurrentTime:function(t){return e.props.player.currentTime=t},playerPoster:this.props.poster,updateSeekbarDraggingStatus:function(t){return e.props.updateSeekbarDraggingStatus(t)},updateSeekbarHoverActive:function(t){return e.props.updateSeekbarHoverActive(t)},updateSeekbarClientRect:function(t){return e.props.updateSeekbarClientRect(t)},updateCurrentTime:function(t){return e.props.updateCurrentTime(t)},updateVirtualTime:function(t){return e.props.updateVirtualTime(t)},currentTime:this.props.currentTime,virtualTime:this.props.virtualTime,duration:this.props.duration,isDraggingActive:this.props.isDraggingActive,isMobile:this.props.isMobile,notifyChange:function(t){return e.props.notifyChange(t)},dataLoaded:this.props.dataLoaded})}}]),i}(X))||Lc)||Lc)||Lc)||Lc)||Lc);function Vc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}Hc.displayName=jc;var Gc=(Uc=un((function(e){return{isMobile:e.shell.isMobile,isSmallSize:e.shell.isSmallSize}}),Ur(Nr)),Bc=Un({settingsText:"settings.title"}),Uc(Fc=Hr(Fc=jr(Fc=Bc(Fc=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"componentWillMount",value:function(){this.props.addPlayerClass(Xr().smartContainerOpen),this.props.updateSmartContainerOpen(!0)}},{key:"componentWillUnmount",value:function(){this.props.removePlayerClass(Xr().smartContainerOpen),this.props.updateSmartContainerOpen(!1)}},{key:"componentDidMount",value:function(){this.props.setIsModal(this.isPortal)}},{key:"render",value:function(e){return e.clearAccessibleChildren(),this.isPortal?st(W(iu,{open:!0,onClose:e.onClose,handleKeyDown:this.props.handleKeyDown,addAccessibleChild:this.props.addAccessibleChild,ariaLabel:e.settingsText},W("div",{className:Xr().title},e.title),this.renderChildren(e)),qs(e.player)):W("div",{onKeyDown:e.handleKeyDown,tabIndex:-1,role:"menu",className:[Xr().smartContainer,Xr().top,Xr().left].join(" ")},this.renderChildren(e))}},{key:"renderChildren",value:function(e){var t=this,n=ne(e.children).map((function(n){if(n)return ge(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vc(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({pushRef:function(t){e.addAccessibleChild(t)}},t.props))}));return n}},{key:"isPortal",get:function(){return this.props.isMobile||this.props.isSmallSize}}]),i}(X))||Fc)||Fc)||Fc)||Fc);Gc.displayName="SmartContainer";var Kc=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"render",value:function(e){var t=e.label&&e.label.toLowerCase();return W("div",{className:[Xr().smartContainerItem,Xr().selectMenuItem].join(" ")},W("label",{id:t,htmlFor:t},e.icon?W("div",{className:Xr().labelIcon},W(Do,{type:e.icon})):void 0,e.label),e.options&&e.options.length?W(fu,{pushRef:function(t){e.pushRef(t)},name:t,onMenuChosen:function(t){return e.onMenuChosen(t)},options:e.options}):W("div",{style:{paddingLeft:"20px"}},W(hp,{pushRef:function(t){e.pushRef(t)},name:t,isChecked:e.isChecked,onMenuChosen:function(t){return e.onMenuChosen(t)}})))}}]),i}(X);Kc.displayName="SmartContainerItem";var zc,Wc=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"getTimeDisplay",value:function(e,t,n){var r=n||"current / total",i=Vr(e),a=Vr(t),o=Vr(t-e);return(r=(r=r.replace(/current/g,i)).replace(/total/g,a)).replace(/left/g,o)}},{key:"render",value:function(e){var t=e.currentTime,n=e.duration,r=e.format,i=void 0===r?"current / total":r;return W("div",{className:Xr().timeDisplay},W("span",null,this.getTimeDisplay(t,n,i)))}}]),i}(X);Wc.displayName="TimeDisplay";var Yc,Zc="TimeDisplayAdsContainer",qc=un((function(e){return{adProgress:e.engine.adProgress}}))(zc=yr(Zc)(zc=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"render",value:function(e){return W(Wc,qn()({currentTime:Math.round(e.adProgress.currentTime),duration:Math.round(e.adProgress.duration)},e))}}]),i}(X))||zc)||zc;qc.displayName=Zc;var Xc,Qc,Jc="TimeDisplayPlaybackContainer",$c=un((function(e){return{currentTime:e.engine.currentTime,duration:e.engine.duration}}))(Yc=yr(Jc)(Yc=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"render",value:function(e){return W(Wc,qn()({currentTime:e.currentTime,duration:e.duration},e))}}]),i}(X))||Yc)||Yc;$c.displayName=Jc;var ed,td,nd,rd,id=(Xc=un((function(e){return{isCasting:e.engine.isCasting,isPlaybackEnded:e.engine.isPlaybackEnded,isPlaying:e.engine.isPlaying}}),Ur(Nr)),jr(Qc=ar(Qc=Xc(Qc=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"topBarRef",{current:null}),e}return B()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.player;t.eventManager.listenOnce(n,n.Event.PLAYING,(function(){var t;e.props.updateTopBarClientRect(null===(t=e.topBarRef.current)||void 0===t?void 0:t.getBoundingClientRect())}))}},{key:"render",value:function(e){var t=e.disabled,n=e.isPlaybackEnded,r=e.isCasting,i=e.leftControls,a=e.rightControls,o=[Xr().topBar];return t&&o.push(Xr().disabled),r&&n&&o.push(Xr().hide),W("div",{className:o.join(" "),ref:this.topBarRef},W("div",{className:Xr().topBarArea},W(Tr,{name:"TopBar"})),e.children,W("div",{className:Xr().leftControls},W(Tr,{name:"TopBarLeftControls"},i)),W("div",{className:Xr().rightControls},W(Tr,{name:"TopBarRightControls"},a)))}}]),i}(X))||Qc)||Qc)||Qc);id.displayName="TopBar";var ad,od,sd,ld="UnmuteIndication",ud={unmuteAriaLabel:W(Dn,{id:"controls.unmute"},"Unmute"),unmuteButtonText:W(Dn,{id:"unmute.unmute"},"Unmute")},cd=(ed=un((function(e){return{fallbackToMutedAutoPlay:e.engine.fallbackToMutedAutoPlay}}),null),td=yr(ld),nd=Un(ud),ed(rd=jr(rd=ar(rd=td(rd=nd(rd=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"_iconTimeout",null),j()(Qn()(e),"onKeyDown",(function(t){t.keyCode===lr.ENTER&&(e.props.player.muted=!e.props.player.muted)})),j()(Qn()(e),"onMouseOver",(function(){return e.setState({iconOnly:!1})})),j()(Qn()(e),"onMouseOut",(function(){return e.setState({iconOnly:!0})})),j()(Qn()(e),"onMouseUp",(function(){return e.props.player.muted=!e.props.player.muted})),j()(Qn()(e),"onTouchEnd",(function(e){return e.stopImmediatePropagation()})),e}return B()(i,[{key:"componentDidUpdate",value:function(e){var t=this;!e.fallbackToMutedAutoPlay&&this.props.fallbackToMutedAutoPlay&&(this.props.eventManager.listenOnce(this.props.player,this.props.player.Event.PLAYING,(function(){return t._iconOnlyTimeout()})),this.props.eventManager.listenOnce(this.props.player,this.props.player.Event.AD_STARTED,(function(){return t._iconOnlyTimeout()})))}},{key:"componentWillUnmount",value:function(){this._iconTimeout&&(clearTimeout(this._iconTimeout),this._iconTimeout=null)}},{key:"_iconOnlyTimeout",value:function(){var e=this;this._iconTimeout=setTimeout((function(){e.setState({iconOnly:!0})}),3e3)}},{key:"render",value:function(e){if(this.props.fallbackToMutedAutoPlay){var t=[Xr().unmuteButtonContainer];return e.hasTopBar&&t.push(Xr().hasTopBar),this.state.iconOnly&&t.push(Xr().showIconOnly),W(Ln,null,W("div",{className:t.join(" ")},W(Ko,{className:[Xr().btn,Xr().btnDarkTransparent,Xr().unmuteButton,Xr().btnTranslucent].join(" "),tabIndex:0,"aria-label":e.unmuteAriaLabel,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd,onKeyDown:this.onKeyDown},W("div",{className:Xr().unmuteIconContainer},W(Do,{type:xo.VolumeBase}),W(Do,{type:xo.VolumeMute})),W("span",null,e.unmuteButtonText))))}}}]),i}(X))||rd)||rd)||rd)||rd)||rd);cd.displayName=ld;var dd,pd,fd,hd,yd,gd,vd,md,bd=(ad=Un({videoLabel:W(Dn,{id:"videoArea.videoLabel"},"Video player. Use the play button or press the space bar to start playback.")}),od=un((function(e){return{videoStyles:e.shell.layoutStyles.video,targetId:e.config.targetId}}),Ur(Nr)),ad(sd=jr(sd=ar(sd=od(sd=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"_el",void 0),j()(Qn()(e),"_videoResizeWatcher",void 0),j()(Qn()(e),"_onVideoResize",(function(){var t=e.props.player.getVideoElement();t&&e.props.updateVideoClientRect(t.getBoundingClientRect())})),j()(Qn()(e),"_setRef",(function(t){e._videoResizeWatcher&&(e.props.eventManager.unlisten(e._videoResizeWatcher,sr.RESIZE,e._onVideoResize),e._videoResizeWatcher.destroy()),t&&(e._el=t),e._el?e._el.appendChild(e.props.player.getView()):e.props.updateVideoClientRect({x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0})})),e}return B()(i,[{key:"shouldComponentUpdate",value:function(e){return e.videoStyles!==this.props.videoStyles}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.eventManager,r=t.player;n.listen(r,r.Event.SOURCE_SELECTED,(function(){return e._onVideoResize()}));var i=new Li;i.init(this._el),this._videoResizeWatcher=i,this.props.eventManager.listen(this._videoResizeWatcher,sr.RESIZE,this._onVideoResize)}},{key:"componentWillUnmount",value:function(){this._videoResizeWatcher.destroy()}},{key:"render",value:function(){var e=this.props,t=e.videoStyles,n=e.targetId;return W("div",{"aria-label":e.videoLabel,id:"".concat(n,"-video"),className:Xr().videoPlayer,style:t,ref:this._setRef},W(Tr,{name:"VideoContainer"}))}}]),i}(X))||sd)||sd)||sd)||sd),kd="Watermark",Ed="{entryId}",Td=(dd=un((function(e){return{config:Object.assign({placement:"top-left",timeout:0},e.config.components.watermark),targetId:e.config.targetId}})),pd=yr(kd),dd(fd=jr(fd=ar(fd=pd(fd=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(e){var t;return N()(this,i),t=r.call(this),j()(Qn()(t),"_timeoutId",null),j()(Qn()(t),"_imgAspectRatio",null),j()(Qn()(t),"_originalImgWidth",null),j()(Qn()(t),"_originalImgHeight",null),j()(Qn()(t),"_playerHeight",null),j()(Qn()(t),"_playerWidth",null),t.setState({show:!0,urlLink:e.config.url}),t}return B()(i,[{key:"componentWillMount",value:function(){this._loadPlayerDimension(),this._loadImageDimension()}},{key:"componentDidMount",value:function(){var e=this,t=function(){e.props.config.timeout>0&&(e._timeoutId=setTimeout((function(){return e.setState({show:!1})}),e.props.config.timeout))},n=this.props.player;this.props.eventManager.listenOnce(n,n.Event.PLAYING,t),this.props.eventManager.listen(n,n.Event.CHANGE_SOURCE_ENDED,(function(){e.setState({show:!0}),e.props.eventManager.listenOnce(n,n.Event.PLAYING,t)})),this.props.eventManager.listen(n,ir.EventType.RESIZE,(function(){e.onPlayerResize()})),this._handleWatermarkUrl()}},{key:"_handleWatermarkUrl",value:function(){var e=this,t=this.props.config.url;if(t&&-1!==t.indexOf(Ed)){var n=this.props,r=n.player,i=n.eventManager;this._setWatermarkUrlWithEntryId(t)||i.listen(r,r.Event.MEDIA_LOADED,(function(){e._setWatermarkUrlWithEntryId(t)}))}}},{key:"_loadImageDimension",value:function(){var e=this;if(this.props.config.img){var t=new Image;t.src=this.props.config.img,t.onload=function(){e._originalImgWidth=t.naturalWidth,e._originalImgHeight=t.naturalHeight,e._imgAspectRatio=t.naturalWidth/t.naturalHeight,e.setState({imgWidth:t.naturalWidth,imgHeight:t.naturalHeight})}}}},{key:"_loadPlayerDimension",value:function(){var e=document.getElementById(this.props.targetId);if(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;this._playerWidth=n,this._playerHeight=r}}},{key:"onPlayerResize",value:function(){var e=document.getElementById(this.props.targetId);if(e&&this._imgAspectRatio&&this._originalImgWidth&&this._originalImgHeight){var t=e.getBoundingClientRect().width,n=t/(this._playerWidth||t),r=this._originalImgWidth*n,i=r/this._imgAspectRatio;this.setState({imgWidth:r,imgHeight:i})}}},{key:"_setWatermarkUrlWithEntryId",value:function(e){var t=this.props.player.sources.id;return"string"==typeof t?(this.setState({urlLink:e.replace(Ed,t),show:!0}),!0):(this.props.logger.debug("Watermark url was not replaced; entry id was not found."),this.setState({show:!1}),!1)}},{key:"componentWillUnmount",value:function(){this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)}},{key:"render",value:function(e){if(e.config.img){var t=[Xr().watermark];return e.config.placement.split("-").forEach((function(e){t.push(Xr()[e])})),e.config.url||t.push(Xr().emptyUrl),this.state.show||t.push(Xr().hideWatermark),W("div",{className:t.join(" ")},W("a",{href:this.state.urlLink,target:"_blank",rel:"noopener noreferrer"},W(Ln,null,this.state.imgWidth&&this.state.imgHeight&&W("img",{src:e.config.img,alt:W(Dn,{id:"watermark.watermark_alt_text"}),style:{width:"".concat(this.state.imgWidth,"px"),height:"".concat(this.state.imgHeight,"px")}}))))}}}]),i}(X))||fd)||fd)||fd)||fd);Td.displayName=kd;var _d,Ad,Sd="Logo",wd="{entryId}",Cd=(hd=un((function(e){return{isMobile:e.shell.isMobile,playerSize:e.shell.playerSize,config:e.config.components.logo}})),yd=yr(Sd),gd=Oi(Sd),vd=Un({logoText:"controls.logo"}),hd(md=jr(md=ar(md=yd(md=gd(md=vd(md=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(e){var t;return N()(this,i),t=r.call(this,e),j()(Qn()(t),"_handleKeyDown",(function(e){e.keyCode!==lr.ENTER&&e.keyCode!==lr.SPACE||(window.open(t.state.urlLink,"_blank"),e.preventDefault(),t._handleOnClick())})),j()(Qn()(t),"_handleOnClick",(function(){t.props.notifyClick({logoUrl:t.state.urlLink})})),t.setState({isUrlClickable:"string"==typeof e.config.url,urlLink:e.config.url}),t}return B()(i,[{key:"componentDidMount",value:function(){this._handleLogoUrl()}},{key:"_handleLogoUrl",value:function(){var e=this,t=this.props.config.url;if(t&&-1!==t.indexOf(wd)){var n=this.props,r=n.player,i=n.eventManager;this._setLogoUrlWithEntryId(t)||i.listen(r,r.Event.MEDIA_LOADED,(function(){e._setLogoUrlWithEntryId(t)}))}}},{key:"_setLogoUrlWithEntryId",value:function(e){var t=this.props.player.sources.id;return"string"==typeof t?(this.setState({urlLink:e.replace(wd,t),isUrlClickable:!0}),!0):(this.props.logger.debug("Logo url was not replaced; entry id was not found."),this.setState({isUrlClickable:!1}),!1)}},{key:"_shouldRender",value:function(){var e=!(0===Object.keys(this.props.config).length&&this.props.config.constructor===Object)&&this.props.config.img;return this.props.onToggle(Sd,e),e}},{key:"render",value:function(e){if(this._shouldRender())return W("div",{className:[Xr().controlButtonContainer,e.config.url&&this.state.isUrlClickable?"":Xr().emptyUrl].join(" "),title:e.config.text},this.state.isUrlClickable?W("a",{onClick:this._handleOnClick,onKeyDown:this._handleKeyDown,className:Xr().controlButton,href:this.state.urlLink,"aria-label":e.config.text||e.logoText,target:"_blank",rel:"noopener noreferrer",tabIndex:0},W("img",{className:Xr().icon,src:e.config.img})):W("span",{className:Xr().controlButton,"aria-label":e.config.text||e.logoText},W("img",{className:Xr().icon,src:e.config.img})))}}]),i}(X))||md)||md)||md)||md)||md)||md);Cd.displayName=Sd;var xd,Pd,Rd,Id,Dd="CastOverlay",Od=un((function(e){return{poster:e.engine.poster,castSession:e.engine.castSession,isIdle:e.engine.isIdle,isPlaying:e.engine.isPlaying,isPlaybackEnded:e.engine.isPlaybackEnded,isPaused:e.engine.isPaused,isChangingSource:e.engine.isChangingSource}}))(_d=yr(Dd)((Ad=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"getStatus",value:function(){return this.props.isPlaying||this.props.isPaused?W(Dn,{id:"cast.status.playing_on"}):this.props.isPlaybackEnded||this.props.isChangingSource||this.props.castSession.resuming?W(Dn,{id:"cast.status.connected_to"}):W(Dn,{id:"cast.status.connecting_to"})}},{key:"getIcon",value:function(){return this.props.isPlaying||this.props.isPaused||this.props.isPlaybackEnded||this.props.isChangingSource||this.props.castSession.resuming?W(Io,{type:this.props.icon}):W("div",{className:Xr().castConnectingSpinner})}},{key:"render",value:function(e){if(e.castSession){var t={},n=[Xr().castPoster];e.poster&&(t={backgroundImage:e.isChangingSource?"":"url(".concat(e.poster,")"),backgroundSize:"contain"},n.push(Xr().hasPoster));var r=this.getStatus(),i=this.getIcon();return W("div",null,W("div",{className:Xr().castOverlay},W("div",{className:n.join(" "),style:t,onMouseOver:function(e){return e.stopPropagation()}}),W("div",{className:Xr().castBlackCover})),W("div",{className:Xr().castBox},W("div",{className:Xr().castIcon},i),W("div",{className:Xr().castText},W(Ln,null,W("span",{className:Xr().castStatus},r)),W("br",null),W("span",{className:Xr().castDevice},e.castSession.deviceFriendlyName))))}}}]),i}(X),j()(Ad,"defaultProps",{icon:xo.Cast}),_d=Ad))||_d)||_d;Od.displayName=Dd;var Ld,Md,Nd,Ud,Bd="CastBeforePlay",Fd=(xd=un((function(e){return{isPlaybackEnded:e.engine.isPlaybackEnded,prePlayback:e.engine.prePlayback,loading:e.loading.show,isCastAvailable:e.engine.isCastAvailable}})),Pd=yr(Bd),xd(Rd=jr(Rd=Pd((Id=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"_timeoutId",null),j()(Qn()(e),"onClick",(function(){e.props.player.startCasting(bo)})),j()(Qn()(e),"_handleKeydown",(function(t){t.keyCode!==lr.ENTER&&t.keyCode!==lr.SPACE||(t.preventDefault(),e.onClick())})),e}return B()(i,[{key:"componentDidMount",value:function(){var e=this;this._timeoutId=setTimeout((function(){e.setState({show:!0})}),700)}},{key:"componentWillUnmount",value:function(){this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)}},{key:"render",value:function(e){if(e.isCastAvailable&&!e.loading&&e.prePlayback){var t=[Xr().castOnTvButtonContainer];return this.state.show&&t.push(Xr().showCastOnTv),W("div",{className:t.join(" ")},W(Ln,null,W(Ko,{tabIndex:"0","aria-label":W(Dn,{id:"cast.play_on_tv"}),onClick:this.onClick,onKeyDown:this._handleKeydown,className:[Xr().btn,Xr().btnDarkTransparent,Xr().castOnTvButton].join(" ")},W("div",{className:Xr().castOnTvIconContainer},W(Io,{type:e.icon})),W("span",null,W(Dn,{id:"cast.play_on_tv"})))))}}}]),i}(X),j()(Id,"defaultProps",{icon:xo.Cast}),Rd=Id))||Rd)||Rd)||Rd);Fd.displayName=Bd;var jd,Hd="CastAfterPlay",Vd=(Ld=un((function(e){return{isPlaybackEnded:e.engine.isPlaybackEnded,isCasting:e.engine.isCasting}}),null),Md=yr(Hd),Ld(Nd=jr(Nd=Md((Ud=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"_timeoutId",null),j()(Qn()(e),"onClick",(function(t){t.stopPropagation(),e.props.player.stopCasting()})),e}return B()(i,[{key:"componentDidMount",value:function(){var e=this;this._timeoutId=setTimeout((function(){e.setState({show:!0})}),700)}},{key:"componentWillUnmount",value:function(){this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)}},{key:"render",value:function(e){if(e.isCasting&&e.isPlaybackEnded){var t=[Xr().castOnTvButtonContainer];return this.state.show&&t.push(Xr().showCastOnTv),W("div",null,W("div",{className:t.join(" "),onClick:this.onClick},W("a",{className:[Xr().btn,Xr().btnDarkTransparent,Xr().castOnTvButton].join(" ")},W("div",{className:Xr().castOnTvIconContainer},W(Io,{type:e.icon})),W(Ln,null,W("span",null,W(Dn,{id:"cast.disconnect_from_tv"}))))))}}}]),i}(X),j()(Ud,"defaultProps",{icon:xo.CastBrand}),Nd=Ud))||Nd)||Nd)||Nd);Vd.displayName=Hd;var Gd,Kd,zd,Wd,Yd=Un({prevControlsText:"controls.prev",nextControlsText:"controls.next",playlistPrevText:"playlist.prev",playlistUpNextText:"playlist.up_next"})(jd=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"render",value:function(e){var t,n,r=e.type,i=e.item,a=e.onClick,o="next"===r?xo.Next:xo.Prev,s=e["".concat(e.type,"ControlsText")],l="prev"===r?this.props.playlistPrevText:this.props.playlistUpNextText,u=null==i||null===(t=i.sources)||void 0===t?void 0:t.poster,c=(null==i||null===(n=i.sources)||void 0===n?void 0:n.metadata)?i.sources.metadata.name:"",d=W(Ko,{disabled:!i,tabIndex:"0","aria-label":s,className:"".concat(Xr().controlButton),onClick:a},W("div",null,W(Do,{type:o})));return W("div",{className:[Xr().controlButtonContainer,Xr().controlPlaylistButton].join(" ")},e.showPreview&&(u||c)?W(q,null,W("div",{className:Xr().posterPreview},u?W("div",{className:Xr().posterPreviewImg,style:"background-image: url(".concat(u,");")}):void 0,W("div",{className:Xr().posterPreviewText},W("div",{className:Xr().posterPreviewTextTitle},l),W("div",{className:Xr().posterPreviewTextName},"".concat(c||"")))),d):W(mo,{label:s},d))}}]),i}(X))||jd,Zd=un((function(e){return{playlist:e.engine.playlist}}))(Gd=jr(Gd=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"onClick",(function(){"prev"===e.props.type?e.props.player.playlist.playPrev():e.props.player.playlist.playNext()})),e}return B()(i,[{key:"render",value:function(e){var t=e.playlist[e.type];return W(Yd,{type:e.type,item:t,onClick:this.onClick.bind(this),showPreview:e.showPreview})}}]),i}(X))||Gd)||Gd;Zd.displayName="PlaylistButton";var qd,Xd,Qd,Jd,$d,ep,tp="PlaylistNextScreen",np=(Kd=un((function(e){return{playlist:e.engine.playlist,isPlaybackEnded:e.engine.isPlaybackEnded}})),zd=yr(tp),Kd(Wd=jr(Wd=zd(Wd=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"focusElement",void 0),j()(Qn()(e),"onPosterClick",(function(){e.props.player.playlist.playNext()})),j()(Qn()(e),"onKeyDown",(function(t){t.keyCode!==lr.ENTER&&t.keyCode!==lr.SPACE||(t.preventDefault(),e.onPosterClick())})),e}return B()(i,[{key:"componentDidUpdate",value:function(e){!this._shouldRender(e)&&this._shouldRender(this.props)&&this.focusElement&&this.focusElement.focus()}},{key:"_shouldRender",value:function(e){return!(!(e.playlist&&e.playlist.next&&e.playlist.next.sources&&e.isPlaybackEnded)||e.player.playlist.options.autoContinue)}},{key:"_getPosterUrl",value:function(){var e=this.props.playlist.next;return e.sources.poster?e.sources.poster.indexOf("entry_id/".concat(e.sources.id))>-1&&-1===e.sources.poster.indexOf("/width/")?"".concat(e.sources.poster,"/width/").concat(384):e.sources.poster:""}},{key:"render",value:function(e){var t=this;if(this._shouldRender(e)){var n=e.playlist.next;return W("div",{className:Xr().playlistNextScreenOverlay},W("div",{className:Xr().playlistNextScreenContent},W("div",{id:"playlistNextScreenTextId",className:Xr().playlistNextScreenText},W(Ln,null,W("div",{className:Xr().playlistNextScreenTextTitle},W(Dn,{id:"playlist.next"}))),W("div",{className:Xr().playlistNextScreenTextName},"".concat(n.sources.metadata?n.sources.metadata.name:""))),W("div",{className:Xr().playlistNextScreenPosterPlaceholder},W("div",{className:Xr().playlistNextScreenPosterAspectRatio},W("div",{role:"button","aria-labelledby":"playlistNextScreenTextId",ref:function(e){return e?t.focusElement=e:void 0},tabIndex:0,className:Xr().playlistNextScreenPoster,onClick:this.onPosterClick,onKeyDown:this.onKeyDown},W("div",{className:Xr().playlistNextScreenPosterImg,style:"background-image: url(".concat(this._getPosterUrl(),");")}),W(Do,{type:xo.Play}))))))}}}]),i}(X))||Wd)||Wd)||Wd);function rp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ip(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rp(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}np.displayName=tp;var ap,op="PictureInPicture",sp=(qd=un((function(e){return{isPictureInPictureSupported:e.engine.isPictureInPictureSupported,isInPictureInPicture:e.engine.isInPictureInPicture,playerSize:e.shell.playerSize}}),Ur(Nr)),Xd=Go(op),Qd=yr(op),Jd=Oi(op),$d=Un({pictureInPictureText:"controls.pictureInPicture",pictureInPictureExitText:"controls.pictureInPictureExit"}),qd(ep=jr(ep=Xd(ep=Qd(ep=Jd(ep=$d(ep=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(e){var t;return N()(this,i),t=r.call(this,e),j()(Qn()(t),"_keyboardEventHandlers",[{key:{code:lr.P},action:function(){t.togglePip(),t.props.updatePlayerHoverState(!0)}}]),j()(Qn()(t),"getSvgIcon",(function(){return{type:t.props.player.isInPictureInPicture()?xo.PictureInPictureStop:xo.PictureInPictureStart}})),j()(Qn()(t),"getComponentText",(function(){return t.props.player.isInPictureInPicture()?t.props.pictureInPictureExitText:t.props.pictureInPictureText})),j()(Qn()(t),"onKeyDown",(function(e){[ur.Enter,ur.Space].includes(e.code)&&(e.preventDefault(),t.togglePip(),t.props.updatePlayerHoverState(!0))})),j()(Qn()(t),"togglePip",(function(){var e,n=t.props.player;t.props.player.hasService("dualScreen")&&(n=t.props.player.getService("dualScreen").getActivePlayer(),e=t.props.player.getService("dualScreen").getPipPlayer()),n.isInPictureInPicture()||e?(t.props.logger.debug("Exit Picture In Picture"),t.props.notifyClick(),e?e.exitPictureInPicture():n.exitPictureInPicture()):(t.props.logger.debug("Enter Picture In Picture"),t.props.notifyClick(),n.enterPictureInPicture())})),hl(op,e.player,(function(){return t.registerComponent()})),t}return B()(i,[{key:"registerComponent",value:function(){var e=this;return{ariaLabel:function(){return e.getComponentText()},displayName:op,order:5,svgIcon:function(){return e.getSvgIcon()},onClick:function(){return e.togglePip()},component:function(){return lp(ip(ip({},e.props),{},{classNames:[Xr().upperBarIcon]}))},shouldHandleOnClick:!1}}},{key:"componentDidMount",value:function(){this.props.registerKeyboardEvents(this._keyboardEventHandlers)}},{key:"_shouldRender",value:function(){var e=!(void 0!==this.props.isPictureInPictureSupported&&!this.props.isPictureInPictureSupported);return this.props.onToggle(op,e),e}},{key:"render",value:function(){var e;if(this._shouldRender())return W(is,{name:op,className:this.props.classNames?this.props.classNames.join(" "):""},W(mo,{label:this.props.isInPictureInPicture?this.props.pictureInPictureExitText:this.props.pictureInPictureText,type:(null===(e=this.props.classNames)||void 0===e?void 0:e.includes(Xr().upperBarIcon))?"bottom-left":"top",strictPosition:!0},W(Ko,{tabIndex:"0","aria-label":this.props.isInPictureInPicture?this.props.pictureInPictureExitText:this.props.pictureInPictureText,className:this.props.isInPictureInPicture?[Xr().controlButton,Xr().isInPictureInPicture].join(" "):Xr().controlButton,onClick:this.togglePip,onKeyDown:this.onKeyDown},W(Do,{type:xo.PictureInPictureStart}),W(Do,{type:xo.PictureInPictureStop}))))}}]),i}(X))||ep)||ep)||ep)||ep)||ep)||ep),lp=function(e){return W(sp,e)};sp.displayName=op;var up=un((function(e){return{playlist:e.engine.playlist,image:e.engine.isImg}}))(ap=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"componentDidMount",value:function(){this.setState({shouldUpdate:!1})}},{key:"componentDidUpdate",value:function(e){!!e.playlist!=!!this.props.playlist&&this.setState({shouldUpdate:!0})}},{key:"render",value:function(e){var t=e.showPreview,n=void 0===t||t,r=e.playlist,i=e.className,a=this.state.shouldUpdate;a&&this.setState({shouldUpdate:!1});var o=this.props.image?Xr().image:"";return W("div",{className:[Xr().playbackControls,i,o].join(" ")},W(Tr,{name:"BottomBarPlaybackControls",shouldUpdate:a},r?W(q,null,W(Zd,{type:"prev",showPreview:n}),W(ds,null),W(Zd,{type:"next",showPreview:n})):W(ds,null)))}}]),i}(X))||ap;up.displayName="PlaybackControls";var cp,dp,pp,fp,hp=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"onChange",(function(t){e.props.onMenuChosen(t)})),j()(Qn()(e),"handleOnKeyDown",(function(t){t.keyCode!==lr.ENTER&&t.keyCode!==lr.SPACE||(t.preventDefault(),e.onChange(!e.props.isChecked))})),e}return B()(i,[{key:"render",value:function(e){var t=this;return W("label",{onKeyDown:function(e){return t.handleOnKeyDown(e)},className:Xr().switch,ref:function(t){e.pushRef&&e.pushRef(t)},"aria-label":e.name,role:"switch","aria-checked":e.isChecked,tabIndex:-1},W("input",{name:e.name,className:Xr().toggleInput,type:"checkbox",checked:e.isChecked,onChange:function(e){return t.onChange(e.target.checked)}}),W("span",{className:Xr().slider}))}}]),i}(X);hp.displayName="ToggleSwitch";var yp,gp,vp,mp,bp,kp,Ep="AudioMenu",Tp=(cp=un((function(e){return{audioTracks:e.engine.audioTracks}}),Ur(Na)),dp=Oi(Ep),pp=Un({audioLabelText:"settings.audio"}),cp(fp=jr(fp=dp(fp=pp(fp=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"onAudioChange",value:function(e){this.props.updateAudio(e),this.props.player.selectTrack(e),this.props.notifyClick({type:this.props.player.Track.AUDIO,track:e})}},{key:"render",value:function(e){var t=this,n=e.audioTracks.filter((function(e){return e.label||e.language})).map((function(e){return{label:e.label||e.language,active:e.active,value:e}}));return W(Kc,{pushRef:function(t){e.pushRef(t)},icon:xo.Audio,label:this.props.audioLabelText,options:n,onMenuChosen:function(e){return t.onAudioChange(e)}})}}]),i}(X))||fp)||fp)||fp)||fp);function _p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ap(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_p(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Tp.displayName=Ep;var Sp,wp,Cp,xp,Pp,Rp="CaptionsMenu",Ip=(yp=un((function(e){return{textTracks:e.engine.textTracks,isMobile:e.shell.isMobile,isSmallSize:e.shell.isSmallSize,showAdvancedCaptionsMenu:e.config.settings.showAdvancedCaptionsMenu}}),Ur(Ra)),gp=Go(Rp),vp=yr(Rp),mp=Oi(Rp),bp=Un({captionsLabelText:"captions.captions",advancedCaptionsSettingsText:"captions.advanced_captions_settings"}),yp(kp=jr(kp=ar(kp=gp(kp=vp(kp=mp(kp=bp(kp=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"onCaptionsChange",value:function(e){if(e!==this.props.advancedCaptionsSettingsText){this.props.player.selectTrack(e);var t="object"===jn()(e)&&"off"!==e.language;pn().dispatch({type:Oa.UPDATE_IS_CAPTIONS_ENABLED,isCaptionsEnabled:t}),this.props.notifyClick({type:this.props.player.Track.TEXT,track:e})}else this.props.onAdvancedCaptionsClick()}},{key:"render",value:function(e){var t=this,n=e.textTracks.map((function(e){return{label:e.label||e.language,active:e.active,value:e}})).map((function(e){return Ap(Ap({},e),{},{label:e.label.charAt(0).toUpperCase()+e.label.slice(1)})})).sort((function(e,t){return e.label>t.label||"Off"===e.label?1:-1}));return e.showAdvancedCaptionsMenu&&n.push({label:e.advancedCaptionsSettingsText,value:e.advancedCaptionsSettingsText,active:!1,isAdvanced:!0}),this.props.asDropdown?W(Kc,{pushRef:function(t){e.pushRef(t)},icon:xo.Captions,label:this.props.captionsLabelText,options:n,onMenuChosen:function(e){return t.onCaptionsChange(e)}}):W(cu,{pushRef:function(n){t.props.addAccessibleChild(n),e.pushRef(n)},options:n,onMenuChosen:function(e){return t.onCaptionsChange(e)},onClose:function(){}})}}]),i}(X))||kp)||kp)||kp)||kp)||kp)||kp)||kp);Ip.displayName=Rp;var Dp,Op,Lp,Mp,Np="SpeedMenu",Up=(Sp=un(null,Ur(Na)),wp=yr(Np),Cp=Oi(Np),xp=Un({speedLabelText:"settings.speed",speedNormalLabelText:"settings.speedNormal"}),Sp(Pp=jr(Pp=wp(Pp=Cp(Pp=xp(Pp=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"onSpeedChange",(function(t){e.props.updateSpeed(t),e.props.player.playbackRate=t,e.props.notifyClick({type:"speed",speed:t})})),e}return B()(i,[{key:"render",value:function(e){var t=e.optionsRenderer?e.optionsRenderer(e.player.playbackRates):e.player.playbackRates.reduce((function(t,n){var r={value:n,label:1===n?e.speedNormalLabelText:n,active:!1};return n===e.player.playbackRate&&(r.active=!0),t.push(r),t}),[]);return W(Kc,{pushRef:function(t){e.pushRef(t)},icon:xo.Speed,label:e.speedLabelText,options:t,onMenuChosen:this.onSpeedChange})}}]),i}(X))||Pp)||Pp)||Pp)||Pp)||Pp);Up.displayName=Np;var Bp={HD:1080,UHD_4K:2160,UHD_8K:4320};function Fp(e){var t=Object.keys(Po),n=D()(t,5),r=n[0],i=n[2],a=n[4];return e>=Bp.HD&&e<Bp.UHD_4K?r:e>=Bp.UHD_4K&&e<Bp.UHD_8K?i:e>=Bp.UHD_8K?a:null}var jp,Hp=["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"],Vp="QualityMenu",Gp=(Dp=un((function(e){return{videoTracks:e.engine.videoTracks}}),Ur(Na)),Op=Oi(Vp),Lp=Un({qualityLabelText:"settings.quality",qualityAutoLabelText:"settings.qualityAuto"}),Dp(Mp=jr(Mp=Op(Mp=Lp(Mp=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"onQualityChange",value:function(e){this.props.updateQuality(e);var t=this.props.player;"auto"===e?t.enableAdaptiveBitrate():t.selectTrack(e),this.props.notifyClick({type:t.Track.VIDEO,track:e})}},{key:"filterUniqueQualities",value:function(e,t){var n=e.length-1,r=e[n];return n>-1&&t.label===r.label?(t.bandwidth>r.bandwidth&&(e[n]=t),e[n].active=t.active||r.active):e.push(t),e}},{key:"render",value:function(e){var t=this,n=e.videoTracks.sort((function(e,t){return e.height<t.height?1:-1})).filter((function(e){return e.bandwidth||e.height})).reduce(this.filterUniqueQualities,[]).map((function(t){return{label:t.label,active:!e.player.isAdaptiveBitrateEnabled()&&t.active,value:t,badgeType:Fp(t.height)}}));if(n.length>1&&"progressive"!==e.player.streamType){var r,i,a=null===(r=n.find((function(e){return!0===e.value.active})))||void 0===r?void 0:r.value,o=(null==a?void 0:a.label)||"".concat(360,"p");i=Hp.includes(this.props.player._localPlayer._config.ui.locale)?o+" - "+this.props.qualityAutoLabelText:this.props.qualityAutoLabelText+" - "+o,n.unshift({label:this.props.qualityAutoLabelText,dropdownOptions:{label:i,badgeType:Fp((null==a?void 0:a.height)||360)},active:e.player.isAdaptiveBitrateEnabled(),value:"auto"})}return W(Kc,{pushRef:function(t){e.pushRef(t)},icon:xo.Quality,label:e.qualityLabelText,options:n,onMenuChosen:function(e){return t.onQualityChange(e)}})}}]),i}(X))||Mp)||Mp)||Mp)||Mp);Gp.displayName=Vp;var Kp,zp,Wp,Yp,Zp="AdvancedAudioDescToggle",qp=un((function(e){return{isAdvancedAudioDescChecked:e.settings.advancedAudioDesc}}),Ur(Na))(jp=Oi(Zp)(jp=Un({advancedAudioText:"settings.advanced_audio_description"})(jp=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"onAdvancedAudioClick",(function(t){e.props.updateAdvancedAudioDesc(t),e.props.notifyClick({type:"AdvancedAudioDescription",checked:t,settings:!0})})),e}return B()(i,[{key:"render",value:function(e){return W(Kc,{pushRef:function(t){e.pushRef(t)},icon:xo.AdvancedAudioDescription,label:e.advancedAudioText,isChecked:e.isAdvancedAudioDescChecked,onMenuChosen:this.onAdvancedAudioClick})}}]),i}(X))||jp)||jp)||jp;function Xp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xp(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}qp.displayName=Zp;var Jp="AdvancedAudioDesc",$p=(Kp=un((function(e){var t=e.config,n=e.settings;return{showAdvancedAudioDescToggle:t.settings.showAdvancedAudioDescToggle,advancedAudioDescEnabled:n.advancedAudioDesc}}),Ur(Na)),zp=Oi(Jp),Wp=Un({advancedAudioDescEnabledText:"settings.advanced_audio_description_enabled",advancedAudioDescDisabledText:"settings.advanced_audio_description_disabled"}),Kp(Yp=jr(Yp=zp(Yp=Wp(Yp=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"getComponentText",(function(){return e.advancedAudioDesc?e.props.advancedAudioDescEnabledText:e.props.advancedAudioDescDisabledText})),j()(Qn()(e),"getSvgIcon",(function(){return{type:pn().getState().settings.advancedAudioDesc?xo.AdvancedAudioDescriptionActive:xo.AdvancedAudioDescription}})),j()(Qn()(e),"onClick",(function(){var t=!e.advancedAudioDesc;e.props.updateAdvancedAudioDesc(t),e.props.notifyClick({type:"AdvancedAudioDescription",checked:t,settings:!1})})),j()(Qn()(e),"onKeyDown",(function(t){[ur.Enter,ur.Space].includes(t.code)&&(t.preventDefault(),e.onClick())})),e}return B()(i,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.showAdvancedAudioDescToggle&&!e.showAdvancedAudioDescToggle&&hl(Jp,this.props.player,(function(){return t.registerComponent()}))}},{key:"registerComponent",value:function(){var e=this;return{ariaLabel:function(){return e.getComponentText()},displayName:Jp,order:5,svgIcon:function(){return e.getSvgIcon()},onClick:function(){return e.onClick()},component:function(){return ef(Qp(Qp({},e.props),{},{classNames:[Xr().upperBarIcon]}))},shouldHandleOnClick:!1}}},{key:"_shouldRender",value:function(){return this.props.showAdvancedAudioDescToggle}},{key:"render",value:function(e){var t,n=e.innerRef;return this._shouldRender()?W(is,{name:Jp,className:[Xr().noIdleControl,this.props.classNames?this.props.classNames.join(" "):""].join(" ")},W(mo,{label:this.getComponentText(),type:(null===(t=this.props.classNames)||void 0===t?void 0:t.includes(Xr().upperBarIcon))?"bottom-left":"top",strictPosition:!0},W(Ko,{tabIndex:"0","aria-label":this.getComponentText(),className:"".concat(Xr().controlButton),ref:n,onClick:this.onClick,onKeyDown:this.onKeyDown},W(Io,{type:this.props.advancedAudioDescEnabled?xo.AdvancedAudioDescriptionActive:xo.AdvancedAudioDescription})))):void 0}},{key:"advancedAudioDesc",get:function(){return pn().getState().settings.advancedAudioDesc}}]),i}(X))||Yp)||Yp)||Yp)||Yp),ef=function(e){return W($p,e)};$p.displayName=Jp;var tf=lr.ENTER,nf=lr.SPACE,rf=function(e){var t=e.isTextExpanded,n=e.readLessLabel,r=e.readMoreLabel,i=e.onClick,a=e.onKeyDown,o=rs()(e,["isTextExpanded","readLessLabel","readMoreLabel","onClick","onKeyDown"]);return W("div",qn()({role:"button",tabIndex:0,className:Xr().moreButtonText,onClick:i,onKeyDown:a},o),t?n:r)},af=Un({readMoreLabel:"controls.readMore",readLessLabel:"controls.readLess"})((function(e){var t=xe(!1),n=D()(t,2),r=n[0],i=n[1],a=xe(!1),o=D()(a,2),s=o[0],l=o[1],u=xe(!1),c=D()(u,2),d=c[0],p=c[1],f=De(null),h=De(null);Ie((function(){var e,t;(null==h?void 0:h.current)&&(null==f?void 0:f.current)&&(p(!0),l((null==h||null===(e=h.current)||void 0===e?void 0:e.getBoundingClientRect().height)<(null==f||null===(t=f.current)||void 0===t?void 0:t.getBoundingClientRect().height)))}),[d]);var y=function(t){e.onClick&&e.onClick(t),i((function(t){var n=!t;return e.onExpand&&e.onExpand(n),n}))};return s||e.forceShowMore?W("div",{className:[e.className,r?e.classNameExpanded:""].join(" ")},r?e.children:W("div",{className:Xr().expandableText,style:{"-webkit-line-clamp":e.lines}},e.text),W(rf,qn()({onClick:function(e){y(e)},onKeyDown:function(e){e.keyCode!==nf&&e.keyCode!==tf||y(e)},isTextExpanded:r,readLessLabel:e.readLessLabel,readMoreLabel:e.readMoreLabel},e.buttonProps))):W("div",{className:Xr().contentText},W("div",{className:Xr().titleWrapper},W("div",{ref:h,style:{"-webkit-line-clamp":e.lines},className:Xr().expandableText},e.text),d?void 0:W("div",{ref:f,style:{"-webkit-line-clamp":e.lines+1},className:Xr().expandableText},e.text)))}));af.defaultProps={buttonProps:{}},af.displayName="ExpandableText";var of,sf,lf,uf,cf=function(e){var t=e.children,n=e.isVertical,r=De(null),i=De(null),a=xe(!1),o=D()(a,2),s=o[0],l=o[1],u=xe(-1),c=D()(u,2),d=c[0],p=c[1],f=xe(-1),h=D()(f,2),y=h[0],g=h[1],v=function(){clearTimeout(d),l(!0),p(window.setTimeout((function(){l(!1)}),250))},m=function(e){e.preventDefault(),(null==r?void 0:r.current)&&(r.current.scrollLeft+=e.deltaY,v())};Ie((function(){if(n&&(null==r?void 0:r.current)&&(null==i?void 0:i.current)){var e,t=r.current,a=null===(e=t.parentElement)||void 0===e?void 0:e.clientHeight;if(a){var o=getComputedStyle(t.parentElement),s=a-(parseFloat(o.paddingTop)+parseFloat(o.paddingBottom));i.current.clientHeight>s?g(s):-1!==y&&g(-1)}}}));var b=Le((function(){return n?{onScroll:v}:{onWheel:m,ref:r}}),[n]);return W("div",qn()({className:"".concat(Xr().scrollable," ").concat(s?Xr().scrolling:""," ").concat(n?Xr().vertical:Xr().horizontal),style:"".concat(n&&y>-1?"height: ".concat(y,"px"):""),ref:r},b),W("div",{className:Xr().itemsContainer,ref:i},t))},df=un((function(e){return{videoStyles:e.shell.layoutStyles.video}}))(of=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"shouldComponentUpdate",value:function(e){return e.videoStyles!==this.props.videoStyles}},{key:"render",value:function(){var e=this.props,t=e.videoStyles,n=e.children;return W("div",{style:t,className:Xr().videoArea},W("div",{style:{pointerEvents:"auto"}},W(Tr,{name:"VideoArea"},n)))}}]),i}(X))||of,pf=un((function(e){return{guiStyles:e.shell.layoutStyles.gui}}))(sf=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;N()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),j()(Qn()(e),"_ref",void 0),j()(Qn()(e),"_setRef",(function(t){t&&(e._ref=t,e.setState((function(e){return{render:!e.render}})))})),e}return B()(i,[{key:"shouldComponentUpdate",value:function(e,t){return e.guiStyles!==this.props.guiStyles||t.render!==this.state.render}},{key:"render",value:function(){var e=this.props,t=e.guiStyles,n=ne(e.children),r=n[0],i=n[1];return W("div",{ref:this._setRef,style:t,className:Xr().guiArea},W("div",{style:{pointerEvents:"auto"}},W(Tr,{name:"GuiArea"},r)),"function"==typeof i?i({containerRef:this._ref}):i)}}]),i}(X))||sf,ff=jr(lf=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this.props.children;return W("div",{className:Xr().interactiveArea},W("div",{style:{pointerEvents:"auto"}},W(Tr,{name:"InteractiveArea"},e)))}}]),i}(X))||lf,hf=un((function(e){return{sidePanelsStyles:e.shell.layoutStyles.sidePanels,playerClientRect:e.shell.playerClientRect,isSmallSize:e.shell.isSmallSize}}))(uf=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.sidePanelsStyles,r=t.position,i=t.isSmallSize,a=e.sidePanelsStyles,o=e.position;return n[r]!==a[o]||i!==e.isSmallSize}},{key:"render",value:function(e){var t=e.position,n=e.sidePanelsStyles,r=-1!==[xr.RIGHT,xr.LEFT].indexOf(t)?"verticalSidePanel":"horizontalSidePanel",i=[Xr().sidePanel,Xr()[r]];e.isSmallSize&&i.push(Xr().smallSize);var a="SidePanel".concat(t.charAt(0).toUpperCase()+t.slice(1).toLowerCase());return W("div",{style:n[t],className:i.join(" ")},W("div",{className:Xr().sidePanelContent},W(Tr,{name:a})))}}]),i}(X))||uf,yf="CaptionsControlMini",gf=un((function(e){return{controlsToMove:e.bottomBar.controlsToMove,isCaptionsEnabled:e.settings.isCaptionsEnabled}}))((function(e,t){var n=xe(!1),r=D()(n,2),i=r[0],a=r[1],o=t.player,s=e.controlsToMove,l=null;Re((function(){hl(Ef.displayName,o,(function(){return u()}))}),[]);var u=function(){return{ariaLabel:e.captionsLabelText,displayName:yf,order:5,svgIcon:{type:xo.ClosedCaptionsOn},onClick:function(){return p()},component:function(){return vf(e)},shouldHandleOnClick:!1}};Re((function(){a(s.includes(Ef.displayName))}),[s]);var c=function(){l&&(l(),l=null)},d=function(){c(),l=o.ui.addComponent({label:"cvaa-overlay",area:"GuiArea",presets:[Rr.Playback,Rr.Live],get:function(){return st(W(Ou,{onClose:function(){return c()}}),qs(o))}})},p=function(){l=o.ui.addComponent({label:"captions-overlay",area:"GuiArea",presets:[Rr.Playback,Rr.Live],get:function(){return W(Gc,{targetId:o.config.targetId,onClose:function(){return c()},title:W(Dn,{id:"controls.language"})},W(Ip,{asDropdown:!1,onAdvancedCaptionsClick:d}))}})};return i?W(is,{name:yf,className:Ch.upperBarIcon},W(mo,{label:e.captionsLabelText},W(Ko,{tabIndex:"0","aria-label":e.captionsLabelText,"aria-haspopup":"true",className:Ch.controlButton,onClick:p,onKeyDown:function(e){(cr(e)||dr(e))&&(e.preventDefault(),p())}},W(Io,{type:e.isCaptionsEnabled?xo.ClosedCaptionsOn:xo.ClosedCaptionsOff})))):void 0})),vf=function(e){return W(gf,e)};gf.displayName=yf;var mf,bf,kf="CaptionsControl",Ef=un((function(e){return{textTracks:e.engine.textTracks,showCCButton:e.config.showCCButton,openMenuFromCCButton:e.config.openMenuFromCCButton,isMobile:e.shell.isMobile,isSmallSize:e.shell.isSmallSize,isCVAAOverlayOpen:e.shell.isCVAAOverlayOpen,isCaptionsEnabled:e.settings.isCaptionsEnabled}}))(Un({captionsLabelText:"captions.captions"})((function(e,t){var n,r=xe(!1),i=D()(r,2),a=i[0],o=i[1],s=xe(!1),l=D()(s,2),u=l[0],c=l[1],d=xe(!1),p=D()(d,2),f=p[0],h=p[1],y=De(null),g=De(null),v=t.player,m=e.isSmallSize,b=e.isMobile,k=e.textTracks,E=k.find((function(e){return e.active})),T=function(e,t){o((function(e){return!e})),t&&a&&Br(y.current)},_=function(){e.toggleObserver(!u),c((function(e){return!e}))},A=function(e){b||m||!g.current||g.current.contains(e.target)||o(!1)};Re((function(){return document.addEventListener("click",A),function(){return document.removeEventListener("click",A)}}),[m,b]),Re((function(){h("off"!==(null==E?void 0:E.language))}),[E]),Re((function(){h(e.isCaptionsEnabled)}),[e.isCaptionsEnabled]);var S=!!(null==k?void 0:k.length)&&e.showCCButton&&e.openMenuFromCCButton;if(e.onToggle(kf,S),S)return W(q,null,W(is,{name:kf,ref:g},W(mo,{label:e.captionsLabelText,type:(null===(n=e.classNames)||void 0===n?void 0:n.includes(Xr().upperBarIcon))?"bottom-left":"top",strictPosition:!0},W(Ko,{ref:y,tabIndex:"0","aria-label":e.captionsLabelText,"aria-haspopup":"true",className:[Xr().controlButton,a?Xr().active:""].join(" "),onClick:T,onKeyDown:function(e){(cr(e)||dr(e))&&(e.preventDefault(),T(0,!0))}},W(Io,{type:f?xo.ClosedCaptionsOn:xo.ClosedCaptionsOff}))),a&&!u&&W(Gc,{targetId:v.config.targetId,onClose:function(){return o(!1)},title:W(Dn,{id:"controls.language"})},W(Ip,{asDropdown:!1,onAdvancedCaptionsClick:_})),u?st(W(Ou,{onClose:function(e,t){_(),T(0,t)}}),qs(v)):W("div",null)),W(gf,e))})));function Tf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Ef.displayName=kf;var _f,Af,Sf,wf,Cf,xf=Oi("ActivePreset")(mf=un((function(e){return{state:{shell:e.shell,engine:{adBreak:e.engine.adBreak,isLive:e.engine.isLive,hasError:e.engine.hasError,isIdle:e.engine.isIdle,isVr:e.engine.isVr,isImg:e.engine.isImg,isDocument:e.engine.isDocument,playlist:e.engine.playlist}},config:e.config}}),Ur(Nr))((bf=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){var e;return N()(this,i),e=r.call(this),i.logger=Yn("ActivePreset"),e}return B()(i,[{key:"getMatchedUI",value:function(e,t){var n,r,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Tf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tf(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(void 0===a.condition||a.condition(t)){n=a;break}}}catch(e){i.e(e)}finally{i.f()}return n}},{key:"render",value:function(e){var t,n=this.props,r=n.uis,a=n.state.shell.activePresetName;if(r.length>0){var o=(t=this.getMatchedUI(r,e.state))?t.template(e):r[r.length-1].template(e),s=o&&o.type.displayName||"";return a!==s&&(e.notifyChange({from:a,to:s}),e.updateActivePresetName(s),e.updatePresetSettings(null),i.logger.debug("update active preset to '".concat(a,"' and reset preset settings"))),o}}}]),i}(X),j()(bf,"logger",void 0),mf=bf))||mf)||mf,Pf=un((function(e){return{allowSidePanels:e.shell.presetSettings.allowSidePanels,allowPlayerArea:e.shell.presetSettings.allowPlayerArea,sidePanelsConfig:e.config.components.sidePanels}}),Ur(Nr))(_f=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"componentDidUpdate",value:function(){var e=this.props.sidePanelsConfig,t=e.verticalSizes,n=e.horizontalSizes;t&&this.props.updateSidePanelSize(Cr.VERTICAL,t),n&&this.props.updateSidePanelSize(Cr.HORIZONTAL,n)}},{key:"render",value:function(){var e=this.props,t=e.uis,n=e.playerContainer,r=e.allowSidePanels,i=e.allowPlayerArea;return W(q,null,W(xf,{uis:t,playerContainer:n}),r?W(q,null,W(hf,{position:xr.RIGHT}),W(hf,{position:xr.LEFT}),W(hf,{position:xr.TOP}),W(hf,{position:xr.BOTTOM})):void 0,i?W(Tr,{name:"PlayerArea"}):void 0)}}]),i}(X))||_f,Rf=ia({allowSidePanels:!0,allowPlayerArea:!0})(Af=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"render",value:function(){return W("div",{className:Xr().playbackGuiWrapper},W(Tr,{name:"PresetArea"},W(pf,null,W(yc,null))))}}]),i}(X))||Af;function If(e){return W(Rf,e)}Rf.displayName="Idle";var Df,Of,Lf,Mf="PlaylistCountdown",Nf=(Sf=un((function(e){return{playlist:e.engine.playlist,currentTime:e.engine.currentTime,duration:e.engine.duration,lastSeekPoint:e.engine.lastSeekPoint,isSeeking:e.engine.isSeeking,isPlaybackEnded:e.engine.isPlaybackEnded,countdownCanceled:e.playlist.countdownCanceled}}),Ur(Za)),wf=yr(Mf),Sf(Cf=jr(Cf=ar(Cf=wf(Cf=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(e){var t;return N()(this,i),t=r.call(this,e),j()(Qn()(t),"focusElement",void 0),j()(Qn()(t),"nextShown",void 0),j()(Qn()(t),"onClick",(function(){t.props.player.playlist.playNext()})),j()(Qn()(t),"cancelNext",(function(e){t.props.logger.debug("Cancel auto play next item"),e.stopPropagation(),t.props.updatePlaylistCountdownCanceled(!0)})),j()(Qn()(t),"onKeyDown",(function(e){switch(e.keyCode){case lr.ENTER:t.onClick();break;case lr.ESC:t.cancelNext(e)}})),j()(Qn()(t),"onCancelButtonKeyDown",(function(e){e.keyCode===lr.ENTER&&t.cancelNext(e)})),t.setState({focusable:!1}),t}return B()(i,[{key:"_shouldRender",value:function(e){return this.state.timeToShow&&e.playlist&&e.playlist.next&&e.playlist.next.sources&&e.player.playlist.countdown.showing&&(e.player.playlist.options.autoContinue||e.player.playlist.options.loop)}},{key:"_getTimeToShow",value:function(){var e=this.props.player.playlist.countdown,t=this.props.duration-e.duration;return e.timeToShow>=0&&e.timeToShow<=this.props.duration&&(t=Math.max(e.timeToShow,this.props.lastSeekPoint)),Math.max(0,Math.min(t,this.props.duration))}},{key:"componentWillUpdate",value:function(e){var t=this._getTimeToShow();e.currentTime>=t?this.setState({timeToShow:!0}):(this.setState({timeToShow:!1}),this.props.updatePlaylistCountdownCanceled(!1))}},{key:"isHidden",value:function(e){return!e.timeToShow||this.props.player.playlist.countdown.duration>=this.props.duration}},{key:"isCanceled",value:function(){return this.props.countdownCanceled}},{key:"isShown",value:function(e){return!this.isHidden(e)&&!this.isCanceled()}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(this._shouldRender(e)){var r=this._getTimeToShow(),i=this.props.player.playlist.countdown;e.isSeeking||this.props.countdownCanceled||!(this.props.isPlaybackEnded||this.props.currentTime>=r+i.duration&&this.props.currentTime<this.props.duration)||this.props.player.playlist.playNext()}!t.shown&&this.state.shown?this.focusElement&&this.props.eventManager.listenOnce(this.focusElement,"animationend",(function(){n.isShown(n.state)&&(n.focusElement.focus(),n.setState({focusable:!0}))})):t.shown&&!this.state.shown&&this.setState({focusable:!1}),this.isShown(this.state)!==this.state.shown&&this.setState((function(e){return{shown:n.isShown(e)}}))}},{key:"shouldComponentUpdate",value:function(e){return this.props.duration>0&&!e.isSeeking&&!this.props.isPlaybackEnded}},{key:"render",value:function(e){var t=this;if(this._shouldRender(e)&&(this.isShown(this.state)&&(this.nextShown=e.playlist.next),e.playlist.next&&e.playlist.next.sources&&this.nextShown)){var n=this.props.player.playlist.countdown,r=this._getTimeToShow(),i=e.currentTime-r,a=Math.min(n.duration,e.duration-r),o=Math.ceil(a-(i>0?i:0)),s=[Xr().playlistCountdown];return this.isHidden(this.state)?s.push(Xr().hidden):this.isCanceled()?s.push(Xr().canceled):s.push(Xr().slideIn),W("div",{role:"button","aria-labelledby":"playlistCountdownTextId",ref:function(e){return e?t.focusElement=e:void 0},tabIndex:this.state.focusable?0:-1,className:s.join(" "),onKeyDown:this.onKeyDown,onClick:this.onClick},W("div",{className:Xr().playlistCountdownPoster,style:"background-image: url(".concat(this.nextShown.sources.poster,");")}),W("div",{className:Xr().playlistCountdownContentPlaceholder},W("div",{className:Xr().playlistCountdownContentBackground},W("div",{className:Xr().playlistCountdownContent},W(Ln,null,W("div",{id:"playlistCountdownTextId",className:Xr().playlistCountdownText},W("div",{className:Xr().playlistCountdownTextTitle},W(Dn,{id:"playlist.up_next_in"}),W("div",{className:Xr().playlistCountdownTimeLeft},o)),W("div",{className:Xr().playlistCountdownTextName},"".concat(this.nextShown.sources.metadata?this.nextShown.sources.metadata.name:"")))),W("div",{className:[Xr().controlButtonContainer,Xr().playlistCountdownCancel].join(" ")},W(Ln,null,W(Ko,{tabIndex:this.state.focusable?0:-1,"aria-label":W(Dn,{id:"playlist.cancel"}),className:[Xr().controlButton,Xr().playlistCountdownCancelButton].join(" "),onClick:this.cancelNext,onKeyDown:this.onCancelButtonKeyDown},W(Do,{type:xo.Close}))))))))}}}]),i}(X))||Cf)||Cf)||Cf)||Cf);Nf.displayName=Mf;var Uf="PictureInPictureOverlay",Bf=(Df=un((function(e){return{poster:e.engine.poster,isInPictureInPicture:e.engine.isInPictureInPicture,isChangingSource:e.engine.isChangingSource}})),Of=yr(Uf),Df(Lf=jr(Lf=Of(Lf=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"_handleClick",value:function(){this.props.player.exitPictureInPicture()}},{key:"render",value:function(){if(this.props.isInPictureInPicture){var e={},t=[Xr().pictureInPicturePoster];return this.props.poster&&(e={backgroundImage:this.props.isChangingSource?"":"url(".concat(this.props.poster,")"),backgroundSize:"contain"},t.push(Xr().hasPoster)),W("div",null,W("div",{className:Xr().pictureInPictureOverlay},W("div",{className:t.join(" "),style:e,onMouseOver:function(e){return e.stopPropagation()}},W("div",{className:Xr().darkLayer})),W("div",{className:Xr().pictureInPictureControl},W(Ln,null,W("span",{className:Xr().pictureInPictureText},W(Dn,{id:"pictureInPicture.overlay_text"}))))))}}}]),i}(X))||Lf)||Lf)||Lf);Bf.displayName=Uf;var Ff,jf=un((function(e){return{isAudio:e.engine.isAudio,playerSize:e.shell.playerSize}}))(ar(jr((function(e){var t,n,r,i=function(e){return u.parseFromString(e,"text/html").body.textContent||""},a=De(null),o=De(null),s=xe(null),l=D()(s,2),u=l[0],c=l[1],d=xe(!1),p=D()(d,2),f=p[0],h=p[1],y=xe(!1),g=D()(y,2),v=g[0],m=g[1],b=xe(!1),k=D()(b,2),E=k[0],T=k[1],_=xe(!1),A=D()(_,2),S=A[0],w=A[1];if(Ie((function(){var e,t,n,r;(null==a?void 0:a.current)&&(null==o?void 0:o.current)&&(m(!0),T((null==a||null===(e=a.current)||void 0===e?void 0:e.getBoundingClientRect().height)>(null==o||null===(t=o.current)||void 0===t?void 0:t.getBoundingClientRect().height))),S||w((null==a||null===(n=a.current)||void 0===n?void 0:n.getBoundingClientRect().height)>(null==o||null===(r=o.current)||void 0===r?void 0:r.getBoundingClientRect().height))})),Ie((function(){e.eventManager.listen(e.player,e.player.Event.CHANGE_SOURCE_STARTED,(function(){h(!1)})),e.eventManager.listen(e.player,e.player.Event.CHANGE_SOURCE_ENDED,(function(){h(!0)})),c(new DOMParser)}),[]),!f||!e.isAudio||!(null===(t=e.player.sources)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.name)&&!(null===(r=e.player.sources)||void 0===r?void 0:r.metadata.description))return null;var C=e.player.sources.metadata,x=C.name,P=void 0===x?"":x,R=C.description,I=void 0===R?"":R;P=i(P),I=i(I);var O=function(e){switch(e){case Hi.EXTRA_LARGE:case Hi.LARGE:return Xr().audioEntryL;case Hi.MEDIUM:return Xr().audioEntryM;default:return Xr().audioEntryT}}(e.playerSize),L="".concat(Xr().audioEntryTitle," ").concat(E?Xr().audioEntryTitleTrimmed:""),M=E?"":Xr().audioEntryExpanded;return W("div",{className:"".concat(Xr().audioEntryBackdrop," ").concat(M)},W("div",{className:"".concat(Xr().audioEntryDetails," ").concat(O)},W(cf,{isVertical:!0},W("div",{className:Xr().audioEntryContent},W("div",{ref:a,className:L},P),v?void 0:W("div",{ref:o,className:"".concat(Xr().audioEntryTitle," ").concat(Xr().audioEntryTitleTrimmed)},P),W("div",{className:Xr().audioEntryDescription},W(af,{text:I,lines:3,onClick:function(){T(!E)},forceShowMore:S},I))))))}))));jf.displayName="AudioEntryDetails";var Hf,Vf="Playback",Gf=ia({allowSidePanels:!0,allowPlayerArea:!0})(Ff=Go(Vf)(Ff=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"componentDidMount",value:function(){this.props.updateIsKeyboardEnabled(!0)}},{key:"render",value:function(){return W("div",{className:Xr().playbackGuiWrapper},W(Tr,{name:"PresetArea"},W("div",{className:Xr().playerGui,id:"player-gui"},W(Ac,null),W(df,null),W(pf,null,W(q,null,W(jf,null),W(yc,null),W(Gs,null),W(Bf,null),W(up,{name:"OverlayPlaybackControls",className:Xr().centerPlaybackControls}),W(np,null),W(Rc,null),W(Fd,null)),(function(e){var t=e.containerRef;return W(q,null,W(id,null),W(ff,null,W(cd,null),W(Td,null),W(Nf,null)),W(Al,{leftControls:[up,ws,Rs,$c],rightControls:[xl,ul,$p,Ll,Ef,al,Eo,sp,ss,Cd]},W(Hc,{showFramePreview:!0,showTimeBubble:!0,playerContainer:t})))})))))}}]),i}(X))||Ff)||Ff;function Kf(e){return W(Gf,e)}Gf.displayName=Vf;var zf=un((function(e){return{isBumper:e.engine.adIsBumper}}))(Hf=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"render",value:function(){return this.props.isBumper?null:W(Vl,null)}}]),i}(X))||Hf;zf.displayName="AdLeftControls";var Wf,Yf=un((function(e){return{state:{shell:e.shell,engine:{adIsLinear:e.engine.adIsLinear,adContentType:e.engine.adContentType}}}}))(Go("Ads")((function(e,t){if(e.updateIsKeyboardEnabled(!0),function(e,t){var n=e.state.shell.isMobile&&!t.player.env.isIPadOS,r=!1;try{var i=t.player.config.plugins.ima.adsRenderingSettings;r=i&&i.useStyledLinearAds}catch(e){}return n||r}(e,t))return W("div",{className:Xr().adGuiWrapper},W(Tr,{name:"PresetArea"},W("div",{className:Xr().playerGui,id:"player-gui"},W(pf,null,W(q,null,W(yc,null),W(cd,{hasTopBar:!0})),W(q,null,W(id,{disabled:!0,leftControls:W(zf,null)}))))));var n=!1,r=!1,i=W(Al,{leftControls:[up,qc],rightControls:[ul,ss]}),a=W(Al,{rightControls:[ss]});return W("div",{className:Xr().adGuiWrapper},W(Tr,{name:"PresetArea"},W("div",{className:Xr().playerGui,id:"player-gui"},W(pf,null,W(q,null,W(yc,null),W(cd,{hasTopBar:!0}),r?W(Hl,null):void 0,W(up,{name:"OverlayPlaybackControls",className:Xr().centerPlaybackControls})),W(q,null,W(id,{disabled:!0,leftControls:W(zf,null),rightControls:n?W(Fl,null):void 0}),function(e){var t=e.state.engine,n=t.adIsLinear,r=t.adContentType;return!(n&&r&&!r.startsWith("video"))}(e)?i:a)))))})));function Zf(e){return W(Yf,e)}function qf(){return W("div",{className:Xr().playbackGuiWrapper},W(Tr,{name:"PresetArea"},W(pf,null,W(q,null,W(nc,null)))))}function Xf(e){return W(qf,e)}Yf.displayName="Ads",qf.displayName="Error";var Qf,Jf="Live",$f=ia({allowSidePanels:!0,allowPlayerArea:!0})(Wf=Go(Jf)(Wf=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"componentDidMount",value:function(){this.props.updateIsKeyboardEnabled(!0)}},{key:"render",value:function(){return W("div",{className:Xr().playbackGuiWrapper},W(Tr,{name:"PresetArea"},W("div",{className:Xr().playerGui,id:"player-gui"},W(Ac,null),W(df,null),W(pf,null,W(q,null,W(yc,null),W(Gs,null),W(Bf,null),W(up,{name:"OverlayPlaybackControls",className:Xr().centerPlaybackControls}),W(Rc,null),W(Fd,null)),(function(e){var t=e.containerRef;return W(q,null,W(id,null),W(ff,null,W(Td,null),W(cd,null)),W(Al,{leftControls:[up,ws,Rs,ac],rightControls:[xl,ul,Ll,Ef,al,Eo,sp,ss,Cd]},W(Nc,{showFramePreview:!0,showTimeBubble:!0,playerContainer:t})))})))))}}]),i}(X))||Wf)||Wf;function eh(e){return W($f,e)}$f.displayName=Jf;var th,nh=ia({allowSidePanels:!0,allowPlayerArea:!0})(Qf=Go("Img")(Qf=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"componentDidMount",value:function(){this.props.updateIsKeyboardEnabled(!0)}},{key:"render",value:function(){return W("div",{className:Xr().playbackGuiWrapper},W(Tr,{name:"PresetArea"},W("div",{className:Xr().playerGui,id:"player-gui"},W(df,null),W(pf,null,W(q,null,W(cd,null),W(yc,null),W(Gs,null),W(up,{name:"OverlayPlaybackControls",className:Xr().centerPlaybackControls}),W(Fd,null)),(function(){return W(q,null,W(id,null),W(ff,null,W(Td,null)),W(Al,{rightControls:[xl,Eo,ss,Cd],leftControls:[]}))})))))}}]),i}(X))||Qf)||Qf;function rh(e){return W(nh,e)}nh.displayName="Img";var ih,ah="Document",oh=ia({allowSidePanels:!0,allowPlayerArea:!0})(th=Go(ah)(th=function(e){$n()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rr()(t);if(n){var i=rr()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tr()(this,e)});function i(){return N()(this,i),r.apply(this,arguments)}return B()(i,[{key:"componentDidMount",value:function(){this.props.updateIsKeyboardEnabled(!0)}},{key:"render",value:function(){return W("div",{className:Xr().playbackGuiWrapper},W(Tr,{name:"PresetArea"},W("div",{className:Xr().playerGui,id:"player-gui"},W(df,null),W(pf,null,W(q,null,W(cd,null),W(yc,null),W(Gs,null),W(up,{name:"OverlayPlaybackControls",className:Xr().centerPlaybackControls}),W(Fd,null)),(function(){return W(q,null,W(id,null),W(ff,null,W(Td,null)),W(Al,{rightControls:[xl,Eo,ss,Cd],leftControls:[]}))})))))}}]),i}(X))||th)||th;function sh(e){return W(oh,e)}oh.displayName=ah;var lh=null,uh=null,ch=function(e,t){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(n,!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{dispatch:r=Zt.apply(void 0,a)(n.dispatch)})}}}(function(e){return function(t){return function(t){return function(n){ih||(ih=Yn("UILoggerMiddleware")),e.debugActions&&ih.debug("Action fired",n),t(n)}}}}(t),function(e){return function(t){return function(n){return function(r){switch(r.type){case Zl.COMPONENT_CLICKED:!function(e,t,n){switch(t.name){case"Keyboard":eu[t.payload.key](e,t,n);break;case"OverlayAction":!function(e,t,n){"PlayPause"===t.payload.type?ql(e,0,n):"Fullscreen"===t.payload.type&&Ql(0,0,n)}(e,t,n);break;case"CaptionsMenu":!function(e,t,n){t.payload.type===n.Track.TEXT&&n.dispatchEvent(new hi(t.payload.track))}(0,t,n);break;case"AudioMenu":!function(e,t,n){t.payload.type===n.Track.AUDIO&&n.dispatchEvent(new fi(t.payload.track))}(0,t,n);break;case"QualityMenu":!function(e,t,n){t.payload.type===n.Track.VIDEO&&n.dispatchEvent(new gi(t.payload.track))}(0,t,n);break;case"SpeedMenu":!function(e,t,n){"speed"===t.payload.type&&n.dispatchEvent(new mi(t.payload.speed))}(0,t,n);break;case"AdvancedAudioDescToggle":!function(e,t,n){"AdvancedAudioDescription"===t.payload.type&&n.dispatchEvent(new ir.FakeEvent(sr.USER_CLICKED_ADVANCED_AUDIO_DESCRIPTION,t.payload))}(0,t,n);break;case"CVAAOverlay":n.dispatchEvent(new yi(t.payload.textStyle));break;case"Fullscreen":Ql(0,0,n);break;case"Shell":n.dispatchEvent(new ir.FakeEvent(sr.UI_CLICKED));break;case"Rewind":n.dispatchEvent(new ki(t.payload.from,t.payload.to));break;case"Forward":n.dispatchEvent(new Ei(t.payload.from,t.payload.to));break;case"LiveTag":n.dispatchEvent(new ir.FakeEvent(sr.USER_CLICKED_LIVE_TAG));break;case"PrePlaybackPlayOverlay":case"PlayPause":ql(e,0,n);break;case"Volume":Xl(e,0,n)}}(t,r,e);break;case Zl.COMPONENT_CHANGED:!function(e,t,n){switch(t.name){case"Volume":n.dispatchEvent(new Ti(t.payload.volume));break;case"SeekBarPlaybackContainer":n.dispatchEvent(new vi(t.payload.from,t.payload.to));break;case"ActivePreset":n.dispatchEvent(new ir.FakeEvent(sr.UI_PRESET_CHANGE,t.payload))}}(0,r,e);break;case wr.UPDATE_PLAYER_HOVER_STATE:!function(e,t,n){var r=e.getState().engine,i=e.getState().shell;!r.adBreak&&r.isPlaying&&i.playerHover!==t.hover&&n.dispatchEvent(new bi(t.hover))}(t,r,e)}switch(n(r),r.type){case wr.UPDATE_GUI_CLIENT_RECT:!function(e,t,n){var r=e.getState().shell.guiClientRect;n.dispatchEvent(new zl(r))}(t,0,e);break;case wr.UPDATE_PLAYER_CLIENT_RECT:!function(e,t,n){var r=e.getState().shell.playerClientRect;n.dispatchEvent(new Kl(r))}(t,0,e);break;case wr.UPDATE_VIDEO_CLIENT_RECT:!function(e,t,n){var r=e.getState().shell.videoClientRect;n.dispatchEvent(new Wl(r))}(t,0,e)}}}}}(e),(function(e){return function(e){return function(t){t.type===wr.UPDATE_IS_SMALL_SIZE?(uh=t,lh&&clearTimeout(lh),lh=setTimeout((function(){lh=null,e(uh)}),150)):e(t)}}}))};function dh(e){return function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255,a=Math.min(n,r,i),o=Math.max(n,r,i),s=o-a;o===a?t=0:n===o?t=(r-i)/s:r===o?t=2+(i-n)/s:i===o&&(t=4+(n-r)/s),(t=Math.min(60*t,360))<0&&(t+=360);var l=(a+o)/2;return[t,100*(o===a?0:l<=.5?s/(o+a):s/(2-o-a)),100*l]}(function(e){var t=e.toString().match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]}(e))}var ph="playkit",fh="--".concat(ph,"-{name}-color"),hh="--".concat(ph,"-{name}-hsl-hue"),yh="--".concat(ph,"-{name}-hsl-saturation"),gh="--".concat(ph,"-{name}-hsl-lightness"),vh={colors:{live:"--playkit-live-color",playerBackground:"--playkit-player-background-color",paperSurface:"--playkit-paper-color",elevatedSurface:"--playkit-elevated-color",protectionSurface:"--playkit-protection-color",tone1:"--playkit-tone-1-color",tone2:"--playkit-tone-2-color",tone3:"--playkit-tone-3-color",tone4:"--playkit-tone-4-color",tone5:"--playkit-tone-5-color",tone6:"--playkit-tone-6-color",tone7:"--playkit-tone-7-color",tone8:"--playkit-tone-8-color",tone1RGB:"--playkit-tone-1-color-rgb",tone2RGB:"--playkit-tone-2-color-rgb",tone3RGB:"--playkit-tone-3-color-rgb",tone4RGB:"--playkit-tone-4-color-rgb",tone5RGB:"--playkit-tone-5-color-rgb",tone6RGB:"--playkit-tone-6-color-rgb",tone7RGB:"--playkit-tone-7-color-rgb",tone8RGB:"--playkit-tone-8-color-rgb"}},mh=["primary","secondary","success","danger","warning"],bh=["--playkit-icon-data-url","--playkit-icon-chromecast-url","--playkit-icon-quality-HD-active-url","--playkit-icon-quality-4K-active-url","--playkit-icon-quality-8K-active-url"],kh=function(){function e(t,n,r){N()(this,e),j()(this,"player",void 0),j()(this,"config",void 0),j()(this,"playerContainerElement",void 0),this.player=t,this.config=n,this.playerContainerElement=document.querySelector("#".concat(r))}return B()(e,[{key:"applyUserTheme",value:function(){this.config&&this.setColors(this.config)}},{key:"makeTextContrastColor",value:function(e){var t=dh(e),n=t[0],r=t[1],i=t[2];return(n<30||n>205)&&(i=i<70?100:0),n>30&&n<205&&(i=i<40?100:0),function(e,t,n){t/=100,n/=100;var r=(1-Math.abs(2*n-1))*t,i=r*(1-Math.abs(e/60%2-1)),a=n-r/2,o=0,s=0,l=0;return 0<=e&&e<60?(o=r,s=i,l=0):60<=e&&e<120?(o=i,s=r,l=0):120<=e&&e<180?(o=0,s=r,l=i):180<=e&&e<240?(o=0,s=i,l=r):240<=e&&e<300?(o=i,s=0,l=r):300<=e&&e<360&&(o=r,s=0,l=i),o=Math.round(255*(o+a)).toString(16),s=Math.round(255*(s+a)).toString(16),l=Math.round(255*(l+a)).toString(16),1==o.length&&(o="0"+o),1==s.length&&(s="0"+s),1==l.length&&(l="0"+l),"#"+o+s+l}(n,r,i)}},{key:"setColors",value:function(e){for(var t in e.colors.primary&&this.setSvgFillColor(e.colors.primary),e.colors)if(mh.includes(t)){var n=e.colors[t],r=this.makeTextContrastColor(n);this.setAccentOrAcknowledgementColor("".concat(t,"-").concat("text-contrast"),r),this.setAccentOrAcknowledgementColor(t,n),"primary"===t&&this.setSvgFillColor(r,!0)}else this.setColor(vh.colors[t],e.colors[t])}},{key:"setAccentOrAcknowledgementColor",value:function(e,t){var n=dh(t),r=D()(n,3),i=r[0],a=r[1],o=r[2];this.setCSSVariable(fh.replace("{name}",e),t),this.setCSSVariable(hh.replace("{name}",e),"".concat(Math.round(i),"deg")),this.setCSSVariable(yh.replace("{name}",e),"".concat(Math.round(a),"%")),this.setCSSVariable(gh.replace("{name}",e),"".concat(Math.round(o),"%"))}},{key:"setColor",value:function(e,t){this.setCSSVariable(e,t)}},{key:"setSvgFillColor",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,r=bh;n<r.length;n++){var i=r[n],a=this.getCSSVariable(i),o=e.replace("#","%23"),s=/fill='%23([a-f0-9]{3}){1,2}\b'/g;t&&(s=/fill='textColor'/g),this.setCSSVariable(i,a.replaceAll(s,"fill='".concat(o,"'")))}}},{key:"getCSSVariable",value:function(e){return getComputedStyle(this.playerContainerElement.querySelector(".".concat(Xr().player))).getPropertyValue(e)||""}},{key:"setCSSVariable",value:function(e,t){this.playerContainerElement.querySelector(".".concat(Xr().player)).style.setProperty(e,t)}}]),e}(),Eh=function(){function e(){N()(this,e)}return B()(e,null,[{key:"copyDebugInfoToClipboard",value:function(t){var n=t.debugInfo;if(n){var r=JSON.stringify(n,null,2);e.copyToClipboard(r).then((function(){t.dispatchEvent(new ir.FakeEvent(sr.USER_COPIED_DEBUG_INFO))})).catch((function(){e.copyToClipboardFallback(r),t.dispatchEvent(new ir.FakeEvent(sr.USER_COPIED_DEBUG_INFO))}))}}},{key:"copyToClipboard",value:function(e){try{return navigator.clipboard.writeText(e)}catch(e){return Promise.reject()}}},{key:"copyToClipboardFallback",value:function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(e){}finally{document.body.removeChild(t)}}}]),e}(),Th={copyDebugInfoLabel:W(Dn,{id:"error.copy_debug_info"},"Copy debug info")},_h=un((function(e){return{isFullscreen:e.engine.fullscreen}}))(Un(Th)(ar(jr((function(e){var t=e.player,n=e.eventManager,r=e.copyDebugInfoLabel,i=e.isFullscreen,a=De(null),o=xe(!1),s=D()(o,2),l=s[0],u=s[1],c=De(l);Re((function(){var e=null,r=function e(){n.unlisten(document,"click",e),u(!1)},i=function(e){var i;if(a.current&&t.debugInfo&&(null===(i=document.getElementById(t.config.targetId))||void 0===i?void 0:i.contains(e.target)))if(c.current)r();else if(e.preventDefault(),document.getElementById(t.config.targetId)){var o=Number(qr.contextMenuWidth),s=Number(qr.contextMenuHeight),l=e.pageX,d=e.pageY;l+o>window.innerWidth&&(l=window.innerWidth-o),d+s>window.innerHeight&&(d=window.innerHeight-s),a.current.style.left=l+"px",a.current.style.top=d+"px",n.listen(document,"click",r),u(!0)}};ir.Env.isIOS?(n.listen(document,"touchstart",(function(t){e=Date.now(),t.preventDefault()})),n.listen(document,"touchend",(function(t){null===e||e&&Date.now()-e<500||(i({target:t.target,pageX:t.pageX,pageY:t.pageY,preventDefault:t.preventDefault.bind(t)}),e=null)}))):(n.listen(document,"contextmenu",i),n.listen(document,"keydown",(function(e){e.code===ur.KeyD&&e.altKey&&e.ctrlKey&&e.shiftKey&&Eh.copyDebugInfoToClipboard(t)})))}),[]),Re((function(){c.current=l}),[l]);var d=function(){return W("div",{ref:a,className:[Xr().contextMenu,l?"":Xr().hidden].join(" "),role:"menu"},W("div",{className:Xr().contextMenuItem,onClick:function(){return Eh.copyDebugInfoToClipboard(t)},role:"menuitem"},r))};return i?d():st(d(),document.body)})))));_h.displayName="ContextMenu";var Ah=function(){function e(t,n){var r;N()(this,e),j()(this,"player",void 0),j()(this,"targetId",void 0),j()(this,"store",void 0),j()(this,"container",void 0),j()(this,"_translations",{en:go.en}),j()(this,"_locale","en"),j()(this,"_uiComponents",void 0),j()(this,"_themesManager",void 0),function(e){e&&"function"==typeof e.getLogger&&(Kn.get=e.getLogger),e&&e.LogLevel&&(zn=e.LogLevel)}(n.logger),this._uiComponents=L()(n.uiComponents||[]),this.player=t,this.targetId=n.targetId,this._createStore(n),this.setConfig(n),this._setLocaleTranslations(n),this._themesManager=new kh(t,n.userTheme,n.targetId),r=this.player.env,lr.SEMI_COLON="firefox"===r.browser.name.toLowerCase()?59:186}return B()(e,[{key:"setConfig",value:function(e,t){t?this.store.dispatch(ii.updateComponentConfig(t,e)):this.store.dispatch(ii.updateConfig(e))}},{key:"addComponent",value:function(e){return function(){}}},{key:"buildDefaultUI",value:function(){var e=[{template:function(e){return If(e)},condition:function(e){return e.engine.isIdle}},{template:function(e){return Xf(e)},condition:function(e){return e.engine.hasError}},{template:function(e){return Zf(e)},condition:function(e){return e.engine.adBreak}},{template:function(e){return eh(e)},condition:function(e){return e.engine.isLive}},{template:function(e){return rh(e)},condition:function(e){return e.engine.isImg}},{template:function(e){return sh(e)},condition:function(e){return e.engine.isDocument}},{template:function(e){return Kf(e)}}];this._buildUI(e),this._themesManager.applyUserTheme()}},{key:"buildCustomUI",value:function(e){if(e.length>0)this._buildUI(e);else{var t=[{template:function(e){return Kf(e)}}];this._buildUI(t)}this._themesManager.applyUserTheme()}},{key:"_setLocaleTranslations",value:function(e){var t=this;e.translations&&Object.entries(e.translations).forEach((function(e){var n=D()(e,2),r=n[0],i=n[1];i=Gn({},t._translations.en,i),t._translations[r]=i})),e.locale&&this._translations[e.locale]&&(this._locale=e.locale)}},{key:"_createStore",value:function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION__;this.store=Vt(yo,Zt(ch(this.player,e),t?t({trace:!1}):function(e){return e}))}},{key:"_buildUI",value:function(e){var t=this;this.player&&(this.container=document.getElementById(this.targetId),this.container&&he(W(Tt,{store:this.store},W(na,{uiComponents:this._uiComponents,setApi:function(e){e&&(t.addComponent=e)}},W(An,{definition:this._translations[this._locale]},W(Fr,{player:this.player},W(_i,{player:this.player,store:this.store},W(Vo,{playerContainer:this.container},W(Ki,null,W(_h,null),W(ju,null),W(bd,null),W(Pf,{uis:e,playerContainer:this.container})))))))),this.container))}},{key:"destroy",value:function(){this.container&&(this.container.prepend(this.player.getView()),he("",this.container))}},{key:"getLogLevel",value:function(e){return function(e){return Wn(e).getLevel()}(e)}},{key:"setLogLevel",value:function(e,t){!function(e,t){Wn(t).setLevel(e)}(e,t)}},{key:"getCSSVariable",value:function(e){return this._themesManager.getCSSVariable(e)}},{key:"setCSSVariable",value:function(e,t){this._themesManager.setCSSVariable(e,t)}},{key:"config",get:function(){return Hn(this.store.getState().config)}},{key:"LogLevel",get:function(){return zn}},{key:"Event",get:function(){return sr}}]),e}(),Sh="0.82.6",wh="@playkit-js/playkit-js-ui",Ch=Xr()}(),i}())},109:module=>{self,module.exports=function(){var e={9063:function(e,t,n){"use strict";n.d(t,{S:function(){return r}});var r={PRE:"preroll",MID:"midroll",POST:"postroll",OVERLAY:"overlay"}},4611:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});var r={AD_CAN_SKIP:"adcanskip",AD_MANIFEST_LOADED:"admanifestloaded",AD_LOADED:"adloaded",AD_STARTED:"adstarted",AD_RESUMED:"adresumed",AD_PAUSED:"adpaused",AD_CLICKED:"adclicked",AD_SKIPPED:"adskipped",AD_COMPLETED:"adcompleted",AD_ERROR:"aderror",ADS_COMPLETED:"adscompleted",ALL_ADS_COMPLETED:"alladscompleted",AD_BREAK_START:"adbreakstart",AD_BREAK_END:"adbreakend",AD_FIRST_QUARTILE:"adfirstquartile",AD_MIDPOINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",USER_CLOSED_AD:"userclosedad",AD_VOLUME_CHANGED:"advolumechanged",AD_MUTED:"admuted",AD_PROGRESS:"adprogress",AD_BUFFERING:"adbuffering",AD_WATERFALLING:"adwaterfalling",AD_WATERFALLING_FAILED:"adwaterfallingfailed",AD_AUTOPLAY_FAILED:"adautoplayfailed"}},8151:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});var r={VAST:"vast",VMAP:"vmap"}},7237:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});var r={WIDEVINE:"com.widevine.alpha",PLAYREADY:"com.microsoft.playready",FAIRPLAY:"com.apple.fairplay"}},1057:function(e,t,n){"use strict";n.d(t,{_:function(){return a}});var r=n(5671),i=n(3144),a=function(){function e(t){(0,r.Z)(this,e),this._name=t.getName(),this._getEngineDecorator=t.getEngineDecorator.bind(t)}return(0,i.Z)(e,[{key:"getEngineDecorator",value:function(e,t){return this._getEngineDecorator(e,t)}},{key:"getName",value:function(){return this._name}}]),e}()},4779:function(e,t,n){"use strict";n.d(t,{zv:function(){return C},Hl:function(){return x},co:function(){return P}});var r,i=n(5671),a=n(3144),o=n(4942),s=n(4358),l=n(7326),u=n(9340),c=n(2963),d=n(1120),p=n(8171),f=n(8987),h=n(4270),y=n(2114),g=n(2588),v=n(6462),m=n(375),b=n(4821),k=JSON.parse('{"$":"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE="}'),E=(r=function(){function e(){(0,i.Z)(this,e)}return(0,a.Z)(e,null,[{key:"runCapability",value:function(){e._capabilities.autoplay||"boolean"==typeof e._capabilities.autoplay&&"boolean"==typeof e._capabilities.mutedAutoPlay?e._playPromiseResult=Promise.resolve(e._capabilities):(e._vid||(e._vid=b.is.createElement("video"),e._vid.src=k.$,e._vid.setAttribute("playsinline","")),e._playPromiseResult=new Promise((function(t){e._setMuted(!1),e._getPlayPromise().then((function(){return t({autoplay:!0,mutedAutoPlay:!0})})).catch((function(){e._setMuted(!0),e._getPlayPromise().then((function(){return t({autoplay:!1,mutedAutoPlay:!0})})).catch((function(){return t({autoplay:!1,mutedAutoPlay:!1})}))}))})))}},{key:"getCapability",value:function(){return e._playPromiseResult.then((function(t){var n;return t.autoplay?n=Promise.resolve(t):(e.runCapability(),n=e._playPromiseResult),n.then((function(t){return b.c7.mergeDeep(t,e._capabilities)}))}))}},{key:"setCapabilities",value:function(t){e._logger.debug("Set player capabilities",t);var n=t.autoplay,r=t.mutedAutoPlay;"boolean"==typeof n&&(e._capabilities.autoplay=n),"boolean"==typeof r&&(e._capabilities.mutedAutoPlay=r)}},{key:"_getPlayPromise",value:function(){return e._vid.play()||e._forcePromiseReturnValue()}},{key:"_setMuted",value:function(t){t?(e._vid.muted=!0,e._vid.setAttribute("muted","")):(e._vid.muted=!1,e._vid.removeAttribute("muted"))}},{key:"_forcePromiseReturnValue",value:function(){return new Promise((function(t,n){e._vid.addEventListener(y.Rk.ERROR,(function(){n()}));var r=setTimeout((function(){e._logger.debug("Timeout ".concat(500," ms has been reached")),n()}),500);!0===e._vid.paused?(clearTimeout(r),n()):(clearTimeout(r),t())}))}}]),e}(),(0,o.Z)(r,"_logger",(0,s.ZP)("Html5AutoPlayCapability")),(0,o.Z)(r,"_capabilities",{}),r),T=n(962),_=n(9439),A=function(e){(0,u.Z)(s,e);var t,n,r=(t=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,d.Z)(t);if(n){var i=(0,d.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,c.Z)(this,e)});function s(e,t,n){var a;return(0,i.Z)(this,s),a=r.call(this),(0,o.Z)((0,l.Z)(a),"_droppedFramesInterval",null),(0,o.Z)((0,l.Z)(a),"_lastDroppedFrames",0),(0,o.Z)((0,l.Z)(a),"_lastDecodedFrames",0),(0,o.Z)((0,l.Z)(a),"_lastTime",0),(0,o.Z)((0,l.Z)(a),"_currentBitrate",0),a._eventManager=new h.Q,a._mediaSourceAdapter=e,a._config=t,a._videoElement=n,a._mediaSourceAdapter.capabilities.fpsControl?(a._eventManager.listen(a._mediaSourceAdapter,y.nQ.FPS_DROP,(function(e){return a._triggerFPSDrop(e.payload.data)})),(0,c.Z)(a)):(-1===a._getDroppedAndDecodedFrames()[0]?s._logger.debug("Dropped frame watcher is not supported"):a._config.capLevelOnFPSDrop?(s._logger.debug("Initialized capLevelOnFPSDrop = true"),a._init()):s._logger.debug("Not Initialized"),a)}return(0,a.Z)(s,[{key:"_init",value:function(){var e=this;this._eventManager.listen(this._mediaSourceAdapter,y.nQ.VIDEO_TRACK_CHANGED,(function(t){return e._currentBitrate=t.payload.selectedVideoTrack.bandwidth})),this._droppedFramesInterval=setInterval((function(){return e._checkFPS()}),this._config.fpsDroppedFramesInterval)}},{key:"_triggerFPSDrop",value:function(e){this.dispatchEvent(new f.v(y.nQ.FPS_DROP,e))}},{key:"_getDroppedAndDecodedFrames",value:function(){if("function"==typeof this._videoElement.getVideoPlaybackQuality){var e=this._videoElement.getVideoPlaybackQuality();return[e.droppedVideoFrames,e.totalVideoFrames]}return"number"==typeof this._videoElement.webkitDroppedFrameCount&&"number"==typeof this._videoElement.webkitDecodedFrameCount?[this._videoElement.webkitDroppedFrameCount,this._videoElement.webkitDecodedFrameCount]:[-1,-1]}},{key:"_checkFPS",value:function(){var e=this._getDroppedAndDecodedFrames(),t=(0,_.Z)(e,2),n=t[0],r=t[1];try{var i=performance.now();if(r){if(this._lastTime){var a=i-this._lastTime,o=n-this._lastDroppedFrames,l=r-this._lastDecodedFrames,u=1e3*o/a;u>0&&(s._logger.debug("checkFPS : droppedFPS/decodedFPS:"+u/(1e3*l/a)),o>this._config.fpsDroppedMonitoringThreshold*l&&(this._mediaSourceAdapter.setMaxBitrate(this._currentBitrate-1),this._triggerFPSDrop({currentDropped:o,currentDecoded:l,totalDroppedFrames:u})))}this._lastTime=i,this._lastDroppedFrames=n,this._lastDecodedFrames=r}}catch(e){s._logger.error("Error occur while trying to check dropFrames: ",e)}}},{key:"destroy",value:function(){this._droppedFramesInterval&&clearInterval(this._droppedFramesInterval),this._droppedFramesInterval=null,this._eventManager.destroy()}}]),s}(p.H);(0,o.Z)(A,"_logger",(0,s.ZP)("droppedFramesWatcher"));var S=n(2069),w=function(e){(0,u.Z)(s,e);var t,n,r=(t=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,d.Z)(t);if(n){var i=(0,d.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,c.Z)(this,e)});function s(e,t,n){var a;return(0,i.Z)(this,s),a=r.call(this),(0,o.Z)((0,l.Z)(a),"_reset",!1),(0,o.Z)((0,l.Z)(a),"_cachedUrls",[]),a._eventManager=new h.Q,a._canLoadMediaSourceAdapterPromise=Promise.resolve(),a._createVideoElement(n),a._init(e,t),a}return(0,a.Z)(s,[{key:"restore",value:function(e,t){this.reset(),this._init(e,t)}},{key:"reset",value:function(){var e=this;this._reset||(this._reset=!0,this._eventManager.removeAll(),this._droppedFramesWatcher&&(this._droppedFramesWatcher.destroy(),this._droppedFramesWatcher=void 0),this._canLoadMediaSourceAdapterPromise=new Promise((function(t,n){var r=e._mediaSourceAdapter?e._mediaSourceAdapter.destroy():Promise.resolve();e._el&&e._el.src?r.then((function(){b.is.setAttribute(e._el,"src",""),b.is.removeAttribute(e._el,"src"),t()}),n):r.then(t,n)})),this._mediaSourceAdapter=null)}},{key:"destroy",value:function(){this.detach(),this._el&&(this.pause(),b.is.removeAttribute(this._el,"src"),b.is.removeChild(this._el.parentNode,this._el)),this._eventManager.destroy(),g.Z.destroy(),this._droppedFramesWatcher&&(this._droppedFramesWatcher.destroy(),this._droppedFramesWatcher=void 0),this._mediaSourceAdapter&&(this._mediaSourceAdapter.setCachedUrls([]),this._mediaSourceAdapter.destroy(),this._mediaSourceAdapter=null)}},{key:"mediaSourceAdapter",get:function(){return this._mediaSourceAdapter}},{key:"id",get:function(){return s.id}},{key:"attachMediaSource",value:function(){this._mediaSourceAdapter&&this._mediaSourceAdapter.attachMediaSource()}},{key:"detachMediaSource",value:function(){this._mediaSourceAdapter&&this._mediaSourceAdapter.detachMediaSource()}},{key:"attach",value:function(){var e=this;Object.keys(y.Rk).forEach((function(t){[y.Rk.ERROR,y.Rk.WAITING].includes(y.Rk[t])||e._eventManager.listen(e._el,y.Rk[t],(function(){return e.dispatchEvent(new f.v(y.Rk[t]))}))})),this._eventManager.listen(this._el,y.Rk.ERROR,(function(){return e._handleVideoError()})),this._eventManager.listen(this._el,y.Rk.WAITING,(function(){return e._handleWaiting()})),this._handleMetadataTrackEvents(),this._eventManager.listen(this._el.textTracks,"addtrack",(function(t){v.PZ.isNativeTextTrack(t.track)&&e.dispatchEvent(new f.v(y.nQ.TEXT_TRACK_ADDED,{track:t.track}))}));var t=this._mediaSourceAdapter;t&&(this._eventManager.listen(t,y.nQ.VIDEO_TRACK_CHANGED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,y.nQ.AUDIO_TRACK_CHANGED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,y.nQ.TEXT_TRACK_CHANGED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,y.nQ.IMAGE_TRACK_CHANGED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,y.nQ.ABR_MODE_CHANGED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,y.nQ.TEXT_CUE_CHANGED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,y.nQ.TRACKS_CHANGED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,y.nQ.FRAG_LOADED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,y.nQ.DRM_LICENSE_LOADED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,y.nQ.MANIFEST_LOADED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,y.Rk.ERROR,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,y.Rk.TIME_UPDATE,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,y.Rk.PLAYING,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,y.Rk.WAITING,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,y.nQ.MEDIA_RECOVERED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,y.nQ.TIMED_METADATA_ADDED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,"hlsFragParsingMetadata",(function(t){return e.dispatchEvent(t)})),this._droppedFramesWatcher&&this._eventManager.listen(this._droppedFramesWatcher,y.nQ.FPS_DROP,(function(t){return e.dispatchEvent(t)})))}},{key:"detach",value:function(){var e=this;Object.keys(y.Rk).forEach((function(t){e._eventManager.unlisten(e._el,y.Rk[t])})),this._mediaSourceAdapter&&(this._eventManager.unlisten(this._mediaSourceAdapter,y.nQ.VIDEO_TRACK_CHANGED),this._eventManager.unlisten(this._mediaSourceAdapter,y.nQ.AUDIO_TRACK_CHANGED),this._eventManager.unlisten(this._mediaSourceAdapter,y.nQ.TEXT_TRACK_CHANGED),this._eventManager.unlisten(this._mediaSourceAdapter,y.nQ.TEXT_CUE_CHANGED))}},{key:"getVideoElement",value:function(){return this._el}},{key:"selectVideoTrack",value:function(e){this._mediaSourceAdapter&&this._mediaSourceAdapter.selectVideoTrack(e)}},{key:"selectAudioTrack",value:function(e){this._mediaSourceAdapter&&this._mediaSourceAdapter.selectAudioTrack(e)}},{key:"selectTextTrack",value:function(e){this._removeCueChangeListeners(),this._mediaSourceAdapter&&this._mediaSourceAdapter.selectTextTrack(e),this.resetAllCues(),this._addCueChangeListener()}},{key:"selectImageTrack",value:function(e){this._mediaSourceAdapter&&this._mediaSourceAdapter.selectImageTrack(e)}},{key:"hideTextTrack",value:function(){this._mediaSourceAdapter&&this._mediaSourceAdapter.hideTextTrack(),this._removeCueChangeListeners()}},{key:"enableAdaptiveBitrate",value:function(){this._mediaSourceAdapter&&this._mediaSourceAdapter.enableAdaptiveBitrate()}},{key:"isAdaptiveBitrateEnabled",value:function(){return!!this._mediaSourceAdapter&&this._mediaSourceAdapter.isAdaptiveBitrateEnabled()}},{key:"applyABRRestriction",value:function(e){if(this._mediaSourceAdapter)return this._mediaSourceAdapter.applyABRRestriction(e)}},{key:"seekToLiveEdge",value:function(){this._mediaSourceAdapter&&this._mediaSourceAdapter.seekToLiveEdge()}},{key:"isOnLiveEdge",value:function(){return!!this._mediaSourceAdapter&&this._mediaSourceAdapter.isOnLiveEdge()}},{key:"getStartTimeOfDvrWindow",value:function(){return this._mediaSourceAdapter?this._mediaSourceAdapter.getStartTimeOfDvrWindow():0}},{key:"isLive",value:function(){return!!this._mediaSourceAdapter&&this._mediaSourceAdapter.isLive()}},{key:"resetIfPlaybackEnded",value:function(){(Math.round(1e3*this._el.currentTime)>=Math.round(1e3*this._el.duration)||this._el.ended)&&(this._el.currentTime=0)}},{key:"play",value:function(){var e=this;S.Z.isSafari&&this.isInPictureInPicture&&!this.isLive()&&this.resetIfPlaybackEnded();var t=this._el.play();return t&&t.catch((function(t){return e.dispatchEvent(new f.v(y.nQ.PLAY_FAILED,{error:t}))})),t}},{key:"pause",value:function(){return this._el.pause()}},{key:"load",value:function(e){var t=this;return this._el.load(),this._canLoadMediaSourceAdapterPromise.then((function(){return t._mediaSourceAdapter?t._mediaSourceAdapter.load(e):Promise.resolve({})})).catch((function(e){return t.dispatchEvent(new f.v(y.Rk.ERROR,e)),Promise.reject(e)}))}},{key:"enterPictureInPicture",value:function(){var e=this;try{document.pictureInPictureEnabled&&"function"==typeof this._el.requestPictureInPicture&&!this._el.disablePictureInPicture?this._el.requestPictureInPicture().catch((function(t){e.dispatchEvent(new f.v(y.Rk.ERROR,new T.Z(T.Z.Severity.RECOVERABLE,T.Z.Category.PLAYER,T.Z.Code.ENTER_PICTURE_IN_PICTURE_FAILED,t)))})):"function"==typeof this._el.webkitSetPresentationMode&&(this._el.webkitSetPresentationMode("picture-in-picture"),setTimeout((function(){return e.dispatchEvent(new f.v(y.Rk.ENTER_PICTURE_IN_PICTURE))}),0))}catch(e){this.dispatchEvent(new f.v(y.Rk.ERROR,new T.Z(T.Z.Severity.RECOVERABLE,T.Z.Category.PLAYER,T.Z.Code.ENTER_PICTURE_IN_PICTURE_FAILED,e)))}}},{key:"exitPictureInPicture",value:function(){var e=this;try{document.pictureInPictureEnabled&&"function"==typeof document.exitPictureInPicture&&this._el===document.pictureInPictureElement?document.exitPictureInPicture().catch((function(t){e.dispatchEvent(new f.v(y.Rk.ERROR,new T.Z(T.Z.Severity.RECOVERABLE,T.Z.Category.PLAYER,T.Z.Code.EXIT_PICTURE_IN_PICTURE_FAILED,t)))})):"function"==typeof this._el.webkitSetPresentationMode&&this._el.webkitSetPresentationMode("inline")}catch(e){this.dispatchEvent(new f.v(y.Rk.ERROR,new T.Z(T.Z.Severity.RECOVERABLE,T.Z.Category.PLAYER,T.Z.Code.EXIT_PICTURE_IN_PICTURE_FAILED,e)))}}},{key:"isPictureInPictureSupported",value:function(){return"function"==typeof this._el.webkitSupportsPresentationMode?this._el.webkitSupportsPresentationMode("picture-in-picture"):!!document.pictureInPictureEnabled}},{key:"getThumbnail",value:function(e){return this._mediaSourceAdapter?this._mediaSourceAdapter.getThumbnail(e):null}},{key:"src",get:function(){return this._mediaSourceAdapter?this._mediaSourceAdapter.src:""},set:function(e){this._mediaSourceAdapter&&(this._mediaSourceAdapter.src=e)}},{key:"currentTime",get:function(){return this._el?this._el.currentTime:0},set:function(e){this._el&&(this._el.currentTime=e)}},{key:"duration",get:function(){return this._el.duration}},{key:"liveDuration",get:function(){return this._mediaSourceAdapter?this._mediaSourceAdapter.liveDuration:-1}},{key:"volume",get:function(){return this._el.volume},set:function(e){this._el.volume=e}},{key:"paused",get:function(){return this._el.paused}},{key:"seeking",get:function(){return this._el.seeking}},{key:"seekable",get:function(){return this._el.seekable}},{key:"played",get:function(){return this._el.played}},{key:"buffered",get:function(){return this._el.buffered}},{key:"muted",get:function(){return this._el.muted},set:function(e){this._el.muted=e}},{key:"defaultMuted",get:function(){return this._el.defaultMuted}},{key:"poster",get:function(){return this._el.poster},set:function(e){this._el.poster=e}},{key:"preload",get:function(){return this._el.preload},set:function(e){this._el.preload=e}},{key:"autoplay",get:function(){return this._el.autoplay},set:function(e){this._el.autoplay=e}},{key:"loop",get:function(){return this._el.loop},set:function(e){this._el.loop=e}},{key:"controls",get:function(){return this._el.controls},set:function(e){this._el.controls=e}},{key:"playbackRate",get:function(){return this._el.playbackRate},set:function(e){this._el.playbackRate=e}},{key:"defaultPlaybackRate",get:function(){return this._el.defaultPlaybackRate},set:function(e){this._el.defaultPlaybackRate=e}},{key:"ended",get:function(){return this._el.ended}},{key:"error",get:function(){return this._el.error}},{key:"networkState",get:function(){return this._el.networkState}},{key:"readyState",get:function(){return this._el.readyState}},{key:"videoHeight",get:function(){return this._el.videoHeight}},{key:"videoWidth",get:function(){return this._el.videoWidth}},{key:"playsinline",get:function(){return""===this._el.getAttribute("playsinline")},set:function(e){e?this._el.setAttribute("playsinline",""):this._el.removeAttribute("playsinline")}},{key:"crossOrigin",get:function(){return this._el.getAttribute("crossorigin")},set:function(e){"string"==typeof e?this._el.setAttribute("crossorigin",e):this._el.removeAttribute("crossorigin")}},{key:"playbackRates",get:function(){return s.PLAYBACK_RATES}},{key:"isInPictureInPicture",get:function(){return!!document.pictureInPictureElement&&null!==document.pictureInPictureElement&&this._el===document.pictureInPictureElement||!!this._el.webkitPresentationMode&&"picture-in-picture"===this._el.webkitPresentationMode}},{key:"_init",value:function(e,t){this._config=t,this._reset=!1,this._loadMediaSourceAdapter(e),this.attach()}},{key:"_createVideoElement",value:function(e){this._el=s.videoElementStore[e]||b.is.createElement("video"),this._el.id=b.RO.uniqueId(5),this._el.controls=!1}},{key:"_loadMediaSourceAdapter",value:function(e){this._mediaSourceAdapter=g.Z.getMediaSourceAdapter(this.getVideoElement(),e,this._config),this._mediaSourceAdapter&&(this._droppedFramesWatcher=new A(this._mediaSourceAdapter,this._config.abr,this._el),this._cachedUrls.length&&(this._mediaSourceAdapter.setCachedUrls(this._cachedUrls),this._cachedUrls=[]))}},{key:"_addCueChangeListener",value:function(){var e=this,t=Array.from(this._el.textTracks).find((function(e){return v.PZ.isNativeTextTrack(e)&&e.mode!==v.PZ.MODE.DISABLED}));t&&this._eventManager.listen(t,"cuechange",(function(t){return e._onCueChange(t)}))}},{key:"_removeCueChangeListeners",value:function(){var e=this;Array.from(this._el.textTracks).filter((function(e){return!v.PZ.isMetaDataTrack(e)})).forEach((function(t){e._eventManager.unlisten(t,"cuechange")}))}},{key:"_onCueChange",value:function(e){var t=e.currentTarget.activeCues,n=(0,v.z6)(t);this.dispatchEvent(new f.v(y.nQ.TEXT_CUE_CHANGED,{cues:n}))}},{key:"resetAllCues",value:function(){var e=Array.from(this._el.textTracks).find((function(e){return v.PZ.isNativeTextTrack(e)&&e.mode!==v.PZ.MODE.DISABLED}));if(e)for(var t=0;t<e.cues.length;t++)e.cues[t].hasBeenReset=!0}},{key:"_handleVideoError",value:function(){if(this._el.error){var e=this._el.error.code;if(e!==MediaError.MEDIA_ERR_ABORTED){var t=this._getMsExtendedError(),n=this._el.error.message;if(this._mediaSourceAdapter&&!this._mediaSourceAdapter.handleMediaError(this._el.error)){var r=new T.Z(T.Z.Severity.CRITICAL,T.Z.Category.MEDIA,T.Z.Code.VIDEO_ERROR,{code:e,extended:t,message:n});this.dispatchEvent(new f.v(y.Rk.ERROR,r))}}}}},{key:"_handleWaiting",value:function(){var e=this,t=!1;this._eventManager.listenOnce(this._el,y.Rk.PLAYING,(function(){return t=!0})),setTimeout((function(){t||e.dispatchEvent(new f.v(y.Rk.WAITING))}),200)}},{key:"_getMsExtendedError",value:function(){var e=this._el.error.msExtendedCode;return e&&(e<0&&(e+=Math.pow(2,32)),e=e.toString(16)),e}},{key:"_handleMetadataTrackEvents",value:function(){var e=this,t=function(t){t.mode=v.PZ.MODE.HIDDEN,e._eventManager.listen(t,"cuechange",(function(){var t=[];Array.from(e._el.textTracks).forEach((function(e){v.PZ.isMetaDataTrack(e)&&(t=t.concat((0,v.z6)(e.activeCues)))})),t=t.sort((function(e,t){return e.startTime-t.startTime})),e.dispatchEvent(new f.v(y.nQ.TIMED_METADATA,{cues:t})),e.dispatchEvent(new f.v(y.nQ.TIMED_METADATA_CHANGE,{cues:t.map((function(e){return(0,m.cP)(e)}))}))}))};Array.from(this._el.textTracks).forEach((function(e){v.PZ.isMetaDataTrack(e)&&t(e)})),this._eventManager.listen(this._el.textTracks,"addtrack",(function(e){v.PZ.isMetaDataTrack(e.track)&&t(e.track)})),this._eventManager.listen(this._el.textTracks,"change",(function(){Array.from(e._el.textTracks).forEach((function(e){v.PZ.isMetaDataTrack(e)&&e.mode!==v.PZ.MODE.HIDDEN&&(e.mode=v.PZ.MODE.HIDDEN)}))}))}},{key:"targetBuffer",get:function(){return this._mediaSourceAdapter?this._mediaSourceAdapter.targetBuffer:NaN}},{key:"availableBuffer",get:function(){var e=0;if(this.buffered)for(var t=0;t<this.buffered.length;t++)this.buffered.start(t)<=this._el.currentTime&&this._el.currentTime<=this.buffered.end(t)&&(e=this.buffered.end(t)-this._el.currentTime);return e}},{key:"addTextTrack",value:function(e,t,n){return this._el.addTextTrack(e,t,n)}},{key:"getNativeTextTracks",value:function(){return Array.from(this._el.textTracks)}},{key:"getDrmInfo",value:function(){return this._mediaSourceAdapter?this._mediaSourceAdapter.getDrmInfo():null}},{key:"setCachedUrls",value:function(e){this._cachedUrls=e,this._mediaSourceAdapter&&(this._mediaSourceAdapter.setCachedUrls(e),this._cachedUrls=[])}}],[{key:"isSupported",value:function(){try{var e=b.is.createElement("video");return e.volume=.5,!!e.canPlayType}catch(e){return!1}}},{key:"createEngine",value:function(e,t,n){return new this(e,t,n)}},{key:"canPlaySource",value:function(e,t,n){return g.Z.canPlaySource(e,t,n)}},{key:"runCapabilities",value:function(){s._capabilities.forEach((function(e){return e.runCapability()}))}},{key:"getCapabilities",value:function(){var e=[];return s._capabilities.forEach((function(t){return e.push(t.getCapability())})),Promise.all(e).then((function(e){var t={};return e.forEach((function(e){return Object.assign(t,e)})),(0,o.Z)({},s.id,t)}))}},{key:"setCapabilities",value:function(e){s._capabilities.forEach((function(t){return t.setCapabilities(e)}))}},{key:"prepareVideoElement",value:function(e){if(!s.videoElementStore[e]){s._logger.debug("Create the video element for playing ".concat(e));var t=b.is.createElement("video");s.videoElementStore[e]=t}s._logger.debug("Prepare the video element for playing ".concat(e)),s.videoElementStore[e].load()}}]),s}(p.H);(0,o.Z)(w,"_logger",(0,s.ZP)("Html5")),(0,o.Z)(w,"_capabilities",[E]),(0,o.Z)(w,"id","html5"),(0,o.Z)(w,"videoElementStore",{}),(0,o.Z)(w,"PLAYBACK_RATES",[.5,1,1.5,2]);var C=function(){function e(){(0,i.Z)(this,e)}return(0,a.Z)(e,null,[{key:"register",value:function(t,n){t&&!e._engineProviders[t]?(e._logger.debug("Engine <".concat(t,"> has been registered successfully")),e._engineProviders[t]=n):e._logger.debug("Engine <".concat(t,"> is already registered, do not register again"))}},{key:"unRegister",value:function(t){e._engineProviders[t]&&(e._logger.debug("Unregistered <".concat(t,"> Engine")),delete e._engineProviders[t])}},{key:"getEngines",value:function(){return Object.keys(e._engineProviders).map((function(t){return e._engineProviders[t]}))}},{key:"destroy",value:function(){e._engineProviders={}}}]),e}();(0,o.Z)(C,"_logger",(0,s.ZP)("EngineProvider")),(0,o.Z)(C,"_engineProviders",{}),w.isSupported()&&C.register(w.id,w);var x=C.register,P=C.unRegister},488:function(e,t,n){"use strict";n.d(t,{r:function(){return r}});var r={HTML5:"html5",FLASH:"flash",SILVERLIGHT:"silverlight",CAST:"cast",YOUTUBE:"youtube",IMAGE:"image",DOCUMENT:"document"}},6145:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var r={ANONYMOUS:"anonymous",USE_CREDENTIALS:"use-credentials"}},4651:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r,i=n(5671),a=n(3144),o=n(7326),s=n(9340),l=n(2963),u=n(1120),c=n(4942),d=n(8987),p=n(8171),f=n(962),h=n(2114),y=n(4358),g=n(4877),v=n(7812),m=n(6462),b=n(4270),k=n(2983),E=function(e){(0,s.Z)(p,e);var t,n,r=(t=p,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,u.Z)(t);if(n){var i=(0,u.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function p(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,i.Z)(this,p),n=r.call(this),(0,c.Z)((0,o.Z)(n),"_capabilities",{fpsControl:!1}),n._videoElement=e,n._sourceObj=t,n._config=a,n._onDurationChanged=function(){n.isLive()&&n._videoElement.paused&&n._trigger(h.Rk.TIME_UPDATE)},n._eventManager=new b.Q,n._handleLiveTimeUpdate(),n}return(0,a.Z)(p,[{key:"destroy",value:function(){return this._sourceObj=void 0,this._config={},this.disableNativeTextTracks(),this._videoElement.removeEventListener(h.Rk.DURATION_CHANGE,this._onDurationChanged),this._eventManager.destroy(),Promise.resolve()}},{key:"_onTrackChanged",value:function(e){e instanceof g.Z?(p._logger.debug("Video track changed",e),this._trigger(h.nQ.VIDEO_TRACK_CHANGED,{selectedVideoTrack:e})):e instanceof v.ZP?(p._logger.debug("Audio track changed",e),this._trigger(h.nQ.AUDIO_TRACK_CHANGED,{selectedAudioTrack:e})):e instanceof m.ZP?(p._logger.debug("Text track changed",e),this._trigger(h.nQ.TEXT_TRACK_CHANGED,{selectedTextTrack:e})):e instanceof k.Z&&(p._logger.debug("Image track changed",e),this._trigger(h.nQ.IMAGE_TRACK_CHANGED,{selectedImageTrack:e}))}},{key:"_trigger",value:function(e,t){this.dispatchEvent(new d.v(e,t))}},{key:"applyTextTrackStyles",value:function(e,t,n,r){return p._throwNotImplementedError("applyTextTrackStyles")}},{key:"load",value:function(){return p._throwNotImplementedError("load")}},{key:"selectVideoTrack",value:function(e){return p._throwNotImplementedError("selectVideoTrack")}},{key:"selectAudioTrack",value:function(e){p._throwNotImplementedError("selectAudioTrack")}},{key:"selectTextTrack",value:function(e){p._throwNotImplementedError("selectTextTrack")}},{key:"selectImageTrack",value:function(e){}},{key:"hideTextTrack",value:function(){p._throwNotImplementedError("hideTextTrack")}},{key:"enableAdaptiveBitrate",value:function(){p._throwNotImplementedError("enableAdaptiveBitrate")}},{key:"isAdaptiveBitrateEnabled",value:function(){return p._throwNotImplementedError("isAdaptiveBitrateEnabled")}},{key:"applyABRRestriction",value:function(e){return p._throwNotImplementedError("applyABRRestriction")}},{key:"_getLiveEdge",value:function(){return p._throwNotImplementedError("_getLiveEdge")}},{key:"seekToLiveEdge",value:function(){p._throwNotImplementedError("seekToLiveEdge")}},{key:"isLive",value:function(){return p._throwNotImplementedError("isLive")}},{key:"isOnLiveEdge",value:function(){return 0===this.getSegmentDuration()||this.liveDuration-this._videoElement.currentTime<=2*this.getSegmentDuration()}},{key:"setMaxBitrate",value:function(e){}},{key:"attachMediaSource",value:function(){}},{key:"detachMediaSource",value:function(){}},{key:"_handleLiveTimeUpdate",value:function(){this._videoElement.addEventListener(h.Rk.DURATION_CHANGE,this._onDurationChanged)}},{key:"disableNativeTextTracks",value:function(){Array.from(this._videoElement.textTracks).forEach((function(e){m.ZP.isNativeTextTrack(e)&&!m.ZP.isExternalTrack(e)&&(e.mode=m.ZP.MODE.DISABLED)}))}},{key:"handleMediaError",value:function(e){return!1}},{key:"getStartTimeOfDvrWindow",value:function(){return p._throwNotImplementedError("getStartTimeOfDvrWindow")}},{key:"getThumbnail",value:function(e){return null}},{key:"getSegmentDuration",value:function(){return p._throwNotImplementedError("getSegmentDuration")}},{key:"liveDuration",get:function(){return p._throwNotImplementedError("liveDuration")}},{key:"src",get:function(){return this._loadPromise&&this._sourceObj?this._sourceObj.url:""},set:function(e){!this._loadPromise&&this._sourceObj&&(this._sourceObj.url=e)}},{key:"capabilities",get:function(){return this._capabilities}},{key:"targetBuffer",get:function(){return NaN}},{key:"getDrmInfo",value:function(){return null}},{key:"setCachedUrls",value:function(e){}}],[{key:"isSupported",value:function(){return!0}},{key:"isMSESupported",value:function(){var e=window.MediaSource||window.WebKitMediaSource;return!!e&&"function"==typeof e.isTypeSupported}},{key:"canPlayType",value:function(e,t){return p._throwNotImplementedError("static canPlayType")}},{key:"_throwNotImplementedError",value:function(e){throw new f.Z(f.Z.Severity.CRITICAL,f.Z.Category.PLAYER,f.Z.Code.RUNTIME_ERROR_METHOD_NOT_IMPLEMENTED,e)}}]),p}(p.H);r=E,(0,c.Z)(E,"id","BaseAdapter"),(0,c.Z)(E,"getLogger",y.ZP),(0,c.Z)(E,"_logger",r.getLogger(r.id))},2588:function(e,t,n){"use strict";n.d(t,{Z:function(){return B},L:function(){return F}});var r=n(5671),i=n(3144),a=n(4942),o=n(3433),s=n(7326),l=n(1752),u=n(9340),c=n(2963),d=n(1120),p=n(2114),f=n(4877),h=n(7812),y=n(6462),g=n(6975),v=n(4651);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b,k=n(1177),E=n(4821),T=n(7237),_=n(4358),A=(0,_.ZP)("FairPlay"),S=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,null,[{key:"isConfigured",value:function(e,t){return T.J.FAIRPLAY===t.keySystem&&!!e.find((function(e){return e.scheme===t.keySystem}))}},{key:"canPlayDrm",value:function(e){var t=e.some((function(e){return e.scheme===T.J.FAIRPLAY}))&&!!window.WebKitMediaKeys;return A.debug("Can play DRM scheme of: ".concat(T.J.FAIRPLAY," is ").concat(t.toString())),t}},{key:"setDrmPlayback",value:function(e,t){A.debug("Sets drm playback");var n=t.find((function(e){return e.scheme===T.J.FAIRPLAY}));n&&(e.licenseUrl=n.licenseUrl,e.certificate=n.certificate)}}]),e}(),w=n(2069),C=n(962),x=JSON.parse('{"heartbeatTimeout":30000}'),P=n(9439),R=n(4270),I="com.apple.fps.1_0",D={NEED_KEY:"webkitneedkey",KEY_MESSAGE:"webkitkeymessage",KEY_ADDED:"webkitkeyadded",KEY_ERROR:"webkitkeyerror"},O=function(){function e(t,n,i,o){var s=this;(0,r.Z)(this,e),(0,a.Z)(this,"_logger",(0,_.ZP)("FairPlayDrmHandler")),(0,a.Z)(this,"_retryLicenseRequest",4),(0,a.Z)(this,"_defaultConfig",{licenseUrl:"",certificate:"",network:{responseFilter:function(t,n){var r={};try{var i=new DataView(n.data),a=(new TextDecoder).decode(i).trim();r=JSON.parse(a)}catch(e){return void s._onError(C.Z.Code.BAD_FAIRPLAY_RESPONSE,{error:e,responseText:n.data})}var o=e._validateResponse(r);o.valid?n.data=e._base64DecodeUint8Array(r.ckc):s._onError(C.Z.Code.BAD_FAIRPLAY_RESPONSE,o)}}}),this._config=E.c7.mergeDeep({},this._defaultConfig,n),this._errorCallback=i,this._drmResponseCallback=o,this._videoElement=t,this._onWebkitNeedKeyHandler=function(e){return s._onWebkitNeedKey(e)},this._eventManager=new R.Q,this._eventManager.listen(this._videoElement,D.NEED_KEY,this._onWebkitNeedKeyHandler)}return(0,i.Z)(e,[{key:"_onWebkitNeedKey",value:function(t){var n=this;this._logger.debug("Webkit need key triggered");var r=t.target,i=t.initData,a=e._extractContentId(i,!!this._config.useKIDHeader),o=e._base64DecodeUint8Array(this._config.certificate);if(i=e._concatInitDataIdAndCertificate(i,a,o),!r.webkitKeys){var s=this._selectKeySystem();this._logger.debug("Sets media keys"),r.webkitSetMediaKeys(new WebKitMediaKeys(s))}r.webkitKeys||this._onError(C.Z.Code.COULD_NOT_CREATE_MEDIA_KEYS),this._logger.debug("Creates session"),this._keySession=r.webkitKeys.createSession("video/mp4",i),this._keySession||this._onError(C.Z.Code.COULD_NOT_CREATE_KEY_SESSION),this._keySession.contentId=a,this._eventManager.listen(this._keySession,D.KEY_MESSAGE,(function(e){return n._onWebkitKeyMessage(e)})),this._eventManager.listen(this._keySession,D.KEY_ADDED,(function(){return n._onWebkitKeyAdded()})),this._eventManager.listen(this._keySession,D.KEY_ERROR,(function(e){return n._onWebkitKeyError(e)}))}},{key:"getDrmInfo",value:function(){var e=this._config;return{certificate:e.certificate,licenseUrl:e.licenseUrl,scheme:T.J.FAIRPLAY}}},{key:"destroy",value:function(){this._eventManager.destroy(),this._keySession.close(),this._keySession=null}},{key:"_onWebkitKeyMessage",value:function(t){var n=this;this._logger.debug("Webkit key message triggered");var r=t.message,i=t.target,a=null==i?void 0:i.contentId,o=null!=a?btoa(a):"",s=new XMLHttpRequest;s.responseType="arraybuffer",this._eventManager.listenOnce(s,"load",(function(e){return n._licenseRequestLoaded(e)}));var l,u={url:this._config.licenseUrl,body:e._base64EncodeUint8Array(r),headers:this._config.useKIDHeader?{"X-Kaltura-InitData":o}:{}},c=this._config.network.requestFilter;if(c){this._logger.debug("Apply request filter");try{l=c(g.x.LICENSE,u)}catch(e){l=Promise.reject(e)}}(l=l||Promise.resolve(u)).then((function(e){s.open("POST",e.url,!0);var t=!0;e.headers&&Object.entries(e.headers).forEach((function(e){var n=(0,P.Z)(e,2),r=n[0],i=n[1];"string"==typeof i&&s.setRequestHeader(r,i),t&&(t="content-type"!==r.toLowerCase())})),"boolean"==typeof e.withCredentials&&(s.withCredentials=e.withCredentials),t&&s.setRequestHeader("Content-type","application/json"),n._logger.debug("Ready for license request"),s.onerror=function(){n._onError(C.Z.Code.LICENSE_REQUEST_FAILED,{status:s.status,responseText:s.responseText})},n._licenseRequestTime=Date.now(),s.send(e.body)})).catch((function(e){n._errorCallback(new C.Z(C.Z.Severity.CRITICAL,C.Z.Category.NETWORK,C.Z.Code.REQUEST_FILTER_ERROR,e)),n.destroy()}))}},{key:"_onWebkitKeyAdded",value:function(){this._logger.debug("Decryption key was added to session")}},{key:"_onWebkitKeyError",value:function(e){this._logger.error("A decryption key error was encountered",e),this._retryLicenseRequest<=0&&this._onError(C.Z.Code.LICENSE_REQUEST_FAILED,e.target.error),this._retryLicenseRequest--}},{key:"_licenseRequestLoaded",value:function(e){var t=this;this._logger.debug("License request loaded");var n=e.target;if(n.status>299)this._onError(C.Z.Code.LICENSE_REQUEST_FAILED,{status:n.status,error:n.responseText});else{if(this._drmResponseCallback){var r=Date.now()-this._licenseRequestTime;this._drmResponseCallback({licenseTime:r/1e3,scheme:T.J.FAIRPLAY})}var i,a=n.responseURL,o=n.response,s={url:a,originalUrl:this._config.licenseUrl,data:o,headers:E.eV.convertHeadersToDictionary(n.getAllResponseHeaders())};this._logger.debug("Apply response filter");try{i=this._config.network.responseFilter(g.x.LICENSE,s)}catch(e){i=Promise.reject(e)}(i=i||Promise.resolve(s)).then((function(e){t._keySession.update(e.data)})).catch((function(e){t._errorCallback(new C.Z(C.Z.Severity.CRITICAL,C.Z.Category.NETWORK,C.Z.Code.RESPONSE_FILTER_ERROR,e)),t.destroy()}))}}},{key:"_onError",value:function(e,t){this._errorCallback(new C.Z(C.Z.Severity.CRITICAL,C.Z.Category.DRM,e,t))}},{key:"_selectKeySystem",value:function(){var e=null;return WebKitMediaKeys.isTypeSupported(I,"video/mp4")?e=I:this._logger.warn("Key System not supported"),e}}],[{key:"_validateResponse",value:function(e){return e.message&&e.message.indexOf("error")>0||null===e.reference||500===e.status_code?{valid:!1,details:"internal server error"}:""===e.ckc?{valid:!1,details:"ckc is missing"}:{valid:!0}}},{key:"_extractContentId",value:function(t,n){if(n){var r=e._arrayToString(t);return r.slice(r.lastIndexOf("skd://")+6,r.length)}var i=document.createElement("a");return i.href=e._arrayToString(t),i.hostname}},{key:"_arrayToString",value:function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))}},{key:"_base64DecodeUint8Array",value:function(e){for(var t=window.atob(e),n=t.length,r=new Uint8Array(new ArrayBuffer(n)),i=0;i<n;i++)r[i]=t.charCodeAt(i);return r}},{key:"_concatInitDataIdAndCertificate",value:function(t,n,r){"string"==typeof n&&(n=e._stringToArray(n));var i=0,a=new ArrayBuffer(t.byteLength+4+n.byteLength+4+r.byteLength),o=new DataView(a);new Uint8Array(a,i,t.byteLength).set(t),i+=t.byteLength,o.setUint32(i,n.byteLength,!0),i+=4;var s=new Uint8Array(a,i,n.byteLength);return s.set(n),i+=s.byteLength,o.setUint32(i,r.byteLength,!0),i+=4,new Uint8Array(a,i,r.byteLength).set(r),new Uint8Array(a,0,a.byteLength)}},{key:"_stringToArray",value:function(e){for(var t=new ArrayBuffer(2*e.length),n=new Uint16Array(t),r=0,i=e.length;r<i;r++)n[r]=e.charCodeAt(r);return n}},{key:"_base64EncodeUint8Array",value:function(e){for(var t,n,r,i,a,o,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",c=0;c<e.length;)i=(t=e[c++])>>2,a=(3&t)<<4|(n=c<e.length?e[c++]:Number.NaN)>>4,o=(15&n)<<2|(r=c<e.length?e[c++]:Number.NaN)>>6,s=63&r,isNaN(n)?o=s=64:isNaN(r)&&(s=64),u+=l.charAt(i)+l.charAt(a)+l.charAt(o)+l.charAt(s);return u}}]),e}();function L(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(0,a.Z)(O,"WebkitEvents",D),O.WebkitEvents=D;var N="playkit-native-text",U=function(e){(0,u.Z)(b,e);var t,n,v=(t=b,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,d.Z)(t);if(n){var i=(0,d.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,c.Z)(this,e)});function b(e,t,n){var i;return(0,r.Z)(this,b),i=v.call(this,e,t,n),(0,a.Z)((0,s.Z)(i),"_lastTimeUpdate",0),(0,a.Z)((0,s.Z)(i),"_waitingEventTriggered",!1),(0,a.Z)((0,s.Z)(i),"_segmentDuration",0),(0,a.Z)((0,s.Z)(i),"_startTimeOfDvrWindow",0),(0,a.Z)((0,s.Z)(i),"_mediaErrorRecoveryAttempts",0),(0,a.Z)((0,s.Z)(i),"_lastTimeDetach",NaN),(0,a.Z)((0,s.Z)(i),"_startTimeAttach",NaN),(0,a.Z)((0,s.Z)(i),"_nativeTextTracksMap",{}),(0,a.Z)((0,s.Z)(i),"_captionsHidden",!1),b._logger.debug("Creating adapter"),i._config=E.c7.mergeDeep({},x,i._config),i._progressiveSources=n.progressiveSources,i._liveEdge=0,i._setStarTimeOfDvrWindowInterval(),i}return(0,i.Z)(b,[{key:"_dispatchErrorCallback",value:function(e){this._trigger(p.Rk.ERROR,e)}},{key:"_dispatchDRMLicenseLoaded",value:function(e){this._trigger(p.nQ.DRM_LICENSE_LOADED,e)}},{key:"_maybeSetDrmPlayback",value:function(){var e=this;if(b._drmProtocol&&this._sourceObj&&this._sourceObj.drmData){var t={licenseUrl:"",certificate:"",network:this._config.network,useKIDHeader:!!this._config.useKIDHeader};b._drmProtocol.setDrmPlayback(t,this._sourceObj.drmData),this._drmHandler=new O(this._videoElement,t,(function(t){return e._dispatchErrorCallback(t)}),(function(t){return e._dispatchDRMLicenseLoaded(t)}))}}},{key:"_setProgressiveSource",value:function(){var e=function(e,t,n){var r=null;if(n&&e){var i,a=[],o=1/0,s=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(e);try{for(s.s();!(i=s.n()).done;){var l=i.value,u=Math.abs(l.width-t);u<o?(o=u,a=[l]):u===o&&a.push(l)}}catch(e){s.e(e)}finally{s.f()}for(var c=t/n,d=a,p=1/0,f=0,h=a;f<h.length;f++){var y=h[f];if(y.height){var g=Math.abs(y.width/y.height-c);g<p?(p=g,d=[y]):g===p&&d.push(y)}}for(var v=0,b=0,k=d;b<k.length;b++){var E=k[b];(E.bandwidth>v||!E.bandwidth)&&(v=E.bandwidth||v,r=E)}}return r}(this._progressiveSources,this._videoElement.offsetWidth,this._videoElement.offsetHeight);e&&(this._sourceObj=e)}},{key:"_isProgressivePlayback",value:function(){return!!this._sourceObj&&b._progressiveMimeTypes.includes(this._sourceObj.mimetype.toLowerCase())}},{key:"load",value:function(e){var t=this;return this._maybeSetDrmPlayback(),this._loadPromise||(this._loadPromise=new Promise((function(n,r){t._lastTimeUpdate=e||0;var i="number"==typeof e?e:-1,a=t._startTimeAttach||i;t._loadPromiseReject=r,t._eventManager.listenOnce(t._videoElement,p.Rk.LOADED_DATA,(function(){return t._onLoadedData(n,a)})),t._eventManager.listenOnce(t._videoElement,p.Rk.PLAYING,(function(){return t._onPlaying(a)})),t._eventManager.listen(t._videoElement,p.Rk.TIME_UPDATE,(function(){return t._onTimeUpdate()})),t._eventManager.listen(t._videoElement,p.Rk.PLAY,(function(){return t._resetHeartbeatTimeout()})),t._eventManager.listen(t._videoElement,p.Rk.PAUSE,(function(){return t._clearHeartbeatTimeout()})),t._eventManager.listen(t._videoElement,p.Rk.ENDED,(function(){return t._clearHeartbeatTimeout()})),t._eventManager.listen(t._videoElement,p.Rk.ABORT,(function(){return t._clearHeartbeatTimeout()})),t._eventManager.listen(t._videoElement,p.Rk.SEEKED,(function(){return t._syncCurrentTime()})),t._eventManager.listen(t._videoElement,p.Rk.WAITING,(function(){return t._waitingEventTriggered=!0})),t._eventManager.listen(t._videoElement,p.Rk.PLAYING,(function(){return t._waitingEventTriggered=!1})),t._eventManager.listen(window,"focus",(function(){setTimeout((function(){w.Z.isIOS&&(t._videoElement.currentTime=t._videoElement.currentTime>.1?t._videoElement.currentTime-.1:0),t._syncCurrentTime()}),1e3)})),t._isProgressivePlayback()&&t._setProgressiveSource(),t._sourceObj&&t._sourceObj.url?t._setSrc().then((function(){t._trigger(p.nQ.ABR_MODE_CHANGED,{mode:t._isProgressivePlayback()?"manual":"auto"}),t._videoElement.load()})):t._videoElement.load()}))),this._loadPromise}},{key:"_handleDecodeError",value:function(e){var t=this;b._logger.debug("handleDecodeError",e);var n=this._videoElement.currentTime,r=this._getActivePKAudioTrack(),i=this._getActivePKTextTrack();this._videoElement.load(),this._eventManager.listenOnce(this._videoElement,p.Rk.PLAYING,(function(){t._mediaErrorRecoveryAttempts=0})),this._eventManager.listenOnce(this._videoElement,p.Rk.CAN_PLAY,(function(){b._logger.debug("CAN_PLAY"),t._videoElement.currentTime=n,t._videoElement.play(),t._videoElement.pause(),r&&t.selectAudioTrack(r),i?t.selectTextTrack(i):t.disableNativeTextTracks()}))}},{key:"handleMediaError",value:function(e){return this._loadPromiseReject?(this._loadPromiseReject(new C.Z(C.Z.Severity.CRITICAL,C.Z.Category.MEDIA,C.Z.Code.NATIVE_ADAPTER_LOAD_FAILED,e)),!0):!!(e&&e.code===MediaError.MEDIA_ERR_DECODE&&(this._mediaErrorRecoveryAttempts++,this._mediaErrorRecoveryAttempts<=3))&&(this._handleDecodeError(e),!0)}},{key:"attachMediaSource",value:function(){this._startTimeAttach=this._lastTimeDetach,this._lastTimeDetach=NaN}},{key:"detachMediaSource",value:function(){this._lastTimeDetach=this._videoElement.currentTime,this._videoElement&&this._videoElement.src&&(E.is.setAttribute(this._videoElement,"src",""),E.is.removeAttribute(this._videoElement,"src")),this._loadPromise=void 0}},{key:"_setSrc",value:function(){var e,t=this,n={url:this._sourceObj?this._sourceObj.url:"",body:null,headers:{}};if("function"==typeof E.c7.getPropertyPath(this._config,"network.requestFilter"))try{b._logger.debug("Apply request filter"),e=this._config.network.requestFilter(g.x.MANIFEST,n)}catch(t){e=Promise.reject(t)}return(e=e||Promise.resolve(n)).then((function(e){if(t._config.useSourceTag){var n,r=document.createElement("source"),i=(null===(n=t._sourceObj)||void 0===n?void 0:n.mimetype.toLowerCase())||"";if(r.setAttribute("src",e.url),r.setAttribute("type",i),t._config.useMediaOptionAttribute){var a={};if(t._config.mediaOptionAttribute&&(a=t._config.mediaOptionAttribute),t._config.abrEwmaDefaultEstimate){var o={start:t._config.abrEwmaDefaultEstimate};E.c7.createPropertyPath(a,"option.adaptiveStreaming.bps",o)}b._logger.debug("Setting mediaOption -",a);var s=encodeURI(JSON.stringify(a));r.setAttribute("type",i+";mediaOption="+s)}t._videoElement.appendChild(r)}else t._videoElement.src=e.url})).catch((function(e){t._trigger(p.Rk.ERROR,new C.Z(C.Z.Severity.CRITICAL,C.Z.Category.NETWORK,C.Z.Code.REQUEST_FILTER_ERROR,e))})),e}},{key:"_onPlaying",value:function(e){this.isLive()&&this._setStartTime(e)}},{key:"_onLoadedData",value:function(e,t){var n=this,r=function(){n._playerTracks=n._getParsedTracks(),n._addNativeAudioTrackChangeListener(),n._addNativeTextTrackChangeListener(),n._addNativeTextTrackAddedListener(),b._logger.debug("The source has been loaded successfully"),n._loadPromiseReject=void 0,e({tracks:n._playerTracks}),n.isLive()&&n._handleLiveDurationChange()};void 0!==t&&t>-1&&(this._videoElement.currentTime=t),this._videoElement.textTracks.length>0?r():this._eventManager.listenOnce(this._videoElement,p.Rk.CAN_PLAY,r.bind(this)),this._startTimeAttach=NaN}},{key:"_setStartTime",value:function(e){"number"==typeof e&&e>-1&&(this._videoElement.currentTime=e)}},{key:"_onTimeUpdate",value:function(){this._videoElement.paused||(this._videoElement.currentTime>this._lastTimeUpdate?(this._waitingEventTriggered&&(this._waitingEventTriggered=!1,this._trigger(p.Rk.PLAYING)),this._resetHeartbeatTimeout()):this._videoElement.currentTime<this._lastTimeUpdate?this._syncCurrentTime():(this._waitingEventTriggered=!0,this._trigger(p.Rk.WAITING))),this._handleVideoTracksChange()}},{key:"_syncCurrentTime",value:function(){this._lastTimeUpdate=this._videoElement.currentTime}},{key:"_resetHeartbeatTimeout",value:function(){var e=this;this._lastTimeUpdate=this._videoElement.currentTime,this._clearHeartbeatTimeout(),this._heartbeatTimeoutId=setTimeout((function(){e._clearHeartbeatTimeout(),e._trigger(p.Rk.ERROR,new C.Z(C.Z.Severity.CRITICAL,C.Z.Category.NETWORK,C.Z.Code.TIMEOUT,"The player exceeded max buffer time of ".concat(e._config.heartbeatTimeout," ms. No progress has been done during this time.")))}),this._config.heartbeatTimeout)}},{key:"_clearHeartbeatTimeout",value:function(){this._heartbeatTimeoutId&&(clearTimeout(this._heartbeatTimeoutId),this._heartbeatTimeoutId=void 0)}},{key:"_handleVideoTracksChange",value:function(){if(!this._isProgressivePlayback()){var e=this._videoElement,t=e.videoHeight,n=e.videoWidth,r=e.videoTracks;if(!this._videoDimensions||t!==this._videoDimensions.videoHeight||n!==this._videoDimensions.videoWidth){this._videoDimensions={videoHeight:t,videoWidth:n};var i={language:"",height:t,width:n,active:!0,index:Array.from(r).findIndex((function(e){return e.selected}))};this._onTrackChanged(new f.Z(i))}}}},{key:"destroy",value:function(){var e=this;return b._logger.debug("destroy"),new Promise((function(t,n){e._maybeRemoveSourceTag(),(0,l.Z)((0,d.Z)(b.prototype),"destroy",e).call(e).then((function(){e._videoElement.classList.remove(N),e._drmHandler&&e._drmHandler.destroy(),e._waitingEventTriggered=!1,e._progressiveSources=[],e._loadPromise=void 0,e._nativeTextTracksMap={},e._loadPromiseReject=void 0,e._liveEdge=0,e._lastTimeUpdate=0,e._lastTimeDetach=NaN,e._startTimeAttach=NaN,e._videoDimensions=void 0,e._clearHeartbeatTimeout(),clearInterval(e._startTimeOfDvrWindowInterval),e._liveDurationChangeInterval&&(clearInterval(e._liveDurationChangeInterval),e._liveDurationChangeInterval=void 0),t()}),(function(){return n}))}))}},{key:"_maybeRemoveSourceTag",value:function(){if(this._config.useSourceTag&&this._videoElement){var e=this._videoElement.firstChild;e&&(e.setAttribute("src",""),e.removeAttribute("src"),this._videoElement.removeChild(e))}}},{key:"_getParsedTracks",value:function(){var e=this._getParsedVideoTracks(),t=this._getParsedAudioTracks(),n=this._getParsedTextTracks();return[].concat((0,o.Z)(e),(0,o.Z)(t),(0,o.Z)(n))}},{key:"_getParsedVideoTracks",value:function(){return this._isProgressivePlayback()?this._getParsedProgressiveVideoTracks():this._getParsedAdaptiveVideoTracks()}},{key:"_getParsedProgressiveVideoTracks",value:function(){var e=this._progressiveSources,t=[];if(e)for(var n=0;n<e.length;n++){var r={id:e[n].id,bandwidth:e[n].bandwidth,width:e[n].width,height:e[n].height,active:!!this._sourceObj&&e[n].id===this._sourceObj.id,index:n};t.push(new f.Z(r))}return t}},{key:"_getParsedAdaptiveVideoTracks",value:function(){var e=this._videoElement.videoTracks,t=[];if(e)for(var n=0;n<e.length;n++){var r={id:e[n].id,active:e[n].selected,label:e[n].label,language:e[n].language,index:n};t.push(new f.Z(r))}return t}},{key:"_getParsedAudioTracks",value:function(){var e=this._videoElement.audioTracks,t=[];if(e)for(var n=0;n<e.length;n++){var r={id:e[n].id,active:e[n].enabled,label:e[n].label,language:e[n].language,index:n,kind:e[n].kind};t.push(new h.ZP(r))}return t}},{key:"_getParsedTextTracks",value:function(){var e=[this._config.captionsTextTrack1Label,this._config.captionsTextTrack2Label],t=[this._config.captionsTextTrack1LanguageCode,this._config.captionsTextTrack2LanguageCode],n=this._videoElement.textTracks,r=[];if(n){for(var i=0;i<n.length;i++)if(!y.ZP.isExternalTrack(n[i])){var a={kind:n[i].kind,active:n[i].mode===y.ZP.MODE.SHOWING,label:n[i].label,language:n[i].language,available:!0};if(a.kind===y.ZP.KIND.SUBTITLES){var o=new y.ZP(a);r.push(o),this._nativeTextTracksMap[o.index]=n[i]}else if(a.kind===y.ZP.KIND.CAPTIONS&&this._config.enableCEA708Captions){a.label=a.label||e.shift(),a.language=a.language||t.shift(),a.available=this._captionsHidden;var s=new y.ZP(a);r.push(s),this._nativeTextTracksMap[s.index]=n[i]}}this._captionsHidden||this._maybeShow708Captions()}return r}},{key:"_maybeShow708Captions",value:function(){var e=this,t=Array.from(this._videoElement.textTracks).filter((function(e){return e.kind===y.ZP.KIND.CAPTIONS})),n=t.find((function(e){return e.mode===y.ZP.MODE.SHOWING||e.mode===y.ZP.MODE.HIDDEN}))||t[0];n&&(n.mode=y.ZP.MODE.HIDDEN,this._captionsHidden=!0,this._eventManager.listenOnce(n,"cuechange",(function(){e._getPKTextTracks().forEach((function(e){return(e.available=!0)&&(e.mode=y.ZP.MODE.DISABLED)})),e._trigger(p.nQ.TRACKS_CHANGED,{tracks:e._playerTracks})})))}},{key:"selectVideoTrack",value:function(e){this._isProgressivePlayback()?this._selectProgressiveVideoTrack(e):this.selectAdaptiveVideoTrack(e)}},{key:"_selectProgressiveVideoTrack",value:function(e){var t=this,n=this._progressiveSources;if(e instanceof f.Z&&n&&n[e.index]){var r=this._videoElement.currentTime,i=this._videoElement.paused;e.active=!0,this._sourceObj=n[e.index],this._eventManager.listenOnce(this._videoElement,p.Rk.LOADED_DATA,(function(){"Android Browser"===w.Z.browser.name?(t._eventManager.listenOnce(t._videoElement,p.Rk.DURATION_CHANGE,(function(){t._videoElement.currentTime=r})),t._eventManager.listenOnce(t._videoElement,p.Rk.SEEKED,(function(){t._onTrackChanged(e),i&&t._videoElement.pause()})),t._videoElement.play()):(t._eventManager.listenOnce(t._videoElement,p.Rk.SEEKED,(function(){t._onTrackChanged(e)})),t._videoElement.currentTime=r,i||t._videoElement.play())})),this._setSrc()}}},{key:"selectAdaptiveVideoTrack",value:function(e){var t=this._videoElement.videoTracks;e instanceof f.Z&&t&&t[e.index]&&(this._disableVideoTracks(),t[e.index].selected=!0,this._onTrackChanged(e))}},{key:"selectAudioTrack",value:function(e){b._logger.debug("selectAudioTrack");var t=this._videoElement.audioTracks;e instanceof h.ZP&&t&&t[e.index]&&(this._removeNativeAudioTrackChangeListener(),this._switchAudioTrack(e.index),this._onTrackChanged(e),this._addNativeAudioTrackChangeListener())}},{key:"_removeNativeAudioTrackChangeListener",value:function(){this._videoElement.audioTracks&&this._eventManager.unlisten(this._videoElement.audioTracks,"change")}},{key:"_addNativeAudioTrackChangeListener",value:function(){var e=this;this._videoElement.audioTracks&&this._eventManager.listen(this._videoElement.audioTracks,"change",(function(){return e._onNativeAudioTrackChange()}))}},{key:"_getPKAudioTracks",value:function(){return this._playerTracks.filter((function(e){return e instanceof h.ZP})).map((function(e){return e}))}},{key:"_getActivePKAudioTrack",value:function(){return this._getPKAudioTracks().find((function(e){return!0===e.active}))}},{key:"_onNativeAudioTrackChange",value:function(){var e=this,t=function(){for(var t=0;t<e._videoElement.audioTracks.length;t++)if(e._videoElement.audioTracks[t].enabled)return t;return-1}(),n=this._getActivePKAudioTrack(),r=n?n.index:-1;if(t!==r){var i=this._getPKAudioTracks().find((function(e){return e.index===t}));i&&(b._logger.debug("Native selection of track, update the player audio track ("+r+" -> "+t+")"),this._onTrackChanged(i))}}},{key:"selectTextTrack",value:function(e){if(e instanceof y.ZP&&y.ZP.isNativeTextTrack(e)){this._removeNativeTextTrackChangeListener();var t=this._nativeTextTracksMap[e.index];t&&(this.disableNativeTextTracks(),t.mode=this._getDisplayTextTrackModeString(),this._onTrackChanged(e),this._addNativeTextTrackChangeListener())}}},{key:"_removeNativeTextTrackChangeListener",value:function(){this._videoElement.textTracks&&this._eventManager.unlisten(this._videoElement.textTracks,"change")}},{key:"_addNativeTextTrackChangeListener",value:function(){var e=this;this._videoElement.textTracks&&this._eventManager.listen(this._videoElement.textTracks,"change",(function(){return e._onNativeTextTrackChange()}))}},{key:"_getPKTextTracks",value:function(){return this._playerTracks.filter((function(e){return e instanceof y.ZP}))}},{key:"_getActivePKTextTrack",value:function(){return this._getPKTextTracks().find((function(e){return!0===e.active}))}},{key:"_onNativeTextTrackChange",value:function(){var e=this,t=this._getPKTextTracks(),n=t.find((function(e){return"off"===e.language})),r=function(){for(var t in e._nativeTextTracksMap)if(e._getDisplayTextTrackModeString()===e._nativeTextTracksMap[t].mode)return Number(t);return-1}(),i=this._getActivePKTextTrack(),a=i?i.index:-1;if(r!==a)if(-1===r)n&&(b._logger.debug("Native selection of track, update the player text track ("+a+" -> off)"),this._onTrackChanged(n));else{var o=t.find((function(e){return e.index===r}));o&&(b._logger.debug("Native selection of track, update the player text track ("+a+" -> "+r+")"),this._onTrackChanged(o))}}},{key:"_getDisplayTextTrackModeString",value:function(){return this._config.displayTextTrack?y.ZP.MODE.SHOWING:y.ZP.MODE.HIDDEN}},{key:"_addNativeTextTrackAddedListener",value:function(){var e=this;!this._config.displayTextTrack&&this._videoElement.textTracks&&this._eventManager.listen(this._videoElement.textTracks,"addtrack",(function(){return e._onNativeTextTrackAdded()}))}},{key:"_onNativeTextTrackAdded",value:function(){this._playerTracks=this._getParsedTracks(),this._trigger(p.nQ.TRACKS_CHANGED,{tracks:this._playerTracks})}},{key:"hideTextTrack",value:function(){this.disableNativeTextTracks()}},{key:"enableAdaptiveBitrate",value:function(){b._logger.warn("Enabling adaptive bitrate is not supported for native playback")}},{key:"isAdaptiveBitrateEnabled",value:function(){return!this._isProgressivePlayback()}},{key:"applyABRRestriction",value:function(e){E.c7.createPropertyPath(this._config,"abr.restrictions",e),this._maybeApplyAbrRestrictions(e)}},{key:"_maybeApplyAbrRestrictions",value:function(e){if(this._isProgressivePlayback()){var t=this._playerTracks.filter((function(e){return e instanceof f.Z})),n=(0,k.u)(t,e);!n.find((function(e){return e.active}))&&n.length?this.selectVideoTrack(n[0]):b._logger.warn("Invalid restrictions, there are not tracks within the restriction range")}}},{key:"_disableVideoTracks",value:function(){var e=this._videoElement.videoTracks;if(e)for(var t=0;t<e.length;t++)e[t].selected=!1}},{key:"_switchAudioTrack",value:function(e){b._logger.debug("_switchAudioTracks");var t=this._videoElement.audioTracks;if(t)for(var n=0;n<t.length;n++)t[n].enabled=n===e}},{key:"_getLiveEdge",value:function(){return this._videoElement.seekable.length?this._videoElement.seekable.end(this._videoElement.seekable.length-1):this._videoElement.buffered.length?this._videoElement.buffered.end(this._videoElement.buffered.length-1):this._videoElement.duration}},{key:"liveDuration",get:function(){return this._getLiveEdge()}},{key:"seekToLiveEdge",value:function(){try{this._videoElement.currentTime=this._getLiveEdge()}catch(e){return}}},{key:"getSegmentDuration",value:function(){return this._segmentDuration}},{key:"isLive",value:function(){return this._videoElement.duration===1/0}},{key:"_handleLiveDurationChange",value:function(){var e=this;this._liveDurationChangeInterval=setInterval((function(){e._calculateSegmentDuration();var t=e._getLiveEdge();e._liveEdge!==t&&(e._liveEdge=t,e._videoElement.dispatchEvent(new Event(p.Rk.DURATION_CHANGE)))}),1e3)}},{key:"_calculateSegmentDuration",value:function(){if(this._videoElement.seekable.length>0&&0===this._videoElement.seekable.start(0)){var e=this._videoElement,t=e.buffered,n=e.seekable;t.length&&n.length&&(this._segmentDuration=(t.end(t.length-1)-n.end(n.length-1))/3)}else{var r=this._getLiveEdge();this._liveEdge&&this._liveEdge!==r&&(this._segmentDuration=r-this._liveEdge)}}},{key:"_getStartTimeOfDvrWindow",value:function(){return this.isLive()&&this._videoElement.seekable.length?this._videoElement.seekable.start(0):0}},{key:"getStartTimeOfDvrWindow",value:function(){return this._startTimeOfDvrWindow}},{key:"_setStarTimeOfDvrWindowInterval",value:function(){var e=this;this._startTimeOfDvrWindowInterval=setInterval((function(){var t=e._segmentDuration;!e._waitingEventTriggered&&e._getStartTimeOfDvrWindow()&&t&&Math.abs(e._getStartTimeOfDvrWindow()-e._startTimeOfDvrWindow)<=2*t?e._startTimeOfDvrWindow+=1:e._startTimeOfDvrWindow=e._getStartTimeOfDvrWindow()}),1e3)}},{key:"getDrmInfo",value:function(){return this._drmHandler?this._drmHandler.getDrmInfo():null}}],[{key:"canPlayType",value:function(e){var t=!1;return"string"==typeof e&&(t=!!b.TEST_VIDEO.canPlayType(e.toLowerCase())),b._logger.debug("canPlayType result for mimeType:"+e+" is "+t.toString()),t}},{key:"canPlayDrm",value:function(e,t){b._drmProtocol=null;var n,r=L(b._drmProtocols);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.isConfigured(e,t)){b._drmProtocol=i;break}}}catch(e){r.e(e)}finally{r.f()}if(!b._drmProtocol){var a,o=L(b._drmProtocols);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.canPlayDrm(e)&&(b._drmProtocol=s)}}catch(e){o.e(e)}finally{o.f()}}return!!b._drmProtocol}},{key:"createAdapter",value:function(e,t,n){b._logger.debug("createAdapter");var r={displayTextTrack:!1,progressiveSources:[]};if(E.c7.hasPropertyPath(n,"text.useNativeTextTrack")&&(r.displayTextTrack=E.c7.getPropertyPath(n,"text.useNativeTextTrack")),!1!==r.displayTextTrack&&e.classList.add(N),E.c7.hasPropertyPath(n,"sources.progressive")&&(r.progressiveSources=E.c7.getPropertyPath(n,"sources.progressive")),E.c7.hasPropertyPath(n,"text")&&(r.enableCEA708Captions=n.text.enableCEA708Captions,r.captionsTextTrack1Label=n.text.captionsTextTrack1Label,r.captionsTextTrack1LanguageCode=n.text.captionsTextTrack1LanguageCode,r.captionsTextTrack2Label=n.text.captionsTextTrack2Label,r.captionsTextTrack2LanguageCode=n.text.captionsTextTrack2LanguageCode),E.c7.hasPropertyPath(n,"playback")&&E.c7.hasPropertyPath(n.playback,"options.html5.native")&&E.c7.mergeDeep(r,n.playback.options.html5.native),E.c7.hasPropertyPath(n,"abr")){var i=n.abr;i.defaultBandwidthEstimate&&(r.abrEwmaDefaultEstimate=i.defaultBandwidthEstimate),i.restrictions&&E.c7.createPropertyPath(r,"abr.restrictions",i.restrictions)}return r.network=n.network,new this(e,t,r)}}]),b}(v.Z);b=U,(0,a.Z)(U,"id","NativeAdapter"),(0,a.Z)(U,"_logger",v.Z.getLogger(b.id)),(0,a.Z)(U,"TEST_VIDEO",E.is.createElement("video")),(0,a.Z)(U,"_drmProtocols",[S]),(0,a.Z)(U,"_drmProtocol",null),(0,a.Z)(U,"_progressiveMimeTypes",["video/mp4","audio/mp3"]);var B=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,null,[{key:"register",value:function(t){t&&(e._mediaSourceAdapters.includes(t)?e._logger.debug("Adapter <".concat(t.id,"> is already registered, do not register again")):(e._logger.debug("Adapter <".concat(t.id,"> has been registered successfully")),e._mediaSourceAdapters.push(t)))}},{key:"unRegister",value:function(t){var n=e._mediaSourceAdapters.indexOf(t);n>-1&&(e._logger.debug("Unregistered <".concat(t.id,"> adapter")),e._mediaSourceAdapters.splice(n,1))}},{key:"canPlaySource",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;e._orderMediaSourceAdapters(n);var i=e._mediaSourceAdapters;if(t&&t.mimetype)for(var a=0;a<i.length;a++)if(i[a].canPlayType(t.mimetype)&&(!t.drmData||i[a].canPlayDrm(t.drmData,r)))return e._selectedAdapter=i[a],e._logger.debug("Selected adapter is <".concat(e._selectedAdapter.id,">")),!0;return!1}},{key:"_orderMediaSourceAdapters",value:function(t){e._mediaSourceAdapters=e._mediaSourceAdapters.filter((function(e){return"NativeAdapter"!==e.id})),t?e._mediaSourceAdapters.unshift(U):e._mediaSourceAdapters.push(U)}},{key:"getMediaSourceAdapter",value:function(t,n,r){return t&&n&&r?(e._selectedAdapter||e.canPlaySource(n,!0,r.drm),e._selectedAdapter?e._selectedAdapter.createAdapter(t,n,r):null):null}},{key:"destroy",value:function(){e._selectedAdapter=null}}]),e}();(0,a.Z)(B,"_logger",(0,_.ZP)("MediaSourceProvider")),(0,a.Z)(B,"_mediaSourceAdapters",[U]),(0,a.Z)(B,"_selectedAdapter",null);var F=B.register},7300:function(e,t,n){"use strict";n.d(t,{j:function(){return r}});var r={DASH:"dash",HLS:"hls",PROGRESSIVE:"progressive",IMAGE:"image",DOCUMENT:"document"}},8143:function(e,t,n){"use strict";n.d(t,{B:function(){return r}});var r={TRUE:!0,FALSE:!1,IN_VIEW:"inview"}},2806:function(e,t,n){"use strict";n.d(t,{D:function(){return r}});var r={VOD:"Vod",LIVE:"Live",AUDIO:"Audio",IMAGE:"Image",DOCUMENT:"Document",UNKNOWN:"Unknown"}},3336:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});var r={HLS:["application/x-mpegurl","application/vnd.apple.mpegurl"],DASH:["application/dash+xml"],PROGRESSIVE:["video/mp4"],SMOOTH_STREAMING:["application/vnd.ms-sstr+xml"]}},6975:function(e,t,n){"use strict";n.d(t,{x:function(){return r}});var r={MANIFEST:0,SEGMENT:1,LICENSE:2}},3323:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});var r={NONE:"none",ANY:"any",NATURAL:"natural",LANDSCAPE:"landscape",PORTRAIT:"portrait",PORTRAIT_PRIMARY:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary",LANDSCAPE_PRIMARY:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary"}},962:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(3144),i=n(5671),a=n(4942),o=n(4358),s={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,LIVE_MANIFEST_REFRESH_ERROR:1008,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_CREATE_TEXT_CUE:2009,DASH_ADAPTER_ERROR_PARSE_ISSUE:2010,UNKNOWN_FILE_TYPE:2011,UNKNOWN_LANGUAGE:2012,INVALID_VTT_THUMBNAILS_FILE:2013,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,HLS_FATAL_MEDIA_ERROR:3018,HLS_FRAG_PARSING_ERROR:3019,HLS_BUFFER_APPEND_ISSUE:3020,HLS_BUFFER_APPENDING_ISSUE:3021,NATIVE_ADAPTER_LOAD_FAILED:3022,HLS_BUFFER_STALLED_ERROR:3023,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_LIVE_CONTENT_NOT_SUPPORTED:4029,HLSJS_CANNOT_PARSE:4030,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,BAD_FAIRPLAY_RESPONSE:6015,COULD_NOT_CREATE_MEDIA_KEYS:6016,COULD_NOT_CREATE_KEY_SESSION:6017,LOAD_INTERRUPTED:7e3,BITRATE_SWITCH_ISSUE:7001,LOAD_FAILED:7002,RUNTIME_ERROR_NOT_REGISTERED_PLUGIN:7003,RUNTIME_ERROR_METHOD_NOT_IMPLEMENTED:7004,RUNTIME_ERROR_NOT_VALID_HANDLER:7005,NO_SOURCE_PROVIDED:7006,NO_ENGINE_FOUND_TO_PLAY_THE_SOURCE:7007,ENTER_PICTURE_IN_PICTURE_FAILED:7008,EXIT_PICTURE_IN_PICTURE_FAILED:7009,PLUGIN_LOAD_FAILED:7010,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,CONTENT_UNSUPPORTED_BY_BROWSER:9009,CANNOT_ADD_ITEM:9010,DOWNLOAD_FAILED:9011,COULD_NOT_GET_INFO_FROM_MEDIA_PROVIDER:9012,ENTRY_DOES_NOT_EXIST:9013,PAUSE_FAILED:9014,RESUME_FAILED:9015,RENEW_LICENSE_FAILED:9016,ENTRY_ALREADY_EXISTS:9017,REMOVE_FAILED:9018,CAST_LOAD_MEDIA_FAILED:10001,CAST_CUSTOM_MESSAGE_PARSING_ERROR:10002,CAST_EDIT_TRACKS_INFO_ERROR:10003,VR_NOT_SUPPORTED:11e3};Object.assign(s,{XML_PARSING_ERROR:8100,VAST_SCHEMA_VALIDATION_ERROR:8101,VAST_RESPONSE_VERSION_NOT_SUPPORTED:8102,TRAFFICKING_ERROR:8200,VAST_UNEXPECTED_LINEARITY:8201,VAST_UNEXPECTED_DURATION_ERROR:8202,VAST_UNEXPECTED_SIZE_ERROR:8203,VAST_WRAPPER_ERROR:8300,VAST_URI_ERROR:8301,VAST_TOO_MANY_REDIRECTS:8302,NO_ADS_VAST_RESPONSE:8303,GENERAL_LINEAR_ERROR:8400,FILE_NOT_FOUND:8401,VAST_MEDIA_LOAD_TIMEOUT:8402,MEDIA_FILE_NOT_FOUND:8403,MEDIA_FILE_DISPLAY_ERROR:8405,MEZZANINE_FILE_NOT_PROVIDED:8406,MEZZANINE_DOWNLOADED_FOR_THE_FIRST_TIME:8407,VAST_RESPONSE_AD_REJECTED:8408,CREATIVE_WAS_NOT_EXECUTED:8409,CODE_REFERENCED_NOT_EXECUTED:8410,GENERAL_NON_LINEAR_AD_ERROR:8500,NON_LINEAR_CREATIVE_DIMENSIONS_NOT_ALIGN_ERROR:8501,NON_LINEAR_FETCH_ERROR:8502,NON_LINEAR_RESOURCE_NOT_FOUND:8503,GENERAL_COMPANION_ADS_ERROR:8600,COMPANION_DIMENSIONS_NOT_FIT:8601,COMPANION_CANNOT_BE_DISPLAY:8602,COMPANION_CANNOT_BE_FETCHED:8603,COMPANION_TYPE_NOT_FOUND:8604,AD_UNDEFINED_ERROR:8900,GENERAL_VPAID_ERROR:8901});var l="Error",u=(0,r.Z)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;(0,i.Z)(this,e),this.severity=t,this.category=n,this.code=r,this.data=a,this.errorDetails=s||{},(0,o.ZO)(l)!==o.in.OFF&&e._logger.error("Category:".concat(n," | Code:").concat(r," |"),a)}));(0,a.Z)(u,"Severity",{RECOVERABLE:1,CRITICAL:2}),(0,a.Z)(u,"Category",{NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,ADS:8,STORAGE:9,CAST:10,VR:11,MEDIA_NOT_READY:12,GEO_LOCATION:13,MEDIA_UNAVAILABLE:14,IP_RESTRICTED:15,SITE_RESTRICTED:16,SCHEDULED_RESTRICTED:17,ACCESS_CONTROL_BLOCKED:18}),(0,a.Z)(u,"Code",s),(0,a.Z)(u,"_logger",(0,o.ZP)(l))},4270:function(e,t,n){"use strict";n.d(t,{Q:function(){return s}});var r=n(5671),i=n(3144),a=n(7916);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(){function e(){(0,r.Z)(this,e),this._bindingMap=new a.MultiMap}return(0,i.Z)(e,[{key:"destroy",value:function(){return this.removeAll(),this._bindingMap=null,Promise.resolve()}},{key:"listenOnce",value:function(e,t,n,r){var i=this;this.listen(e,t,(function r(a){i.unlisten(e,t,r),n.call(i,a)}),r)}},{key:"listen",value:function(e,t,n,r){var i=new l(e,t,n,r);this._bindingMap&&this._bindingMap.push(t,i)}},{key:"unlisten",value:function(e,t,n){if(this._bindingMap)for(var r=this._bindingMap.get(t),i=0;i<r.length;++i){var a=r[i];a.target!==e||a.listener!==n&&n||(a.unlisten(),this._bindingMap&&this._bindingMap.remove(t,a))}}},{key:"removeAll",value:function(){if(this._bindingMap){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}(this._bindingMap.getAll());try{for(t.s();!(e=t.n()).done;)e.value.unlisten()}catch(e){t.e(e)}finally{t.f()}this._bindingMap&&this._bindingMap.clear()}}}]),e}(),l=function(){function e(t,n,i,a){(0,r.Z)(this,e),this.target=t,this.type=n,this.listener=i,this.options=a,this.target.addEventListener(n,i,!1)}return(0,i.Z)(e,[{key:"unlisten",value:function(){this.target&&(this.target.removeEventListener(this.type,this.listener,this.options),this.target=null,this.listener=null,this.options=null)}}]),e}()},2114:function(e,t,n){"use strict";n.d(t,{Rk:function(){return s},nQ:function(){return l},tw:function(){return u}});var r=n(4942),i=n(4611);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s={ABORT:"abort",CAN_PLAY:"canplay",CAN_PLAY_THROUGH:"canplaythrough",DURATION_CHANGE:"durationchange",EMPTIED:"emptied",ENDED:"ended",ERROR:"error",LOADED_DATA:"loadeddata",LOADED_METADATA:"loadedmetadata",LOAD_START:"loadstart",PAUSE:"pause",PLAY:"play",PLAYING:"playing",PROGRESS:"progress",RATE_CHANGE:"ratechange",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",SUSPEND:"suspend",TIME_UPDATE:"timeupdate",VOLUME_CHANGE:"volumechange",WAITING:"waiting",ENTER_PICTURE_IN_PICTURE:"enterpictureinpicture",LEAVE_PICTURE_IN_PICTURE:"leavepictureinpicture",PRESENTATION_MODE_CHANGED:"webkitpresentationmodechanged"},l={MEDIA_LOADED:"medialoaded",PLAYER_RESET:"playerreset",PLAYER_DESTROY:"playerdestroy",ENTER_FULLSCREEN:"enterfullscreen",EXIT_FULLSCREEN:"exitfullscreen",PLAY_FAILED:"playfailed",AUTOPLAY_FAILED:"autoplayfailed",FALLBACK_TO_MUTED_AUTOPLAY:"fallbacktomutedautoplay",CHANGE_SOURCE_STARTED:"changesourcestarted",CHANGE_SOURCE_ENDED:"changesourceended",MUTE_CHANGE:"mutechange",VIDEO_TRACK_CHANGED:"videotrackchanged",AUDIO_TRACK_CHANGED:"audiotrackchanged",TEXT_TRACK_CHANGED:"texttrackchanged",IMAGE_TRACK_CHANGED:"imagetrackchanged",TEXT_TRACK_ADDED:"texttrackadded",TEXT_CUE_CHANGED:"textcuechanged",TRACKS_CHANGED:"trackschanged",ABR_MODE_CHANGED:"abrmodechanged",PLAYER_STATE_CHANGED:"playerstatechanged",PLAYBACK_START:"playbackstart",FIRST_PLAY:"firstplay",FIRST_PLAYING:"firstplaying",PLAYBACK_ENDED:"playbackended",SOURCE_SELECTED:"sourceselected",TEXT_STYLE_CHANGED:"textstylechanged",MEDIA_RECOVERED:"mediarecovered",VR_STEREO_MODE_CHANGED:"vrstereomodechanged",FPS_DROP:"fpsdrop",BOOKMARK_ERROR:"bookmarkerror",CONCURRENCY_LIMIT:"concurrencylimit",RESIZE:"resize",TIMED_METADATA:"timedmetadata",TIMED_METADATA_CHANGE:"timedmetadatachange",TIMED_METADATA_ADDED:"timedmetadataadded",FRAG_LOADED:"fragloaded",MANIFEST_LOADED:"manifestloaded",USER_GESTURE:"usergesture",DRM_LICENSE_LOADED:"drmlicenseloaded",SOURCE_URL_SWITCHED:"sourceurlswitched"},u=o(o(o({},s),l),i.J)},8171:function(e,t,n){"use strict";n.d(t,{H:function(){return s}});var r=n(5671),i=n(3144),a=n(7916),o=n(4358),s=function(){function e(){(0,r.Z)(this,e),this._listeners=new a.MultiMap,this.dispatchTarget=this,this.__logger=(0,o.jl)("FakeEventTarget")}return(0,i.Z)(e,[{key:"addEventListener",value:function(e,t){this._listeners.push(e,t)}},{key:"removeEventListener",value:function(e,t){this._listeners.remove(e,t)}},{key:"dispatchEvent",value:function(e){for(var t=this._listeners.get(e.type)||[],n=0;n<t.length;++n){e.target=this.dispatchTarget,e.currentTarget=this.dispatchTarget;var r=t[n];try{r.handleEvent?r.handleEvent(e):r.call(this,e)}catch(t){this.__logger.error("Error occurred when handling event: ".concat(e.type,"."),t)}if(e.stopped)break}return e.defaultPrevented}}]),e}()},8987:function(e,t,n){"use strict";n.d(t,{v:function(){return a}});var r=n(5671),i=n(3144),a=function(){function e(t,n){(0,r.Z)(this,e),this.bubbles=!1,this.cancelable=!1,this.defaultPrevented=!1,this.timeStamp=window.performance?window.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.currentTarget=null,this.target=null,this.stopped=!1,this.payload=n}return(0,i.Z)(e,[{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.stopped=!0}},{key:"stopPropagation",value:function(){}}]),e}()},902:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5671),i=n(3144),a=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"callNext",value:function(e){e&&e()}}]),e}()},1280:function(e,t,n){"use strict";n.d(t,{Z:function(){return rt}});var r=n(3433),i=n(9439),a=n(5671),o=n(3144),s=n(7326),l=n(9340),u=n(2963),c=n(1120),d=n(4942),p=n(2069),f=n(4270),h=n(4821),y=function(){function e(){(0,a.Z)(this,e),this._createEl()}return(0,o.Z)(e,[{key:"setSrc",value:function(e){e&&(this._posterUrl=e,h.is.setStyle(this._el,"background-image",'url("'.concat(this._posterUrl,'")')),this.hide())}},{key:"src",get:function(){return this._posterUrl}},{key:"getElement",value:function(){return this._el}},{key:"_createEl",value:function(){if(!this._el){var e=this._el=h.is.createElement("div");h.is.setAttribute(e,"id",h.RO.uniqueId(5)),h.is.setAttribute(e,"tabindex","-1")}}},{key:"_removeEl",value:function(){this._el&&h.is.removeChild(this._el.parentNode||void 0,this._el)}},{key:"show",value:function(){h.is.setStyle(this._el,"display","")}},{key:"hide",value:function(){h.is.setStyle(this._el,"display","none")}},{key:"reset",value:function(){this._posterUrl="",h.is.setStyle(this._el,"background-image","")}},{key:"destroy",value:function(){this.reset(),this._removeEl()}}]),e}(),g=n(8987),v=n(8171),m=n(2114),b=function(){function e(){(0,a.Z)(this,e)}return(0,o.Z)(e,null,[{key:"language",get:function(){var e;return(e=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language)&&e.match("-")&&(e=e.split("-")[0]),e}}]),e}(),k=n(4358),E=n(4919),T=n(9769),_=n(962),A=function(){function e(t){var n,r,i,o,s,l,u=this;(0,a.Z)(this,e),(0,d.Z)(this,"_transitions",(l={},(0,d.Z)(l,T.Y.IDLE,(n={},(0,d.Z)(n,m.Rk.LOAD_START,(function(){return u._updateState(T.Y.LOADING)})),(0,d.Z)(n,m.Rk.PLAY,(function(){return u._updateState(T.Y.BUFFERING)})),(0,d.Z)(n,m.Rk.SEEKED,(function(){return u._updateState(T.Y.PAUSED)})),n)),(0,d.Z)(l,T.Y.LOADING,(r={},(0,d.Z)(r,m.Rk.LOADED_METADATA,(function(){return u._updateState(T.Y.PAUSED)})),(0,d.Z)(r,m.Rk.ERROR,(function(e){return e.payload.severity===_.Z.Severity.CRITICAL&&u._updateState(T.Y.IDLE)})),(0,d.Z)(r,m.Rk.SEEKED,(function(){u._prevState&&u._prevState.type===T.Y.PLAYING&&u._updateState(T.Y.PLAYING)})),r)),(0,d.Z)(l,T.Y.PAUSED,(i={},(0,d.Z)(i,m.Rk.PLAY,(function(){return u._updateState(T.Y.PLAYING)})),(0,d.Z)(i,m.Rk.PLAYING,(function(){return u._updateState(T.Y.PLAYING)})),(0,d.Z)(i,m.Rk.ENDED,(function(){return u._updateState(T.Y.IDLE)})),i)),(0,d.Z)(l,T.Y.PLAYING,(o={},(0,d.Z)(o,m.Rk.PAUSE,(function(){return u._updateState(T.Y.PAUSED)})),(0,d.Z)(o,m.Rk.WAITING,(function(){u._player.seeking?u._updateState(T.Y.LOADING):(u._updateState(T.Y.BUFFERING),u._lastWaitingTime=u._player.currentTime)})),(0,d.Z)(o,m.Rk.ENDED,(function(){return u._updateState(T.Y.IDLE)})),(0,d.Z)(o,m.Rk.ERROR,(function(e){return e.payload.severity===_.Z.Severity.CRITICAL&&u._updateState(T.Y.IDLE)})),o)),(0,d.Z)(l,T.Y.BUFFERING,(s={},(0,d.Z)(s,m.Rk.PLAYING,(function(){return u._updateState(T.Y.PLAYING)})),(0,d.Z)(s,m.Rk.PAUSE,(function(){return u._updateState(T.Y.PAUSED)})),(0,d.Z)(s,m.Rk.TIME_UPDATE,(function(){"IE"===p.Z.browser.name&&u._player.currentTime!==u._lastWaitingTime&&u._prevState&&u._prevState.type===T.Y.PLAYING&&(u._lastWaitingTime=null,u._updateState(T.Y.PLAYING))})),s)),l)),this._player=t,this._logger=(0,k.ZP)("StateManager"),this._eventManager=new f.Q,this._history=[],this._prevState=null,this._curState=new E.Z(T.Y.IDLE),this._attachListeners()}return(0,o.Z)(e,[{key:"_attachListeners",value:function(){this._eventManager.listen(this._player,m.Rk.ERROR,this._doTransition.bind(this)),this._eventManager.listen(this._player,m.Rk.ENDED,this._doTransition.bind(this)),this._eventManager.listen(this._player,m.Rk.PLAY,this._doTransition.bind(this)),this._eventManager.listen(this._player,m.Rk.LOAD_START,this._doTransition.bind(this)),this._eventManager.listen(this._player,m.Rk.PLAYING,this._doTransition.bind(this)),this._eventManager.listen(this._player,m.Rk.LOADED_METADATA,this._doTransition.bind(this)),this._eventManager.listen(this._player,m.Rk.PAUSE,this._doTransition.bind(this)),this._eventManager.listen(this._player,m.Rk.WAITING,this._doTransition.bind(this)),this._eventManager.listen(this._player,m.Rk.SEEKED,this._doTransition.bind(this)),this._eventManager.listen(this._player,m.Rk.TIME_UPDATE,this._doTransition.bind(this))}},{key:"_doTransition",value:function(e){(e.type!==m.Rk.TIME_UPDATE||this._curState===T.Y.BUFFERING&&e.type===m.Rk.TIME_UPDATE)&&this._logger.debug("Do transition request",e.type);var t=this._transitions[this._curState.type];"function"==typeof t[e.type]&&t[e.type](e)}},{key:"_updateState",value:function(e){this._curState.type!==e&&(this._curState.duration=Date.now()/1e3,this._history.push(this._curState),this._prevState=this._curState,this._curState=new E.Z(e),this._logger.debug("Switch player state: from ".concat(this._prevState.type," to ").concat(this._curState.type)),this._dispatchEvent())}},{key:"_dispatchEvent",value:function(){var e=new g.v(m.nQ.PLAYER_STATE_CHANGED,{oldState:this._prevState,newState:this._curState});this._player.dispatchEvent(e)}},{key:"destroy",value:function(){this._history=[],this._eventManager.destroy()}},{key:"reset",value:function(){this._history=[]}},{key:"currentState",get:function(){return this._curState}},{key:"previousState",get:function(){return this._prevState}},{key:"history",get:function(){return this._history}}]),e}(),S=n(8413),w=n(4877),C=n(7812),x=n(6462),P=n(6234),R={"":!0,up:!0};function I(e){return"number"==typeof e&&e>=0&&e<=100}var D,O=function(){function e(){(0,a.Z)(this,e),(0,d.Z)(this,"_width",100),(0,d.Z)(this,"_lines",3),(0,d.Z)(this,"_regionAnchorX",0),(0,d.Z)(this,"_regionAnchorY",100),(0,d.Z)(this,"_viewportAnchorX",0),(0,d.Z)(this,"_viewportAnchorY",100),(0,d.Z)(this,"_scroll","")}return(0,o.Z)(e,[{key:"width",get:function(){return this._width},set:function(e){if(!I(e))throw new Error("Width must be between 0 and 100.");this._width=e}},{key:"scroll",get:function(){return this._scroll},set:function(e){var t=function(e){return"string"==typeof e&&!!R[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");this._scroll=t}},{key:"viewportAnchorY",get:function(){return this._viewportAnchorY},set:function(e){if(!I(e))throw new Error("ViewportAnchorY must be between 0 and 100.");this._viewportAnchorY=e}},{key:"viewportAnchorX",get:function(){return this._viewportAnchorX},set:function(e){if(!I(e))throw new Error("ViewportAnchorX must be between 0 and 100.");this._viewportAnchorX=e}},{key:"regionAnchorX",get:function(){return this._regionAnchorX},set:function(e){if(!I(e))throw new Error("RegionAnchorY must be between 0 and 100.");this._regionAnchorX=e}},{key:"lines",get:function(){return this._lines},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");this._lines=e}},{key:"regionAnchorY",get:function(){return this._regionAnchorY},set:function(e){if(!I(e))throw new Error("RegionAnchorX must be between 0 and 100.");this._regionAnchorY=e}}]),e}();function L(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}D="undefined"!=typeof window&&window.VTTRegion?window.VTTRegion:O;var M={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},N={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},U={v:"title",lang:"lang"},B={rt:"ruby"};function F(){this.values=q(null)}function j(e,t,n,r){var i=r?e.split(r):[e];for(var a in i)if("string"==typeof i[a]){var o=i[a].split(n);2===o.length&&t(o[0],o[1])}}function H(e,t,n){var r=e;function i(){var t=L(e);if(null===t)throw new X(X.Errors.BadTimeStamp,"Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function a(){e=e.replace(/^\s+/,"")}if(a(),t.startTime=i(),a(),"--\x3e"!==e.substr(0,3))throw new X(X.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),a(),t.endTime=i(),a(),function(e,t){var r=new F;j(e,(function(e,t){switch(e){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===t){r.set(e,n[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var a=t.split(","),o=a[0];r.integer(e,o),r.percent(e,o)&&r.set("snapToLines",!1),r.alt(e,o,["auto"]),2===a.length&&r.alt("lineAlign",a[1],["start","center","end"]);break;case"position":a=t.split(","),r.percent(e,a[0]),2===a.length&&r.alt("positionAlign",a[1],["start","center","end"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start","center","end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical",""),t.line=r.get("line",t.line||"auto"),t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100);try{t.align=r.get("align","center")}catch(e){t.align=r.get("align","middle")}t.position=r.get("position",t.position||"auto"),t.positionAlign=r.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}F.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var V=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function G(e){for(var t=0;t<V.length;t++){var n=V[t];if(e>=n[0]&&e<=n[1])return!0}return!1}var K=function(e){(0,l.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var i=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function i(e,t,n){var o;(0,a.Z)(this,i),o=r.call(this);var s="undefined"!=typeof navigator&&/MSIE\s8\.0/.test(navigator.userAgent);"undefined"!=typeof WebVTTSet&&(WebVTTSet.fontSet,WebVTTSet.backgroundSet,WebVTTSet.edgeSet),o.cue=t,o.cueDiv=function(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]+>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}function r(e){return M[e]}function i(e){for(var t;t=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(t[0],r);return e}function a(e,t){return!B[t.localName]||B[t.localName]===e.localName}function o(t,n){var r=N[t];if(!r)return null;var i=e.document.createElement(r),a=U[t];return a&&n&&(i[a]=n.trim()),i}for(var s,l=e.document.createElement("div"),u=l,c=[];null!==(s=n());)if("<"!==s[0])u.appendChild(e.document.createTextNode(i(s)));else{if("/"===s[1]){c.length&&c[c.length-1]===s.substr(2).replace(">","")&&(c.pop(),u=u.parentNode);continue}var d=L(s.substr(1,s.length-2)),p=void 0;if(d){p=e.document.createProcessingInstruction("timestamp",d),u.appendChild(p);continue}var f=s.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!f)continue;if(!(p=o(f[1],f[3])))continue;if(!a(u,p))continue;f[2]&&(p.className=f[2].substr(1).replace("."," ")),c.push(f[1]),u.appendChild(p),u=p}return l}(e,t.text);var l={color:n.color,backgroundColor:n.backgroundColor,textShadow:n.textShadow,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};s||(l.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",l.unicodeBidi="plaintext"),o.applyStyles(l,o.cueDiv);var u="default"===n.textAlign;o.div=e.document.createElement("div");var c="middle"===t.align?"center":t.align;u||(c=n.textAlign),l={textAlign:c,font:n.font,whiteSpace:"pre-line",position:"absolute"},s||(l.direction=function(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function r(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function i(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var a=n.match(/^.*(\n|\r)/);return a?(e.length=0,a[0]):n}return"ruby"===t.tagName?i(e):t.childNodes?(r(e,t),i(e)):void 0}for(r(t,e);n=i(t);)for(var a=0;a<n.length;a++)if(G(n.charCodeAt(a)))return"rtl";return"ltr"}(o.cueDiv),l.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),o.applyStyles(l),o.div.appendChild(o.cueDiv);var d=0,p=t.positionAlign||t.align;if(u)switch(p){case"start":case"left":case"line-left":d=t.position;break;case"center":d=t.position-t.size/2;break;case"end":case"right":case"line-right":d=t.position-t.size}return""===t.vertical?o.applyStyles({left:o.formatStyle(d,"%"),width:o.formatStyle(Math.min(t.size,100-d)||t.size,"%")}):o.applyStyles({top:o.formatStyle(d,"%"),height:o.formatStyle(Math.min(t.size,100-d)||t.size,"%")}),o.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})},o}return(0,o.Z)(i)}(function(){function e(){(0,a.Z)(this,e)}return(0,o.Z)(e,[{key:"applyStyles",value:function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])}},{key:"formatStyle",value:function(e,t){return 0===e?0:e+t}}]),e}()),z=function(){function e(t){var n,r,i,o,s;(0,a.Z)(this,e),(0,d.Z)(this,"overlaps",(function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top})),t.div&&(r=t.div.offsetHeight,i=t.div.offsetWidth,o=t.div.offsetTop,s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects(),t=t.div.getBoundingClientRect(),n=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0),this.left=t.left,this.right=t.right,this.top=t.top||o,this.height=t.height||r,this.bottom=t.bottom||o+(t.height||r),this.width=t.width||i,this.lineHeight=n||t.lineHeight||13}return(0,o.Z)(e,[{key:"move",value:function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}}},{key:"overlapsAny",value:function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1}},{key:"within",value:function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right}},{key:"overlapsOppositeAxis",value:function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}}},{key:"intersectPercentage",value:function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)}},{key:"toCSSCompatValues",value:function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}}}],[{key:"getSimpleBoxPosition",value:function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n}}}]),e}();function W(e,t,n,r){var i=new z(t),a=t.cue,o=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)n[i].mode===x.ZP.MODE.SHOWING&&r++;return-1*++r}(a),s=[];if(a.snapToLines){var l;switch(a.vertical){case"":s=["+y","-y"],l="height";break;case"rl":s=["+x","-x"],l="width";break;case"lr":s=["-x","+x"],l="width"}var u=i.lineHeight,c=u*Math.round(o),d=n[l]+u,p=s[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/u)*u),o<0&&(c+=""===a.vertical?n.height:n.width,s=s.reverse()),i.move(p,c)}else{var f=i.lineHeight/n.height*100;switch(a.lineAlign){case"center":o-=f/2;break;case"end":o-=f}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(o,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(o,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(o,"%")})}s=["+y","-x","+x","-y"],i=new z(t)}var h=function(e,t){for(var i,a=new z(e),o=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(n))return e;var l=e.intersectPercentage(n);o>l&&(i=new z(e),o=l),e=new z(a)}return i||a}(i,s);t.move(h.toCSSCompatValues(n))}var Y=function(e,t){this.window=e,this.state="INITIAL",this.buffer="",this.decoder=t||new TextDecoder("utf8"),this.regionList=[]},Z=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},q=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function X(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}X.prototype=q(Error.prototype),X.prototype.constructor=X,X.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Y.prototype={reportOrThrowError:function(e){if(!(e instanceof X))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function n(){for(var e=t.buffer,n=0;n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),r}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var r;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var i=(r=n()).match(/^WEBVTT([ \t].*)?$/);if(!i||!i[0])throw new X(X.Errors.BadSignature);t.state="HEADER"}for(var a=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:r=n(),t.state){case"HEADER":/:/.test(r)?j(r,(function(e,n){"Region"===e&&function(e){var n=new F;if(j(e,(function(e,t){switch(e){case"id":n.set(e,t);break;case"width":n.percent(e,t);break;case"lines":n.integer(e,t);break;case"regionanchor":case"viewportanchor":var r=t.split(",");if(2!==r.length)break;var i=new F;if(i.percent("x",r[0]),i.percent("y",r[1]),!i.has("x")||!i.has("y"))break;n.set(e+"X",i.get("x")),n.set(e+"Y",i.get("y"));break;case"scroll":n.alt(e,t,["up"])}}),/=/,/\s/),n.has("id")){var r=new D;r.width=n.get("width",100),r.lines=n.get("lines",3),r.regionAnchorX=n.get("regionanchorX",0),r.regionAnchorY=n.get("regionanchorY",100),r.viewportAnchorX=n.get("viewportanchorX",0),r.viewportAnchorY=n.get("viewportanchorY",100),r.scroll=n.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:n.get("id"),region:r})}}(n)}),/:/):r||(t.state="ID");continue;case"NOTE":r||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){t.state="NOTE";break}if(!r)continue;if(t.cue=new VTTCue(0,0,""),t.state="CUE",-1===r.indexOf("--\x3e")){t.cue.id=r;continue}case"CUE":try{H(r,t.cue,t.regionList)}catch(e){t.reportOrThrowError(e),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var o=-1!==r.indexOf("--\x3e");if(!r||o&&(a=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=r;continue;case"BADCUE":r||(t.state="ID");continue}}}catch(e){t.reportOrThrowError(e),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new X(X.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}};var Q=n(5856),J=n(7300),$=n(488),ee=n(2806),te=n(6820),ne=n(6145),re=n(9654),ie=function(){function e(t){(0,a.Z)(this,e),this._actions=t,this._middlewares=new re.k,this._logger=(0,k.ZP)("Middleware")}return(0,o.Z)(e,[{key:"use",value:function(e){for(var t in this._actions){var n=this._actions[t];"function"==typeof e[n]&&(this._logger.debug("Register <".concat(e.id,"> for action ").concat(n)),this._middlewares.push(n,e[n].bind(e)))}}},{key:"run",value:function(e,t){var n=this;this._logger.debug("Start middleware chain for action "+e);for(var r=this._middlewares.get(e),i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];this._executeMiddleware(r,(function(){n._logger.debug("Finish middleware chain for action "+e),t.apply(void 0,arguments)}),a)}},{key:"_executeMiddleware",value:function(e,t,n){var i=n,a=function(e,t,n){var a;null!=t&&t.length&&(i=t),null!==(a=i)&&void 0!==a&&a.length?e.apply(void 0,(0,r.Z)(i).concat([n])):e(n)},o=e.reduceRight((function(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];a(t,r,e)}}),(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];a(t,n)}));o()}}]),e}(),ae=function(){function e(){(0,a.Z)(this,e),this._middleware=new ie(e.Actions)}return(0,o.Z)(e,[{key:"use",value:function(e){this._middleware.use(e)}},{key:"load",value:function(t){this._middleware.run(e.Actions.LOAD,t)}},{key:"play",value:function(t){this._middleware.run(e.Actions.PLAY,t)}},{key:"pause",value:function(t){this._middleware.run(e.Actions.PAUSE,t)}},{key:"setCurrentTime",value:function(t,n){this._middleware.run(e.Actions.SET_CURRENT_TIME,n,t)}}]),e}();(0,d.Z)(ae,"Actions",{LOAD:"load",PLAY:"play",PAUSE:"pause",SET_CURRENT_TIME:"setCurrentTime"});var oe=n(3323),se={log:{level:"ERROR"},text:{enableCEA708Captions:!0,useNativeTextTrack:!1,forceCenter:!1,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es"},playback:{audioLanguage:"",textLanguage:"",volume:1,playsinline:!0,preload:"none",autoplay:!1,loop:!1,autopause:!1,allowMutedAutoPlay:!0,updateAudioDescriptionLabels:!0,prioritizeAudioDescription:void 0,alphabeticalSort:void 0,muted:!1,pictureInPicture:!0,options:{html5:{hls:{},dash:{},native:{}}},preferNative:{hls:!1,dash:!1},inBrowserFullscreen:!1,screenLockOrientionMode:oe.z.NONE,playAdsWithMSE:!1,streamPriority:[{engine:"html5",format:"hls"},{engine:"html5",format:"dash"},{engine:"html5",format:"progressive"},{engine:"flash",format:"hls"}]},streaming:{forceBreakStall:!1},abr:{enabled:!0,fpsDroppedFramesInterval:5e3,fpsDroppedMonitoringThreshold:.2,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,restrictions:{minHeight:0,maxHeight:1/0,minWidth:0,maxWidth:1/0,minBitrate:0,maxBitrate:1/0}},drm:{keySystem:""},network:{maxStaleLevelReloads:20}},le={options:{},metadata:{}},ue=n(3379),ce=n.n(ue),de=n(7795),pe=n.n(de),fe=n(8575),he=n.n(fe),ye=n(9216),ge=n.n(ye),ve=n(4589),me=n.n(ve),be=n(7774),ke={attributes:{id:"@playkit-js/playkit-js"}};ke.styleTagTransform=me(),ke.setAttributes=he(),ke.insert=function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},ke.domAPI=pe(),ke.insertStyleElement=ge(),ce()(be.Z,ke),be.Z&&be.Z.locals&&be.Z.locals;var Ee=n(4779),Te="srt",_e="vtt",Ae=function(e){(0,l.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var i=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function i(e){var t;return(0,a.Z)(this,i),t=r.call(this),(0,d.Z)((0,s.Z)(t),"_externalCueIndex",0),(0,d.Z)((0,s.Z)(t),"_textTrackModel",{}),(0,d.Z)((0,s.Z)(t),"_activeTextCues",[]),(0,d.Z)((0,s.Z)(t),"_isTextTrackActive",!1),(0,d.Z)((0,s.Z)(t),"_lastTimeUpdate",0),(0,d.Z)((0,s.Z)(t),"_seekFrom",-1),(0,d.Z)((0,s.Z)(t),"_clipTo",-1),t._player=e,t._eventManager=new f.Q,t}return(0,o.Z)(i,[{key:"hideTextTrack",value:function(){this._player.config.text.useNativeTextTrack?(this._removeCueChangeListeners(),this._resetExternalNativeTextTrack()):this._isTextTrackActive&&(this._eventManager.unlisten(this._player,m.Rk.TIME_UPDATE),this.dispatchEvent(new g.v(m.nQ.TEXT_CUE_CHANGED,{cues:[]})),this._resetCurrentTrack())}},{key:"getExternalTracks",value:function(e){var t=this,n=this._player.sources.captions;if(!n)return[];this._player.config.text.useNativeTextTrack&&this._addNativeTextTrack();var r=e.filter((function(e){return e instanceof x.ZP})),i=[];return n.forEach((function(e){if(e.language){var n=t._createTextTrack(e);t._maybeAddTrack(n,e,r,i)}else{var a=new _.Z(_.Z.Severity.RECOVERABLE,_.Z.Category.TEXT,_.Z.Code.UNKNOWN_LANGUAGE,{caption:e});t.dispatchEvent(new g.v(m.Rk.ERROR,a))}})),i}},{key:"_maybeAddTrack",value:function(e,t,n,r){var a=n.find((function(e){return e.available&&S.Z.langComparer(t.language,e.language)}));a?i._logger.warn("duplicated language, taking the inband option. Language: ",a.language):(r.push(e),this._updateTextTracksModel(t))}},{key:"_createTextTrack",value:function(e){return new x.ZP({active:!!e.default,kind:x.ZP.KIND.SUBTITLES,label:e.label,language:e.language,external:!0})}},{key:"_updateTextTracksModel",value:function(e){this._textTrackModel[e.language]={cuesStatus:1,cues:[],url:e.url,type:e.type}}},{key:"selectTextTrack",value:function(e){var t=this;this._textTrackModel[e.language]&&(3===this._textTrackModel[e.language].cuesStatus?this._selectTextTrack(e):1===this._textTrackModel[e.language].cuesStatus&&this._downloadAndParseCues(e).then((function(){t._textTrackModel[e.language].cuesStatus=3,t._selectTextTrack(e)})).catch((function(e){return t.dispatchEvent(new g.v(m.Rk.ERROR,e))})))}},{key:"_selectTextTrack",value:function(e){this.hideTextTrack(),this._player.config.text.useNativeTextTrack?(this._addCuesToNativeTextTrack(this._textTrackModel[e.language].cues),this._addCueChangeListener()):this._setTextTrack(e),e.active=!0,this.dispatchEvent(new g.v(m.nQ.TEXT_TRACK_CHANGED,{selectedTextTrack:e}))}},{key:"resetAllCues",value:function(){for(var e in this._textTrackModel)this._textTrackModel[e].cues.forEach((function(e){e.hasBeenReset=!0}))}},{key:"_addCueChangeListener",value:function(){var e=this,t=this._player.getVideoElement();if(t&&t.textTracks){var n=Array.from(t.textTracks).find((function(e){return x.ZP.isNativeTextTrack(e)&&e.mode===x.ZP.MODE.SHOWING}));n&&this._eventManager.listen(n,"cuechange",(function(t){return e._onCueChange(t)}))}}},{key:"_removeCueChangeListeners",value:function(){var e=this._player.getVideoElement();if(e&&e.textTracks)for(var t=0;t<e.textTracks.length;t++)this._eventManager.unlisten(e.textTracks[t],"cuechange")}},{key:"_onCueChange",value:function(e){var t=e.currentTarget.activeCues,n=(0,x.z6)(t);this.dispatchEvent(new g.v(m.nQ.TEXT_CUE_CHANGED,{cues:n}))}},{key:"reset",value:function(){this._seekFrom=-1,this._clipTo=-1,this._resetCurrentTrack(),this._textTrackModel={},this._resetExternalNativeTextTrack(),this._eventManager.removeAll()}},{key:"destroy",value:function(){this._textTrackModel={},this._eventManager.destroy(),this._activeTextCues=[]}},{key:"_resetCurrentTrack",value:function(){this._activeTextCues=[],this._isTextTrackActive=!1,this._maybeSetExternalCueIndex()}},{key:"_getCuesString",value:function(e){var t=this;return new Promise((function(n,r){var i=t._textTrackModel[e.language],a=i.type||t._getFileType(i.url);[Te,_e].includes(a)||(t._textTrackModel[e.language].cuesStatus=1,r(new _.Z(_.Z.Severity.RECOVERABLE,_.Z.Category.TEXT,_.Z.Code.UNKNOWN_FILE_TYPE,{captionType:a}))),h.eV.execute(i.url,{},"GET").then((function(e){n(a===Te?t._convertSrtToVtt(e):e)})).catch((function(){t._textTrackModel[e.language].cuesStatus=1,r(new _.Z(_.Z.Severity.RECOVERABLE,_.Z.Category.TEXT,_.Z.Code.HTTP_ERROR,{url:i.url}))}))}))}},{key:"_parseCues",value:function(e){return new Promise((function(t,n){var r=new Y(window,Z()),a=[];r.oncue=function(e){a.push(e)},r.onflush=function(){i._logger.debug("finished parsing external cues"),t(a)},r.parse(e),r.flush(),r.onparsingerror((function(e){return n(e)}))}))}},{key:"_convertSrtToVtt",value:function(e){var t=e.replace(/(\d\d:\d\d:\d\d),(\d\d\d) --> (\d\d:\d\d:\d\d),(\d\d\d)/g,(function(e,t,n,r,i){return"".concat(t,".").concat(n," --\x3e ").concat(r,".").concat(i)}));return"WEBVTT\n\n".concat(t)}},{key:"_downloadAndParseCues",value:function(e){var t=this;return this._textTrackModel[e.language].cuesStatus=2,new Promise((function(n,r){t._getCuesString(e).then((function(e){return t._parseCues(e)})).then((function(e){return t._filterAndShiftCues(e)})).then((function(r){t._textTrackModel[e.language].cues=r,n()})).catch((function(e){return r(e)}))}))}},{key:"_getFileType",value:function(e){return e.split(/[#?]/)[0].split(".").pop().trim()}},{key:"_handleCaptionOnTimeUpdate",value:function(e){var t=this._player.currentTime;if(t){var n=!1;this._hadSeeked()&&(this._activeTextCues=[],n=this._maybeSetExternalCueIndex());var r=this._maybeRemoveActiveCues(),i=this._maybeAddToActiveCues(e);(n||i||r)&&this.dispatchEvent(new g.v(m.nQ.TEXT_CUE_CHANGED,{cues:this._activeTextCues})),this._lastTimeUpdate=t}}},{key:"_hadSeeked",value:function(){return!!this._player.currentTime&&Math.abs(this._player.currentTime-this._lastTimeUpdate)>1}},{key:"_maybeRemoveActiveCues",value:function(){var e=this._player.currentTime;if(!e)return!1;var t=this._activeTextCues.filter((function(t){return t.startTime<e&&e<t.endTime})),n=this._activeTextCues.length!==t.length;return this._activeTextCues=t,n}},{key:"_maybeAddToActiveCues",value:function(e){var t=this._player.currentTime;if(!t)return!1;for(var n=!1,r=this._textTrackModel[e.language].cues;this._externalCueIndex<r.length&&t>r[this._externalCueIndex].startTime;)t<r[this._externalCueIndex].endTime&&this._activeTextCues.push(r[this._externalCueIndex]),this._externalCueIndex++,n=!0;return n}},{key:"_maybeSetExternalCueIndex",value:function(){var e,t=null===(e=this._player._getTextTracks())||void 0===e?void 0:e.find((function(e){return e.active&&e.external}));if(t&&t.external){for(var n=this._textTrackModel[t.language]?this._textTrackModel[t.language].cues:[],r=0;r<n.length&&!(n[r].startTime<this._player.currentTime&&this._player.currentTime<n[r].endTime)&&!(n[r].endTime>this._player.currentTime&&n[r].startTime>this._player.currentTime);r++);return this._externalCueIndex=r,!0}return!1}},{key:"_resetExternalNativeTextTrack",value:function(){var e=this._player.getVideoElement();if(e&&e.textTracks){var t=Array.from(e.textTracks).find((function(e){return!!e&&x.ZP.isExternalTrack(e)}));t&&(t.cues&&Object.values(t.cues).forEach((function(e){return t.removeCue(e)})),t.mode=x.ZP.MODE.DISABLED)}}},{key:"_addCuesToNativeTextTrack",value:function(e){var t=this._player.getVideoElement();if(t&&t.textTracks){var n=Array.from(t.textTracks).find((function(e){return!!e&&x.ZP.isExternalTrack(e)}));n&&(n.mode=x.ZP.MODE.SHOWING,void 0===VTTCue?this._convertCues(e).forEach((function(e){return n.addCue(e)})):e.forEach((function(e){return n.addCue(e)})))}}},{key:"_convertCues",value:function(e){return e.map((function(e){return new TextTrackCue(e.startTime,e.endTime,e.text)}))}},{key:"_addNativeTextTrack",value:function(){var e=this._player.getVideoElement();e&&e.textTracks&&(Array.from(e.textTracks).findIndex((function(e){return!!e&&x.ZP.isExternalTrack(e)}))>-1?this._resetExternalNativeTextTrack():e.addTextTrack(x.ZP.KIND.SUBTITLES,x.ZP.EXTERNAL_TRACK_ID,x.ZP.EXTERNAL_TRACK_ID))}},{key:"_setTextTrack",value:function(e){var t=this;this._player.config.text.useNativeTextTrack||(this._isTextTrackActive=!0,i._logger.debug("External text track changed",e),this._activeTextCues=[],this._externalCueIndex=0,this.dispatchEvent(new g.v(m.nQ.TEXT_CUE_CHANGED,{cues:this._activeTextCues})),this._eventManager.listen(this._player,m.Rk.TIME_UPDATE,(function(){return t._handleCaptionOnTimeUpdate(e)})))}},{key:"_filterCuePointsOutOfVideoRange",value:function(e,t,n){return e.filter((function(e){return e.startTime>=t&&(!n||e.startTime<n)}))}},{key:"seekFrom",set:function(e){this._seekFrom=e}},{key:"clipTo",set:function(e){this._clipTo=e}},{key:"_filterAndShiftCues",value:function(e){if(!e||!e.length)return[];if(-1===this._seekFrom&&-1===this._clipTo)return e;var t=-1===this._seekFrom?0:this._seekFrom,n=-1===this._clipTo?void 0:this._clipTo,r=this._filterCuePointsOutOfVideoRange(e,t,n);return r.forEach((function(e){e.startTime=e.startTime-t,e.endTime=e.endTime-t})),r}}],[{key:"applyNativeTextTrackStyles",value:function(e,t,n,r){e.insertRule("#".concat(n," video.").concat(r,"::-webkit-media-text-track-display { text-align: ").concat(t.textAlign,"!important; }"),0),e.insertRule("#".concat(n," video.").concat(r,"::cue { ").concat(t.toCSS()," }"),0)}}]),i}(v.H);(0,d.Z)(Ae,"_logger",(0,k.ZP)("ExternalCaptionsHandler"));var Se=n(9063),we=n(8151),Ce=n(7916),xe="playkit-in-browser-fullscreen-mode",Pe=function(){function e(t){(0,a.Z)(this,e),(0,d.Z)(this,"_isElementInFullscreen",!1),(0,d.Z)(this,"_isScreenLocked",!1),(0,d.Z)(this,"_isScreenOrientationSupport",!!screen&&!!screen.orientation&&"function"==typeof screen.orientation.unlock&&"function"==typeof screen.orientation.lock),(0,d.Z)(this,"_isFullscreenEventDispatched",!1),this._player=t,this._isInBrowserFullscreen=!1,this._eventManager=new f.Q}return(0,o.Z)(e,[{key:"_isNativeDocumentFullscreen",value:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}},{key:"_isIOSFullscreen",value:function(){var e="function"==typeof this._player.getVideoElement?this._player.getVideoElement():null;return"iOS"===this._player.env.os.name&&!!e&&("fullscreen"===e.webkitPresentationMode||!e.webkitPresentationMode&&e.webkitDisplayingFullscreen)}},{key:"isFullscreen",value:function(){return this._isNativeDocumentFullscreen()&&this._isElementInFullscreen||this._isIOSFullscreen()||this._isInBrowserFullscreen}},{key:"enterFullscreen",value:function(e){if(!this.isFullscreen()){this.registerFullScreenEvents();var t=e&&h.is.getElementById(e),n=this._player.config.playback;if(t||(t=this._player.getView()),"iOS"===this._player.env.os.name)if(n.inBrowserFullscreen&&n.playsinline||this._player.engineType===$.r.YOUTUBE)this._enterInBrowserFullscreen(t);else{var r=this._player.getVideoElement();r&&"function"==typeof r.webkitEnterFullScreen&&(this._player.isInPictureInPicture()?(setTimeout((function(){return r.webkitEnterFullScreen()}),1e3),this._player.exitPictureInPicture()):r.webkitEnterFullScreen())}else this._requestFullscreen(t)}}},{key:"exitFullscreen",value:function(){if(this.isFullscreen())if("iOS"===this._player.env.os.name)if(this._isInBrowserFullscreen||this._player.engineType===$.r.YOUTUBE)this._exitInBrowserFullscreen();else{var e=this._player.getVideoElement();e&&"function"==typeof e.webkitExitFullscreen&&e.webkitExitFullscreen()}else this._requestExitFullscreen()}},{key:"_nativeEnterFullScreen",value:function(e){return"function"==typeof e.requestFullscreen?e.requestFullscreen():"function"==typeof e.mozRequestFullScreen?e.mozRequestFullScreen():"function"==typeof e.webkitRequestFullScreen?e.webkitRequestFullScreen():"function"==typeof e.msRequestFullscreen?e.msRequestFullscreen():void 0}},{key:"_requestFullscreen",value:function(e){var t=this;this._player.isInPictureInPicture()&&this._player.exitPictureInPicture(),Promise.resolve(this._nativeEnterFullScreen(e)).then((function(){t._isElementInFullscreen=!0;var e=h.c7.getPropertyPath(t._player,"config.playback.screenLockOrientionMode"),n=e!==oe.z.NONE&&Object.values(oe.z).includes(e);t._isScreenOrientationSupport&&n&&screen.orientation.lock(e).then((function(){return t._isScreenLocked=!0})).catch((function(){return t._isScreenLocked=!1}))}),(function(){}))}},{key:"_nativeExitFullScreen",value:function(){return"function"==typeof document.exitFullscreen?document.exitFullscreen():"function"==typeof document.webkitExitFullscreen?document.webkitExitFullscreen():"function"==typeof document.mozCancelFullScreen?document.mozCancelFullScreen():"function"==typeof document.msExitFullscreen?document.msExitFullscreen():void 0}},{key:"_requestExitFullscreen",value:function(){var e=this;Promise.resolve(this._nativeExitFullScreen()).then((function(){e._isElementInFullscreen=!1,e._isScreenOrientationSupport&&e._isScreenLocked&&(screen.orientation.unlock(),e._isScreenLocked=!1)}),(function(){}))}},{key:"_enterInBrowserFullscreen",value:function(e){this._player.isInPictureInPicture()&&this._player.exitPictureInPicture(),h.is.addClassName(e,xe),this._isInBrowserFullscreen=!0,this._fullscreenEnterHandler(),this._player.dispatchEvent(new g.v(this._player.Event.RESIZE))}},{key:"_exitInBrowserFullscreen",value:function(){var e=h.is.getElementBySelector("."+xe);e&&h.is.removeClassName(e,xe),this._isInBrowserFullscreen=!1,this._fullscreenExitHandler(),this._player.dispatchEvent(new g.v(this._player.Event.RESIZE))}},{key:"registerFullScreenEvents",value:function(){var e=this;"iOS"===this._player.env.os.name?this._handleIosFullscreen():(this._eventManager.listen(document,"webkitfullscreenchange",(function(){return e._fullscreenChangeHandler()})),this._eventManager.listen(document,"mozfullscreenchange",(function(){return e._fullscreenChangeHandler()})),this._eventManager.listen(document,"fullscreenchange",(function(){return e._fullscreenChangeHandler()})),this._eventManager.listen(document,"MSFullscreenChange",(function(){return e._fullscreenChangeHandler()})))}},{key:"_handleIosFullscreen",value:function(){var e=this,t=function(){var t=e._player.getVideoElement();t&&(e._eventManager.listen(t,"webkitbeginfullscreen",(function(){return e._fullscreenEnterHandler()})),e._eventManager.listen(t,"webkitendfullscreen",(function(){return e._fullscreenExitHandler()})))};this._player.getVideoElement()?t():this._eventManager.listenOnce(this._player,this._player.Event.SOURCE_SELECTED,(function(){return t()}))}},{key:"_fullscreenChangeHandler",value:function(){this.isFullscreen()?this._fullscreenEnterHandler():this._fullscreenExitHandler()}},{key:"_fullscreenEnterHandler",value:function(){this.isFullscreen()&&!this._isFullscreenEventDispatched&&(this._isFullscreenEventDispatched=!0,this._player.dispatchEvent(new g.v(this._player.Event.ENTER_FULLSCREEN)))}},{key:"_fullscreenExitHandler",value:function(){!this.isFullscreen()&&this._isFullscreenEventDispatched&&(this._isFullscreenEventDispatched=!1,this._eventManager.removeAll(),this._player.dispatchEvent(new g.v(this._player.Event.EXIT_FULLSCREEN)))}},{key:"destroy",value:function(){this._eventManager.destroy()}}]),e}(),Re=n(1752),Ie=function(e){(0,l.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var i=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function i(e,t){var n,o;return(0,a.Z)(this,i),(o=r.call(this))._eventManager=new f.Q,o._pluginDecorators=t.createDecorators(e,(0,Re.Z)((n=(0,s.Z)(o),(0,c.Z)(i.prototype)),"dispatchEvent",n).bind((0,s.Z)(o))),Object.values(m.tw).forEach((function(t){return o._eventManager.listen(e,t,(function(e){return o.dispatchEvent(e)}))})),(0,u.Z)(o,new Proxy(e,{get:function(e,t){"destroy"===t&&o._destroy();var n,r=o._pluginDecorators.find((function(e){return e.active}));return(n="addEventListener"===t||"removeEventListener"===t?(0,s.Z)(o):r&&t in r?r:e)[t]&&"function"==typeof n[t].bind?n[t].bind(n):n[t]},set:function(e,t,n){var r=o._pluginDecorators.find((function(e){return t in e&&e.active}));return r&&t in r?r[t]=n:e[t]=n,!0}}))}return(0,o.Z)(i,[{key:"dispatchEvent",value:function(e){var t=this._pluginDecorators.find((function(e){return e.active}));return t&&t.dispatchEvent?t.dispatchEvent(e):(0,Re.Z)((0,c.Z)(i.prototype),"dispatchEvent",this).call(this,e)}},{key:"_destroy",value:function(){this._pluginDecorators=[],this._eventManager.destroy()}},{key:"active",get:function(){return!0}}]),i}(v.H),De=n(8143),Oe=n(2983),Le=function(){function e(){(0,a.Z)(this,e),(0,d.Z)(this,"_decoratorProviders",new Map),(0,d.Z)(this,"_logger",(0,k.ZP)("EngineDecoratorManager"))}return(0,o.Z)(e,[{key:"register",value:function(e){this._decoratorProviders.has(e.getName())?this._logger.warn("decorator already registered for ".concat(e.getName())):this._decoratorProviders.set(e.getName(),e)}},{key:"createDecorators",value:function(e,t){return this._logger.debug("decorators created for ".concat(Array.from(this._decoratorProviders.keys()).toString())),Array.from(this._decoratorProviders.values(),(function(n){return n.getEngineDecorator(e,t)}))}},{key:"destroy",value:function(){this._logger.debug("decorators destroyed"),this._decoratorProviders.clear()}}]),e}(),Me=n(1177);function Ne(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function Ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ne(a,r,i,o,s,"next",e)}function s(e){Ne(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Be=n(4687),Fe=n.n(Be),je=n(5590);function He(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ve(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ze=/#wh=/i,We=/#xywh=/i,Ye=new RegExp("^/[^/].+"),Ze=function(e){(0,l.Z)(E,e);var t,n,r,p,y,v,b,k=(v=E,b=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,c.Z)(v);if(b){var n=(0,c.Z)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,u.Z)(this,e)});function E(){var e;return(0,a.Z)(this,E),e=k.call(this),(0,d.Z)((0,s.Z)(e),"_cues",[]),e._eventManager=new f.Q,e}return(0,o.Z)(E,[{key:"load",value:(y=Ue(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return E._logger.debug("start loading the vtt thumbnails"),e.next=5,this._downloadAndParseCues(t);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"getThumbnail",value:function(e){var t=this._findCue(e,this._cues);if(t){var n=t.imgUrl,r=t.size,i=t.coordinates;i=i||{x:0,y:0};var a=Ke(Ke({url:n},r=r||this._naturalImgSize),i);return new je.F(a)}return null}},{key:"isUsingVttThumbnails",value:function(){var e;return!(null===(e=this._cues)||void 0===e||!e.length)}},{key:"_downloadAndParseCues",value:(p=Ue(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._downloadVttFile(t);case 3:return n=e.sent,e.next=6,this._processVtt(n);case 6:return r=e.sent,e.next=9,this._formatIntoThumbnailCues(r,t);case 9:this._cues=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.dispatchEvent(new g.v(m.Rk.ERROR,e.t0));case 15:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(e){return p.apply(this,arguments)})},{key:"_downloadVttFile",value:(r=Ue(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.eV.execute(t.vttUrl,{},"GET");case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new _.Z(_.Z.Severity.RECOVERABLE,_.Z.Category.TEXT,_.Z.Code.HTTP_ERROR,e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),function(e){return r.apply(this,arguments)})},{key:"_processVtt",value:(n=Ue(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new Y(window,Z()),i=[];r.oncue=function(e){i.push(e)},r.onflush=function(){E._logger.debug("finished parsing thumbnails cues"),e(i)},r.parse(t),r.flush(),r.onparsingerror((function(e){return n(e)}))})));case 1:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"_formatIntoThumbnailCues",value:(t=Ue(Fe().mark((function e(t,n){var r,i,a,o,s,l;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validateThumbnailsVTTFormat(t)){e.next=4;break}throw new _.Z(_.Z.Severity.RECOVERABLE,_.Z.Category.TEXT,_.Z.Code.INVALID_VTT_THUMBNAILS_FILE,{message:"invalid thumbnail vtt format",vttUrl:n.vttUrl});case 4:return r=this._extractCueMetadata(t[0],n),e.next=7,this.validateImgUrl(r.imgUrl);case 7:if(e.sent){e.next=11;break}throw new _.Z(_.Z.Severity.RECOVERABLE,_.Z.Category.TEXT,_.Z.Code.INVALID_VTT_THUMBNAILS_FILE,{message:"failed loading the image - invalid image url",imgUrl:r.imgUrl});case 11:return e.next=13,this.extractImgNaturalDimensions(r.imgUrl);case 13:this._naturalImgSize=e.sent,i=[],a=He(t);try{for(a.s();!(o=a.n()).done;)s=o.value,l=this._extractCueMetadata(s,n),i.push(l)}catch(e){a.e(e)}finally{a.f()}return e.abrupt("return",i);case 18:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"validateThumbnailsVTTFormat",value:function(e){return e.length&&e[0]instanceof VTTCue}},{key:"extractImgNaturalDimensions",value:function(e){var t=this;return new Promise((function(n){var r=new Image;r.src=e,t._eventManager.listenOnce(r,"load",(function(){n({height:r.naturalHeight,width:r.naturalWidth})})),t._eventManager.listenOnce(r,"error",(function(){return n(null)}))}))}},{key:"validateImgUrl",value:function(e){var t=this;return new Promise((function(n){var r=new Image;r.src=e,t._eventManager.listenOnce(r,"load",(function(){n(!0)})),t._eventManager.listenOnce(r,"error",(function(){return n(!1)}))}))}},{key:"_extractCueMetadata",value:function(e,t){var n,r=e.startTime,a=e.endTime,o=e.text,s=t.vttUrl.substring(0,t.vttUrl.lastIndexOf("/")),l=ze.test(o),u=We.test(o),c=!1,d=null,p=null;if(l){var f=o.split(ze);n=(0,i.Z)(f,1)[0],E._logger.warn('vtt thumbnails in "'.concat(ze,'" form - is supported but the width and height options are ignored and The images will be displayed in their natural dimensions')),c=void 0!==n}else if(u){var h=o.split(We),y=(0,i.Z)(h,2);n=y[0];var g=y[1].split(",").map(Number),v=(0,i.Z)(g,4),m=v[0],b=v[1],k=v[2],T=v[3];d={x:m,y:b},p={width:k,height:T},c=[m,b,k,T,n].every((function(e){return void 0!==e}))}else n=o,c=!!o;if(0!==n.indexOf("http://")&&0!==n.indexOf("https://")&&(n=Ye.test(n)?n.substring(1):n,n="".concat(s,"/").concat(n)),c)return{startTime:r,endTime:a,imgUrl:n,size:p,coordinates:d};throw new _.Z(_.Z.Severity.RECOVERABLE,_.Z.Category.TEXT,_.Z.Code.INVALID_VTT_THUMBNAILS_FILE,{message:"error while parsing the vtt cues - invalid cue",parsedCue:{startTime:r,endTime:a,options:o}})}},{key:"_findCue",value:function(e,t){for(var n=0,r=t.length-1;n<=r;){var i=Math.floor((n+r)/2),a=t[i];if(e>=a.startTime&&e<a.endTime)return t[i];e<a.startTime?r=i-1:n=i+1}return null}},{key:"reset",value:function(){this._cues=[],this._eventManager.removeAll(),this._naturalImgSize={}}},{key:"destroy",value:function(){this.reset(),this._eventManager.destroy()}}]),E}(v.H);function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Je(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(0,d.Z)(Ze,"_logger",(0,k.ZP)("ExternalThumbnailsHandler"));var $e="playkit-engine",et="auto",tt="off",nt="ad-",rt=function(e){(0,l.Z)(E,e);var t,n,v=(t=E,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var i=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function E(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.Z)(this,E),e=v.call(this),(0,d.Z)((0,s.Z)(e),"_sources",{}),(0,d.Z)((0,s.Z)(e),"_activeTextCues",[]),(0,d.Z)((0,s.Z)(e),"_textDisplaySettings",{}),(0,d.Z)((0,s.Z)(e),"_playbackAttributesState",{muted:void 0,volume:void 0,rate:void 0,videoTrack:void 0,audioLanguage:"",textLanguage:"",captionsDisplay:void 0}),(0,d.Z)((0,s.Z)(e),"_hasUserInteracted",!1),(0,d.Z)((0,s.Z)(e),"_isOnLiveEdge",!1),(0,d.Z)((0,s.Z)(e),"_shouldLoadAfterAttach",!1),(0,d.Z)((0,s.Z)(e),"_cachedUrls",[]),e._setConfigLogLevel(t),e._playerId=h.RO.uniqueId(5),e._prepareVideoElement(),E.runCapabilities(),e._env=p.Z,e._tracks=[],e._firstPlay=!0,e._loadingMedia=!1,e._loading=!1,e._playbackStart=!1,e._firstPlaying=!1,e._reset=!0,e._destroyed=!1,e._fallbackToMutedAutoPlay=!1,e._config=E._defaultConfig,e._sources=h.c7.copyDeep(le),e._eventManager=new f.Q,e._posterManager=new y,e._stateManager=new A((0,s.Z)(e)),e._resizeWatcher=new Ce.ResizeWatcher,e._playbackMiddleware=new ae,e._textStyle=new P.Z,e._createReadyPromise(),e._createPlayerContainer(),e._appendDomElements(),e._externalCaptionsHandler=new Ae((0,s.Z)(e)),e._externalThumbnailsHandler=new Ze,e._fullscreenController=new Pe((0,s.Z)(e)),e.configure(t),e}return(0,o.Z)(E,[{key:"configure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setConfigLogLevel(e),h.c7.mergeDeep(this._config,e),this._applyTextTrackConfig(),this._applyABRRestriction(e)}},{key:"setSourcesMetadata",value:function(e){this._sources&&(this._sources.metadata||(this._sources.metadata={}),h.c7.mergeDeep(this._sources.metadata,e))}},{key:"setSources",value:function(e){this._hasSources(e)?(this.reset(),h.c7.mergeDeep(this._sources,e),this._resizeWatcher.init(h.is.getElementById(this._playerId)),E._logger.debug("Change source started"),this.dispatchEvent(new g.v(m.nQ.CHANGE_SOURCE_STARTED)),this._reset=!1,this._selectEngineByPriority()?(this.dispatchEvent(new g.v(m.nQ.SOURCE_SELECTED,{selectedSource:this._sources[this._streamType]})),this._attachMedia(),this._handlePlaybackOptions(),this._posterManager.setSrc(this._sources.poster),this._handleDimensions(),this._handlePreload(),this._handleAutoPlay(),E._logger.debug("Change source ended"),this.dispatchEvent(new g.v(m.nQ.CHANGE_SOURCE_ENDED))):(E._logger.warn("No playable engines was found to play the given sources"),this.dispatchEvent(new g.v(m.Rk.ERROR,new _.Z(_.Z.Severity.CRITICAL,_.Z.Category.PLAYER,_.Z.Code.NO_ENGINE_FOUND_TO_PLAY_THE_SOURCE,"No Engine Found To Play The Source"))))):h.c7.mergeDeep(this._sources,e)}},{key:"ready",value:function(){return this._readyPromise?this._readyPromise:Promise.resolve()}},{key:"load",value:function(){var e=this;this.src?E._logger.debug("The source has already been loaded. load request ignored"):this._playbackMiddleware.load((function(){e._engine?e._load():e._eventManager.listenOnce(e,m.nQ.SOURCE_SELECTED,(function(){return e._load()}))}))}},{key:"play",value:function(e){var t=this;e&&e.programmatic?this._autoPlay():(this._playbackStart||(this._playbackStart=!0,this.dispatchEvent(new g.v(m.nQ.PLAYBACK_START)),this.src||this._prepareVideoElement(),this.load()),this._engine?this._playbackMiddleware.play((function(){return t._play()})):this._loadingMedia?this._playbackMiddleware.play((function(){return t._playAfterAsyncMiddleware()})):this.dispatchEvent(new g.v(m.Rk.ERROR,new _.Z(_.Z.Severity.CRITICAL,_.Z.Category.PLAYER,_.Z.Code.NO_SOURCE_PROVIDED,"No Source Provided"))))}},{key:"pause",value:function(){this._engine&&this._playbackMiddleware.pause(this._pause.bind(this))}},{key:"getView",value:function(){return this._el}},{key:"getVideoElement",value:function(){if(this._engine)return this._engine.getVideoElement()}},{key:"videoHeight",get:function(){return this._engine?this._engine.videoHeight:null}},{key:"videoWidth",get:function(){return this._engine?this._engine.videoWidth:null}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._reset||(this.pause(),this._externalCaptionsHandler.reset(),this._externalThumbnailsHandler.reset(),this._posterManager.reset(),this._stateManager.reset(),this._sources=h.c7.copyDeep(le),this._activeTextCues=[],this._updateTextDisplay([]),this._tracks=[],x.PZ.reset(),this._resetStateFlags(),this._engineType="",this._streamType="",this._pendingSelectedVideoTrack=void 0,this._engine&&this._engine.reset(),this.showBlackCover(),this._reset=!0,this.dispatchEvent(new g.v(m.nQ.PLAYER_RESET,{isChangeMedia:e})),this._eventManager.removeAll(),this._resizeWatcher.init(h.is.getElementById(this._playerId)),this._createReadyPromise(),this._isOnLiveEdge=!1,this._shouldLoadAfterAttach=!1)}},{key:"destroy",value:function(){this._destroyed||(this._externalCaptionsHandler.destroy(),this._posterManager.destroy(),this._stateManager.destroy(),this._fullscreenController.destroy(),this._activeTextCues=[],this._textDisplaySettings={},this._config={},this._tracks=[],this._engineType="",this._streamType="",this._readyPromise=void 0,this._pendingSelectedVideoTrack=void 0,this._resetStateFlags(),this._playbackAttributesState={},this._engine&&this._engine.destroy(),this._engineDecoratorManager&&this._engineDecoratorManager.destroy(),this._resizeWatcher.destroy(),this._el&&h.is.removeChild(this._el.parentNode,this._el),this._destroyed=!0,this.dispatchEvent(new g.v(m.nQ.PLAYER_DESTROY)),this._eventManager.destroy())}},{key:"hideBlackCover",value:function(){this._blackCoverEl&&(this._blackCoverEl.style.visibility="hidden")}},{key:"showBlackCover",value:function(){this._blackCoverEl&&(this._blackCoverEl.style.visibility="visible")}},{key:"attachMediaSource",value:function(){var e=this;this._engine&&(this._shouldLoadAfterAttach=!0,this._engine.attachMediaSource(),this._eventManager.listenOnce(this,m.Rk.CAN_PLAY,(function(){"number"==typeof e._playbackAttributesState.rate?e.playbackRate=e._playbackAttributesState.rate:e.playbackRate=e.defaultPlaybackRate})))}},{key:"detachMediaSource",value:function(){this._engine&&(this.pause(),this.hideTextTrack(),this._shouldLoadAfterAttach=!1,this._createReadyPromise(),this._engine.detachMediaSource())}},{key:"registerEngineDecoratorProvider",value:function(e){this._engineDecoratorManager||(this._engineDecoratorManager=new Le),e&&this._engineDecoratorManager.register(e)}},{key:"buffered",get:function(){return this._engine?this._engine.buffered:null}},{key:"stats",get:function(){var e={targetBuffer:NaN,availableBuffer:NaN};return this._engine&&(e.targetBuffer=this._engine.targetBuffer,e.availableBuffer=this._engine.availableBuffer),e}},{key:"currentTime",get:function(){return this._engine?this._engine.currentTime:null},set:function(e){this._playbackMiddleware.setCurrentTime(e,this._setCurrentTime.bind(this))}},{key:"duration",get:function(){return this._engine?this._engine.duration:null}},{key:"liveDuration",get:function(){return this._engine?this._engine.liveDuration:null}},{key:"volume",get:function(){return this._engine?this._engine.volume:null},set:function(e){if(this._engine&&(h.Mr.isFloat(e)||0===e||1===e)){var t=e;t<0&&(t=0),t>1&&(t=1),this._engine.volume=t}}},{key:"paused",get:function(){return this._engine?this._engine.paused:null}},{key:"seeking",get:function(){return this._engine?this._engine.seeking:null}},{key:"playsinline",get:function(){return this._engine?this._engine.playsinline:null},set:function(e){this._engine&&(this._engine.playsinline=e)}},{key:"muted",get:function(){return this._engine?this._engine.muted:null},set:function(e){this._engine&&(this._engine.muted=e,this.dispatchEvent(new g.v(m.nQ.MUTE_CHANGE,{mute:e})),!1===e&&(this._fallbackToMutedAutoPlay=e))}},{key:"src",get:function(){return this._engine?this._engine.src:null}},{key:"dimensions",get:function(){return{width:this._el.clientWidth,height:this._el.clientHeight}},set:function(e){var t=this._getTargetElement();if(!e||h.c7.isEmptyObject(e))this._aspectRatio=null,t.style.width=null,t.style.height=null;else{var n=h.c7.mergeDeep(this.dimensions,e),r=n.height,i=n.width;t.style.width="number"==typeof i?"".concat(i,"px"):i,t.style.height="number"==typeof r?"".concat(r,"px"):r,this._calcRatio(t,e)}}},{key:"_getTargetElement",value:function(){return h.is.getElementById(this._config.targetId)}},{key:"poster",get:function(){return this._posterManager.src}},{key:"playbackRate",get:function(){return this._engine?this._engine.playbackRate:null},set:function(e){this._engine&&(this._engine.playbackRate=e)}},{key:"playbackRates",get:function(){return this._playbackRates?this._playbackRates:this._engine?this._engine.playbackRates:[]}},{key:"defaultPlaybackRate",get:function(){return this._engine?"number"==typeof this._defaultPlaybackRate||this._defaultPlaybackRate>0?this._defaultPlaybackRate:this._engine.defaultPlaybackRate:1}},{key:"engineType",get:function(){return this._engineType}},{key:"streamType",get:function(){return this._streamType}},{key:"env",get:function(){return this._env}},{key:"config",get:function(){return h.c7.mergeDeep({},this._config)}},{key:"sources",get:function(){return h.c7.mergeDeep({},this._sources)}},{key:"hasUserInteracted",get:function(){return this._hasUserInteracted}},{key:"loadingMedia",set:function(e){this._loadingMedia=e}},{key:"crossOrigin",get:function(){return this._engine?this._engine.crossOrigin:null},set:function(e){this._engine&&(this._engine.crossOrigin=e)}},{key:"ended",get:function(){return this._engine?this._engine.ended:null}},{key:"playbackMiddleware",get:function(){return this._playbackMiddleware}},{key:"posterManager",get:function(){return this._posterManager}},{key:"isLive",value:function(){return!(this._sources.type===ee.D.VOD||!(this._sources.type===ee.D.LIVE||this._engine&&this._engine.isLive()))}},{key:"isAudio",value:function(){return this._sources.type===ee.D.AUDIO}},{key:"isOnLiveEdge",value:function(){return this._engine&&"function"==typeof this._engine.isOnLiveEdge?this._engine.isOnLiveEdge():this._isOnLiveEdge}},{key:"isDvr",value:function(){return this.isLive()&&this._sources.dvr}},{key:"seekToLiveEdge",value:function(){this._engine&&this.isLive()&&(this._engine.seekToLiveEdge(),this._isOnLiveEdge=!0)}},{key:"getStartTimeOfDvrWindow",value:function(){return this._engine?this._engine.getStartTimeOfDvrWindow():0}},{key:"getTracks",value:function(e){switch(e){case Q.V.VIDEO:return h.c7.copyDeep(this._getVideoTracks());case Q.V.AUDIO:return h.c7.copyDeep(this._getAudioTracks());case Q.V.TEXT:return h.c7.copyDeep(this._getTextTracks());case Q.V.IMAGE:return h.c7.copyDeep(this._getImageTracks());default:return h.c7.copyDeep(this._tracks)}}},{key:"getActiveTracks",value:function(){return h.c7.copyDeep({video:this._getVideoTracks().find((function(e){return e.active})),audio:this._getAudioTracks().find((function(e){return e.active})),text:this._getTextTracks().find((function(e){return e.active}))})}},{key:"changeQuality",value:function(e){"auto"===e?this.enableAdaptiveBitrate():this.selectTrack(e),this._markActiveTrack(e)}},{key:"selectTrack",value:function(e){this._engine&&(e instanceof w.Z?(this._playbackAttributesState.videoTrack=e,this._stateManager.currentState.type===T.Y.IDLE?this._pendingSelectedVideoTrack=e:this._engine.selectVideoTrack(e)):e instanceof C.ZP?this._engine.selectAudioTrack(e):e instanceof x.PZ?(this._resetTextDisplay(),e.language===tt?(this.hideTextTrack(),this._externalCaptionsHandler.hideTextTrack(),this._playbackAttributesState.captionsDisplay=!1):e.external?(this._engine.hideTextTrack(),this._externalCaptionsHandler.selectTextTrack(e)):(this._externalCaptionsHandler.hideTextTrack(),this._engine.selectTextTrack(e))):e instanceof Oe.Z&&this._engine.selectImageTrack(e))}},{key:"hideTextTrack",value:function(){if(this._engine){this._engine.hideTextTrack(),this._resetTextDisplay();var e=this._getTextTracks(),t=e.find((function(e){return!0===e.active}));t&&t.external&&this._externalCaptionsHandler.hideTextTrack(),e.map((function(e){return e.active=!1}));var n=e.find((function(e){return e.language===tt}));n&&(n.active=!0,this.dispatchEvent(new g.v(m.nQ.TEXT_TRACK_CHANGED,{selectedTextTrack:n}))),this._playbackAttributesState.captionsDisplay=!1}}},{key:"showTextTrack",value:function(){var e=this._getTextTracks(),t=this._playbackAttributesState.textLanguage||this._getLanguage(e,et,e.find((function(e){return e.default})));this._setDefaultTrack(e,t)}},{key:"addTextTrack",value:function(e,t,n){if(this._engine&&"function"==typeof this._engine.addTextTrack)return this._engine.addTextTrack(e,t,n)}},{key:"getNativeTextTracks",value:function(){return this._engine&&"function"==typeof this._engine.getNativeTextTracks?this._engine.getNativeTextTracks():[]}},{key:"enableAdaptiveBitrate",value:function(){this._engine&&this._engine.enableAdaptiveBitrate(),this._playbackAttributesState.videoTrack=void 0}},{key:"isAdaptiveBitrateEnabled",value:function(){return!!this._engine&&this._engine.isAdaptiveBitrateEnabled()}},{key:"_applyABRRestriction",value:function(e){var t;if(h.c7.hasPropertyPath(e,"abr.restrictions")&&this._engine&&null!==(t=this._tracks)&&void 0!==t&&t.length){var n=this._config.abr.restrictions,r=this._tracks.filter((function(e){return e instanceof w.Z})),i=(0,Me.u)(r,n);if(i.length){var a=this._tracks.filter((function(e){return e instanceof w.Z&&e.available}));(a.length!==i.length||!a.every((function(e,t){return e.bandwidth===i[t].bandwidth})))&&(this._engine.applyABRRestriction(n),this._tracks.forEach((function(e){!i.includes(e)&&e instanceof w.Z?(e.available=!1,e.active=!1):e.available=!0})),this.getActiveTracks().video||(i[0].active=!0),this.dispatchEvent(new g.v(m.nQ.TRACKS_CHANGED,{tracks:this._tracks.filter((function(e){return e.available}))})))}else E._logger.warn("Invalid restriction, Nothing has changed values do not meet the restriction")}}},{key:"_applyTextTrackConfig",value:function(){var e=h.c7.getPropertyPath(this._config,"text.textTrackDisplaySetting"),t=h.c7.getPropertyPath(this._config,"text.useNativeTextTrack"),n=h.c7.getPropertyPath(this._config,"text.textStyle");if(e&&!t){var r=h.c7.mergeDeep({},e,{align:(null==e?void 0:e.align)||(null==n?void 0:n.textAlign)||"center"});h.c7.getPropertyPath(this._config,"text.forceCenter")&&(r.position="auto",r.align="center",r.size="100"),this.setTextDisplaySettings(r)}try{n&&(this.textStyle=P.Z.fromJson(n))}catch(e){E._logger.warn(e)}}},{key:"getThumbnail",value:function(e){return this._externalThumbnailsHandler.isUsingVttThumbnails()?this._externalThumbnailsHandler.getThumbnail(e):this._engine?this._engine.getThumbnail(e):null}},{key:"setTextDisplaySettings",value:function(e){this._textDisplaySettings=h.c7.mergeDeep(this._textDisplaySettings,e),this._updateCueDisplaySettings();for(var t=0;t<this._activeTextCues.length;t++)this._activeTextCues[t].hasBeenReset=!0;this._updateTextDisplay(this._activeTextCues)}},{key:"textDisplaySetting",get:function(){return h.c7.copyDeep(this._textDisplaySettings)}},{key:"textStyle",get:function(){return this._textStyle.clone()},set:function(e){if(!(e instanceof P.Z))throw new Error("Style must be instance of TextStyle");(0,Ce.resetSubtitleStyleSheet)(this._playerId);try{this._textStyle=e,this._config.text.useNativeTextTrack?this._applyCustomSubtitleStyles():this._engine&&(this._engine.resetAllCues(),this._externalCaptionsHandler.resetAllCues(),this._updateTextDisplay(this._activeTextCues)),this.dispatchEvent(new g.v(m.nQ.TEXT_STYLE_CHANGED))}catch(e){E._logger.error(e.message)}}},{key:"isFullscreen",value:function(){return this._fullscreenController.isFullscreen()}},{key:"notifyEnterFullscreen",value:function(){this.isFullscreen()&&this.dispatchEvent(new g.v(m.nQ.ENTER_FULLSCREEN))}},{key:"notifyExitFullscreen",value:function(){this.isFullscreen()||this.dispatchEvent(new g.v(m.nQ.EXIT_FULLSCREEN))}},{key:"enterFullscreen",value:function(e){this._fullscreenController.enterFullscreen(e)}},{key:"exitFullscreen",value:function(){this._fullscreenController.exitFullscreen()}},{key:"enterPictureInPicture",value:function(){this.isFullscreen()&&this.exitFullscreen(),this._engine&&!this._engine.isInPictureInPicture&&this._engine.enterPictureInPicture()}},{key:"exitPictureInPicture",value:function(){this._engine&&this._engine.isInPictureInPicture&&this._engine.exitPictureInPicture()}},{key:"isInPictureInPicture",value:function(){return!!this._engine&&this._engine.isInPictureInPicture}},{key:"isPictureInPictureSupported",value:function(){return!!this._config.playback.pictureInPicture&&this._engine.isPictureInPictureSupported()}},{key:"isVr",value:function(){return!!this._sources.vr}},{key:"getLogLevel",value:function(e){return(0,k.ZO)(e)}},{key:"setLogLevel",value:function(e,t){(0,k.Ub)(e,t)}},{key:"getDrmInfo",value:function(){return this._engine.getDrmInfo()}},{key:"_applyCustomSubtitleStyles",value:function(){try{var e,t=(null===(e=this._el)||void 0===e||null===(e=e.parentElement)||void 0===e?void 0:e.id)||this._playerId;if(this._config.text.useNativeTextTrack&&!this._config.text.useShakaTextTrackDisplay){var n=(0,Ce.getSubtitleStyleSheet)(this._playerId);Ae.applyNativeTextTrackStyles(n,this._textStyle,t,$e)}else if(this._config.text.useShakaTextTrackDisplay){var r,i;(0,Ce.resetSubtitleStyleSheet)(this._playerId);var a=(0,Ce.getSubtitleStyleSheet)(this._playerId);null===(r=this._engine.mediaSourceAdapter)||void 0===r||null===(i=r.applyTextTrackStyles)||void 0===i||i.call(r,a,this._textStyle,t)}}catch(e){E._logger.error("Failed to add custom text style: ".concat(e.message))}}},{key:"_resetTextDisplay",value:function(){this._activeTextCues=[],this._updateTextDisplay([])}},{key:"_prepareVideoElement",value:function(){var e=this;Ee.zv.getEngines().forEach((function(t){t.prepareVideoElement(e._playerId)}))}},{key:"_setConfigLogLevel",value:function(e){e.log&&e.log.level&&k.in[e.log.level]&&(0,k.Ub)(k.in[e.log.level]),e.log&&"function"==typeof e.log.handler&&(0,k.hs)(e.log.handler)}},{key:"_hasSources",value:function(e){return!!e&&!!Object.values(J.j).find((function(t){return e[t]&&e[t].length>0}))}},{key:"_createPlayerContainer",value:function(){var e=this._el=h.is.createElement("div");h.is.addClassName(e,"playkit-container"),h.is.setAttribute(e,"id",this._playerId),h.is.setAttribute(e,"tabindex","-1")}},{key:"_appendEngineEl",value:function(){if(this._el){var e=this._engine.getVideoElement(),t="".concat($e);h.is.addClassName(e,t);var n="".concat($e,"-").concat(this._engine.id);h.is.addClassName(e,n),h.is.prependTo(e,this._el),h.is.setAttribute(e,"tabindex","-1"),this._isYouTubeEngine()?this._el.style.zIndex="1":this._el.style.zIndex&&(this._el.style.zIndex="")}}},{key:"_appendDomElements",value:function(){var e=h.is.createElement("div");h.is.addClassName(e,"playkit-video-filter"),h.is.appendChild(this._el,e),this._blackCoverEl=h.is.createElement("div"),h.is.addClassName(this._blackCoverEl,"playkit-black-cover"),h.is.appendChild(this._el,this._blackCoverEl);var t=this._posterManager.getElement();h.is.addClassName(t,"playkit-poster"),h.is.appendChild(this._el,t),this._textDisplayEl=h.is.createElement("div"),h.is.addClassName(this._textDisplayEl,"playkit-subtitles"),h.is.appendChild(this._el,this._textDisplayEl)}},{key:"_createReadyPromise",value:function(){var e=this;this._readyPromise=new Promise((function(t,n){e._eventManager.listenOnce(e,m.nQ.TRACKS_CHANGED,(function(){e.dispatchEvent(new g.v(m.nQ.MEDIA_LOADED)),e._handlePlaybackRate(),t()})),e._eventManager.listen(e,m.Rk.ERROR,(function(e){e.payload.severity===_.Z.Severity.CRITICAL&&n()}))})).catch((function(){}))}},{key:"_handlePlaybackRate",value:function(){"number"==typeof this._playbackAttributesState.rate?this.playbackRate=this._playbackAttributesState.rate:"number"==typeof this._config.playback.playbackRate?this.playbackRate=this._config.playback.playbackRate:this.playbackRate=this.defaultPlaybackRate}},{key:"_selectEngineByPriority",value:function(){var e,t=this,n=this._config.playback.streamPriority,r=this._config.playback.preferNative,i=this._sources,a=Qe(n);try{var o,s=function(){var n=e.value,a="string"==typeof n.engine?n.engine.toLowerCase():"",o="string"==typeof n.format?n.format.toLowerCase():"",s=Ee.zv.getEngines().find((function(e){return e.id===a}));if(s){var l=i[o];if(l&&l.length>0){var u=l[0];if(s.canPlaySource(u,r[o],t._config.drm))return E._logger.debug("Source selected: ",l),t._loadEngine(s,u),t._engineType=a,t._streamType=o,{v:!0}}}};for(a.s();!(e=a.n()).done;)if(o=s())return o.v}catch(e){a.e(e)}finally{a.f()}return!1}},{key:"_loadEngine",value:function(e,t){if(this._engine)if(this._engine.id===e.id)this._engine.restore(t,Xe(Xe({},this._config),{},{sources:this._sources}));else{if(this._engine.destroy(),this._createEngine(e,t),this._isYouTubeEngine()){var n=".".concat(this._el.className," .").concat($e,".").concat($e,"-").concat(this._engine.id),r=h.is.getElementBySelector(n);r&&h.is.removeChild(this._el,r)}this._appendEngineEl()}else this._createEngine(e,t),this._appendEngineEl()}},{key:"_isYouTubeEngine",value:function(){var e;return"youtube"===(null===(e=this._engine)||void 0===e?void 0:e.id)}},{key:"_createEngine",value:function(e,t){var n=e.createEngine(t,Xe(Xe({},this._config),{},{sources:this._sources}),this._playerId);this._engine=this._engineDecoratorManager?new Ie(n,this._engineDecoratorManager):n,this._cachedUrls.length&&this.setCachedUrls(this._cachedUrls)}},{key:"_attachMedia",value:function(){var e=this;if(this._engine){Object.keys(m.Rk).forEach((function(t){e._eventManager.listen(e._engine,m.Rk[t],(function(t){return e.dispatchEvent(t)}))})),this._eventManager.listen(this._engine,m.Rk.SEEKING,(function(){e.isLive()&&(e._isOnLiveEdge=!(!e.duration||!e.currentTime)&&e.currentTime>=e.duration-1&&!e.paused)})),this._eventManager.listen(this._engine,m.nQ.MEDIA_RECOVERED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(this._engine,m.nQ.IMAGE_TRACK_CHANGED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(this._engine,m.nQ.TEXT_TRACK_ADDED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(this._engine,m.nQ.VIDEO_TRACK_CHANGED,(function(t){return e._markActiveTrack(t.payload.selectedVideoTrack),e.dispatchEvent(t)})),this._eventManager.listen(this._engine,m.nQ.AUDIO_TRACK_CHANGED,(function(t){e.ready().then((function(){return e._playbackAttributesState.audioLanguage=t.payload.selectedAudioTrack.language})),e._markActiveTrack(t.payload.selectedAudioTrack),e.dispatchEvent(t)})),this._eventManager.listen(this._engine,m.nQ.TEXT_TRACK_CHANGED,(function(t){return e._onTextTrackChanged(t)})),this._eventManager.listen(this._engine,m.nQ.TRACKS_CHANGED,(function(t){return e._onTracksChanged(t)})),this._eventManager.listen(this._engine,m.nQ.TEXT_CUE_CHANGED,(function(t){return e._onCueChange(t)})),this._eventManager.listen(this._engine,m.nQ.ABR_MODE_CHANGED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(this._engine,m.nQ.TIMED_METADATA,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(this._engine,m.nQ.TIMED_METADATA_CHANGE,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(this._engine,m.nQ.TIMED_METADATA_ADDED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(this._engine,m.nQ.PLAY_FAILED,(function(t){e._onPlayFailed(t),e.dispatchEvent(t)})),this._eventManager.listen(this._engine,m.nQ.FPS_DROP,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(this._engine,m.nQ.FRAG_LOADED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(this._engine,m.nQ.DRM_LICENSE_LOADED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(this._engine,m.nQ.MANIFEST_LOADED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(this._engine,m.nQ.MEDIA_RECOVERED,(function(){return e._handleRecovered()})),this._eventManager.listen(this,m.nQ.CHANGE_SOURCE_ENDED,(function(){return e._addTitleOnIframe()})),this._eventManager.listen(this,m.Rk.PLAY,this._onPlay.bind(this)),this._eventManager.listen(this,m.Rk.PAUSE,this._onPause.bind(this)),this._eventManager.listen(this,m.Rk.PLAYING,this._onPlaying.bind(this)),this._eventManager.listen(this,m.Rk.ENDED,this._onEnded.bind(this)),this._eventManager.listen(this,m.nQ.MUTE_CHANGE,(function(t){var n;e._playbackAttributesState.muted=(null===(n=t.payload)||void 0===n?void 0:n.mute)||e.muted})),this._eventManager.listen(this,m.Rk.VOLUME_CHANGE,(function(){e._playbackAttributesState.volume=e.volume})),this._eventManager.listen(this,m.Rk.RATE_CHANGE,(function(){e._playbackAttributesState.rate=e.playbackRate})),this._eventManager.listen(this,m.nQ.ENTER_FULLSCREEN,(function(){return e._resetTextCuesAndReposition()})),this._eventManager.listen(this,m.nQ.EXIT_FULLSCREEN,(function(){return e._resetTextCuesAndReposition()})),this._eventManager.listen(this._resizeWatcher,m.nQ.RESIZE,(function(t){e._resetTextCuesAndReposition(),e.dispatchEvent(t)})),this._eventManager.listen(this._externalCaptionsHandler,m.nQ.TEXT_CUE_CHANGED,(function(t){return e._onCueChange(t)})),this._eventManager.listen(this._externalCaptionsHandler,m.nQ.TEXT_TRACK_CHANGED,(function(t){return e._onTextTrackChanged(t)})),this._eventManager.listen(this._externalCaptionsHandler,m.Rk.ERROR,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(this._externalThumbnailsHandler,m.Rk.ERROR,(function(t){return e.dispatchEvent(t)}));var t=h.is.getElementBySelector("#".concat(this.config.targetId));t&&this._eventManager.listen(t,"click",(function(){e._hasUserInteracted=!0,e.dispatchEvent(new g.v(m.nQ.USER_GESTURE))}),{capture:!0})}}},{key:"_addTitleOnIframe",value:function(){if(window.self!==window.top){var e=h.is.getElementBySelector("head"),t=e.querySelector("title");t||(t=h.is.createElement("title"),e.appendChild(t)),t.innerHTML=this._sources.metadata.name?this._sources.metadata.name:""}}},{key:"_handleRecovered",value:function(){this._stateManager.currentState.type===T.Y.PLAYING&&this.play()}},{key:"_onTextTrackChanged",value:function(e){var t=this;this.ready().then((function(){return t._playbackAttributesState.textLanguage=e.payload.selectedTextTrack.language})),this._markActiveTrack(e.payload.selectedTextTrack),this.dispatchEvent(e)}},{key:"_resetTextCuesAndReposition",value:function(){this._engine.resetAllCues(),this._externalCaptionsHandler.resetAllCues(),this._updateTextDisplay([]);for(var e=0;e<this._activeTextCues.length;e++)this._activeTextCues[e].hasBeenReset=!0;this._updateTextDisplay(this._activeTextCues)}},{key:"_handlePlaybackOptions",value:function(){if(this._config.playback=this._config.playback||{},"boolean"==typeof this._playbackAttributesState.muted?this.muted=this._playbackAttributesState.muted:"boolean"==typeof this._config.playback.muted&&(this.muted=this._config.playback.muted),"number"==typeof this._playbackAttributesState.volume?this.volume=this._playbackAttributesState.volume:"number"==typeof this._config.playback.volume&&(this.volume=this._config.playback.volume),"boolean"==typeof this._config.playback.playsinline&&(this.playsinline=this._config.playback.playsinline),"string"==typeof this._config.playback.crossOrigin&&(this.crossOrigin=this._config.playback.crossOrigin),"number"==typeof this._config.playback.defaultPlaybackRate&&(this._defaultPlaybackRate=this._config.playback.defaultPlaybackRate),Array.isArray(this._config.playback.playbackRates)){var e=this._config.playback.playbackRates.filter((function(e,t,n){return e>0&&e<=16&&n.indexOf(e)===t})).sort((function(e,t){return e-t}));e&&(this._playbackRates=e)}}},{key:"_handlePreload",value:function(){"auto"!==this._config.playback.preload||this._config.playback.autoplay||this.load()}},{key:"_autoPlay",value:function(){var e=this,t=this._config.playback.allowMutedAutoPlay;E.getCapabilities(this.engineType).then((function(s){s.autoplay?r():s.mutedAutoPlay?n()&&!e._fallbackToMutedAutoPlay?i():t?a():o():o()}));var n=function(){E._logger.debug("Checking muted value");var t="boolean"==typeof e._playbackAttributesState.muted&&e._playbackAttributesState.muted||"boolean"==typeof e._config.playback.muted&&e._config.playback.muted||e.muted;return E._logger.debug("Muted value is:",t),t},r=function(){E._logger.debug("Start autoplay"),e._fallbackToMutedAutoPlay&&(e._fallbackToMutedAutoPlay=!1,e.muted=!1),e.play()},i=function(){E._logger.debug("Start muted autoplay"),e.play()},a=function(){E._logger.debug("Fallback to muted autoplay"),e._fallbackToMutedAutoPlay=!0,e.muted=!0,e.dispatchEvent(new g.v(m.nQ.FALLBACK_TO_MUTED_AUTOPLAY)),e.play()},o=function(){E._logger.warn("Autoplay failed, pause player"),e._posterManager.show(),e.load(),e.dispatchEvent(new g.v(m.nQ.AUTOPLAY_FAILED))}}},{key:"_handleAutoPlay",value:function(){(this.isAudio()||this._config.playback.autoplay!==De.B.TRUE)&&this._posterManager.show(),this._config.playback.autoplay===De.B.TRUE&&this._autoPlay()}},{key:"_playAfterAsyncMiddleware",value:function(){var e=this;this._engine?this._play():this._eventManager.listenOnce(this,m.nQ.SOURCE_SELECTED,(function(){return e._play()}))}},{key:"_load",value:function(){var e=this;if(this._engine&&!this.src&&!this._loading){this._loading=!0;var t=this._sources.startTime;this._engine.load(t).then((function(n){e.isLive()&&(-1===t||Number(t)>=Number(e.duration))&&(e._isOnLiveEdge=!0),e._updateTracks(n.tracks),e.dispatchEvent(new g.v(m.nQ.TRACKS_CHANGED,{tracks:e._tracks})),e.sources.thumbnails&&e._externalThumbnailsHandler.load(e.sources.thumbnails)})).finally((function(){e._loading=!1,e._reset=!1}))}}},{key:"_handleDimensions",value:function(){var e=this.config.dimensions;h.c7.isObject(e)&&!h.c7.isEmptyObject(e)&&(this.dimensions=e)}},{key:"_play",value:function(){var e=this;this._shouldLoadAfterAttach&&(this._load(),this._shouldLoadAfterAttach=!1),this.ready().then((function(){e._shouldPlayerSeekToLiveEdge()&&e.seekToLiveEdge(),e._engine.play()}))}},{key:"_shouldPlayerSeekToLiveEdge",value:function(){if(this.isLive()){var e=!this.isDvr()||"number"==typeof this.currentTime&&this.currentTime<0;return this._firstPlay?!!this.src&&!this.isOnLiveEdge()&&void 0===this._sources.startTime:e}return!1}},{key:"_pause",value:function(){this._engine.pause()}},{key:"_setCurrentTime",value:function(e){if(this._engine&&h.Mr.isNumber(e)){var t=e;e<0&&(t=0);var n=this.isLive()?this._engine.duration:this._engine.duration-.1;t>n&&(t=n),this._engine.currentTime=t}}},{key:"_onPause",value:function(){this._isOnLiveEdge=!1}},{key:"_onPlay",value:function(){this._firstPlay&&(this._firstPlay=!1,this.dispatchEvent(new g.v(m.nQ.FIRST_PLAY)),this.hideBlackCover(),this._checkEndTime(),"number"==typeof this._playbackAttributesState.rate&&(this.playbackRate=this._playbackAttributesState.rate))}},{key:"_onPlaying",value:function(){this._firstPlaying||(this._firstPlaying=!0,this.isAudio()||this._posterManager.hide(),this.dispatchEvent(new g.v(m.nQ.FIRST_PLAYING))),this._engine&&this._pendingSelectedVideoTrack&&(this._engine.selectVideoTrack(this._pendingSelectedVideoTrack),this._pendingSelectedVideoTrack=void 0)}},{key:"_checkEndTime",value:function(){var e=this,t=this._sources.endTime;t&&"number"==typeof this.currentTime&&this.currentTime<t&&this._eventManager.listen(this._engine,m.Rk.TIME_UPDATE,(function n(){Math.floor(e.currentTime)===t&&(e.pause(),e._eventManager.unlisten(e._engine,m.Rk.TIME_UPDATE,n))}))}},{key:"_onPlayFailed",value:function(e){this._firstPlay&&this._config.playback.autoplay&&(this._posterManager.show(),this.dispatchEvent(new g.v(m.nQ.AUTOPLAY_FAILED,e.payload)))}},{key:"_onEnded",value:function(){this.paused||this._pause()}},{key:"_resetStateFlags",value:function(){this._loading=!1,this._firstPlay=!0,this._loadingMedia=!1,this._playbackStart=!1,this._firstPlaying=!1}},{key:"_calcRatio",value:function(e,t){if(void 0!==t.ratio&&(this._aspectRatio=t.ratio),this._aspectRatio){var n=this._aspectRatio.split(":").map((function(e){return Number(e)})),r=(0,i.Z)(n,2),a=r[0],o=r[1];if(t.width||!t.width&&!t.height){var s=o/a*e.clientWidth;e.style.height="".concat(s,"px")}else if(t.height&&!t.width){var l=a/o*e.clientHeight;e.style.width="".concat(l,"px")}}}},{key:"_onTracksChanged",value:function(e){this._updateTracks(e.payload.tracks),this.dispatchEvent(e)}},{key:"_updateTracks",value:function(e){var t;e&&(E._logger.debug("Tracks changed",e),this.config.playback.updateAudioDescriptionLabels&&(0,C._B)(e,null===(t=this._sources.metadata)||void 0===t?void 0:t.audioFlavors),this._tracks=null==e?void 0:e.concat(this._externalCaptionsHandler.getExternalTracks(e)),this._applyABRRestriction(this._config),this._addTextTrackOffOption(),this._maybeSetTracksLabels(),this._setDefaultTracks())}},{key:"_getTracksByType",value:function(e){var t;return null===(t=this._tracks)||void 0===t?void 0:t.reduce((function(t,n){return n instanceof e&&n.available&&t.push(n),t}),[])}},{key:"_getImageTracks",value:function(){return this._getTracksByType(Oe.Z)}},{key:"_getTextTracks",value:function(){return this._getTracksByType(x.PZ)}},{key:"_getVideoTracks",value:function(){return this._getTracksByType(w.Z)}},{key:"_getAudioTracks",value:function(){var e=this._getTracksByType(C.ZP),t=this._config.playback.alphabeticalSort,n=this._config.playback.prioritizeAudioDescription;return t&&(e=e.sort((function(e,t){var n,r,i=(null===(n=e.label)||void 0===n?void 0:n.toLowerCase())||e.language||"",a=(null===(r=t.label)||void 0===r?void 0:r.toLowerCase())||t.language||"";return i.localeCompare(a)}))),"boolean"==typeof n&&(e=e.sort((function(e,t){var r,i,a=!(null===(r=e.language)||void 0===r||!r.startsWith(nt));return a!==!(null===(i=t.language)||void 0===i||!i.startsWith(nt))?n?a?-1:1:a?1:-1:0}))),e}},{key:"_markActiveTrack",value:function(e){var t;if(e instanceof w.Z?t=this._getVideoTracks():e instanceof C.ZP?t=this._getAudioTracks():e instanceof x.PZ&&(t=this._getTextTracks()),t)for(var n=0;n<t.length;n++)t[n].active=e.index===t[n].index}},{key:"_onCueChange",value:function(e){E._logger.debug("Text cue changed",e.payload.cues);try{this._activeTextCues=e.payload.cues.filter((function(e,t,n){var r=n[t-1];return!r||!(e.startTime===r.startTime&&e.endTime===r.endTime&&e.text.trim()===r.text.trim())}))}catch(t){this._activeTextCues=e.payload.cues}this._updateCueDisplaySettings(),this._updateTextDisplay(this._activeTextCues),this.dispatchEvent(e)}},{key:"_updateCueDisplaySettings",value:function(){for(var e=this._activeTextCues,t=this._textDisplaySettings,n=0;n<e.length;n++){var r=e[n];for(var i in t)t[i]&&(r[i]=t[i])}}},{key:"_updateTextDisplay",value:function(e){this._config.text.useShakaTextTrackDisplay&&this._applyCustomSubtitleStyles(),this._config.text.useNativeTextTrack&&!this.isAudio()||this._config.text.useShakaTextTrackDisplay||function(e,t,n,r){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var a=[],o=z.getSimpleBoxPosition(i),s=o.height<o.width?o.height:o.width,l={font:Math.round(.058*s*100)/100*1*r.implicitFontScale+"px "+r.fontFamily,textAlign:r.textAlign,color:P.Z.toRGBA(r.fontColor,r.fontOpacity),backgroundColor:P.Z.toRGBA(r.backgroundColor,r.backgroundOpacity),textShadow:r.getTextShadow()};!function(){for(var n,r,s=0;s<t.length;s++)r=t[s],n=new K(e,r,l),i.appendChild(n.div),W(0,n,o,a),r.displayState=n.div,a.push(z.getSimpleBoxPosition(n))}()}else for(var u=0;u<t.length;u++)i.appendChild(t[u].displayState)}(window,e,this._textDisplayEl,this._textStyle)}},{key:"_addTextTrackOffOption",value:function(){var e=this._getTextTracks();e&&e.length&&this._tracks.push(new x.PZ({active:!1,kind:x.PZ.KIND.SUBTITLES,label:"Off",language:tt}))}},{key:"_setDefaultTracks",value:function(){var e=this,t=this.getActiveTracks(),n=this._getTextTracks().find((function(e){return e.default})),i=this.config.playback,a=this._getTextTracks().find((function(e){return x.PZ.langComparer(tt,e.language)})),o=this._getLanguage(this._getTextTracks(),i.textLanguage,n),s=!this._playbackAttributesState.textLanguage||this.config.disableUserCache?o:this._playbackAttributesState.textLanguage,l=this._getAudioTracks(),u=function(n){var a=e._playbackAttributesState.audioLanguage||i.audioLanguage,o=function(){var e,t,n=Qe(null!==(e=navigator)&&void 0!==e&&null!==(e=e.languages)&&void 0!==e&&e.length?(0,r.Z)(navigator.languages):b.language?[b.language]:[]);try{var i,a=function(){var e=t.value,n=l.find((function(t){var n;return!(null!==(n=t.language)&&void 0!==n&&n.startsWith(nt))&&S.Z.langComparer(e,t.language)}));if(n)return{v:n}};for(n.s();!(t=n.n()).done;)if(i=a())return i.v}catch(e){n.e(e)}finally{n.f()}return l.find((function(e){var t;return!(null!==(t=e.language)&&void 0!==t&&t.startsWith(nt))}))}();if(a||!0!==n)return i.audioLanguage||(null==o?void 0:o.language)||e._getLanguage(e._getAudioTracks(),i.audioLanguage,t.audio);var s=l.find((function(e){var t;return null===(t=e.language)||void 0===t?void 0:t.startsWith(nt)}));return s?s.language:(null==o?void 0:o.language)||e._getLanguage(l,i.audioLanguage,t.audio)}(i.prioritizeAudioDescription);i.captionsDisplay?s===i.textLanguage?this._setDefaultTrack(this._getTextTracks(),s,a,i.additionalTextLanguage):this._setDefaultTrack(this._getTextTracks(),s,a):(this._playbackAttributesState.textLanguage=o,this._setDefaultTrack(this._getTextTracks(),tt,a)),u===i.audioLanguage?this._setDefaultTrack(this._getAudioTracks(),u,t.audio,i.additionalAudioLanguage):this._setDefaultTrack(this._getAudioTracks(),u,t.audio),this._setDefaultVideoTrack()}},{key:"_getLanguage",value:function(e,t,n){var r=t;if(r===et){var i=e.find((function(e){return S.Z.langComparer(b.language,e.language)}));n&&n.language!==tt?r=n.language:i?r=i.language:e&&e.length>0&&(r=e[0].language)}return r}},{key:"_setDefaultTrack",value:function(e,t,n,r){var i=this,a=function(e){i.selectTrack(e),i._markActiveTrack(e)},o=e.find((function(e){return S.Z.langComparer(t,e.language,r,!0)}));if(o)a(o);else{var s=e.find((function(e){return S.Z.langComparer(t,e.language,r,!1)}));s?a(s):n&&!n.active&&this.selectTrack(n)}}},{key:"_setDefaultVideoTrack",value:function(){var e=this,t=this._getVideoTracks().sort((function(e,t){return t.bandwidth-e.bandwidth})),n=t.find((function(t){var n;return t.label&&t.label===(null===(n=e._playbackAttributesState.videoTrack)||void 0===n?void 0:n.label)}));n||(n=t.find((function(t){var n;return t.height&&t.height===(null===(n=e._playbackAttributesState.videoTrack)||void 0===n?void 0:n.height)}))),n&&this.selectTrack(n)}},{key:"_maybeSetTracksLabels",value:function(){var e=this._config.customLabels;if(e)for(var t in e){if(!Object.prototype.hasOwnProperty.call(e,t))return;switch(t){case"qualities":this._setTracksCustomLabels(this._getVideoTracks(),e[t]);break;case"audio":this._setTracksCustomLabels(this._getAudioTracks(),e[t]);break;case"captions":this._setTracksCustomLabels(this._getTextTracks(),e[t])}}}},{key:"_setTracksCustomLabels",value:function(e,t){e.forEach((function(e){var n=t(h.c7.copyDeep(e));n&&(e.label=n)}))}},{key:"Event",get:function(){return m.tw}},{key:"TextStyle",get:function(){return P.Z}},{key:"State",get:function(){return T.Y}},{key:"Track",get:function(){return Q.V}},{key:"LogLevelType",get:function(){return k.hX}},{key:"LogLevel",get:function(){return k.in}},{key:"AbrMode",get:function(){return te.n}},{key:"MediaType",get:function(){return ee.D}},{key:"StreamType",get:function(){return J.j}},{key:"EngineType",get:function(){return $.r}},{key:"CorsType",get:function(){return ne.X}},{key:"AdBreakType",get:function(){return Se.S}},{key:"AdTagType",get:function(){return we.J}},{key:"Error",get:function(){return _.Z}},{key:"setCachedUrls",value:function(e){this._cachedUrls=e,this._engine&&this._engine.setCachedUrls&&(this._engine.setCachedUrls(e),this._cachedUrls=[])}},{key:"setSeekFrom",value:function(e){this._externalCaptionsHandler.seekFrom=e}},{key:"setClipTo",value:function(e){this._externalCaptionsHandler.clipTo=e}},{key:"clearReset",value:function(){this._reset=!1}}],[{key:"runCapabilities",value:function(){E._logger.debug("Running player capabilities"),Ee.zv.getEngines().forEach((function(e){return e.runCapabilities()}))}},{key:"getCapabilities",value:function(e){E._logger.debug("Get player capabilities",e);var t=[];return Ee.zv.getEngines().forEach((function(e){return t.push(e.getCapabilities())})),Promise.all(t).then((function(t){var n={};return t.forEach((function(e){return Object.assign(n,e)})),e?n[e]:n}))}},{key:"setCapabilities",value:function(e,t){E._logger.debug("Set player capabilities",e,t);var n=Ee.zv.getEngines().find((function(t){return t.id===e}));n&&n.setCapabilities(t)}},{key:"_defaultConfig",get:function(){return h.c7.copyDeep(se)}}]),E}(v.H);(0,d.Z)(rt,"_logger",(0,k.ZP)("Player"))},9769:function(e,t,n){"use strict";n.d(t,{Y:function(){return r}});var r={IDLE:"idle",LOADING:"loading",PLAYING:"playing",PAUSED:"paused",BUFFERING:"buffering"}},4919:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5671),i=n(3144),a=function(){function e(t){(0,r.Z)(this,e),this.type=t,this._duration=0,this._timestamp=Date.now()/1e3}return(0,i.Z)(e,[{key:"duration",get:function(){return this._duration},set:function(e){this._duration=e-this._timestamp}}]),e}()},5590:function(e,t,n){"use strict";n.d(t,{F:function(){return a}});var r=n(5671),i=n(3144),a=function(){function e(t){(0,r.Z)(this,e);var n=t.url,i=t.width,a=t.height,o=t.x,s=t.y;this._url=n,this._width=i,this._height=a,this._x=o,this._y=s}return(0,i.Z)(e,[{key:"url",get:function(){return this._url}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}}]),e}()},6820:function(e,t,n){"use strict";n.d(t,{n:function(){return r}});var r={MANUAL:"manual",AUTO:"auto"}},7812:function(e,t,n){"use strict";n.d(t,{_B:function(){return p},x6:function(){return c}});var r=n(5671),i=n(3144),a=n(9340),o=n(2963),s=n(1120),l=n(8413),u=function(e){return e.AUDIO_ONLY="audio_only",e.AUDIO_DESCRIPTION="audio_description",e}(u||{}),c=function(e){return e.MAIN="main",e.DESCRIPTION="description",e}({}),d=function(e){(0,a.Z)(u,e);var t,n,l=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var i=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,o.Z)(this,e)});function u(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.Z)(this,u),(e=l.call(this,t))._kind=t.kind||c.MAIN,e}return(0,i.Z)(u,[{key:"kind",get:function(){return this._kind},set:function(e){this._kind=e}}]),u}(l.Z);function p(e,t){if(null!=e&&e.length){var n=t&&t.length>0,r=0;e.forEach((function(e){var i,a;e instanceof d&&((n&&(null===(i=t[r])||void 0===i||null===(i=i.tags)||void 0===i?void 0:i.includes(u.AUDIO_DESCRIPTION))||e.kind.includes(c.DESCRIPTION))&&(e.language="ad-".concat(e.language),!n||null!==(a=t[r])&&void 0!==a&&a.label||(e.label="".concat(e.label," - Audio Description"))),r++)}))}}t.ZP=d},2983:function(e,t,n){"use strict";var r=n(5671),i=n(3144),a=n(9340),o=n(2963),s=n(1120),l=function(e){(0,a.Z)(u,e);var t,n,l=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var i=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,o.Z)(this,e)});function u(e){var t;(0,r.Z)(this,u),t=l.call(this,e);var n=e.url,i=e.width,a=e.height,o=e.duration,s=e.rows,c=e.cols,d=e.customData;return t._url=n,t._width=i,t._height=a,t._duration=o,t._customData=d,t._rows=s||1,t._cols=c||1,t}return(0,i.Z)(u,[{key:"url",get:function(){return this._url}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"duration",get:function(){return this._duration}},{key:"rows",get:function(){return this._rows}},{key:"cols",get:function(){return this._cols}},{key:"customData",get:function(){return this._customData}},{key:"sliceWidth",get:function(){return this._width/this._cols}},{key:"sliceHeight",get:function(){return this._height/this._rows}}]),u}(n(8413).Z);t.Z=l},6234:function(e,t,n){"use strict";var r=n(5671),i=n(3144),a=n(4942),o=function(){function e(){(0,r.Z)(this,e),(0,a.Z)(this,"_fontSizeIndex",2),(0,a.Z)(this,"textAlign",e.FontAlignment[0].value),(0,a.Z)(this,"fontFamily",e.FontFamily.SANS_SERIF),(0,a.Z)(this,"fontColor",e.StandardColors.WHITE),(0,a.Z)(this,"fontOpacity",e.StandardOpacities.OPAQUE),(0,a.Z)(this,"backgroundColor",e.StandardColors.BLACK),(0,a.Z)(this,"backgroundOpacity",e.StandardOpacities.OPAQUE),(0,a.Z)(this,"fontEdge",e.EdgeStyles.NONE)}return(0,i.Z)(e,[{key:"fontSize",get:function(){return e.FontSizes[this._fontSizeIndex].label},set:function(t){var n=e.FontSizes.findIndex((function(e){return e.label===t}));-1!==n&&(this._fontSizeIndex=n)}},{key:"fontScale",get:function(){return e.FontSizes[this._fontSizeIndex].value},set:function(t){var n=e.FontSizes.findIndex((function(e){return e.value===t}));-1!==n&&(this._fontSizeIndex=n)}},{key:"getTextShadow",value:function(){for(var t=[],n=0;n<this.fontEdge.length;n++){var r=this.fontEdge[n].slice(0,3),i=this.fontEdge[n].slice(3,6);t.push(e.toRGBA(r,this.fontOpacity)+" "+i.join("px ")+"px")}return t.join(",")}},{key:"toCSS",value:function(){var t=[];return t.push("text-align: "+this.textAlign),t.push("font-family: "+this.fontFamily),t.push("color: "+e.toRGBA(this.fontColor,this.fontOpacity)),t.push("background: linear-gradient(0deg, ".concat(e.toRGBA(this.backgroundColor,this.backgroundOpacity),", ").concat(e.toRGBA(this.backgroundColor,this.backgroundOpacity),")")),t.push("font-size: "+this.fontSize),t.push("text-shadow: "+this.getTextShadow()),t.join("!important; ")}},{key:"clone",value:function(){return e.fromJson(e.toJson(this))}},{key:"isEqual",value:function(t){return JSON.stringify(e.toJson(this))===JSON.stringify(e.toJson(t))}},{key:"implicitFontScale",get:function(){return.25*e.FontSizes[this._fontSizeIndex].value+1}}],[{key:"toRGBA",value:function(e,t){return"rgba("+e.concat(t).join(",")+")"}},{key:"fromJson",value:function(t){var n=function(e,t){return null!=e?e:t},r=new e;return r.fontEdge=n(t.fontEdge,r.fontEdge),r.fontSize=n(t.fontSize,r.fontSize),r.textAlign=n(t.textAlign,r.textAlign),r.fontScale=n(t.fontScale,r.fontScale),r.fontColor=n(t.fontColor,r.fontColor),r.fontOpacity=n(t.fontOpacity,r.fontOpacity),r.backgroundColor=n(t.backgroundColor,r.backgroundColor),r.backgroundOpacity=n(t.backgroundOpacity,r.backgroundOpacity),r.fontFamily=n(t.fontFamily,r.fontFamily),r}},{key:"toJson",value:function(e){return{fontEdge:e.fontEdge,fontSize:e.fontSize,textAlign:e.textAlign,fontScale:e.fontScale,fontColor:e.fontColor,fontOpacity:e.fontOpacity,backgroundColor:e.backgroundColor,backgroundOpacity:e.backgroundOpacity,fontFamily:e.fontFamily}}}]),e}();(0,a.Z)(o,"FontFamily",{ARIAL:"Arial",HELVETICA:"Helvetica",VERDANA:"Verdana",SANS_SERIF:"sans-serif"}),(0,a.Z)(o,"StandardColors",{WHITE:[255,255,255],BLACK:[0,0,0],RED:[255,0,0],GREEN:[0,255,0],BLUE:[0,0,255],YELLOW:[255,255,0],MAGENTA:[255,0,255],CYAN:[0,255,255]}),(0,a.Z)(o,"StandardOpacities",{OPAQUE:1,SEMI_HIGH:.75,SEMI_LOW:.25,TRANSPARENT:0}),(0,a.Z)(o,"EdgeStyles",{NONE:[],RAISED:[[34,34,34,1,1,0],[34,34,34,2,2,0],[34,34,34,3,3,0]],DEPRESSED:[[204,204,204,1,1,0],[204,204,204,0,1,0],[34,34,34,-1,-1,0],[34,34,34,0,-1,0]],UNIFORM:[[34,34,34,0,0,4],[34,34,34,0,0,4],[34,34,34,0,0,4],[34,34,34,0,0,4]],DROP:[[34,34,34,2,2,3],[34,34,34,2,2,4],[34,34,34,2,2,5]]}),(0,a.Z)(o,"FontSizes",[{value:-2,label:"50%"},{value:-1,label:"75%"},{value:0,label:"100%"},{value:2,label:"200%"},{value:3,label:"300%"},{value:4,label:"400%"}]),(0,a.Z)(o,"FontAlignment",[{label:"Default",value:"default"},{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]),t.Z=o},6462:function(e,t,n){"use strict";n.d(t,{PZ:function(){return p},ZP:function(){return p},z6:function(){return f}});var r=n(5671),i=n(3144),a=n(9340),o=n(2963),s=n(1120),l=n(4942),u=n(8413),c=n(962);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){(0,a.Z)(u,e);var t,n,l=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var i=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,o.Z)(this,e)});function u(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.Z)(this,u),(e=l.call(this,t))._label=e.label||e.language,e._kind=t.kind,e._external=t.external,e._index=u._generateIndex(),e._default=t.default||!1,e}return(0,i.Z)(u,[{key:"mode",get:function(){return this._mode},set:function(e){this._mode=e}},{key:"kind",get:function(){return this._kind}},{key:"external",get:function(){return this._external}},{key:"default",get:function(){return this._default}}],[{key:"_generateIndex",value:function(){return u._tracksCount++}},{key:"reset",value:function(){u._tracksCount=0}},{key:"isMetaDataTrack",value:function(e){return e&&e.kind===u.KIND.METADATA}},{key:"isNativeTextTrack",value:function(e){return e&&[u.KIND.SUBTITLES,u.KIND.CAPTIONS].includes(e.kind)}},{key:"isExternalTrack",value:function(e){return e&&[e.language,e.label].includes(u.EXTERNAL_TRACK_ID)}}]),u}(u.Z);function f(e){var t,n=[],r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(VTTCue&&i instanceof VTTCue||window.DataCue&&i instanceof window.DataCue)n.push(i);else if(TextTrackCue&&i instanceof TextTrackCue)try{n.push(new VTTCue(i.startTime,i.endTime,i.text))}catch(e){new c.Z(c.Z.Severity.RECOVERABLE,c.Z.Category.TEXT,c.Z.Code.UNABLE_TO_CREATE_TEXT_CUE,e)}}}catch(e){r.e(e)}finally{r.f()}return n}(0,l.Z)(p,"MODE",{DISABLED:"disabled",SHOWING:"showing",HIDDEN:"hidden"}),(0,l.Z)(p,"KIND",{METADATA:"metadata",SUBTITLES:"subtitles",CAPTIONS:"captions"}),(0,l.Z)(p,"EXTERNAL_TRACK_ID","playkit-external-track"),(0,l.Z)(p,"_tracksCount",0)},375:function(e,t,n){"use strict";n.d(t,{D:function(){return a},PC:function(){return o},cP:function(){return s}});var r=n(3144),i=n(5671),a=(0,r.Z)((function e(t,n,r,a,o){(0,i.Z)(this,e),this.startTime=t,this.endTime=n,this.id=r,this.type=a,this.metadata=o}));function o(e){try{var t=e.startTime,n=e.endTime,r=e.id,i=e.type,a=e.metadata,o=new VTTCue(t,n,""),s={key:i,data:a};return o.id=r,o.value=s,o}catch(e){return null}}function s(e){if(e){var t=e.startTime,n=e.endTime,r=e.id;if(l(e)){var i=l(e),o=i.type,s=i.metadata;return new a(t,n,r,o,s)}}return null}function l(e){if(e&&"value"in e&&e.value){var t=e.type,n=e.value,r=e.track,i=n.key,o=n.data,s="org.id3"===t||"id3"===(r&&r.label),l=Object.values(a.TYPE).find((function(e){return e===i}));return l||(l=s?a.TYPE.ID3:a.TYPE.CUSTOM),{type:l,metadata:s||!o?n:o}}return null}a.TYPE={ID3:"id3",EMSG:"emsg",CUE_POINT:"cuepoint",CUSTOM:"custom"}},5856:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});var r={VIDEO:"video",AUDIO:"audio",TEXT:"text",IMAGE:"image"}},8413:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(3433),i=n(5671),a=n(3144);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.Z)(this,e),this._id=t.id,this._active=t.active,this._label=t.label,this._language=t.language,this._index=t.index,this._available="boolean"!=typeof t.available||t.available,this.clone=e.clone.bind(null,this)}return(0,a.Z)(e,[{key:"id",get:function(){return this._id}},{key:"active",get:function(){return this._active},set:function(e){this._active=e}},{key:"label",get:function(){return this._label},set:function(e){this._label=e}},{key:"language",get:function(){return this._language},set:function(e){this._language=e}},{key:"index",get:function(){return this._index},set:function(e){this._index=e}},{key:"available",get:function(){return this._available},set:function(e){this._available=e}}],[{key:"langComparer",value:function(t,n,i,a){try{var o;return o=Array.isArray(i)?[t].concat((0,r.Z)(i)):[t,i],e._langComparer(o,n,a)}catch(e){return!1}}},{key:"_langComparer",value:function(e,t,n){var r,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(""!==(null==a?void 0:a.trim()))if(n){if(this._isLangEqual(a,t))return!0}else if(this._isLangPrefixEqual(a,t))return!0}}catch(e){i.e(e)}finally{i.f()}return!1}},{key:"_isLangEqual",value:function(e,t){return e.toLowerCase()===t.toLowerCase()}},{key:"_isLangPrefixEqual",value:function(e,t){return e.toLowerCase().startsWith(t.toLowerCase())||t.toLowerCase().startsWith(e.toLowerCase())}},{key:"clone",value:function(e){return Object.assign(Object.create(Object.getPrototypeOf(e)),e)}}]),e}()},4877:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(5671),i=n(3144),a=n(9340),o=n(2963),s=n(1120),l=function(e){(0,a.Z)(u,e);var t,n,l=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var i=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,o.Z)(this,e)});function u(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.Z)(this,u),(e=l.call(this,t))._bandwidth=t.bandwidth,e._width=t.width,e._height=t.height,e._label=t.label?t.label:e._height?e._height+"p":void 0,e}return(0,i.Z)(u,[{key:"bandwidth",get:function(){return this._bandwidth}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}}]),u}(n(8413).Z)},9150:function(e,t,n){"use strict";n.r(t),n.d(t,{TrackType:function(){return r.V}});var r=n(5856),i=n(5901),a={};for(var o in i)["default","TrackType"].indexOf(o)<0&&(a[o]=function(e){return i[e]}.bind(0,o));n.d(t,a)},2069:function(e,t,n){"use strict";var r,i=n(2238),a=n.n(i),o=/^.*(web0s).*(smarttv).*$/i,s=/^.*(smart-tv).*(tizen).*$/i,l=/^.*(vidaa).*(smarttv).*$/i,u=[[s],[[a().BROWSER.NAME,"SAMSUNG_TV_BROWSER"],[a().BROWSER.MAJOR,""],[a().BROWSER.VERSION,""]]],c=[[o],[a().OS.NAME],[l],[a().OS.NAME]],d=[[o],[[a().DEVICE.VENDOR,"LG"],[a().DEVICE.TYPE,a().DEVICE.SMARTTV]],[s],[[a().DEVICE.VENDOR,"SAMSUNG"],[a().DEVICE.TYPE,a().DEVICE.SMARTTV]],[l],[[a().DEVICE.VENDOR,"HISENSE"],[a().DEVICE.TYPE,a().DEVICE.SMARTTV]],[/^.*(smart-tv|smarttv).*$/i],[[a().DEVICE.TYPE,a().DEVICE.SMARTTV]]],p=[[/(edg)\/((\d+)?[\w.]+)/i],[[a().BROWSER.NAME,"Edge"],a().BROWSER.VERSION,a().BROWSER.MAJOR]],f=[].concat(p,u),h=new(a())(void 0,{browser:f,device:d,os:c}).getResult();h.isConsole=h.device.type===a().DEVICE.CONSOLE,h.isSmartTV=h.device.type===a().DEVICE.SMARTTV,h.isMobile=h.device.type===a().DEVICE.MOBILE,h.isTablet=h.device.type===a().DEVICE.TABLET,h.isWearable=h.device.type===a().DEVICE.WEARABLE,h.isEmbedded=h.device.type===a().DEVICE.EMBEDDED,h.isIPadOS="Mac OS"===h.os.name&&"ontouchend"in document,h.isSafari=Boolean(null===(r=h.browser.name)||void 0===r?void 0:r.includes("Safari")),h.isIOS="iOS"===h.os.name,h.isMacOS="Mac OS"===h.os.name,t.Z=h},7916:function(e,t,n){"use strict";n.r(t),n.d(t,{Dom:function(){return r.is},Generator:function(){return r.RO},Http:function(){return r.eV},MultiMap:function(){return y.k},Number:function(){return r.Mr},Object:function(){return r.c7},ResizeWatcher:function(){return f},String:function(){return r.Ld},VERSION:function(){return r.q4},binarySearch:function(){return g},getSubtitleStyleSheet:function(){return m},resetSubtitleStyleSheet:function(){return b}});var r=n(4821),i=n(4942),a=n(5671),o=n(3144),s=n(9340),l=n(2963),u=n(1120),c=n(8987),d=n(8171),p=n(2114),f=function(e){(0,s.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,u.Z)(t);if(n){var i=(0,u.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function i(){return(0,a.Z)(this,i),r.call(this)}return(0,o.Z)(i,[{key:"destroy",value:function(){this._observer&&this._observer.disconnect(),this._observer=void 0,this._el=void 0}},{key:"init",value:function(e){this._observer||(this._el=e,window.ResizeObserver?this._createNativeObserver():this._createIframeObserver(),this._el instanceof HTMLElement&&this._observer&&this._observer.observe(this._el))}},{key:"_createNativeObserver",value:function(){var e=this;this._observer=new ResizeObserver((function(t){t.forEach((function(){e._triggerResize()}))}))}},{key:"_createIframeObserver",value:function(){this._observer=new h(this._triggerResize.bind(this))}},{key:"_triggerResize",value:function(){this.dispatchEvent(new c.v(p.nQ.RESIZE))}}]),i}(d.H),h=function(){function e(t){(0,a.Z)(this,e),(0,i.Z)(this,"_observersStore",{}),this._onChangeCallback=t}return(0,o.Z)(e,[{key:"observe",value:function(e){var t=this,n=this._createIframe(),r=e.getAttribute("id");this._observersStore[r]=n,e.appendChild(n),n.contentWindow.onresize=function(){return t._onChangeCallback()}}},{key:"disconnect",value:function(){for(var e in this._observersStore){var t=document.getElementById(e),n=this._observersStore[e];n.onresize=null,t&&(t.removeChild(n),delete this._observersStore[t.getAttribute("id")])}}},{key:"_createIframe",value:function(){var e=document.createElement("iframe");return e.className="playkit-size-iframe",e}}]),e}(),y=n(9654);function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return 1};if(0===e.length||1===e.length&&0!==t(e[0]))return null;var n=Math.floor(e.length/2);return 0===t(e[n])?e[n]:t(e[n])>0?g(e.slice(0,n),t):g(e.slice(n+1),t)}var v="playkit-subtitles-style",m=function(e){var t=r.is.getElementBySelector(".".concat(e,".").concat(v));return t||(t=r.is.createElement("style"),r.is.addClassName(t,e),r.is.addClassName(t,v),r.is.appendChild(document.head,t)),t.sheet},b=function(e){var t=r.is.getElementBySelector(".".concat(e,".").concat(v));null==t||t.remove()}},4358:function(e,t,n){"use strict";n.d(t,{Ub:function(){return c},ZO:function(){return u},hX:function(){return o},hs:function(){return s},in:function(){return a},jl:function(){return l}});var r=n(5901),i=n.n(r),a={DEBUG:i().DEBUG,INFO:i().INFO,TIME:i().TIME,WARN:i().WARN,ERROR:i().ERROR,OFF:i().OFF,TRACE:i().TRACE},o={};function s(e){i().setHandler((function(t,n){return e(t,n)}))}function l(e){return e?i().get(e):i()}function u(e){return l(e).getLevel()}function c(e,t){l(t).setLevel(e)}Object.keys(a).forEach((function(e){o[e]=e})),i().useDefaults({defaultLevel:i().ERROR}),t.ZP=l},9654:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var r=n(5671),i=n(3144);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=function(){function e(){(0,r.Z)(this,e),this._map=new Map}return(0,i.Z)(e,[{key:"push",value:function(e,t){if(this._map.has(e)){var n=this._map.get(e);Array.isArray(n)&&(n.push(t),this._map.set(e,n))}else this._map.set(e,[t])}},{key:"set",value:function(e,t){this._map.set(e,t)}},{key:"has",value:function(e){return this._map.has(e)}},{key:"get",value:function(e){var t=this._map.get(e);return t?t.slice():[]}},{key:"getAll",value:function(){var e,t=[],n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}(this._map.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;t=t.concat(r)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"remove",value:function(e,t){if(this._map.has(e)){var n=this._map.get(e);if(Array.isArray(n)){for(var r=0;r<n.length;++r)n[r]===t&&(n.splice(r,1),--r);0===n.length&&this._map.delete(e)}}}},{key:"keys",value:function(){return this._map.keys()}},{key:"clear",value:function(){this._map.clear()}}]),e}()},1177:function(e,t,n){"use strict";function r(e,t){var n=function(e,t){var n=1/0,r=function(e,t,r){return e>=(t||0)&&e<=(r||n)},i=t.maxHeight,a=t.minHeight,o=t.maxWidth,s=t.minWidth;if(0!==a||0!==s||i!==n||o!==n)return e.filter((function(e){return r(e.height,a,i)})).filter((function(e){return r(e.width,s,o)}));var l=t.maxBitrate,u=t.minBitrate;return 0!==u||l!==n?e.filter((function(e){return r(e.bandwidth,u,l)})):e}(e,t);return n.length?n:[]}n.d(t,{u:function(){return r}})},4821:function(e,t,n){"use strict";n.d(t,{is:function(){return g},RO:function(){return y},eV:function(){return v},Mr:function(){return p},c7:function(){return h},Ld:function(){return f},q4:function(){return m}});var r=n(3878),i=n(9199),a=n(181),o=n(5267),s=n(4942),l=n(1002),u=n(962),c="responseFormat=jsonp&callback=";function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p={isNumber:function(e){return Number(e)===e},isInt:function(e){return this.isNumber(e)&&e%1==0},isFloat:function(e){return this.isNumber(e)&&e%1!=0}},f={capitlize:function(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)},endsWith:function(e,t){return"string"==typeof e&&"string"==typeof t&&-1!==e.indexOf(t,e.length-t.length)}},h={merge:function(e){var t,n={},r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;Object.assign(n,i)}}catch(e){r.e(e)}finally{r.f()}return n},isObject:function(e){return e&&"object"===(0,l.Z)(e)&&!Array.isArray(e)},isClassInstance:function(e){return e&&e.constructor&&e.constructor.name&&"Object"!==e.constructor.name},mergeDeep:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;var i=n.shift();if(this.isObject(e)&&this.isObject(i))for(var a in i)this.isObject(i[a])&&!this.isClassInstance(i[a])?(e[a]||Object.assign(e,(0,s.Z)({},a,{})),this.mergeDeep(e[a],i[a])):Object.assign(e,(0,s.Z)({},a,i[a]));return this.mergeDeep.apply(this,[e].concat(n))},copyDeep:function(e){var t,n=this;return Array.isArray(e)?(t=e.length>0?e.slice(0):[]).forEach((function(e,r){("object"===(0,l.Z)(e)||Array.isArray(e)&&e.length>0)&&(t[r]=n.copyDeep(e))})):null!==e&&"object"===(0,l.Z)(e)?e.clone&&"function"==typeof e.clone?t=e.clone():(t=Object.assign({__proto__:e.__proto__},e),Object.keys(t).forEach((function(e){("object"===(0,l.Z)(t[e])||Array.isArray(t[e])&&t[e].length>0)&&(t[e]=n.copyDeep(t[e]))}))):t=e,t},isEmptyObject:function(e){for(var t in e)if(Object.hasOwnProperty.call(e,t))return!1;return!0},getPropertyPath:function(e,t){return t.split(".").reduce((function(e,t){return null==e?e:e[t]}),e)},hasPropertyPath:function(e,t){if(!t)return!1;for(var n=t.split("."),r=0;r<n.length;r++){var i=n[r];if(!e||!Object.hasOwnProperty.call(e,i))return!1;e=e[i]}return!0},createPropertyPath:function(e,t){for(var n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=t.split("."),u=e;l.length>1;){var c=(n=l,(0,r.Z)(n)||(0,i.Z)(n)||(0,a.Z)(n)||(0,o.Z)()),d=c[0];l=c.slice(1),void 0===u[d]&&(u[d]={}),u=u[d]}return u[l[0]]=s,e},deletePropertyPath:function(e,t){if(e&&t){for(var n=t.split("."),r=0;r<n.length-1;r++)if(void 0===(e=e[n[r]]))return;delete e[n.pop()]}},defer:function(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n},bind:function(e,t){return function(){t.apply(e,arguments)}}},y={uniqueId:function(e){var t=2+(!e||e<0?0:e-2);return"_"+Math.random().toString(36).slice(2,2+t)},guid:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},g={addClassName:function(e,t){e&&(e.classList?e.classList.add(t):g.hasClassName(e,t)||(e.className+=t))},removeClassName:function(e,t){e&&(e.classList?e.classList.remove(t):g.hasClassName(e,t)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," ").replace(/^\s+|\s+$/g,"")))},hasClassName:function(e,t){return e&&e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},setAttribute:function(e,t,n){e.setAttribute(t,n)},removeAttribute:function(e,t){e.removeAttribute(t)},setStyle:function(e,t,n){void 0!==e.style.getPropertyValue(t)&&e.style.setProperty(t,n)},appendChild:function(e,t){e&&t&&e.appendChild&&e.appendChild(t)},removeChild:function(e,t){e&&t&&e.removeChild&&e.removeChild(t)},prependTo:function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},getElementById:function(e){return document.getElementById(e)},getElementsByTagName:function(e){return document.getElementsByTagName(e)},createElement:function(e){return document.createElement(e)},loadStyleSheetAsync:function(e){var t=this;return new Promise((function(n,r){var i=!1,a=t.createElement("link");a.type="text/css",a.rel="stylesheet",a.href=e,a.async=!0,a.onload=a.onreadystatechange=function(){i||this.readyState&&"complete"!==this.readyState||(i=!0,n(this))},a.onerror=a.onabort=r,g.appendChild(document.head,a)}))},loadScriptAsync:function(e){var t=this;return new Promise((function(n,r){var i=!1,a=document.getElementsByTagName("script")[0],o=t.createElement("script");o.type="text/javascript",o.src=e,o.async=!0,o.onload=o.onreadystatechange=function(){i||this.readyState&&"complete"!==this.readyState||(i=!0,n(this))},o.onerror=o.onabort=r,a&&a.parentNode&&a.parentNode.insertBefore(o,a)}))},getElementBySelector:function(e){try{return document.querySelector(e)}catch(e){return}},insertBefore:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{return e.insertBefore(t,n)}catch(e){return null}}},v={protocol:/^(https?:)/i.test(document.location.protocol)?document.location.protocol:"https:",execute:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,o=new XMLHttpRequest;return new Promise((function(s,l){o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status)try{var e=JSON.parse(o.responseText);s(e)}catch(e){s(o.responseText)}else l(o.responseText)},o.open(n,e),r&&r.forEach((function(e,t){o.setRequestHeader(t,e)})),i&&(o.timeout=i),a&&(o.ontimeout=function(e){a(),l(e)}),o.send(t)}))},jsonp:function(e,t,n){var r,i=(n=n||{}).timeout?n.timeout:5e3,a=document.createElement("script"),o="jsonpcallback"+Math.round(Date.now()+1000001*Math.random()),s=e,l=function(){a&&a.parentNode&&a.parentNode.removeChild(a),window[o]=function(){},r&&clearTimeout(r)};return new Promise((function(n,d){i&&(r=setTimeout((function(){l(),d(new u.Z(u.Z.Severity.CRITICAL,u.Z.Category.NETWORK,u.Z.Code.TIMEOUT,e))}),i)),window[o]=function(r){var i=t(r,e);l(),n(i)},s.match(/\?/)?s+="&"+c+o:s+="?"+c+o,a.type="text/javascript",a.src=s,document.getElementsByTagName("head")[0].appendChild(a)}))},convertHeadersToDictionary:function(e){var t={};try{e.trim().split(/[\r\n]+/).forEach((function(e){var n=e.split(": "),r=n.shift().toLowerCase(),i=n.join(": ");t[r]=i}))}catch(e){}return t}},m={compare:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(n=h.merge([{lexicographical:!1,zeroExtend:!0},n])).lexicographical,i=n.zeroExtend,a=(e||"0").split("."),o=(t||"0").split("."),s=function(e){return(r?/^\d+[A-Za-zαß]*$/:/^\d+[A-Za-zαß]?$/).test(e)},l=function(e){return e.map((function(e){var t=/[A-Za-zαß]/.exec(e);return Number(t?e.replace(t[0],"."+e.charCodeAt(t.index)):e)}))};if(!a.every(s)||!o.every(s))return NaN;if(i){for(;a.length<o.length;)a.push("0");for(;o.length<a.length;)o.push("0")}r||(a=l(a),o=l(o));for(var u=0;u<a.length;++u){if(o.length===u)return 1;if(a[u]!==o[u])return a[u]>o[u]?1:-1}return a.length!==o.length?-1:0}}},7774:function(e,t,n){"use strict";var r=n(7537),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".playkit-container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  color: #fff;\n  outline: none;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.playkit-engine {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  object-fit: contain;\n}\n\n.playkit-engine video::-webkit-media-controls-panel,\n.playkit-engine video::-webkit-media-controls-panel-container,\n.playkit-engine video::-webkit-media-controls-start-playback-button,\n.playkit-engine video::-webkit-media-controls-play-button {\n  display: none;\n  -webkit-appearance: none;\n}\n\n.playkit-poster {\n  position: absolute;\n  display: block;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-size: contain;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-color: var(--playkit-player-background-color);\n  pointer-events: none;\n}\n\n.playkit-subtitles {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  pointer-events: none;\n  margin-bottom: 5px;\n}\n\n.playkit-black-cover {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: black;\n  pointer-events: none;\n}\n\n.playkit-size-iframe {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  border: 0;\n  z-index: -100;\n}\n\n.playkit-in-browser-fullscreen-mode {\n  width: 100% !important;\n  height: 100% !important;\n  position: fixed !important;\n  top: 0 !important;\n  left: 0 !important;\n  /*added for blocking element with fixed position which could be on the top of the player */\n  z-index: 999999 !important;\n}\n","",{version:3,sources:["webpack://./src/assets/style.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,WAAW;EACX,aAAa;EACb,2BAA2B;EAC3B,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;EACjB,wCAAwC;AAC1C;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,mBAAmB;AACrB;;AAEA;;;;EAIE,aAAa;EACb,wBAAwB;AAC1B;;AAEA;EACE,kBAAkB;EAClB,cAAc;EACd,MAAM;EACN,SAAS;EACT,OAAO;EACP,QAAQ;EACR,wBAAwB;EACxB,kCAAkC;EAClC,4BAA4B;EAC5B,wDAAwD;EACxD,oBAAoB;AACtB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,SAAS;EACT,QAAQ;EACR,OAAO;EACP,oBAAoB;EACpB,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,uBAAuB;EACvB,oBAAoB;AACtB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,SAAS;EACT,aAAa;AACf;;AAEA;EACE,sBAAsB;EACtB,uBAAuB;EACvB,0BAA0B;EAC1B,iBAAiB;EACjB,kBAAkB;EAClB,0FAA0F;EAC1F,0BAA0B;AAC5B",sourcesContent:[".playkit-container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  color: #fff;\n  outline: none;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.playkit-engine {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  object-fit: contain;\n}\n\n.playkit-engine video::-webkit-media-controls-panel,\n.playkit-engine video::-webkit-media-controls-panel-container,\n.playkit-engine video::-webkit-media-controls-start-playback-button,\n.playkit-engine video::-webkit-media-controls-play-button {\n  display: none;\n  -webkit-appearance: none;\n}\n\n.playkit-poster {\n  position: absolute;\n  display: block;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-size: contain;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-color: var(--playkit-player-background-color);\n  pointer-events: none;\n}\n\n.playkit-subtitles {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  pointer-events: none;\n  margin-bottom: 5px;\n}\n\n.playkit-black-cover {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: black;\n  pointer-events: none;\n}\n\n.playkit-size-iframe {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  border: 0;\n  z-index: -100;\n}\n\n.playkit-in-browser-fullscreen-mode {\n  width: 100% !important;\n  height: 100% !important;\n  position: fixed !important;\n  top: 0 !important;\n  left: 0 !important;\n  /*added for blocking element with fixed position which could be on the top of the player */\n  z-index: 999999 !important;\n}\n"],sourceRoot:""}]),t.Z=o},3645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,a){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&o[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),t.push(c))}},t}},7537:function(e){"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(i," */");return[t].concat([a]).join("\n")}return[t].join("\n")}},5901:function(e,t,n){var r,i;!function(a){"use strict";var o,s={VERSION:"1.6.1"},l={},u=function(e,t){return function(){return t.apply(e,arguments)}},c=function(){var e,t,n=arguments,r=n[0];for(t=1;t<n.length;t++)for(e in n[t])!(e in r)&&n[t].hasOwnProperty(e)&&(r[e]=n[t][e]);return r},d=function(e,t){return{value:e,name:t}};s.TRACE=d(1,"TRACE"),s.DEBUG=d(2,"DEBUG"),s.INFO=d(3,"INFO"),s.TIME=d(4,"TIME"),s.WARN=d(5,"WARN"),s.ERROR=d(8,"ERROR"),s.OFF=d(99,"OFF");var p=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};p.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},trace:function(){this.invoke(s.TRACE,arguments)},debug:function(){this.invoke(s.DEBUG,arguments)},info:function(){this.invoke(s.INFO,arguments)},warn:function(){this.invoke(s.WARN,arguments)},error:function(){this.invoke(s.ERROR,arguments)},time:function(e){"string"==typeof e&&e.length>0&&this.invoke(s.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&e.length>0&&this.invoke(s.TIME,[e,"end"])},invoke:function(e,t){o&&this.enabledFor(e)&&o(t,c({level:e},this.context))}};var f,h=new p({filterLevel:s.OFF});(f=s).enabledFor=u(h,h.enabledFor),f.trace=u(h,h.trace),f.debug=u(h,h.debug),f.time=u(h,h.time),f.timeEnd=u(h,h.timeEnd),f.info=u(h,h.info),f.warn=u(h,h.warn),f.error=u(h,h.error),f.log=f.info,s.setHandler=function(e){o=e},s.setLevel=function(e){for(var t in h.setLevel(e),l)l.hasOwnProperty(t)&&l[t].setLevel(e)},s.getLevel=function(){return h.getLevel()},s.get=function(e){return l[e]||(l[e]=new p(c({name:e},h.context)))},s.createDefaultHandler=function(e){(e=e||{}).formatter=e.formatter||function(e,t){t.name&&e.unshift("["+t.name+"]")};var t={},n=function(e,t){Function.prototype.apply.call(e,console,t)};return"undefined"==typeof console?function(){}:function(r,i){r=Array.prototype.slice.call(r);var a,o=console.log;i.level===s.TIME?(a=(i.name?"["+i.name+"] ":"")+r[0],"start"===r[1]?console.time?console.time(a):t[a]=(new Date).getTime():console.timeEnd?console.timeEnd(a):n(o,[a+": "+((new Date).getTime()-t[a])+"ms"])):(i.level===s.WARN&&console.warn?o=console.warn:i.level===s.ERROR&&console.error?o=console.error:i.level===s.INFO&&console.info?o=console.info:i.level===s.DEBUG&&console.debug?o=console.debug:i.level===s.TRACE&&console.trace&&(o=console.trace),e.formatter(r,i),n(o,r))}},s.useDefaults=function(e){s.setLevel(e&&e.defaultLevel||s.DEBUG),s.setHandler(s.createDefaultHandler(e))},s.setDefaults=s.useDefaults,void 0===(i="function"==typeof(r=s)?r.call(t,n,t,e):r)||(e.exports=i)}()},3379:function(e){"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},o=[],s=0;s<e.length;s++){var l=e[s],u=r.base?l[0]+r.base:l[0],c=a[u]||0,d="".concat(u," ").concat(c);a[u]=c+1;var p=n(d),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var h=i(f,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:h,references:1})}o.push(d)}return o}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var a=r(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<a.length;o++){var s=n(a[o]);t[s].references--}for(var l=r(e,i),u=0;u<a.length;u++){var c=n(a[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}a=l}}},9216:function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},8575:function(e){"use strict";e.exports=function(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}},7795:function(e){"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},2238:function(e,t,n){var r;!function(i,a){"use strict";var o="function",s="undefined",l="object",u="string",c="major",d="model",p="name",f="type",h="vendor",y="version",g="architecture",v="console",m="mobile",b="tablet",k="smarttv",E="wearable",T="embedded",_="Amazon",A="Apple",S="ASUS",w="BlackBerry",C="Browser",x="Chrome",P="Firefox",R="Google",I="Huawei",D="LG",O="Microsoft",L="Motorola",M="Opera",N="Samsung",U="Sharp",B="Sony",F="Xiaomi",j="Zebra",H="Facebook",V="Chromium OS",G="Mac OS",K=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},z=function(e,t){return typeof e===u&&-1!==W(t).indexOf(W(e))},W=function(e){return e.toLowerCase()},Y=function(e,t){if(typeof e===u)return e=e.replace(/^\s\s*/,""),typeof t===s?e:e.substring(0,500)},Z=function(e,t){for(var n,r,i,s,u,c,d=0;d<t.length&&!u;){var p=t[d],f=t[d+1];for(n=r=0;n<p.length&&!u&&p[n];)if(u=p[n++].exec(e))for(i=0;i<f.length;i++)c=u[++r],typeof(s=f[i])===l&&s.length>0?2===s.length?typeof s[1]==o?this[s[0]]=s[1].call(this,c):this[s[0]]=s[1]:3===s.length?typeof s[1]!==o||s[1].exec&&s[1].test?this[s[0]]=c?c.replace(s[1],s[2]):a:this[s[0]]=c?s[1].call(this,c,s[2]):a:4===s.length&&(this[s[0]]=c?s[3].call(this,c.replace(s[1],s[2])):a):this[s]=c||a;d+=2}},q=function(e,t){for(var n in t)if(typeof t[n]===l&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(z(t[n][r],e))return"?"===n?a:n}else if(z(t[n],e))return"?"===n?a:n;return e},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,y],[/opios[\/ ]+([\w\.]+)/i],[y,[p,M+" Mini"]],[/\bopr\/([\w\.]+)/i],[y,[p,M]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[p,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,y],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[p,"UC"+C]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[p,"Smart Lenovo "+C]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+C],y],[/\bfocus\/([\w\.]+)/i],[y,[p,P+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[p,M+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[p,M+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[p,"MIUI "+C]],[/fxios\/([-\w\.]+)/i],[y,[p,P]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+C]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+C],y],[/samsungbrowser\/([\w\.]+)/i],[y,[p,N+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],y],[/metasr[\/ ]?([\d\.]+)/i],[y,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[p,y],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,H],y],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[p,x+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,x+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[p,"Android "+C]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[y,q,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[p,P+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,y],[/(cobalt)\/([\w\.]+)/i],[p,[y,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,W]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[h,N],[f,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[h,N],[f,m]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[h,A],[f,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[h,A],[f,b]],[/(macintosh);/i],[d,[h,A]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[h,U],[f,m]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[h,I],[f,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[h,I],[f,m]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[h,F],[f,m]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[h,F],[f,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[h,"OPPO"],[f,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[h,"Vivo"],[f,m]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[h,"Realme"],[f,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[h,L],[f,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[h,L],[f,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[h,D],[f,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[h,D],[f,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[h,"Lenovo"],[f,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[h,"Nokia"],[f,m]],[/(pixel c)\b/i],[d,[h,R],[f,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[h,R],[f,m]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[h,B],[f,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[h,B],[f,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[h,"OnePlus"],[f,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[h,_],[f,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[h,_],[f,m]],[/(playbook);[-\w\),; ]+(rim)/i],[d,h,[f,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[h,w],[f,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[h,S],[f,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[h,S],[f,m]],[/(nexus 9)/i],[d,[h,"HTC"],[f,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[d,/_/g," "],[f,m]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[h,"Acer"],[f,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[h,"Meizu"],[f,m]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[h,"Ulefone"],[f,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,d,[f,m]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,d,[f,b]],[/(surface duo)/i],[d,[h,O],[f,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[h,"Fairphone"],[f,m]],[/(u304aa)/i],[d,[h,"AT&T"],[f,m]],[/\bsie-(\w*)/i],[d,[h,"Siemens"],[f,m]],[/\b(rct\w+) b/i],[d,[h,"RCA"],[f,b]],[/\b(venue[\d ]{2,7}) b/i],[d,[h,"Dell"],[f,b]],[/\b(q(?:mv|ta)\w+) b/i],[d,[h,"Verizon"],[f,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[h,"Barnes & Noble"],[f,b]],[/\b(tm\d{3}\w+) b/i],[d,[h,"NuVision"],[f,b]],[/\b(k88) b/i],[d,[h,"ZTE"],[f,b]],[/\b(nx\d{3}j) b/i],[d,[h,"ZTE"],[f,m]],[/\b(gen\d{3}) b.+49h/i],[d,[h,"Swiss"],[f,m]],[/\b(zur\d{3}) b/i],[d,[h,"Swiss"],[f,b]],[/\b((zeki)?tb.*\b) b/i],[d,[h,"Zeki"],[f,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],d,[f,b]],[/\b(ns-?\w{0,9}) b/i],[d,[h,"Insignia"],[f,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[h,"NextBook"],[f,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],d,[f,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],d,[f,m]],[/\b(ph-1) /i],[d,[h,"Essential"],[f,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[h,"Envizen"],[f,b]],[/\b(trio[-\w\. ]+) b/i],[d,[h,"MachSpeed"],[f,b]],[/\btu_(1491) b/i],[d,[h,"Rotor"],[f,b]],[/(shield[\w ]+) b/i],[d,[h,"Nvidia"],[f,b]],[/(sprint) (\w+)/i],[h,d,[f,m]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[h,O],[f,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[h,j],[f,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[h,j],[f,m]],[/smart-tv.+(samsung)/i],[h,[f,k]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[h,N],[f,k]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,D],[f,k]],[/(apple) ?tv/i],[h,[d,A+" TV"],[f,k]],[/crkey/i],[[d,x+"cast"],[h,R],[f,k]],[/droid.+aft(\w+)( bui|\))/i],[d,[h,_],[f,k]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[h,U],[f,k]],[/(bravia[\w ]+)( bui|\))/i],[d,[h,B],[f,k]],[/(mitv-\w{5}) bui/i],[d,[h,F],[f,k]],[/Hbbtv.*(technisat) (.*);/i],[h,d,[f,k]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,Y],[d,Y],[f,k]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,k]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,d,[f,v]],[/droid.+; (shield) bui/i],[d,[h,"Nvidia"],[f,v]],[/(playstation [345portablevi]+)/i],[d,[h,B],[f,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[h,O],[f,v]],[/((pebble))app/i],[h,d,[f,E]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[h,A],[f,E]],[/droid.+; (glass) \d/i],[d,[h,R],[f,E]],[/droid.+; (wt63?0{2,3})\)/i],[d,[h,j],[f,E]],[/(quest( 2| pro)?)/i],[d,[h,H],[f,E]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[f,T]],[/(aeobc)\b/i],[d,[h,_],[f,T]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[f,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[f,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,m]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[p,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,y],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,y],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[y,q,X]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,q,X],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,G],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,y],[/\(bb(10);/i],[y,[p,w]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[y,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[p,P+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[p,x+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,V],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,y],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,y]]},J=function(e,t){if(typeof e===l&&(t=e,e=a),!(this instanceof J))return new J(e,t).getResult();var n=typeof i!==s&&i.navigator?i.navigator:a,r=e||(n&&n.userAgent?n.userAgent:""),v=n&&n.userAgentData?n.userAgentData:a,k=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(Q,t):Q,E=n&&n.userAgent==r;return this.getBrowser=function(){var e,t={};return t[p]=a,t[y]=a,Z.call(t,r,k.browser),t[c]=typeof(e=t[y])===u?e.replace(/[^\d\.]/g,"").split(".")[0]:a,E&&n&&n.brave&&typeof n.brave.isBrave==o&&(t[p]="Brave"),t},this.getCPU=function(){var e={};return e[g]=a,Z.call(e,r,k.cpu),e},this.getDevice=function(){var e={};return e[h]=a,e[d]=a,e[f]=a,Z.call(e,r,k.device),E&&!e[f]&&v&&v.mobile&&(e[f]=m),E&&"Macintosh"==e[d]&&n&&typeof n.standalone!==s&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[d]="iPad",e[f]=b),e},this.getEngine=function(){var e={};return e[p]=a,e[y]=a,Z.call(e,r,k.engine),e},this.getOS=function(){var e={};return e[p]=a,e[y]=a,Z.call(e,r,k.os),E&&!e[p]&&v&&"Unknown"!=v.platform&&(e[p]=v.platform.replace(/chrome os/i,V).replace(/macos/i,G)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===u&&e.length>500?Y(e,500):e,this},this.setUA(r),this};J.VERSION="1.0.37",J.BROWSER=K([p,y,c]),J.CPU=K([g]),J.DEVICE=K([d,h,f,v,m,k,b,E,T]),J.ENGINE=J.OS=K([p,y]),typeof t!==s?(e.exports&&(t=e.exports=J),t.UAParser=J):n.amdO?(r=function(){return J}.call(t,n,t,e))===a||(e.exports=r):typeof i!==s&&(i.UAParser=J);var $=typeof i!==s&&(i.jQuery||i.Zepto);if($&&!$.ua){var ee=new J;$.ua=ee.getResult(),$.ua.get=function(){return ee.getUA()},$.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var n in t)$.ua[n]=t[n]}}}("object"==typeof window?window:this)},7061:function(e,t,n){var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},a=Object.prototype,o=a.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(t){p=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof k?t:k,a=Object.create(i.prototype),o=new O(r||[]);return s(a,"_invoke",{value:P(e,n,o)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var y="suspendedStart",g="suspendedYield",v="executing",m="completed",b={};function k(){}function E(){}function T(){}var _={};p(_,u,(function(){return this}));var A=Object.getPrototypeOf,S=A&&A(A(L([])));S&&S!==a&&o.call(S,u)&&(_=S);var w=T.prototype=k.prototype=Object.create(_);function C(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,a,s,l){var u=h(e[i],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==r(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,l)}))}l(u.arg)}var i;s(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function P(e,n,r){var i=y;return function(a,o){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var l=R(s,r);if(l){if(l===b)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===y)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var u=h(e,n,r);if("normal"===u.type){if(i=r.done?m:g,u.arg===b)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=m,r.method="throw",r.arg=u.arg)}}}function R(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,R(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var a=h(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,b;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return E.prototype=T,s(w,"constructor",{value:T,configurable:!0}),s(T,"constructor",{value:E,configurable:!0}),E.displayName=p(T,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,T):(e.__proto__=T,p(e,d,"GeneratorFunction")),e.prototype=Object.create(w),e},n.awrap=function(e){return{__await:e}},C(x.prototype),p(x.prototype,c,(function(){return this})),n.AsyncIterator=x,n.async=function(e,t,r,i,a){void 0===a&&(a=Promise);var o=new x(f(e,t,r,i),a);return n.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(w),p(w,d,"Generator"),p(w,u,(function(){return this})),p(w,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;D(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4687:function(e,t,n){var r=n(7061)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},1752:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1120);function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},i.apply(this,arguments)}},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},9340:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}n.d(t,{Z:function(){return i}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},2963:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1002),i=n(7326);function a(e,t){if(t&&("object"===(0,r.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878),i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907),i=n(9199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){"use strict";n.r(r),n.d(r,{AbrMode:function(){return S.n},AdBreakType:function(){return I.S},AdEventType:function(){return O.J},AdTagType:function(){return D.J},AudioTrack:function(){return p.ZP},AudioTrackKind:function(){return p.x6},AutoPlayType:function(){return M.B},BaseMediaSourceAdapter:function(){return t.Z},BaseMiddleware:function(){return s.Z},CorsType:function(){return C.X},CustomEventType:function(){return A.nQ},DrmScheme:function(){return x.J},EngineDecoratorProvider:function(){return a._},EngineType:function(){return T.r},Env:function(){return g.Z},Error:function(){return m.Z},EventManager:function(){return F.Q},EventType:function(){return A.tw},FakeEvent:function(){return B.v},FakeEventTarget:function(){return j.H},Html5EventType:function(){return A.Rk},ImageTrack:function(){return c.Z},LogLevel:function(){return w.in},LogLevelType:function(){return w.hX},MediaType:function(){return _.D},MimeType:function(){return P.H},NAME:function(){return z},PKTextTrack:function(){return f.PZ},Player:function(){return e.Z},RequestType:function(){return R.x},ScreenOrientationType:function(){return L.z},State:function(){return l.Z},StateType:function(){return b.Y},StreamType:function(){return E.j},TextStyle:function(){return y.Z},TextTrack:function(){return f.ZP},ThumbnailInfo:function(){return N.F},TimedMetadata:function(){return h.D},Track:function(){return u.Z},TrackType:function(){return k.V},Utils:function(){return v},VERSION:function(){return K},VideoTrack:function(){return d.Z},createTextTrackCue:function(){return h.PC},createTimedMetadata:function(){return h.cP},filterTracksByRestriction:function(){return U.u},getCapabilities:function(){return Y},getLogLevel:function(){return w.ZO},getLogger:function(){return w.ZP},loadPlayer:function(){return W},registerEngine:function(){return o.Hl},registerMediaSourceAdapter:function(){return i.L},setCapabilities:function(){return Z},setLogHandler:function(){return w.hs},setLogLevel:function(){return w.Ub},unRegisterEngine:function(){return o.co},utils:function(){return v}});var e=n(1280),t=n(4651),i=n(2588),a=n(1057),o=n(4779),s=n(902),l=n(4919),u=n(8413),c=n(2983),d=n(4877),p=n(7812),f=n(6462),h=n(375),y=n(6234),g=n(2069),v=n(7916),m=n(962),b=n(9769),k=n(5856),E=n(7300),T=n(488),_=n(2806),A=n(2114),S=n(6820),w=n(4358),C=n(6145),x=n(7237),P=n(3336),R=n(6975),I=n(9063),D=n(8151),O=n(4611),L=n(3323),M=n(8143),N=n(5590),U=n(1177),B=n(8987),F=n(4270),j=n(8171),H=n(9150),V={};for(var G in H)["default","loadPlayer","registerMediaSourceAdapter","BaseMediaSourceAdapter","BaseMiddleware","Track","VideoTrack","AudioTrack","TextTrack","PKTextTrack","ImageTrack","TextStyle","AudioTrackKind","TimedMetadata","createTextTrackCue","createTimedMetadata","Utils","utils","Error","FakeEvent","EventManager","FakeEventTarget","VERSION","NAME","Env","State","getCapabilities","setCapabilities","EngineDecoratorProvider","registerEngine","unRegisterEngine","AdBreakType","AdTagType","AdEventType","filterTracksByRestriction","Html5EventType","CustomEventType","EventType","StateType","TrackType","EngineType","MediaType","StreamType","AbrMode","LogLevelType","CorsType","DrmScheme","MimeType","RequestType","ScreenOrientationType","AutoPlayType","ThumbnailInfo","getLogger","LogLevel","getLogLevel","setLogLevel","setLogHandler","Player"].indexOf(G)<0&&(V[G]=function(e){return H[e]}.bind(0,G));n.d(r,V);var K="0.84.30",z="@playkit-js/playkit-js";function W(t){return new e.Z(t||{})}var Y=e.Z.getCapabilities,Z=e.Z.setCapabilities;r.default=W}(),r}()},352:module=>{"use strict";module.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,a){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&o[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),t.push(c))}},t}},864:module=>{"use strict";module.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(i," */");return[t].concat([a]).join("\n")}return[t].join("\n")}},718:module=>{!function e(t){var n;n=function(){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){var n,a,o;n=e,a=t,o=r[t],(a=i(a))in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function d(e,t,n){return d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&c(i,n.prototype),i},d.apply(null,arguments)}function p(e){var t="function"==typeof Map?new Map:void 0;return p=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return d(e,arguments,u(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,e)},p(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h={exports:{}};!function(e,t){var n,r,i,a,o;n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,r=/^(?=([^\/?#]*))\1([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var i=o.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=o.normalizePath(i.path),o.buildURLFromParts(i)}var a=o.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return n.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):t;var s=o.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=r.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(u.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+a.path;u.path=o.normalizePath(d)}else u.path=s.path,a.params||(u.params=s.params,a.query||(u.query=s.query));return null===u.path&&(u.path=n.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(u)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=o}(h);var y=h.exports,g=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},v=Number.isSafeInteger||function(e){return"number"==typeof e&&Math.abs(e)<=m},m=Number.MAX_SAFE_INTEGER||9007199254740991,b=function(e){return e.MEDIA_ATTACHING="hlsMediaAttaching",e.MEDIA_ATTACHED="hlsMediaAttached",e.MEDIA_DETACHING="hlsMediaDetaching",e.MEDIA_DETACHED="hlsMediaDetached",e.BUFFER_RESET="hlsBufferReset",e.BUFFER_CODECS="hlsBufferCodecs",e.BUFFER_CREATED="hlsBufferCreated",e.BUFFER_APPENDING="hlsBufferAppending",e.BUFFER_APPENDED="hlsBufferAppended",e.BUFFER_EOS="hlsBufferEos",e.BUFFER_FLUSHING="hlsBufferFlushing",e.BUFFER_FLUSHED="hlsBufferFlushed",e.MANIFEST_LOADING="hlsManifestLoading",e.MANIFEST_LOADED="hlsManifestLoaded",e.MANIFEST_PARSED="hlsManifestParsed",e.LEVEL_SWITCHING="hlsLevelSwitching",e.LEVEL_SWITCHED="hlsLevelSwitched",e.LEVEL_LOADING="hlsLevelLoading",e.LEVEL_LOADED="hlsLevelLoaded",e.LEVEL_UPDATED="hlsLevelUpdated",e.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",e.LEVELS_UPDATED="hlsLevelsUpdated",e.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",e.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",e.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",e.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",e.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",e.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",e.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",e.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",e.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",e.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",e.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",e.CUES_PARSED="hlsCuesParsed",e.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",e.INIT_PTS_FOUND="hlsInitPtsFound",e.FRAG_LOADING="hlsFragLoading",e.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",e.FRAG_LOADED="hlsFragLoaded",e.FRAG_DECRYPTED="hlsFragDecrypted",e.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",e.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",e.FRAG_PARSING_METADATA="hlsFragParsingMetadata",e.FRAG_PARSED="hlsFragParsed",e.FRAG_BUFFERED="hlsFragBuffered",e.FRAG_CHANGED="hlsFragChanged",e.FPS_DROP="hlsFpsDrop",e.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",e.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",e.ERROR="hlsError",e.DESTROYING="hlsDestroying",e.KEY_LOADING="hlsKeyLoading",e.KEY_LOADED="hlsKeyLoaded",e.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",e.BACK_BUFFER_REACHED="hlsBackBufferReached",e.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",e}({}),k=function(e){return e.NETWORK_ERROR="networkError",e.MEDIA_ERROR="mediaError",e.KEY_SYSTEM_ERROR="keySystemError",e.MUX_ERROR="muxError",e.OTHER_ERROR="otherError",e}({}),E=function(e){return e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",e.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",e.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",e.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",e.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_EMPTY_ERROR="levelEmptyError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_PARSING_ERROR="levelParsingError",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",e.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.FRAG_GAP="fragGap",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.INTERNAL_EXCEPTION="internalException",e.INTERNAL_ABORTED="aborted",e.UNKNOWN="unknown",e}({}),T=function(){},_={trace:T,debug:T,log:T,warn:T,info:T,error:T},A=_;function S(e,t){if("object"==typeof console&&!0===e||"object"==typeof e){!function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach((function(t){A[t]=e[t]?e[t].bind(e):function(e){var t=self.console[e];return t?t.bind(self.console,"["+e+"] >"):T}(t)}))}(e,"debug","log","info","warn","error");try{A.log('Debug logs enabled for "'+t+'" in hls.js version 1.5.8')}catch(e){A=_}}else A=_}var w=A,C=/^(\d+)x(\d+)$/,x=/(.+?)=(".*?"|.*?)(?:,|$)/g,P=function(){function e(t){"string"==typeof t&&(t=e.parseAttrList(t)),s(this,t)}var t=e.prototype;return t.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var n=new Uint8Array(t.length/2),r=0;r<t.length/2;r++)n[r]=parseInt(t.slice(2*r,2*r+2),16);return n}return null},t.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.optionalFloat=function(e,t){var n=this[e];return n?parseFloat(n):t},t.enumeratedString=function(e){return this[e]},t.bool=function(e){return"YES"===this[e]},t.decimalResolution=function(e){var t=C.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t,n={};for(x.lastIndex=0;null!==(t=x.exec(e));){var r=t[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),n[t[1].trim()]=r}return n},o(e,[{key:"clientAttrs",get:function(){return Object.keys(this).filter((function(e){return"X-"===e.substring(0,2)}))}}]),e}();function R(e){return"SCTE35-OUT"===e||"SCTE35-IN"===e}var I=function(){function e(e,t){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,t){var n=t.attr;for(var r in n)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r]!==n[r]){w.warn('DATERANGE tag attribute: "'+r+'" does not match for tags with ID: "'+e.ID+'"'),this._badValueForSameId=r;break}e=s(new P({}),n,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){var i=new Date(this.attr["END-DATE"]);g(i.getTime())&&(this._endDate=i)}}return o(e,[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var e=this.duration;return null!==e?new Date(this._startDate.getTime()+1e3*e):null}},{key:"duration",get:function(){if("DURATION"in this.attr){var e=this.attr.decimalFloatingPoint("DURATION");if(g(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}},{key:"endOnNext",get:function(){return this.attr.bool("END-ON-NEXT")}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&g(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}]),e}(),D=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}},O="audio",L="video",M="audiovideo",N=function(){function e(e){var t;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((t={})[O]=null,t[L]=null,t[M]=null,t),this.baseurl=e}return e.prototype.setByteRange=function(e,t){var n,r=e.split("@",2);n=1===r.length?(null==t?void 0:t.byteRangeEndOffset)||0:parseInt(r[1]),this._byteRange=[n,parseInt(r[0])+n]},o(e,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=y.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(e){this._url=e}}]),e}(),U=function(e){function t(t,n){var r;return(r=e.call(this,n)||this)._decryptdata=null,r.rawProgramDateTime=null,r.programDateTime=null,r.tagList=[],r.duration=0,r.sn=0,r.levelkeys=void 0,r.type=void 0,r.loader=null,r.keyLoader=null,r.level=-1,r.cc=0,r.startPTS=void 0,r.endPTS=void 0,r.startDTS=void 0,r.endDTS=void 0,r.start=0,r.deltaPTS=void 0,r.maxStartPTS=void 0,r.minEndPTS=void 0,r.stats=new D,r.data=void 0,r.bitrateTest=!1,r.title=null,r.initSegment=null,r.endList=void 0,r.gap=void 0,r.urlId=0,r.type=t,r}l(t,e);var n=t.prototype;return n.setKeyFormat=function(e){if(this.levelkeys){var t=this.levelkeys[e];t&&!this._decryptdata&&(this._decryptdata=t.getDecryptData(this.sn))}},n.abortRequests=function(){var e,t;null==(e=this.loader)||e.abort(),null==(t=this.keyLoader)||t.abort()},n.setElementaryStreamInfo=function(e,t,n,r,i,a){void 0===a&&(a=!1);var o=this.elementaryStreams,s=o[e];s?(s.startPTS=Math.min(s.startPTS,t),s.endPTS=Math.max(s.endPTS,n),s.startDTS=Math.min(s.startDTS,r),s.endDTS=Math.max(s.endDTS,i)):o[e]={startPTS:t,endPTS:n,startDTS:r,endDTS:i,partial:a}},n.clearElementaryStreamInfo=function(){var e=this.elementaryStreams;e[O]=null,e[L]=null,e[M]=null},o(t,[{key:"decryptdata",get:function(){if(!this.levelkeys&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){var e=this.levelkeys.identity;if(e)this._decryptdata=e.getDecryptData(this.sn);else{var t=Object.keys(this.levelkeys);if(1===t.length)return this._decryptdata=this.levelkeys[t[0]].getDecryptData(this.sn)}}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!g(this.programDateTime))return null;var e=g(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){var e;if(null!=(e=this._decryptdata)&&e.encrypted)return!0;if(this.levelkeys){var t=Object.keys(this.levelkeys),n=t.length;if(n>1||1===n&&this.levelkeys[t[0]].encrypted)return!0}return!1}}]),t}(N),B=function(e){function t(t,n,r,i,a){var o;(o=e.call(this,r)||this).fragOffset=0,o.duration=0,o.gap=!1,o.independent=!1,o.relurl=void 0,o.fragment=void 0,o.index=void 0,o.stats=new D,o.duration=t.decimalFloatingPoint("DURATION"),o.gap=t.bool("GAP"),o.independent=t.bool("INDEPENDENT"),o.relurl=t.enumeratedString("URI"),o.fragment=n,o.index=i;var s=t.enumeratedString("BYTERANGE");return s&&o.setByteRange(s,a),a&&(o.fragOffset=a.fragOffset+a.duration),o}return l(t,e),o(t,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var e=this.elementaryStreams;return!!(e.audio||e.video||e.audiovideo)}}]),t}(N),F=function(){function e(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}return e.prototype.reloaded=function(e){if(!e)return this.advanced=!0,void(this.updated=!0);var t=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!t||!this.live,this.advanced=this.endSN>e.endSN||t>0||0===t&&n>0,this.updated||this.advanced?this.misses=Math.floor(.6*e.misses):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay},o(e,[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&g(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var e=this.driftEndTime-this.driftStartTime;return e>0?1e3*(this.driftEnd-this.driftStart)/e:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var e;return null!=(e=this.fragments)&&e.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]),e}();function j(e){return Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)}))}function H(e){return Uint8Array.from(unescape(encodeURIComponent(e)),(function(e){return e.charCodeAt(0)}))}var V="undefined"!=typeof self?self:void 0,G={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},K="org.w3.clearkey",z="com.apple.streamingkeydelivery",W="com.microsoft.playready",Y="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function Z(e){switch(e){case z:return G.FAIRPLAY;case W:return G.PLAYREADY;case Y:return G.WIDEVINE;case K:return G.CLEARKEY}}var q="edef8ba979d64acea3c827dcd51d21ed";function X(e){switch(e){case G.FAIRPLAY:return z;case G.PLAYREADY:return W;case G.WIDEVINE:return Y;case G.CLEARKEY:return K}}function Q(e){var t=e.drmSystems,n=e.widevineLicenseUrl,r=t?[G.FAIRPLAY,G.WIDEVINE,G.PLAYREADY,G.CLEARKEY].filter((function(e){return!!t[e]})):[];return!r[G.WIDEVINE]&&n&&r.push(G.WIDEVINE),r}var J,$=null!=V&&null!=(J=V.navigator)&&J.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function ee(e,t,n){return Uint8Array.prototype.slice?e.slice(t,n):new Uint8Array(Array.prototype.slice.call(e,t,n))}var te,ne=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},re=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},ie=function(e,t){for(var n=t,r=0;ne(e,t);)r+=10,r+=ae(e,t+6),re(e,t+10)&&(r+=10),t+=r;if(r>0)return e.subarray(n,n+r)},ae=function(e,t){var n=0;return n=(127&e[t])<<21,n|=(127&e[t+1])<<14,(n|=(127&e[t+2])<<7)|127&e[t+3]},oe=function(e,t){return ne(e,t)&&ae(e,t+6)+10<=e.length-t},se=function(e){for(var t=ce(e),n=0;n<t.length;n++){var r=t[n];if(le(r))return ye(r)}},le=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},ue=function(e){var t=String.fromCharCode(e[0],e[1],e[2],e[3]),n=ae(e,4);return{type:t,size:n,data:e.subarray(10,10+n)}},ce=function(e){for(var t=0,n=[];ne(e,t);){for(var r=ae(e,t+6),i=(t+=10)+r;t+8<i;){var a=ue(e.subarray(t)),o=de(a);o&&n.push(o),t+=a.size+10}re(e,t)&&(t+=10)}return n},de=function(e){return"PRIV"===e.type?pe(e):"W"===e.type[0]?he(e):fe(e)},pe=function(e){if(!(e.size<2)){var t=ge(e.data,!0),n=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:n.buffer}}},fe=function(e){if(!(e.size<2)){if("TXXX"===e.type){var t=1,n=ge(e.data.subarray(t),!0);t+=n.length+1;var r=ge(e.data.subarray(t));return{key:e.type,info:n,data:r}}var i=ge(e.data.subarray(1));return{key:e.type,data:i}}},he=function(e){if("WXXX"===e.type){if(e.size<2)return;var t=1,n=ge(e.data.subarray(t),!0);t+=n.length+1;var r=ge(e.data.subarray(t));return{key:e.type,info:n,data:r}}var i=ge(e.data);return{key:e.type,data:i}},ye=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),n=1&t[3],r=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},ge=function(e,t){void 0===t&&(t=!1);var n=function(){if(!navigator.userAgent.includes("PlayStation 4"))return te||void 0===self.TextDecoder||(te=new self.TextDecoder("utf-8")),te}();if(n){var r=n.decode(e);if(t){var i=r.indexOf("\0");return-1!==i?r.substring(0,i):r}return r.replace(/\0/g,"")}for(var a,o,s,l=e.length,u="",c=0;c<l;){if(0===(a=e[c++])&&t)return u;if(0!==a&&3!==a)switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u+=String.fromCharCode(a);break;case 12:case 13:o=e[c++],u+=String.fromCharCode((31&a)<<6|63&o);break;case 14:o=e[c++],s=e[c++],u+=String.fromCharCode((15&a)<<12|(63&o)<<6|(63&s)<<0)}}return u};var ve=function(e){for(var t="",n=0;n<e.length;n++){var r=e[n].toString(16);r.length<2&&(r="0"+r),t+=r}return t},me=Math.pow(2,32)-1,be=[].push,ke={video:1,audio:2,id3:3,text:4};function Ee(e){return String.fromCharCode.apply(null,e)}function Te(e,t){var n=e[t]<<8|e[t+1];return n<0?65536+n:n}function _e(e,t){var n=Se(e,t);return n<0?4294967296+n:n}function Ae(e,t){var n=_e(e,t);return(n*=Math.pow(2,32))+_e(e,t+4)}function Se(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function we(e,t,n){e[t]=n>>24,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function Ce(e,t){var n=[];if(!t.length)return n;for(var r=e.byteLength,i=0;i<r;){var a=_e(e,i),o=a>1?i+a:r;if(Ee(e.subarray(i+4,i+8))===t[0])if(1===t.length)n.push(e.subarray(i+8,o));else{var s=Ce(e.subarray(i+8,o),t.slice(1));s.length&&be.apply(n,s)}i=o}return n}function xe(e){var t=[],n=e[0],r=8,i=_e(e,r);r+=4;var a=0,o=0;0===n?(a=_e(e,r),o=_e(e,r+4),r+=8):(a=Ae(e,r),o=Ae(e,r+8),r+=16),r+=2;var s=e.length+o,l=Te(e,r);r+=2;for(var u=0;u<l;u++){var c=r,d=_e(e,c);c+=4;var p=2147483647&d;if(1==(2147483648&d)>>>31)return w.warn("SIDX has hierarchical references (not supported)"),null;var f=_e(e,c);c+=4,t.push({referenceSize:p,subsegmentDuration:f,info:{duration:f/i,start:s,end:s+p-1}}),s+=p,r=c+=4}return{earliestPresentationTime:a,timescale:i,version:n,referencesCount:l,references:t}}function Pe(e){for(var t=[],n=Ce(e,["moov","trak"]),i=0;i<n.length;i++){var a=n[i],o=Ce(a,["tkhd"])[0];if(o){var s=o[0],l=_e(o,0===s?12:20),u=Ce(a,["mdia","mdhd"])[0];if(u){var c=_e(u,0===(s=u[0])?12:20),d=Ce(a,["mdia","hdlr"])[0];if(d){var p=Ee(d.subarray(8,12)),f={soun:O,vide:L}[p];if(f){var h=Re(Ce(a,["mdia","minf","stbl","stsd"])[0]);t[l]={timescale:c,type:f},t[f]=r({timescale:c,id:l},h)}}}}}return Ce(e,["moov","mvex","trex"]).forEach((function(e){var n=_e(e,4),r=t[n];r&&(r.default={duration:_e(e,12),flags:_e(e,20)})})),t}function Re(e){var t=e.subarray(8),n=t.subarray(86),r=Ee(t.subarray(4,8)),i=r,a="enca"===r||"encv"===r;if(a){var o=Ce(t,[r])[0];Ce(o.subarray("enca"===r?28:78),["sinf"]).forEach((function(e){var t=Ce(e,["schm"])[0];if(t){var n=Ee(t.subarray(4,8));if("cbcs"===n||"cenc"===n){var r=Ce(e,["frma"])[0];r&&(i=Ee(r))}}}))}switch(i){case"avc1":case"avc2":case"avc3":case"avc4":var s=Ce(n,["avcC"])[0];i+="."+De(s[1])+De(s[2])+De(s[3]);break;case"mp4a":var l=Ce(t,[r])[0],u=Ce(l.subarray(28),["esds"])[0];if(u&&u.length>12){var c=4;if(3!==u[c++])break;c=Ie(u,c),c+=2;var d=u[c++];if(128&d&&(c+=2),64&d&&(c+=u[c++]),4!==u[c++])break;c=Ie(u,c);var p=u[c++];if(64!==p)break;if(i+="."+De(p),c+=12,5!==u[c++])break;c=Ie(u,c);var f=u[c++],h=(248&f)>>3;31===h&&(h+=1+((7&f)<<3)+((224&u[c])>>5)),i+="."+h}break;case"hvc1":case"hev1":var y=Ce(n,["hvcC"])[0],g=y[1],v=["","A","B","C"][g>>6],m=31&g,b=_e(y,2),k=(32&g)>>5?"H":"L",E=y[12],T=y.subarray(6,12);i+="."+v+m,i+="."+b.toString(16).toUpperCase(),i+="."+k+E;for(var _="",A=T.length;A--;){var S=T[A];(S||_)&&(_="."+S.toString(16).toUpperCase()+_)}i+=_;break;case"dvh1":case"dvhe":var w=Ce(n,["dvcC"])[0],C=w[2]>>1&127,x=w[2]<<5&32|w[3]>>3&31;i+="."+Oe(C)+"."+Oe(x);break;case"vp09":var P=Ce(n,["vpcC"])[0],R=P[4],I=P[5],D=P[6]>>4&15;i+="."+Oe(R)+"."+Oe(I)+"."+Oe(D);break;case"av01":var O=Ce(n,["av1C"])[0],L=O[1]>>>5,M=31&O[1],N=O[2]>>>7?"H":"M",U=(64&O[2])>>6,B=(32&O[2])>>5,F=2===L&&U?B?12:10:U?10:8,j=(16&O[2])>>4,H=(8&O[2])>>3,V=(4&O[2])>>2,G=3&O[2];i+="."+L+"."+Oe(M)+N+"."+Oe(F)+"."+j+"."+H+V+G+"."+Oe(1)+"."+Oe(1)+"."+Oe(1)+".0"}return{codec:i,encrypted:a}}function Ie(e,t){for(var n=t+5;128&e[t++]&&t<n;);return t}function De(e){return("0"+e.toString(16).toUpperCase()).slice(-2)}function Oe(e){return(e<10?"0":"")+e}function Le(e){var t=Ce(e,["schm"])[0];if(t){var n=Ee(t.subarray(4,8));if("cbcs"===n||"cenc"===n)return Ce(e,["schi","tenc"])[0]}return w.error("[eme] missing 'schm' box"),null}function Me(e){var t=_e(e,0),n=8;1&t&&(n+=4),4&t&&(n+=4);for(var r=0,i=_e(e,4),a=0;a<i;a++)256&t&&(r+=_e(e,n),n+=4),512&t&&(n+=4),1024&t&&(n+=4),2048&t&&(n+=4);return r}function Ne(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function Ue(e,t){var n=[],r=t.samples,i=t.timescale,a=t.id,o=!1;return Ce(r,["moof"]).map((function(s){var l=s.byteOffset-8;Ce(s,["traf"]).map((function(s){var u=Ce(s,["tfdt"]).map((function(e){var t=e[0],n=_e(e,4);return 1===t&&(n*=Math.pow(2,32),n+=_e(e,8)),n/i}))[0];return void 0!==u&&(e=u),Ce(s,["tfhd"]).map((function(u){var c=_e(u,4),d=16777215&_e(u,0),p=0,f=0!=(16&d),h=0,y=0!=(32&d),g=8;c===a&&(0!=(1&d)&&(g+=8),0!=(2&d)&&(g+=4),0!=(8&d)&&(p=_e(u,g),g+=4),f&&(h=_e(u,g),g+=4),y&&(g+=4),"video"===t.type&&(o=function(e){if(!e)return!1;var t=e.indexOf("."),n=t<0?e:e.substring(0,t);return"hvc1"===n||"hev1"===n||"dvh1"===n||"dvhe"===n}(t.codec)),Ce(s,["trun"]).map((function(a){var s=a[0],u=16777215&_e(a,0),c=0!=(1&u),d=0,f=0!=(4&u),y=0!=(256&u),g=0,v=0!=(512&u),m=0,b=0!=(1024&u),k=0!=(2048&u),E=0,T=_e(a,4),_=8;c&&(d=_e(a,_),_+=4),f&&(_+=4);for(var A=d+l,S=0;S<T;S++){if(y?(g=_e(a,_),_+=4):g=p,v?(m=_e(a,_),_+=4):m=h,b&&(_+=4),k&&(E=0===s?_e(a,_):Se(a,_),_+=4),t.type===L)for(var w=0;w<m;){var C=_e(r,A);Be(o,r[A+=4])&&Fe(r.subarray(A,A+C),o?2:1,e+E/i,n),A+=C,w+=C+4}e+=g/i}})))}))}))})),n}function Be(e,t){if(e){var n=t>>1&63;return 39===n||40===n}return 6==(31&t)}function Fe(e,t,n,r){var i=je(e),a=0;a+=t;for(var o=0,s=0,l=0;a<i.length;){o=0;do{if(a>=i.length)break;o+=l=i[a++]}while(255===l);s=0;do{if(a>=i.length)break;s+=l=i[a++]}while(255===l);var u=i.length-a,c=a;if(s<u)a+=s;else if(s>u){w.error("Malformed SEI payload. "+s+" is too small, only "+u+" bytes left to parse.");break}if(4===o){if(181===i[c++]){var d=Te(i,c);if(c+=2,49===d){var p=_e(i,c);if(c+=4,1195456820===p){var f=i[c++];if(3===f){var h=i[c++],y=64&h,g=y?2+3*(31&h):0,v=new Uint8Array(g);if(y){v[0]=h;for(var m=1;m<g;m++)v[m]=i[c++]}r.push({type:f,payloadType:o,pts:n,bytes:v})}}}}}else if(5===o&&s>16){for(var b=[],k=0;k<16;k++){var E=i[c++].toString(16);b.push(1==E.length?"0"+E:E),3!==k&&5!==k&&7!==k&&9!==k||b.push("-")}for(var T=s-16,_=new Uint8Array(T),A=0;A<T;A++)_[A]=i[c++];r.push({payloadType:o,pts:n,uuid:b.join(""),userData:ge(_),userDataBytes:_})}}}function je(e){for(var t=e.byteLength,n=[],r=1;r<t-2;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(n.push(r+2),r+=2):r++;if(0===n.length)return e;var i=t-n.length,a=new Uint8Array(i),o=0;for(r=0;r<i;o++,r++)o===n[0]&&(o++,n.shift()),a[r]=e[o];return a}var He={},Ve=function(){function e(e,t,n,r,i){void 0===r&&(r=[1]),void 0===i&&(i=null),this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=t,this.keyFormat=n,this.keyFormatVersions=r,this.iv=i,this.encrypted=!!e&&"NONE"!==e,this.isCommonEncryption=this.encrypted&&"AES-128"!==e}e.clearKeyUriToKeyIdMap=function(){He={}};var t=e.prototype;return t.isSupported=function(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case z:case Y:case W:case K:return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1},t.getDecryptData=function(t){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!=typeof t&&("AES-128"!==this.method||this.iv||w.warn('missing IV for initialization segment with method="'+this.method+'" - compliance issue'),t=0);var n=function(e){for(var t=new Uint8Array(16),n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t}(t);return new e(this.method,this.uri,"identity",this.keyFormatVersions,n)}var r=function(e){var t,n,r=e.split(":"),i=null;if("data"===r[0]&&2===r.length){var a=r[1].split(";"),o=a[a.length-1].split(",");if(2===o.length){var s="base64"===o[0],l=o[1];s?(a.splice(-1,1),i=j(l)):(t=H(l).subarray(0,16),(n=new Uint8Array(16)).set(t,16-t.length),i=n)}}return i}(this.uri);if(r)switch(this.keyFormat){case Y:this.pssh=r,r.length>=22&&(this.keyId=r.subarray(r.length-22,r.length-6));break;case W:var i=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=function(e,t,n){if(16!==e.byteLength)throw new RangeError("Invalid system id");var r,i,a;if(t){r=1,i=new Uint8Array(16*t.length);for(var o=0;o<t.length;o++){var s=t[o];if(16!==s.byteLength)throw new RangeError("Invalid key");i.set(s,16*o)}}else r=0,i=new Uint8Array;r>0?(a=new Uint8Array(4),t.length>0&&new DataView(a.buffer).setUint32(0,t.length,!1)):a=new Uint8Array;var l=new Uint8Array(4);return n&&n.byteLength>0&&new DataView(l.buffer).setUint32(0,n.byteLength,!1),function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=n.length,a=8,o=i;o--;)a+=n[o].byteLength;var s=new Uint8Array(a);for(s[0]=a>>24&255,s[1]=a>>16&255,s[2]=a>>8&255,s[3]=255&a,s.set(e,4),o=0,a=8;o<i;o++)s.set(n[o],a),a+=n[o].byteLength;return s}([112,115,115,104],new Uint8Array([r,0,0,0]),e,a,i,l,n||new Uint8Array)}(i,null,r);var a=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2),o=String.fromCharCode.apply(null,Array.from(a)),s=o.substring(o.indexOf("<"),o.length),l=(new DOMParser).parseFromString(s,"text/xml").getElementsByTagName("KID")[0];if(l){var u=l.childNodes[0]?l.childNodes[0].nodeValue:l.getAttribute("VALUE");if(u){var c=j(u).subarray(0,16);!function(e){var t=function(e,t,n){var r=e[t];e[t]=e[n],e[n]=r};t(e,0,3),t(e,1,2),t(e,4,5),t(e,6,7)}(c),this.keyId=c}}break;default:var d=r.subarray(0,16);if(16!==d.length){var p=new Uint8Array(16);p.set(d,16-d.length),d=p}this.keyId=d}if(!this.keyId||16!==this.keyId.byteLength){var f=He[this.uri];if(!f){var h=Object.keys(He).length%Number.MAX_SAFE_INTEGER;f=new Uint8Array(16),new DataView(f.buffer,12,4).setUint32(0,h),He[this.uri]=f}this.keyId=f}return this},e}(),Ge=/\{\$([a-zA-Z0-9-_]+)\}/g;function Ke(e){return Ge.test(e)}function ze(e,t,n){if(null!==e.variableList||e.hasVariableRefs)for(var r=n.length;r--;){var i=n[r],a=t[i];a&&(t[i]=We(e,a))}}function We(e,t){if(null!==e.variableList||e.hasVariableRefs){var n=e.variableList;return t.replace(Ge,(function(t){var r=t.substring(2,t.length-1),i=null==n?void 0:n[r];return void 0===i?(e.playlistParsingError||(e.playlistParsingError=new Error('Missing preceding EXT-X-DEFINE tag for Variable Reference: "'+r+'"')),t):i}))}return t}function Ye(e,t,n){var r,i,a=e.variableList;if(a||(e.variableList=a={}),"QUERYPARAM"in t){r=t.QUERYPARAM;try{var o=new self.URL(n).searchParams;if(!o.has(r))throw new Error('"'+r+'" does not match any query parameter in URI: "'+n+'"');i=o.get(r)}catch(t){e.playlistParsingError||(e.playlistParsingError=new Error("EXT-X-DEFINE QUERYPARAM: "+t.message))}}else r=t.NAME,i=t.VALUE;r in a?e.playlistParsingError||(e.playlistParsingError=new Error('EXT-X-DEFINE duplicate Variable Name declarations: "'+r+'"')):a[r]=i||""}function Ze(e,t,n){var r=t.IMPORT;if(n&&r in n){var i=e.variableList;i||(e.variableList=i={}),i[r]=n[r]}else e.playlistParsingError||(e.playlistParsingError=new Error('EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "'+r+'"'))}function qe(e){if(void 0===e&&(e=!0),"undefined"!=typeof self)return(e||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}var Xe={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function Qe(e,t,n){return void 0===n&&(n=!0),!e.split(",").some((function(e){return!Je(e,t,n)}))}function Je(e,t,n){var r;void 0===n&&(n=!0);var i=qe(n);return null!=(r=null==i?void 0:i.isTypeSupported($e(e,t)))&&r}function $e(e,t){return t+'/mp4;codecs="'+e+'"'}function et(e){if(e){var t=e.substring(0,4);return Xe.video[t]}return 2}function tt(e){return e.split(",").reduce((function(e,t){var n=Xe.video[t];return n?(2*n+e)/(e?3:2):(Xe.audio[t]+e)/(e?2:1)}),0)}var nt={},rt=/flac|opus/i;function it(e,t){return void 0===t&&(t=!0),e.replace(rt,(function(e){return function(e,t){if(void 0===t&&(t=!0),nt[e])return nt[e];for(var n={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"]}[e],r=0;r<n.length;r++)if(Je(n[r],"audio",t))return nt[e]=n[r],n[r];return e}(e.toLowerCase(),t)}))}function at(e,t){return e&&"mp4a"!==e?e:t?t.split(",")[0]:t}var ot=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,st=/#EXT-X-MEDIA:(.*)/g,lt=/^#EXT(?:INF|-X-TARGETDURATION):/m,ut=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),ct=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),dt=function(){function e(){}return e.findGroup=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.id===t)return r}},e.resolve=function(e,t){return y.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},e.isMediaPlaylist=function(e){return lt.test(e)},e.parseMasterPlaylist=function(t,n){var r,i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:Ke(t)},a=[];for(ot.lastIndex=0;null!=(r=ot.exec(t));)if(r[1]){var o,s=new P(r[1]);ze(i,s,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);var l=We(i,r[2]),u={attrs:s,bitrate:s.decimalInteger("BANDWIDTH")||s.decimalInteger("AVERAGE-BANDWIDTH"),name:s.NAME,url:e.resolve(l,n)},c=s.decimalResolution("RESOLUTION");c&&(u.width=c.width,u.height=c.height),ht(s.CODECS,u),null!=(o=u.unknownCodecs)&&o.length||a.push(u),i.levels.push(u)}else if(r[3]){var d=r[3],p=r[4];switch(d){case"SESSION-DATA":var f=new P(p);ze(i,f,["DATA-ID","LANGUAGE","VALUE","URI"]);var h=f["DATA-ID"];h&&(null===i.sessionData&&(i.sessionData={}),i.sessionData[h]=f);break;case"SESSION-KEY":var y=pt(p,n,i);y.encrypted&&y.isSupported()?(null===i.sessionKeys&&(i.sessionKeys=[]),i.sessionKeys.push(y)):w.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'+p+'"');break;case"DEFINE":var g=new P(p);ze(i,g,["NAME","VALUE","QUERYPARAM"]),Ye(i,g,n);break;case"CONTENT-STEERING":var v=new P(p);ze(i,v,["SERVER-URI","PATHWAY-ID"]),i.contentSteering={uri:e.resolve(v["SERVER-URI"],n),pathwayId:v["PATHWAY-ID"]||"."};break;case"START":i.startTimeOffset=ft(p)}}var m=a.length>0&&a.length<i.levels.length;return i.levels=m?a:i.levels,0===i.levels.length&&(i.playlistParsingError=new Error("no levels found in manifest")),i},e.parseMasterPlaylistMedia=function(t,n,r){var i,a={},o=r.levels,s={AUDIO:o.map((function(e){return{id:e.attrs.AUDIO,audioCodec:e.audioCodec}})),SUBTITLES:o.map((function(e){return{id:e.attrs.SUBTITLES,textCodec:e.textCodec}})),"CLOSED-CAPTIONS":[]},l=0;for(st.lastIndex=0;null!==(i=st.exec(t));){var u=new P(i[1]),c=u.TYPE;if(c){var d=s[c],p=a[c]||[];a[c]=p,ze(r,u,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);var f=u.LANGUAGE,h=u["ASSOC-LANGUAGE"],y=u.CHANNELS,g=u.CHARACTERISTICS,v=u["INSTREAM-ID"],m={attrs:u,bitrate:0,id:l++,groupId:u["GROUP-ID"]||"",name:u.NAME||f||"",type:c,default:u.bool("DEFAULT"),autoselect:u.bool("AUTOSELECT"),forced:u.bool("FORCED"),lang:f,url:u.URI?e.resolve(u.URI,n):""};if(h&&(m.assocLang=h),y&&(m.channels=y),g&&(m.characteristics=g),v&&(m.instreamId=v),null!=d&&d.length){var b=e.findGroup(d,m.groupId)||d[0];yt(m,b,"audioCodec"),yt(m,b,"textCodec")}p.push(m)}}return a},e.parseLevelPlaylist=function(e,t,n,r,i,a){var o,l,u,c=new F(t),d=c.fragments,p=null,f=0,h=0,y=0,v=0,m=null,b=new U(r,t),k=-1,E=!1,T=null;for(ut.lastIndex=0,c.m3u8=e,c.hasVariableRefs=Ke(e);null!==(o=ut.exec(e));){E&&(E=!1,(b=new U(r,t)).start=y,b.sn=f,b.cc=v,b.level=n,p&&(b.initSegment=p,b.rawProgramDateTime=p.rawProgramDateTime,p.rawProgramDateTime=null,T&&(b.setByteRange(T),T=null)));var _=o[1];if(_){b.duration=parseFloat(_);var A=(" "+o[2]).slice(1);b.title=A||null,b.tagList.push(A?["INF",_,A]:["INF",_])}else if(o[3]){if(g(b.duration)){b.start=y,u&&mt(b,u,c),b.sn=f,b.level=n,b.cc=v,d.push(b);var S=(" "+o[3]).slice(1);b.relurl=We(c,S),gt(b,m),m=b,y+=b.duration,f++,h=0,E=!0}}else if(o[4]){var C=(" "+o[4]).slice(1);m?b.setByteRange(C,m):b.setByteRange(C)}else if(o[5])b.rawProgramDateTime=(" "+o[5]).slice(1),b.tagList.push(["PROGRAM-DATE-TIME",b.rawProgramDateTime]),-1===k&&(k=d.length);else{if(!(o=o[0].match(ct))){w.warn("No matches on slow regex match for level playlist!");continue}for(l=1;l<o.length&&void 0===o[l];l++);var x=(" "+o[l]).slice(1),R=(" "+o[l+1]).slice(1),D=o[l+2]?(" "+o[l+2]).slice(1):"";switch(x){case"PLAYLIST-TYPE":c.type=R.toUpperCase();break;case"MEDIA-SEQUENCE":f=c.startSN=parseInt(R);break;case"SKIP":var O=new P(R);ze(c,O,["RECENTLY-REMOVED-DATERANGES"]);var L=O.decimalInteger("SKIPPED-SEGMENTS");if(g(L)){c.skippedSegments=L;for(var M=L;M--;)d.unshift(null);f+=L}var N=O.enumeratedString("RECENTLY-REMOVED-DATERANGES");N&&(c.recentlyRemovedDateranges=N.split("\t"));break;case"TARGETDURATION":c.targetduration=Math.max(parseInt(R),1);break;case"VERSION":c.version=parseInt(R);break;case"INDEPENDENT-SEGMENTS":case"EXTM3U":break;case"ENDLIST":c.live=!1;break;case"#":(R||D)&&b.tagList.push(D?[R,D]:[R]);break;case"DISCONTINUITY":v++,b.tagList.push(["DIS"]);break;case"GAP":b.gap=!0,b.tagList.push([x]);break;case"BITRATE":b.tagList.push([x,R]);break;case"DATERANGE":var j=new P(R);ze(c,j,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),ze(c,j,j.clientAttrs);var H=new I(j,c.dateRanges[j.ID]);H.isValid||c.skippedSegments?c.dateRanges[H.id]=H:w.warn('Ignoring invalid DATERANGE tag: "'+R+'"'),b.tagList.push(["EXT-X-DATERANGE",R]);break;case"DEFINE":var V=new P(R);ze(c,V,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in V?Ze(c,V,a):Ye(c,V,t);break;case"DISCONTINUITY-SEQUENCE":v=parseInt(R);break;case"KEY":var G=pt(R,t,c);if(G.isSupported()){if("NONE"===G.method){u=void 0;break}u||(u={}),u[G.keyFormat]&&(u=s({},u)),u[G.keyFormat]=G}else w.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'+R+'"');break;case"START":c.startTimeOffset=ft(R);break;case"MAP":var K=new P(R);if(ze(c,K,["BYTERANGE","URI"]),b.duration){var z=new U(r,t);vt(z,K,n,u),p=z,b.initSegment=p,p.rawProgramDateTime&&!b.rawProgramDateTime&&(b.rawProgramDateTime=p.rawProgramDateTime)}else{var W=b.byteRangeEndOffset;if(W){var Y=b.byteRangeStartOffset;T=W-Y+"@"+Y}else T=null;vt(b,K,n,u),p=b,E=!0}break;case"SERVER-CONTROL":var Z=new P(R);c.canBlockReload=Z.bool("CAN-BLOCK-RELOAD"),c.canSkipUntil=Z.optionalFloat("CAN-SKIP-UNTIL",0),c.canSkipDateRanges=c.canSkipUntil>0&&Z.bool("CAN-SKIP-DATERANGES"),c.partHoldBack=Z.optionalFloat("PART-HOLD-BACK",0),c.holdBack=Z.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var q=new P(R);c.partTarget=q.decimalFloatingPoint("PART-TARGET");break;case"PART":var X=c.partList;X||(X=c.partList=[]);var Q=h>0?X[X.length-1]:void 0,J=h++,$=new P(R);ze(c,$,["BYTERANGE","URI"]);var ee=new B($,b,t,J,Q);X.push(ee),b.duration+=ee.duration;break;case"PRELOAD-HINT":var te=new P(R);ze(c,te,["URI"]),c.preloadHint=te;break;case"RENDITION-REPORT":var ne=new P(R);ze(c,ne,["URI"]),c.renditionReports=c.renditionReports||[],c.renditionReports.push(ne);break;default:w.warn("line parsed but not handled: "+o)}}}m&&!m.relurl?(d.pop(),y-=m.duration,c.partList&&(c.fragmentHint=m)):c.partList&&(gt(b,m),b.cc=v,c.fragmentHint=b,u&&mt(b,u,c));var re=d.length,ie=d[0],ae=d[re-1];if((y+=c.skippedSegments*c.targetduration)>0&&re&&ae){c.averagetargetduration=y/re;var oe=ae.sn;c.endSN="initSegment"!==oe?oe:0,c.live||(ae.endList=!0),ie&&(c.startCC=ie.cc)}else c.endSN=0,c.startCC=0;return c.fragmentHint&&(y+=c.fragmentHint.duration),c.totalduration=y,c.endCC=v,k>0&&function(e,t){for(var n=e[t],r=t;r--;){var i=e[r];if(!i)return;i.programDateTime=n.programDateTime-1e3*i.duration,n=i}}(d,k),c},e}();function pt(e,t,n){var r,i,a=new P(e);ze(n,a,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);var o=null!=(r=a.METHOD)?r:"",s=a.URI,l=a.hexadecimalInteger("IV"),u=a.KEYFORMATVERSIONS,c=null!=(i=a.KEYFORMAT)?i:"identity";s&&a.IV&&!l&&w.error("Invalid IV: "+a.IV);var d=s?dt.resolve(s,t):"",p=(u||"1").split("/").map(Number).filter(Number.isFinite);return new Ve(o,d,c,p,l)}function ft(e){var t=new P(e).decimalFloatingPoint("TIME-OFFSET");return g(t)?t:null}function ht(e,t){var n=(e||"").split(/[ ,]+/).filter((function(e){return e}));["video","audio","text"].forEach((function(e){var r=n.filter((function(t){return function(e,t){var n=Xe[t];return!!n&&!!n[e.slice(0,4)]}(t,e)}));r.length&&(t[e+"Codec"]=r.join(","),n=n.filter((function(e){return-1===r.indexOf(e)})))})),t.unknownCodecs=n}function yt(e,t,n){var r=t[n];r&&(e[n]=r)}function gt(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):null!=t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),g(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}function vt(e,t,n,r){e.relurl=t.URI,t.BYTERANGE&&e.setByteRange(t.BYTERANGE),e.level=n,e.sn="initSegment",r&&(e.levelkeys=r),e.initSegment=null}function mt(e,t,n){e.levelkeys=t;var r=n.encryptedFragments;r.length&&r[r.length-1].levelkeys===t||!Object.keys(t).some((function(e){return t[e].isCommonEncryption}))||r.push(e)}var bt="manifest",kt="level",Et="audioTrack",Tt="subtitleTrack",_t="main",At="audio",St="subtitle";function wt(e){switch(e.type){case Et:return At;case Tt:return St;default:return _t}}function Ct(e,t){var n=e.url;return void 0!==n&&0!==n.indexOf("data:")||(n=t.url),n}var xt=function(){function e(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=e,this.registerListeners()}var t=e.prototype;return t.startLoad=function(e){},t.stopLoad=function(){this.destroyInternalLoaders()},t.registerListeners=function(){var e=this.hls;e.on(b.MANIFEST_LOADING,this.onManifestLoading,this),e.on(b.LEVEL_LOADING,this.onLevelLoading,this),e.on(b.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(b.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.unregisterListeners=function(){var e=this.hls;e.off(b.MANIFEST_LOADING,this.onManifestLoading,this),e.off(b.LEVEL_LOADING,this.onLevelLoading,this),e.off(b.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(b.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.createInternalLoader=function(e){var t=this.hls.config,n=t.pLoader,r=t.loader,i=new(n||r)(t);return this.loaders[e.type]=i,i},t.getInternalLoader=function(e){return this.loaders[e.type]},t.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},t.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},t.destroy=function(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()},t.onManifestLoading=function(e,t){var n=t.url;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:bt,url:n,deliveryDirectives:null})},t.onLevelLoading=function(e,t){var n=t.id,r=t.level,i=t.pathwayId,a=t.url,o=t.deliveryDirectives;this.load({id:n,level:r,pathwayId:i,responseType:"text",type:kt,url:a,deliveryDirectives:o})},t.onAudioTrackLoading=function(e,t){var n=t.id,r=t.groupId,i=t.url,a=t.deliveryDirectives;this.load({id:n,groupId:r,level:null,responseType:"text",type:Et,url:i,deliveryDirectives:a})},t.onSubtitleTrackLoading=function(e,t){var n=t.id,r=t.groupId,i=t.url,a=t.deliveryDirectives;this.load({id:n,groupId:r,level:null,responseType:"text",type:Tt,url:i,deliveryDirectives:a})},t.load=function(e){var t,n,r,i=this,a=this.hls.config,o=this.getInternalLoader(e);if(o){var l=o.context;if(l&&l.url===e.url&&l.level===e.level)return void w.trace("[playlist-loader]: playlist request ongoing");w.log("[playlist-loader]: aborting previous loader for type: "+e.type),o.abort()}if(n=e.type===bt?a.manifestLoadPolicy.default:s({},a.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),o=this.createInternalLoader(e),g(null==(t=e.deliveryDirectives)?void 0:t.part)&&(e.type===kt&&null!==e.level?r=this.hls.levels[e.level].details:e.type===Et&&null!==e.id?r=this.hls.audioTracks[e.id].details:e.type===Tt&&null!==e.id&&(r=this.hls.subtitleTracks[e.id].details),r)){var u=r.partTarget,c=r.targetduration;if(u&&c){var d=1e3*Math.max(3*u,.8*c);n=s({},n,{maxTimeToFirstByteMs:Math.min(d,n.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(d,n.maxTimeToFirstByteMs)})}}var p=n.errorRetry||n.timeoutRetry||{},f={loadPolicy:n,timeout:n.maxLoadTimeMs,maxRetry:p.maxNumRetry||0,retryDelay:p.retryDelayMs||0,maxRetryDelay:p.maxRetryDelayMs||0},h={onSuccess:function(e,t,n,r){var a=i.getInternalLoader(n);i.resetInternalLoader(n.type);var o=e.data;0===o.indexOf("#EXTM3U")?(t.parsing.start=performance.now(),dt.isMediaPlaylist(o)?i.handleTrackOrLevelPlaylist(e,t,n,r||null,a):i.handleMasterPlaylist(e,t,n,r)):i.handleManifestParsingError(e,n,new Error("no EXTM3U delimiter"),r||null,t)},onError:function(e,t,n,r){i.handleNetworkError(t,n,!1,e,r)},onTimeout:function(e,t,n){i.handleNetworkError(t,n,!0,void 0,e)}};o.load(e,f,h)},t.handleMasterPlaylist=function(e,t,n,r){var i=this.hls,a=e.data,o=Ct(e,n),s=dt.parseMasterPlaylist(a,o);if(s.playlistParsingError)this.handleManifestParsingError(e,n,s.playlistParsingError,r,t);else{var l=s.contentSteering,u=s.levels,c=s.sessionData,d=s.sessionKeys,p=s.startTimeOffset,f=s.variableList;this.variableList=f;var h=dt.parseMasterPlaylistMedia(a,o,s),y=h.AUDIO,g=void 0===y?[]:y,v=h.SUBTITLES,m=h["CLOSED-CAPTIONS"];g.length&&(g.some((function(e){return!e.url}))||!u[0].audioCodec||u[0].attrs.AUDIO||(w.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),g.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new P({}),bitrate:0,url:""}))),i.trigger(b.MANIFEST_LOADED,{levels:u,audioTracks:g,subtitles:v,captions:m,contentSteering:l,url:o,stats:t,networkDetails:r,sessionData:c,sessionKeys:d,startTimeOffset:p,variableList:f})}},t.handleTrackOrLevelPlaylist=function(e,t,n,r,i){var a=this.hls,o=n.id,s=n.level,l=n.type,u=Ct(e,n),c=g(s)?s:g(o)?o:0,d=wt(n),p=dt.parseLevelPlaylist(e.data,u,c,d,0,this.variableList);if(l===bt){var f={attrs:new P({}),bitrate:0,details:p,name:"",url:u};a.trigger(b.MANIFEST_LOADED,{levels:[f],audioTracks:[],url:u,stats:t,networkDetails:r,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),n.levelDetails=p,this.handlePlaylistLoaded(p,e,t,n,r,i)},t.handleManifestParsingError=function(e,t,n,r,i){this.hls.trigger(b.ERROR,{type:k.NETWORK_ERROR,details:E.MANIFEST_PARSING_ERROR,fatal:t.type===bt,url:e.url,err:n,error:n,reason:n.message,response:e,context:t,networkDetails:r,stats:i})},t.handleNetworkError=function(e,t,n,i,a){void 0===n&&(n=!1);var o="A network "+(n?"timeout":"error"+(i?" (status "+i.code+")":""))+" occurred while loading "+e.type;e.type===kt?o+=": "+e.level+" id: "+e.id:e.type!==Et&&e.type!==Tt||(o+=" id: "+e.id+' group-id: "'+e.groupId+'"');var s=new Error(o);w.warn("[playlist-loader]: "+o);var l=E.UNKNOWN,u=!1,c=this.getInternalLoader(e);switch(e.type){case bt:l=n?E.MANIFEST_LOAD_TIMEOUT:E.MANIFEST_LOAD_ERROR,u=!0;break;case kt:l=n?E.LEVEL_LOAD_TIMEOUT:E.LEVEL_LOAD_ERROR,u=!1;break;case Et:l=n?E.AUDIO_TRACK_LOAD_TIMEOUT:E.AUDIO_TRACK_LOAD_ERROR,u=!1;break;case Tt:l=n?E.SUBTITLE_TRACK_LOAD_TIMEOUT:E.SUBTITLE_LOAD_ERROR,u=!1}c&&this.resetInternalLoader(e.type);var d={type:k.NETWORK_ERROR,details:l,fatal:u,url:e.url,loader:c,context:e,error:s,networkDetails:t,stats:a};if(i){var p=(null==t?void 0:t.url)||e.url;d.response=r({url:p,data:void 0},i)}this.hls.trigger(b.ERROR,d)},t.handlePlaylistLoaded=function(e,t,n,r,i,a){var o=this.hls,s=r.type,l=r.level,u=r.id,c=r.groupId,d=r.deliveryDirectives,p=Ct(t,r),f=wt(r),h="number"==typeof r.level&&f===_t?l:void 0;if(e.fragments.length){e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));var y=e.playlistParsingError;if(y)o.trigger(b.ERROR,{type:k.NETWORK_ERROR,details:E.LEVEL_PARSING_ERROR,fatal:!1,url:p,error:y,reason:y.message,response:t,context:r,level:h,parent:f,networkDetails:i,stats:n});else switch(e.live&&a&&(a.getCacheAge&&(e.ageHeader=a.getCacheAge()||0),a.getCacheAge&&!isNaN(e.ageHeader)||(e.ageHeader=0)),s){case bt:case kt:o.trigger(b.LEVEL_LOADED,{details:e,level:h||0,id:u||0,stats:n,networkDetails:i,deliveryDirectives:d});break;case Et:o.trigger(b.AUDIO_TRACK_LOADED,{details:e,id:u||0,groupId:c||"",stats:n,networkDetails:i,deliveryDirectives:d});break;case Tt:o.trigger(b.SUBTITLE_TRACK_LOADED,{details:e,id:u||0,groupId:c||"",stats:n,networkDetails:i,deliveryDirectives:d})}}else{var g=new Error("No Segments found in Playlist");o.trigger(b.ERROR,{type:k.NETWORK_ERROR,details:E.LEVEL_EMPTY_ERROR,fatal:!1,url:p,error:g,reason:g.message,response:t,context:r,level:h,parent:f,networkDetails:i,stats:n})}},e}();function Pt(e,t){var n;try{n=new Event("addtrack")}catch(e){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)}function Rt(e,t){var n=e.mode;if("disabled"===n&&(e.mode="hidden"),e.cues&&!e.cues.getCueById(t.id))try{if(e.addCue(t),!e.cues.getCueById(t.id))throw new Error("addCue is failed for: "+t)}catch(n){w.debug("[texttrack-utils]: "+n);try{var r=new self.TextTrackCue(t.startTime,t.endTime,t.text);r.id=t.id,e.addCue(r)}catch(e){w.debug("[texttrack-utils]: Legacy TextTrackCue fallback failed: "+e)}}"disabled"===n&&(e.mode=n)}function It(e){var t=e.mode;if("disabled"===t&&(e.mode="hidden"),e.cues)for(var n=e.cues.length;n--;)e.removeCue(e.cues[n]);"disabled"===t&&(e.mode=t)}function Dt(e,t,n,r){var i=e.mode;if("disabled"===i&&(e.mode="hidden"),e.cues&&e.cues.length>0)for(var a=function(e,t,n){var r=[],i=function(e,t){if(t<e[0].startTime)return 0;var n=e.length-1;if(t>e[n].endTime)return-1;for(var r=0,i=n;r<=i;){var a=Math.floor((i+r)/2);if(t<e[a].startTime)i=a-1;else{if(!(t>e[a].startTime&&r<n))return a;r=a+1}}return e[r].startTime-t<t-e[i].startTime?r:i}(e,t);if(i>-1)for(var a=i,o=e.length;a<o;a++){var s=e[a];if(s.startTime>=t&&s.endTime<=n)r.push(s);else if(s.startTime>n)return r}return r}(e.cues,t,n),o=0;o<a.length;o++)r&&!r(a[o])||e.removeCue(a[o]);"disabled"===i&&(e.mode=i)}function Ot(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];"subtitles"!==r.kind&&"captions"!==r.kind||!r.label||t.push(e[n])}return t}var Lt="org.id3",Mt="https://aomedia.org/emsg/ID3";function Nt(){if("undefined"!=typeof self)return self.VTTCue||self.TextTrackCue}function Ut(e,t,n,i,a){var o=new e(t,n,"");try{o.value=i,a&&(o.type=a)}catch(s){o=new e(t,n,JSON.stringify(a?r({type:a},i):i))}return o}var Bt=function(){var e=Nt();try{e&&new e(0,Number.POSITIVE_INFINITY,"")}catch(e){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}();function Ft(e,t){return e.getTime()/1e3-t}var jt=function(){function e(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}var t=e.prototype;return t.destroy=function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null},t._registerListeners=function(){var e=this.hls;e.on(b.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(b.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(b.MANIFEST_LOADING,this.onManifestLoading,this),e.on(b.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(b.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(b.LEVEL_UPDATED,this.onLevelUpdated,this)},t._unregisterListeners=function(){var e=this.hls;e.off(b.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(b.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(b.MANIFEST_LOADING,this.onManifestLoading,this),e.off(b.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(b.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(b.LEVEL_UPDATED,this.onLevelUpdated,this)},t.onMediaAttached=function(e,t){this.media=t.media},t.onMediaDetaching=function(){this.id3Track&&(It(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})},t.onManifestLoading=function(){this.dateRangeCuesAppended={}},t.createTrack=function(e){var t=this.getID3Track(e.textTracks);return t.mode="hidden",t},t.getID3Track=function(e){if(this.media){for(var t=0;t<e.length;t++){var n=e[t];if("metadata"===n.kind&&"id3"===n.label)return Pt(n,this.media),n}return this.media.addTextTrack("metadata","id3")}},t.onFragParsingMetadata=function(e,t){if(this.media){var n=this.hls.config,r=n.enableEmsgMetadataCues,i=n.enableID3MetadataCues;if(r||i){var a=t.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));var o=Nt();if(o)for(var s=0;s<a.length;s++){var l=a[s].type;if((l!==Mt||r)&&i){var u=ce(a[s].data);if(u){var c=a[s].pts,d=c+a[s].duration;d>Bt&&(d=Bt),d-c<=0&&(d=c+.25);for(var p=0;p<u.length;p++){var f=u[p];if(!le(f)){this.updateId3CueEnds(c,l);var h=Ut(o,c,d,f,l);h&&this.id3Track.addCue(h)}}}}}}}},t.updateId3CueEnds=function(e,t){var n,r=null==(n=this.id3Track)?void 0:n.cues;if(r)for(var i=r.length;i--;){var a=r[i];a.type===t&&a.startTime<e&&a.endTime===Bt&&(a.endTime=e)}},t.onBufferFlushing=function(e,t){var n=t.startOffset,r=t.endOffset,i=t.type,a=this.id3Track,o=this.hls;if(o){var s=o.config,l=s.enableEmsgMetadataCues,u=s.enableID3MetadataCues;a&&(l||u)&&Dt(a,n,r,"audio"===i?function(e){return e.type===Lt&&u}:"video"===i?function(e){return e.type===Mt&&l}:function(e){return e.type===Lt&&u||e.type===Mt&&l})}},t.onLevelUpdated=function(e,t){var n=this,r=t.details;if(this.media&&r.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var i=this.dateRangeCuesAppended,a=this.id3Track,o=r.dateRanges,s=Object.keys(o);if(a)for(var l=Object.keys(i).filter((function(e){return!s.includes(e)})),u=function(){var e=l[c];Object.keys(i[e].cues).forEach((function(t){a.removeCue(i[e].cues[t])})),delete i[e]},c=l.length;c--;)u();var d=r.fragments[r.fragments.length-1];if(0!==s.length&&g(null==d?void 0:d.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var p=d.programDateTime/1e3-d.start,f=Nt(),h=function(){var e=s[y],t=o[e],r=Ft(t.startDate,p),a=i[e],l=(null==a?void 0:a.cues)||{},u=(null==a?void 0:a.durationKnown)||!1,c=Bt,d=t.endDate;if(d)c=Ft(d,p),u=!0;else if(t.endOnNext&&!u){var h=s.reduce((function(e,n){if(n!==t.id){var r=o[n];if(r.class===t.class&&r.startDate>t.startDate&&(!e||t.startDate<e.startDate))return r}return e}),null);h&&(c=Ft(h.startDate,p),u=!0)}for(var g,v,m=Object.keys(t.attr),b=0;b<m.length;b++){var k=m[b];if("ID"!==(v=k)&&"CLASS"!==v&&"START-DATE"!==v&&"DURATION"!==v&&"END-DATE"!==v&&"END-ON-NEXT"!==v){var E=l[k];if(E)u&&!a.durationKnown&&(E.endTime=c);else if(f){var T=t.attr[k];R(k)&&(g=T,T=Uint8Array.from(g.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer);var _=Ut(f,r,c,{key:k,data:T},"com.apple.quicktime.HLS");_&&(_.id=e,n.id3Track.addCue(_),l[k]=_)}}}i[e]={cues:l,dateRange:t,durationKnown:u}},y=0;y<s.length;y++)h()}}},e}(),Ht=function(){function e(e){var t=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return t.timeupdate()},this.hls=e,this.config=e.config,this.registerListeners()}var t=e.prototype;return t.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},t.registerListeners=function(){this.hls.on(b.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(b.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(b.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(b.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(b.ERROR,this.onError,this)},t.unregisterListeners=function(){this.hls.off(b.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(b.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(b.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(b.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(b.ERROR,this.onError,this)},t.onMediaAttached=function(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},t.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},t.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},t.onLevelUpdated=function(e,t){var n=t.details;this.levelDetails=n,n.advanced&&this.timeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},t.onError=function(e,t){var n;t.details===E.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(n=this.levelDetails)&&n.live&&w.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},t.timeupdate=function(){var e=this.media,t=this.levelDetails;if(e&&t){this.currentTime=e.currentTime;var n=this.computeLatency();if(null!==n){this._latency=n;var r=this.config,i=r.lowLatencyMode,a=r.maxLiveSyncPlaybackRate;if(i&&1!==a&&t.live){var o=this.targetLatency;if(null!==o){var s=n-o;if(s<Math.min(this.maxLatency,o+t.targetduration)&&s>.05&&this.forwardBufferLength>1){var l=Math.min(2,Math.max(1,a)),u=Math.round(2/(1+Math.exp(-.75*s-this.edgeStalled))*20)/20;e.playbackRate=Math.min(l,Math.max(1,u))}else 1!==e.playbackRate&&0!==e.playbackRate&&(e.playbackRate=1)}}}}},t.estimateLiveEdge=function(){var e=this.levelDetails;return null===e?null:e.edge+e.age},t.computeLatency=function(){var e=this.estimateLiveEdge();return null===e?null:e-this.currentTime},o(e,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var e=this.config,t=this.levelDetails;return void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}},{key:"targetLatency",get:function(){var e=this.levelDetails;if(null===e)return null;var t=e.holdBack,n=e.partHoldBack,r=e.targetduration,i=this.config,a=i.liveSyncDuration,o=i.liveSyncDurationCount,s=i.lowLatencyMode,l=this.hls.userConfig,u=s&&n||t;(l.liveSyncDuration||l.liveSyncDurationCount||0===u)&&(u=void 0!==a?a:o*r);var c=r;return u+Math.min(1*this.stallCount,c)}},{key:"liveSyncPosition",get:function(){var e=this.estimateLiveEdge(),t=this.targetLatency,n=this.levelDetails;if(null===e||null===t||null===n)return null;var r=n.edge,i=e-t-this.edgeStalled,a=r-n.totalduration,o=r-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(a,i),o)}},{key:"drift",get:function(){var e=this.levelDetails;return null===e?1:e.drift}},{key:"edgeStalled",get:function(){var e=this.levelDetails;if(null===e)return 0;var t=3*(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.max(e.age-t,0)}},{key:"forwardBufferLength",get:function(){var e=this.media,t=this.levelDetails;if(!e||!t)return 0;var n=e.buffered.length;return(n?e.buffered.end(n-1):t.edge)-this.currentTime}}]),e}(),Vt=["NONE","TYPE-0","TYPE-1",null],Gt=["SDR","PQ","HLG"];function Kt(e){var t=e.canSkipUntil,n=e.canSkipDateRanges,r=e.age;return t&&r<t/2?n?"v2":"YES":""}var zt=function(){function e(e,t,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=n}return e.prototype.addDirectives=function(e){var t=new self.URL(e);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href},e}(),Wt=function(){function e(e){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter((function(e){return!!e})).map((function(e){return e.substring(0,4)})).join(","),this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}var t=e.prototype;return t.hasAudioGroup=function(e){return Yt(this._audioGroups,e)},t.hasSubtitleGroup=function(e){return Yt(this._subtitleGroups,e)},t.addGroupId=function(e,t){if(t)if("audio"===e){var n=this._audioGroups;n||(n=this._audioGroups=[]),-1===n.indexOf(t)&&n.push(t)}else if("text"===e){var r=this._subtitleGroups;r||(r=this._subtitleGroups=[]),-1===r.indexOf(t)&&r.push(t)}},t.addFallback=function(){},o(e,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"averageBitrate",get:function(){return this._avgBitrate||this.realBitrate||this.bitrate}},{key:"attrs",get:function(){return this._attrs[0]}},{key:"codecs",get:function(){return this.attrs.CODECS||""}},{key:"pathwayId",get:function(){return this.attrs["PATHWAY-ID"]||"."}},{key:"videoRange",get:function(){return this.attrs["VIDEO-RANGE"]||"SDR"}},{key:"score",get:function(){return this.attrs.optionalFloat("SCORE",0)}},{key:"uri",get:function(){return this.url[0]||""}},{key:"audioGroups",get:function(){return this._audioGroups}},{key:"subtitleGroups",get:function(){return this._subtitleGroups}},{key:"urlId",get:function(){return 0},set:function(e){}},{key:"audioGroupIds",get:function(){return this.audioGroups?[this.audioGroupId]:void 0}},{key:"textGroupIds",get:function(){return this.subtitleGroups?[this.textGroupId]:void 0}},{key:"audioGroupId",get:function(){var e;return null==(e=this.audioGroups)?void 0:e[0]}},{key:"textGroupId",get:function(){var e;return null==(e=this.subtitleGroups)?void 0:e[0]}}]),e}();function Yt(e,t){return!(!t||!e)&&-1!==e.indexOf(t)}function Zt(e,t){var n=t.startPTS;if(g(n)){var r,i=0;t.sn>e.sn?(i=n-e.start,r=e):(i=e.start-n,r=t),r.duration!==i&&(r.duration=i)}else t.sn>e.sn?e.cc===t.cc&&e.minEndPTS?t.start=e.start+(e.minEndPTS-e.start):t.start=e.start+e.duration:t.start=Math.max(e.start-t.duration,0)}function qt(e,t,n,r,i,a){r-n<=0&&(w.warn("Fragment should have a positive duration",t),r=n+t.duration,a=i+t.duration);var o=n,s=r,l=t.startPTS,u=t.endPTS;if(g(l)){var c=Math.abs(l-n);g(t.deltaPTS)?t.deltaPTS=Math.max(c,t.deltaPTS):t.deltaPTS=c,o=Math.max(n,l),n=Math.min(n,l),i=Math.min(i,t.startDTS),s=Math.min(r,u),r=Math.max(r,u),a=Math.max(a,t.endDTS)}var d=n-t.start;0!==t.start&&(t.start=n),t.duration=r-t.start,t.startPTS=n,t.maxStartPTS=o,t.startDTS=i,t.endPTS=r,t.minEndPTS=s,t.endDTS=a;var p,f=t.sn;if(!e||f<e.startSN||f>e.endSN)return 0;var h=f-e.startSN,y=e.fragments;for(y[h]=t,p=h;p>0;p--)Zt(y[p],y[p-1]);for(p=h;p<y.length-1;p++)Zt(y[p],y[p+1]);return e.fragmentHint&&Zt(y[y.length-1],e.fragmentHint),e.PTSKnown=e.alignedSliding=!0,d}function Xt(e,t){for(var n=null,r=e.fragments,i=r.length-1;i>=0;i--){var a=r[i].initSegment;if(a){n=a;break}}e.fragmentHint&&delete e.fragmentHint.endPTS;var o,l,u,c,d,p=0;if(function(e,t,n){for(var r=t.skippedSegments,i=Math.max(e.startSN,t.startSN)-t.startSN,a=(e.fragmentHint?1:0)+(r?t.endSN:Math.min(e.endSN,t.endSN))-t.startSN,o=t.startSN-e.startSN,s=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,l=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,u=i;u<=a;u++){var c=l[o+u],d=s[u];r&&!d&&u<r&&(d=t.fragments[u]=c),c&&d&&n(c,d)}}(e,t,(function(e,r){e.relurl&&(p=e.cc-r.cc),g(e.startPTS)&&g(e.endPTS)&&(r.start=r.startPTS=e.startPTS,r.startDTS=e.startDTS,r.maxStartPTS=e.maxStartPTS,r.endPTS=e.endPTS,r.endDTS=e.endDTS,r.minEndPTS=e.minEndPTS,r.duration=e.endPTS-e.startPTS,r.duration&&(o=r),t.PTSKnown=t.alignedSliding=!0),r.elementaryStreams=e.elementaryStreams,r.loader=e.loader,r.stats=e.stats,e.initSegment&&(r.initSegment=e.initSegment,n=e.initSegment)})),n&&(t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments).forEach((function(e){var t;!e||e.initSegment&&e.initSegment.relurl!==(null==(t=n)?void 0:t.relurl)||(e.initSegment=n)})),t.skippedSegments)if(t.deltaUpdateFailed=t.fragments.some((function(e){return!e})),t.deltaUpdateFailed){w.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var f=t.skippedSegments;f--;)t.fragments.shift();t.startSN=t.fragments[0].sn,t.startCC=t.fragments[0].cc}else t.canSkipDateRanges&&(t.dateRanges=(l=e.dateRanges,u=t.dateRanges,c=t.recentlyRemovedDateranges,d=s({},l),c&&c.forEach((function(e){delete d[e]})),Object.keys(u).forEach((function(e){var t=new I(u[e].attr,d[e]);t.isValid?d[e]=t:w.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'+JSON.stringify(u[e].attr)+'"')})),d));var h=t.fragments;if(p){w.warn("discontinuity sliding from playlist, take drift into account");for(var y=0;y<h.length;y++)h[y].cc+=p}t.skippedSegments&&(t.startCC=t.fragments[0].cc),function(e,t,n){if(e&&t)for(var r=0,i=0,a=e.length;i<=a;i++){var o=e[i],s=t[i+r];o&&s&&o.index===s.index&&o.fragment.sn===s.fragment.sn?n(o,s):r--}}(e.partList,t.partList,(function(e,t){t.elementaryStreams=e.elementaryStreams,t.stats=e.stats})),o?qt(t,o,o.startPTS,o.endPTS,o.startDTS,o.endDTS):Qt(e,t),h.length&&(t.totalduration=t.edge-h[0].start),t.driftStartTime=e.driftStartTime,t.driftStart=e.driftStart;var v=t.advancedDateTime;if(t.advanced&&v){var m=t.edge;t.driftStart||(t.driftStartTime=v,t.driftStart=m),t.driftEndTime=v,t.driftEnd=m}else t.driftEndTime=e.driftEndTime,t.driftEnd=e.driftEnd,t.advancedDateTime=e.advancedDateTime}function Qt(e,t){var n=t.startSN+t.skippedSegments-e.startSN,r=e.fragments;n<0||n>=r.length||Jt(t,r[n].start)}function Jt(e,t){if(t){for(var n=e.fragments,r=e.skippedSegments;r<n.length;r++)n[r].start+=t;e.fragmentHint&&(e.fragmentHint.start+=t)}}function $t(e,t,n){var r;return null!=e&&e.details?en(null==(r=e.details)?void 0:r.partList,t,n):null}function en(e,t,n){if(e)for(var r=e.length;r--;){var i=e[r];if(i.index===n&&i.fragment.sn===t)return i}return null}function tn(e){e.forEach((function(e,t){var n=e.details;null!=n&&n.fragments&&n.fragments.forEach((function(e){e.level=t}))}))}function nn(e){switch(e.details){case E.FRAG_LOAD_TIMEOUT:case E.KEY_LOAD_TIMEOUT:case E.LEVEL_LOAD_TIMEOUT:case E.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function rn(e,t){var n=nn(t);return e.default[(n?"timeout":"error")+"Retry"]}function an(e,t){var n="linear"===e.backoff?1:Math.pow(2,t);return Math.min(n*e.retryDelayMs,e.maxRetryDelayMs)}function on(e){return r(r({},e),{errorRetry:null,timeoutRetry:null})}function sn(e,t,n,r){if(!e)return!1;var i=null==r?void 0:r.code,a=t<e.maxNumRetry&&(function(e){return 0===e&&!1===navigator.onLine||!!e&&(e<400||e>499)}(i)||!!n);return e.shouldRetry?e.shouldRetry(e,t,n,r,a):a}var ln=function(e,t){for(var n=0,r=e.length-1,i=null,a=null;n<=r;){var o=t(a=e[i=(n+r)/2|0]);if(o>0)n=i+1;else{if(!(o<0))return a;r=i-1}}return null};function un(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i=null;if(e){i=t[e.sn-t[0].sn+1]||null;var a=e.endDTS-n;a>0&&a<15e-7&&(n+=15e-7)}else 0===n&&0===t[0].start&&(i=t[0]);if(i&&(!e||e.level===i.level)&&0===cn(n,r,i))return i;var o=ln(t,cn.bind(null,n,r));return!o||o===e&&i?i:o}function cn(e,t,n){if(void 0===e&&(e=0),void 0===t&&(t=0),n.start<=e&&n.start+n.duration>e)return 0;var r=Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=e?1:n.start-r>e&&n.start?-1:0}function dn(e,t,n){var r=1e3*Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return(n.endProgramDateTime||0)-r>e}var pn=function(){function e(e){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=e,this.log=w.log.bind(w,"[info]:"),this.warn=w.warn.bind(w,"[warning]:"),this.error=w.error.bind(w,"[error]:"),this.registerListeners()}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(b.ERROR,this.onError,this),e.on(b.MANIFEST_LOADING,this.onManifestLoading,this),e.on(b.LEVEL_UPDATED,this.onLevelUpdated,this)},t.unregisterListeners=function(){var e=this.hls;e&&(e.off(b.ERROR,this.onError,this),e.off(b.ERROR,this.onErrorOut,this),e.off(b.MANIFEST_LOADING,this.onManifestLoading,this),e.off(b.LEVEL_UPDATED,this.onLevelUpdated,this))},t.destroy=function(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}},t.startLoad=function(e){},t.stopLoad=function(){this.playlistError=0},t.getVariantLevelIndex=function(e){return(null==e?void 0:e.type)===_t?e.level:this.hls.loadLevel},t.onManifestLoading=function(){this.playlistError=0,this.penalizedRenditions={}},t.onLevelUpdated=function(){this.playlistError=0},t.onError=function(e,t){var n,r;if(!t.fatal){var i=this.hls,a=t.context;switch(t.details){case E.FRAG_LOAD_ERROR:case E.FRAG_LOAD_TIMEOUT:case E.KEY_LOAD_ERROR:case E.KEY_LOAD_TIMEOUT:return void(t.errorAction=this.getFragRetryOrSwitchAction(t));case E.FRAG_PARSING_ERROR:if(null!=(n=t.frag)&&n.gap)return void(t.errorAction={action:0,flags:0});case E.FRAG_GAP:case E.FRAG_DECRYPT_ERROR:return t.errorAction=this.getFragRetryOrSwitchAction(t),void(t.errorAction.action=2);case E.LEVEL_EMPTY_ERROR:case E.LEVEL_PARSING_ERROR:var o,s,l=t.parent===_t?t.level:i.loadLevel;return void(t.details===E.LEVEL_EMPTY_ERROR&&null!=(o=t.context)&&null!=(s=o.levelDetails)&&s.live?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,l):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,l)));case E.LEVEL_LOAD_ERROR:case E.LEVEL_LOAD_TIMEOUT:return void("number"==typeof(null==a?void 0:a.level)&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,a.level)));case E.AUDIO_TRACK_LOAD_ERROR:case E.AUDIO_TRACK_LOAD_TIMEOUT:case E.SUBTITLE_LOAD_ERROR:case E.SUBTITLE_TRACK_LOAD_TIMEOUT:if(a){var u=i.levels[i.loadLevel];if(u&&(a.type===Et&&u.hasAudioGroup(a.groupId)||a.type===Tt&&u.hasSubtitleGroup(a.groupId)))return t.errorAction=this.getPlaylistRetryOrSwitchAction(t,i.loadLevel),t.errorAction.action=2,void(t.errorAction.flags=1)}return;case E.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:var c=i.levels[i.loadLevel],d=null==c?void 0:c.attrs["HDCP-LEVEL"];return void(d?t.errorAction={action:2,flags:2,hdcpLevel:d}:this.keySystemError(t));case E.BUFFER_ADD_CODEC_ERROR:case E.REMUX_ALLOC_ERROR:case E.BUFFER_APPEND_ERROR:return void(t.errorAction=this.getLevelSwitchAction(t,null!=(r=t.level)?r:i.loadLevel));case E.INTERNAL_EXCEPTION:case E.BUFFER_APPENDING_ERROR:case E.BUFFER_FULL_ERROR:case E.LEVEL_SWITCH_ERROR:case E.BUFFER_STALLED_ERROR:case E.BUFFER_SEEK_OVER_HOLE:case E.BUFFER_NUDGE_ON_STALL:return void(t.errorAction={action:0,flags:0})}t.type===k.KEY_SYSTEM_ERROR&&this.keySystemError(t)}},t.keySystemError=function(e){var t=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,t)},t.getPlaylistRetryOrSwitchAction=function(e,t){var n=rn(this.hls.config.playlistLoadPolicy,e),r=this.playlistError++;if(sn(n,r,nn(e),e.response))return{action:5,flags:0,retryConfig:n,retryCount:r};var i=this.getLevelSwitchAction(e,t);return n&&(i.retryConfig=n,i.retryCount=r),i},t.getFragRetryOrSwitchAction=function(e){var t=this.hls,n=this.getVariantLevelIndex(e.frag),r=t.levels[n],i=t.config,a=i.fragLoadPolicy,o=i.keyLoadPolicy,s=rn(e.details.startsWith("key")?o:a,e),l=t.levels.reduce((function(e,t){return e+t.fragmentError}),0);if(r&&(e.details!==E.FRAG_GAP&&r.fragmentError++,sn(s,l,nn(e),e.response)))return{action:5,flags:0,retryConfig:s,retryCount:l};var u=this.getLevelSwitchAction(e,n);return s&&(u.retryConfig=s,u.retryCount=l),u},t.getLevelSwitchAction=function(e,t){var n=this.hls;null==t&&(t=n.loadLevel);var r=this.hls.levels[t];if(r){var i,a,o=e.details;r.loadError++,o===E.BUFFER_APPEND_ERROR&&r.fragmentError++;var s=-1,l=n.levels,u=n.loadLevel,c=n.minAutoLevel,d=n.maxAutoLevel;n.autoLevelEnabled||(n.loadLevel=-1);for(var p,f=null==(i=e.frag)?void 0:i.type,h=(f===At&&o===E.FRAG_PARSING_ERROR||"audio"===e.sourceBufferName&&(o===E.BUFFER_ADD_CODEC_ERROR||o===E.BUFFER_APPEND_ERROR))&&l.some((function(e){var t=e.audioCodec;return r.audioCodec!==t})),y="video"===e.sourceBufferName&&(o===E.BUFFER_ADD_CODEC_ERROR||o===E.BUFFER_APPEND_ERROR)&&l.some((function(e){var t=e.codecSet,n=e.audioCodec;return r.codecSet!==t&&r.audioCodec===n})),g=null!=(a=e.context)?a:{},v=g.type,m=g.groupId,b=function(){var t=(k+u)%l.length;if(t!==u&&t>=c&&t<=d&&0===l[t].loadError){var n,i,a=l[t];if(o===E.FRAG_GAP&&e.frag){var p=l[t].details;if(p){var g=un(e.frag,p.fragments,e.frag.start);if(null!=g&&g.gap)return 0}}else{if(v===Et&&a.hasAudioGroup(m)||v===Tt&&a.hasSubtitleGroup(m))return 0;if(f===At&&null!=(n=r.audioGroups)&&n.some((function(e){return a.hasAudioGroup(e)}))||f===St&&null!=(i=r.subtitleGroups)&&i.some((function(e){return a.hasSubtitleGroup(e)}))||h&&r.audioCodec===a.audioCodec||!h&&r.audioCodec!==a.audioCodec||y&&r.codecSet===a.codecSet)return 0}return s=t,1}},k=l.length;k--&&(0===(p=b())||1!==p););if(s>-1&&n.loadLevel!==s)return e.levelRetry=!0,this.playlistError=0,{action:2,flags:0,nextAutoLevel:s}}return{action:2,flags:1}},t.onErrorOut=function(e,t){var n;switch(null==(n=t.errorAction)?void 0:n.action){case 0:break;case 2:this.sendAlternateToPenaltyBox(t),t.errorAction.resolved||t.details===E.FRAG_GAP?/MediaSource readyState: ended/.test(t.error.message)&&(this.warn('MediaSource ended after "'+t.sourceBufferName+'" sourceBuffer append error. Attempting to recover from media error.'),this.hls.recoverMediaError()):t.fatal=!0}t.fatal&&this.hls.stopLoad()},t.sendAlternateToPenaltyBox=function(e){var t=this.hls,n=e.errorAction;if(n){var r=n.flags,i=n.hdcpLevel,a=n.nextAutoLevel;switch(r){case 0:this.switchLevel(e,a);break;case 2:i&&(t.maxHdcpLevel=Vt[Vt.indexOf(i)-1],n.resolved=!0),this.warn('Restricting playback to HDCP-LEVEL of "'+t.maxHdcpLevel+'" or lower')}n.resolved||this.switchLevel(e,a)}},t.switchLevel=function(e,t){void 0!==t&&e.errorAction&&(this.warn("switching to level "+t+" after "+e.details),this.hls.nextAutoLevel=t,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)},e}(),fn=function(){function e(e,t){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=w.log.bind(w,t+":"),this.warn=w.warn.bind(w,t+":"),this.hls=e}var t=e.prototype;return t.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},t.clearTimer=function(){-1!==this.timer&&(self.clearTimeout(this.timer),this.timer=-1)},t.startLoad=function(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()},t.stopLoad=function(){this.canLoad=!1,this.clearTimer()},t.switchParams=function(e,t,n){var r=null==t?void 0:t.renditionReports;if(r){for(var i=-1,a=0;a<r.length;a++){var o=r[a],s=void 0;try{s=new self.URL(o.URI,t.url).href}catch(e){w.warn("Could not construct new URL for Rendition Report: "+e),s=o.URI||""}if(s===e){i=a;break}s===e.substring(0,s.length)&&(i=a)}if(-1!==i){var l=r[i],u=parseInt(l["LAST-MSN"])||(null==t?void 0:t.lastPartSn),c=parseInt(l["LAST-PART"])||(null==t?void 0:t.lastPartIndex);if(this.hls.config.lowLatencyMode){var d=Math.min(t.age-t.partTarget,t.targetduration);c>=0&&d>t.partTarget&&(c+=1)}var p=n&&Kt(n);return new zt(u,c>=0?c:void 0,p)}}},t.loadPlaylist=function(e){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())},t.shouldLoadPlaylist=function(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)},t.shouldReloadPlaylist=function(e){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(e)},t.playlistLoaded=function(e,t,n){var r=this,i=t.details,a=t.stats,o=self.performance.now(),s=a.loading.first?Math.max(0,o-a.loading.first):0;if(i.advancedDateTime=Date.now()-s,i.live||null!=n&&n.live){if(i.reloaded(n),n&&this.log("live playlist "+e+" "+(i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED")),n&&i.fragments.length>0&&Xt(n,i),!this.canLoad||!i.live)return;var l,u=void 0,c=void 0;if(i.canBlockReload&&i.endSN&&i.advanced){var d=this.hls.config.lowLatencyMode,p=i.lastPartSn,f=i.endSN,h=i.lastPartIndex,y=p===f;-1!==h?(u=y?f+1:p,c=y?d?0:h:h+1):u=f+1;var g=i.age,v=g+i.ageHeader,m=Math.min(v-i.partTarget,1.5*i.targetduration);if(m>0){if(n&&m>n.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+n.tuneInGoal+" to: "+m+" with playlist age: "+i.age),m=0;else{var b=Math.floor(m/i.targetduration);u+=b,void 0!==c&&(c+=Math.round(m%i.targetduration/i.partTarget)),this.log("CDN Tune-in age: "+i.ageHeader+"s last advanced "+g.toFixed(2)+"s goal: "+m+" skip sn "+b+" to part "+c)}i.tuneInGoal=m}if(l=this.getDeliveryDirectives(i,t.deliveryDirectives,u,c),d||!y)return void this.loadPlaylist(l)}else(i.canBlockReload||i.canSkipUntil)&&(l=this.getDeliveryDirectives(i,t.deliveryDirectives,u,c));var k=this.hls.mainForwardBufferInfo,E=k?k.end-k.len:0,T=function(e,t){void 0===t&&(t=1/0);var n=1e3*e.targetduration;if(e.updated){var r=e.fragments;if(r.length&&4*n>t){var i=1e3*r[r.length-1].duration;i<n&&(n=i)}}else n/=2;return Math.round(n)}(i,1e3*(i.edge-E));i.updated&&o>this.requestScheduled+T&&(this.requestScheduled=a.loading.start),void 0!==u&&i.canBlockReload?this.requestScheduled=a.loading.first+T-(1e3*i.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+T<o?this.requestScheduled=o:this.requestScheduled-o<=0&&(this.requestScheduled+=T);var _=this.requestScheduled-o;_=Math.max(0,_),this.log("reload live playlist "+e+" in "+Math.round(_)+" ms"),this.timer=self.setTimeout((function(){return r.loadPlaylist(l)}),_)}else this.clearTimer()},t.getDeliveryDirectives=function(e,t,n,r){var i=Kt(e);return null!=t&&t.skip&&e.deltaUpdateFailed&&(n=t.msn,r=t.part,i=""),new zt(n,r,i)},t.checkRetry=function(e){var t=this,n=e.details,r=nn(e),i=e.errorAction,a=i||{},o=a.action,s=a.retryCount,l=void 0===s?0:s,u=a.retryConfig,c=!!i&&!!u&&(5===o||!i.resolved&&2===o);if(c){var d;if(this.requestScheduled=-1,l>=u.maxNumRetry)return!1;if(r&&null!=(d=e.context)&&d.deliveryDirectives)this.warn("Retrying playlist loading "+(l+1)+"/"+u.maxNumRetry+' after "'+n+'" without delivery-directives'),this.loadPlaylist();else{var p=an(u,l);this.timer=self.setTimeout((function(){return t.loadPlaylist()}),p),this.warn("Retrying playlist loading "+(l+1)+"/"+u.maxNumRetry+' after "'+n+'" in '+p+"ms")}e.levelRetry=!0,i.resolved=!0}return c},e}(),hn=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=n}var t=e.prototype;return t.sample=function(e,t){var n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e},t.getTotalWeight=function(){return this.totalWeight_},t.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_},e}(),yn=function(){function e(e,t,n,r){void 0===r&&(r=100),this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new hn(e),this.fast_=new hn(t),this.defaultTTFB_=r,this.ttfb_=new hn(e)}var t=e.prototype;return t.update=function(e,t){var n=this.slow_,r=this.fast_,i=this.ttfb_;n.halfLife!==e&&(this.slow_=new hn(e,n.getEstimate(),n.getTotalWeight())),r.halfLife!==t&&(this.fast_=new hn(t,r.getEstimate(),r.getTotalWeight())),i.halfLife!==e&&(this.ttfb_=new hn(e,i.getEstimate(),i.getTotalWeight()))},t.sample=function(e,t){var n=(e=Math.max(e,this.minDelayMs_))/1e3,r=8*t/n;this.fast_.sample(n,r),this.slow_.sample(n,r)},t.sampleTTFB=function(e){var t=e/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(n,Math.max(e,5))},t.canEstimate=function(){return this.fast_.getTotalWeight()>=this.minWeight_},t.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.getEstimateTTFB=function(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_},t.destroy=function(){},e}(),gn={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]},vn={};function mn(e,t,n){var i=e.videoCodec,a=e.audioCodec;if(!i||!a||!n)return Promise.resolve(gn);var o={width:e.width,height:e.height,bitrate:Math.ceil(Math.max(.9*e.bitrate,e.averageBitrate)),framerate:e.frameRate||30},s=e.videoRange;"SDR"!==s&&(o.transferFunction=s.toLowerCase());var l=i.split(",").map((function(e){return{type:"media-source",video:r(r({},o),{},{contentType:$e(e,"video")})}}));return a&&e.audioGroups&&e.audioGroups.forEach((function(e){var n;e&&(null==(n=t.groups[e])||n.tracks.forEach((function(t){if(t.groupId===e){var n=t.channels||"",r=parseFloat(n);g(r)&&r>2&&l.push.apply(l,a.split(",").map((function(e){return{type:"media-source",audio:{contentType:$e(e,"audio"),channels:""+r}}})))}})))})),Promise.all(l.map((function(e){var t=function(e){var t=e.audio,n=e.video,r=n||t;if(r){var i=r.contentType.split('"')[1];if(n)return"r"+n.height+"x"+n.width+"f"+Math.ceil(n.framerate)+(n.transferFunction||"sd")+"_"+i+"_"+Math.ceil(n.bitrate/1e5);if(t)return"c"+t.channels+(t.spatialRendering?"s":"n")+"_"+i}return""}(e);return vn[t]||(vn[t]=n.decodingInfo(e))}))).then((function(e){return{supported:!e.some((function(e){return!e.supported})),configurations:l,decodingInfoResults:e}})).catch((function(e){return{supported:!1,configurations:l,decodingInfoResults:[],error:e}}))}function bn(e,t){w.log('[abr] start candidates with "'+e+'" ignored because '+t)}function kn(e,t,n){if("attrs"in e){var r=t.indexOf(e);if(-1!==r)return r}for(var i=0;i<t.length;i++)if(En(e,t[i],n))return i;return-1}function En(e,t,n){var r=e.groupId,i=e.name,a=e.lang,o=e.assocLang,s=e.characteristics,l=e.default,u=e.forced;return(void 0===r||t.groupId===r)&&(void 0===i||t.name===i)&&(void 0===a||t.lang===a)&&(void 0===a||t.assocLang===o)&&(void 0===l||t.default===l)&&(void 0===u||t.forced===u)&&(void 0===s||function(e,t){void 0===t&&(t="");var n=e.split(","),r=t.split(",");return n.length===r.length&&!n.some((function(e){return-1===r.indexOf(e)}))}(s,t.characteristics))&&(void 0===n||n(e,t))}function Tn(e,t){var n=e.audioCodec,r=e.channels;return!(void 0!==n&&(t.audioCodec||"").substring(0,4)!==n.substring(0,4)||void 0!==r&&r!==(t.channels||"2"))}function _n(e,t,n){for(var r=t;r;r--)if(n(e[r]))return r;for(var i=t+1;i<e.length;i++)if(n(e[i]))return i;return-1}var An=function(){function e(e){var t=this;this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this._abandonRulesCheck=function(){var e=t.fragCurrent,n=t.partCurrent,r=t.hls,i=r.autoLevelEnabled,a=r.media;if(e&&a){var o=performance.now(),s=n?n.stats:e.stats,l=n?n.duration:e.duration,u=o-s.loading.start,c=r.minAutoLevel;if(s.aborted||s.loaded&&s.loaded===s.total||e.level<=c)return t.clearTimer(),void(t._nextAutoLevel=-1);if(i&&!a.paused&&a.playbackRate&&a.readyState){var d=r.mainForwardBufferInfo;if(null!==d){var p=t.bwEstimator.getEstimateTTFB(),f=Math.abs(a.playbackRate);if(!(u<=Math.max(p,l/(2*f)*1e3))){var h=d.len/f,y=s.loading.first?s.loading.first-s.loading.start:-1,v=s.loaded&&y>-1,m=t.getBwEstimate(),k=r.levels,E=k[e.level],T=s.total||Math.max(s.loaded,Math.round(l*E.averageBitrate/8)),_=v?u-y:u;_<1&&v&&(_=Math.min(u,8*s.loaded/m));var A=v?1e3*s.loaded/_:0,S=A?(T-s.loaded)/A:8*T/m+p/1e3;if(!(S<=h)){var C,x=A?8*A:m,P=Number.POSITIVE_INFINITY;for(C=e.level-1;C>c;C--){var R=k[C].maxBitrate;if((P=t.getTimeToLoadFrag(p/1e3,x,l*R,!k[C].details))<h)break}if(!(P>=S||P>10*l)){r.nextLoadLevel=r.nextAutoLevel=C,v?t.bwEstimator.sample(u-Math.min(p,y),s.loaded):t.bwEstimator.sampleTTFB(u);var I=k[C].maxBitrate;t.getBwEstimate()*t.hls.config.abrBandWidthUpFactor>I&&t.resetEstimator(I),t.clearTimer(),w.warn("[abr] Fragment "+e.sn+(n?" part "+n.index:"")+" of level "+e.level+" is loading too slowly;\n      Time to underbuffer: "+h.toFixed(3)+" s\n      Estimated load time for current fragment: "+S.toFixed(3)+" s\n      Estimated load time for down switch fragment: "+P.toFixed(3)+" s\n      TTFB estimate: "+(0|y)+" ms\n      Current BW estimate: "+(g(m)?0|m:"Unknown")+" bps\n      New BW estimate: "+(0|t.getBwEstimate())+" bps\n      Switching to level "+C+" @ "+(0|I)+" bps"),r.trigger(b.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:n,stats:s})}}}}}}},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}var t=e.prototype;return t.resetEstimator=function(e){e&&(w.log("setting initial bwe to "+e),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()},t.initEstimator=function(){var e=this.hls.config;return new yn(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)},t.registerListeners=function(){var e=this.hls;e.on(b.MANIFEST_LOADING,this.onManifestLoading,this),e.on(b.FRAG_LOADING,this.onFragLoading,this),e.on(b.FRAG_LOADED,this.onFragLoaded,this),e.on(b.FRAG_BUFFERED,this.onFragBuffered,this),e.on(b.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(b.LEVEL_LOADED,this.onLevelLoaded,this),e.on(b.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(b.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(b.ERROR,this.onError,this)},t.unregisterListeners=function(){var e=this.hls;e&&(e.off(b.MANIFEST_LOADING,this.onManifestLoading,this),e.off(b.FRAG_LOADING,this.onFragLoading,this),e.off(b.FRAG_LOADED,this.onFragLoaded,this),e.off(b.FRAG_BUFFERED,this.onFragBuffered,this),e.off(b.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(b.LEVEL_LOADED,this.onLevelLoaded,this),e.off(b.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(b.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(b.ERROR,this.onError,this))},t.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null},t.onManifestLoading=function(e,t){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()},t.onLevelsUpdated=function(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null},t.onMaxAutoLevelUpdated=function(){this.firstSelection=-1,this.nextAutoLevelKey=""},t.onFragLoading=function(e,t){var n,r=t.frag;this.ignoreFragment(r)||(r.bitrateTest||(this.fragCurrent=r,this.partCurrent=null!=(n=t.part)?n:null),this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100))},t.onLevelSwitching=function(e,t){this.clearTimer()},t.onError=function(e,t){if(!t.fatal)switch(t.details){case E.BUFFER_ADD_CODEC_ERROR:case E.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case E.FRAG_LOAD_TIMEOUT:var n=t.frag,r=this.fragCurrent,i=this.partCurrent;if(n&&r&&n.sn===r.sn&&n.level===r.level){var a=performance.now(),o=i?i.stats:n.stats,s=a-o.loading.start,l=o.loading.first?o.loading.first-o.loading.start:-1;if(o.loaded&&l>-1){var u=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(s-Math.min(u,l),o.loaded)}else this.bwEstimator.sampleTTFB(s)}}},t.getTimeToLoadFrag=function(e,t,n,r){return e+n/t+(r?this.lastLevelLoadSec:0)},t.onLevelLoaded=function(e,t){var n=this.hls.config,r=t.stats.loading,i=r.end-r.start;g(i)&&(this.lastLevelLoadSec=i/1e3),t.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)},t.onFragLoaded=function(e,t){var n=t.frag,r=t.part,i=r?r.stats:n.stats;if(n.type===_t&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(n)){if(this.clearTimer(),n.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){var a=r?r.duration:n.duration,o=this.hls.levels[n.level],s=(o.loaded?o.loaded.bytes:0)+i.loaded,l=(o.loaded?o.loaded.duration:0)+a;o.loaded={bytes:s,duration:l},o.realBitrate=Math.round(8*s/l)}if(n.bitrateTest){var u={stats:i,frag:n,part:r,id:n.type};this.onFragBuffered(b.FRAG_BUFFERED,u),n.bitrateTest=!1}else this.lastLoadedFragLevel=n.level}},t.onFragBuffered=function(e,t){var n=t.frag,r=t.part,i=null!=r&&r.stats.loaded?r.stats:n.stats;if(!i.aborted&&!this.ignoreFragment(n)){var a=i.parsing.end-i.loading.start-Math.min(i.loading.first-i.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(a,i.loaded),i.bwEstimate=this.getBwEstimate(),n.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}},t.ignoreFragment=function(e){return e.type!==_t||"initSegment"===e.sn},t.clearTimer=function(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)},t.getAutoLevelKey=function(){return this.getBwEstimate()+"_"+this.getStarvationDelay().toFixed(2)},t.getNextABRAutoLevel=function(){var e=this.fragCurrent,t=this.partCurrent,n=this.hls,r=n.maxAutoLevel,i=n.config,a=n.minAutoLevel,o=t?t.duration:e?e.duration:0,s=this.getBwEstimate(),l=this.getStarvationDelay(),u=i.abrBandWidthFactor,c=i.abrBandWidthUpFactor;if(l){var d=this.findBestLevel(s,a,r,l,0,u,c);if(d>=0)return d}var p=o?Math.min(o,i.maxStarvationDelay):i.maxStarvationDelay;if(!l){var f=this.bitrateTestDelay;f&&(p=(o?Math.min(o,i.maxLoadingDelay):i.maxLoadingDelay)-f,w.info("[abr] bitrate test took "+Math.round(1e3*f)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*p)+" ms"),u=c=1)}var h=this.findBestLevel(s,a,r,l,p,u,c);if(w.info("[abr] "+(l?"rebuffering expected":"buffer is empty")+", optimal quality level "+h),h>-1)return h;var y=n.levels[a],g=n.levels[n.loadLevel];return(null==y?void 0:y.bitrate)<(null==g?void 0:g.bitrate)?a:n.loadLevel},t.getStarvationDelay=function(){var e=this.hls,t=e.media;if(!t)return 1/0;var n=t&&0!==t.playbackRate?Math.abs(t.playbackRate):1,r=e.mainForwardBufferInfo;return(r?r.len:0)/n},t.getBwEstimate=function(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate},t.findBestLevel=function(e,t,n,r,i,a,o){var s,l=this,u=r+i,c=this.lastLoadedFragLevel,d=-1===c?this.hls.firstLevel:c,p=this.fragCurrent,f=this.partCurrent,h=this.hls,y=h.levels,v=h.allAudioTracks,m=h.loadLevel,b=h.config;if(1===y.length)return 0;var k,E=y[d],T=!(null==E||null==(s=E.details)||!s.live),_=-1===m||-1===c,A="SDR",S=(null==E?void 0:E.frameRate)||0,C=b.audioPreference,x=b.videoPreference,P=this.audioTracksByGroup||(this.audioTracksByGroup=function(e){return e.reduce((function(e,t){var n=e.groups[t.groupId];n||(n=e.groups[t.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),n.tracks.push(t);var r=t.channels||"2";return n.channels[r]=(n.channels[r]||0)+1,n.hasDefault=n.hasDefault||t.default,n.hasAutoSelect=n.hasAutoSelect||t.autoselect,n.hasDefault&&(e.hasDefaultAudio=!0),n.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e}),{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}(v));if(_){if(-1!==this.firstSelection)return this.firstSelection;var R=this.codecTiers||(this.codecTiers=function(e,t,n,r){return e.slice(n,r+1).reduce((function(e,n){if(!n.codecSet)return e;var r=n.audioGroups,i=e[n.codecSet];i||(e[n.codecSet]=i={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!r,fragmentError:0}),i.minBitrate=Math.min(i.minBitrate,n.bitrate);var a=Math.min(n.height,n.width);return i.minHeight=Math.min(i.minHeight,a),i.minFramerate=Math.min(i.minFramerate,n.frameRate),i.maxScore=Math.max(i.maxScore,n.score),i.fragmentError+=n.fragmentError,i.videoRanges[n.videoRange]=(i.videoRanges[n.videoRange]||0)+1,r&&r.forEach((function(e){if(e){var n=t.groups[e];n&&(i.hasDefaultAudio=i.hasDefaultAudio||t.hasDefaultAudio?n.hasDefault:n.hasAutoSelect||!t.hasDefaultAudio&&!t.hasAutoSelectAudio,Object.keys(n.channels).forEach((function(e){i.channels[e]=(i.channels[e]||0)+n.channels[e]})))}})),e}),{})}(y,P,t,n)),I=function(e,t,n,r,i){for(var a=Object.keys(e),o=null==r?void 0:r.channels,s=null==r?void 0:r.audioCodec,l=o&&2===parseInt(o),u=!0,c=!1,d=1/0,p=1/0,f=1/0,h=0,y=[],v=function(e,t){var n=!1,r=[];return e&&(n="SDR"!==e,r=[e]),t&&(r=t.allowedVideoRanges||Gt.slice(0),r=(n=void 0!==t.preferHDR?t.preferHDR:function(){if("function"==typeof matchMedia){var e=matchMedia("(dynamic-range: high)"),t=matchMedia("bad query");if(e.media!==t.media)return!0===e.matches}return!1}())?r.filter((function(e){return"SDR"!==e})):["SDR"]),{preferHDR:n,allowedVideoRanges:r}}(t,i),m=v.preferHDR,b=v.allowedVideoRanges,k=function(){var t=e[a[E]];u=t.channels[2]>0,d=Math.min(d,t.minHeight),p=Math.min(p,t.minFramerate),f=Math.min(f,t.minBitrate);var n=b.filter((function(e){return t.videoRanges[e]>0}));n.length>0&&(c=!0,y=n)},E=a.length;E--;)k();d=g(d)?d:0,p=g(p)?p:0;var T=Math.max(1080,d),_=Math.max(30,p);return f=g(f)?f:n,n=Math.max(f,n),c||(t=void 0,y=[]),{codecSet:a.reduce((function(t,r){var i=e[r];if(r===t)return t;if(i.minBitrate>n)return bn(r,"min bitrate of "+i.minBitrate+" > current estimate of "+n),t;if(!i.hasDefaultAudio)return bn(r,"no renditions with default or auto-select sound found"),t;if(s&&r.indexOf(s.substring(0,4))%5!=0)return bn(r,'audio codec preference "'+s+'" not found'),t;if(o&&!l){if(!i.channels[o])return bn(r,"no renditions with "+o+" channel sound found (channels options: "+Object.keys(i.channels)+")"),t}else if((!s||l)&&u&&0===i.channels[2])return bn(r,"no renditions with stereo sound found"),t;return i.minHeight>T?(bn(r,"min resolution of "+i.minHeight+" > maximum of "+T),t):i.minFramerate>_?(bn(r,"min framerate of "+i.minFramerate+" > maximum of "+_),t):y.some((function(e){return i.videoRanges[e]>0}))?i.maxScore<h?(bn(r,"max score of "+i.maxScore+" < selected max of "+h),t):t&&(tt(r)>=tt(t)||i.fragmentError>e[t].fragmentError)?t:(h=i.maxScore,r):(bn(r,"no variants with VIDEO-RANGE of "+JSON.stringify(y)+" found"),t)}),void 0),videoRanges:y,preferHDR:m,minFramerate:p,minBitrate:f}}(R,A,e,C,x),D=I.codecSet,O=I.videoRanges,L=I.minFramerate,M=I.minBitrate,N=I.preferHDR;k=D,A=N?O[O.length-1]:O[0],S=L,e=Math.max(e,M),w.log("[abr] picked start tier "+JSON.stringify(I))}else k=null==E?void 0:E.codecSet,A=null==E?void 0:E.videoRange;for(var U,B=f?f.duration:p?p.duration:0,F=this.bwEstimator.getEstimateTTFB()/1e3,j=[],H=function(){var t,s=y[V],p=V>d;if(!s)return 0;if(b.useMediaCapabilities&&!s.supportedResult&&!s.supportedPromise){var h=navigator.mediaCapabilities;"function"==typeof(null==h?void 0:h.decodingInfo)&&function(e,t,n,r,i,a){var o=e.audioCodec?e.audioGroups:null,s=null==a?void 0:a.audioCodec,l=null==a?void 0:a.channels,u=l?parseInt(l):s?1/0:2,c=null;if(null!=o&&o.length)try{c=1===o.length&&o[0]?t.groups[o[0]].channels:o.reduce((function(e,n){if(n){var r=t.groups[n];if(!r)throw new Error("Audio track group "+n+" not found");Object.keys(r.channels).forEach((function(t){e[t]=(e[t]||0)+r.channels[t]}))}return e}),{2:0})}catch(e){return!0}return void 0!==e.videoCodec&&(e.width>1920&&e.height>1088||e.height>1920&&e.width>1088||e.frameRate>Math.max(r,30)||"SDR"!==e.videoRange&&e.videoRange!==n||e.bitrate>Math.max(i,8e6))||!!c&&g(u)&&Object.keys(c).some((function(e){return parseInt(e)>u}))}(s,P,A,S,e,C)?(s.supportedPromise=mn(s,P,h),s.supportedPromise.then((function(e){if(l.hls){s.supportedResult=e;var t=l.hls.levels,n=t.indexOf(s);e.error?w.warn('[abr] MediaCapabilities decodingInfo error: "'+e.error+'" for level '+n+" "+JSON.stringify(e)):e.supported||(w.warn("[abr] Unsupported MediaCapabilities decodingInfo result for level "+n+" "+JSON.stringify(e)),n>-1&&t.length>1&&(w.log("[abr] Removing unsupported level "+n),l.hls.removeLevel(n)))}}))):s.supportedResult=gn}if(k&&s.codecSet!==k||A&&s.videoRange!==A||p&&S>s.frameRate||!p&&S>0&&S<s.frameRate||s.supportedResult&&(null==(t=s.supportedResult.decodingInfoResults)||!t[0].smooth))return j.push(V),0;var v,x=s.details,R=(f?null==x?void 0:x.partTarget:null==x?void 0:x.averagetargetduration)||B;v=p?o*e:a*e;var I=B&&r>=2*B&&0===i?y[V].averageBitrate:y[V].maxBitrate,D=l.getTimeToLoadFrag(F,v,I*R,void 0===x);if(v>=I&&(V===c||0===s.loadError&&0===s.fragmentError)&&(D<=F||!g(D)||T&&!l.bitrateTestDelay||D<u)){var O=l.forcedAutoLevel;return V===m||-1!==O&&O===m||(j.length&&w.trace("[abr] Skipped level(s) "+j.join(",")+" of "+n+' max with CODECS and VIDEO-RANGE:"'+y[j[0]].codecs+'" '+y[j[0]].videoRange+'; not compatible with "'+E.codecs+'" '+A),w.info("[abr] switch candidate:"+d+"->"+V+" adjustedbw("+Math.round(v)+")-bitrate="+Math.round(v-I)+" ttfb:"+F.toFixed(1)+" avgDuration:"+R.toFixed(1)+" maxFetchDuration:"+u.toFixed(1)+" fetchDuration:"+D.toFixed(1)+" firstSelection:"+_+" codecSet:"+k+" videoRange:"+A+" hls.loadLevel:"+m)),_&&(l.firstSelection=V),{v:V}}},V=n;V>=t;V--)if(0!==(U=H())&&U)return U.v;return-1},o(e,[{key:"firstAutoLevel",get:function(){var e=this.hls,t=e.maxAutoLevel,n=e.minAutoLevel,r=this.getBwEstimate(),i=this.hls.config.maxStarvationDelay,a=this.findBestLevel(r,n,t,0,i,1,1);if(a>-1)return a;var o=this.hls.firstLevel,s=Math.min(Math.max(o,n),t);return w.warn("[abr] Could not find best starting auto level. Defaulting to first in playlist "+o+" clamped to "+s),s}},{key:"forcedAutoLevel",get:function(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}},{key:"nextAutoLevel",get:function(){var e=this.forcedAutoLevel,t=this.bwEstimator.canEstimate(),n=this.lastLoadedFragLevel>-1;if(!(-1===e||t&&n&&this.nextAutoLevelKey!==this.getAutoLevelKey()))return e;var r=t&&n?this.getNextABRAutoLevel():this.firstAutoLevel;if(-1!==e){var i=this.hls.levels;if(i.length>Math.max(e,r)&&i[e].loadError<=i[r].loadError)return e}return this._nextAutoLevel=r,this.nextAutoLevelKey=this.getAutoLevelKey(),r},set:function(e){var t=this.hls,n=t.maxAutoLevel,r=t.minAutoLevel,i=Math.min(Math.max(e,r),n);this._nextAutoLevel!==i&&(this.nextAutoLevelKey="",this._nextAutoLevel=i)}}]),e}(),Sn=function(){function e(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var t=e.prototype;return t.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},t.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.onHandlerDestroyed=function(){},t.hasInterval=function(){return!!this._tickInterval},t.hasNextTick=function(){return!!this._tickTimer},t.setInterval=function(e){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)},t.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},t.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},t.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},t.doTick=function(){},e}(),wn="NOT_LOADED",Cn="APPENDING",xn="PARTIAL",Pn="OK",Rn=function(){function e(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}var t=e.prototype;return t._registerListeners=function(){var e=this.hls;e.on(b.BUFFER_APPENDED,this.onBufferAppended,this),e.on(b.FRAG_BUFFERED,this.onFragBuffered,this),e.on(b.FRAG_LOADED,this.onFragLoaded,this)},t._unregisterListeners=function(){var e=this.hls;e.off(b.BUFFER_APPENDED,this.onBufferAppended,this),e.off(b.FRAG_BUFFERED,this.onFragBuffered,this),e.off(b.FRAG_LOADED,this.onFragLoaded,this)},t.destroy=function(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null},t.getAppendedFrag=function(e,t){var n=this.activePartLists[t];if(n)for(var r=n.length;r--;){var i=n[r];if(!i)break;var a=i.end;if(i.start<=e&&null!==a&&e<=a)return i}return this.getBufferedFrag(e,t)},t.getBufferedFrag=function(e,t){for(var n=this.fragments,r=Object.keys(n),i=r.length;i--;){var a=n[r[i]];if((null==a?void 0:a.body.type)===t&&a.buffered){var o=a.body;if(o.start<=e&&e<=o.end)return o}}return null},t.detectEvictedFragments=function(e,t,n,r){var i=this;this.timeRanges&&(this.timeRanges[e]=t);var a=(null==r?void 0:r.fragment.sn)||-1;Object.keys(this.fragments).forEach((function(r){var o=i.fragments[r];if(o&&!(a>=o.body.sn))if(o.buffered||o.loaded){var s=o.range[e];s&&s.time.some((function(e){var n=!i.isTimeBuffered(e.startPTS,e.endPTS,t);return n&&i.removeFragment(o.body),n}))}else o.body.type===n&&i.removeFragment(o.body)}))},t.detectPartialFragments=function(e){var t=this,n=this.timeRanges,r=e.frag,i=e.part;if(n&&"initSegment"!==r.sn){var a=Dn(r),o=this.fragments[a];if(!(!o||o.buffered&&r.gap)){var s=!r.relurl;Object.keys(n).forEach((function(e){var a=r.elementaryStreams[e];if(a){var l=n[e],u=s||!0===a.partial;o.range[e]=t.getBufferedTimes(r,i,u,l)}})),o.loaded=null,Object.keys(o.range).length?(o.buffered=!0,(o.body.endList=r.endList||o.body.endList)&&(this.endListFragments[o.body.type]=o),In(o)||this.removeParts(r.sn-1,r.type)):this.removeFragment(o.body)}}},t.removeParts=function(e,t){var n=this.activePartLists[t];n&&(this.activePartLists[t]=n.filter((function(t){return t.fragment.sn>=e})))},t.fragBuffered=function(e,t){var n=Dn(e),r=this.fragments[n];!r&&t&&(r=this.fragments[n]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),r&&(r.loaded=null,r.buffered=!0)},t.getBufferedTimes=function(e,t,n,r){for(var i={time:[],partial:n},a=e.start,o=e.end,s=e.minEndPTS||o,l=e.maxStartPTS||a,u=0;u<r.length;u++){var c=r.start(u)-this.bufferPadding,d=r.end(u)+this.bufferPadding;if(l>=c&&s<=d){i.time.push({startPTS:Math.max(a,r.start(u)),endPTS:Math.min(o,r.end(u))});break}if(a<d&&o>c){var p=Math.max(a,r.start(u)),f=Math.min(o,r.end(u));f>p&&(i.partial=!0,i.time.push({startPTS:p,endPTS:f}))}else if(o<=c)break}return i},t.getPartialFragment=function(e){var t,n,r,i=null,a=0,o=this.bufferPadding,s=this.fragments;return Object.keys(s).forEach((function(l){var u=s[l];u&&In(u)&&(n=u.body.start-o,r=u.body.end+o,e>=n&&e<=r&&(t=Math.min(e-n,r-e),a<=t&&(i=u.body,a=t)))})),i},t.isEndListAppended=function(e){var t=this.endListFragments[e];return void 0!==t&&(t.buffered||In(t))},t.getState=function(e){var t=Dn(e),n=this.fragments[t];return n?n.buffered?In(n)?xn:Pn:Cn:wn},t.isTimeBuffered=function(e,t,n){for(var r,i,a=0;a<n.length;a++){if(r=n.start(a)-this.bufferPadding,i=n.end(a)+this.bufferPadding,e>=r&&t<=i)return!0;if(t<=r)return!1}return!1},t.onFragLoaded=function(e,t){var n=t.frag,r=t.part;if("initSegment"!==n.sn&&!n.bitrateTest){var i=r?null:t,a=Dn(n);this.fragments[a]={body:n,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}},t.onBufferAppended=function(e,t){var n=this,r=t.frag,i=t.part,a=t.timeRanges;if("initSegment"!==r.sn){var o=r.type;if(i){var s=this.activePartLists[o];s||(this.activePartLists[o]=s=[]),s.push(i)}this.timeRanges=a,Object.keys(a).forEach((function(e){var t=a[e];n.detectEvictedFragments(e,t,o,i)}))}},t.onFragBuffered=function(e,t){this.detectPartialFragments(t)},t.hasFragment=function(e){var t=Dn(e);return!!this.fragments[t]},t.hasParts=function(e){var t;return!(null==(t=this.activePartLists[e])||!t.length)},t.removeFragmentsInRange=function(e,t,n,r,i){var a=this;r&&!this.hasGaps||Object.keys(this.fragments).forEach((function(o){var s=a.fragments[o];if(s){var l=s.body;l.type!==n||r&&!l.gap||l.start<t&&l.end>e&&(s.buffered||i)&&a.removeFragment(l)}}))},t.removeFragment=function(e){var t=Dn(e);e.stats.loaded=0,e.clearElementaryStreamInfo();var n=this.activePartLists[e.type];if(n){var r=e.sn;this.activePartLists[e.type]=n.filter((function(e){return e.fragment.sn!==r}))}delete this.fragments[t],e.endList&&delete this.endListFragments[e.type]},t.removeAllFragments=function(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1},e}();function In(e){var t,n,r;return e.buffered&&(e.body.gap||(null==(t=e.range.video)?void 0:t.partial)||(null==(n=e.range.audio)?void 0:n.partial)||(null==(r=e.range.audiovideo)?void 0:r.partial))}function Dn(e){return e.type+"_"+e.level+"_"+e.sn}var On={length:0,start:function(){return 0},end:function(){return 0}},Ln=function(){function e(){}return e.isBuffered=function(t,n){try{if(t)for(var r=e.getBuffered(t),i=0;i<r.length;i++)if(n>=r.start(i)&&n<=r.end(i))return!0}catch(e){}return!1},e.bufferInfo=function(t,n,r){try{if(t){var i,a=e.getBuffered(t),o=[];for(i=0;i<a.length;i++)o.push({start:a.start(i),end:a.end(i)});return this.bufferedInfo(o,n,r)}}catch(e){}return{len:0,start:n,end:n,nextStart:void 0}},e.bufferedInfo=function(e,t,n){t=Math.max(0,t),e.sort((function(e,t){return e.start-t.start||t.end-e.end}));var r=[];if(n)for(var i=0;i<e.length;i++){var a=r.length;if(a){var o=r[a-1].end;e[i].start-o<n?e[i].end>o&&(r[a-1].end=e[i].end):r.push(e[i])}else r.push(e[i])}else r=e;for(var s,l=0,u=t,c=t,d=0;d<r.length;d++){var p=r[d].start,f=r[d].end;if(t+n>=p&&t<f)u=p,l=(c=f)-t;else if(t+n<p){s=p;break}}return{len:l,start:u||0,end:c||0,nextStart:s}},e.getBuffered=function(e){try{return e.buffered}catch(e){return w.log("failed to get media.buffered",e),On}},e}(),Mn=function(e,t,n,r,i,a){void 0===r&&(r=0),void 0===i&&(i=-1),void 0===a&&(a=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=e,this.sn=t,this.id=n,this.size=r,this.part=i,this.partial=a};function Nn(e,t){for(var n=0,r=e.length;n<r;n++){var i;if((null==(i=e[n])?void 0:i.cc)===t)return e[n]}return null}function Un(e,t){if(e){var n=e.start+t;e.start=e.startPTS=n,e.endPTS=n+e.duration}}function Bn(e,t){for(var n=t.fragments,r=0,i=n.length;r<i;r++)Un(n[r],e);t.fragmentHint&&Un(t.fragmentHint,e),t.alignedSliding=!0}function Fn(e,t){if(e.hasProgramDateTime&&t.hasProgramDateTime){var n=e.fragments,r=t.fragments;if(n.length&&r.length){var i,a,o=Math.min(t.endCC,e.endCC);t.startCC<o&&e.startCC<o&&(i=Nn(r,o),a=Nn(n,o)),i&&a||(a=Nn(n,(i=r[Math.floor(r.length/2)]).cc)||n[Math.floor(n.length/2)]);var s=i.programDateTime,l=a.programDateTime;s&&l&&Bn((l-s)/1e3-(a.start-i.start),e)}}}var jn=Math.pow(2,17),Hn=function(){function e(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}var t=e.prototype;return t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.abort=function(){this.loader&&this.loader.abort()},t.load=function(e,t){var n=this,i=e.url;if(!i)return Promise.reject(new Kn({type:k.NETWORK_ERROR,details:E.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error("Fragment does not have a "+(i?"part list":"url")),networkDetails:null}));this.abort();var a=this.config,o=a.fLoader,s=a.loader;return new Promise((function(l,u){if(n.loader&&n.loader.destroy(),e.gap){if(e.tagList.some((function(e){return"GAP"===e[0]})))return void u(Gn(e));e.gap=!1}var c=n.loader=e.loader=o?new o(a):new s(a),d=Vn(e),p=on(a.fragLoadPolicy.default),f={loadPolicy:p,timeout:p.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===e.sn?1/0:jn};e.stats=c.stats,c.load(d,f,{onSuccess:function(t,r,i,a){n.resetLoader(e,c);var o=t.data;i.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(o.slice(0,16)),o=o.slice(16)),l({frag:e,part:null,payload:o,networkDetails:a})},onError:function(t,a,o,s){n.resetLoader(e,c),u(new Kn({type:k.NETWORK_ERROR,details:E.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:r({url:i,data:void 0},t),error:new Error("HTTP Error "+t.code+" "+t.text),networkDetails:o,stats:s}))},onAbort:function(t,r,i){n.resetLoader(e,c),u(new Kn({type:k.NETWORK_ERROR,details:E.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:i,stats:t}))},onTimeout:function(t,r,i){n.resetLoader(e,c),u(new Kn({type:k.NETWORK_ERROR,details:E.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error("Timeout after "+f.timeout+"ms"),networkDetails:i,stats:t}))},onProgress:function(n,r,i,a){t&&t({frag:e,part:null,payload:i,networkDetails:a})}})}))},t.loadPart=function(e,t,n){var i=this;this.abort();var a=this.config,o=a.fLoader,s=a.loader;return new Promise((function(l,u){if(i.loader&&i.loader.destroy(),e.gap||t.gap)u(Gn(e,t));else{var c=i.loader=e.loader=o?new o(a):new s(a),d=Vn(e,t),p=on(a.fragLoadPolicy.default),f={loadPolicy:p,timeout:p.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:jn};t.stats=c.stats,c.load(d,f,{onSuccess:function(r,a,o,s){i.resetLoader(e,c),i.updateStatsFromPart(e,t);var u={frag:e,part:t,payload:r.data,networkDetails:s};n(u),l(u)},onError:function(n,a,o,s){i.resetLoader(e,c),u(new Kn({type:k.NETWORK_ERROR,details:E.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:r({url:d.url,data:void 0},n),error:new Error("HTTP Error "+n.code+" "+n.text),networkDetails:o,stats:s}))},onAbort:function(n,r,a){e.stats.aborted=t.stats.aborted,i.resetLoader(e,c),u(new Kn({type:k.NETWORK_ERROR,details:E.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,error:new Error("Aborted"),networkDetails:a,stats:n}))},onTimeout:function(n,r,a){i.resetLoader(e,c),u(new Kn({type:k.NETWORK_ERROR,details:E.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,error:new Error("Timeout after "+f.timeout+"ms"),networkDetails:a,stats:n}))}})}}))},t.updateStatsFromPart=function(e,t){var n=e.stats,r=t.stats,i=r.total;if(n.loaded+=r.loaded,i){var a=Math.round(e.duration/t.duration),o=Math.min(Math.round(n.loaded/i),a),s=(a-o)*Math.round(n.loaded/o);n.total=n.loaded+s}else n.total=Math.max(n.loaded,n.total);var l=n.loading,u=r.loading;l.start?l.first+=u.first-u.start:(l.start=u.start,l.first=u.first),l.end=u.end},t.resetLoader=function(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()},e}();function Vn(e,t){void 0===t&&(t=null);var n=t||e,r={frag:e,part:t,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},i=n.byteRangeStartOffset,a=n.byteRangeEndOffset;if(g(i)&&g(a)){var o,s=i,l=a;if("initSegment"===e.sn&&"AES-128"===(null==(o=e.decryptdata)?void 0:o.method)){var u=a-i;u%16&&(l=a+(16-u%16)),0!==i&&(r.resetIV=!0,s=i-16)}r.rangeStart=s,r.rangeEnd=l}return r}function Gn(e,t){var n=new Error("GAP "+(e.gap?"tag":"attribute")+" found"),r={type:k.MEDIA_ERROR,details:E.FRAG_GAP,fatal:!1,frag:e,error:n,networkDetails:null};return t&&(r.part=t),(t||e).stats.aborted=!0,new Kn(r)}var Kn=function(e){function t(t){var n;return(n=e.call(this,t.error.message)||this).data=void 0,n.data=t,n}return l(t,e),t}(p(Error)),zn=function(){function e(e,t){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}(),Wn=function(){function e(e,t){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}(),Yn=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var t=e.prototype;return t.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),n=new Uint32Array(4),r=0;r<4;r++)n[r]=t.getUint32(4*r);return n},t.initTable=function(){var e=this.sBox,t=this.invSBox,n=this.subMix,r=n[0],i=n[1],a=n[2],o=n[3],s=this.invSubMix,l=s[0],u=s[1],c=s[2],d=s[3],p=new Uint32Array(256),f=0,h=0,y=0;for(y=0;y<256;y++)p[y]=y<128?y<<1:y<<1^283;for(y=0;y<256;y++){var g=h^h<<1^h<<2^h<<3^h<<4;g=g>>>8^255&g^99,e[f]=g,t[g]=f;var v=p[f],m=p[v],b=p[m],k=257*p[g]^16843008*g;r[f]=k<<24|k>>>8,i[f]=k<<16|k>>>16,a[f]=k<<8|k>>>24,o[f]=k,k=16843009*b^65537*m^257*v^16843008*f,l[g]=k<<24|k>>>8,u[g]=k<<16|k>>>16,c[g]=k<<8|k>>>24,d[g]=k,f?(f=v^p[p[p[b^v]]],h^=p[p[h]]):f=h=1}},t.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),n=!0,r=0;r<t.length&&n;)n=t[r]===this.key[r],r++;if(!n){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var a,o,s,l,u=this.ksRows=4*(i+6+1),c=this.keySchedule=new Uint32Array(u),d=this.invKeySchedule=new Uint32Array(u),p=this.sBox,f=this.rcon,h=this.invSubMix,y=h[0],g=h[1],v=h[2],m=h[3];for(a=0;a<u;a++)a<i?s=c[a]=t[a]:(l=s,a%i==0?(l=p[(l=l<<8|l>>>24)>>>24]<<24|p[l>>>16&255]<<16|p[l>>>8&255]<<8|p[255&l],l^=f[a/i|0]<<24):i>6&&a%i==4&&(l=p[l>>>24]<<24|p[l>>>16&255]<<16|p[l>>>8&255]<<8|p[255&l]),c[a]=s=(c[a-i]^l)>>>0);for(o=0;o<u;o++)a=u-o,l=3&o?c[a]:c[a-4],d[o]=o<4||a<=4?l:y[p[l>>>24]]^g[p[l>>>16&255]]^v[p[l>>>8&255]]^m[p[255&l]],d[o]=d[o]>>>0}},t.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},t.decrypt=function(e,t,n){for(var r,i,a,o,s,l,u,c,d,p,f,h,y,g,v=this.keySize+6,m=this.invKeySchedule,b=this.invSBox,k=this.invSubMix,E=k[0],T=k[1],_=k[2],A=k[3],S=this.uint8ArrayToUint32Array_(n),w=S[0],C=S[1],x=S[2],P=S[3],R=new Int32Array(e),I=new Int32Array(R.length),D=this.networkToHostOrderSwap;t<R.length;){for(d=D(R[t]),p=D(R[t+1]),f=D(R[t+2]),h=D(R[t+3]),s=d^m[0],l=h^m[1],u=f^m[2],c=p^m[3],y=4,g=1;g<v;g++)r=E[s>>>24]^T[l>>16&255]^_[u>>8&255]^A[255&c]^m[y],i=E[l>>>24]^T[u>>16&255]^_[c>>8&255]^A[255&s]^m[y+1],a=E[u>>>24]^T[c>>16&255]^_[s>>8&255]^A[255&l]^m[y+2],o=E[c>>>24]^T[s>>16&255]^_[l>>8&255]^A[255&u]^m[y+3],s=r,l=i,u=a,c=o,y+=4;r=b[s>>>24]<<24^b[l>>16&255]<<16^b[u>>8&255]<<8^b[255&c]^m[y],i=b[l>>>24]<<24^b[u>>16&255]<<16^b[c>>8&255]<<8^b[255&s]^m[y+1],a=b[u>>>24]<<24^b[c>>16&255]<<16^b[s>>8&255]<<8^b[255&l]^m[y+2],o=b[c>>>24]<<24^b[s>>16&255]<<16^b[l>>8&255]<<8^b[255&u]^m[y+3],I[t]=D(r^w),I[t+1]=D(o^C),I[t+2]=D(a^x),I[t+3]=D(i^P),w=d,C=p,x=f,P=h,t+=4}return I.buffer},e}(),Zn=function(){function e(e,t){var n=(void 0===t?{}:t).removePKCS7Padding,r=void 0===n||n;if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=r,r)try{var i=self.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch(e){}null===this.subtle&&(this.useSoftware=!0)}var t=e.prototype;return t.destroy=function(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null},t.isSync=function(){return this.useSoftware},t.flush=function(){var e=this.currentResult,t=this.remainderData;if(!e||t)return this.reset(),null;var n,r,i,a=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?(i=(r=(n=a).byteLength)&&new DataView(n.buffer).getUint8(r-1))?ee(n,0,r-i):n:a},t.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},t.decrypt=function(e,t,n){var r=this;return this.useSoftware?new Promise((function(i,a){r.softwareDecrypt(new Uint8Array(e),t,n);var o=r.flush();o?i(o.buffer):a(new Error("[softwareDecrypt] Failed to decrypt data"))})):this.webCryptoDecrypt(new Uint8Array(e),t,n)},t.softwareDecrypt=function(e,t,n){var r=this.currentIV,i=this.currentResult,a=this.remainderData;this.logOnce("JS AES decrypt"),a&&(e=Ne(a,e),this.remainderData=null);var o=this.getValidChunk(e);if(!o.length)return null;r&&(n=r);var s=this.softwareDecrypter;s||(s=this.softwareDecrypter=new Yn),s.expandKey(t);var l=i;return this.currentResult=s.decrypt(o.buffer,0,n),this.currentIV=ee(o,-16).buffer,l||null},t.webCryptoDecrypt=function(e,t,n){var r=this,i=this.subtle;return this.key===t&&this.fastAesKey||(this.key=t,this.fastAesKey=new Wn(i,t)),this.fastAesKey.expandKey().then((function(t){return i?(r.logOnce("WebCrypto AES decrypt"),new zn(i,new Uint8Array(n)).decrypt(e.buffer,t)):Promise.reject(new Error("web crypto not initialized"))})).catch((function(i){return w.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, "+i.name+": "+i.message),r.onWebCryptoError(e,t,n)}))},t.onWebCryptoError=function(e,t,n){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,t,n);var r=this.flush();if(r)return r.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")},t.getValidChunk=function(e){var t=e,n=e.length-e.length%16;return n!==e.length&&(t=ee(e,0,n),this.remainderData=ee(e,n)),t},t.logOnce=function(e){this.logEnabled&&(w.log("[decrypter]: "+e),this.logEnabled=!1)},e}(),qn="STOPPED",Xn="IDLE",Qn="KEY_LOADING",Jn="FRAG_LOADING",$n="FRAG_LOADING_WAITING_RETRY",er="WAITING_TRACK",tr="PARSING",nr="PARSED",rr="ENDED",ir="ERROR",ar="WAITING_INIT_PTS",or="WAITING_LEVEL",sr=function(e){function t(t,n,r,i,a){var o;return(o=e.call(this)||this).hls=void 0,o.fragPrevious=null,o.fragCurrent=null,o.fragmentTracker=void 0,o.transmuxer=null,o._state=qn,o.playlistType=void 0,o.media=null,o.mediaBuffer=null,o.config=void 0,o.bitrateTest=!1,o.lastCurrentTime=0,o.nextLoadPosition=0,o.startPosition=0,o.startTimeOffset=null,o.loadedmetadata=!1,o.retryDate=0,o.levels=null,o.fragmentLoader=void 0,o.keyLoader=void 0,o.levelLastLoaded=null,o.startFragRequested=!1,o.decrypter=void 0,o.initPTS=[],o.onvseeking=null,o.onvended=null,o.logPrefix="",o.log=void 0,o.warn=void 0,o.playlistType=a,o.logPrefix=i,o.log=w.log.bind(w,i+":"),o.warn=w.warn.bind(w,i+":"),o.hls=t,o.fragmentLoader=new Hn(t.config),o.keyLoader=r,o.fragmentTracker=n,o.config=t.config,o.decrypter=new Zn(t.config),t.on(b.MANIFEST_LOADED,o.onManifestLoaded,function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o)),o}l(t,e);var n=t.prototype;return n.doTick=function(){this.onTickEnd()},n.onTickEnd=function(){},n.startLoad=function(e){},n.stopLoad=function(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);var e=this.fragCurrent;null!=e&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=qn},n._streamEnded=function(e,t){if(t.live||e.nextStart||!e.end||!this.media)return!1;var n=t.partList;if(null!=n&&n.length){var r=n[n.length-1];return Ln.isBuffered(this.media,r.start+r.duration/2)}var i=t.fragments[t.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(i)},n.getLevelDetails=function(){var e;if(this.levels&&null!==this.levelLastLoaded)return null==(e=this.levelLastLoaded)?void 0:e.details},n.onMediaAttached=function(e,t){var n=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.state===qn&&this.startLoad(r.startPosition)},n.onMediaDetaching=function(){var e=this.media;null!=e&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},n.onMediaSeeking=function(){var e=this.config,t=this.fragCurrent,n=this.media,r=this.mediaBuffer,i=this.state,a=n?n.currentTime:0,o=Ln.bufferInfo(r||n,a,e.maxBufferHole);if(this.log("media seeking to "+(g(a)?a.toFixed(3):a)+", state: "+i),this.state===rr)this.resetLoadingState();else if(t){var s=e.maxFragLookUpTolerance,l=t.start-s,u=t.start+t.duration+s;if(!o.len||u<o.start||l>o.end){var c=a>u;(a<l||c)&&(c&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}n&&(this.fragmentTracker.removeFragmentsInRange(a,1/0,this.playlistType,!0),this.lastCurrentTime=a),this.loadedmetadata||o.len||(this.nextLoadPosition=this.startPosition=a),this.tickImmediate()},n.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},n.onManifestLoaded=function(e,t){this.startTimeOffset=t.startTimeOffset,this.initPTS=[]},n.onHandlerDestroying=function(){this.hls.off(b.MANIFEST_LOADED,this.onManifestLoaded,this),this.stopLoad(),e.prototype.onHandlerDestroying.call(this),this.hls=null},n.onHandlerDestroyed=function(){this.state=qn,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,e.prototype.onHandlerDestroyed.call(this)},n.loadFragment=function(e,t,n){this._loadFragForPlayback(e,t,n)},n._loadFragForPlayback=function(e,t,n){var r=this;this._doFragLoad(e,t,n,(function(t){if(r.fragContextChanged(e))return r.warn("Fragment "+e.sn+(t.part?" p: "+t.part.index:"")+" of level "+e.level+" was dropped during download."),void r.fragmentTracker.removeFragment(e);e.stats.chunkCount++,r._handleFragmentLoadProgress(t)})).then((function(t){if(t){var n=r.state;r.fragContextChanged(e)?(n===Jn||!r.fragCurrent&&n===tr)&&(r.fragmentTracker.removeFragment(e),r.state=Xn):("payload"in t&&(r.log("Loaded fragment "+e.sn+" of level "+e.level),r.hls.trigger(b.FRAG_LOADED,t)),r._handleFragmentLoadComplete(t))}})).catch((function(t){r.state!==qn&&r.state!==ir&&(r.warn(t),r.resetFragmentLoading(e))}))},n.clearTrackerIfNeeded=function(e){var t,n=this.fragmentTracker;if(n.getState(e)===Cn){var r=e.type,i=this.getFwdBufferInfo(this.mediaBuffer,r),a=Math.max(e.duration,i?i.len:this.config.maxBufferLength);this.reduceMaxBufferLength(a)&&n.removeFragment(e)}else 0===(null==(t=this.mediaBuffer)?void 0:t.buffered.length)?n.removeAllFragments():n.hasParts(e.type)&&(n.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),n.getState(e)===xn&&n.removeFragment(e))},n.checkLiveUpdate=function(e){if(e.updated&&!e.live){var t=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)},n.flushMainBuffer=function(e,t,n){if(void 0===n&&(n=null),e-t){var r={startOffset:e,endOffset:t,type:n};this.hls.trigger(b.BUFFER_FLUSHING,r)}},n._loadInitSegment=function(e,t){var n=this;this._doFragLoad(e,t).then((function(t){if(!t||n.fragContextChanged(e)||!n.levels)throw new Error("init load aborted");return t})).then((function(t){var r=n.hls,i=t.payload,a=e.decryptdata;if(i&&i.byteLength>0&&null!=a&&a.key&&a.iv&&"AES-128"===a.method){var o=self.performance.now();return n.decrypter.decrypt(new Uint8Array(i),a.key.buffer,a.iv.buffer).catch((function(t){throw r.trigger(b.ERROR,{type:k.MEDIA_ERROR,details:E.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:e}),t})).then((function(i){var a=self.performance.now();return r.trigger(b.FRAG_DECRYPTED,{frag:e,payload:i,stats:{tstart:o,tdecrypt:a}}),t.payload=i,n.completeInitSegmentLoad(t)}))}return n.completeInitSegmentLoad(t)})).catch((function(t){n.state!==qn&&n.state!==ir&&(n.warn(t),n.resetFragmentLoading(e))}))},n.completeInitSegmentLoad=function(e){if(!this.levels)throw new Error("init load aborted, missing levels");var t=e.frag.stats;this.state=Xn,e.frag.data=new Uint8Array(e.payload),t.parsing.start=t.buffering.start=self.performance.now(),t.parsing.end=t.buffering.end=self.performance.now(),this.tick()},n.fragContextChanged=function(e){var t=this.fragCurrent;return!e||!t||e.sn!==t.sn||e.level!==t.level},n.fragBufferedComplete=function(e,t){var n,r,i,a,o=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log("Buffered "+e.type+" sn: "+e.sn+(t?" part: "+t.index:"")+" of "+(this.playlistType===_t?"level":"track")+" "+e.level+" (frag:["+(null!=(n=e.startPTS)?n:NaN).toFixed(3)+"-"+(null!=(r=e.endPTS)?r:NaN).toFixed(3)+"] > buffer:"+(o?function(e){for(var t="",n=e.length,r=0;r<n;r++)t+="["+e.start(r).toFixed(3)+"-"+e.end(r).toFixed(3)+"]";return t}(Ln.getBuffered(o)):"(detached)")+")"),"initSegment"!==e.sn){var s;if(e.type!==St){var l=e.elementaryStreams;if(!Object.keys(l).some((function(e){return!!l[e]})))return void(this.state=Xn)}var u=null==(s=this.levels)?void 0:s[e.level];null!=u&&u.fragmentError&&(this.log("Resetting level fragment error count of "+u.fragmentError+" on frag buffered"),u.fragmentError=0)}this.state=Xn,o&&(!this.loadedmetadata&&e.type==_t&&o.buffered.length&&(null==(i=this.fragCurrent)?void 0:i.sn)===(null==(a=this.fragPrevious)?void 0:a.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())},n.seekToStartPos=function(){},n._handleFragmentLoadComplete=function(e){var t=this.transmuxer;if(t){var n=e.frag,r=e.part,i=e.partsLoaded,a=!i||0===i.length||i.some((function(e){return!e})),o=new Mn(n.level,n.sn,n.stats.chunkCount+1,0,r?r.index:-1,!a);t.flush(o)}},n._handleFragmentLoadProgress=function(e){},n._doFragLoad=function(e,t,n,r){var i,a=this;void 0===n&&(n=null);var o=null==t?void 0:t.details;if(!this.levels||!o)throw new Error("frag load aborted, missing level"+(o?"":" detail")+"s");var s=null;if(!e.encrypted||null!=(i=e.decryptdata)&&i.key?!e.encrypted&&o.encryptedFragments.length&&this.keyLoader.loadClear(e,o.encryptedFragments):(this.log("Loading key for "+e.sn+" of ["+o.startSN+"-"+o.endSN+"], "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level),this.state=Qn,this.fragCurrent=e,s=this.keyLoader.load(e).then((function(e){if(!a.fragContextChanged(e.frag))return a.hls.trigger(b.KEY_LOADED,e),a.state===Qn&&(a.state=Xn),e})),this.hls.trigger(b.KEY_LOADING,{frag:e}),null===this.fragCurrent&&(s=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),n=Math.max(e.start,n||0),this.config.lowLatencyMode&&"initSegment"!==e.sn){var l=o.partList;if(l&&r){n>e.end&&o.fragmentHint&&(e=o.fragmentHint);var u=this.getNextPart(l,e,n);if(u>-1){var c,d=l[u];return this.log("Loading part sn: "+e.sn+" p: "+d.index+" cc: "+e.cc+" of playlist ["+o.startSN+"-"+o.endSN+"] parts [0-"+u+"-"+(l.length-1)+"] "+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(n.toFixed(3))),this.nextLoadPosition=d.start+d.duration,this.state=Jn,c=s?s.then((function(n){return!n||a.fragContextChanged(n.frag)?null:a.doFragPartsLoad(e,d,t,r)})).catch((function(e){return a.handleFragLoadError(e)})):this.doFragPartsLoad(e,d,t,r).catch((function(e){return a.handleFragLoadError(e)})),this.hls.trigger(b.FRAG_LOADING,{frag:e,part:d,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):c}if(!e.url||this.loadedEndOfParts(l,n))return Promise.resolve(null)}}this.log("Loading fragment "+e.sn+" cc: "+e.cc+" "+(o?"of ["+o.startSN+"-"+o.endSN+"] ":"")+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(n.toFixed(3))),g(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=Jn;var p,f=this.config.progressive;return p=f&&s?s.then((function(t){return!t||a.fragContextChanged(null==t?void 0:t.frag)?null:a.fragmentLoader.load(e,r)})).catch((function(e){return a.handleFragLoadError(e)})):Promise.all([this.fragmentLoader.load(e,f?r:void 0),s]).then((function(e){var t=e[0];return!f&&t&&r&&r(t),t})).catch((function(e){return a.handleFragLoadError(e)})),this.hls.trigger(b.FRAG_LOADING,{frag:e,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):p},n.doFragPartsLoad=function(e,t,n,r){var i=this;return new Promise((function(a,o){var s,l=[],u=null==(s=n.details)?void 0:s.partList;!function t(s){i.fragmentLoader.loadPart(e,s,r).then((function(r){l[s.index]=r;var o=r.part;i.hls.trigger(b.FRAG_LOADED,r);var c=$t(n,e.sn,s.index+1)||en(u,e.sn,s.index+1);if(!c)return a({frag:e,part:o,partsLoaded:l});t(c)})).catch(o)}(t)}))},n.handleFragLoadError=function(e){if("data"in e){var t=e.data;e.data&&t.details===E.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(b.ERROR,t)}else this.hls.trigger(b.ERROR,{type:k.OTHER_ERROR,details:E.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null},n._handleTransmuxerFlush=function(e){var t=this.getCurrentContext(e);if(t&&this.state===tr){var n=t.frag,r=t.part,i=t.level,a=self.performance.now();n.stats.parsing.end=a,r&&(r.stats.parsing.end=a),this.updateLevelTiming(n,r,i,e.partial)}else this.fragCurrent||this.state===qn||this.state===ir||(this.state=Xn)},n.getCurrentContext=function(e){var t=this.levels,n=this.fragCurrent,r=e.level,i=e.sn,a=e.part;if(null==t||!t[r])return this.warn("Levels object was unset while buffering fragment "+i+" of level "+r+". The current chunk will not be buffered."),null;var o=t[r],s=a>-1?$t(o,i,a):null,l=s?s.fragment:function(e,t,n){if(null==e||!e.details)return null;var r=e.details,i=r.fragments[t-r.startSN];return i||((i=r.fragmentHint)&&i.sn===t?i:t<r.startSN&&n&&n.sn===t?n:null)}(o,i,n);return l?(n&&n!==l&&(l.stats=n.stats),{frag:l,part:s,level:o}):null},n.bufferFragmentData=function(e,t,n,r,i){var a;if(e&&this.state===tr){var o=e.data1,s=e.data2,l=o;if(o&&s&&(l=Ne(o,s)),null!=(a=l)&&a.length){var u={type:e.type,frag:t,part:n,chunkMeta:r,parent:t.type,data:l};if(this.hls.trigger(b.BUFFER_APPENDING,u),e.dropped&&e.independent&&!n){if(i)return;this.flushBufferGap(t)}}}},n.flushBufferGap=function(e){var t=this.media;if(t)if(Ln.isBuffered(t,t.currentTime)){var n=t.currentTime,r=Ln.bufferInfo(t,n,0),i=e.duration,a=Math.min(2*this.config.maxFragLookUpTolerance,.25*i),o=Math.max(Math.min(e.start-a,r.end-a),n+a);e.start-o>a&&this.flushMainBuffer(o,e.start)}else this.flushMainBuffer(0,e.start)},n.getFwdBufferInfo=function(e,t){var n=this.getLoadPosition();return g(n)?this.getFwdBufferInfoAtPos(e,n,t):null},n.getFwdBufferInfoAtPos=function(e,t,n){var r=this.config.maxBufferHole,i=Ln.bufferInfo(e,t,r);if(0===i.len&&void 0!==i.nextStart){var a=this.fragmentTracker.getBufferedFrag(t,n);if(a&&i.nextStart<a.end)return Ln.bufferInfo(e,t,Math.max(i.nextStart,r))}return i},n.getMaxBufferLength=function(e){var t,n=this.config;return t=e?Math.max(8*n.maxBufferSize/e,n.maxBufferLength):n.maxBufferLength,Math.min(t,n.maxMaxBufferLength)},n.reduceMaxBufferLength=function(e){var t=this.config,n=e||t.maxBufferLength;return t.maxMaxBufferLength>=n&&(t.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},n.getAppendedFrag=function(e,t){var n=this.fragmentTracker.getAppendedFrag(e,_t);return n&&"fragment"in n?n.fragment:n},n.getNextFragment=function(e,t){var n=t.fragments,r=n.length;if(!r)return null;var i,a=this.config,o=n[0].start;if(t.live){var s=a.initialLiveManifestSize;if(r<s)return this.warn("Not enough fragments to start playback (have: "+r+", need: "+s+")"),null;(!t.PTSKnown&&!this.startFragRequested&&-1===this.startPosition||e<o)&&(i=this.getInitialLiveFragment(t,n),this.startPosition=this.nextLoadPosition=i?this.hls.liveSyncPosition||i.start:e)}else e<=o&&(i=n[0]);if(!i){var l=a.lowLatencyMode?t.partEnd:t.fragmentEnd;i=this.getFragmentAtPosition(e,l,t)}return this.mapToInitFragWhenRequired(i)},n.isLoopLoading=function(e,t){var n=this.fragmentTracker.getState(e);return(n===Pn||n===xn&&!!e.gap)&&this.nextLoadPosition>t},n.getNextFragmentLoopLoading=function(e,t,n,r,i){var a=e.gap,o=this.getNextFragment(this.nextLoadPosition,t);if(null===o)return o;if(e=o,a&&e&&!e.gap&&n.nextStart){var s=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,r);if(null!==s&&n.len+s.len>=i)return this.log('buffer full after gaps in "'+r+'" playlist starting at sn: '+e.sn),null}return e},n.mapToInitFragWhenRequired=function(e){return null==e||!e.initSegment||null!=e&&e.initSegment.data||this.bitrateTest?e:e.initSegment},n.getNextPart=function(e,t,n){for(var r=-1,i=!1,a=!0,o=0,s=e.length;o<s;o++){var l=e[o];if(a=a&&!l.independent,r>-1&&n<l.start)break;var u=l.loaded;u?r=-1:(i||l.independent||a)&&l.fragment===t&&(r=o),i=u}return r},n.loadedEndOfParts=function(e,t){var n=e[e.length-1];return n&&t>n.start&&n.loaded},n.getInitialLiveFragment=function(e,t){var n=this.fragPrevious,r=null;if(n){if(e.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+n.programDateTime),r=function(e,t,n){if(null===t||!Array.isArray(e)||!e.length||!g(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;n=n||0;for(var r=0;r<e.length;++r){var i=e[r];if(dn(t,n,i))return i}return null}(t,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!r){var i=n.sn+1;if(i>=e.startSN&&i<=e.endSN){var a=t[i-e.startSN];n.cc===a.cc&&(r=a,this.log("Live playlist, switching playlist, load frag with next SN: "+r.sn))}r||(r=function(e,t){return ln(e,(function(e){return e.cc<t?1:e.cc>t?-1:0}))}(t,n.cc),r&&this.log("Live playlist, switching playlist, load frag with same CC: "+r.sn))}}else{var o=this.hls.liveSyncPosition;null!==o&&(r=this.getFragmentAtPosition(o,this.bitrateTest?e.fragmentEnd:e.edge,e))}return r},n.getFragmentAtPosition=function(e,t,n){var r,i=this.config,a=this.fragPrevious,o=n.fragments,s=n.endSN,l=n.fragmentHint,u=i.maxFragLookUpTolerance,c=n.partList,d=!!(i.lowLatencyMode&&null!=c&&c.length&&l);if(d&&l&&!this.bitrateTest&&(o=o.concat(l),s=l.sn),r=e<t?un(a,o,e,e>t-u?0:u):o[o.length-1]){var p=r.sn-n.startSN,f=this.fragmentTracker.getState(r);if((f===Pn||f===xn&&r.gap)&&(a=r),a&&r.sn===a.sn&&(!d||c[0].fragment.sn>r.sn)&&a&&r.level===a.level){var h=o[p+1];r=r.sn<s&&this.fragmentTracker.getState(h)!==Pn?h:null}}return r},n.synchronizeToLiveEdge=function(e){var t=this.config,n=this.media;if(n){var r=this.hls.liveSyncPosition,i=n.currentTime,a=e.fragments[0].start,o=e.edge,s=i>=a-t.maxFragLookUpTolerance&&i<=o;if(null!==r&&n.duration>r&&(i<r||!s)){var l=void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!s&&n.readyState<4||i<o-l)&&(this.loadedmetadata||(this.nextLoadPosition=r),n.readyState&&(this.warn("Playback: "+i.toFixed(3)+" is located too far from the end of live sliding playlist: "+o+", reset currentTime to : "+r.toFixed(3)),n.currentTime=r))}}},n.alignPlaylists=function(e,t,n){var r=e.fragments.length;if(!r)return this.warn("No fragments in live playlist"),0;var i=e.fragments[0].start,a=!t,o=e.alignedSliding&&g(i);if(a||!o&&!i){var s=this.fragPrevious;!function(e,t,n){t&&(function(e,t,n){if(function(e,t,n){return!(!t||!(n.endCC>n.startCC||e&&e.cc<n.startCC))}(e,n,t)){var r=function(e,t){var n=e.fragments,r=t.fragments;if(r.length&&n.length){var i=Nn(n,r[0].cc);if(i&&(!i||i.startPTS))return i;w.log("No frag in previous level to align on")}else w.log("No fragments to align")}(n,t);r&&g(r.start)&&(w.log("Adjusting PTS using last level due to CC increase within current level "+t.url),Bn(r.start,t))}}(e,n,t),!n.alignedSliding&&t&&Fn(n,t),n.alignedSliding||!t||n.skippedSegments||Qt(t,n))}(s,n,e);var l=e.fragments[0].start;return this.log("Live playlist sliding: "+l.toFixed(2)+" start-sn: "+(t?t.startSN:"na")+"->"+e.startSN+" prev-sn: "+(s?s.sn:"na")+" fragments: "+r),l}return i},n.waitForCdnTuneIn=function(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,3*e.partTarget)},n.setStartPosition=function(e,t){var n=this.startPosition;if(n<t&&(n=-1),-1===n||-1===this.lastCurrentTime){var r=null!==this.startTimeOffset,i=r?this.startTimeOffset:e.startTimeOffset;null!==i&&g(i)?(n=t+i,i<0&&(n+=e.totalduration),n=Math.min(Math.max(t,n),t+e.totalduration),this.log("Start time offset "+i+" found in "+(r?"multivariant":"media")+" playlist, adjust startPosition to "+n),this.startPosition=n):e.live?n=this.hls.liveSyncPosition||t:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n},n.getLoadPosition=function(){var e=this.media,t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t},n.handleFragLoadAborted=function(e,t){this.transmuxer&&"initSegment"!==e.sn&&e.stats.aborted&&(this.warn("Fragment "+e.sn+(t?" part "+t.index:"")+" of level "+e.level+" was aborted"),this.resetFragmentLoading(e))},n.resetFragmentLoading=function(e){this.fragCurrent&&(this.fragContextChanged(e)||this.state===$n)||(this.state=Xn)},n.onFragmentOrKeyLoadError=function(e,t){if(t.chunkMeta&&!t.frag){var n=this.getCurrentContext(t.chunkMeta);n&&(t.frag=n.frag)}var r=t.frag;if(r&&r.type===e&&this.levels)if(this.fragContextChanged(r)){var i;this.warn("Frag load error must match current frag to retry "+r.url+" > "+(null==(i=this.fragCurrent)?void 0:i.url))}else{var a=t.details===E.FRAG_GAP;a&&this.fragmentTracker.fragBuffered(r,!0);var o=t.errorAction,s=o||{},l=s.action,u=s.retryCount,c=void 0===u?0:u,d=s.retryConfig;if(o&&5===l&&d){this.resetStartWhenNotLoaded(this.levelLastLoaded);var p=an(d,c);this.warn("Fragment "+r.sn+" of "+e+" "+r.level+" errored with "+t.details+", retrying loading "+(c+1)+"/"+d.maxNumRetry+" in "+p+"ms"),o.resolved=!0,this.retryDate=self.performance.now()+p,this.state=$n}else if(d&&o){if(this.resetFragmentErrors(e),!(c<d.maxNumRetry))return void w.warn(t.details+" reached or exceeded max retry ("+c+")");a||3===l||(o.resolved=!0)}else 2===(null==o?void 0:o.action)?this.state=or:this.state=ir;this.tickImmediate()}},n.reduceLengthAndFlushBuffer=function(e){if(this.state===tr||this.state===nr){var t=e.parent,n=this.getFwdBufferInfo(this.mediaBuffer,t),r=n&&n.len>.5;r&&this.reduceMaxBufferLength(n.len);var i=!r;return i&&this.warn("Buffer full error while media.currentTime is not buffered, flush "+t+" buffer"),e.frag&&(this.fragmentTracker.removeFragment(e.frag),this.nextLoadPosition=e.frag.start),this.resetLoadingState(),i}return!1},n.resetFragmentErrors=function(e){e===At&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==qn&&(this.state=Xn)},n.afterBufferFlushed=function(e,t,n){if(e){var r=Ln.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,r,n),this.state===rr&&this.resetLoadingState()}},n.resetLoadingState=function(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=Xn},n.resetStartWhenNotLoaded=function(e){if(!this.loadedmetadata){this.startFragRequested=!1;var t=e?e.details:null;null!=t&&t.live?(this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}},n.resetWhenMissingContext=function(e){this.warn("The loading context changed while buffering fragment "+e.sn+" of level "+e.level+". This chunk will not be buffered."),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()},n.removeUnbufferedFrags=function(e){void 0===e&&(e=0),this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)},n.updateLevelTiming=function(e,t,n,r){var i,a=this,o=n.details;if(o){if(!Object.keys(e.elementaryStreams).reduce((function(t,i){var s=e.elementaryStreams[i];if(s){var l=s.endPTS-s.startPTS;if(l<=0)return a.warn("Could not parse fragment "+e.sn+" "+i+" duration reliably ("+l+")"),t||!1;var u=r?0:qt(o,e,s.startPTS,s.endPTS,s.startDTS,s.endDTS);return a.hls.trigger(b.LEVEL_PTS_UPDATED,{details:o,level:n,drift:u,type:i,frag:e,start:s.startPTS,end:s.endPTS}),!0}return t}),!1)&&null===(null==(i=this.transmuxer)?void 0:i.error)){var s=new Error("Found no media in fragment "+e.sn+" of level "+e.level+" resetting transmuxer to fallback to playlist timing");if(0===n.fragmentError&&(n.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)),this.warn(s.message),this.hls.trigger(b.ERROR,{type:k.MEDIA_ERROR,details:E.FRAG_PARSING_ERROR,fatal:!1,error:s,frag:e,reason:"Found no media in msn "+e.sn+' of level "'+n.url+'"'}),!this.hls)return;this.resetTransmuxer()}this.state=nr,this.hls.trigger(b.FRAG_PARSED,{frag:e,part:t})}else this.warn("level.details undefined")},n.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},n.recoverWorkerError=function(e){"demuxerWorker"===e.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())},o(t,[{key:"state",get:function(){return this._state},set:function(e){var t=this._state;t!==e&&(this._state=e,this.log(t+"->"+e))}}]),t}(Sn),lr=function(){function e(){this.chunks=[],this.dataLength=0}var t=e.prototype;return t.push=function(e){this.chunks.push(e),this.dataLength+=e.length},t.flush=function(){var e,t=this.chunks,n=this.dataLength;return t.length?(e=1===t.length?t[0]:function(e,t){for(var n=new Uint8Array(t),r=0,i=0;i<e.length;i++){var a=e[i];n.set(a,r),r+=a.length}return n}(t,n),this.reset(),e):new Uint8Array(0)},t.reset=function(){this.chunks.length=0,this.dataLength=0},e}();function ur(e,t){return void 0===e&&(e=""),void 0===t&&(t=9e4),{type:e,id:-1,pid:-1,inputTimeScale:t,sequenceNumber:-1,samples:[],dropped:0}}var cr=function(){function e(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}var t=e.prototype;return t.resetInitSegment=function(e,t,n,r){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},t.resetTimeStamp=function(e){this.initPTS=e,this.resetContiguity()},t.resetContiguity=function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0},t.canParse=function(e,t){return!1},t.appendFrame=function(e,t,n){},t.demux=function(e,t){this.cachedData&&(e=Ne(this.cachedData,e),this.cachedData=null);var n,r=ie(e,0),i=r?r.length:0,a=this._audioTrack,o=this._id3Track,s=r?se(r):void 0,l=e.length;for((null===this.basePTS||0===this.frameIndex&&g(s))&&(this.basePTS=dr(s,t,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),r&&r.length>0&&o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Lt,duration:Number.POSITIVE_INFINITY});i<l;){if(this.canParse(e,i)){var u=this.appendFrame(a,e,i);u?(this.frameIndex++,this.lastPTS=u.sample.pts,n=i+=u.length):i=l}else oe(e,i)?(r=ie(e,i),o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Lt,duration:Number.POSITIVE_INFINITY}),n=i+=r.length):i++;if(i===l&&n!==l){var c=ee(e,n);this.cachedData?this.cachedData=Ne(this.cachedData,c):this.cachedData=c}}return{audioTrack:a,videoTrack:ur(),id3Track:o,textTrack:ur()}},t.demuxSampleAes=function(e,t,n){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},t.flush=function(e){var t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:ur(),id3Track:this._id3Track,textTrack:ur()}},t.destroy=function(){},e}(),dr=function(e,t,n){return g(e)?90*e:9e4*t+(n?9e4*n.baseTime/n.timescale:0)};function pr(e,t){return 255===e[t]&&240==(246&e[t+1])}function fr(e,t){return 1&e[t+1]?7:9}function hr(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function yr(e,t){return t+1<e.length&&pr(e,t)}function gr(e,t){if(yr(e,t)){var n=fr(e,t);if(t+n>=e.length)return!1;var r=hr(e,t);if(r<=n)return!1;var i=t+r;return i===e.length||yr(e,i)}return!1}function vr(e,t,n,r,i){if(!e.samplerate){var a=function(e,t,n,r){var i,a,o,s,l=navigator.userAgent.toLowerCase(),u=r,c=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=1+((192&t[n+2])>>>6);var d=(60&t[n+2])>>>2;if(!(d>c.length-1))return o=(1&t[n+2])<<2,o|=(192&t[n+3])>>>6,w.log("manifest codec:"+r+", ADTS type:"+i+", samplingIndex:"+d),/firefox/i.test(l)?d>=6?(i=5,s=new Array(4),a=d-3):(i=2,s=new Array(2),a=d):-1!==l.indexOf("android")?(i=2,s=new Array(2),a=d):(i=5,s=new Array(4),r&&(-1!==r.indexOf("mp4a.40.29")||-1!==r.indexOf("mp4a.40.5"))||!r&&d>=6?a=d-3:((r&&-1!==r.indexOf("mp4a.40.2")&&(d>=6&&1===o||/vivaldi/i.test(l))||!r&&1===o)&&(i=2,s=new Array(2)),a=d)),s[0]=i<<3,s[0]|=(14&d)>>1,s[1]|=(1&d)<<7,s[1]|=o<<3,5===i&&(s[1]|=(14&a)>>1,s[2]=(1&a)<<7,s[2]|=8,s[3]=0),{config:s,samplerate:c[d],channelCount:o,codec:"mp4a.40."+i,manifestCodec:u};var p=new Error("invalid ADTS sampling index:"+d);e.emit(b.ERROR,b.ERROR,{type:k.MEDIA_ERROR,details:E.FRAG_PARSING_ERROR,fatal:!0,error:p,reason:p.message})}(t,n,r,i);if(!a)return;e.config=a.config,e.samplerate=a.samplerate,e.channelCount=a.channelCount,e.codec=a.codec,e.manifestCodec=a.manifestCodec,w.log("parsed codec:"+e.codec+", rate:"+a.samplerate+", channels:"+a.channelCount)}}function mr(e){return 9216e4/e}function br(e,t,n,r,i){var a,o=r+i*mr(e.samplerate),s=function(e,t){var n=fr(e,t);if(t+n<=e.length){var r=hr(e,t)-n;if(r>0)return{headerLength:n,frameLength:r}}}(t,n);if(s){var l=s.frameLength,u=s.headerLength,c=u+l,d=Math.max(0,n+c-t.length);d?(a=new Uint8Array(c-u)).set(t.subarray(n+u,t.length),0):a=t.subarray(n+u,n+c);var p={unit:a,pts:o};return d||e.samples.push(p),{sample:p,length:c,missing:d}}var f=t.length-n;return(a=new Uint8Array(f)).set(t.subarray(n,t.length),0),{sample:{unit:a,pts:o},length:f,missing:-1}}var kr=null,Er=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Tr=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],_r=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Ar=[0,1,1,4];function Sr(e,t,n,r,i){if(!(n+24>t.length)){var a=wr(t,n);if(a&&n+a.frameLength<=t.length){var o=r+i*(9e4*a.samplesPerFrame/a.sampleRate),s={unit:t.subarray(n,n+a.frameLength),pts:o,dts:o};return e.config=[],e.channelCount=a.channelCount,e.samplerate=a.sampleRate,e.samples.push(s),{sample:s,length:a.frameLength,missing:0}}}}function wr(e,t){var n=e[t+1]>>3&3,r=e[t+1]>>1&3,i=e[t+2]>>4&15,a=e[t+2]>>2&3;if(1!==n&&0!==i&&15!==i&&3!==a){var o=e[t+2]>>1&1,s=e[t+3]>>6,l=1e3*Er[14*(3===n?3-r:3===r?3:4)+i-1],u=Tr[3*(3===n?0:2===n?1:2)+a],c=3===s?1:2,d=_r[n][r],p=Ar[r],f=8*d*p,h=Math.floor(d*l/u+o)*p;if(null===kr){var y=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);kr=y?parseInt(y[1]):0}return!!kr&&kr<=87&&2===r&&l>=224e3&&0===s&&(e[t+3]=128|e[t+3]),{sampleRate:u,channelCount:c,frameLength:h,samplesPerFrame:f}}}function Cr(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])}function xr(e,t){return t+1<e.length&&Cr(e,t)}function Pr(e,t){if(t+1<e.length&&Cr(e,t)){var n=wr(e,t),r=4;null!=n&&n.frameLength&&(r=n.frameLength);var i=t+r;return i===e.length||xr(e,i)}return!1}var Rr=function(e){function t(t,n){var r;return(r=e.call(this)||this).observer=void 0,r.config=void 0,r.observer=t,r.config=n,r}l(t,e);var n=t.prototype;return n.resetInitSegment=function(t,n,r,i){e.prototype.resetInitSegment.call(this,t,n,r,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}},t.probe=function(e){if(!e)return!1;var t=ie(e,0),n=(null==t?void 0:t.length)||0;if(Pr(e,n))return!1;for(var r=e.length;n<r;n++)if(gr(e,n))return w.log("ADTS sync word found !"),!0;return!1},n.canParse=function(e,t){return function(e,t){return function(e,t){return t+5<e.length}(e,t)&&pr(e,t)&&hr(e,t)<=e.length-t}(e,t)},n.appendFrame=function(e,t,n){vr(e,this.observer,t,n,e.manifestCodec);var r=br(e,t,n,this.basePTS,this.frameIndex);if(r&&0===r.missing)return r},t}(cr),Ir=/\/emsg[-/]ID3/i,Dr=function(){function e(e,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}var t=e.prototype;return t.resetTimeStamp=function(){},t.resetInitSegment=function(e,t,n,r){var i=this.videoTrack=ur("video",1),a=this.audioTrack=ur("audio",1),o=this.txtTrack=ur("text",1);if(this.id3Track=ur("id3",1),this.timeOffset=0,null!=e&&e.byteLength){var s=Pe(e);if(s.video){var l=s.video,u=l.id,c=l.timescale,d=l.codec;i.id=u,i.timescale=o.timescale=c,i.codec=d}if(s.audio){var p=s.audio,f=p.id,h=p.timescale,y=p.codec;a.id=f,a.timescale=h,a.codec=y}o.id=ke.text,i.sampleDuration=0,i.duration=a.duration=r}},t.resetContiguity=function(){this.remainderData=null},e.probe=function(e){return function(e){for(var t=e.byteLength,n=0;n<t;){var r=_e(e,n);if(r>8&&109===e[n+4]&&111===e[n+5]&&111===e[n+6]&&102===e[n+7])return!0;n=r>1?n+r:t}return!1}(e)},t.demux=function(e,t){this.timeOffset=t;var n=e,r=this.videoTrack,i=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=Ne(this.remainderData,e));var a=function(e){var t={valid:null,remainder:null},n=Ce(e,["moof"]);if(n.length<2)return t.remainder=e,t;var r=n[n.length-1];return t.valid=ee(e,0,r.byteOffset-8),t.remainder=ee(e,r.byteOffset-8),t}(n);this.remainderData=a.remainder,r.samples=a.valid||new Uint8Array}else r.samples=n;var o=this.extractID3Track(r,t);return i.samples=Ue(t,r),{videoTrack:r,audioTrack:this.audioTrack,id3Track:o,textTrack:this.txtTrack}},t.flush=function(){var e=this.timeOffset,t=this.videoTrack,n=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;var r=this.extractID3Track(t,this.timeOffset);return n.samples=Ue(e,t),{videoTrack:t,audioTrack:ur(),id3Track:r,textTrack:ur()}},t.extractID3Track=function(e,t){var n=this.id3Track;if(e.samples.length){var r=Ce(e.samples,["emsg"]);r&&r.forEach((function(e){var r=function(e){var t=e[0],n="",r="",i=0,a=0,o=0,s=0,l=0,u=0;if(0===t){for(;"\0"!==Ee(e.subarray(u,u+1));)n+=Ee(e.subarray(u,u+1)),u+=1;for(n+=Ee(e.subarray(u,u+1)),u+=1;"\0"!==Ee(e.subarray(u,u+1));)r+=Ee(e.subarray(u,u+1)),u+=1;r+=Ee(e.subarray(u,u+1)),u+=1,i=_e(e,12),a=_e(e,16),s=_e(e,20),l=_e(e,24),u=28}else if(1===t){i=_e(e,u+=4);var c=_e(e,u+=4),d=_e(e,u+=4);for(u+=4,o=Math.pow(2,32)*c+d,v(o)||(o=Number.MAX_SAFE_INTEGER,w.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),s=_e(e,u),l=_e(e,u+=4),u+=4;"\0"!==Ee(e.subarray(u,u+1));)n+=Ee(e.subarray(u,u+1)),u+=1;for(n+=Ee(e.subarray(u,u+1)),u+=1;"\0"!==Ee(e.subarray(u,u+1));)r+=Ee(e.subarray(u,u+1)),u+=1;r+=Ee(e.subarray(u,u+1)),u+=1}return{schemeIdUri:n,value:r,timeScale:i,presentationTime:o,presentationTimeDelta:a,eventDuration:s,id:l,payload:e.subarray(u,e.byteLength)}}(e);if(Ir.test(r.schemeIdUri)){var i=g(r.presentationTime)?r.presentationTime/r.timeScale:t+r.presentationTimeDelta/r.timeScale,a=4294967295===r.eventDuration?Number.POSITIVE_INFINITY:r.eventDuration/r.timeScale;a<=.001&&(a=Number.POSITIVE_INFINITY);var o=r.payload;n.samples.push({data:o,len:o.byteLength,dts:i,pts:i,type:Mt,duration:a})}}))}return n},t.demuxSampleAes=function(e,t,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},t.destroy=function(){},e}(),Or=function(e,t){var n=0,r=5;t+=r;for(var i=new Uint32Array(1),a=new Uint32Array(1),o=new Uint8Array(1);r>0;){o[0]=e[t];var s=Math.min(r,8),l=8-s;a[0]=4278190080>>>24+l<<l,i[0]=(o[0]&a[0])>>l,n=n?n<<s|i[0]:i[0],t+=1,r-=s}return n},Lr=function(e){function t(t){var n;return(n=e.call(this)||this).observer=void 0,n.observer=t,n}l(t,e);var n=t.prototype;return n.resetInitSegment=function(t,n,r,i){e.prototype.resetInitSegment.call(this,t,n,r,i),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}},n.canParse=function(e,t){return t+64<e.length},n.appendFrame=function(e,t,n){var r=Mr(e,t,n,this.basePTS,this.frameIndex);if(-1!==r)return{sample:e.samples[e.samples.length-1],length:r,missing:0}},t.probe=function(e){if(!e)return!1;var t=ie(e,0);if(!t)return!1;var n=t.length;return 11===e[n]&&119===e[n+1]&&void 0!==se(t)&&Or(e,n)<16},t}(cr);function Mr(e,t,n,r,i){if(n+8>t.length)return-1;if(11!==t[n]||119!==t[n+1])return-1;var a=t[n+4]>>6;if(a>=3)return-1;var o=[48e3,44100,32e3][a],s=63&t[n+4],l=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*s+a];if(n+l>t.length)return-1;var u=t[n+6]>>5,c=0;2===u?c+=2:(1&u&&1!==u&&(c+=2),4&u&&(c+=2));var d=(t[n+6]<<8|t[n+7])>>12-c&1,p=[2,1,2,3,3,4,4,5][u]+d,f=t[n+5]>>3,h=7&t[n+5],y=new Uint8Array([a<<6|f<<1|h>>2,(3&h)<<6|u<<3|d<<2|s>>4,s<<4&224]),g=r+i*(1536/o*9e4),v=t.subarray(n,n+l);return e.config=y,e.channelCount=p,e.samplerate=o,e.samples.push({unit:v,pts:g}),l}var Nr=function(){function e(){this.VideoSample=null}var t=e.prototype;return t.createVideoSample=function(e,t,n,r){return{key:e,frame:!1,pts:t,dts:n,units:[],debug:r,length:0}},t.getLastNalUnit=function(e){var t,n,r=this.VideoSample;if(r&&0!==r.units.length||(r=e[e.length-1]),null!=(t=r)&&t.units){var i=r.units;n=i[i.length-1]}return n},t.pushAccessUnit=function(e,t){if(e.units.length&&e.frame){if(void 0===e.pts){var n=t.samples,r=n.length;if(!r)return void t.dropped++;var i=n[r-1];e.pts=i.pts,e.dts=i.dts}t.samples.push(e)}e.debug.length&&w.log(e.pts+"/"+e.dts+":"+e.debug)},e}(),Ur=function(){function e(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}var t=e.prototype;return t.loadWord=function(){var e=this.data,t=this.bytesAvailable,n=e.byteLength-t,r=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");r.set(e.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},t.skipBits=function(e){var t;e=Math.min(e,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},t.readBits=function(e){var t=Math.min(this.bitsAvailable,e),n=this.word>>>32-t;if(e>32&&w.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return(t=e-t)>0&&this.bitsAvailable?n<<t|this.readBits(t):n},t.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},t.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.skipEG=function(){this.skipBits(1+this.skipLZ())},t.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},t.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},t.readBoolean=function(){return 1===this.readBits(1)},t.readUByte=function(){return this.readBits(8)},t.readUShort=function(){return this.readBits(16)},t.readUInt=function(){return this.readBits(32)},t.skipScalingList=function(e){for(var t=8,n=8,r=0;r<e;r++)0!==n&&(n=(t+this.readEG()+256)%256),t=0===n?t:n},t.readSPS=function(){var e,t,n,r=0,i=0,a=0,o=0,s=this.readUByte.bind(this),l=this.readBits.bind(this),u=this.readUEG.bind(this),c=this.readBoolean.bind(this),d=this.skipBits.bind(this),p=this.skipEG.bind(this),f=this.skipUEG.bind(this),h=this.skipScalingList.bind(this);s();var y=s();if(l(5),d(3),s(),f(),100===y||110===y||122===y||244===y||44===y||83===y||86===y||118===y||128===y){var g=u();if(3===g&&d(1),f(),f(),d(1),c())for(t=3!==g?8:12,n=0;n<t;n++)c()&&h(n<6?16:64)}f();var v=u();if(0===v)u();else if(1===v)for(d(1),p(),p(),e=u(),n=0;n<e;n++)p();f(),d(1);var m=u(),b=u(),k=l(1);0===k&&d(1),d(1),c()&&(r=u(),i=u(),a=u(),o=u());var E=[1,1];if(c()&&c())switch(s()){case 1:E=[1,1];break;case 2:E=[12,11];break;case 3:E=[10,11];break;case 4:E=[16,11];break;case 5:E=[40,33];break;case 6:E=[24,11];break;case 7:E=[20,11];break;case 8:E=[32,11];break;case 9:E=[80,33];break;case 10:E=[18,11];break;case 11:E=[15,11];break;case 12:E=[64,33];break;case 13:E=[160,99];break;case 14:E=[4,3];break;case 15:E=[3,2];break;case 16:E=[2,1];break;case 255:E=[s()<<8|s(),s()<<8|s()]}return{width:Math.ceil(16*(m+1)-2*r-2*i),height:(2-k)*(b+1)*16-(k?2:4)*(a+o),pixelRatio:E}},t.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}(),Br=function(e){function t(){return e.apply(this,arguments)||this}l(t,e);var n=t.prototype;return n.parseAVCPES=function(e,t,n,r,i){var a,o=this,s=this.parseAVCNALu(e,n.data),l=this.VideoSample,u=!1;n.data=null,l&&s.length&&!e.audFound&&(this.pushAccessUnit(l,e),l=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts,"")),s.forEach((function(r){var s;switch(r.type){case 1:var c=!1;a=!0;var d,p=r.data;if(u&&p.length>4){var f=new Ur(p).readSliceType();2!==f&&4!==f&&7!==f&&9!==f||(c=!0)}c&&null!=(d=l)&&d.frame&&!l.key&&(o.pushAccessUnit(l,e),l=o.VideoSample=null),l||(l=o.VideoSample=o.createVideoSample(!0,n.pts,n.dts,"")),l.frame=!0,l.key=c;break;case 5:a=!0,null!=(s=l)&&s.frame&&!l.key&&(o.pushAccessUnit(l,e),l=o.VideoSample=null),l||(l=o.VideoSample=o.createVideoSample(!0,n.pts,n.dts,"")),l.key=!0,l.frame=!0;break;case 6:a=!0,Fe(r.data,1,n.pts,t.samples);break;case 7:var h,y;a=!0,u=!0;var g=r.data,v=new Ur(g).readSPS();if(!e.sps||e.width!==v.width||e.height!==v.height||(null==(h=e.pixelRatio)?void 0:h[0])!==v.pixelRatio[0]||(null==(y=e.pixelRatio)?void 0:y[1])!==v.pixelRatio[1]){e.width=v.width,e.height=v.height,e.pixelRatio=v.pixelRatio,e.sps=[g],e.duration=i;for(var m=g.subarray(1,4),b="avc1.",k=0;k<3;k++){var E=m[k].toString(16);E.length<2&&(E="0"+E),b+=E}e.codec=b}break;case 8:a=!0,e.pps=[r.data];break;case 9:a=!0,e.audFound=!0,l&&o.pushAccessUnit(l,e),l=o.VideoSample=o.createVideoSample(!1,n.pts,n.dts,"");break;case 12:a=!0;break;default:a=!1,l&&(l.debug+="unknown NAL "+r.type+" ")}l&&a&&l.units.push(r)})),r&&l&&(this.pushAccessUnit(l,e),this.VideoSample=null)},n.parseAVCNALu=function(e,t){var n,r,i=t.byteLength,a=e.naluState||0,o=a,s=[],l=0,u=-1,c=0;for(-1===a&&(u=0,c=31&t[0],a=0,l=1);l<i;)if(n=t[l++],a)if(1!==a)if(n)if(1===n){if(r=l-a-1,u>=0){var d={data:t.subarray(u,r),type:c};s.push(d)}else{var p=this.getLastNalUnit(e.samples);p&&(o&&l<=4-o&&p.state&&(p.data=p.data.subarray(0,p.data.byteLength-o)),r>0&&(p.data=Ne(p.data,t.subarray(0,r)),p.state=0))}l<i?(u=l,c=31&t[l],a=0):a=-1}else a=0;else a=3;else a=n?0:2;else a=n?0:1;if(u>=0&&a>=0){var f={data:t.subarray(u,i),type:c,state:a};s.push(f)}if(0===s.length){var h=this.getLastNalUnit(e.samples);h&&(h.data=Ne(h.data,t))}return e.naluState=a,s},t}(Nr),Fr=function(){function e(e,t,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new Zn(t,{removePKCS7Padding:!1})}var t=e.prototype;return t.decryptBuffer=function(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)},t.decryptAacSample=function(e,t,n){var r=this,i=e[t].unit;if(!(i.length<=16)){var a=i.subarray(16,i.length-i.length%16),o=a.buffer.slice(a.byteOffset,a.byteOffset+a.length);this.decryptBuffer(o).then((function(a){var o=new Uint8Array(a);i.set(o,16),r.decrypter.isSync()||r.decryptAacSamples(e,t+1,n)}))}},t.decryptAacSamples=function(e,t,n){for(;;t++){if(t>=e.length)return void n();if(!(e[t].unit.length<32||(this.decryptAacSample(e,t,n),this.decrypter.isSync())))return}},t.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,n=new Int8Array(t),r=0,i=32;i<e.length-16;i+=160,r+=16)n.set(e.subarray(i,i+16),r);return n},t.getAvcDecryptedUnit=function(e,t){for(var n=new Uint8Array(t),r=0,i=32;i<e.length-16;i+=160,r+=16)e.set(n.subarray(r,r+16),i);return e},t.decryptAvcSample=function(e,t,n,r,i){var a=this,o=je(i.data),s=this.getAvcEncryptedData(o);this.decryptBuffer(s.buffer).then((function(s){i.data=a.getAvcDecryptedUnit(o,s),a.decrypter.isSync()||a.decryptAvcSamples(e,t,n+1,r)}))},t.decryptAvcSamples=function(e,t,n,r){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,n=0){if(t>=e.length)return void r();for(var i=e[t].units;!(n>=i.length);n++){var a=i[n];if(!(a.data.length<=48||1!==a.type&&5!==a.type||(this.decryptAvcSample(e,t,n,r,a),this.decrypter.isSync())))return}}},e}(),jr=188,Hr=function(){function e(e,t,n){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=t,this.typeSupported=n,this.videoParser=new Br}e.probe=function(t){var n=e.syncOffset(t);return n>0&&w.warn("MPEG2-TS detected but first sync word found @ offset "+n),-1!==n},e.syncOffset=function(e){for(var t=e.length,n=Math.min(940,t-jr)+1,r=0;r<n;){for(var i=!1,a=-1,o=0,s=r;s<t;s+=jr){if(71!==e[s]||t-s!==jr&&71!==e[s+jr]){if(o)return-1;break}if(o++,-1===a&&0!==(a=s)&&(n=Math.min(a+18612,e.length-jr)+1),i||(i=0===Vr(e,s)),i&&o>1&&(0===a&&o>2||s+jr>n))return a}r++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:ke[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===e?t:void 0}};var t=e.prototype;return t.resetInitSegment=function(t,n,r,i){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=e.createTrack("video"),this._audioTrack=e.createTrack("audio",i),this._id3Track=e.createTrack("id3"),this._txtTrack=e.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=n,this.videoCodec=r,this._duration=i},t.resetTimeStamp=function(){},t.resetContiguity=function(){var e=this._audioTrack,t=this._videoTrack,n=this._id3Track;e&&(e.pesData=null),t&&(t.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.remainderData=null},t.demux=function(t,n,r,i){var a;void 0===r&&(r=!1),void 0===i&&(i=!1),r||(this.sampleAes=null);var o=this._videoTrack,s=this._audioTrack,l=this._id3Track,u=this._txtTrack,c=o.pid,d=o.pesData,p=s.pid,f=l.pid,h=s.pesData,y=l.pesData,g=null,v=this.pmtParsed,m=this._pmtId,T=t.length;if(this.remainderData&&(T=(t=Ne(this.remainderData,t)).length,this.remainderData=null),T<jr&&!i)return this.remainderData=t,{audioTrack:s,videoTrack:o,id3Track:l,textTrack:u};var _=Math.max(0,e.syncOffset(t));(T-=(T-_)%jr)<t.byteLength&&!i&&(this.remainderData=new Uint8Array(t.buffer,T,t.buffer.byteLength-T));for(var A=0,S=_;S<T;S+=jr)if(71===t[S]){var C=!!(64&t[S+1]),x=Vr(t,S),P=void 0;if((48&t[S+3])>>4>1){if((P=S+5+t[S+4])===S+jr)continue}else P=S+4;switch(x){case c:C&&(d&&(a=Wr(d))&&this.videoParser.parseAVCPES(o,u,a,!1,this._duration),d={data:[],size:0}),d&&(d.data.push(t.subarray(P,S+jr)),d.size+=S+jr-P);break;case p:if(C){if(h&&(a=Wr(h)))switch(s.segmentCodec){case"aac":this.parseAACPES(s,a);break;case"mp3":this.parseMPEGPES(s,a);break;case"ac3":this.parseAC3PES(s,a)}h={data:[],size:0}}h&&(h.data.push(t.subarray(P,S+jr)),h.size+=S+jr-P);break;case f:C&&(y&&(a=Wr(y))&&this.parseID3PES(l,a),y={data:[],size:0}),y&&(y.data.push(t.subarray(P,S+jr)),y.size+=S+jr-P);break;case 0:C&&(P+=t[P]+1),m=this._pmtId=Gr(t,P);break;case m:C&&(P+=t[P]+1);var R=Kr(t,P,this.typeSupported,r);(c=R.videoPid)>0&&(o.pid=c,o.segmentCodec=R.segmentVideoCodec),(p=R.audioPid)>0&&(s.pid=p,s.segmentCodec=R.segmentAudioCodec),(f=R.id3Pid)>0&&(l.pid=f),null===g||v||(w.warn("MPEG-TS PMT found at "+S+" after unknown PID '"+g+"'. Backtracking to sync byte @"+_+" to parse all TS packets."),g=null,S=_-188),v=this.pmtParsed=!0;break;case 17:case 8191:break;default:g=x}}else A++;if(A>0){var I=new Error("Found "+A+" TS packet/s that do not start with 0x47");this.observer.emit(b.ERROR,b.ERROR,{type:k.MEDIA_ERROR,details:E.FRAG_PARSING_ERROR,fatal:!1,error:I,reason:I.message})}o.pesData=d,s.pesData=h,l.pesData=y;var D={audioTrack:s,videoTrack:o,id3Track:l,textTrack:u};return i&&this.extractRemainingSamples(D),D},t.flush=function(){var e,t=this.remainderData;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e},t.extractRemainingSamples=function(e){var t,n=e.audioTrack,r=e.videoTrack,i=e.id3Track,a=e.textTrack,o=r.pesData,s=n.pesData,l=i.pesData;if(o&&(t=Wr(o))?(this.videoParser.parseAVCPES(r,a,t,!0,this._duration),r.pesData=null):r.pesData=o,s&&(t=Wr(s))){switch(n.segmentCodec){case"aac":this.parseAACPES(n,t);break;case"mp3":this.parseMPEGPES(n,t);break;case"ac3":this.parseAC3PES(n,t)}n.pesData=null}else null!=s&&s.size&&w.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=s;l&&(t=Wr(l))?(this.parseID3PES(i,t),i.pesData=null):i.pesData=l},t.demuxSampleAes=function(e,t,n){var r=this.demux(e,n,!0,!this.config.progressive),i=this.sampleAes=new Fr(this.observer,this.config,t);return this.decrypt(r,i)},t.decrypt=function(e,t){return new Promise((function(n){var r=e.audioTrack,i=e.videoTrack;r.samples&&"aac"===r.segmentCodec?t.decryptAacSamples(r.samples,0,(function(){i.samples?t.decryptAvcSamples(i.samples,0,0,(function(){n(e)})):n(e)})):i.samples&&t.decryptAvcSamples(i.samples,0,0,(function(){n(e)}))}))},t.destroy=function(){this._duration=0},t.parseAACPES=function(e,t){var n,r,i,a=0,o=this.aacOverFlow,s=t.data;if(o){this.aacOverFlow=null;var l=o.missing,u=o.sample.unit.byteLength;if(-1===l)s=Ne(o.sample.unit,s);else{var c=u-l;o.sample.unit.set(s.subarray(0,l),c),e.samples.push(o.sample),a=o.missing}}for(n=a,r=s.length;n<r-1&&!yr(s,n);n++);if(n!==a){var d,p=n<r-1;d=p?"AAC PES did not start with ADTS header,offset:"+n:"No ADTS header found in AAC PES";var f=new Error(d);if(w.warn("parsing error: "+d),this.observer.emit(b.ERROR,b.ERROR,{type:k.MEDIA_ERROR,details:E.FRAG_PARSING_ERROR,fatal:!1,levelRetry:p,error:f,reason:d}),!p)return}if(vr(e,this.observer,s,n,this.audioCodec),void 0!==t.pts)i=t.pts;else{if(!o)return void w.warn("[tsdemuxer]: AAC PES unknown PTS");var h=mr(e.samplerate);i=o.sample.pts+h}for(var y,g=0;n<r;){if(n+=(y=br(e,s,n,i,g)).length,y.missing){this.aacOverFlow=y;break}for(g++;n<r-1&&!yr(s,n);n++);}},t.parseMPEGPES=function(e,t){var n=t.data,r=n.length,i=0,a=0,o=t.pts;if(void 0!==o)for(;a<r;)if(xr(n,a)){var s=Sr(e,n,a,o,i);if(!s)break;a+=s.length,i++}else a++;else w.warn("[tsdemuxer]: MPEG PES unknown PTS")},t.parseAC3PES=function(e,t){var n=t.data,r=t.pts;if(void 0!==r)for(var i,a=n.length,o=0,s=0;s<a&&(i=Mr(e,n,s,r,o++))>0;)s+=i;else w.warn("[tsdemuxer]: AC3 PES unknown PTS")},t.parseID3PES=function(e,t){if(void 0!==t.pts){var n=s({},t,{type:this._videoTrack?Mt:Lt,duration:Number.POSITIVE_INFINITY});e.samples.push(n)}else w.warn("[tsdemuxer]: ID3 PES unknown PTS")},e}();function Vr(e,t){return((31&e[t+1])<<8)+e[t+2]}function Gr(e,t){return(31&e[t+10])<<8|e[t+11]}function Kr(e,t,n,r){var i={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},a=t+3+((15&e[t+1])<<8|e[t+2])-4;for(t+=12+((15&e[t+10])<<8|e[t+11]);t<a;){var o=Vr(e,t),s=(15&e[t+3])<<8|e[t+4];switch(e[t]){case 207:if(!r){zr("ADTS AAC");break}case 15:-1===i.audioPid&&(i.audioPid=o);break;case 21:-1===i.id3Pid&&(i.id3Pid=o);break;case 219:if(!r){zr("H.264");break}case 27:-1===i.videoPid&&(i.videoPid=o,i.segmentVideoCodec="avc");break;case 3:case 4:n.mpeg||n.mp3?-1===i.audioPid&&(i.audioPid=o,i.segmentAudioCodec="mp3"):w.log("MPEG audio found, not supported in this browser");break;case 193:if(!r){zr("AC-3");break}case 129:n.ac3?-1===i.audioPid&&(i.audioPid=o,i.segmentAudioCodec="ac3"):w.log("AC-3 audio found, not supported in this browser");break;case 6:if(-1===i.audioPid&&s>0)for(var l=t+5,u=s;u>2;){106===e[l]&&(!0!==n.ac3?w.log("AC-3 audio found, not supported in this browser for now"):(i.audioPid=o,i.segmentAudioCodec="ac3"));var c=e[l+1]+2;l+=c,u-=c}break;case 194:case 135:w.warn("Unsupported EC-3 in M2TS found");break;case 36:w.warn("Unsupported HEVC in M2TS found")}t+=s+5}return i}function zr(e){w.log(e+" with AES-128-CBC encryption found in unencrypted stream")}function Wr(e){var t,n,r,i,a,o=0,s=e.data;if(!e||0===e.size)return null;for(;s[0].length<19&&s.length>1;)s[0]=Ne(s[0],s[1]),s.splice(1,1);if(1===((t=s[0])[0]<<16)+(t[1]<<8)+t[2]){if((n=(t[4]<<8)+t[5])&&n>e.size-6)return null;var l=t[7];192&l&&(i=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&l?i-(a=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>54e5&&(w.warn(Math.round((i-a)/9e4)+"s delta between PTS and DTS, align them"),i=a):a=i);var u=(r=t[8])+9;if(e.size<=u)return null;e.size-=u;for(var c=new Uint8Array(e.size),d=0,p=s.length;d<p;d++){var f=(t=s[d]).byteLength;if(u){if(u>f){u-=f;continue}t=t.subarray(u),f-=u,u=0}c.set(t,o),o+=f}return n&&(n-=r+3),{data:c,pts:i,dts:a,len:n}}return null}var Yr=function(e){function t(){return e.apply(this,arguments)||this}l(t,e);var n=t.prototype;return n.resetInitSegment=function(t,n,r,i){e.prototype.resetInitSegment.call(this,t,n,r,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}},t.probe=function(e){if(!e)return!1;var t=ie(e,0),n=(null==t?void 0:t.length)||0;if(t&&11===e[n]&&119===e[n+1]&&void 0!==se(t)&&Or(e,n)<=16)return!1;for(var r=e.length;n<r;n++)if(Pr(e,n))return w.log("MPEG Audio sync word found !"),!0;return!1},n.canParse=function(e,t){return function(e,t){return Cr(e,t)&&4<=e.length-t}(e,t)},n.appendFrame=function(e,t,n){if(null!==this.basePTS)return Sr(e,t,n,this.basePTS,this.frameIndex)},t}(cr),Zr=function(){function e(){}return e.getSilentFrame=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},e}(),qr=Math.pow(2,32)-1,Xr=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:n,audio:r};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=a,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,o,l,o,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))},e.box=function(e){for(var t=8,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=r.length,o=a;a--;)t+=r[a].byteLength;var s=new Uint8Array(t);for(s[0]=t>>24&255,s[1]=t>>16&255,s[2]=t>>8&255,s[3]=255&t,s.set(e,4),a=0,t=8;a<o;a++)s.set(r[a],t),t+=r[a].byteLength;return s},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,n){n*=t;var r=Math.floor(n/(qr+1)),i=Math.floor(n%(qr+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,n,r){return e.box(e.types.moof,e.mfhd(t),e.traf(r,n))},e.moov=function(t){for(var n=t.length,r=[];n--;)r[n]=e.trak(t[n]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(r).concat(e.mvex(t)))},e.mvex=function(t){for(var n=t.length,r=[];n--;)r[n]=e.trex(t[n]);return e.box.apply(null,[e.types.mvex].concat(r))},e.mvhd=function(t,n){n*=t;var r=Math.floor(n/(qr+1)),i=Math.floor(n%(qr+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,a)},e.sdtp=function(t){var n,r,i=t.samples||[],a=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)r=i[n].flags,a[n+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,a)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var n,r,i,a=[],o=[];for(n=0;n<t.sps.length;n++)i=(r=t.sps[n]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(r));for(n=0;n<t.pps.length;n++)i=(r=t.pps[n]).byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(r));var s=e.box(e.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|t.sps.length].concat(a).concat([t.pps.length]).concat(o))),l=t.width,u=t.height,c=t.pixelRatio[0],d=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.audioStsd=function(e){var t=e.samplerate;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,t>>8&255,255&t,0,0])},e.mp4a=function(t){return e.box(e.types.mp4a,e.audioStsd(t),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){return e.box(e.types[".mp3"],e.audioStsd(t))},e.ac3=function(t){return e.box(e.types["ac-3"],e.audioStsd(t),e.box(e.types.dac3,t.config))},e.stsd=function(t){return"audio"===t.type?"mp3"===t.segmentCodec&&"mp3"===t.codec?e.box(e.types.stsd,e.STSD,e.mp3(t)):"ac3"===t.segmentCodec?e.box(e.types.stsd,e.STSD,e.ac3(t)):e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var n=t.id,r=t.duration*t.timescale,i=t.width,a=t.height,o=Math.floor(r/(qr+1)),s=Math.floor(r%(qr+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,a>>8&255,255&a,0,0]))},e.traf=function(t,n){var r=e.sdtp(t),i=t.id,a=Math.floor(n/(qr+1)),o=Math.floor(n%(qr+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,o>>24,o>>16&255,o>>8&255,255&o])),e.trun(t,r.length+16+20+8+16+8+8),r)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var n=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,n){var r,i,a,o,s,l,u=t.samples||[],c=u.length,d=12+16*c,p=new Uint8Array(d);for(n+=8+d,p.set(["video"===t.type?1:0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),r=0;r<c;r++)a=(i=u[r]).duration,o=i.size,s=i.flags,l=i.cts,p.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*r);return e.box(e.types.trun,p)},e.initSegment=function(t){e.types||e.init();var n=e.moov(t);return Ne(e.FTYP,n)},e}();Xr.types=void 0,Xr.HDLR_TYPES=void 0,Xr.STTS=void 0,Xr.STSC=void 0,Xr.STCO=void 0,Xr.STSZ=void 0,Xr.VMHD=void 0,Xr.SMHD=void 0,Xr.STSD=void 0,Xr.FTYP=void 0,Xr.DINF=void 0;function Qr(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=!1);var i=e*t*n;return r?Math.round(i):i}function Jr(e,t){return void 0===t&&(t=!1),Qr(e,1e3,1/9e4,t)}var $r=null,ei=null,ti=function(){function e(e,t,n,r){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=t,this.typeSupported=n,this.ISGenerated=!1,null===$r){var i=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);$r=i?parseInt(i[1]):0}if(null===ei){var a=navigator.userAgent.match(/Safari\/(\d+)/i);ei=a?parseInt(a[1]):0}}var t=e.prototype;return t.destroy=function(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null},t.resetTimeStamp=function(e){w.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e},t.resetNextTimestamp=function(){w.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},t.resetInitSegment=function(){w.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0},t.getVideoStartPts=function(e){var t=!1,n=e.reduce((function(e,n){var r=n.pts-e;return r<-4294967296?(t=!0,ni(e,n.pts)):r>0?e:n.pts}),e[0].pts);return t&&w.debug("PTS rollover detected"),n},t.remux=function(e,t,n,r,i,a,o,s){var l,u,c,d,p,f,h=i,y=i,g=e.pid>-1,v=t.pid>-1,m=t.samples.length,b=e.samples.length>0,k=o&&m>0||m>1;if((!g||b)&&(!v||k)||this.ISGenerated||o){if(this.ISGenerated){var E,T,_,A,S=this.videoTrackConfig;!S||t.width===S.width&&t.height===S.height&&(null==(E=t.pixelRatio)?void 0:E[0])===(null==(T=S.pixelRatio)?void 0:T[0])&&(null==(_=t.pixelRatio)?void 0:_[1])===(null==(A=S.pixelRatio)?void 0:A[1])||this.resetInitSegment()}else c=this.generateIS(e,t,i,a);var C,x=this.isVideoContiguous,P=-1;if(k&&(P=function(e){for(var t=0;t<e.length;t++)if(e[t].key)return t;return-1}(t.samples),!x&&this.config.forceKeyFrameOnDiscontinuity))if(f=!0,P>0){w.warn("[mp4-remuxer]: Dropped "+P+" out of "+m+" video samples due to a missing keyframe");var R=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(P),t.dropped+=P,C=y+=(t.samples[0].pts-R)/t.inputTimeScale}else-1===P&&(w.warn("[mp4-remuxer]: No keyframe found out of "+m+" video samples"),f=!1);if(this.ISGenerated){if(b&&k){var I=this.getVideoStartPts(t.samples),D=(ni(e.samples[0].pts,I)-I)/t.inputTimeScale;h+=Math.max(0,D),y+=Math.max(0,-D)}if(b){if(e.samplerate||(w.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),c=this.generateIS(e,t,i,a)),u=this.remuxAudio(e,h,this.isAudioContiguous,a,v||k||s===At?y:void 0),k){var O=u?u.endPTS-u.startPTS:0;t.inputTimeScale||(w.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),c=this.generateIS(e,t,i,a)),l=this.remuxVideo(t,y,x,O)}}else k&&(l=this.remuxVideo(t,y,x,0));l&&(l.firstKeyFrame=P,l.independent=-1!==P,l.firstKeyFramePTS=C)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(p=ri(n,i,this._initPTS,this._initDTS)),r.samples.length&&(d=ii(r,i,this._initPTS))),{audio:u,video:l,initSegment:c,independent:f,text:d,id3:p}},t.generateIS=function(e,t,n,r){var i,a,o,s=e.samples,l=t.samples,u=this.typeSupported,c={},d=this._initPTS,p=!d||r,f="audio/mp4";if(p&&(i=a=1/0),e.config&&s.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":u.mpeg?(f="audio/mpeg",e.codec=""):u.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3"}c.audio={id:"audio",container:f,codec:e.codec,initSegment:"mp3"===e.segmentCodec&&u.mpeg?new Uint8Array(0):Xr.initSegment([e]),metadata:{channelCount:e.channelCount}},p&&(o=e.inputTimeScale,d&&o===d.timescale?p=!1:i=a=s[0].pts-Math.round(o*n))}if(t.sps&&t.pps&&l.length){if(t.timescale=t.inputTimeScale,c.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:Xr.initSegment([t]),metadata:{width:t.width,height:t.height}},p)if(o=t.inputTimeScale,d&&o===d.timescale)p=!1;else{var h=this.getVideoStartPts(l),y=Math.round(o*n);a=Math.min(a,ni(l[0].dts,h)-y),i=Math.min(i,h-y)}this.videoTrackConfig={width:t.width,height:t.height,pixelRatio:t.pixelRatio}}if(Object.keys(c).length)return this.ISGenerated=!0,p?(this._initPTS={baseTime:i,timescale:o},this._initDTS={baseTime:a,timescale:o}):i=o=void 0,{tracks:c,initPTS:i,timescale:o}},t.remuxVideo=function(e,t,n,r){var i,a,o=e.inputTimeScale,l=e.samples,u=[],c=l.length,d=this._initPTS,p=this.nextAvcDts,f=8,h=this.videoSampleDuration,y=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,v=!1;if(!n||null===p){var m=t*o,T=l[0].pts-ni(l[0].dts,l[0].pts);$r&&null!==p&&Math.abs(m-T-p)<15e3?n=!0:p=m-T}for(var _=d.baseTime*o/d.timescale,A=0;A<c;A++){var S=l[A];S.pts=ni(S.pts-_,p),S.dts=ni(S.dts-_,p),S.dts<l[A>0?A-1:A].dts&&(v=!0)}v&&l.sort((function(e,t){var n=e.dts-t.dts,r=e.pts-t.pts;return n||r})),i=l[0].dts;var C=l[l.length-1].dts-i,x=C?Math.round(C/(c-1)):h||e.inputTimeScale/30;if(n){var P=i-p,R=P>x,I=P<-1;if((R||I)&&(R?w.warn("AVC: "+Jr(P,!0)+" ms ("+P+"dts) hole between fragments detected at "+t.toFixed(3)):w.warn("AVC: "+Jr(-P,!0)+" ms ("+P+"dts) overlapping between fragments detected at "+t.toFixed(3)),!I||p>=l[0].pts||$r)){i=p;var D=l[0].pts-P;if(R)l[0].dts=i,l[0].pts=D;else for(var O=0;O<l.length&&!(l[O].dts>D);O++)l[O].dts-=P,l[O].pts-=P;w.log("Video: Initial PTS/DTS adjusted: "+Jr(D,!0)+"/"+Jr(i,!0)+", delta: "+Jr(P,!0)+" ms")}}for(var L=0,M=0,N=i=Math.max(0,i),U=0;U<c;U++){for(var B=l[U],F=B.units,j=F.length,H=0,V=0;V<j;V++)H+=F[V].data.length;M+=H,L+=j,B.length=H,B.dts<N?(B.dts=N,N+=x/4|0||1):N=B.dts,y=Math.min(B.pts,y),g=Math.max(B.pts,g)}a=l[c-1].dts;var G,K=M+4*L+8;try{G=new Uint8Array(K)}catch(e){return void this.observer.emit(b.ERROR,b.ERROR,{type:k.MUX_ERROR,details:E.REMUX_ALLOC_ERROR,fatal:!1,error:e,bytes:K,reason:"fail allocating video mdat "+K})}var z=new DataView(G.buffer);z.setUint32(0,K),G.set(Xr.types.mdat,4);for(var W=!1,Y=Number.POSITIVE_INFINITY,Z=Number.POSITIVE_INFINITY,q=Number.NEGATIVE_INFINITY,X=Number.NEGATIVE_INFINITY,Q=0;Q<c;Q++){for(var J=l[Q],$=J.units,ee=0,te=0,ne=$.length;te<ne;te++){var re=$[te],ie=re.data,ae=re.data.byteLength;z.setUint32(f,ae),f+=4,G.set(ie,f),f+=ae,ee+=4+ae}var oe=void 0;if(Q<c-1)h=l[Q+1].dts-J.dts,oe=l[Q+1].pts-J.pts;else{var se=this.config,le=Q>0?J.dts-l[Q-1].dts:x;if(oe=Q>0?J.pts-l[Q-1].pts:x,se.stretchShortVideoTrack&&null!==this.nextAudioPts){var ue=Math.floor(se.maxBufferHole*o),ce=(r?y+r*o:this.nextAudioPts)-J.pts;ce>ue?((h=ce-le)<0?h=le:W=!0,w.log("[mp4-remuxer]: It is approximately "+ce/90+" ms to the next segment; using duration "+h/90+" ms for the last video frame.")):h=le}else h=le}var de=Math.round(J.pts-J.dts);Y=Math.min(Y,h),q=Math.max(q,h),Z=Math.min(Z,oe),X=Math.max(X,oe),u.push(new oi(J.key,h,ee,de))}if(u.length)if($r){if($r<70){var pe=u[0].flags;pe.dependsOn=2,pe.isNonSync=0}}else if(ei&&X-Z<q-Y&&x/q<.025&&0===u[0].cts){w.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var fe=i,he=0,ye=u.length;he<ye;he++){var ge=fe+u[he].duration,ve=fe+u[he].cts;if(he<ye-1){var me=ge+u[he+1].cts;u[he].duration=me-ve}else u[he].duration=he?u[he-1].duration:x;u[he].cts=0,fe=ge}}h=W||!h?x:h,this.nextAvcDts=p=a+h,this.videoSampleDuration=h,this.isVideoContiguous=!0;var be={data1:Xr.moof(e.sequenceNumber++,i,s({},e,{samples:u})),data2:G,startPTS:y/o,endPTS:(g+h)/o,startDTS:i/o,endDTS:p/o,type:"video",hasAudio:!1,hasVideo:!0,nb:u.length,dropped:e.dropped};return e.samples=[],e.dropped=0,be},t.getSamplesPerFrame=function(e){switch(e.segmentCodec){case"mp3":return 1152;case"ac3":return 1536;default:return 1024}},t.remuxAudio=function(e,t,n,r,i){var a=e.inputTimeScale,o=a/(e.samplerate?e.samplerate:a),l=this.getSamplesPerFrame(e),u=l*o,c=this._initPTS,d="mp3"===e.segmentCodec&&this.typeSupported.mpeg,p=[],f=void 0!==i,h=e.samples,y=d?0:8,g=this.nextAudioPts||-1,v=t*a,m=c.baseTime*a/c.timescale;if(this.isAudioContiguous=n=n||h.length&&g>0&&(r&&Math.abs(v-g)<9e3||Math.abs(ni(h[0].pts-m,v)-g)<20*u),h.forEach((function(e){e.pts=ni(e.pts-m,v)})),!n||g<0){if(h=h.filter((function(e){return e.pts>=0})),!h.length)return;g=0===i?0:r&&!f?Math.max(0,v):h[0].pts}if("aac"===e.segmentCodec)for(var T=this.config.maxAudioFramesDrift,_=0,A=g;_<h.length;_++){var S=h[_],C=S.pts,x=C-A,P=Math.abs(1e3*x/a);if(x<=-T*u&&f)0===_&&(w.warn("Audio frame @ "+(C/a).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*x/a)+" ms."),this.nextAudioPts=g=A=C);else if(x>=T*u&&P<1e4&&f){var R=Math.round(x/u);(A=C-R*u)<0&&(R--,A+=u),0===_&&(this.nextAudioPts=g=A),w.warn("[mp4-remuxer]: Injecting "+R+" audio frame @ "+(A/a).toFixed(3)+"s due to "+Math.round(1e3*x/a)+" ms gap.");for(var I=0;I<R;I++){var D=Math.max(A,0),O=Zr.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);O||(w.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),O=S.unit.subarray()),h.splice(_,0,{unit:O,pts:D}),A+=u,_++}}S.pts=A,A+=u}for(var L,M=null,N=null,U=0,B=h.length;B--;)U+=h[B].unit.byteLength;for(var F=0,j=h.length;F<j;F++){var H=h[F],V=H.unit,G=H.pts;if(null!==N)p[F-1].duration=Math.round((G-N)/o);else{if(n&&"aac"===e.segmentCodec&&(G=g),M=G,!(U>0))return;U+=y;try{L=new Uint8Array(U)}catch(e){return void this.observer.emit(b.ERROR,b.ERROR,{type:k.MUX_ERROR,details:E.REMUX_ALLOC_ERROR,fatal:!1,error:e,bytes:U,reason:"fail allocating audio mdat "+U})}d||(new DataView(L.buffer).setUint32(0,U),L.set(Xr.types.mdat,4))}L.set(V,y);var K=V.byteLength;y+=K,p.push(new oi(!0,l,K,0)),N=G}var z=p.length;if(z){var W=p[p.length-1];this.nextAudioPts=g=N+o*W.duration;var Y=d?new Uint8Array(0):Xr.moof(e.sequenceNumber++,M/o,s({},e,{samples:p}));e.samples=[];var Z=M/a,q=g/a,X={data1:Y,data2:L,startPTS:Z,endPTS:q,startDTS:Z,endDTS:q,type:"audio",hasAudio:!0,hasVideo:!1,nb:z};return this.isAudioContiguous=!0,X}},t.remuxEmptyAudio=function(e,t,n,r){var i=e.inputTimeScale,a=i/(e.samplerate?e.samplerate:i),o=this.nextAudioPts,s=this._initDTS,l=9e4*s.baseTime/s.timescale,u=(null!==o?o:r.startDTS*i)+l,c=r.endDTS*i+l,d=1024*a,p=Math.ceil((c-u)/d),f=Zr.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(w.warn("[mp4-remuxer]: remux empty Audio"),f){for(var h=[],y=0;y<p;y++){var g=u+y*d;h.push({unit:f,pts:g,dts:g})}return e.samples=h,this.remuxAudio(e,t,n,!1)}w.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},e}();function ni(e,t){var n;if(null===t)return e;for(n=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=n;return e}function ri(e,t,n,r){var i=e.samples.length;if(i){for(var a=e.inputTimeScale,o=0;o<i;o++){var s=e.samples[o];s.pts=ni(s.pts-n.baseTime*a/n.timescale,t*a)/a,s.dts=ni(s.dts-r.baseTime*a/r.timescale,t*a)/a}var l=e.samples;return e.samples=[],{samples:l}}}function ii(e,t,n){var r=e.samples.length;if(r){for(var i=e.inputTimeScale,a=0;a<r;a++){var o=e.samples[a];o.pts=ni(o.pts-n.baseTime*i/n.timescale,t*i)/i}e.samples.sort((function(e,t){return e.pts-t.pts}));var s=e.samples;return e.samples=[],{samples:s}}}var ai,oi=function(e,t,n,r){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=t,this.size=n,this.cts=r,this.flags={isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:e?2:1,isNonSync:e?0:1}},si=function(){function e(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){this.initPTS=e,this.lastEndTime=null},t.resetNextTimestamp=function(){this.lastEndTime=null},t.resetInitSegment=function(e,t,n,r){this.audioCodec=t,this.videoCodec=n,this.generateInitSegment(function(e,t){if(!e||!t)return e;var n=t.keyId;return n&&t.isCommonEncryption&&Ce(e,["moov","trak"]).forEach((function(e){var t=Ce(e,["mdia","minf","stbl","stsd"])[0].subarray(8),r=Ce(t,["enca"]),i=r.length>0;i||(r=Ce(t,["encv"])),r.forEach((function(e){Ce(i?e.subarray(28):e.subarray(78),["sinf"]).forEach((function(e){var t=Le(e);if(t){var r=t.subarray(8,24);r.some((function(e){return 0!==e}))||(w.log("[eme] Patching keyId in 'enc"+(i?"a":"v")+">sinf>>tenc' box: "+ve(r)+" -> "+ve(n)),t.set(n,8))}}))}))})),e}(e,r)),this.emitInitSegment=!0},t.generateInitSegment=function(e){var t=this.audioCodec,n=this.videoCodec;if(null==e||!e.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var r=this.initData=Pe(e);r.audio&&(t=li(r.audio,O)),r.video&&(n=li(r.video,L));var i={};r.audio&&r.video?i.audiovideo={container:"video/mp4",codec:t+","+n,initSegment:e,id:"main"}:r.audio?i.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:r.video?i.video={container:"video/mp4",codec:n,initSegment:e,id:"main"}:w.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=i},t.remux=function(e,t,n,r,i,a){var o,s,l=this.initPTS,u=this.lastEndTime,c={audio:void 0,video:void 0,text:r,id3:n,initSegment:void 0};g(u)||(u=this.lastEndTime=i||0);var d=t.samples;if(null==d||!d.length)return c;var p={initPTS:void 0,timescale:1},f=this.initData;if(null!=(o=f)&&o.length||(this.generateInitSegment(d),f=this.initData),null==(s=f)||!s.length)return w.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),c;this.emitInitSegment&&(p.tracks=this.initTracks,this.emitInitSegment=!1);var h=function(e,t){for(var n=0,r=0,i=0,a=Ce(e,["moof","traf"]),o=0;o<a.length;o++){var s=a[o],l=Ce(s,["tfhd"])[0],u=t[_e(l,4)];if(u){var c=u.default,d=_e(l,0)|(null==c?void 0:c.flags),p=null==c?void 0:c.duration;8&d&&(p=_e(l,2&d?12:8));for(var f=u.timescale||9e4,h=Ce(s,["trun"]),y=0;y<h.length;y++)!(n=Me(h[y]))&&p&&(n=p*_e(h[y],4)),u.type===L?r+=n/f:u.type===O&&(i+=n/f)}}if(0===r&&0===i){for(var v=1/0,m=0,b=0,k=Ce(e,["sidx"]),E=0;E<k.length;E++){var T=xe(k[E]);if(null!=T&&T.references){v=Math.min(v,T.earliestPresentationTime/T.timescale);var _=T.references.reduce((function(e,t){return e+t.info.duration||0}),0);b=(m=Math.max(m,_+T.earliestPresentationTime/T.timescale))-v}}if(b&&g(b))return b}return r||i}(d,f),y=function(e,t){return Ce(t,["moof","traf"]).reduce((function(t,n){var r=Ce(n,["tfdt"])[0],i=r[0],a=Ce(n,["tfhd"]).reduce((function(t,n){var a=_e(n,4),o=e[a];if(o){var s=_e(r,4);if(1===i){if(s===me)return w.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),t;s*=me+1,s+=_e(r,8)}var l=s/(o.timescale||9e4);if(g(l)&&(null===t||l<t))return l}return t}),null);return null!==a&&g(a)&&(null===t||a<t)?a:t}),null)}(f,d),v=null===y?i:y;(function(e,t,n,r){if(null===e)return!0;var i=Math.max(r,1),a=t-e.baseTime/e.timescale;return Math.abs(a-n)>i}(l,v,i,h)||p.timescale!==l.timescale&&a)&&(p.initPTS=v-i,l&&1===l.timescale&&w.warn("Adjusting initPTS by "+(p.initPTS-l.baseTime)),this.initPTS=l={baseTime:p.initPTS,timescale:1});var m=e?v-l.baseTime/l.timescale:u,b=m+h;!function(e,t,n){Ce(t,["moof","traf"]).forEach((function(t){Ce(t,["tfhd"]).forEach((function(r){var i=_e(r,4),a=e[i];if(a){var o=a.timescale||9e4;Ce(t,["tfdt"]).forEach((function(e){var t=e[0],r=n*o;if(r){var i=_e(e,4);if(0===t)i-=r,we(e,4,i=Math.max(i,0));else{i*=Math.pow(2,32),i+=_e(e,8),i-=r,i=Math.max(i,0);var a=Math.floor(i/(me+1)),s=Math.floor(i%(me+1));we(e,4,a),we(e,8,s)}}}))}}))}))}(f,d,l.baseTime/l.timescale),h>0?this.lastEndTime=b:(w.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var k=!!f.audio,E=!!f.video,T="";k&&(T+="audio"),E&&(T+="video");var _={data1:d,startPTS:m,startDTS:m,endPTS:b,endDTS:b,type:T,hasAudio:k,hasVideo:E,nb:1,dropped:0};return c.audio="audio"===_.type?_:void 0,c.video="audio"!==_.type?_:void 0,c.initSegment=p,c.id3=ri(n,i,l,l),r.samples.length&&(c.text=ii(r,i,l)),c},e}();function li(e,t){var n=null==e?void 0:e.codec;if(n&&n.length>4)return n;if(t===O){if("ec-3"===n||"ac-3"===n||"alac"===n)return n;if("fLaC"===n||"Opus"===n)return it(n,!1);var r="mp4a.40.5";return w.info('Parsed audio codec "'+n+'" or audio object type not handled. Using "'+r+'"'),r}return w.warn('Unhandled video codec "'+n+'"'),"hvc1"===n||"hev1"===n?"hvc1.1.6.L120.90":"av01"===n?"av01.0.04M.08":"avc1.42e01e"}try{ai=self.performance.now.bind(self.performance)}catch(e){w.debug("Unable to use Performance API on this environment"),ai=null==V?void 0:V.Date.now}var ui=[{demux:Dr,remux:si},{demux:Hr,remux:ti},{demux:Rr,remux:ti},{demux:Yr,remux:ti}];ui.splice(2,0,{demux:Lr,remux:ti});var ci=function(){function e(e,t,n,r,i){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=t,this.config=n,this.vendor=r,this.id=i}var t=e.prototype;return t.configure=function(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()},t.push=function(e,t,n,r){var i=this,a=n.transmuxing;a.executeStart=ai();var o=new Uint8Array(e),s=this.currentTransmuxState,l=this.transmuxConfig;r&&(this.currentTransmuxState=r);var u=r||s,c=u.contiguous,d=u.discontinuity,p=u.trackSwitch,f=u.accurateTimeOffset,h=u.timeOffset,y=u.initSegmentChange,g=l.audioCodec,v=l.videoCodec,m=l.defaultInitPts,T=l.duration,_=l.initSegmentData,A=function(e,t){var n=null;return e.byteLength>0&&null!=(null==t?void 0:t.key)&&null!==t.iv&&null!=t.method&&(n=t),n}(o,t);if(A&&"AES-128"===A.method){var S=this.getDecrypter();if(!S.isSync())return this.decryptionPromise=S.webCryptoDecrypt(o,A.key.buffer,A.iv.buffer).then((function(e){var t=i.push(e,null,n);return i.decryptionPromise=null,t})),this.decryptionPromise;var C=S.softwareDecrypt(o,A.key.buffer,A.iv.buffer);if(n.part>-1&&(C=S.flush()),!C)return a.executeEnd=ai(),di(n);o=new Uint8Array(C)}var x=this.needsProbing(d,p);if(x){var P=this.configureTransmuxer(o);if(P)return w.warn("[transmuxer] "+P.message),this.observer.emit(b.ERROR,b.ERROR,{type:k.MEDIA_ERROR,details:E.FRAG_PARSING_ERROR,fatal:!1,error:P,reason:P.message}),a.executeEnd=ai(),di(n)}(d||p||y||x)&&this.resetInitSegment(_,g,v,T,t),(d||y||x)&&this.resetInitialTimestamp(m),c||this.resetContiguity();var R=this.transmux(o,A,h,f,n),I=this.currentTransmuxState;return I.contiguous=!0,I.discontinuity=!1,I.trackSwitch=!1,a.executeEnd=ai(),R},t.flush=function(e){var t=this,n=e.transmuxing;n.executeStart=ai();var r=this.decrypter,i=this.currentTransmuxState,a=this.decryptionPromise;if(a)return a.then((function(){return t.flush(e)}));var o=[],s=i.timeOffset;if(r){var l=r.flush();l&&o.push(this.push(l,null,e))}var u=this.demuxer,c=this.remuxer;if(!u||!c)return n.executeEnd=ai(),[di(e)];var d=u.flush(s);return pi(d)?d.then((function(n){return t.flushRemux(o,n,e),o})):(this.flushRemux(o,d,e),o)},t.flushRemux=function(e,t,n){var r=t.audioTrack,i=t.videoTrack,a=t.id3Track,o=t.textTrack,s=this.currentTransmuxState,l=s.accurateTimeOffset,u=s.timeOffset;w.log("[transmuxer.ts]: Flushed fragment "+n.sn+(n.part>-1?" p: "+n.part:"")+" of level "+n.level);var c=this.remuxer.remux(r,i,a,o,u,l,!0,this.id);e.push({remuxResult:c,chunkMeta:n}),n.transmuxing.executeEnd=ai()},t.resetInitialTimestamp=function(e){var t=this.demuxer,n=this.remuxer;t&&n&&(t.resetTimeStamp(e),n.resetTimeStamp(e))},t.resetContiguity=function(){var e=this.demuxer,t=this.remuxer;e&&t&&(e.resetContiguity(),t.resetNextTimestamp())},t.resetInitSegment=function(e,t,n,r,i){var a=this.demuxer,o=this.remuxer;a&&o&&(a.resetInitSegment(e,t,n,r),o.resetInitSegment(e,t,n,i))},t.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},t.transmux=function(e,t,n,r,i){return t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(e,t,n,r,i):this.transmuxUnencrypted(e,n,r,i)},t.transmuxUnencrypted=function(e,t,n,r){var i=this.demuxer.demux(e,t,!1,!this.config.progressive),a=i.audioTrack,o=i.videoTrack,s=i.id3Track,l=i.textTrack;return{remuxResult:this.remuxer.remux(a,o,s,l,t,n,!1,this.id),chunkMeta:r}},t.transmuxSampleAes=function(e,t,n,r,i){var a=this;return this.demuxer.demuxSampleAes(e,t,n).then((function(e){return{remuxResult:a.remuxer.remux(e.audioTrack,e.videoTrack,e.id3Track,e.textTrack,n,r,!1,a.id),chunkMeta:i}}))},t.configureTransmuxer=function(e){for(var t,n=this.config,r=this.observer,i=this.typeSupported,a=this.vendor,o=0,s=ui.length;o<s;o++){var l;if(null!=(l=ui[o].demux)&&l.probe(e)){t=ui[o];break}}if(!t)return new Error("Failed to find demuxer by probing fragment data");var u=this.demuxer,c=this.remuxer,d=t.remux,p=t.demux;c&&c instanceof d||(this.remuxer=new d(r,n,i,a)),u&&u instanceof p||(this.demuxer=new p(r,n,i),this.probe=p.probe)},t.needsProbing=function(e,t){return!this.demuxer||!this.remuxer||e||t},t.getDecrypter=function(){var e=this.decrypter;return e||(e=this.decrypter=new Zn(this.config)),e},e}(),di=function(e){return{remuxResult:{},chunkMeta:e}};function pi(e){return"then"in e&&e.then instanceof Function}var fi=function(e,t,n,r,i){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=n,this.duration=r,this.defaultInitPts=i||null},hi=function(e,t,n,r,i,a){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=n,this.trackSwitch=r,this.timeOffset=i,this.initSegmentChange=a},yi={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,a||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,a),!0;case 6:return c.fn.call(c.context,t,r,i,a,o),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var p,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,i);break;default:if(!l)for(p=1,l=new Array(d-1);p<d;p++)l[p-1]=arguments[p];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||o(this,a);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&u.push(s[l]);u.length?this._events[a]=1===u.length?u[0]:u:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(yi);var gi=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(yi.exports);function vi(e,t){if(!((n=t.remuxResult).audio||n.video||n.text||n.id3||n.initSegment))return!1;var n,r=[],i=t.remuxResult,a=i.audio,o=i.video;return a&&mi(r,a),o&&mi(r,o),e.postMessage({event:"transmuxComplete",data:t},r),!0}function mi(e,t){t.data1&&e.push(t.data1.buffer),t.data2&&e.push(t.data2.buffer)}function bi(e,t,n){t.reduce((function(t,n){return vi(e,n)||t}),!1)||e.postMessage({event:"transmuxComplete",data:t[0]}),e.postMessage({event:"flush",data:n})}void 0!==t&&t&&function(e){var t=new gi,n=function(t,n){e.postMessage({event:t,data:n})};t.on(b.FRAG_DECRYPTED,n),t.on(b.ERROR,n);e.addEventListener("message",(function(r){var i=r.data;switch(i.cmd){case"init":var a=JSON.parse(i.config);e.transmuxer=new ci(t,i.typeSupported,a,i.vendor,i.id),S(a.debug,i.id),function(){var e=function(e){w[e]=function(t){n("workerLog",{logType:e,message:t})}};for(var t in w)e(t)}(),n("init",null);break;case"configure":e.transmuxer.configure(i.config);break;case"demux":var o=e.transmuxer.push(i.data,i.decryptdata,i.chunkMeta,i.state);pi(o)?(e.transmuxer.async=!0,o.then((function(t){vi(e,t)})).catch((function(e){n(b.ERROR,{type:k.MEDIA_ERROR,details:E.FRAG_PARSING_ERROR,chunkMeta:i.chunkMeta,fatal:!1,error:e,err:e,reason:"transmuxer-worker push error"})}))):(e.transmuxer.async=!1,vi(e,o));break;case"flush":var s=i.chunkMeta,l=e.transmuxer.flush(s);pi(l)||e.transmuxer.async?(pi(l)||(l=Promise.resolve(l)),l.then((function(t){bi(e,t,s)})).catch((function(e){n(b.ERROR,{type:k.MEDIA_ERROR,details:E.FRAG_PARSING_ERROR,chunkMeta:i.chunkMeta,fatal:!1,error:e,err:e,reason:"transmuxer-worker flush error"})}))):bi(e,l,s)}}))}(self);var ki=function(){function t(t,n,r,i){var a=this;this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;var o=t.config;this.hls=t,this.id=n,this.useWorker=!!o.enableWorker,this.onTransmuxComplete=r,this.onFlush=i;var s=function(e,t){(t=t||{}).frag=a.frag,t.id=a.id,e===b.ERROR&&(a.error=t.error),a.hls.trigger(e,t)};this.observer=new gi,this.observer.on(b.FRAG_DECRYPTED,s),this.observer.on(b.ERROR,s);var l,u,c,d,p=qe(o.preferManagedMediaSource)||{isTypeSupported:function(){return!1}},f={mpeg:p.isTypeSupported("audio/mpeg"),mp3:p.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:p.isTypeSupported('audio/mp4; codecs="ac-3"')},h=navigator.vendor;if(!this.useWorker||"undefined"==typeof Worker||(o.workerPath,0))this.transmuxer=new ci(this.observer,f,o,h,n);else try{o.workerPath?(w.log("loading Web Worker "+o.workerPath+' for "'+n+'"'),this.workerContext=(c=o.workerPath,d=new self.URL(c,self.location.href).href,{worker:new self.Worker(d),scriptURL:d})):(w.log('injecting Web Worker for "'+n+'"'),this.workerContext=(l=new self.Blob(["var exports={};var module={exports:exports};function define(f){f()};define.amd=true;("+e.toString()+")(true);"],{type:"text/javascript"}),u=self.URL.createObjectURL(l),{worker:new self.Worker(u),objectURL:u})),this.onwmsg=function(e){return a.onWorkerMessage(e)};var y=this.workerContext.worker;y.addEventListener("message",this.onwmsg),y.onerror=function(e){var t=new Error(e.message+"  ("+e.filename+":"+e.lineno+")");o.enableWorker=!1,w.warn('Error in "'+n+'" Web Worker, fallback to inline'),a.hls.trigger(b.ERROR,{type:k.OTHER_ERROR,details:E.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:t})},y.postMessage({cmd:"init",typeSupported:f,vendor:h,id:n,config:JSON.stringify(o)})}catch(e){w.warn('Error setting up "'+n+'" Web Worker, fallback to inline',e),this.resetWorker(),this.error=null,this.transmuxer=new ci(this.observer,f,o,h,n)}}var n=t.prototype;return n.resetWorker=function(){if(this.workerContext){var e=this.workerContext,t=e.worker,n=e.objectURL;n&&self.URL.revokeObjectURL(n),t.removeEventListener("message",this.onwmsg),t.onerror=null,t.terminate(),this.workerContext=null}},n.destroy=function(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{var e=this.transmuxer;e&&(e.destroy(),this.transmuxer=null)}var t=this.observer;t&&t.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null},n.push=function(e,t,n,r,i,a,o,s,l,u){var c,d,p=this;l.transmuxing.start=self.performance.now();var f=this.transmuxer,h=a?a.start:i.start,y=i.decryptdata,g=this.frag,v=!(g&&i.cc===g.cc),m=!(g&&l.level===g.level),b=g?l.sn-g.sn:-1,k=this.part?l.part-this.part.index:-1,E=0===b&&l.id>1&&l.id===(null==g?void 0:g.stats.chunkCount),T=!m&&(1===b||0===b&&(1===k||E&&k<=0)),_=self.performance.now();(m||b||0===i.stats.parsing.start)&&(i.stats.parsing.start=_),!a||!k&&T||(a.stats.parsing.start=_);var A=!(g&&(null==(c=i.initSegment)?void 0:c.url)===(null==(d=g.initSegment)?void 0:d.url)),S=new hi(v,T,s,m,h,A);if(!T||v||A){w.log("[transmuxer-interface, "+i.type+"]: Starting new transmux session for sn: "+l.sn+" p: "+l.part+" level: "+l.level+" id: "+l.id+"\n        discontinuity: "+v+"\n        trackSwitch: "+m+"\n        contiguous: "+T+"\n        accurateTimeOffset: "+s+"\n        timeOffset: "+h+"\n        initSegmentChange: "+A);var C=new fi(n,r,t,o,u);this.configureTransmuxer(C)}if(this.frag=i,this.part=a,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:y,chunkMeta:l,state:S},e instanceof ArrayBuffer?[e]:[]);else if(f){var x=f.push(e,y,l,S);pi(x)?(f.async=!0,x.then((function(e){p.handleTransmuxComplete(e)})).catch((function(e){p.transmuxerError(e,l,"transmuxer-interface push error")}))):(f.async=!1,this.handleTransmuxComplete(x))}},n.flush=function(e){var t=this;e.transmuxing.start=self.performance.now();var n=this.transmuxer;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(n){var r=n.flush(e);pi(r)||n.async?(pi(r)||(r=Promise.resolve(r)),r.then((function(n){t.handleFlushResult(n,e)})).catch((function(n){t.transmuxerError(n,e,"transmuxer-interface flush error")}))):this.handleFlushResult(r,e)}},n.transmuxerError=function(e,t,n){this.hls&&(this.error=e,this.hls.trigger(b.ERROR,{type:k.MEDIA_ERROR,details:E.FRAG_PARSING_ERROR,chunkMeta:t,fatal:!1,error:e,err:e,reason:n}))},n.handleFlushResult=function(e,t){var n=this;e.forEach((function(e){n.handleTransmuxComplete(e)})),this.onFlush(t)},n.onWorkerMessage=function(e){var t=e.data,n=this.hls;switch(t.event){case"init":var r,i=null==(r=this.workerContext)?void 0:r.objectURL;i&&self.URL.revokeObjectURL(i);break;case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;case"workerLog":w[t.data.logType]&&w[t.data.logType](t.data.message);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,n.trigger(t.event,t.data)}},n.configureTransmuxer=function(e){var t=this.transmuxer;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):t&&t.configure(e)},n.handleTransmuxComplete=function(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)},t}();function Ei(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Ti(e[n].attrs,t[n].attrs))return!1;return!0}function Ti(e,t,n){var r=e["STABLE-RENDITION-ID"];return r&&!n?r===t["STABLE-RENDITION-ID"]:!(n||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some((function(n){return e[n]!==t[n]}))}function _i(e,t){return t.label.toLowerCase()===e.name.toLowerCase()&&(!t.language||t.language.toLowerCase()===(e.lang||"").toLowerCase())}var Ai=function(e){function t(t,n,r){var i;return(i=e.call(this,t,n,r,"[audio-stream-controller]",At)||this).videoBuffer=null,i.videoTrackCC=-1,i.waitingVideoCC=-1,i.bufferedTrack=null,i.switchingTrack=null,i.trackId=-1,i.waitingData=null,i.mainDetails=null,i.flushing=!1,i.bufferFlushed=!1,i.cachedTrackLoadedData=null,i._registerListeners(),i}l(t,e);var n=t.prototype;return n.onHandlerDestroying=function(){this._unregisterListeners(),e.prototype.onHandlerDestroying.call(this),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null},n._registerListeners=function(){var e=this.hls;e.on(b.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(b.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(b.MANIFEST_LOADING,this.onManifestLoading,this),e.on(b.LEVEL_LOADED,this.onLevelLoaded,this),e.on(b.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(b.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(b.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(b.ERROR,this.onError,this),e.on(b.BUFFER_RESET,this.onBufferReset,this),e.on(b.BUFFER_CREATED,this.onBufferCreated,this),e.on(b.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(b.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(b.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(b.FRAG_BUFFERED,this.onFragBuffered,this)},n._unregisterListeners=function(){var e=this.hls;e.off(b.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(b.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(b.MANIFEST_LOADING,this.onManifestLoading,this),e.off(b.LEVEL_LOADED,this.onLevelLoaded,this),e.off(b.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(b.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(b.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(b.ERROR,this.onError,this),e.off(b.BUFFER_RESET,this.onBufferReset,this),e.off(b.BUFFER_CREATED,this.onBufferCreated,this),e.off(b.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(b.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(b.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(b.FRAG_BUFFERED,this.onFragBuffered,this)},n.onInitPtsFound=function(e,t){var n=t.frag,r=t.id,i=t.initPTS,a=t.timescale;if("main"===r){var o=n.cc;this.initPTS[n.cc]={baseTime:i,timescale:a},this.log("InitPTS for cc: "+o+" found from main: "+i),this.videoTrackCC=o,this.state===ar&&this.tick()}},n.startLoad=function(e){if(!this.levels)return this.startPosition=e,void(this.state=qn);var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),t>0&&-1===e?(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t,this.state=Xn):(this.loadedmetadata=!1,this.state=er),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()},n.doTick=function(){switch(this.state){case Xn:this.doTickIdle();break;case er:var t,n=this.levels,r=this.trackId,i=null==n||null==(t=n[r])?void 0:t.details;if(i){if(this.waitForCdnTuneIn(i))break;this.state=ar}break;case $n:var a,o=performance.now(),s=this.retryDate;if(!s||o>=s||null!=(a=this.media)&&a.seeking){var l=this.levels,u=this.trackId;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((null==l?void 0:l[u])||null),this.state=Xn}break;case ar:var c=this.waitingData;if(c){var d=c.frag,p=c.part,f=c.cache,h=c.complete;if(void 0!==this.initPTS[d.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=Jn;var y={frag:d,part:p,payload:f.flush(),networkDetails:null};this._handleFragmentLoadProgress(y),h&&e.prototype._handleFragmentLoadComplete.call(this,y)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc ("+d.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var g=this.getLoadPosition(),v=Ln.bufferInfo(this.mediaBuffer,g,this.config.maxBufferHole);cn(v.end,this.config.maxFragLookUpTolerance,d)<0&&(this.log("Waiting fragment cc ("+d.cc+") @ "+d.start+" cancelled because another fragment at "+v.end+" is needed"),this.clearWaitingFragment())}}else this.state=Xn}this.onTickEnd()},n.clearWaitingFragment=function(){var e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=Xn)},n.resetLoadingState=function(){this.clearWaitingFragment(),e.prototype.resetLoadingState.call(this)},n.onTickEnd=function(){var e=this.media;null!=e&&e.readyState&&(this.lastCurrentTime=e.currentTime)},n.doTickIdle=function(){var e=this.hls,t=this.levels,n=this.media,r=this.trackId,i=e.config;if((n||!this.startFragRequested&&i.startFragPrefetch)&&null!=t&&t[r]){var a=t[r],o=a.details;if(!o||o.live&&this.levelLastLoaded!==a||this.waitForCdnTuneIn(o))this.state=er;else{var s=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&s&&(this.bufferFlushed=!1,this.afterBufferFlushed(s,O,At));var l=this.getFwdBufferInfo(s,At);if(null!==l){var u=this.bufferedTrack,c=this.switchingTrack;if(!c&&this._streamEnded(l,o))return e.trigger(b.BUFFER_EOS,{type:"audio"}),void(this.state=rr);var d=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,_t),p=l.len,f=this.getMaxBufferLength(null==d?void 0:d.len),h=o.fragments,y=h[0].start,g=this.flushing?this.getLoadPosition():l.end;if(c&&n){var v=this.getLoadPosition();u&&!Ti(c.attrs,u.attrs)&&(g=v),o.PTSKnown&&v<y&&(l.end>y||l.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),n.currentTime=y+.05)}if(!(p>=f&&!c&&g<h[h.length-1].start)){var m=this.getNextFragment(g,o),k=!1;if(m&&this.isLoopLoading(m,g)&&(k=!!m.gap,m=this.getNextFragmentLoopLoading(m,o,l,_t,f)),m){var E=d&&m.start>d.end+o.targetduration;if(E||(null==d||!d.len)&&l.len){var T=this.getAppendedFrag(m.start,_t);if(null===T)return;if(k||(k=!!T.gap||!!E&&0===d.len),E&&!k||k&&l.nextStart&&l.nextStart<T.end)return}this.loadFragment(m,a,g)}else this.bufferFlushed=!0}}}}},n.getMaxBufferLength=function(t){var n=e.prototype.getMaxBufferLength.call(this);return t?Math.min(Math.max(n,t),this.config.maxMaxBufferLength):n},n.onMediaDetaching=function(){this.videoBuffer=null,this.bufferFlushed=this.flushing=!1,e.prototype.onMediaDetaching.call(this)},n.onAudioTracksUpdated=function(e,t){var n=t.audioTracks;this.resetTransmuxer(),this.levels=n.map((function(e){return new Wt(e)}))},n.onAudioTrackSwitching=function(e,t){var n=!!t.url;this.trackId=t.id;var r=this.fragCurrent;r&&(r.abortRequests(),this.removeUnbufferedFrags(r.start)),this.resetLoadingState(),n?this.setInterval(100):this.resetTransmuxer(),n?(this.switchingTrack=t,this.state=Xn,this.flushAudioIfNeeded(t)):(this.switchingTrack=null,this.bufferedTrack=t,this.state=qn),this.tick()},n.onManifestLoading=function(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=this.flushing=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1},n.onLevelLoaded=function(e,t){this.mainDetails=t.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(b.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)},n.onAudioTrackLoaded=function(e,t){var n;if(null!=this.mainDetails){var r=this.levels,i=t.details,a=t.id;if(r){this.log("Audio track "+a+" loaded ["+i.startSN+","+i.endSN+"]"+(i.lastPartSn?"[part-"+i.lastPartSn+"-"+i.lastPartIndex+"]":"")+",duration:"+i.totalduration);var o=r[a],s=0;if(i.live||null!=(n=o.details)&&n.live){this.checkLiveUpdate(i);var l,u=this.mainDetails;if(i.deltaUpdateFailed||!u)return;!o.details&&i.hasProgramDateTime&&u.hasProgramDateTime?(Fn(i,u),s=i.fragments[0].start):s=this.alignPlaylists(i,o.details,null==(l=this.levelLastLoaded)?void 0:l.details)}o.details=i,this.levelLastLoaded=o,this.startFragRequested||!this.mainDetails&&i.live||this.setStartPosition(this.mainDetails||i,s),this.state!==er||this.waitForCdnTuneIn(i)||(this.state=Xn),this.tick()}else this.warn("Audio tracks were reset while loading level "+a)}else this.cachedTrackLoadedData=t},n._handleFragmentLoadProgress=function(e){var t,n=e.frag,r=e.part,i=e.payload,a=this.config,o=this.trackId,s=this.levels;if(s){var l=s[o];if(l){var u=l.details;if(!u)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(n.start);var c=a.defaultAudioCodec||l.audioCodec||"mp4a.40.2",d=this.transmuxer;d||(d=this.transmuxer=new ki(this.hls,At,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var p=this.initPTS[n.cc],f=null==(t=n.initSegment)?void 0:t.data;if(void 0!==p){var h=r?r.index:-1,y=-1!==h,g=new Mn(n.level,n.sn,n.stats.chunkCount,i.byteLength,h,y);d.push(i,f,c,"",n,r,u.totalduration,!1,g,p)}else this.log("Unknown video PTS for cc "+n.cc+", waiting for video PTS before demuxing audio frag "+n.sn+" of ["+u.startSN+" ,"+u.endSN+"],track "+o),(this.waitingData=this.waitingData||{frag:n,part:r,cache:new lr,complete:!1}).cache.push(new Uint8Array(i)),this.waitingVideoCC=this.videoTrackCC,this.state=ar}else this.warn("Audio track is undefined on fragment load progress")}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+n.sn+" of level "+n.level+" will not be buffered")},n._handleFragmentLoadComplete=function(t){this.waitingData?this.waitingData.complete=!0:e.prototype._handleFragmentLoadComplete.call(this,t)},n.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},n.onBufferCreated=function(e,t){var n=t.tracks.audio;n&&(this.mediaBuffer=n.buffer||null),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer||null)},n.onFragBuffered=function(e,t){var n=t.frag,i=t.part;if(n.type===At)if(this.fragContextChanged(n))this.warn("Fragment "+n.sn+(i?" p: "+i.index:"")+" of level "+n.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+(this.switchingTrack?this.switchingTrack.name:"false"));else{if("initSegment"!==n.sn){this.fragPrevious=n;var a=this.switchingTrack;a&&(this.bufferedTrack=a,this.switchingTrack=null,this.hls.trigger(b.AUDIO_TRACK_SWITCHED,r({},a)))}this.fragBufferedComplete(n,i)}else if(!this.loadedmetadata&&n.type===_t){var o=this.videoBuffer||this.media;o&&Ln.getBuffered(o).length&&(this.loadedmetadata=!0)}},n.onError=function(t,n){var r;if(n.fatal)this.state=ir;else switch(n.details){case E.FRAG_GAP:case E.FRAG_PARSING_ERROR:case E.FRAG_DECRYPT_ERROR:case E.FRAG_LOAD_ERROR:case E.FRAG_LOAD_TIMEOUT:case E.KEY_LOAD_ERROR:case E.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(At,n);break;case E.AUDIO_TRACK_LOAD_ERROR:case E.AUDIO_TRACK_LOAD_TIMEOUT:case E.LEVEL_PARSING_ERROR:n.levelRetry||this.state!==er||(null==(r=n.context)?void 0:r.type)!==Et||(this.state=Xn);break;case E.BUFFER_APPEND_ERROR:case E.BUFFER_FULL_ERROR:if(!n.parent||"audio"!==n.parent)return;if(n.details===E.BUFFER_APPEND_ERROR)return void this.resetLoadingState();this.reduceLengthAndFlushBuffer(n)&&(this.bufferedTrack=null,e.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio"));break;case E.INTERNAL_EXCEPTION:this.recoverWorkerError(n)}},n.onBufferFlushing=function(e,t){t.type!==L&&(this.flushing=!0)},n.onBufferFlushed=function(e,t){var n=t.type;if(n!==L){this.flushing=!1,this.bufferFlushed=!0,this.state===rr&&(this.state=Xn);var r=this.mediaBuffer||this.media;r&&(this.afterBufferFlushed(r,n,At),this.tick())}},n._handleTransmuxComplete=function(e){var t,n="audio",r=this.hls,i=e.remuxResult,a=e.chunkMeta,o=this.getCurrentContext(a);if(o){var l=o.frag,u=o.part,c=o.level,d=c.details,p=i.audio,f=i.text,h=i.id3,y=i.initSegment;if(!this.fragContextChanged(l)&&d){if(this.state=tr,this.switchingTrack&&p&&this.completeAudioSwitch(this.switchingTrack),null!=y&&y.tracks){var g=l.initSegment||l;this._bufferInitSegment(c,y.tracks,g,a),r.trigger(b.FRAG_PARSING_INIT_SEGMENT,{frag:g,id:n,tracks:y.tracks})}if(p){var v=p.startPTS,m=p.endPTS,k=p.startDTS,E=p.endDTS;u&&(u.elementaryStreams[O]={startPTS:v,endPTS:m,startDTS:k,endDTS:E}),l.setElementaryStreamInfo(O,v,m,k,E),this.bufferFragmentData(p,l,u,a)}if(null!=h&&null!=(t=h.samples)&&t.length){var T=s({id:n,frag:l,details:d},h);r.trigger(b.FRAG_PARSING_METADATA,T)}if(f){var _=s({id:n,frag:l,details:d},f);r.trigger(b.FRAG_PARSING_USERDATA,_)}}else this.fragmentTracker.removeFragment(l)}else this.resetWhenMissingContext(a)},n._bufferInitSegment=function(e,t,n,r){if(this.state===tr){t.video&&delete t.video;var i=t.audio;if(i){i.id="audio";var a=e.audioCodec;this.log("Init audio buffer, container:"+i.container+", codecs[level/parsed]=["+a+"/"+i.codec+"]"),a&&1===a.split(",").length&&(i.levelCodec=a),this.hls.trigger(b.BUFFER_CODECS,t);var o=i.initSegment;if(null!=o&&o.byteLength){var s={type:"audio",frag:n,part:null,chunkMeta:r,parent:n.type,data:o};this.hls.trigger(b.BUFFER_APPENDING,s)}this.tickImmediate()}}},n.loadFragment=function(t,n,r){var i,a=this.fragmentTracker.getState(t);if(this.fragCurrent=t,this.switchingTrack||a===wn||a===xn)if("initSegment"===t.sn)this._loadInitSegment(t,n);else if(null!=(i=n.details)&&i.live&&!this.initPTS[t.cc]){this.log("Waiting for video PTS in continuity counter "+t.cc+" of live stream before loading audio fragment "+t.sn+" of level "+this.trackId),this.state=ar;var o=this.mainDetails;o&&o.fragments[0].start!==n.details.fragments[0].start&&Fn(n.details,o)}else this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,n,r);else this.clearTrackerIfNeeded(t)},n.flushAudioIfNeeded=function(t){var n=this.media,r=this.bufferedTrack,i=null==r?void 0:r.attrs,a=t.attrs;n&&i&&(i.CHANNELS!==a.CHANNELS||r.name!==t.name||r.lang!==t.lang)&&(this.log("Switching audio track : flushing all audio"),e.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null)},n.completeAudioSwitch=function(e){var t=this.hls;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,t.trigger(b.AUDIO_TRACK_SWITCHED,r({},e))},t}(sr),Si=function(e){function t(t){var n;return(n=e.call(this,t,"[audio-track-controller]")||this).tracks=[],n.groupIds=null,n.tracksInGroup=[],n.trackId=-1,n.currentTrack=null,n.selectDefaultTrack=!0,n.registerListeners(),n}l(t,e);var n=t.prototype;return n.registerListeners=function(){var e=this.hls;e.on(b.MANIFEST_LOADING,this.onManifestLoading,this),e.on(b.MANIFEST_PARSED,this.onManifestParsed,this),e.on(b.LEVEL_LOADING,this.onLevelLoading,this),e.on(b.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(b.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(b.ERROR,this.onError,this)},n.unregisterListeners=function(){var e=this.hls;e.off(b.MANIFEST_LOADING,this.onManifestLoading,this),e.off(b.MANIFEST_PARSED,this.onManifestParsed,this),e.off(b.LEVEL_LOADING,this.onLevelLoading,this),e.off(b.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(b.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(b.ERROR,this.onError,this)},n.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,e.prototype.destroy.call(this)},n.onManifestLoading=function(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0},n.onManifestParsed=function(e,t){this.tracks=t.audioTracks||[]},n.onAudioTrackLoaded=function(e,t){var n=t.id,r=t.groupId,i=t.details,a=this.tracksInGroup[n];if(a&&a.groupId===r){var o=a.details;a.details=t.details,this.log("Audio track "+n+' "'+a.name+'" lang:'+a.lang+" group:"+r+" loaded ["+i.startSN+"-"+i.endSN+"]"),n===this.trackId&&this.playlistLoaded(n,t,o)}else this.warn("Audio track with id:"+n+" and group:"+r+" not found in active group "+(null==a?void 0:a.groupId))},n.onLevelLoading=function(e,t){this.switchLevel(t.level)},n.onLevelSwitching=function(e,t){this.switchLevel(t.level)},n.switchLevel=function(e){var t=this.hls.levels[e];if(t){var n=t.audioGroups||null,r=this.groupIds,i=this.currentTrack;if(!n||(null==r?void 0:r.length)!==(null==n?void 0:n.length)||null!=n&&n.some((function(e){return-1===(null==r?void 0:r.indexOf(e))}))){this.groupIds=n,this.trackId=-1,this.currentTrack=null;var a=this.tracks.filter((function(e){return!n||-1!==n.indexOf(e.groupId)}));if(a.length)this.selectDefaultTrack&&!a.some((function(e){return e.default}))&&(this.selectDefaultTrack=!1),a.forEach((function(e,t){e.id=t}));else if(!i&&!this.tracksInGroup.length)return;this.tracksInGroup=a;var o=this.hls.config.audioPreference;if(!i&&o){var s=kn(o,a,Tn);if(s>-1)i=a[s];else{var l=kn(o,this.tracks);i=this.tracks[l]}}var u=this.findTrackId(i);-1===u&&i&&(u=this.findTrackId(null));var c={audioTracks:a};this.log("Updating audio tracks, "+a.length+" track(s) found in group(s): "+(null==n?void 0:n.join(","))),this.hls.trigger(b.AUDIO_TRACKS_UPDATED,c);var d=this.trackId;if(-1!==u&&-1===d)this.setAudioTrack(u);else if(a.length&&-1===d){var p,f=new Error("No audio track selected for current audio group-ID(s): "+(null==(p=this.groupIds)?void 0:p.join(","))+" track count: "+a.length);this.warn(f.message),this.hls.trigger(b.ERROR,{type:k.MEDIA_ERROR,details:E.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:f})}}else this.shouldReloadPlaylist(i)&&this.setAudioTrack(this.trackId)}},n.onError=function(e,t){!t.fatal&&t.context&&(t.context.type!==Et||t.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(t.context.groupId)||(this.requestScheduled=-1,this.checkRetry(t)))},n.setAudioOption=function(e){var t=this.hls;if(t.config.audioPreference=e,e){var n=this.allAudioTracks;if(this.selectDefaultTrack=!1,n.length){var r=this.currentTrack;if(r&&En(e,r,Tn))return r;var i=kn(e,this.tracksInGroup,Tn);if(i>-1){var a=this.tracksInGroup[i];return this.setAudioTrack(i),a}if(r){var o=t.loadLevel;-1===o&&(o=t.firstAutoLevel);var s=function(e,t,n,r,i){var a=t[r],o=t.reduce((function(e,t,n){var r=t.uri;return(e[r]||(e[r]=[])).push(n),e}),{})[a.uri];o.length>1&&(r=Math.max.apply(Math,o));var s=a.videoRange,l=a.frameRate,u=a.codecSet.substring(0,4),c=_n(t,r,(function(t){if(t.videoRange!==s||t.frameRate!==l||t.codecSet.substring(0,4)!==u)return!1;var r=t.audioGroups,a=n.filter((function(e){return!r||-1!==r.indexOf(e.groupId)}));return kn(e,a,i)>-1}));return c>-1?c:_n(t,r,(function(t){var r=t.audioGroups,a=n.filter((function(e){return!r||-1!==r.indexOf(e.groupId)}));return kn(e,a,i)>-1}))}(e,t.levels,n,o,Tn);if(-1===s)return null;t.nextLoadLevel=s}if(e.channels||e.audioCodec){var l=kn(e,n);if(l>-1)return n[l]}}}return null},n.setAudioTrack=function(e){var t=this.tracksInGroup;if(e<0||e>=t.length)this.warn("Invalid audio track id: "+e);else{this.clearTimer(),this.selectDefaultTrack=!1;var n=this.currentTrack,i=t[e],a=i.details&&!i.details.live;if(!(e===this.trackId&&i===n&&a||(this.log("Switching to audio-track "+e+' "'+i.name+'" lang:'+i.lang+" group:"+i.groupId+" channels:"+i.channels),this.trackId=e,this.currentTrack=i,this.hls.trigger(b.AUDIO_TRACK_SWITCHING,r({},i)),a))){var o=this.switchParams(i.url,null==n?void 0:n.details,i.details);this.loadPlaylist(o)}}},n.findTrackId=function(e){for(var t=this.tracksInGroup,n=0;n<t.length;n++){var r=t[n];if((!this.selectDefaultTrack||r.default)&&(!e||En(e,r,Tn)))return n}if(e){for(var i=e.name,a=e.lang,o=e.assocLang,s=e.characteristics,l=e.audioCodec,u=e.channels,c=0;c<t.length;c++)if(En({name:i,lang:a,assocLang:o,characteristics:s,audioCodec:l,channels:u},t[c],Tn))return c;for(var d=0;d<t.length;d++){var p=t[d];if(Ti(e.attrs,p.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return d}for(var f=0;f<t.length;f++){var h=t[f];if(Ti(e.attrs,h.attrs,["LANGUAGE"]))return f}}return-1},n.loadPlaylist=function(t){var n=this.currentTrack;if(this.shouldLoadPlaylist(n)&&n){e.prototype.loadPlaylist.call(this);var r=n.id,i=n.groupId,a=n.url;if(t)try{a=t.addDirectives(a)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: "+e)}this.log("loading audio-track playlist "+r+' "'+n.name+'" lang:'+n.lang+" group:"+i),this.clearTimer(),this.hls.trigger(b.AUDIO_TRACK_LOADING,{url:a,id:r,groupId:i,deliveryDirectives:t||null})}},o(t,[{key:"allAudioTracks",get:function(){return this.tracks}},{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}}]),t}(fn),wi=function(e){function t(t,n,r){var i;return(i=e.call(this,t,n,r,"[subtitle-stream-controller]",St)||this).currentTrackId=-1,i.tracksBuffered=[],i.mainDetails=null,i._registerListeners(),i}l(t,e);var n=t.prototype;return n.onHandlerDestroying=function(){this._unregisterListeners(),e.prototype.onHandlerDestroying.call(this),this.mainDetails=null},n._registerListeners=function(){var e=this.hls;e.on(b.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(b.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(b.MANIFEST_LOADING,this.onManifestLoading,this),e.on(b.LEVEL_LOADED,this.onLevelLoaded,this),e.on(b.ERROR,this.onError,this),e.on(b.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(b.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(b.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(b.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(b.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(b.FRAG_BUFFERED,this.onFragBuffered,this)},n._unregisterListeners=function(){var e=this.hls;e.off(b.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(b.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(b.MANIFEST_LOADING,this.onManifestLoading,this),e.off(b.LEVEL_LOADED,this.onLevelLoaded,this),e.off(b.ERROR,this.onError,this),e.off(b.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(b.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(b.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(b.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(b.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(b.FRAG_BUFFERED,this.onFragBuffered,this)},n.startLoad=function(e){this.stopLoad(),this.state=Xn,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()},n.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},n.onMediaDetaching=function(){this.tracksBuffered=[],e.prototype.onMediaDetaching.call(this)},n.onLevelLoaded=function(e,t){this.mainDetails=t.details},n.onSubtitleFragProcessed=function(e,t){var n=t.frag,r=t.success;if(this.fragPrevious=n,this.state=Xn,r){var i=this.tracksBuffered[this.currentTrackId];if(i){for(var a,o=n.start,s=0;s<i.length;s++)if(o>=i[s].start&&o<=i[s].end){a=i[s];break}var l=n.start+n.duration;a?a.end=l:(a={start:o,end:l},i.push(a)),this.fragmentTracker.fragBuffered(n),this.fragBufferedComplete(n,null)}}},n.onBufferFlushing=function(e,t){var n=t.startOffset,r=t.endOffset;if(0===n&&r!==Number.POSITIVE_INFINITY){var i=r-1;if(i<=0)return;t.endOffsetSubtitles=Math.max(0,i),this.tracksBuffered.forEach((function(e){for(var t=0;t<e.length;)if(e[t].end<=i)e.shift();else{if(!(e[t].start<i))break;e[t].start=i,t++}})),this.fragmentTracker.removeFragmentsInRange(n,i,St)}},n.onFragBuffered=function(e,t){var n;this.loadedmetadata||t.frag.type!==_t||null!=(n=this.media)&&n.buffered.length&&(this.loadedmetadata=!0)},n.onError=function(e,t){var n=t.frag;(null==n?void 0:n.type)===St&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==qn&&(this.state=Xn))},n.onSubtitleTracksUpdated=function(e,t){var n=this,r=t.subtitleTracks;this.levels&&Ei(this.levels,r)?this.levels=r.map((function(e){return new Wt(e)})):(this.tracksBuffered=[],this.levels=r.map((function(e){var t=new Wt(e);return n.tracksBuffered[t.id]=[],t})),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,St),this.fragPrevious=null,this.mediaBuffer=null)},n.onSubtitleTrackSwitch=function(e,t){var n;if(this.currentTrackId=t.id,null!=(n=this.levels)&&n.length&&-1!==this.currentTrackId){var r=this.levels[this.currentTrackId];null!=r&&r.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,r&&this.setInterval(500)}else this.clearInterval()},n.onSubtitleTrackLoaded=function(e,t){var n,r=this.currentTrackId,i=this.levels,a=t.details,o=t.id;if(i){var s=i[r];if(!(o>=i.length||o!==r)&&s){this.log("Subtitle track "+o+" loaded ["+a.startSN+","+a.endSN+"]"+(a.lastPartSn?"[part-"+a.lastPartSn+"-"+a.lastPartIndex+"]":"")+",duration:"+a.totalduration),this.mediaBuffer=this.mediaBufferTimeRanges;var l=0;if(a.live||null!=(n=s.details)&&n.live){var u=this.mainDetails;if(a.deltaUpdateFailed||!u)return;var c,d=u.fragments[0];s.details?0===(l=this.alignPlaylists(a,s.details,null==(c=this.levelLastLoaded)?void 0:c.details))&&d&&Jt(a,l=d.start):a.hasProgramDateTime&&u.hasProgramDateTime?(Fn(a,u),l=a.fragments[0].start):d&&Jt(a,l=d.start)}s.details=a,this.levelLastLoaded=s,this.startFragRequested||!this.mainDetails&&a.live||this.setStartPosition(this.mainDetails||a,l),this.tick(),a.live&&!this.fragCurrent&&this.media&&this.state===Xn&&(un(null,a.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),s.details=void 0))}}else this.warn("Subtitle tracks were reset while loading level "+o)},n._handleFragmentLoadComplete=function(e){var t=this,n=e.frag,r=e.payload,i=n.decryptdata,a=this.hls;if(!this.fragContextChanged(n)&&r&&r.byteLength>0&&null!=i&&i.key&&i.iv&&"AES-128"===i.method){var o=performance.now();this.decrypter.decrypt(new Uint8Array(r),i.key.buffer,i.iv.buffer).catch((function(e){throw a.trigger(b.ERROR,{type:k.MEDIA_ERROR,details:E.FRAG_DECRYPT_ERROR,fatal:!1,error:e,reason:e.message,frag:n}),e})).then((function(e){var t=performance.now();a.trigger(b.FRAG_DECRYPTED,{frag:n,payload:e,stats:{tstart:o,tdecrypt:t}})})).catch((function(e){t.warn(e.name+": "+e.message),t.state=Xn}))}},n.doTick=function(){if(this.media){if(this.state===Xn){var e=this.currentTrackId,t=this.levels,n=null==t?void 0:t[e];if(!n||!t.length||!n.details)return;var r=this.config,i=this.getLoadPosition(),a=Ln.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],i,r.maxBufferHole),o=a.end,s=a.len,l=this.getFwdBufferInfo(this.media,_t),u=n.details;if(s>this.getMaxBufferLength(null==l?void 0:l.len)+u.levelTargetDuration)return;var c=u.fragments,d=c.length,p=u.edge,f=null,h=this.fragPrevious;if(o<p){var y=r.maxFragLookUpTolerance,g=o>p-y?0:y;!(f=un(h,c,Math.max(c[0].start,o),g))&&h&&h.start<c[0].start&&(f=c[0])}else f=c[d-1];if(!f)return;if("initSegment"!==(f=this.mapToInitFragWhenRequired(f)).sn){var v=c[f.sn-u.startSN-1];v&&v.cc===f.cc&&this.fragmentTracker.getState(v)===wn&&(f=v)}this.fragmentTracker.getState(f)===wn&&this.loadFragment(f,n,o)}}else this.state=Xn},n.getMaxBufferLength=function(t){var n=e.prototype.getMaxBufferLength.call(this);return t?Math.max(n,t):n},n.loadFragment=function(t,n,r){this.fragCurrent=t,"initSegment"===t.sn?this._loadInitSegment(t,n):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,n,r))},o(t,[{key:"mediaBufferTimeRanges",get:function(){return new Ci(this.tracksBuffered[this.currentTrackId]||[])}}]),t}(sr),Ci=function(e){this.buffered=void 0;var t=function(t,n,r){if((n>>>=0)>r-1)throw new DOMException("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+n+") is greater than the maximum bound ("+r+")");return e[n][t]};this.buffered={get length(){return e.length},end:function(n){return t("end",n,e.length)},start:function(n){return t("start",n,e.length)}}},xi=function(e){function t(t){var n;return(n=e.call(this,t,"[subtitle-track-controller]")||this).media=null,n.tracks=[],n.groupIds=null,n.tracksInGroup=[],n.trackId=-1,n.currentTrack=null,n.selectDefaultTrack=!0,n.queuedDefaultTrack=-1,n.asyncPollTrackChange=function(){return n.pollTrackChange(0)},n.useTextTrackPolling=!1,n.subtitlePollingInterval=-1,n._subtitleDisplay=!0,n.onTextTracksChanged=function(){if(n.useTextTrackPolling||self.clearInterval(n.subtitlePollingInterval),n.media&&n.hls.config.renderTextTracksNatively){for(var e=null,t=Ot(n.media.textTracks),r=0;r<t.length;r++)if("hidden"===t[r].mode)e=t[r];else if("showing"===t[r].mode){e=t[r];break}var i=n.findTrackForTextTrack(e);n.subtitleTrack!==i&&n.setSubtitleTrack(i)}},n.registerListeners(),n}l(t,e);var n=t.prototype;return n.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,e.prototype.destroy.call(this)},n.registerListeners=function(){var e=this.hls;e.on(b.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(b.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(b.MANIFEST_LOADING,this.onManifestLoading,this),e.on(b.MANIFEST_PARSED,this.onManifestParsed,this),e.on(b.LEVEL_LOADING,this.onLevelLoading,this),e.on(b.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(b.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(b.ERROR,this.onError,this)},n.unregisterListeners=function(){var e=this.hls;e.off(b.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(b.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(b.MANIFEST_LOADING,this.onManifestLoading,this),e.off(b.MANIFEST_PARSED,this.onManifestParsed,this),e.off(b.LEVEL_LOADING,this.onLevelLoading,this),e.off(b.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(b.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(b.ERROR,this.onError,this)},n.onMediaAttached=function(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},n.pollTrackChange=function(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)},n.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),Ot(this.media.textTracks).forEach((function(e){It(e)})),this.subtitleTrack=-1,this.media=null)},n.onManifestLoading=function(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0},n.onManifestParsed=function(e,t){this.tracks=t.subtitleTracks},n.onSubtitleTrackLoaded=function(e,t){var n=t.id,r=t.groupId,i=t.details,a=this.tracksInGroup[n];if(a&&a.groupId===r){var o=a.details;a.details=t.details,this.log("Subtitle track "+n+' "'+a.name+'" lang:'+a.lang+" group:"+r+" loaded ["+i.startSN+"-"+i.endSN+"]"),n===this.trackId&&this.playlistLoaded(n,t,o)}else this.warn("Subtitle track with id:"+n+" and group:"+r+" not found in active group "+(null==a?void 0:a.groupId))},n.onLevelLoading=function(e,t){this.switchLevel(t.level)},n.onLevelSwitching=function(e,t){this.switchLevel(t.level)},n.switchLevel=function(e){var t=this.hls.levels[e];if(t){var n=t.subtitleGroups||null,r=this.groupIds,i=this.currentTrack;if(!n||(null==r?void 0:r.length)!==(null==n?void 0:n.length)||null!=n&&n.some((function(e){return-1===(null==r?void 0:r.indexOf(e))}))){this.groupIds=n,this.trackId=-1,this.currentTrack=null;var a=this.tracks.filter((function(e){return!n||-1!==n.indexOf(e.groupId)}));if(a.length)this.selectDefaultTrack&&!a.some((function(e){return e.default}))&&(this.selectDefaultTrack=!1),a.forEach((function(e,t){e.id=t}));else if(!i&&!this.tracksInGroup.length)return;this.tracksInGroup=a;var o=this.hls.config.subtitlePreference;if(!i&&o){this.selectDefaultTrack=!1;var s=kn(o,a);if(s>-1)i=a[s];else{var l=kn(o,this.tracks);i=this.tracks[l]}}var u=this.findTrackId(i);-1===u&&i&&(u=this.findTrackId(null));var c={subtitleTracks:a};this.log("Updating subtitle tracks, "+a.length+' track(s) found in "'+(null==n?void 0:n.join(","))+'" group-id'),this.hls.trigger(b.SUBTITLE_TRACKS_UPDATED,c),-1!==u&&-1===this.trackId&&this.setSubtitleTrack(u)}else this.shouldReloadPlaylist(i)&&this.setSubtitleTrack(this.trackId)}},n.findTrackId=function(e){for(var t=this.tracksInGroup,n=this.selectDefaultTrack,r=0;r<t.length;r++){var i=t[r];if((!n||i.default)&&(n||e)&&(!e||En(i,e)))return r}if(e){for(var a=0;a<t.length;a++){var o=t[a];if(Ti(e.attrs,o.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return a}for(var s=0;s<t.length;s++){var l=t[s];if(Ti(e.attrs,l.attrs,["LANGUAGE"]))return s}}return-1},n.findTrackForTextTrack=function(e){if(e)for(var t=this.tracksInGroup,n=0;n<t.length;n++)if(_i(t[n],e))return n;return-1},n.onError=function(e,t){!t.fatal&&t.context&&(t.context.type!==Tt||t.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(t.context.groupId)||this.checkRetry(t))},n.setSubtitleOption=function(e){if(this.hls.config.subtitlePreference=e,e){var t=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,t.length){var n=this.currentTrack;if(n&&En(e,n))return n;var r=kn(e,this.tracksInGroup);if(r>-1){var i=this.tracksInGroup[r];return this.setSubtitleTrack(r),i}if(n)return null;var a=kn(e,t);if(a>-1)return t[a]}}return null},n.loadPlaylist=function(t){e.prototype.loadPlaylist.call(this);var n=this.currentTrack;if(this.shouldLoadPlaylist(n)&&n){var r=n.id,i=n.groupId,a=n.url;if(t)try{a=t.addDirectives(a)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: "+e)}this.log("Loading subtitle playlist for id "+r),this.hls.trigger(b.SUBTITLE_TRACK_LOADING,{url:a,id:r,groupId:i,deliveryDirectives:t||null})}},n.toggleTrackModes=function(){var e=this.media;if(e){var t,n=Ot(e.textTracks),r=this.currentTrack;if(r&&((t=n.filter((function(e){return _i(r,e)}))[0])||this.warn('Unable to find subtitle TextTrack with name "'+r.name+'" and language "'+r.lang+'"')),[].slice.call(n).forEach((function(e){"disabled"!==e.mode&&e!==t&&(e.mode="disabled")})),t){var i=this.subtitleDisplay?"showing":"hidden";t.mode!==i&&(t.mode=i)}}},n.setSubtitleTrack=function(e){var t=this.tracksInGroup;if(this.media)if(e<-1||e>=t.length||!g(e))this.warn("Invalid subtitle track id: "+e);else{this.clearTimer(),this.selectDefaultTrack=!1;var n=this.currentTrack,r=t[e]||null;if(this.trackId=e,this.currentTrack=r,this.toggleTrackModes(),r){var i=!!r.details&&!r.details.live;if(e!==this.trackId||r!==n||!i){this.log("Switching to subtitle-track "+e+(r?' "'+r.name+'" lang:'+r.lang+" group:"+r.groupId:""));var a=r.id,o=r.groupId,s=void 0===o?"":o,l=r.name,u=r.type,c=r.url;this.hls.trigger(b.SUBTITLE_TRACK_SWITCH,{id:a,groupId:s,name:l,type:u,url:c});var d=this.switchParams(r.url,null==n?void 0:n.details,r.details);this.loadPlaylist(d)}}else this.hls.trigger(b.SUBTITLE_TRACK_SWITCH,{id:e})}else this.queuedDefaultTrack=e},o(t,[{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}},{key:"allSubtitleTracks",get:function(){return this.tracks}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}}]),t}(fn),Pi=function(){function e(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}var t=e.prototype;return t.append=function(e,t,n){var r=this.queues[t];r.push(e),1!==r.length||n||this.executeNext(t)},t.insertAbort=function(e,t){this.queues[t].unshift(e),this.executeNext(t)},t.appendBlocker=function(e){var t,n=new Promise((function(e){t=e})),r={execute:t,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(r,e),n},t.executeNext=function(e){var t=this.queues[e];if(t.length){var n=t[0];try{n.execute()}catch(t){w.warn('[buffer-operation-queue]: Exception executing "'+e+'" SourceBuffer operation: '+t),n.onError(t);var r=this.buffers[e];null!=r&&r.updating||this.shiftAndExecuteNext(e)}}},t.shiftAndExecuteNext=function(e){this.queues[e].shift(),this.executeNext(e)},t.current=function(e){return this.queues[e][0]},e}(),Ri=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,Ii=function(){function e(e){var t=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendSource=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this.log=void 0,this.warn=void 0,this.error=void 0,this._onEndStreaming=function(e){t.hls&&t.hls.pauseBuffering()},this._onStartStreaming=function(e){t.hls&&t.hls.resumeBuffering()},this._onMediaSourceOpen=function(){var e=t.media,n=t.mediaSource;t.log("Media source opened"),e&&(e.removeEventListener("emptied",t._onMediaEmptied),t.updateMediaElementDuration(),t.hls.trigger(b.MEDIA_ATTACHED,{media:e,mediaSource:n})),n&&n.removeEventListener("sourceopen",t._onMediaSourceOpen),t.checkPendingTracks()},this._onMediaSourceClose=function(){t.log("Media source closed")},this._onMediaSourceEnded=function(){t.log("Media source ended")},this._onMediaEmptied=function(){var e=t.mediaSrc,n=t._objectUrl;e!==n&&w.error("Media element src was set while attaching MediaSource ("+n+" > "+e+")")},this.hls=e;var n,r="[buffer-controller]";this.appendSource=(n=qe(e.config.preferManagedMediaSource),"undefined"!=typeof self&&n===self.ManagedMediaSource),this.log=w.log.bind(w,r),this.warn=w.warn.bind(w,r),this.error=w.error.bind(w,r),this._initSourceBuffer(),this.registerListeners()}var t=e.prototype;return t.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},t.destroy=function(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null,this.hls=null},t.registerListeners=function(){var e=this.hls;e.on(b.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(b.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(b.MANIFEST_LOADING,this.onManifestLoading,this),e.on(b.MANIFEST_PARSED,this.onManifestParsed,this),e.on(b.BUFFER_RESET,this.onBufferReset,this),e.on(b.BUFFER_APPENDING,this.onBufferAppending,this),e.on(b.BUFFER_CODECS,this.onBufferCodecs,this),e.on(b.BUFFER_EOS,this.onBufferEos,this),e.on(b.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(b.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(b.FRAG_PARSED,this.onFragParsed,this),e.on(b.FRAG_CHANGED,this.onFragChanged,this)},t.unregisterListeners=function(){var e=this.hls;e.off(b.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(b.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(b.MANIFEST_LOADING,this.onManifestLoading,this),e.off(b.MANIFEST_PARSED,this.onManifestParsed,this),e.off(b.BUFFER_RESET,this.onBufferReset,this),e.off(b.BUFFER_APPENDING,this.onBufferAppending,this),e.off(b.BUFFER_CODECS,this.onBufferCodecs,this),e.off(b.BUFFER_EOS,this.onBufferEos,this),e.off(b.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(b.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(b.FRAG_PARSED,this.onFragParsed,this),e.off(b.FRAG_CHANGED,this.onFragChanged,this)},t._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new Pi(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.appendErrors={audio:0,video:0,audiovideo:0},this.lastMpegAudioChunk=null},t.onManifestLoading=function(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null},t.onManifestParsed=function(e,t){var n=2;(t.audio&&!t.video||!t.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,this.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},t.onMediaAttaching=function(e,t){var n=this.media=t.media,r=qe(this.appendSource);if(n&&r){var i,a=this.mediaSource=new r;this.log("created media source: "+(null==(i=a.constructor)?void 0:i.name)),a.addEventListener("sourceopen",this._onMediaSourceOpen),a.addEventListener("sourceended",this._onMediaSourceEnded),a.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(a.addEventListener("startstreaming",this._onStartStreaming),a.addEventListener("endstreaming",this._onEndStreaming));var o=this._objectUrl=self.URL.createObjectURL(a);if(this.appendSource)try{n.removeAttribute("src");var s=self.ManagedMediaSource;n.disableRemotePlayback=n.disableRemotePlayback||s&&a instanceof s,Di(n),function(e,t){var n=self.document.createElement("source");n.type="video/mp4",n.src=t,e.appendChild(n)}(n,o),n.load()}catch(e){n.src=o}else n.src=o;n.addEventListener("emptied",this._onMediaEmptied)}},t.onMediaDetaching=function(){var e=this.media,t=this.mediaSource,n=this._objectUrl;if(t){if(this.log("media source detaching"),"open"===t.readyState)try{t.endOfStream()}catch(e){this.warn("onMediaDetaching: "+e.message+" while calling endOfStream")}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(t.removeEventListener("startstreaming",this._onStartStreaming),t.removeEventListener("endstreaming",this._onEndStreaming)),e&&(e.removeEventListener("emptied",this._onMediaEmptied),n&&self.URL.revokeObjectURL(n),this.mediaSrc===n?(e.removeAttribute("src"),this.appendSource&&Di(e),e.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(b.MEDIA_DETACHED,void 0)},t.onBufferReset=function(){var e=this;this.getSourceBufferTypes().forEach((function(t){e.resetBuffer(t)})),this._initSourceBuffer()},t.resetBuffer=function(e){var t=this.sourceBuffer[e];try{var n;t&&(this.removeBufferListeners(e),this.sourceBuffer[e]=void 0,null!=(n=this.mediaSource)&&n.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(t))}catch(t){this.warn("onBufferReset "+e,t)}},t.onBufferCodecs=function(e,t){var n=this,r=this.getSourceBufferTypes().length,i=Object.keys(t);if(i.forEach((function(e){if(r){var i=n.tracks[e];if(i&&"function"==typeof i.buffer.changeType){var a,o=t[e],s=o.id,l=o.codec,u=o.levelCodec,c=o.container,d=o.metadata,p=at(i.codec,i.levelCodec),f=null==p?void 0:p.replace(Ri,"$1"),h=at(l,u),y=null==(a=h)?void 0:a.replace(Ri,"$1");if(h&&f!==y){"audio"===e.slice(0,5)&&(h=it(h,n.appendSource));var g=c+";codecs="+h;n.appendChangeType(e,g),n.log("switching codec "+p+" to "+h),n.tracks[e]={buffer:i.buffer,codec:l,container:c,levelCodec:u,metadata:d,id:s}}}}else n.pendingTracks[e]=t[e]})),!r){var a=Math.max(this.bufferCodecEventsExpected-1,0);this.bufferCodecEventsExpected!==a&&(this.log(a+" bufferCodec event(s) expected "+i.join(",")),this.bufferCodecEventsExpected=a),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks()}},t.appendChangeType=function(e,t){var n=this,r=this.operationQueue,i={execute:function(){var i=n.sourceBuffer[e];i&&(n.log("changing "+e+" sourceBuffer type to "+t),i.changeType(t)),r.shiftAndExecuteNext(e)},onStart:function(){},onComplete:function(){},onError:function(t){n.warn("Failed to change "+e+" SourceBuffer type",t)}};r.append(i,e,!!this.pendingTracks[e])},t.onBufferAppending=function(e,t){var n=this,r=this.hls,i=this.operationQueue,a=this.tracks,o=t.data,s=t.type,l=t.frag,u=t.part,c=t.chunkMeta,d=c.buffering[s],p=self.performance.now();d.start=p;var f=l.stats.buffering,h=u?u.stats.buffering:null;0===f.start&&(f.start=p),h&&0===h.start&&(h.start=p);var y=a.audio,g=!1;"audio"===s&&"audio/mpeg"===(null==y?void 0:y.container)&&(g=!this.lastMpegAudioChunk||1===c.id||this.lastMpegAudioChunk.sn!==c.sn,this.lastMpegAudioChunk=c);var v=l.start,m={execute:function(){if(d.executeStart=self.performance.now(),g){var e=n.sourceBuffer[s];if(e){var t=v-e.timestampOffset;Math.abs(t)>=.1&&(n.log("Updating audio SourceBuffer timestampOffset to "+v+" (delta: "+t+") sn: "+l.sn+")"),e.timestampOffset=v)}}n.appendExecutor(o,s)},onStart:function(){},onComplete:function(){var e=self.performance.now();d.executeEnd=d.end=e,0===f.first&&(f.first=e),h&&0===h.first&&(h.first=e);var t=n.sourceBuffer,r={};for(var i in t)r[i]=Ln.getBuffered(t[i]);n.appendErrors[s]=0,"audio"===s||"video"===s?n.appendErrors.audiovideo=0:(n.appendErrors.audio=0,n.appendErrors.video=0),n.hls.trigger(b.BUFFER_APPENDED,{type:s,frag:l,part:u,chunkMeta:c,parent:l.type,timeRanges:r})},onError:function(e){var t={type:k.MEDIA_ERROR,parent:l.type,details:E.BUFFER_APPEND_ERROR,sourceBufferName:s,frag:l,part:u,chunkMeta:c,error:e,err:e,fatal:!1};if(e.code===DOMException.QUOTA_EXCEEDED_ERR)t.details=E.BUFFER_FULL_ERROR;else{var i=++n.appendErrors[s];t.details=E.BUFFER_APPEND_ERROR,n.warn("Failed "+i+"/"+r.config.appendErrorMaxRetry+' times to append segment in "'+s+'" sourceBuffer'),i>=r.config.appendErrorMaxRetry&&(t.fatal=!0)}r.trigger(b.ERROR,t)}};i.append(m,s,!!this.pendingTracks[s])},t.onBufferFlushing=function(e,t){var n=this,r=this.operationQueue,i=function(e){return{execute:n.removeExecutor.bind(n,e,t.startOffset,t.endOffset),onStart:function(){},onComplete:function(){n.hls.trigger(b.BUFFER_FLUSHED,{type:e})},onError:function(t){n.warn("Failed to remove from "+e+" SourceBuffer",t)}}};t.type?r.append(i(t.type),t.type):this.getSourceBufferTypes().forEach((function(e){r.append(i(e),e)}))},t.onFragParsed=function(e,t){var n=this,r=t.frag,i=t.part,a=[],o=i?i.elementaryStreams:r.elementaryStreams;o[M]?a.push("audiovideo"):(o[O]&&a.push("audio"),o[L]&&a.push("video")),0===a.length&&this.warn("Fragments must have at least one ElementaryStreamType set. type: "+r.type+" level: "+r.level+" sn: "+r.sn),this.blockBuffers((function(){var e=self.performance.now();r.stats.buffering.end=e,i&&(i.stats.buffering.end=e);var t=i?i.stats:r.stats;n.hls.trigger(b.FRAG_BUFFERED,{frag:r,part:i,stats:t,id:r.type})}),a)},t.onFragChanged=function(e,t){this.trimBuffers()},t.onBufferEos=function(e,t){var n=this;this.getSourceBufferTypes().reduce((function(e,r){var i=n.sourceBuffer[r];return!i||t.type&&t.type!==r||(i.ending=!0,i.ended||(i.ended=!0,n.log(r+" sourceBuffer now EOS"))),e&&!(i&&!i.ended)}),!0)&&(this.log("Queueing mediaSource.endOfStream()"),this.blockBuffers((function(){n.getSourceBufferTypes().forEach((function(e){var t=n.sourceBuffer[e];t&&(t.ending=!1)}));var e=n.mediaSource;e&&"open"===e.readyState?(n.log("Calling mediaSource.endOfStream()"),e.endOfStream()):e&&n.log("Could not call mediaSource.endOfStream(). mediaSource.readyState: "+e.readyState)})))},t.onLevelUpdated=function(e,t){var n=t.details;n.fragments.length&&(this.details=n,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},t.trimBuffers=function(){var e=this.hls,t=this.details,n=this.media;if(n&&null!==t&&this.getSourceBufferTypes().length){var r=e.config,i=n.currentTime,a=t.levelTargetDuration,o=t.live&&null!==r.liveBackBufferLength?r.liveBackBufferLength:r.backBufferLength;if(g(o)&&o>0){var s=Math.max(o,a),l=Math.floor(i/a)*a-s;this.flushBackBuffer(i,a,l)}if(g(r.frontBufferFlushThreshold)&&r.frontBufferFlushThreshold>0){var u=Math.max(r.maxBufferLength,r.frontBufferFlushThreshold),c=Math.max(u,a),d=Math.floor(i/a)*a+c;this.flushFrontBuffer(i,a,d)}}},t.flushBackBuffer=function(e,t,n){var r=this,i=this.details,a=this.sourceBuffer;this.getSourceBufferTypes().forEach((function(o){var s=a[o];if(s){var l=Ln.getBuffered(s);if(l.length>0&&n>l.start(0)){if(r.hls.trigger(b.BACK_BUFFER_REACHED,{bufferEnd:n}),null!=i&&i.live)r.hls.trigger(b.LIVE_BACK_BUFFER_REACHED,{bufferEnd:n});else if(s.ended&&l.end(l.length-1)-e<2*t)return void r.log("Cannot flush "+o+" back buffer while SourceBuffer is in ended state");r.hls.trigger(b.BUFFER_FLUSHING,{startOffset:0,endOffset:n,type:o})}}}))},t.flushFrontBuffer=function(e,t,n){var r=this,i=this.sourceBuffer;this.getSourceBufferTypes().forEach((function(a){var o=i[a];if(o){var s=Ln.getBuffered(o),l=s.length;if(l<2)return;var u=s.start(l-1),c=s.end(l-1);if(n>u||e>=u&&e<=c)return;if(o.ended&&e-c<2*t)return void r.log("Cannot flush "+a+" front buffer while SourceBuffer is in ended state");r.hls.trigger(b.BUFFER_FLUSHING,{startOffset:u,endOffset:1/0,type:a})}}))},t.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var e=this.details,t=this.hls,n=this.media,r=this.mediaSource,i=e.fragments[0].start+e.totalduration,a=n.duration,o=g(r.duration)?r.duration:0;e.live&&t.config.liveDurationInfinity?(r.duration=1/0,this.updateSeekableRange(e)):(i>o&&i>a||!g(a))&&(this.log("Updating Media Source duration to "+i.toFixed(3)),r.duration=i)}},t.updateSeekableRange=function(e){var t=this.mediaSource,n=e.fragments;if(n.length&&e.live&&null!=t&&t.setLiveSeekableRange){var r=Math.max(0,n[0].start),i=Math.max(r,r+e.totalduration);this.log("Media Source duration is set to "+t.duration+". Setting seekable range to "+r+"-"+i+"."),t.setLiveSeekableRange(r,i)}},t.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.operationQueue,n=this.pendingTracks,r=Object.keys(n).length;if(r&&(!e||2===r||"audiovideo"in n)){this.createSourceBuffers(n),this.pendingTracks={};var i=this.getSourceBufferTypes();if(i.length)this.hls.trigger(b.BUFFER_CREATED,{tracks:this.tracks}),i.forEach((function(e){t.executeNext(e)}));else{var a=new Error("could not create source buffer for media codec(s)");this.hls.trigger(b.ERROR,{type:k.MEDIA_ERROR,details:E.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:a,reason:a.message})}}},t.createSourceBuffers=function(e){var t=this,n=this.sourceBuffer,r=this.mediaSource;if(!r)throw Error("createSourceBuffers called when mediaSource was null");var i=function(i){if(!n[i]){var a,o=e[i];if(!o)throw Error("source buffer exists for track "+i+", however track does not");var s=-1===(null==(a=o.levelCodec)?void 0:a.indexOf(","))?o.levelCodec:o.codec;s&&"audio"===i.slice(0,5)&&(s=it(s,t.appendSource));var l=o.container+";codecs="+s;t.log("creating sourceBuffer("+l+")");try{var u=n[i]=r.addSourceBuffer(l),c=i;t.addBufferListener(c,"updatestart",t._onSBUpdateStart),t.addBufferListener(c,"updateend",t._onSBUpdateEnd),t.addBufferListener(c,"error",t._onSBUpdateError),t.appendSource&&t.addBufferListener(c,"bufferedchange",(function(e,n){var r=n.removedRanges;null!=r&&r.length&&t.hls.trigger(b.BUFFER_FLUSHED,{type:i})})),t.tracks[i]={buffer:u,codec:s,container:o.container,levelCodec:o.levelCodec,metadata:o.metadata,id:o.id}}catch(e){t.error("error while trying to add sourceBuffer: "+e.message),t.hls.trigger(b.ERROR,{type:k.MEDIA_ERROR,details:E.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:e,sourceBufferName:i,mimeType:l})}}};for(var a in e)i(a)},t._onSBUpdateStart=function(e){this.operationQueue.current(e).onStart()},t._onSBUpdateEnd=function(e){var t;if("closed"!==(null==(t=this.mediaSource)?void 0:t.readyState)){var n=this.operationQueue;n.current(e).onComplete(),n.shiftAndExecuteNext(e)}else this.resetBuffer(e)},t._onSBUpdateError=function(e,t){var n,r=new Error(e+" SourceBuffer error. MediaSource readyState: "+(null==(n=this.mediaSource)?void 0:n.readyState));this.error(""+r,t),this.hls.trigger(b.ERROR,{type:k.MEDIA_ERROR,details:E.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:r,fatal:!1});var i=this.operationQueue.current(e);i&&i.onError(r)},t.removeExecutor=function(e,t,n){var r=this.media,i=this.mediaSource,a=this.operationQueue,o=this.sourceBuffer[e];if(!r||!i||!o)return this.warn("Attempting to remove from the "+e+" SourceBuffer, but it does not exist"),void a.shiftAndExecuteNext(e);var s=g(r.duration)?r.duration:1/0,l=g(i.duration)?i.duration:1/0,u=Math.max(0,t),c=Math.min(n,s,l);c>u&&(!o.ending||o.ended)?(o.ended=!1,this.log("Removing ["+u+","+c+"] from the "+e+" SourceBuffer"),o.remove(u,c)):a.shiftAndExecuteNext(e)},t.appendExecutor=function(e,t){var n=this.sourceBuffer[t];if(n)n.ended=!1,n.appendBuffer(e);else if(!this.pendingTracks[t])throw new Error("Attempting to append to the "+t+" SourceBuffer, but it does not exist")},t.blockBuffers=function(e,t){var n=this;if(void 0===t&&(t=this.getSourceBufferTypes()),!t.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(e);var r=this.operationQueue,i=t.map((function(e){return r.appendBlocker(e)}));Promise.all(i).then((function(){e(),t.forEach((function(e){var t=n.sourceBuffer[e];null!=t&&t.updating||r.shiftAndExecuteNext(e)}))}))},t.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},t.addBufferListener=function(e,t,n){var r=this.sourceBuffer[e];if(r){var i=n.bind(this,e);this.listeners[e].push({event:t,listener:i}),r.addEventListener(t,i)}},t.removeBufferListeners=function(e){var t=this.sourceBuffer[e];t&&this.listeners[e].forEach((function(e){t.removeEventListener(e.event,e.listener)}))},o(e,[{key:"mediaSrc",get:function(){var e,t=(null==(e=this.media)?void 0:e.firstChild)||this.media;return null==t?void 0:t.src}}]),e}();function Di(e){var t=e.querySelectorAll("source");[].slice.call(t).forEach((function(t){e.removeChild(t)}))}var Oi={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Li=function(e){var t=e;return Oi.hasOwnProperty(e)&&(t=Oi[e]),String.fromCharCode(t)},Mi=15,Ni=100,Ui={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Bi={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Fi={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},ji={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Hi=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],Vi=function(){function e(){this.time=null,this.verboseLevel=0}return e.prototype.log=function(e,t){if(this.verboseLevel>=e){var n="function"==typeof t?t():t;w.log(this.time+" ["+e+"] "+n)}},e}(),Gi=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},Ki=function(){function e(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}var t=e.prototype;return t.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}},t.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},t.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},t.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),zi=function(){function e(){this.uchar=" ",this.penState=new Ki}var t=e.prototype;return t.reset=function(){this.uchar=" ",this.penState.reset()},t.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},t.setPenState=function(e){this.penState.copy(e)},t.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},t.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},t.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),Wi=function(){function e(e){this.chars=[],this.pos=0,this.currPenState=new Ki,this.cueStartTime=null,this.logger=void 0;for(var t=0;t<Ni;t++)this.chars.push(new zi);this.logger=e}var t=e.prototype;return t.equals=function(e){for(var t=0;t<Ni;t++)if(!this.chars[t].equals(e.chars[t]))return!1;return!0},t.copy=function(e){for(var t=0;t<Ni;t++)this.chars[t].copy(e.chars[t])},t.isEmpty=function(){for(var e=!0,t=0;t<Ni;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},t.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Ni&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Ni)},t.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},t.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.insertChar=function(e){var t=this;e>=144&&this.backSpace();var n=Li(e);this.pos>=Ni?this.logger.log(0,(function(){return"Cannot insert "+e.toString(16)+" ("+n+") at position "+t.pos+". Skipping it!"})):(this.chars[this.pos].setChar(n,this.currPenState),this.moveCursor(1))},t.clearFromPos=function(e){var t;for(t=e;t<Ni;t++)this.chars[t].reset()},t.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.getTextString=function(){for(var e=[],t=!0,n=0;n<Ni;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},t.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),Yi=function(){function e(e){this.rows=[],this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(var t=0;t<Mi;t++)this.rows.push(new Wi(e));this.logger=e}var t=e.prototype;return t.reset=function(){for(var e=0;e<Mi;e++)this.rows[e].clear();this.currRow=14},t.equals=function(e){for(var t=!0,n=0;n<Mi;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<Mi;t++)this.rows[t].copy(e.rows[t])},t.isEmpty=function(){for(var e=!0,t=0;t<Mi;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},t.backSpace=function(){this.rows[this.currRow].backSpace()},t.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.insertChar=function(e){this.rows[this.currRow].insertChar(e)},t.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},t.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},t.setCursor=function(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)},t.setPAC=function(e){this.logger.log(2,(function(){return"pacData = "+JSON.stringify(e)}));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var n=0;n<Mi;n++)this.rows[n].clear();var r=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){var a=i.rows[r].cueStartTime,o=this.logger.time;if(null!==a&&null!==o&&a<o)for(var s=0;s<this.nrRollUpRows;s++)this.rows[t-this.nrRollUpRows+s+1].copy(i.rows[r+s])}}this.currRow=t;var l=this.rows[this.currRow];if(null!==e.indent){var u=e.indent,c=Math.max(u-1,0);l.setCursor(e.indent),e.color=l.chars[c].penState.foreground}var d={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(d)},t.setBkgData=function(e){this.logger.log(2,(function(){return"bkgData = "+JSON.stringify(e)})),this.backSpace(),this.setPen(e),this.insertChar(32)},t.setRollUpRows=function(e){this.nrRollUpRows=e},t.rollUp=function(){var e=this;if(null!==this.nrRollUpRows){this.logger.log(1,(function(){return e.getDisplayText()}));var t=this.currRow+1-this.nrRollUpRows,n=this.rows.splice(t,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),this.logger.log(2,"Rolling up")}else this.logger.log(3,"roll_up but nrRollUpRows not set yet")},t.getDisplayText=function(e){e=e||!1;for(var t=[],n="",r=-1,i=0;i<Mi;i++){var a=this.rows[i].getTextString();a&&(r=i+1,e?t.push("Row "+r+": '"+a+"'"):t.push(a.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n},t.getTextAndFormat=function(){return this.rows},e}(),Zi=function(){function e(e,t,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new Yi(n),this.nonDisplayedMemory=new Yi(n),this.lastOutputScreen=new Yi(n),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}var t=e.prototype;return t.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},t.getHandler=function(){return this.outputFilter},t.setHandler=function(e){this.outputFilter=e},t.setPAC=function(e){this.writeScreen.setPAC(e)},t.setBkgData=function(e){this.writeScreen.setBkgData(e)},t.setMode=function(e){e!==this.mode&&(this.mode=e,this.logger.log(2,(function(){return"MODE="+e})),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},t.insertChars=function(e){for(var t=this,n=0;n<e.length;n++)this.writeScreen.insertChar(e[n]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,(function(){return r+": "+t.writeScreen.getDisplayText(!0)})),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(1,(function(){return"DISPLAYED: "+t.displayedMemory.getDisplayText(!0)})),this.outputDataUpdate())},t.ccRCL=function(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.ccBS=function(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.ccAOF=function(){},t.ccAON=function(){},t.ccDER=function(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.ccRU=function(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},t.ccFON=function(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.ccRDC=function(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.ccTR=function(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")},t.ccRTD=function(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")},t.ccEDM=function(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.ccCR=function(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.ccENM=function(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.ccEOC=function(){var e=this;if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,(function(){return"DISP: "+e.displayedMemory.getDisplayText()}))}this.outputDataUpdate(!0)},t.ccTO=function(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},t.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}this.logger.log(2,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},t.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},t.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),qi=function(){function e(e,t,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory={a:null,b:null},this.logger=void 0;var r=this.logger=new Vi;this.channels=[null,new Zi(e,t,r),new Zi(e+1,n,r)]}var t=e.prototype;return t.getHandler=function(e){return this.channels[e].getHandler()},t.setHandler=function(e,t){this.channels[e].setHandler(t)},t.addData=function(e,t){var n,r,i,a=!1;this.logger.time=e;for(var o=0;o<t.length;o+=2)if(r=127&t[o],i=127&t[o+1],0!==r||0!==i){if(this.logger.log(3,"["+Gi([t[o],t[o+1]])+"] -> ("+Gi([r,i])+")"),(n=this.parseCmd(r,i))||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),!n&&(a=this.parseChars(r,i))){var s=this.currentChannel;s&&s>0?this.channels[s].insertChars(a):this.logger.log(2,"No channel found yet. TEXT-MODE?")}n||a||this.logger.log(2,"Couldn't parse cleaned data "+Gi([r,i])+" orig: "+Gi([t[o],t[o+1]]))}},t.parseCmd=function(e,t){var n=this.cmdHistory;if(!((20===e||28===e||21===e||29===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=33&&t<=35))return!1;if(Qi(e,t,n))return Xi(null,null,n),this.logger.log(3,"Repeated command ("+Gi([e,t])+") is dropped"),!0;var r=20===e||21===e||23===e?1:2,i=this.channels[r];return 20===e||21===e||28===e||29===e?32===t?i.ccRCL():33===t?i.ccBS():34===t?i.ccAOF():35===t?i.ccAON():36===t?i.ccDER():37===t?i.ccRU(2):38===t?i.ccRU(3):39===t?i.ccRU(4):40===t?i.ccFON():41===t?i.ccRDC():42===t?i.ccTR():43===t?i.ccRTD():44===t?i.ccEDM():45===t?i.ccCR():46===t?i.ccENM():47===t&&i.ccEOC():i.ccTO(t-32),Xi(e,t,n),this.currentChannel=r,!0},t.parseMidrow=function(e,t){var n=0;if((17===e||25===e)&&t>=32&&t<=47){if((n=17===e?1:2)!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;var r=this.channels[n];return!!r&&(r.ccMIDROW(t),this.logger.log(3,"MIDROW ("+Gi([e,t])+")"),!0)}return!1},t.parsePAC=function(e,t){var n,r=this.cmdHistory;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127||(16===e||24===e)&&t>=64&&t<=95))return!1;if(Qi(e,t,r))return Xi(null,null,r),!0;var i=e<=23?1:2;n=t>=64&&t<=95?1===i?Ui[e]:Fi[e]:1===i?Bi[e]:ji[e];var a=this.channels[i];return!!a&&(a.setPAC(this.interpretPAC(n,t)),Xi(e,t,r),this.currentChannel=i,!0)},t.interpretPAC=function(e,t){var n,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1==(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r},t.parseChars=function(e,t){var n,r,i=null,a=null;if(e>=25?(n=2,a=e-8):(n=1,a=e),a>=17&&a<=19?(r=17===a?t+80:18===a?t+112:t+144,this.logger.log(2,"Special char '"+Li(r)+"' in channel "+n),i=[r]):e>=32&&e<=127&&(i=0===t?[e]:[e,t]),i){var o=Gi(i);this.logger.log(3,"Char codes =  "+o.join(",")),Xi(e,t,this.cmdHistory)}return i},t.parseBackgroundAttributes=function(e,t){var n;if(!((16===e||24===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=45&&t<=47))return!1;var r={};16===e||24===e?(n=Math.floor((t-32)/2),r.background=Hi[n],t%2==1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0));var i=e<=23?1:2;return this.channels[i].setBkgData(r),Xi(e,t,this.cmdHistory),!0},t.reset=function(){for(var e=0;e<Object.keys(this.channels).length;e++){var t=this.channels[e];t&&t.reset()}this.cmdHistory={a:null,b:null}},t.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++){var n=this.channels[t];n&&n.cueSplitAtTime(e)}},e}();function Xi(e,t,n){n.a=e,n.b=t}function Qi(e,t,n){return n.a===e&&n.b===t}var Ji=function(){function e(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}var t=e.prototype;return t.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},t.newCue=function(e,t,n){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)},t.reset=function(){this.cueRanges=[],this.startTime=null},e}(),$i=function(){if(null!=V&&V.VTTCue)return self.VTTCue;var e=["","lr","rl"],t=["start","middle","end","left","right"];function n(e,t){if("string"!=typeof t)return!1;if(!Array.isArray(e))return!1;var n=t.toLowerCase();return!!~e.indexOf(n)&&n}function r(e){return n(t,e)}function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var o in a)e[o]=a[o]}return e}function a(t,a,o){var s=this,l={enumerable:!0};s.hasBeenReset=!1;var u="",c=!1,d=t,p=a,f=o,h=null,y="",g=!0,v="auto",m="start",b=50,k="middle",E=50,T="middle";Object.defineProperty(s,"id",i({},l,{get:function(){return u},set:function(e){u=""+e}})),Object.defineProperty(s,"pauseOnExit",i({},l,{get:function(){return c},set:function(e){c=!!e}})),Object.defineProperty(s,"startTime",i({},l,{get:function(){return d},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},l,{get:function(){return p},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},l,{get:function(){return f},set:function(e){f=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},l,{get:function(){return h},set:function(e){h=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},l,{get:function(){return y},set:function(t){var r=function(t){return n(e,t)}(t);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");y=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},l,{get:function(){return g},set:function(e){g=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},l,{get:function(){return v},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},l,{get:function(){return m},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},l,{get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},l,{get:function(){return k},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");k=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},l,{get:function(){return E},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");E=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},l,{get:function(){return T},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");T=t,this.hasBeenReset=!0}})),s.displayState=void 0}return a.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},a}(),ea=function(){function e(){}return e.prototype.decode=function(e,t){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))},e}();function ta(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+parseFloat(r||0)}var n=e.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?t(n[2],n[3],0,n[4]):t(n[1],n[2],n[3],n[4]):null}var na=function(){function e(){this.values=Object.create(null)}var t=e.prototype;return t.set=function(e,t){this.get(e)||""===t||(this.values[e]=t)},t.get=function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},t.has=function(e){return e in this.values},t.alt=function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},t.integer=function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},t.percent=function(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){var n=parseFloat(t);if(n>=0&&n<=100)return this.set(e,n),!0}return!1},e}();function ra(e,t,n,r){var i=r?e.split(r):[e];for(var a in i)if("string"==typeof i[a]){var o=i[a].split(n);2===o.length&&t(o[0],o[1])}}var ia=new $i(0,0,""),aa="middle"===ia.align?"middle":"center";function oa(e,t,n){var r=e;function i(){var t=ta(e);if(null===t)throw new Error("Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function a(){e=e.replace(/^\s+/,"")}if(a(),t.startTime=i(),a(),"--\x3e"!==e.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.slice(3),a(),t.endTime=i(),a(),function(e,t){var r=new na;ra(e,(function(e,t){var i;switch(e){case"region":for(var a=n.length-1;a>=0;a--)if(n[a].id===t){r.set(e,n[a].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":i=t.split(","),r.integer(e,i[0]),r.percent(e,i[0])&&r.set("snapToLines",!1),r.alt(e,i[0],["auto"]),2===i.length&&r.alt("lineAlign",i[1],["start",aa,"end"]);break;case"position":i=t.split(","),r.percent(e,i[0]),2===i.length&&r.alt("positionAlign",i[1],["start",aa,"end","line-left","line-right","auto"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start",aa,"end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");var i=r.get("line","auto");"auto"===i&&-1===ia.line&&(i=-1),t.line=i,t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align",aa);var a=r.get("position","auto");"auto"===a&&50===ia.position&&(a="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=a}(e,t)}function sa(e){return e.replace(/<br(?: \/)?>/gi,"\n")}var la=function(){function e(){this.state="INITIAL",this.buffer="",this.decoder=new ea,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var t=e.prototype;return t.parse=function(e){var t=this;function n(){var e=t.buffer,n=0;for(e=sa(e);n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.slice(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.slice(n),r}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var r="";if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var i=(r=n()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(null==i||!i[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var a=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:r=n(),t.state){case"HEADER":/:/.test(r)?ra(r,(function(e,t){}),/:/):r||(t.state="ID");continue;case"NOTE":r||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){t.state="NOTE";break}if(!r)continue;if(t.cue=new $i(0,0,""),t.state="CUE",-1===r.indexOf("--\x3e")){t.cue.id=r;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{oa(r,t.cue,t.regionList)}catch(e){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var o=-1!==r.indexOf("--\x3e");if(!r||o&&(a=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(null===t.cue)continue;t.cue.text&&(t.cue.text+="\n"),t.cue.text+=r;continue;case"BADCUE":r||(t.state="ID")}}}catch(e){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},t.flush=function(){var e=this;try{if((e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state||"BADWEBVTT"===e.state)throw new Error("Malformed WebVTT signature.")}catch(t){e.onparsingerror&&e.onparsingerror(t)}return e.onflush&&e.onflush(),this},e}(),ua=/\r\n|\n\r|\n|\r/g,ca=function(e,t,n){return void 0===n&&(n=0),e.slice(n,n+t.length)===t},da=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()};function pa(e,t,n){return da(e.toString())+da(t.toString())+da(n)}var fa="stpp.ttml.im1t",ha=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,ya=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,ga={left:"start",center:"center",right:"end",start:"start",end:"end"};function va(e,t,n,r){var i=Ce(new Uint8Array(e),["mdat"]);if(0!==i.length){var a,o,l,u=i.map((function(e){return ge(e)})),c=(a=t.baseTime,1,void 0===(o=t.timescale)&&(o=1),void 0===l&&(l=!1),Qr(a,1,1/o,l));try{u.forEach((function(e){return n(function(e,t){var n=(new DOMParser).parseFromString(e,"text/xml").getElementsByTagName("tt")[0];if(!n)throw new Error("Invalid ttml");var r={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},i=Object.keys(r).reduce((function(e,t){return e[t]=n.getAttribute("ttp:"+t)||r[t],e}),{}),a="preserve"!==n.getAttribute("xml:space"),o=ba(ma(n,"styling","style")),l=ba(ma(n,"layout","region")),u=ma(n,"body","[begin]");return[].map.call(u,(function(e){var n=ka(e,a);if(!n||!e.hasAttribute("begin"))return null;var r=_a(e.getAttribute("begin"),i),u=_a(e.getAttribute("dur"),i),c=_a(e.getAttribute("end"),i);if(null===r)throw Ta(e);if(null===c){if(null===u)throw Ta(e);c=r+u}var d=new $i(r-t,c-t,n);d.id=pa(d.startTime,d.endTime,d.text);var p=function(e,t,n){var r="http://www.w3.org/ns/ttml#styling",i=null,a=null!=e&&e.hasAttribute("style")?e.getAttribute("style"):null;return a&&n.hasOwnProperty(a)&&(i=n[a]),["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((function(n,a){var o=Ea(t,r,a)||Ea(e,r,a)||Ea(i,r,a);return o&&(n[a]=o),n}),{})}(l[e.getAttribute("region")],o[e.getAttribute("style")],o),f=p.textAlign;if(f){var h=ga[f];h&&(d.lineAlign=h),d.align=f}return s(d,p),d})).filter((function(e){return null!==e}))}(e,c))}))}catch(e){r(e)}}else r(new Error("Could not parse IMSC1 mdat"))}function ma(e,t,n){var r=e.getElementsByTagName(t)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function ba(e){return e.reduce((function(e,t){var n=t.getAttribute("xml:id");return n&&(e[n]=t),e}),{})}function ka(e,t){return[].slice.call(e.childNodes).reduce((function(e,n,r){var i;return"br"===n.nodeName&&r?e+"\n":null!=(i=n.childNodes)&&i.length?ka(n,t):t?e+n.textContent.trim().replace(/\s+/g," "):e+n.textContent}),"")}function Ea(e,t,n){return e&&e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null}function Ta(e){return new Error("Could not parse ttml timestamp "+e)}function _a(e,t){if(!e)return null;var n=ta(e);return null===n&&(ha.test(e)?n=function(e,t){var n=ha.exec(e),r=(0|n[4])+(0|n[5])/t.subFrameRate;return 3600*(0|n[1])+60*(0|n[2])+(0|n[3])+r/t.frameRate}(e,t):ya.test(e)&&(n=function(e,t){var n=ya.exec(e),r=Number(n[1]);switch(n[2]){case"h":return 3600*r;case"m":return 60*r;case"ms":return 1e3*r;case"f":return r/t.frameRate;case"t":return r/t.tickRate}return r}(e,t))),n}var Aa=function(){function e(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(b.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(b.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(b.MANIFEST_LOADING,this.onManifestLoading,this),e.on(b.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(b.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(b.FRAG_LOADING,this.onFragLoading,this),e.on(b.FRAG_LOADED,this.onFragLoaded,this),e.on(b.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(b.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(b.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(b.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(b.BUFFER_FLUSHING,this.onBufferFlushing,this)}var t=e.prototype;return t.destroy=function(){var e=this.hls;e.off(b.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(b.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(b.MANIFEST_LOADING,this.onManifestLoading,this),e.off(b.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(b.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(b.FRAG_LOADING,this.onFragLoading,this),e.off(b.FRAG_LOADED,this.onFragLoaded,this),e.off(b.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(b.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(b.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(b.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(b.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=null,this.cea608Parser1=this.cea608Parser2=void 0},t.initCea608Parsers=function(){if(this.config.enableCEA708Captions&&(!this.cea608Parser1||!this.cea608Parser2)){var e=new Ji(this,"textTrack1"),t=new Ji(this,"textTrack2"),n=new Ji(this,"textTrack3"),r=new Ji(this,"textTrack4");this.cea608Parser1=new qi(1,e,t),this.cea608Parser2=new qi(3,n,r)}},t.addCues=function(e,t,n,r,i){for(var a,o,s,l,u=!1,c=i.length;c--;){var d=i[c],p=(a=d[0],o=d[1],s=t,l=n,Math.min(o,l)-Math.max(a,s));if(p>=0&&(d[0]=Math.min(d[0],t),d[1]=Math.max(d[1],n),u=!0,p/(n-t)>.5))return}if(u||i.push([t,n]),this.config.renderTextTracksNatively){var f=this.captionsTracks[e];this.Cues.newCue(f,t,n,r)}else{var h=this.Cues.newCue(null,t,n,r);this.hls.trigger(b.CUES_PARSED,{type:"captions",cues:h,track:e})}},t.onInitPtsFound=function(e,t){var n=this,r=t.frag,i=t.id,a=t.initPTS,o=t.timescale,s=this.unparsedVttFrags;"main"===i&&(this.initPTS[r.cc]={baseTime:a,timescale:o}),s.length&&(this.unparsedVttFrags=[],s.forEach((function(e){n.onFragLoaded(b.FRAG_LOADED,e)})))},t.getExistingTrack=function(e,t){var n=this.media;if(n)for(var r=0;r<n.textTracks.length;r++){var i=n.textTracks[r];if(wa(i,{name:e,lang:t,attrs:{}}))return i}return null},t.createCaptionsTrack=function(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)},t.createNativeTrack=function(e){if(!this.captionsTracks[e]){var t=this.captionsProperties,n=this.captionsTracks,r=this.media,i=t[e],a=i.label,o=i.languageCode,s=this.getExistingTrack(a,o);if(s)n[e]=s,It(n[e]),Pt(n[e],r);else{var l=this.createTextTrack("captions",a,o);l&&(l[e]=!0,n[e]=l)}}},t.createNonNativeTrack=function(e){if(!this.nonNativeCaptionsTracks[e]){var t=this.captionsProperties[e];if(t){var n={_id:e,label:t.label,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=n,this.hls.trigger(b.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}}},t.createTextTrack=function(e,t,n){var r=this.media;if(r)return r.addTextTrack(e,t,n)},t.onMediaAttaching=function(e,t){this.media=t.media,this._cleanTracks()},t.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach((function(t){It(e[t]),delete e[t]})),this.nonNativeCaptionsTracks={}},t.onManifestLoading=function(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},t._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var n=0;n<t.length;n++)It(t[n])}},t.onSubtitleTracksUpdated=function(e,t){var n=this,r=t.subtitleTracks||[],i=r.some((function(e){return e.textCodec===fa}));if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(Ei(this.tracks,r))return void(this.tracks=r);if(this.textTracks=[],this.tracks=r,this.config.renderTextTracksNatively){var a=this.media,o=a?Ot(a.textTracks):null;if(this.tracks.forEach((function(e,t){var r;if(o){for(var i=null,a=0;a<o.length;a++)if(o[a]&&wa(o[a],e)){i=o[a],o[a]=null;break}i&&(r=i)}if(r)It(r);else{var s=Sa(e);(r=n.createTextTrack(s,e.name,e.lang))&&(r.mode="disabled")}r&&n.textTracks.push(r)})),null!=o&&o.length){var s=o.filter((function(e){return null!==e})).map((function(e){return e.label}));s.length&&w.warn("Media element contains unused subtitle tracks: "+s.join(", ")+". Replace media element for each source to clear TextTracks and captions menu.")}}else if(this.tracks.length){var l=this.tracks.map((function(e){return{label:e.name,kind:e.type.toLowerCase(),default:e.default,subtitleTrack:e}}));this.hls.trigger(b.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:l})}}},t.onManifestLoaded=function(e,t){var n=this;this.config.enableCEA708Captions&&t.captions&&t.captions.forEach((function(e){var t=/(?:CC|SERVICE)([1-4])/.exec(e.instreamId);if(t){var r="textTrack"+t[1],i=n.captionsProperties[r];i&&(i.label=e.name,e.lang&&(i.languageCode=e.lang),i.media=e)}}))},t.closedCaptionsForLevel=function(e){var t=this.hls.levels[e.level];return null==t?void 0:t.attrs["CLOSED-CAPTIONS"]},t.onFragLoading=function(e,t){this.initCea608Parsers();var n=this.cea608Parser1,r=this.cea608Parser2,i=this.lastCc,a=this.lastSn,o=this.lastPartIndex;if(this.enabled&&n&&r&&t.frag.type===_t){var s,l,u=t.frag,c=u.cc,d=u.sn,p=null!=(s=null==t||null==(l=t.part)?void 0:l.index)?s:-1;d===a+1||d===a&&p===o+1||c===i||(n.reset(),r.reset()),this.lastCc=c,this.lastSn=d,this.lastPartIndex=p}},t.onFragLoaded=function(e,t){var n=t.frag,r=t.payload;if(n.type===St)if(r.byteLength){var i=n.decryptdata,a="stats"in t;if(null==i||!i.encrypted||a){var o=this.tracks[n.level],s=this.vttCCs;s[n.cc]||(s[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),o&&o.textCodec===fa?this._parseIMSC1(n,r):this._parseVTTs(t)}}else this.hls.trigger(b.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})},t._parseIMSC1=function(e,t){var n=this,r=this.hls;va(t,this.initPTS[e.cc],(function(t){n._appendCues(t,e.level),r.trigger(b.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(t){w.log("Failed to parse IMSC1: "+t),r.trigger(b.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:t})}))},t._parseVTTs=function(e){var t,n=this,r=e.frag,i=e.payload,a=this.initPTS,o=this.unparsedVttFrags,s=a.length-1;if(a[r.cc]||-1!==s){var l=this.hls;!function(e,t,n,r,i,a,o){var s,l,u,c=new la,d=ge(new Uint8Array(e)).trim().replace(ua,"\n").split("\n"),p=[],f=t?(s=t.baseTime,void 0===(l=t.timescale)&&(l=1),Qr(s,9e4,1/l)):0,h="00:00.000",y=0,v=0,m=!0;c.oncue=function(e){var a=n[r],o=n.ccOffset,s=(y-f)/9e4;if(null!=a&&a.new&&(void 0!==v?o=n.ccOffset=a.start:function(e,t,n){var r=e[t],i=e[r.prevCC];if(!i||!i.new&&r.new)return e.ccOffset=e.presentationOffset=r.start,void(r.new=!1);for(;null!=(a=i)&&a.new;){var a;e.ccOffset+=r.start-i.start,r.new=!1,i=e[(r=i).prevCC]}e.presentationOffset=n}(n,r,s)),s){if(!t)return void(u=new Error("Missing initPTS for VTT MPEGTS"));o=s-n.presentationOffset}var l=e.endTime-e.startTime,c=ni(9e4*(e.startTime+o-v),9e4*i)/9e4;e.startTime=Math.max(c,0),e.endTime=Math.max(c+l,0);var d=e.text.trim();e.text=decodeURIComponent(encodeURIComponent(d)),e.id||(e.id=pa(e.startTime,e.endTime,d)),e.endTime>0&&p.push(e)},c.onparsingerror=function(e){u=e},c.onflush=function(){u?o(u):a(p)},d.forEach((function(e){if(m){if(ca(e,"X-TIMESTAMP-MAP=")){m=!1,e.slice(16).split(",").forEach((function(e){ca(e,"LOCAL:")?h=e.slice(6):ca(e,"MPEGTS:")&&(y=parseInt(e.slice(7)))}));try{v=function(e){var t=parseInt(e.slice(-3)),n=parseInt(e.slice(-6,-4)),r=parseInt(e.slice(-9,-7)),i=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!(g(t)&&g(n)&&g(r)&&g(i)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+e);return t+=1e3*n,(t+=6e4*r)+36e5*i}(h)/1e3}catch(e){u=e}return}""===e&&(m=!1)}c.parse(e+"\n")})),c.flush()}(null!=(t=r.initSegment)&&t.data?Ne(r.initSegment.data,new Uint8Array(i)):i,this.initPTS[r.cc],this.vttCCs,r.cc,r.start,(function(e){n._appendCues(e,r.level),l.trigger(b.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})}),(function(t){var a="Missing initPTS for VTT MPEGTS"===t.message;a?o.push(e):n._fallbackToIMSC1(r,i),w.log("Failed to parse VTT cue: "+t),a&&s>r.cc||l.trigger(b.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:t})}))}else o.push(e)},t._fallbackToIMSC1=function(e,t){var n=this,r=this.tracks[e.level];r.textCodec||va(t,this.initPTS[e.cc],(function(){r.textCodec=fa,n._parseIMSC1(e,t)}),(function(){r.textCodec="wvtt"}))},t._appendCues=function(e,t){var n=this.hls;if(this.config.renderTextTracksNatively){var r=this.textTracks[t];if(!r||"disabled"===r.mode)return;e.forEach((function(e){return Rt(r,e)}))}else{var i=this.tracks[t];if(!i)return;var a=i.default?"default":"subtitles"+t;n.trigger(b.CUES_PARSED,{type:"subtitles",cues:e,track:a})}},t.onFragDecrypted=function(e,t){t.frag.type===St&&this.onFragLoaded(b.FRAG_LOADED,t)},t.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},t.onFragParsingUserdata=function(e,t){this.initCea608Parsers();var n=this.cea608Parser1,r=this.cea608Parser2;if(this.enabled&&n&&r){var i=t.frag,a=t.samples;if(i.type!==_t||"NONE"!==this.closedCaptionsForLevel(i))for(var o=0;o<a.length;o++){var s=a[o].bytes;if(s){var l=this.extractCea608Data(s);n.addData(a[o].pts,l[0]),r.addData(a[o].pts,l[1])}}}},t.onBufferFlushing=function(e,t){var n=t.startOffset,r=t.endOffset,i=t.endOffsetSubtitles,a=t.type,o=this.media;if(o&&!(o.currentTime<r)){if(!a||"video"===a){var s=this.captionsTracks;Object.keys(s).forEach((function(e){return Dt(s[e],n,r)}))}if(this.config.renderTextTracksNatively&&0===n&&void 0!==i){var l=this.textTracks;Object.keys(l).forEach((function(e){return Dt(l[e],n,i)}))}}},t.extractCea608Data=function(e){for(var t=[[],[]],n=31&e[0],r=2,i=0;i<n;i++){var a=e[r++],o=127&e[r++],s=127&e[r++];if((0!==o||0!==s)&&0!=(4&a)){var l=3&a;0!==l&&1!==l||(t[l].push(o),t[l].push(s))}}return t},e}();function Sa(e){return e.characteristics&&/transcribes-spoken-dialog/gi.test(e.characteristics)&&/describes-music-and-sound/gi.test(e.characteristics)?"captions":"subtitles"}function wa(e,t){return!!e&&e.kind===Sa(t)&&_i(t,e)}var Ca=function(){function e(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var t=e.prototype;return t.setStreamController=function(e){this.streamController=e},t.destroy=function(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},t.registerListeners=function(){var e=this.hls;e.on(b.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(b.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(b.MANIFEST_PARSED,this.onManifestParsed,this),e.on(b.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(b.BUFFER_CODECS,this.onBufferCodecs,this),e.on(b.MEDIA_DETACHING,this.onMediaDetaching,this)},t.unregisterListener=function(){var e=this.hls;e.off(b.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(b.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(b.MANIFEST_PARSED,this.onManifestParsed,this),e.off(b.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(b.BUFFER_CODECS,this.onBufferCodecs,this),e.off(b.MEDIA_DETACHING,this.onMediaDetaching,this)},t.onFpsDropLevelCapping=function(e,t){var n=this.hls.levels[t.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})},t.onMediaAttaching=function(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()},t.onManifestParsed=function(e,t){var n=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,n.config.capLevelToPlayerSize&&t.video&&this.startCapping()},t.onLevelsUpdated=function(e,t){this.timer&&g(this.autoLevelCapping)&&this.detectPlayerSize()},t.onBufferCodecs=function(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()},t.onMediaDetaching=function(){this.stopCapping()},t.detectPlayerSize=function(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0)return void(this.clientRect=null);var e=this.hls.levels;if(e.length){var t=this.hls,n=this.getMaxLevel(e.length-1);n!==this.autoLevelCapping&&w.log("Setting autoLevelCapping to "+n+": "+e[n].height+"p@"+e[n].bitrate+" for media "+this.mediaWidth+"x"+this.mediaHeight),t.autoLevelCapping=n,t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},t.getMaxLevel=function(t){var n=this,r=this.hls.levels;if(!r.length)return-1;var i=r.filter((function(e,r){return n.isLevelAllowed(e)&&r<=t}));return this.clientRect=null,e.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},t.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},t.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},t.getDimensions=function(){if(this.clientRect)return this.clientRect;var e=this.media,t={width:0,height:0};if(e){var n=e.getBoundingClientRect();t.width=n.width,t.height=n.height,t.width||t.height||(t.width=n.right-n.left||e.width||0,t.height=n.bottom-n.top||e.height||0)}return this.clientRect=t,t},t.isLevelAllowed=function(e){return!this.restrictedLevels.some((function(t){return e.bitrate===t.bitrate&&e.width===t.width&&e.height===t.height}))},e.getMaxLevelByMediaSize=function(e,t,n){if(null==e||!e.length)return-1;for(var r,i,a=e.length-1,o=Math.max(t,n),s=0;s<e.length;s+=1){var l=e[s];if((l.width>=o||l.height>=o)&&(r=l,!(i=e[s+1])||r.width!==i.width||r.height!==i.height)){a=s;break}}return a},o(e,[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch(e){}return e}}]),e}(),xa=function(){function e(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}var t=e.prototype;return t.setStreamController=function(e){this.streamController=e},t.registerListeners=function(){this.hls.on(b.MEDIA_ATTACHING,this.onMediaAttaching,this)},t.unregisterListeners=function(){this.hls.off(b.MEDIA_ATTACHING,this.onMediaAttaching,this)},t.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},t.onMediaAttaching=function(e,t){var n=this.hls.config;if(n.capLevelOnFPSDrop){var r=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=r,r&&"function"==typeof r.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}},t.checkFPS=function(e,t,n){var r=performance.now();if(t){if(this.lastTime){var i=r-this.lastTime,a=n-this.lastDroppedFrames,o=t-this.lastDecodedFrames,s=1e3*a/i,l=this.hls;if(l.trigger(b.FPS_DROP,{currentDropped:a,currentDecoded:o,totalDroppedFrames:n}),s>0&&a>l.config.fpsDroppedMonitoringThreshold*o){var u=l.currentLevel;w.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(-1===l.autoLevelCapping||l.autoLevelCapping>=u)&&(u-=1,l.trigger(b.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:l.currentLevel}),l.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=t}},t.checkFPSInterval=function(){var e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},e}(),Pa="[eme]",Ra=function(){function e(t){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=e.CDMCleanupPromise?[e.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=w.debug.bind(w,Pa),this.log=w.log.bind(w,Pa),this.warn=w.warn.bind(w,Pa),this.error=w.error.bind(w,Pa),this.hls=t,this.config=t.config,this.registerListeners()}var t=e.prototype;return t.destroy=function(){this.unregisterListeners(),this.onMediaDetached();var e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null},t.registerListeners=function(){this.hls.on(b.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(b.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(b.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(b.MANIFEST_LOADED,this.onManifestLoaded,this)},t.unregisterListeners=function(){this.hls.off(b.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(b.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(b.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(b.MANIFEST_LOADED,this.onManifestLoaded,this)},t.getLicenseServerUrl=function(e){var t=this.config,n=t.drmSystems,r=t.widevineLicenseUrl,i=n[e];if(i)return i.licenseUrl;if(e===G.WIDEVINE&&r)return r;throw new Error('no license server URL configured for key-system "'+e+'"')},t.getServerCertificateUrl=function(e){var t=this.config.drmSystems[e];if(t)return t.serverCertificateUrl;this.log('No Server Certificate in config.drmSystems["'+e+'"]')},t.attemptKeySystemAccess=function(e){var t=this,n=this.hls.levels,r=function(e,t,n){return!!e&&n.indexOf(e)===t},i=n.map((function(e){return e.audioCodec})).filter(r),a=n.map((function(e){return e.videoCodec})).filter(r);return i.length+a.length===0&&a.push("avc1.42e01e"),new Promise((function(n,r){!function e(o){var s=o.shift();t.getMediaKeysPromise(s,i,a).then((function(e){return n({keySystem:s,mediaKeys:e})})).catch((function(t){o.length?e(o):r(t instanceof Ma?t:new Ma({type:k.KEY_SYSTEM_ERROR,details:E.KEY_SYSTEM_NO_ACCESS,error:t,fatal:!0},t.message))}))}(e)}))},t.requestMediaKeySystemAccess=function(e,t){var n=this.config.requestMediaKeySystemAccessFunc;if("function"!=typeof n){var r="Configured requestMediaKeySystemAccess is not a function "+n;return null===$&&"http:"===self.location.protocol&&(r="navigator.requestMediaKeySystemAccess is not available over insecure protocol "+location.protocol),Promise.reject(new Error(r))}return n(e,t)},t.getMediaKeysPromise=function(e,t,n){var r=this,i=function(e,t,n,r){var i;switch(e){case G.FAIRPLAY:i=["cenc","sinf"];break;case G.WIDEVINE:case G.PLAYREADY:i=["cenc"];break;case G.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error("Unknown key-system: "+e)}return function(e,t,n,r){return[{initDataTypes:e,persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:t.map((function(e){return{contentType:'audio/mp4; codecs="'+e+'"',robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null}})),videoCapabilities:n.map((function(e){return{contentType:'video/mp4; codecs="'+e+'"',robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null}}))}]}(i,t,n,r)}(e,t,n,this.config.drmSystemOptions),a=this.keySystemAccessPromises[e],o=null==a?void 0:a.keySystemAccess;if(!o){this.log('Requesting encrypted media "'+e+'" key-system access with config: '+JSON.stringify(i)),o=this.requestMediaKeySystemAccess(e,i);var s=this.keySystemAccessPromises[e]={keySystemAccess:o};return o.catch((function(t){r.log('Failed to obtain access to key-system "'+e+'": '+t)})),o.then((function(t){r.log('Access for key-system "'+t.keySystem+'" obtained');var n=r.fetchServerCertificate(e);return r.log('Create media-keys for "'+e+'"'),s.mediaKeys=t.createMediaKeys().then((function(t){return r.log('Media-keys created for "'+e+'"'),n.then((function(n){return n?r.setMediaKeysServerCertificate(t,e,n):t}))})),s.mediaKeys.catch((function(t){r.error('Failed to create media-keys for "'+e+'"}: '+t)})),s.mediaKeys}))}return o.then((function(){return a.mediaKeys}))},t.createMediaKeySessionContext=function(e){var t=e.decryptdata,n=e.keySystem,r=e.mediaKeys;this.log('Creating key-system session "'+n+'" keyId: '+ve(t.keyId||[]));var i=r.createSession(),a={decryptdata:t,keySystem:n,mediaKeys:r,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(a),a},t.renewKeySession=function(e){var t=e.decryptdata;if(t.pssh){var n=this.createMediaKeySessionContext(e),r=this.getKeyIdString(t);this.keyIdToKeySessionPromise[r]=this.generateRequestWithPreferredKeySession(n,"cenc",t.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)},t.getKeyIdString=function(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(null===e.keyId)throw new Error("keyId is null");return ve(e.keyId)},t.updateKeySession=function(e,t){var n,r=e.mediaKeysSession;return this.log('Updating key-session "'+r.sessionId+'" for keyID '+ve((null==(n=e.decryptdata)?void 0:n.keyId)||[])+"\n      } (data length: "+(t?t.byteLength:t)+")"),r.update(t)},t.selectKeySystemFormat=function(e){var t=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: "+e.sn+" "+e.type+": "+e.level+") key formats "+t.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(t)),this.keyFormatPromise},t.getKeyFormatPromise=function(e){var t=this;return new Promise((function(n,r){var i=Q(t.config),a=e.map(Z).filter((function(e){return!!e&&-1!==i.indexOf(e)}));return t.getKeySystemSelectionPromise(a).then((function(e){var t=e.keySystem,i=X(t);i?n(i):r(new Error('Unable to find format for key-system "'+t+'"'))})).catch(r)}))},t.loadKey=function(e){var t=this,n=e.keyInfo.decryptdata,r=this.getKeyIdString(n),i="(keyId: "+r+' format: "'+n.keyFormat+'" method: '+n.method+" uri: "+n.uri+")";this.log("Starting session for key "+i);var a=this.keyIdToKeySessionPromise[r];return a||(a=this.keyIdToKeySessionPromise[r]=this.getKeySystemForKeyPromise(n).then((function(r){var a=r.keySystem,o=r.mediaKeys;return t.throwIfDestroyed(),t.log("Handle encrypted media sn: "+e.frag.sn+" "+e.frag.type+": "+e.frag.level+" using key "+i),t.attemptSetMediaKeys(a,o).then((function(){t.throwIfDestroyed();var e=t.createMediaKeySessionContext({keySystem:a,mediaKeys:o,decryptdata:n});return t.generateRequestWithPreferredKeySession(e,"cenc",n.pssh,"playlist-key")}))}))).catch((function(e){return t.handleError(e)})),a},t.throwIfDestroyed=function(e){if(!this.hls)throw new Error("invalid state")},t.handleError=function(e){this.hls&&(this.error(e.message),e instanceof Ma?this.hls.trigger(b.ERROR,e.data):this.hls.trigger(b.ERROR,{type:k.KEY_SYSTEM_ERROR,details:E.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))},t.getKeySystemForKeyPromise=function(e){var t=this.getKeyIdString(e),n=this.keyIdToKeySessionPromise[t];if(!n){var r=Z(e.keyFormat),i=r?[r]:Q(this.config);return this.attemptKeySystemAccess(i)}return n},t.getKeySystemSelectionPromise=function(e){if(e.length||(e=Q(this.config)),0===e.length)throw new Ma({type:k.KEY_SYSTEM_ERROR,details:E.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options "+JSON.stringify({drmSystems:this.config.drmSystems}));return this.attemptKeySystemAccess(e)},t._onMediaEncrypted=function(e){var t=this,n=e.initDataType,r=e.initData;if(this.debug('"'+e.type+'" event: init data type: "'+n+'"'),null!==r){var i,a;if("sinf"===n&&this.config.drmSystems[G.FAIRPLAY]){var o=Ee(new Uint8Array(r));try{var s=j(JSON.parse(o).sinf),l=Le(new Uint8Array(s));if(!l)return;i=l.subarray(8,24),a=G.FAIRPLAY}catch(e){return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{var u=function(e){if(!(e instanceof ArrayBuffer)||e.byteLength<32)return null;var t={version:0,systemId:"",kids:null,data:null},n=new DataView(e),r=n.getUint32(0);if(e.byteLength!==r&&r>44)return null;if(1886614376!==n.getUint32(4))return null;if(t.version=n.getUint32(8)>>>24,t.version>1)return null;t.systemId=ve(new Uint8Array(e,12,16));var i=n.getUint32(28);if(0===t.version){if(r-32<i)return null;t.data=new Uint8Array(e,32,i)}else if(1===t.version){t.kids=[];for(var a=0;a<i;a++)t.kids.push(new Uint8Array(e,32+16*a,16))}return t}(r);if(null===u)return;0===u.version&&u.systemId===q&&u.data&&(i=u.data.subarray(8,24)),a=function(e){if(e===q)return G.WIDEVINE}(u.systemId)}if(a&&i){for(var c,d=ve(i),p=this.keyIdToKeySessionPromise,f=this.mediaKeySessions,h=p[d],y=function(){var e=f[g],a=e.decryptdata;if(a.pssh||!a.keyId)return 0;var o=ve(a.keyId);return d===o||-1!==a.uri.replace(/-/g,"").indexOf(d)?(h=p[o],delete p[o],a.pssh=new Uint8Array(r),a.keyId=i,h=p[d]=h.then((function(){return t.generateRequestWithPreferredKeySession(e,n,r,"encrypted-event-key-match")})),1):void 0},g=0;g<f.length&&(0===(c=y())||1!==c);g++);h||(h=p[d]=this.getKeySystemSelectionPromise([a]).then((function(e){var a,o=e.keySystem,s=e.mediaKeys;t.throwIfDestroyed();var l=new Ve("ISO-23001-7",d,null!=(a=X(o))?a:"");return l.pssh=new Uint8Array(r),l.keyId=i,t.attemptSetMediaKeys(o,s).then((function(){t.throwIfDestroyed();var e=t.createMediaKeySessionContext({decryptdata:l,keySystem:o,mediaKeys:s});return t.generateRequestWithPreferredKeySession(e,n,r,"encrypted-event-no-match")}))}))),h.catch((function(e){return t.handleError(e)}))}}},t._onWaitingForKey=function(e){this.log('"'+e.type+'" event')},t.attemptSetMediaKeys=function(e,t){var n=this,r=this.setMediaKeysQueue.slice();this.log('Setting media-keys for "'+e+'"');var i=Promise.all(r).then((function(){if(!n.media)throw new Error("Attempted to set mediaKeys without media element attached");return n.media.setMediaKeys(t)}));return this.setMediaKeysQueue.push(i),i.then((function(){n.log('Media-keys set for "'+e+'"'),r.push(i),n.setMediaKeysQueue=n.setMediaKeysQueue.filter((function(e){return-1===r.indexOf(e)}))}))},t.generateRequestWithPreferredKeySession=function(e,t,n,r){var i,a,o=this,s=null==(i=this.config.drmSystems)||null==(a=i[e.keySystem])?void 0:a.generateRequest;if(s)try{var l=s.call(this.hls,t,n,e);if(!l)throw new Error("Invalid response from configured generateRequest filter");t=l.initDataType,n=e.decryptdata.pssh=l.initData?new Uint8Array(l.initData):null}catch(e){var u;if(this.warn(e.message),null!=(u=this.hls)&&u.config.debug)throw e}if(null===n)return this.log('Skipping key-session request for "'+r+'" (no initData)'),Promise.resolve(e);var c=this.getKeyIdString(e.decryptdata);this.log('Generating key-session request for "'+r+'": '+c+" (init data type: "+t+" length: "+(n?n.byteLength:null)+")");var d=new gi,p=e._onmessage=function(t){var n=e.mediaKeysSession;if(n){var r=t.messageType,i=t.message;o.log('"'+r+'" message event for session "'+n.sessionId+'" message size: '+i.byteLength),"license-request"===r||"license-renewal"===r?o.renewLicense(e,i).catch((function(e){o.handleError(e),d.emit("error",e)})):"license-release"===r?e.keySystem===G.FAIRPLAY&&(o.updateKeySession(e,H("acknowledged")),o.removeSession(e)):o.warn('unhandled media key message type "'+r+'"')}else d.emit("error",new Error("invalid state"))},f=e._onkeystatuseschange=function(t){if(e.mediaKeysSession){o.onKeyStatusChange(e);var n=e.keyStatus;d.emit("keyStatus",n),"expired"===n&&(o.warn(e.keySystem+" expired for key "+c),o.renewKeySession(e))}else d.emit("error",new Error("invalid state"))};e.mediaKeysSession.addEventListener("message",p),e.mediaKeysSession.addEventListener("keystatuseschange",f);var h=new Promise((function(e,t){d.on("error",t),d.on("keyStatus",(function(n){n.startsWith("usable")?e():"output-restricted"===n?t(new Ma({type:k.KEY_SYSTEM_ERROR,details:E.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===n?t(new Ma({type:k.KEY_SYSTEM_ERROR,details:E.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},'key status changed to "'+n+'"')):"expired"===n?t(new Error("key expired while generating request")):o.warn('unhandled key status change "'+n+'"')}))}));return e.mediaKeysSession.generateRequest(t,n).then((function(){var t;o.log('Request generated for key-session "'+(null==(t=e.mediaKeysSession)?void 0:t.sessionId)+'" keyId: '+c)})).catch((function(e){throw new Ma({type:k.KEY_SYSTEM_ERROR,details:E.KEY_SYSTEM_NO_SESSION,error:e,fatal:!1},"Error generating key-session request: "+e)})).then((function(){return h})).catch((function(t){throw d.removeAllListeners(),o.removeSession(e),t})).then((function(){return d.removeAllListeners(),e}))},t.onKeyStatusChange=function(e){var t=this;e.mediaKeysSession.keyStatuses.forEach((function(n,r){t.log('key status change "'+n+'" for keyStatuses keyId: '+ve("buffer"in r?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r))+" session keyId: "+ve(new Uint8Array(e.decryptdata.keyId||[]))+" uri: "+e.decryptdata.uri),e.keyStatus=n}))},t.fetchServerCertificate=function(e){var t=this.config,n=new(0,t.loader)(t),i=this.getServerCertificateUrl(e);return i?(this.log('Fetching server certificate for "'+e+'"'),new Promise((function(a,o){var s={responseType:"arraybuffer",url:i},l=t.certLoadPolicy.default,u={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},c={onSuccess:function(e,t,n,r){a(e.data)},onError:function(t,n,a,l){o(new Ma({type:k.KEY_SYSTEM_ERROR,details:E.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:a,response:r({url:s.url,data:void 0},t)},'"'+e+'" certificate request failed ('+i+"). Status: "+t.code+" ("+t.text+")"))},onTimeout:function(t,n,r){o(new Ma({type:k.KEY_SYSTEM_ERROR,details:E.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:r,response:{url:s.url,data:void 0}},'"'+e+'" certificate request timed out ('+i+")"))},onAbort:function(e,t,n){o(new Error("aborted"))}};n.load(s,u,c)}))):Promise.resolve()},t.setMediaKeysServerCertificate=function(e,t,n){var r=this;return new Promise((function(i,a){e.setServerCertificate(n).then((function(a){r.log("setServerCertificate "+(a?"success":"not supported by CDM")+" ("+(null==n?void 0:n.byteLength)+') on "'+t+'"'),i(e)})).catch((function(e){a(new Ma({type:k.KEY_SYSTEM_ERROR,details:E.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:e,fatal:!0},e.message))}))}))},t.renewLicense=function(e,t){var n=this;return this.requestLicense(e,new Uint8Array(t)).then((function(t){return n.updateKeySession(e,new Uint8Array(t)).catch((function(e){throw new Ma({type:k.KEY_SYSTEM_ERROR,details:E.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:e,fatal:!0},e.message)}))}))},t.unpackPlayReadyKeyMessage=function(e,t){var n=String.fromCharCode.apply(null,new Uint16Array(t.buffer));if(!n.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),t;var r=(new DOMParser).parseFromString(n,"application/xml"),i=r.querySelectorAll("HttpHeader");if(i.length>0)for(var a,o=0,s=i.length;o<s;o++){var l,u,c=null==(l=(a=i[o]).querySelector("name"))?void 0:l.textContent,d=null==(u=a.querySelector("value"))?void 0:u.textContent;c&&d&&e.setRequestHeader(c,d)}var p=r.querySelector("Challenge"),f=null==p?void 0:p.textContent;if(!f)throw new Error("Cannot find <Challenge> in key message");return H(atob(f))},t.setupLicenseXHR=function(e,t,n,r){var i=this,a=this.config.licenseXhrSetup;return a?Promise.resolve().then((function(){if(!n.decryptdata)throw new Error("Key removed");return a.call(i.hls,e,t,n,r)})).catch((function(o){if(!n.decryptdata)throw o;return e.open("POST",t,!0),a.call(i.hls,e,t,n,r)})).then((function(n){return e.readyState||e.open("POST",t,!0),{xhr:e,licenseChallenge:n||r}})):(e.open("POST",t,!0),Promise.resolve({xhr:e,licenseChallenge:r}))},t.requestLicense=function(e,t){var n=this,r=this.config.keyLoadPolicy.default;return new Promise((function(i,a){var o=n.getLicenseServerUrl(e.keySystem);n.log("Sending license request to URL: "+o);var s=new XMLHttpRequest;s.responseType="arraybuffer",s.onreadystatechange=function(){if(!n.hls||!e.mediaKeysSession)return a(new Error("invalid state"));if(4===s.readyState)if(200===s.status){n._requestLicenseFailureCount=0;var l=s.response;n.log("License received "+(l instanceof ArrayBuffer?l.byteLength:l));var u=n.config.licenseResponseCallback;if(u)try{l=u.call(n.hls,s,o,e)}catch(e){n.error(e)}i(l)}else{var c=r.errorRetry,d=c?c.maxNumRetry:0;if(n._requestLicenseFailureCount++,n._requestLicenseFailureCount>d||s.status>=400&&s.status<500)a(new Ma({type:k.KEY_SYSTEM_ERROR,details:E.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:s,response:{url:o,data:void 0,code:s.status,text:s.statusText}},"License Request XHR failed ("+o+"). Status: "+s.status+" ("+s.statusText+")"));else{var p=d-n._requestLicenseFailureCount+1;n.warn("Retrying license request, "+p+" attempts left"),n.requestLicense(e,t).then(i,a)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=s,n.setupLicenseXHR(s,o,e,t).then((function(t){var r=t.xhr,i=t.licenseChallenge;e.keySystem==G.PLAYREADY&&(i=n.unpackPlayReadyKeyMessage(r,i)),r.send(i)}))}))},t.onMediaAttached=function(e,t){if(this.config.emeEnabled){var n=t.media;this.media=n,n.addEventListener("encrypted",this.onMediaEncrypted),n.addEventListener("waitingforkey",this.onWaitingForKey)}},t.onMediaDetached=function(){var t=this,n=this.media,r=this.mediaKeySessions;n&&(n.removeEventListener("encrypted",this.onMediaEncrypted),n.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},Ve.clearKeyUriToKeyIdMap();var i=r.length;e.CDMCleanupPromise=Promise.all(r.map((function(e){return t.removeSession(e)})).concat(null==n?void 0:n.setMediaKeys(null).catch((function(e){t.log("Could not clear media keys: "+e)})))).then((function(){i&&(t.log("finished closing key sessions and clearing media keys"),r.length=0)})).catch((function(e){t.log("Could not close sessions and clear media keys: "+e)}))},t.onManifestLoading=function(){this.keyFormatPromise=null},t.onManifestLoaded=function(e,t){var n=t.sessionKeys;if(n&&this.config.emeEnabled&&!this.keyFormatPromise){var r=n.reduce((function(e,t){return-1===e.indexOf(t.keyFormat)&&e.push(t.keyFormat),e}),[]);this.log("Selecting key-system from session-keys "+r.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(r)}},t.removeSession=function(e){var t=this,n=e.mediaKeysSession,r=e.licenseXhr;if(n){this.log("Remove licenses and keys and close session "+n.sessionId),e._onmessage&&(n.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(n.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),r&&r.readyState!==XMLHttpRequest.DONE&&r.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;var i=this.mediaKeySessions.indexOf(e);return i>-1&&this.mediaKeySessions.splice(i,1),n.remove().catch((function(e){t.log("Could not remove session: "+e)})).then((function(){return n.close()})).catch((function(e){t.log("Could not close session: "+e)}))}},e}();Ra.CDMCleanupPromise=void 0;var Ia,Da,Oa,La,Ma=function(e){function t(t,n){var r;return(r=e.call(this,n)||this).data=void 0,t.error||(t.error=new Error(n)),r.data=t,t.err=t.error,r}return l(t,e),t}(p(Error));!function(e){e.MANIFEST="m",e.AUDIO="a",e.VIDEO="v",e.MUXED="av",e.INIT="i",e.CAPTION="c",e.TIMED_TEXT="tt",e.KEY="k",e.OTHER="o"}(Ia||(Ia={})),function(e){e.DASH="d",e.HLS="h",e.SMOOTH="s",e.OTHER="o"}(Da||(Da={})),function(e){e.OBJECT="CMCD-Object",e.REQUEST="CMCD-Request",e.SESSION="CMCD-Session",e.STATUS="CMCD-Status"}(Oa||(Oa={}));var Na=((La={})[Oa.OBJECT]=["br","d","ot","tb"],La[Oa.REQUEST]=["bl","dl","mtp","nor","nrr","su"],La[Oa.SESSION]=["cid","pr","sf","sid","st","v"],La[Oa.STATUS]=["bs","rtp"],La),Ua=function e(t,n){this.value=void 0,this.params=void 0,Array.isArray(t)&&(t=t.map((function(t){return t instanceof e?t:new e(t)}))),this.value=t,this.params=n},Ba=function(e){this.description=void 0,this.description=e},Fa="Dict";var ja="Bare Item",Ha="Boolean",Va="Byte Sequence",Ga="Decimal",Ka="Integer",za=/[\x00-\x1f\x7f]+/,Wa="Token",Ya="Key";function Za(e,t,n){return function(e,t,n,r){return new Error("failed to "+e+' "'+(i=t,(Array.isArray(i)?JSON.stringify(i):i instanceof Map?"Map{}":i instanceof Set?"Set{}":"object"==typeof i?JSON.stringify(i):String(i))+'" as ')+n,{cause:r});var i}("serialize",e,t,n)}function qa(e){if(function(e){return e<-999999999999999||999999999999999<e}(e))throw Za(e,Ka);return e.toString()}function Xa(e,t){if(e<0)return-Xa(-e,t);var n=Math.pow(10,t);if(Math.abs(e*n%1-.5)<Number.EPSILON){var r=Math.floor(e*n);return(r%2==0?r:r+1)/n}return Math.round(e*n)/n}function Qa(e){var t=Xa(e,3);if(Math.floor(Math.abs(t)).toString().length>12)throw Za(e,Ga);var n=t.toString();return n.includes(".")?n:n+".0"}var Ja="String";function $a(e){var t,n=(t=e).description||t.toString().slice(7,-1);if(!1===/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(n))throw Za(n,Wa);return n}function eo(e){switch(typeof e){case"number":if(!g(e))throw Za(e,ja);return Number.isInteger(e)?qa(e):Qa(e);case"string":return function(e){if(za.test(e))throw Za(e,Ja);return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}(e);case"symbol":return $a(e);case"boolean":return function(e){if("boolean"!=typeof e)throw Za(e,Ha);return e?"?1":"?0"}(e);case"object":if(e instanceof Date)return function(e){return"@"+qa(e.getTime()/1e3)}(e);if(e instanceof Uint8Array)return function(e){if(!1===ArrayBuffer.isView(e))throw Za(e,Va);return":"+(t=e,btoa(String.fromCharCode.apply(String,t))+":");var t}(e);if(e instanceof Ba)return $a(e);default:throw Za(e,ja)}}function to(e){if(!1===/^[a-z*][a-z0-9\-_.*]*$/.test(e))throw Za(e,Ya);return e}function no(e){return null==e?"":Object.entries(e).map((function(e){var t=e[0],n=e[1];return!0===n?";"+to(t):";"+to(t)+"="+eo(n)})).join("")}function ro(e){return e instanceof Ua?""+eo(e.value)+no(e.params):eo(e)}var io=function(e){return"ot"===e||"sf"===e||"st"===e},ao=function(e){return"number"==typeof e?g(e):null!=e&&""!==e&&!1!==e},oo=function(e){return Math.round(e)},so=function(e){return 100*oo(e/100)},lo={br:oo,d:oo,bl:so,dl:so,mtp:so,nor:function(e,t){return null!=t&&t.baseUrl&&(e=function(e,t){var n=new URL(e),r=new URL(t);if(n.origin!==r.origin)return e;for(var i=n.pathname.split("/").slice(1),a=r.pathname.split("/").slice(1,-1);i[0]===a[0];)i.shift(),a.shift();for(;a.length;)a.shift(),i.unshift("..");return i.join("/")}(e,t.baseUrl)),encodeURIComponent(e)},rtp:so,tb:oo};function uo(e,t){return void 0===t&&(t={}),e?function(e,t){return function(e,t){var n;if(void 0===t&&(t={whitespace:!0}),"object"!=typeof e)throw Za(e,Fa);var r=e instanceof Map?e.entries():Object.entries(e),i=null!=(n=t)&&n.whitespace?" ":"";return Array.from(r).map((function(e){var t=e[0],n=e[1];n instanceof Ua==0&&(n=new Ua(n));var r,i=to(t);return!0===n.value?i+=no(n.params):(i+="=",Array.isArray(n.value)?i+="("+(r=n).value.map(ro).join(" ")+")"+no(r.params):i+=ro(n)),i})).join(","+i)}(e,t)}(function(e,t){var n={};if(null==e||"object"!=typeof e)return n;var r=Object.keys(e).sort(),i=s({},lo,null==t?void 0:t.formatters),a=null==t?void 0:t.filter;return r.forEach((function(r){if(null==a||!a(r)){var o=e[r],s=i[r];s&&(o=s(o,t)),"v"===r&&1===o||"pr"==r&&1===o||ao(o)&&(io(r)&&"string"==typeof o&&(o=new Ba(o)),n[r]=o)}})),n}(e,t),s({whitespace:!1},t)):""}var co=/CMCD=[^&#]+/;var po=function(){function e(e){var t=this;this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){t.initialized&&(t.starved=!0),t.buffering=!0},this.onPlaying=function(){t.initialized||(t.initialized=!0),t.buffering=!1},this.applyPlaylistData=function(e){try{t.apply(e,{ot:Ia.MANIFEST,su:!t.initialized})}catch(e){w.warn("Could not generate manifest CMCD data.",e)}},this.applyFragmentData=function(e){try{var n=e.frag,r=t.hls.levels[n.level],i=t.getObjectType(n),a={d:1e3*n.duration,ot:i};i!==Ia.VIDEO&&i!==Ia.AUDIO&&i!=Ia.MUXED||(a.br=r.bitrate/1e3,a.tb=t.getTopBandwidth(i)/1e3,a.bl=t.getBufferLength(i)),t.apply(e,a)}catch(e){w.warn("Could not generate segment CMCD data.",e)}},this.hls=e;var n=this.config=e.config,r=n.cmcd;null!=r&&(n.pLoader=this.createPlaylistLoader(),n.fLoader=this.createFragmentLoader(),this.sid=r.sessionId||function(){try{return crypto.randomUUID()}catch(r){try{var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)}catch(e){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==e?t:3&t|8).toString(16)}))}}}(),this.cid=r.contentId,this.useHeaders=!0===r.useHeaders,this.includeKeys=r.includeKeys,this.registerListeners())}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(b.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(b.MEDIA_DETACHED,this.onMediaDetached,this),e.on(b.BUFFER_CREATED,this.onBufferCreated,this)},t.unregisterListeners=function(){var e=this.hls;e.off(b.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(b.MEDIA_DETACHED,this.onMediaDetached,this),e.off(b.BUFFER_CREATED,this.onBufferCreated,this)},t.destroy=function(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=null},t.onMediaAttached=function(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)},t.onMediaDetached=function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)},t.onBufferCreated=function(e,t){var n,r;this.audioBuffer=null==(n=t.tracks.audio)?void 0:n.buffer,this.videoBuffer=null==(r=t.tracks.video)?void 0:r.buffer},t.createData=function(){var e;return{v:1,sf:Da.HLS,sid:this.sid,cid:this.cid,pr:null==(e=this.media)?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}},t.apply=function(e,t){void 0===t&&(t={}),s(t,this.createData());var n=t.ot===Ia.INIT||t.ot===Ia.VIDEO||t.ot===Ia.MUXED;this.starved&&n&&(t.bs=!0,t.su=!0,this.starved=!1),null==t.su&&(t.su=this.buffering);var r=this.includeKeys;r&&(t=Object.keys(t).reduce((function(e,n){return r.includes(n)&&(e[n]=t[n]),e}),{})),this.useHeaders?(e.headers||(e.headers={}),function(e,t,n){s(e,function(e,t){var n;if(void 0===t&&(t={}),!e)return{};var r=Object.entries(e),i=Object.entries(Na).concat(Object.entries((null==(n=t)?void 0:n.customHeaderMap)||{})),a=r.reduce((function(e,t){var n,r=t[0],a=t[1],o=(null==(n=i.find((function(e){return e[1].includes(r)})))?void 0:n[0])||Oa.REQUEST;return null!=e[o]||(e[o]={}),e[o][r]=a,e}),{});return Object.entries(a).reduce((function(e,n){var r=n[0],i=n[1];return e[r]=uo(i,t),e}),{})}(t,n))}(e.headers,t)):e.url=function(e,t,n){var r=function(e,t){if(void 0===t&&(t={}),!e)return"";var n=uo(e,t);return"CMCD="+encodeURIComponent(n)}(t,n);if(!r)return e;if(co.test(e))return e.replace(co,r);var i=e.includes("?")?"&":"?";return""+e+i+r}(e.url,t)},t.getObjectType=function(e){var t=e.type;return"subtitle"===t?Ia.TIMED_TEXT:"initSegment"===e.sn?Ia.INIT:"audio"===t?Ia.AUDIO:"main"===t?this.hls.audioTracks.length?Ia.VIDEO:Ia.MUXED:void 0},t.getTopBandwidth=function(e){var t,n=0,r=this.hls;if(e===Ia.AUDIO)t=r.audioTracks;else{var i=r.maxAutoLevel,a=i>-1?i+1:r.levels.length;t=r.levels.slice(0,a)}for(var o,s=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t);!(o=s()).done;){var l=o.value;l.bitrate>n&&(n=l.bitrate)}return n>0?n:NaN},t.getBufferLength=function(e){var t=this.hls.media,n=e===Ia.AUDIO?this.audioBuffer:this.videoBuffer;return n&&t?1e3*Ln.bufferInfo(n,t.currentTime,this.config.maxBufferHole).len:NaN},t.createPlaylistLoader=function(){var e=this.config.pLoader,t=this.applyPlaylistData,n=e||this.config.loader;return function(){function e(e){this.loader=void 0,this.loader=new n(e)}var r=e.prototype;return r.destroy=function(){this.loader.destroy()},r.abort=function(){this.loader.abort()},r.load=function(e,n,r){t(e),this.loader.load(e,n,r)},o(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),e}()},t.createFragmentLoader=function(){var e=this.config.fLoader,t=this.applyFragmentData,n=e||this.config.loader;return function(){function e(e){this.loader=void 0,this.loader=new n(e)}var r=e.prototype;return r.destroy=function(){this.loader.destroy()},r.abort=function(){this.loader.abort()},r.load=function(e,n,r){t(e),this.loader.load(e,n,r)},o(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),e}()},e}(),fo=function(){function e(e){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.log=w.log.bind(w,"[content-steering]:"),this.registerListeners()}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(b.MANIFEST_LOADING,this.onManifestLoading,this),e.on(b.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(b.MANIFEST_PARSED,this.onManifestParsed,this),e.on(b.ERROR,this.onError,this)},t.unregisterListeners=function(){var e=this.hls;e&&(e.off(b.MANIFEST_LOADING,this.onManifestLoading,this),e.off(b.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(b.MANIFEST_PARSED,this.onManifestParsed,this),e.off(b.ERROR,this.onError,this))},t.startLoad=function(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){var e=1e3*this.timeToLoad-(performance.now()-this.updated);if(e>0)return void this.scheduleRefresh(this.uri,e)}this.loadSteeringManifest(this.uri)}},t.stopLoad=function(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()},t.clearTimeout=function(){-1!==this.reloadTimer&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)},t.destroy=function(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null},t.removeLevel=function(e){var t=this.levels;t&&(this.levels=t.filter((function(t){return t!==e})))},t.onManifestLoading=function(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null},t.onManifestLoaded=function(e,t){var n=t.contentSteering;null!==n&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())},t.onManifestParsed=function(e,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks},t.onError=function(e,t){var n=t.errorAction;if(2===(null==n?void 0:n.action)&&1===n.flags){var r=this.levels,i=this.pathwayPriority,a=this.pathwayId;if(t.context){var o=t.context,s=o.groupId,l=o.pathwayId,u=o.type;s&&r?a=this.getPathwayForGroupId(s,u,a):l&&(a=l)}a in this.penalizedPathways||(this.penalizedPathways[a]=performance.now()),!i&&r&&(i=r.reduce((function(e,t){return-1===e.indexOf(t.pathwayId)&&e.push(t.pathwayId),e}),[])),i&&i.length>1&&(this.updatePathwayPriority(i),n.resolved=this.pathwayId!==a),n.resolved||w.warn("Could not resolve "+t.details+' ("'+t.error.message+'") with content-steering for Pathway: '+a+" levels: "+(r?r.length:r)+" priorities: "+JSON.stringify(i)+" penalized: "+JSON.stringify(this.penalizedPathways))}},t.filterParsedLevels=function(e){this.levels=e;var t=this.getLevelsForPathway(this.pathwayId);if(0===t.length){var n=e[0].pathwayId;this.log("No levels found in Pathway "+this.pathwayId+'. Setting initial Pathway to "'+n+'"'),t=this.getLevelsForPathway(n),this.pathwayId=n}return t.length!==e.length?(this.log("Found "+t.length+"/"+e.length+' levels in Pathway "'+this.pathwayId+'"'),t):e},t.getLevelsForPathway=function(e){return null===this.levels?[]:this.levels.filter((function(t){return e===t.pathwayId}))},t.updatePathwayPriority=function(e){var t;this.pathwayPriority=e;var n=this.penalizedPathways,r=performance.now();Object.keys(n).forEach((function(e){r-n[e]>3e5&&delete n[e]}));for(var i=0;i<e.length;i++){var a=e[i];if(!(a in n)){if(a===this.pathwayId)return;var o=this.hls.nextLoadLevel,s=this.hls.levels[o];if((t=this.getLevelsForPathway(a)).length>0){this.log('Setting Pathway to "'+a+'"'),this.pathwayId=a,tn(t),this.hls.trigger(b.LEVELS_UPDATED,{levels:t});var l=this.hls.levels[o];s&&l&&this.levels&&(l.attrs["STABLE-VARIANT-ID"]!==s.attrs["STABLE-VARIANT-ID"]&&l.bitrate!==s.bitrate&&this.log("Unstable Pathways change from bitrate "+s.bitrate+" to "+l.bitrate),this.hls.nextLoadLevel=o);break}}}},t.getPathwayForGroupId=function(e,t,n){for(var r=this.getLevelsForPathway(n).concat(this.levels||[]),i=0;i<r.length;i++)if(t===Et&&r[i].hasAudioGroup(e)||t===Tt&&r[i].hasSubtitleGroup(e))return r[i].pathwayId;return n},t.clonePathways=function(e){var t=this,n=this.levels;if(n){var r={},i={};e.forEach((function(e){var a=e.ID,o=e["BASE-ID"],s=e["URI-REPLACEMENT"];if(!n.some((function(e){return e.pathwayId===a}))){var l=t.getLevelsForPathway(o).map((function(e){var t=new P(e.attrs);t["PATHWAY-ID"]=a;var n=t.AUDIO&&t.AUDIO+"_clone_"+a,o=t.SUBTITLES&&t.SUBTITLES+"_clone_"+a;n&&(r[t.AUDIO]=n,t.AUDIO=n),o&&(i[t.SUBTITLES]=o,t.SUBTITLES=o);var l=yo(e.uri,t["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",s),u=new Wt({attrs:t,audioCodec:e.audioCodec,bitrate:e.bitrate,height:e.height,name:e.name,url:l,videoCodec:e.videoCodec,width:e.width});if(e.audioGroups)for(var c=1;c<e.audioGroups.length;c++)u.addGroupId("audio",e.audioGroups[c]+"_clone_"+a);if(e.subtitleGroups)for(var d=1;d<e.subtitleGroups.length;d++)u.addGroupId("text",e.subtitleGroups[d]+"_clone_"+a);return u}));n.push.apply(n,l),ho(t.audioTracks,r,s,a),ho(t.subtitleTracks,i,s,a)}}))}},t.loadSteeringManifest=function(e){var t,n=this,r=this.hls.config,i=r.loader;this.loader&&this.loader.destroy(),this.loader=new i(r);try{t=new self.URL(e)}catch(t){return this.enabled=!1,void this.log("Failed to parse Steering Manifest URI: "+e)}if("data:"!==t.protocol){var a=0|(this.hls.bandwidthEstimate||r.abrEwmaDefaultEstimate);t.searchParams.set("_HLS_pathway",this.pathwayId),t.searchParams.set("_HLS_throughput",""+a)}var o={responseType:"json",url:t.href},s=r.steeringManifestLoadPolicy.default,l=s.errorRetry||s.timeoutRetry||{},u={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:l.maxNumRetry||0,retryDelay:l.retryDelayMs||0,maxRetryDelay:l.maxRetryDelayMs||0},c={onSuccess:function(e,r,i,a){n.log('Loaded steering manifest: "'+t+'"');var o=e.data;if(1===o.VERSION){n.updated=performance.now(),n.timeToLoad=o.TTL;var s=o["RELOAD-URI"],l=o["PATHWAY-CLONES"],u=o["PATHWAY-PRIORITY"];if(s)try{n.uri=new self.URL(s,t).href}catch(e){return n.enabled=!1,void n.log("Failed to parse Steering Manifest RELOAD-URI: "+s)}n.scheduleRefresh(n.uri||i.url),l&&n.clonePathways(l);var c={steeringManifest:o,url:t.toString()};n.hls.trigger(b.STEERING_MANIFEST_LOADED,c),u&&n.updatePathwayPriority(u)}else n.log("Steering VERSION "+o.VERSION+" not supported!")},onError:function(e,t,r,i){if(n.log("Error loading steering manifest: "+e.code+" "+e.text+" ("+t.url+")"),n.stopLoad(),410===e.code)return n.enabled=!1,void n.log("Steering manifest "+t.url+" no longer available");var a=1e3*n.timeToLoad;if(429!==e.code)n.scheduleRefresh(n.uri||t.url,a);else{var o=n.loader;if("function"==typeof(null==o?void 0:o.getResponseHeader)){var s=o.getResponseHeader("Retry-After");s&&(a=1e3*parseFloat(s))}n.log("Steering manifest "+t.url+" rate limited")}},onTimeout:function(e,t,r){n.log("Timeout loading steering manifest ("+t.url+")"),n.scheduleRefresh(n.uri||t.url)}};this.log("Requesting steering manifest: "+t),this.loader.load(o,u,c)},t.scheduleRefresh=function(e,t){var n=this;void 0===t&&(t=1e3*this.timeToLoad),this.clearTimeout(),this.reloadTimer=self.setTimeout((function(){var t,r=null==(t=n.hls)?void 0:t.media;!r||r.ended?n.scheduleRefresh(e,1e3*n.timeToLoad):n.loadSteeringManifest(e)}),t)},e}();function ho(e,t,n,r){e&&Object.keys(t).forEach((function(i){var a=e.filter((function(e){return e.groupId===i})).map((function(e){var a=s({},e);return a.details=void 0,a.attrs=new P(a.attrs),a.url=a.attrs.URI=yo(e.url,e.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),a.groupId=a.attrs["GROUP-ID"]=t[i],a.attrs["PATHWAY-ID"]=r,a}));e.push.apply(e,a)}))}function yo(e,t,n,r){var i,a=r.HOST,o=r.PARAMS,s=r[n];t&&(i=null==s?void 0:s[t])&&(e=i);var l=new self.URL(e);return a&&!i&&(l.host=a),o&&Object.keys(o).sort().forEach((function(e){e&&l.searchParams.set(e,o[e])})),l.href}var go=/^age:\s*[\d.]+\s*$/im,vo=function(){function e(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new D,this.retryDelay=0}var t=e.prototype;return t.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null,this.stats=null},t.abortInternal=function(){var e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,4!==e.readyState&&(this.stats.aborted=!0,e.abort()))},t.abort=function(){var e;this.abortInternal(),null!=(e=this.callbacks)&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},t.load=function(e,t,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=n,this.loadInternal()},t.loadInternal=function(){var e=this,t=this.config,n=this.context;if(t&&n){var r=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;var a=this.xhrSetup;a?Promise.resolve().then((function(){if(!e.stats.aborted)return a(r,n.url)})).catch((function(e){return r.open("GET",n.url,!0),a(r,n.url)})).then((function(){e.stats.aborted||e.openAndSendXhr(r,n,t)})).catch((function(t){e.callbacks.onError({code:r.status,text:t.message},n,r,i)})):this.openAndSendXhr(r,n,t)}},t.openAndSendXhr=function(e,t,n){e.readyState||e.open("GET",t.url,!0);var r=t.headers,i=n.loadPolicy,a=i.maxTimeToFirstByteMs,o=i.maxLoadTimeMs;if(r)for(var s in r)e.setRequestHeader(s,r[s]);t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,self.clearTimeout(this.requestTimeout),n.timeout=a&&g(a)?a:o,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),e.send()},t.readystatechange=function(){var e=this.context,t=this.loader,n=this.stats;if(e&&t){var r=t.readyState,i=this.config;if(!n.aborted&&r>=2&&(0===n.loading.first&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),i.timeout!==i.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),i.timeout=i.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),4===r)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;var a=t.status,o="text"!==t.responseType;if(a>=200&&a<300&&(o&&t.response||null!==t.responseText)){n.loading.end=Math.max(self.performance.now(),n.loading.first);var s=o?t.response:t.responseText,l="arraybuffer"===t.responseType?s.byteLength:s.length;if(n.loaded=n.total=l,n.bwEstimate=8e3*n.total/(n.loading.end-n.loading.first),!this.callbacks)return;var u=this.callbacks.onProgress;if(u&&u(n,e,s,t),!this.callbacks)return;var c={url:t.responseURL,data:s,code:a};this.callbacks.onSuccess(c,n,e,t)}else{var d=i.loadPolicy.errorRetry;sn(d,n.retry,!1,{url:e.url,data:void 0,code:a})?this.retry(d):(w.error(a+" while loading "+e.url),this.callbacks.onError({code:a,text:t.statusText},e,t,n))}}}},t.loadtimeout=function(){var e,t=null==(e=this.config)?void 0:e.loadPolicy.timeoutRetry;if(sn(t,this.stats.retry,!0))this.retry(t);else{var n;w.warn("timeout while loading "+(null==(n=this.context)?void 0:n.url));var r=this.callbacks;r&&(this.abortInternal(),r.onTimeout(this.stats,this.context,this.loader))}},t.retry=function(e){var t=this.context,n=this.stats;this.retryDelay=an(e,n.retry),n.retry++,w.warn((status?"HTTP Status "+status:"Timeout")+" while loading "+(null==t?void 0:t.url)+", retrying "+n.retry+"/"+e.maxNumRetry+" in "+this.retryDelay+"ms"),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)},t.loadprogress=function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)},t.getCacheAge=function(){var e=null;if(this.loader&&go.test(this.loader.getAllResponseHeaders())){var t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e},t.getResponseHeader=function(e){return this.loader&&new RegExp("^"+e+":\\s*[\\d.]+\\s*$","im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null},e}(),mo=/(\d+)-(\d+)\/(\d+)/,bo=function(){function e(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||ko,this.controller=new self.AbortController,this.stats=new D}var t=e.prototype;return t.destroy=function(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null},t.abortInternal=function(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())},t.abort=function(){var e;this.abortInternal(),null!=(e=this.callbacks)&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},t.load=function(e,t,n){var r=this,i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();var a=function(e,t){var n={method:"GET",mode:"cors",credentials:"same-origin",signal:t,headers:new self.Headers(s({},e.headers))};return e.rangeEnd&&n.headers.set("Range","bytes="+e.rangeStart+"-"+String(e.rangeEnd-1)),n}(e,this.controller.signal),o=n.onProgress,l="arraybuffer"===e.responseType,u=l?"byteLength":"length",c=t.loadPolicy,d=c.maxTimeToFirstByteMs,p=c.maxLoadTimeMs;this.context=e,this.config=t,this.callbacks=n,this.request=this.fetchSetup(e,a),self.clearTimeout(this.requestTimeout),t.timeout=d&&g(d)?d:p,this.requestTimeout=self.setTimeout((function(){r.abortInternal(),n.onTimeout(i,e,r.response)}),t.timeout),self.fetch(this.request).then((function(a){r.response=r.loader=a;var s=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(r.requestTimeout),t.timeout=p,r.requestTimeout=self.setTimeout((function(){r.abortInternal(),n.onTimeout(i,e,r.response)}),p-(s-i.loading.start)),!a.ok){var u=a.status,c=a.statusText;throw new To(c||"fetch, bad network response",u,a)}return i.loading.first=s,i.total=function(e){var t=e.get("Content-Range");if(t){var n=function(e){var t=mo.exec(e);if(t)return parseInt(t[2])-parseInt(t[1])+1}(t);if(g(n))return n}var r=e.get("Content-Length");if(r)return parseInt(r)}(a.headers)||i.total,o&&g(t.highWaterMark)?r.loadProgressively(a,i,e,t.highWaterMark,o):l?a.arrayBuffer():"json"===e.responseType?a.json():a.text()})).then((function(a){var s=r.response;if(!s)throw new Error("loader destroyed");self.clearTimeout(r.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);var l=a[u];l&&(i.loaded=i.total=l);var c={url:s.url,data:a,code:s.status};o&&!g(t.highWaterMark)&&o(i,e,a,s),n.onSuccess(c,i,e,s)})).catch((function(t){if(self.clearTimeout(r.requestTimeout),!i.aborted){var a=t&&t.code||0,o=t?t.message:null;n.onError({code:a,text:o},e,t?t.details:null,i)}}))},t.getCacheAge=function(){var e=null;if(this.response){var t=this.response.headers.get("age");e=t?parseFloat(t):null}return e},t.getResponseHeader=function(e){return this.response?this.response.headers.get(e):null},t.loadProgressively=function(e,t,n,r,i){void 0===r&&(r=0);var a=new lr,o=e.body.getReader();return function s(){return o.read().then((function(o){if(o.done)return a.dataLength&&i(t,n,a.flush(),e),Promise.resolve(new ArrayBuffer(0));var l=o.value,u=l.length;return t.loaded+=u,u<r||a.dataLength?(a.push(l),a.dataLength>=r&&i(t,n,a.flush(),e)):i(t,n,l,e),s()})).catch((function(){return Promise.reject()}))}()},e}();function ko(e,t){return new self.Request(e.url,t)}var Eo,To=function(e){function t(t,n,r){var i;return(i=e.call(this,t)||this).code=void 0,i.details=void 0,i.code=n,i.details=r,i}return l(t,e),t}(p(Error)),_o=/\s/,Ao=r(r({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:vo,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:An,bufferController:Ii,capLevelController:Ca,errorController:pn,fpsController:xa,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:$,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,useMediaCapabilities:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:{newCue:function(e,t,n,r){for(var i,a,o,s,l,u=[],c=self.VTTCue||self.TextTrackCue,d=0;d<r.rows.length;d++)if(o=!0,s=0,l="",!(i=r.rows[d]).isEmpty()){for(var p,f=0;f<i.chars.length;f++)_o.test(i.chars[f].uchar)&&o?s++:(l+=i.chars[f].uchar,o=!1);i.cueStartTime=t,t===n&&(n+=1e-4),s>=16?s--:s++;var h=sa(l.trim()),y=pa(t,n,h);null!=e&&null!=(p=e.cues)&&p.getCueById(y)||((a=new c(t,n,h)).id=y,a.line=d+1,a.align="left",a.position=10+Math.min(80,10*Math.floor(8*s/32)),u.push(a))}return e&&u.length&&(u.sort((function(e,t){return"auto"===e.line||"auto"===t.line?0:e.line>8&&t.line>8?t.line-e.line:e.line-t.line})),u.forEach((function(t){return Rt(e,t)}))),u}},enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:wi,subtitleTrackController:xi,timelineController:Aa,audioStreamController:Ai,audioTrackController:Si,emeController:Ra,cmcdController:po,contentSteeringController:fo});function So(e){return e&&"object"==typeof e?Array.isArray(e)?e.map(So):Object.keys(e).reduce((function(t,n){return t[n]=So(e[n]),t}),{}):e}var wo=function(e){function t(t,n){var r;return(r=e.call(this,t,"[level-controller]")||this)._levels=[],r._firstLevel=-1,r._maxAutoLevel=-1,r._startLevel=void 0,r.currentLevel=null,r.currentLevelIndex=-1,r.manualLevelIndex=-1,r.steering=void 0,r.onParsedComplete=void 0,r.steering=n,r._registerListeners(),r}l(t,e);var n=t.prototype;return n._registerListeners=function(){var e=this.hls;e.on(b.MANIFEST_LOADING,this.onManifestLoading,this),e.on(b.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(b.LEVEL_LOADED,this.onLevelLoaded,this),e.on(b.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(b.FRAG_BUFFERED,this.onFragBuffered,this),e.on(b.ERROR,this.onError,this)},n._unregisterListeners=function(){var e=this.hls;e.off(b.MANIFEST_LOADING,this.onManifestLoading,this),e.off(b.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(b.LEVEL_LOADED,this.onLevelLoaded,this),e.off(b.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(b.FRAG_BUFFERED,this.onFragBuffered,this),e.off(b.ERROR,this.onError,this)},n.destroy=function(){this._unregisterListeners(),this.steering=null,this.resetLevels(),e.prototype.destroy.call(this)},n.stopLoad=function(){this._levels.forEach((function(e){e.loadError=0,e.fragmentError=0})),e.prototype.stopLoad.call(this)},n.resetLevels=function(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1},n.onManifestLoading=function(e,t){this.resetLevels()},n.onManifestLoaded=function(e,t){var n=this.hls.config.preferManagedMediaSource,r=[],i={},a={},o=!1,s=!1,l=!1;t.levels.forEach((function(e){var t,u,c=e.attrs,d=e.audioCodec,p=e.videoCodec;-1!==(null==(t=d)?void 0:t.indexOf("mp4a.40.34"))&&(Eo||(Eo=/chrome|firefox/i.test(navigator.userAgent)),Eo&&(e.audioCodec=d=void 0)),d&&(e.audioCodec=d=it(d,n)),0===(null==(u=p)?void 0:u.indexOf("avc1"))&&(p=e.videoCodec=function(e){var t=e.split(".");if(t.length>2){var n=t.shift()+".";return(n+=parseInt(t.shift()).toString(16))+("000"+parseInt(t.shift()).toString(16)).slice(-4)}return e}(p));var f=e.width,h=e.height,y=e.unknownCodecs;if(o||(o=!(!f||!h)),s||(s=!!p),l||(l=!!d),!(null!=y&&y.length||d&&!Qe(d,"audio",n)||p&&!Qe(p,"video",n))){var g=c.CODECS,v=c["FRAME-RATE"],m=c["HDCP-LEVEL"],b=c["PATHWAY-ID"],k=c.RESOLUTION,E=c["VIDEO-RANGE"],T=(b||".")+"-"+e.bitrate+"-"+k+"-"+v+"-"+g+"-"+E+"-"+m;if(i[T])if(i[T].uri===e.url||e.attrs["PATHWAY-ID"])i[T].addGroupId("audio",c.AUDIO),i[T].addGroupId("text",c.SUBTITLES);else{var _=a[T]+=1;e.attrs["PATHWAY-ID"]=new Array(_+1).join(".");var A=new Wt(e);i[T]=A,r.push(A)}else{var S=new Wt(e);i[T]=S,a[T]=1,r.push(S)}}})),this.filterAndSortMediaOptions(r,t,o,s,l)},n.filterAndSortMediaOptions=function(e,t,n,r,i){var a=this,o=[],s=[],l=e;if((n||r)&&i&&(l=l.filter((function(e){var t,n=e.videoCodec,r=e.videoRange,i=e.width,a=e.height;return(!!n||!(!i||!a))&&!!(t=r)&&Gt.indexOf(t)>-1}))),0!==l.length){if(t.audioTracks){var u=this.hls.config.preferManagedMediaSource;Co(o=t.audioTracks.filter((function(e){return!e.audioCodec||Qe(e.audioCodec,"audio",u)})))}t.subtitles&&Co(s=t.subtitles);var c=l.slice(0);l.sort((function(e,t){if(e.attrs["HDCP-LEVEL"]!==t.attrs["HDCP-LEVEL"])return(e.attrs["HDCP-LEVEL"]||"")>(t.attrs["HDCP-LEVEL"]||"")?1:-1;if(n&&e.height!==t.height)return e.height-t.height;if(e.frameRate!==t.frameRate)return e.frameRate-t.frameRate;if(e.videoRange!==t.videoRange)return Gt.indexOf(e.videoRange)-Gt.indexOf(t.videoRange);if(e.videoCodec!==t.videoCodec){var r=et(e.videoCodec),i=et(t.videoCodec);if(r!==i)return i-r}if(e.uri===t.uri&&e.codecSet!==t.codecSet){var a=tt(e.codecSet),o=tt(t.codecSet);if(a!==o)return o-a}return e.averageBitrate!==t.averageBitrate?e.averageBitrate-t.averageBitrate:0}));var d=c[0];if(this.steering&&(l=this.steering.filterParsedLevels(l)).length!==c.length)for(var p=0;p<c.length;p++)if(c[p].pathwayId===l[0].pathwayId){d=c[p];break}this._levels=l;for(var f=0;f<l.length;f++)if(l[f]===d){var h;this._firstLevel=f;var y=d.bitrate,g=this.hls.bandwidthEstimate;if(this.log("manifest loaded, "+l.length+" level(s) found, first bitrate: "+y),void 0===(null==(h=this.hls.userConfig)?void 0:h.abrEwmaDefaultEstimate)){var v=Math.min(y,this.hls.config.abrEwmaDefaultEstimateMax);v>g&&g===Ao.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=v)}break}var m=i&&!r,T={levels:l,audioTracks:o,subtitleTracks:s,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:i,video:r,altAudio:!m&&o.some((function(e){return!!e.url}))};this.hls.trigger(b.MANIFEST_PARSED,T),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else Promise.resolve().then((function(){if(a.hls){t.levels.length&&a.warn("One or more CODECS in variant not supported: "+JSON.stringify(t.levels[0].attrs));var e=new Error("no level with compatible codecs found in manifest");a.hls.trigger(b.ERROR,{type:k.MEDIA_ERROR,details:E.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:e,reason:e.message})}}))},n.onError=function(e,t){!t.fatal&&t.context&&t.context.type===kt&&t.context.level===this.level&&this.checkRetry(t)},n.onFragBuffered=function(e,t){var n=t.frag;if(void 0!==n&&n.type===_t){var r=n.elementaryStreams;if(!Object.keys(r).some((function(e){return!!r[e]})))return;var i=this._levels[n.level];null!=i&&i.loadError&&(this.log("Resetting level error count of "+i.loadError+" on frag buffered"),i.loadError=0)}},n.onLevelLoaded=function(e,t){var n,r,i=t.level,a=t.details,o=this._levels[i];if(!o)return this.warn("Invalid level index "+i),void(null!=(r=t.deliveryDirectives)&&r.skip&&(a.deltaUpdateFailed=!0));i===this.currentLevelIndex?(0===o.fragmentError&&(o.loadError=0),this.playlistLoaded(i,t,o.details)):null!=(n=t.deliveryDirectives)&&n.skip&&(a.deltaUpdateFailed=!0)},n.loadPlaylist=function(t){e.prototype.loadPlaylist.call(this);var n=this.currentLevelIndex,r=this.currentLevel;if(r&&this.shouldLoadPlaylist(r)){var i=r.uri;if(t)try{i=t.addDirectives(i)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: "+e)}var a=r.attrs["PATHWAY-ID"];this.log("Loading level index "+n+(void 0!==(null==t?void 0:t.msn)?" at sn "+t.msn+" part "+t.part:"")+" with"+(a?" Pathway "+a:"")+" "+i),this.clearTimer(),this.hls.trigger(b.LEVEL_LOADING,{url:i,level:n,pathwayId:r.attrs["PATHWAY-ID"],id:0,deliveryDirectives:t||null})}},n.removeLevel=function(e){var t,n=this,r=this._levels.filter((function(t,r){return r!==e||(n.steering&&n.steering.removeLevel(t),t===n.currentLevel&&(n.currentLevel=null,n.currentLevelIndex=-1,t.details&&t.details.fragments.forEach((function(e){return e.level=-1}))),!1)}));tn(r),this._levels=r,this.currentLevelIndex>-1&&null!=(t=this.currentLevel)&&t.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.hls.trigger(b.LEVELS_UPDATED,{levels:r})},n.onLevelsUpdated=function(e,t){var n=t.levels;this._levels=n},n.checkMaxAutoUpdated=function(){var e=this.hls,t=e.autoLevelCapping,n=e.maxAutoLevel,r=e.maxHdcpLevel;this._maxAutoLevel!==n&&(this._maxAutoLevel=n,this.hls.trigger(b.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:t,levels:this.levels,maxAutoLevel:n,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:r}))},o(t,[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;if(0!==t.length){if(e<0||e>=t.length){var n=new Error("invalid level idx"),r=e<0;if(this.hls.trigger(b.ERROR,{type:k.OTHER_ERROR,details:E.LEVEL_SWITCH_ERROR,level:e,fatal:r,error:n,reason:n.message}),r)return;e=Math.min(e,t.length-1)}var i=this.currentLevelIndex,a=this.currentLevel,o=a?a.attrs["PATHWAY-ID"]:void 0,s=t[e],l=s.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=s,i!==e||!s.details||!a||o!==l){this.log("Switching to level "+e+" ("+(s.height?s.height+"p ":"")+(s.videoRange?s.videoRange+" ":"")+(s.codecSet?s.codecSet+" ":"")+"@"+s.bitrate+")"+(l?" with Pathway "+l:"")+" from level "+i+(o?" with Pathway "+o:""));var u={level:e,attrs:s.attrs,details:s.details,bitrate:s.bitrate,averageBitrate:s.averageBitrate,maxBitrate:s.maxBitrate,realBitrate:s.realBitrate,width:s.width,height:s.height,codecSet:s.codecSet,audioCodec:s.audioCodec,videoCodec:s.videoCodec,audioGroups:s.audioGroups,subtitleGroups:s.subtitleGroups,loaded:s.loaded,loadError:s.loadError,fragmentError:s.fragmentError,name:s.name,id:s.id,uri:s.uri,url:s.url,urlId:0,audioGroupIds:s.audioGroupIds,textGroupIds:s.textGroupIds};this.hls.trigger(b.LEVEL_SWITCHING,u);var c=s.details;if(!c||c.live){var d=this.switchParams(s.uri,null==a?void 0:a.details,c);this.loadPlaylist(d)}}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this.hls.firstAutoLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}]),t}(fn);function Co(e){var t={};e.forEach((function(e){var n=e.groupId||"";e.id=t[n]=t[n]||0,t[n]++}))}var xo=function(){function e(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}var t=e.prototype;return t.abort=function(e){for(var t in this.keyUriToKeyInfo){var n=this.keyUriToKeyInfo[t].loader;if(n){var r;if(e&&e!==(null==(r=n.context)?void 0:r.frag.type))return;n.abort()}}},t.detach=function(){for(var e in this.keyUriToKeyInfo){var t=this.keyUriToKeyInfo[e];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}},t.destroy=function(){for(var e in this.detach(),this.keyUriToKeyInfo){var t=this.keyUriToKeyInfo[e].loader;t&&t.destroy()}this.keyUriToKeyInfo={}},t.createKeyLoadError=function(e,t,n,r,i){return void 0===t&&(t=E.KEY_LOAD_ERROR),new Kn({type:k.NETWORK_ERROR,details:t,fatal:!1,frag:e,response:i,error:n,networkDetails:r})},t.loadClear=function(e,t){var n=this;if(this.emeController&&this.config.emeEnabled)for(var r=e.sn,i=e.cc,a=function(){var e=t[o];if(i<=e.cc&&("initSegment"===r||"initSegment"===e.sn||r<e.sn))return n.emeController.selectKeySystemFormat(e).then((function(t){e.setKeyFormat(t)})),1},o=0;o<t.length&&!a();o++);},t.load=function(e){var t=this;return!e.decryptdata&&e.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(e).then((function(n){return t.loadInternal(e,n)})):this.loadInternal(e)},t.loadInternal=function(e,t){var n,r;t&&e.setKeyFormat(t);var i=e.decryptdata;if(!i){var a=new Error(t?"Expected frag.decryptdata to be defined after setting format "+t:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,E.KEY_LOAD_ERROR,a))}var o=i.uri;if(!o)return Promise.reject(this.createKeyLoadError(e,E.KEY_LOAD_ERROR,new Error('Invalid key URI: "'+o+'"')));var s,l=this.keyUriToKeyInfo[o];if(null!=(n=l)&&n.decryptdata.key)return i.key=l.decryptdata.key,Promise.resolve({frag:e,keyInfo:l});if(null!=(r=l)&&r.keyLoadPromise)switch(null==(s=l.mediaKeySessionContext)?void 0:s.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return l.keyLoadPromise.then((function(t){return i.key=t.keyInfo.decryptdata.key,{frag:e,keyInfo:l}}))}switch(l=this.keyUriToKeyInfo[o]={decryptdata:i,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},i.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===i.keyFormat?this.loadKeyHTTP(l,e):this.loadKeyEME(l,e);case"AES-128":return this.loadKeyHTTP(l,e);default:return Promise.reject(this.createKeyLoadError(e,E.KEY_LOAD_ERROR,new Error('Key supplied with unsupported METHOD: "'+i.method+'"')))}},t.loadKeyEME=function(e,t){var n={frag:t,keyInfo:e};if(this.emeController&&this.config.emeEnabled){var r=this.emeController.loadKey(n);if(r)return(e.keyLoadPromise=r.then((function(t){return e.mediaKeySessionContext=t,n}))).catch((function(t){throw e.keyLoadPromise=null,t}))}return Promise.resolve(n)},t.loadKeyHTTP=function(e,t){var n=this,i=this.config,a=new(0,i.loader)(i);return t.keyLoader=e.loader=a,e.keyLoadPromise=new Promise((function(o,s){var l={keyInfo:e,frag:t,responseType:"arraybuffer",url:e.decryptdata.uri},u=i.keyLoadPolicy.default,c={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:function(e,t,r,i){var a=r.frag,l=r.keyInfo,u=r.url;if(!a.decryptdata||l!==n.keyUriToKeyInfo[u])return s(n.createKeyLoadError(a,E.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),i));l.decryptdata.key=a.decryptdata.key=new Uint8Array(e.data),a.keyLoader=null,l.loader=null,o({frag:a,keyInfo:l})},onError:function(e,i,a,o){n.resetLoader(i),s(n.createKeyLoadError(t,E.KEY_LOAD_ERROR,new Error("HTTP Error "+e.code+" loading key "+e.text),a,r({url:l.url,data:void 0},e)))},onTimeout:function(e,r,i){n.resetLoader(r),s(n.createKeyLoadError(t,E.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),i))},onAbort:function(e,r,i){n.resetLoader(r),s(n.createKeyLoadError(t,E.INTERNAL_ABORTED,new Error("key loading aborted"),i))}};a.load(l,c,d)}))},t.resetLoader=function(e){var t=e.frag,n=e.keyInfo,r=e.url,i=n.loader;t.keyLoader===i&&(t.keyLoader=null,n.loader=null),delete this.keyUriToKeyInfo[r],i&&i.destroy()},e}();function Po(){return self.SourceBuffer||self.WebKitSourceBuffer}function Ro(){if(!qe())return!1;var e=Po();return!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove}var Io=function(){function e(e,t,n,r){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=t,this.fragmentTracker=n,this.hls=r}var t=e.prototype;return t.destroy=function(){this.media=null,this.hls=this.fragmentTracker=null},t.poll=function(e,t){var n=this.config,r=this.media,i=this.stalled;if(null!==r){var a=r.currentTime,o=r.seeking,s=this.seeking&&!o,l=!this.seeking&&o;if(this.seeking=o,a===e)if(l||s)this.stalled=null;else if(r.paused&&!o||r.ended||0===r.playbackRate||!Ln.getBuffered(r).length)this.nudgeRetry=0;else{var u=Ln.bufferInfo(r,a,0),c=u.nextStart||0;if(o){var d=u.len>2,p=!c||t&&t.start<=a||c-a>2&&!this.fragmentTracker.getPartialFragment(a);if(d||p)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var f;if(!(u.len>0||c))return;var h=Math.max(c,u.start||0)-a,y=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,g=(null==y||null==(f=y.details)?void 0:f.live)?2*y.details.targetduration:2,v=this.fragmentTracker.getPartialFragment(a);if(h>0&&(h<=g||v))return void(r.paused||this._trySkipBufferHole(v))}var m=self.performance.now();if(null!==i){var b=m-i;if(o||!(b>=250)||(this._reportStall(u),this.media)){var k=Ln.bufferInfo(r,a,n.maxBufferHole);this._tryFixBufferStall(k,b)}}else this.stalled=m}else if(this.moved=!0,o||(this.nudgeRetry=0),null!==i){if(this.stallReported){var E=self.performance.now()-i;w.warn("playback not stuck anymore @"+a+", after "+Math.round(E)+"ms"),this.stallReported=!1}this.stalled=null}}},t._tryFixBufferStall=function(e,t){var n=this.config,r=this.fragmentTracker,i=this.media;if(null!==i){var a=i.currentTime,o=r.getPartialFragment(a);if(o&&(this._trySkipBufferHole(o)||!this.media))return;(e.len>n.maxBufferHole||e.nextStart&&e.nextStart-a<n.maxBufferHole)&&t>1e3*n.highBufferWatchdogPeriod&&(w.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}},t._reportStall=function(e){var t=this.hls,n=this.media;if(!this.stallReported&&n){this.stallReported=!0;var r=new Error("Playback stalling at @"+n.currentTime+" due to low buffer ("+JSON.stringify(e)+")");w.warn(r.message),t.trigger(b.ERROR,{type:k.MEDIA_ERROR,details:E.BUFFER_STALLED_ERROR,fatal:!1,error:r,buffer:e.len})}},t._trySkipBufferHole=function(e){var t=this.config,n=this.hls,r=this.media;if(null===r)return 0;var i=r.currentTime,a=Ln.bufferInfo(r,i,0),o=i<a.start?a.start:a.nextStart;if(o){var s=a.len<=t.maxBufferHole,l=a.len>0&&a.len<1&&r.readyState<3,u=o-i;if(u>0&&(s||l)){if(u>t.maxBufferHole){var c=this.fragmentTracker,d=!1;if(0===i){var p=c.getAppendedFrag(0,_t);p&&o<p.end&&(d=!0)}if(!d){var f=e||c.getAppendedFrag(i,_t);if(f){for(var h=!1,y=f.end;y<o;){var g=c.getPartialFragment(y);if(!g){h=!0;break}y+=g.duration}if(h)return 0}}}var v=Math.max(o+.05,i+.1);if(w.warn("skipping hole, adjusting currentTime from "+i+" to "+v),this.moved=!0,this.stalled=null,r.currentTime=v,e&&!e.gap){var m=new Error("fragment loaded with buffer holes, seeking from "+i+" to "+v);n.trigger(b.ERROR,{type:k.MEDIA_ERROR,details:E.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:m,reason:m.message,frag:e})}return v}}return 0},t._tryNudgeBuffer=function(){var e=this.config,t=this.hls,n=this.media,r=this.nudgeRetry;if(null!==n){var i=n.currentTime;if(this.nudgeRetry++,r<e.nudgeMaxRetry){var a=i+(r+1)*e.nudgeOffset,o=new Error("Nudging 'currentTime' from "+i+" to "+a);w.warn(o.message),n.currentTime=a,t.trigger(b.ERROR,{type:k.MEDIA_ERROR,details:E.BUFFER_NUDGE_ON_STALL,error:o,fatal:!1})}else{var s=new Error("Playhead still not moving while enough data buffered @"+i+" after "+e.nudgeMaxRetry+" nudges");w.error(s.message),t.trigger(b.ERROR,{type:k.MEDIA_ERROR,details:E.BUFFER_STALLED_ERROR,error:s,fatal:!0})}}},e}(),Do=function(e){function t(t,n,r){var i;return(i=e.call(this,t,n,r,"[stream-controller]",_t)||this).audioCodecSwap=!1,i.gapController=null,i.level=-1,i._forceStartLoad=!1,i.altAudio=!1,i.audioOnly=!1,i.fragPlaying=null,i.onvplaying=null,i.onvseeked=null,i.fragLastKbps=0,i.couldBacktrack=!1,i.backtrackFragment=null,i.audioCodecSwitch=!1,i.videoBuffer=null,i._registerListeners(),i}l(t,e);var n=t.prototype;return n._registerListeners=function(){var e=this.hls;e.on(b.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(b.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(b.MANIFEST_LOADING,this.onManifestLoading,this),e.on(b.MANIFEST_PARSED,this.onManifestParsed,this),e.on(b.LEVEL_LOADING,this.onLevelLoading,this),e.on(b.LEVEL_LOADED,this.onLevelLoaded,this),e.on(b.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(b.ERROR,this.onError,this),e.on(b.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(b.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(b.BUFFER_CREATED,this.onBufferCreated,this),e.on(b.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(b.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(b.FRAG_BUFFERED,this.onFragBuffered,this)},n._unregisterListeners=function(){var e=this.hls;e.off(b.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(b.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(b.MANIFEST_LOADING,this.onManifestLoading,this),e.off(b.MANIFEST_PARSED,this.onManifestParsed,this),e.off(b.LEVEL_LOADED,this.onLevelLoaded,this),e.off(b.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(b.ERROR,this.onError,this),e.off(b.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(b.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(b.BUFFER_CREATED,this.onBufferCreated,this),e.off(b.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(b.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(b.FRAG_BUFFERED,this.onFragBuffered,this)},n.onHandlerDestroying=function(){this._unregisterListeners(),e.prototype.onHandlerDestroying.call(this)},n.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){var r=n.startLevel;-1===r&&(n.config.testBandwidth&&this.levels.length>1?(r=0,this.bitrateTest=!0):r=n.firstAutoLevel),n.nextLoadLevel=r,this.level=n.loadLevel,this.loadedmetadata=!1}t>0&&-1===e&&(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=Xn,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=qn},n.stopLoad=function(){this._forceStartLoad=!1,e.prototype.stopLoad.call(this)},n.doTick=function(){switch(this.state){case or:var e=this.levels,t=this.level,n=null==e?void 0:e[t],r=null==n?void 0:n.details;if(r&&(!r.live||this.levelLastLoaded===n)){if(this.waitForCdnTuneIn(r))break;this.state=Xn;break}if(this.hls.nextLoadLevel!==this.level){this.state=Xn;break}break;case $n:var i,a=self.performance.now(),o=this.retryDate;if(!o||a>=o||null!=(i=this.media)&&i.seeking){var s=this.levels,l=this.level,u=null==s?void 0:s[l];this.resetStartWhenNotLoaded(u||null),this.state=Xn}}this.state===Xn&&this.doTickIdle(),this.onTickEnd()},n.onTickEnd=function(){e.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},n.doTickIdle=function(){var e=this.hls,t=this.levelLastLoaded,n=this.levels,r=this.media;if(null!==t&&(r||!this.startFragRequested&&e.config.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)){var i=e.nextLoadLevel;if(null!=n&&n[i]){var a=n[i],o=this.getMainFwdBufferInfo();if(null!==o){var s=this.getLevelDetails();if(s&&this._streamEnded(o,s)){var l={};return this.altAudio&&(l.type="video"),this.hls.trigger(b.BUFFER_EOS,l),void(this.state=rr)}e.loadLevel!==i&&-1===e.manualLevel&&this.log("Adapting to level "+i+" from level "+this.level),this.level=e.nextLoadLevel=i;var u=a.details;if(!u||this.state===or||u.live&&this.levelLastLoaded!==a)return this.level=i,void(this.state=or);var c=o.len,d=this.getMaxBufferLength(a.maxBitrate);if(!(c>=d)){this.backtrackFragment&&this.backtrackFragment.start>o.end&&(this.backtrackFragment=null);var p=this.backtrackFragment?this.backtrackFragment.start:o.end,f=this.getNextFragment(p,u);if(this.couldBacktrack&&!this.fragPrevious&&f&&"initSegment"!==f.sn&&this.fragmentTracker.getState(f)!==Pn){var h,y=(null!=(h=this.backtrackFragment)?h:f).sn-u.startSN,g=u.fragments[y-1];g&&f.cc===g.cc&&(f=g,this.fragmentTracker.removeFragment(g))}else this.backtrackFragment&&o.len&&(this.backtrackFragment=null);if(f&&this.isLoopLoading(f,p)){if(!f.gap){var v=this.audioOnly&&!this.altAudio?O:L,m=(v===L?this.videoBuffer:this.mediaBuffer)||this.media;m&&this.afterBufferFlushed(m,v,_t)}f=this.getNextFragmentLoopLoading(f,u,o,_t,d)}f&&(!f.initSegment||f.initSegment.data||this.bitrateTest||(f=f.initSegment),this.loadFragment(f,a,p))}}}}},n.loadFragment=function(t,n,r){var i=this.fragmentTracker.getState(t);this.fragCurrent=t,i===wn||i===xn?"initSegment"===t.sn?this._loadInitSegment(t,n):this.bitrateTest?(this.log("Fragment "+t.sn+" of level "+t.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(t,n)):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,n,r)):this.clearTrackerIfNeeded(t)},n.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,_t)},n.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.end+.5):null},n.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},n.nextLevelSwitch=function(){var e=this.levels,t=this.media;if(null!=t&&t.readyState){var n,r=this.getAppendedFrag(t.currentTime);r&&r.start>1&&this.flushMainBuffer(0,r.start-1);var i=this.getLevelDetails();if(null!=i&&i.live){var a=this.getMainFwdBufferInfo();if(!a||a.len<2*i.targetduration)return}if(!t.paused&&e){var o=e[this.hls.nextLoadLevel],s=this.fragLastKbps;n=s&&this.fragCurrent?this.fragCurrent.duration*o.maxBitrate/(1e3*s)+1:0}else n=0;var l=this.getBufferedFrag(t.currentTime+n);if(l){var u=this.followingBufferedFrag(l);if(u){this.abortCurrentFrag();var c=u.maxStartPTS?u.maxStartPTS:u.start,d=u.duration,p=Math.max(l.end,c+Math.min(Math.max(d-this.config.maxFragLookUpTolerance,d*(this.couldBacktrack?.5:.125)),d*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(p,Number.POSITIVE_INFINITY)}}}},n.abortCurrentFrag=function(){var e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case Qn:case Jn:case $n:case tr:case nr:this.state=Xn}this.nextLoadPosition=this.getLoadPosition()},n.flushMainBuffer=function(t,n){e.prototype.flushMainBuffer.call(this,t,n,this.altAudio?"video":null)},n.onMediaAttached=function(t,n){e.prototype.onMediaAttached.call(this,t,n);var r=n.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),r.addEventListener("playing",this.onvplaying),r.addEventListener("seeked",this.onvseeked),this.gapController=new Io(this.config,r,this.fragmentTracker,this.hls)},n.onMediaDetaching=function(){var t=this.media;t&&this.onvplaying&&this.onvseeked&&(t.removeEventListener("playing",this.onvplaying),t.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),e.prototype.onMediaDetaching.call(this)},n.onMediaPlaying=function(){this.tick()},n.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:null;g(t)&&this.log("Media seeked to "+t.toFixed(3));var n=this.getMainFwdBufferInfo();null!==n&&0!==n.len?this.tick():this.warn('Main forward buffer length on "seeked" event '+(n?n.len:"empty")+")")},n.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(b.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=this.fragLastKbps=0,this.levels=this.fragPlaying=this.backtrackFragment=this.levelLastLoaded=null,this.altAudio=this.audioOnly=this.startFragRequested=!1},n.onManifestParsed=function(e,t){var n,r,i=!1,a=!1;t.levels.forEach((function(e){var t=e.audioCodec;t&&(i=i||-1!==t.indexOf("mp4a.40.2"),a=a||-1!==t.indexOf("mp4a.40.5"))})),this.audioCodecSwitch=i&&a&&!("function"==typeof(null==(r=Po())||null==(n=r.prototype)?void 0:n.changeType)),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1},n.onLevelLoading=function(e,t){var n=this.levels;if(n&&this.state===Xn){var r=n[t.level];(!r.details||r.details.live&&this.levelLastLoaded!==r||this.waitForCdnTuneIn(r.details))&&(this.state=or)}},n.onLevelLoaded=function(e,t){var n,r=this.levels,i=t.level,a=t.details,o=a.totalduration;if(r){this.log("Level "+i+" loaded ["+a.startSN+","+a.endSN+"]"+(a.lastPartSn?"[part-"+a.lastPartSn+"-"+a.lastPartIndex+"]":"")+", cc ["+a.startCC+", "+a.endCC+"] duration:"+o);var s=r[i],l=this.fragCurrent;!l||this.state!==Jn&&this.state!==$n||l.level!==t.level&&l.loader&&this.abortCurrentFrag();var u=0;if(a.live||null!=(n=s.details)&&n.live){var c;if(this.checkLiveUpdate(a),a.deltaUpdateFailed)return;u=this.alignPlaylists(a,s.details,null==(c=this.levelLastLoaded)?void 0:c.details)}if(s.details=a,this.levelLastLoaded=s,this.hls.trigger(b.LEVEL_UPDATED,{details:a,level:i}),this.state===or){if(this.waitForCdnTuneIn(a))return;this.state=Xn}this.startFragRequested?a.live&&this.synchronizeToLiveEdge(a):this.setStartPosition(a,u),this.tick()}else this.warn("Levels were reset while loading level "+i)},n._handleFragmentLoadProgress=function(e){var t,n=e.frag,r=e.part,i=e.payload,a=this.levels;if(a){var o=a[n.level],s=o.details;if(!s)return this.warn("Dropping fragment "+n.sn+" of level "+n.level+" after level details were reset"),void this.fragmentTracker.removeFragment(n);var l=o.videoCodec,u=s.PTSKnown||!s.live,c=null==(t=n.initSegment)?void 0:t.data,d=this._getAudioCodec(o),p=this.transmuxer=this.transmuxer||new ki(this.hls,_t,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),f=r?r.index:-1,h=-1!==f,y=new Mn(n.level,n.sn,n.stats.chunkCount,i.byteLength,f,h),g=this.initPTS[n.cc];p.push(i,c,d,l,n,r,s.totalduration,u,y,g)}else this.warn("Levels were reset while fragment load was in progress. Fragment "+n.sn+" of level "+n.level+" will not be buffered")},n.onAudioTrackSwitching=function(e,t){var n=this.altAudio;if(!t.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var r=this.fragCurrent;r&&(this.log("Switching to main audio track, cancel main fragment load"),r.abortRequests(),this.fragmentTracker.removeFragment(r)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var i=this.hls;n&&(i.trigger(b.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),i.trigger(b.AUDIO_TRACK_SWITCHED,t)}},n.onAudioTrackSwitched=function(e,t){var n=t.id,r=!!this.hls.audioTracks[n].url;if(r){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=r,this.tick()},n.onBufferCreated=function(e,t){var n,r,i=t.tracks,a=!1;for(var o in i){var s=i[o];if("main"===s.id){if(r=o,n=s,"video"===o){var l=i[o];l&&(this.videoBuffer=l.buffer)}}else a=!0}a&&n?(this.log("Alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media},n.onFragBuffered=function(e,t){var n=t.frag,r=t.part;if(!n||n.type===_t){if(this.fragContextChanged(n))return this.warn("Fragment "+n.sn+(r?" p: "+r.index:"")+" of level "+n.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===nr&&(this.state=Xn));var i=r?r.stats:n.stats;this.fragLastKbps=Math.round(8*i.total/(i.buffering.end-i.loading.first)),"initSegment"!==n.sn&&(this.fragPrevious=n),this.fragBufferedComplete(n,r)}},n.onError=function(e,t){var n;if(t.fatal)this.state=ir;else switch(t.details){case E.FRAG_GAP:case E.FRAG_PARSING_ERROR:case E.FRAG_DECRYPT_ERROR:case E.FRAG_LOAD_ERROR:case E.FRAG_LOAD_TIMEOUT:case E.KEY_LOAD_ERROR:case E.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(_t,t);break;case E.LEVEL_LOAD_ERROR:case E.LEVEL_LOAD_TIMEOUT:case E.LEVEL_PARSING_ERROR:t.levelRetry||this.state!==or||(null==(n=t.context)?void 0:n.type)!==kt||(this.state=Xn);break;case E.BUFFER_APPEND_ERROR:case E.BUFFER_FULL_ERROR:if(!t.parent||"main"!==t.parent)return;if(t.details===E.BUFFER_APPEND_ERROR)return void this.resetLoadingState();this.reduceLengthAndFlushBuffer(t)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case E.INTERNAL_EXCEPTION:this.recoverWorkerError(t)}},n.checkBuffer=function(){var e=this.media,t=this.gapController;if(e&&t&&e.readyState){if(this.loadedmetadata||!Ln.getBuffered(e).length){var n=this.state!==Xn?this.fragCurrent:null;t.poll(this.lastCurrentTime,n)}this.lastCurrentTime=e.currentTime}},n.onFragLoadEmergencyAborted=function(){this.state=Xn,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},n.onBufferFlushed=function(e,t){var n=t.type;if(n!==O||this.audioOnly&&!this.altAudio){var r=(n===L?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(r,n,_t),this.tick()}},n.onLevelsUpdated=function(e,t){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level),this.levels=t.levels},n.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},n.seekToStartPos=function(){var e=this.media;if(e){var t=e.currentTime,n=this.startPosition;if(n>=0&&t<n){if(e.seeking)return void this.log("could not seek to "+n+", already seeking at "+t);var r=Ln.getBuffered(e),i=(r.length?r.start(0):0)-n;i>0&&(i<this.config.maxBufferHole||i<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by "+i+" to match buffer start"),n+=i,this.startPosition=n),this.log("seek to target start position "+n+" from current time "+t),e.currentTime=n}}},n._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t},n._loadBitrateTestFrag=function(e,t){var n=this;e.bitrateTest=!0,this._doFragLoad(e,t).then((function(r){var i=n.hls;if(r&&!n.fragContextChanged(e)){t.fragmentError=0,n.state=Xn,n.startFragRequested=!1,n.bitrateTest=!1;var a=e.stats;a.parsing.start=a.parsing.end=a.buffering.start=a.buffering.end=self.performance.now(),i.trigger(b.FRAG_LOADED,r),e.bitrateTest=!1}}))},n._handleTransmuxComplete=function(e){var t,n="main",r=this.hls,i=e.remuxResult,a=e.chunkMeta,o=this.getCurrentContext(a);if(o){var s=o.frag,l=o.part,u=o.level,c=i.video,d=i.text,p=i.id3,f=i.initSegment,h=u.details,y=this.altAudio?void 0:i.audio;if(this.fragContextChanged(s))this.fragmentTracker.removeFragment(s);else{if(this.state=tr,f){if(null!=f&&f.tracks){var v=s.initSegment||s;this._bufferInitSegment(u,f.tracks,v,a),r.trigger(b.FRAG_PARSING_INIT_SEGMENT,{frag:v,id:n,tracks:f.tracks})}var m=f.initPTS,k=f.timescale;g(m)&&(this.initPTS[s.cc]={baseTime:m,timescale:k},r.trigger(b.INIT_PTS_FOUND,{frag:s,id:n,initPTS:m,timescale:k}))}if(c&&h&&"initSegment"!==s.sn){var E=h.fragments[s.sn-1-h.startSN],T=s.sn===h.startSN,_=!E||s.cc>E.cc;if(!1!==i.independent){var A=c.startPTS,S=c.endPTS,w=c.startDTS,C=c.endDTS;if(l)l.elementaryStreams[c.type]={startPTS:A,endPTS:S,startDTS:w,endDTS:C};else if(c.firstKeyFrame&&c.independent&&1===a.id&&!_&&(this.couldBacktrack=!0),c.dropped&&c.independent){var x=this.getMainFwdBufferInfo(),P=(x?x.end:this.getLoadPosition())+this.config.maxBufferHole,R=c.firstKeyFramePTS?c.firstKeyFramePTS:A;if(!T&&P<R-this.config.maxBufferHole&&!_)return void this.backtrack(s);_&&(s.gap=!0),s.setElementaryStreamInfo(c.type,s.start,S,s.start,C,!0)}else T&&A>2&&(s.gap=!0);s.setElementaryStreamInfo(c.type,A,S,w,C),this.backtrackFragment&&(this.backtrackFragment=s),this.bufferFragmentData(c,s,l,a,T||_)}else{if(!T&&!_)return void this.backtrack(s);s.gap=!0}}if(y){var I=y.startPTS,D=y.endPTS,L=y.startDTS,M=y.endDTS;l&&(l.elementaryStreams[O]={startPTS:I,endPTS:D,startDTS:L,endDTS:M}),s.setElementaryStreamInfo(O,I,D,L,M),this.bufferFragmentData(y,s,l,a)}if(h&&null!=p&&null!=(t=p.samples)&&t.length){var N={id:n,frag:s,details:h,samples:p.samples};r.trigger(b.FRAG_PARSING_METADATA,N)}if(h&&d){var U={id:n,frag:s,details:h,samples:d.samples};r.trigger(b.FRAG_PARSING_USERDATA,U)}}}else this.resetWhenMissingContext(a)},n._bufferInitSegment=function(e,t,n,r){var i=this;if(this.state===tr){this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;var a=t.audio,o=t.video,s=t.audiovideo;if(a){var l=e.audioCodec,u=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(l&&(l=-1!==l.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==a.metadata.channelCount&&-1===u.indexOf("firefox")&&(l="mp4a.40.5")),l&&-1!==l.indexOf("mp4a.40.5")&&-1!==u.indexOf("android")&&"audio/mpeg"!==a.container&&(l="mp4a.40.2",this.log("Android: force audio codec to "+l)),e.audioCodec&&e.audioCodec!==l&&this.log('Swapping manifest audio codec "'+e.audioCodec+'" for "'+l+'"'),a.levelCodec=l,a.id="main",this.log("Init audio buffer, container:"+a.container+", codecs[selected/level/parsed]=["+(l||"")+"/"+(e.audioCodec||"")+"/"+a.codec+"]")}o&&(o.levelCodec=e.videoCodec,o.id="main",this.log("Init video buffer, container:"+o.container+", codecs[level/parsed]=["+(e.videoCodec||"")+"/"+o.codec+"]")),s&&this.log("Init audiovideo buffer, container:"+s.container+", codecs[level/parsed]=["+e.codecs+"/"+s.codec+"]"),this.hls.trigger(b.BUFFER_CODECS,t),Object.keys(t).forEach((function(e){var a=t[e].initSegment;null!=a&&a.byteLength&&i.hls.trigger(b.BUFFER_APPENDING,{type:e,data:a,frag:n,part:null,chunkMeta:r,parent:n.type})})),this.tickImmediate()}},n.getMainFwdBufferInfo=function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,_t)},n.backtrack=function(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=Xn},n.checkFragmentChanged=function(){var e=this.media,t=null;if(e&&e.readyState>1&&!1===e.seeking){var n=e.currentTime;if(Ln.isBuffered(e,n)?t=this.getAppendedFrag(n):Ln.isBuffered(e,n+.1)&&(t=this.getAppendedFrag(n+.1)),t){this.backtrackFragment=null;var r=this.fragPlaying,i=t.level;r&&t.sn===r.sn&&r.level===i||(this.fragPlaying=t,this.hls.trigger(b.FRAG_CHANGED,{frag:t}),r&&r.level===i||this.hls.trigger(b.LEVEL_SWITCHED,{level:i}))}}},o(t,[{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"currentFrag",get:function(){var e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}},{key:"currentProgramDateTime",get:function(){var e=this.media;if(e){var t=e.currentTime,n=this.currentFrag;if(n&&g(t)&&g(n.programDateTime)){var r=n.programDateTime+1e3*(t-n.start);return new Date(r)}}return null}},{key:"currentLevel",get:function(){var e=this.currentFrag;return e?e.level:-1}},{key:"nextBufferedFrag",get:function(){var e=this.currentFrag;return e?this.followingBufferedFrag(e):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]),t}(sr),Oo=function(){function e(t){void 0===t&&(t={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this.started=!1,this._emitter=new gi,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,this.triggeringException=void 0,S(t.debug||!1,"Hls instance");var n=this.config=function(e,t){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==t.liveMaxLatencyDurationCount&&(void 0===t.liveSyncDurationCount||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(void 0===t.liveSyncDuration||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');var n=So(e),i=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach((function(e){var r=("level"===e?"playlist":e)+"LoadPolicy",a=void 0===t[r],o=[];i.forEach((function(i){var s=e+"Loading"+i,l=t[s];if(void 0!==l&&a){o.push(s);var u=n[r].default;switch(t[r]={default:u},i){case"TimeOut":u.maxLoadTimeMs=l,u.maxTimeToFirstByteMs=l;break;case"MaxRetry":u.errorRetry.maxNumRetry=l,u.timeoutRetry.maxNumRetry=l;break;case"RetryDelay":u.errorRetry.retryDelayMs=l,u.timeoutRetry.retryDelayMs=l;break;case"MaxRetryTimeout":u.errorRetry.maxRetryDelayMs=l,u.timeoutRetry.maxRetryDelayMs=l}}})),o.length&&w.warn('hls.js config: "'+o.join('", "')+'" setting(s) are deprecated, use "'+r+'": '+JSON.stringify(t[r]))})),r(r({},n),t)}(e.DefaultConfig,t);this.userConfig=t,n.progressive&&function(e){var t=e.loader;t!==bo&&t!==vo?(w.log("[config]: Custom loader detected, cannot enable progressive streaming"),e.progressive=!1):function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(e){}return!1}()&&(e.loader=bo,e.progressive=!0,e.enableSoftwareAES=!0,w.log("[config]: Progressive streaming enabled, using FetchLoader"))}(n);var i=n.abrController,a=n.bufferController,o=n.capLevelController,s=n.errorController,l=n.fpsController,u=new s(this),c=this.abrController=new i(this),d=this.bufferController=new a(this),p=this.capLevelController=new o(this),f=new l(this),h=new xt(this),y=new jt(this),g=n.contentSteeringController,v=g?new g(this):null,m=this.levelController=new wo(this,v),k=new Rn(this),E=new xo(this.config),T=this.streamController=new Do(this,k,E);p.setStreamController(T),f.setStreamController(T);var _=[h,m,T];v&&_.splice(1,0,v),this.networkControllers=_;var A=[c,d,p,f,y,k];this.audioTrackController=this.createController(n.audioTrackController,_);var C=n.audioStreamController;C&&_.push(new C(this,k,E)),this.subtitleTrackController=this.createController(n.subtitleTrackController,_);var x=n.subtitleStreamController;x&&_.push(new x(this,k,E)),this.createController(n.timelineController,A),E.emeController=this.emeController=this.createController(n.emeController,A),this.cmcdController=this.createController(n.cmcdController,A),this.latencyController=this.createController(Ht,A),this.coreComponents=A,_.push(u);var P=u.onErrorOut;"function"==typeof P&&this.on(b.ERROR,P,u)}e.isMSESupported=function(){return Ro()},e.isSupported=function(){return function(){if(!Ro())return!1;var e=qe();return"function"==typeof(null==e?void 0:e.isTypeSupported)&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some((function(t){return e.isTypeSupported($e(t,"video"))}))||["mp4a.40.2","fLaC"].some((function(t){return e.isTypeSupported($e(t,"audio"))})))}()},e.getMediaSource=function(){return qe()};var t=e.prototype;return t.createController=function(e,t){if(e){var n=new e(this);return t&&t.push(n),n}return null},t.on=function(e,t,n){void 0===n&&(n=this),this._emitter.on(e,t,n)},t.once=function(e,t,n){void 0===n&&(n=this),this._emitter.once(e,t,n)},t.removeAllListeners=function(e){this._emitter.removeAllListeners(e)},t.off=function(e,t,n,r){void 0===n&&(n=this),this._emitter.off(e,t,n,r)},t.listeners=function(e){return this._emitter.listeners(e)},t.emit=function(e,t,n){return this._emitter.emit(e,t,n)},t.trigger=function(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(t){if(w.error("An internal error happened while handling event "+e+'. Error message: "'+t.message+'". Here is a stacktrace:',t),!this.triggeringException){this.triggeringException=!0;var n=e===b.ERROR;this.trigger(b.ERROR,{type:k.OTHER_ERROR,details:E.INTERNAL_EXCEPTION,fatal:n,event:e,error:t}),this.triggeringException=!1}}return!1},t.listenerCount=function(e){return this._emitter.listenerCount(e)},t.destroy=function(){w.log("destroy"),this.trigger(b.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(e){return e.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(e){return e.destroy()})),this.coreComponents.length=0;var e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null},t.attachMedia=function(e){w.log("attachMedia"),this._media=e,this.trigger(b.MEDIA_ATTACHING,{media:e})},t.detachMedia=function(){w.log("detachMedia"),this.trigger(b.MEDIA_DETACHING,void 0),this._media=null},t.loadSource=function(e){this.stopLoad();var t=this.media,n=this.url,r=this.url=y.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,w.log("loadSource:"+r),t&&n&&(n!==r||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(t)),this.trigger(b.MANIFEST_LOADING,{url:e})},t.startLoad=function(e){void 0===e&&(e=-1),w.log("startLoad("+e+")"),this.started=!0,this.networkControllers.forEach((function(t){t.startLoad(e)}))},t.stopLoad=function(){w.log("stopLoad"),this.started=!1,this.networkControllers.forEach((function(e){e.stopLoad()}))},t.resumeBuffering=function(){this.started&&this.networkControllers.forEach((function(e){"fragmentLoader"in e&&e.startLoad(-1)}))},t.pauseBuffering=function(){this.networkControllers.forEach((function(e){"fragmentLoader"in e&&e.stopLoad()}))},t.swapAudioCodec=function(){w.log("swapAudioCodec"),this.streamController.swapAudioCodec()},t.recoverMediaError=function(){w.log("recoverMediaError");var e=this._media;this.detachMedia(),e&&this.attachMedia(e)},t.removeLevel=function(e){this.levelController.removeLevel(e)},t.setAudioOption=function(e){var t;return null==(t=this.audioTrackController)?void 0:t.setAudioOption(e)},t.setSubtitleOption=function(e){var t;return null==(t=this.subtitleTrackController)||t.setSubtitleOption(e),null},o(e,[{key:"levels",get:function(){return this.levelController.levels||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){w.log("set currentLevel:"+e),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){w.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){w.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){w.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){var e=this.levelController.startLevel;return-1===e&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e},set:function(e){w.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(e){var t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping!==e&&(w.log("set autoLevelCapping:"+e),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}},{key:"bandwidthEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimate():NaN},set:function(e){this.abrController.resetEstimator(e)}},{key:"ttfbEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimateTTFB():NaN}},{key:"maxHdcpLevel",get:function(){return this._maxHdcpLevel},set:function(e){(function(e){return Vt.indexOf(e)>-1})(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var e=this.levels,t=this.config.minAutoBitrate;if(!e)return 0;for(var n=e.length,r=0;r<n;r++)if(e[r].maxBitrate>=t)return r;return 0}},{key:"maxAutoLevel",get:function(){var e,t=this.levels,n=this.autoLevelCapping,r=this.maxHdcpLevel;if(e=-1===n&&null!=t&&t.length?t.length-1:n,r)for(var i=e;i--;){var a=t[i].attrs["HDCP-LEVEL"];if(a&&a<=r)return i}return e}},{key:"firstAutoLevel",get:function(){return this.abrController.firstAutoLevel}},{key:"nextAutoLevel",get:function(){return this.abrController.nextAutoLevel},set:function(e){this.abrController.nextAutoLevel=e}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"allAudioTracks",get:function(){var e=this.audioTrackController;return e?e.allAudioTracks:[]}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"allSubtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(e){this.config.lowLatencyMode=e}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],[{key:"version",get:function(){return"1.5.8"}},{key:"Events",get:function(){return b}},{key:"ErrorTypes",get:function(){return k}},{key:"ErrorDetails",get:function(){return E}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:Ao},set:function(t){e.defaultConfig=t}}]),e}();return Oo.defaultConfig=void 0,Oo},module.exports=n()}(!1)},150:(e,t,n)=>{!function(){var e="undefined"!=typeof window?window:n.g,r={};for(var i in function(e,t,module){var n;function r(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var i="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var a=function(n){n=["object"==typeof globalThis&&globalThis,n,"object"==typeof e&&e,"object"==typeof self&&self,"object"==typeof t&&t];for(var r=0;r<n.length;++r){var i=n[r];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);function o(e,t){if(t)e:{var n=a;e=e.split(".");for(var r=0;r<e.length-1;r++){var o=e[r];if(!(o in n))break e;n=n[o]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&i(n,e,{configurable:!0,writable:!0,value:t})}}function s(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function l(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if(t)return t.call(e);if("number"==typeof e.length)return{next:r(e)};throw Error(String(e)+" is not an iterable or ArrayLike")}function u(e){if(!(e instanceof Array)){e=l(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}o("Symbol",(function(e){function t(e,t){this.g=e,i(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function e(i){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(i||"")+"_"+r++,i)}})),o("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var o=a[t[n]];"function"==typeof o&&"function"!=typeof o.prototype[e]&&i(o.prototype,e,{configurable:!0,writable:!0,value:function(){return s(r(this))}})}return e}));var c,d="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)c=Object.setPrototypeOf;else{var p;e:{var f={};try{f.__proto__={a:!0},p=f.a;break e}catch(e){}p=!1}c=p?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var h=c;function y(e,t){if(e.prototype=d(t.prototype),e.prototype.constructor=e,h)h(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.Tk=t.prototype}function g(){this.o=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.A=this.i=null}function v(e){if(e.o)throw new TypeError("Generator is already running");e.o=!0}function m(e,t){e.i={Ng:t,Zg:!0},e.g=e.m||e.j}function b(e,t,n){return e.g=n,{value:t}}function k(e){e.g=0}function E(e,t,n){e.m=t,null!=n&&(e.j=n)}function T(e,t){e.m=0,e.j=t||0}function _(e,t,n){e.g=t,e.m=n||0}function A(e,t){return e.m=t||0,t=e.i.Ng,e.i=null,t}function S(e){e.A=[e.i],e.m=0,e.j=0}function w(e,t){var n=e.A.splice(0)[0];(n=e.i=e.i||n)?n.Zg?e.g=e.m||e.j:null!=n.s&&e.j<n.s?(e.g=n.s,e.i=null):e.g=e.j:e.g=t}function C(e){this.g=new g,this.h=e}function x(e,t,n,r){try{var i=t.call(e.g.l,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.o=!1,i;var a=i.value}catch(t){return e.g.l=null,m(e.g,t),P(e)}return e.g.l=null,r.call(e.g,a),P(e)}function P(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.o=!1,{value:t.value,done:!1}}catch(t){e.g.h=void 0,m(e.g,t)}if(e.g.o=!1,e.g.i){if(t=e.g.i,e.g.i=null,t.Zg)throw t.Ng;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function R(e){this.next=function(t){return v(e.g),e.g.l?t=x(e,e.g.l.next,t,e.g.u):(e.g.u(t),t=P(e)),t},this.throw=function(t){return v(e.g),e.g.l?t=x(e,e.g.l.throw,t,e.g.u):(m(e.g,t),t=P(e)),t},this.return=function(t){return function(e,t){v(e.g);var n=e.g.l;return n?x(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),P(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function I(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(r,i){!function e(a){a.done?r(a.value):Promise.resolve(a.value).then(t,n).then(e,i)}(e.next())}))}(new R(new C(e)))}function D(){for(var e=Number(this),t=[],n=e;n<arguments.length;n++)t[n-e]=arguments[n];return t}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}function M(e,t,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}function N(e,t,n){e instanceof String&&(e=String(e));for(var r=e.length,i=0;i<r;i++){var a=e[i];if(t.call(n,a,i,e))return{Xg:i,v:a}}return{Xg:-1,v:void 0}}g.prototype.u=function(e){this.h=e},g.prototype.return=function(e){this.i={return:e},this.g=this.j},g.prototype.s=function(e){this.g=e},o("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var i=a.setTimeout;n.prototype.i=function(e){i(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.j(e)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.F),reject:e(this.l)}},t.prototype.F=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.H(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.C(e):this.m(e)}},t.prototype.C=function(e){var t=void 0;try{t=e.then}catch(e){return void this.l(e)}"function"==typeof t?this.I(t,e):this.m(e)},t.prototype.l=function(e){this.u(2,e)},t.prototype.m=function(e){this.u(1,e)},t.prototype.u=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.G(),this.A()},t.prototype.G=function(){var e=this;i((function(){if(e.B()){var t=a.console;void 0!==t&&t.error(e.i)}}),1)},t.prototype.B=function(){if(this.o)return!1;var e=a.CustomEvent,t=a.Event,n=a.dispatchEvent;return void 0===n||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=a.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.A=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)o.h(this.g[e]);this.g=null}};var o=new n;return t.prototype.H=function(e){var t=this.j();e.Sd(t.resolve,t.reject)},t.prototype.I=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){a(e)}}:t}var i,a,o=new t((function(e,t){i=e,a=t}));return this.Sd(r(e,i),r(n,a)),o},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Sd=function(e,t){function n(){switch(r.h){case 1:e(r.i);break;case 2:t(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?o.h(n):this.g.push(n),this.o=!0},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=l(e),a=i.next();!a.done;a=i.next())r(a.value).Sd(t,n)}))},t.all=function(e){var n=l(e),i=n.next();return i.done?r([]):new t((function(e,t){function a(t){return function(n){o[t]=n,0==--s&&e(o)}}var o=[],s=0;do{o.push(void 0),s++,r(i.value).Sd(a(o.length-1),t),i=n.next()}while(!i.done)}))},t})),o("WeakMap",(function(e){function t(e){if(this.g=(u+=Math.random()+1).toString(),e){e=l(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function n(){}function r(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}function a(e){if(!O(e,s)){var t=new n;i(e,s,{value:t})}}function o(e){var t=Object[e];t&&(Object[e]=function(e){return e instanceof n?e:(Object.isExtensible(e)&&a(e),t(e))})}if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),r=new e([[t,2],[n,3]]);return 2==r.get(t)&&3==r.get(n)&&(r.delete(t),r.set(n,4),!r.has(t)&&4==r.get(n))}catch(e){return!1}}())return e;var s="$jscomp_hidden_"+Math.random();o("freeze"),o("preventExtensions"),o("seal");var u=0;return t.prototype.set=function(e,t){if(!r(e))throw Error("Invalid WeakMap key");if(a(e),!O(e,s))throw Error("WeakMap key fail: "+e);return e[s][this.g]=t,this},t.prototype.get=function(e){return r(e)&&O(e,s)?e[s][this.g]:void 0},t.prototype.has=function(e){return r(e)&&O(e,s)&&O(e[s],this.g)},t.prototype.delete=function(e){return!!(r(e)&&O(e,s)&&O(e[s],this.g))&&delete e[s][this.g]},t})),o("Map",(function(e){function t(){var e={};return e.Yb=e.next=e.head=e}function n(e,t){var n=e[1];return s((function(){if(n){for(;n.head!=e[1];)n=n.Yb;for(;n.next!=n.head;)return n=n.next,{done:!1,value:t(n)};n=null}return{done:!0,value:void 0}}))}function r(e,t){var n=t&&typeof t;"object"==n||"function"==n?a.has(t)?n=a.get(t):(n=""+ ++o,a.set(t,n)):n="p_"+t;var r=e[0][n];if(r&&O(e[0],n))for(e=0;e<r.length;e++){var i=r[e];if(t!=t&&i.key!=i.key||t===i.key)return{id:n,list:r,index:e,entry:i}}return{id:n,list:r,index:-1,entry:void 0}}function i(e){if(this[0]={},this[1]=t(),this.size=0,e){e=l(e);for(var n;!(n=e.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(l([[t,"s"]]));if("s"!=n.get(t)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==t&&"s"==i.value[1]&&!((i=r.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!r.next().done)}catch(e){return!1}}())return e;var a=new WeakMap;i.prototype.set=function(e,t){var n=r(this,e=0===e?0:e);return n.list||(n.list=this[0][n.id]=[]),n.entry?n.entry.value=t:(n.entry={next:this[1],Yb:this[1].Yb,head:this[1],key:e,value:t},n.list.push(n.entry),this[1].Yb.next=n.entry,this[1].Yb=n.entry,this.size++),this},i.prototype.delete=function(e){return!(!(e=r(this,e)).entry||!e.list)&&(e.list.splice(e.index,1),e.list.length||delete this[0][e.id],e.entry.Yb.next=e.entry.next,e.entry.next.Yb=e.entry.Yb,e.entry.head=null,this.size--,!0)},i.prototype.clear=function(){this[0]={},this[1]=this[1].Yb=t(),this.size=0},i.prototype.has=function(e){return!!r(this,e).entry},i.prototype.get=function(e){return(e=r(this,e).entry)&&e.value},i.prototype.entries=function(){return n(this,(function(e){return[e.key,e.value]}))},i.prototype.keys=function(){return n(this,(function(e){return e.key}))},i.prototype.values=function(){return n(this,(function(e){return e.value}))},i.prototype.forEach=function(e,t){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var o=0;return i})),o("Set",(function(e){function t(e){if(this.g=new Map,e){e=l(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.g.size}return function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(l([t]));if(!n.has(t)||1!=n.size||n.add(t)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==t&&i.value[1]==t&&(!(i=r.next()).done&&i.value[0]!=t&&4==i.value[0].x&&i.value[1]==i.value[0]&&r.next().done)}catch(e){return!1}}()?e:(t.prototype.add=function(e){return e=0===e?0:e,this.g.set(e,e),this.size=this.g.size,this},t.prototype.delete=function(e){return e=this.g.delete(e),this.size=this.g.size,e},t.prototype.clear=function(){this.g.clear(),this.size=0},t.prototype.has=function(e){return this.g.has(e)},t.prototype.entries=function(){return this.g.entries()},t.prototype.values=function(){return this.g.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var n=this;this.g.forEach((function(r){return e.call(t,r,r,n)}))},t)})),o("Array.prototype.values",(function(e){return e||function(){return L(this,(function(e,t){return t}))}})),o("Array.from",(function(e){return e||function(e,t,n){t=null!=t?t:function(e){return e};var r=[],i="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof i){e=i.call(e);for(var a=0;!(i=e.next()).done;)r.push(t.call(n,i.value,a++))}else for(i=e.length,a=0;a<i;a++)r.push(t.call(n,e[a],a));return r}})),o("Array.prototype.keys",(function(e){return e||function(){return L(this,(function(e){return e}))}})),o("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}})),o("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var i=n[t];if(i===e||Object.is(i,e))return!0}return!1}})),o("String.prototype.includes",(function(e){return e||function(e,t){return-1!==M(this,e,"includes").indexOf(e,t||0)}})),o("String.fromCodePoint",(function(e){return e||function(e){for(var t="",n=0;n<arguments.length;n++){var r=Number(arguments[n]);if(0>r||1114111<r||r!==Math.floor(r))throw new RangeError("invalid_code_point "+r);65535>=r?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(r>>>10&1023|55296),t+=String.fromCharCode(1023&r|56320))}return t}})),o("Array.prototype.findIndex",(function(e){return e||function(e,t){return N(this,e,t).Xg}})),o("WeakSet",(function(e){function t(e){if(this.g=new WeakMap,e){e=l(e);for(var t;!(t=e.next()).done;)this.add(t.value)}}return function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),r=new e([t]);return!(!r.has(t)||r.has(n))&&(r.delete(t),r.add(n),!r.has(t)&&r.has(n))}catch(e){return!1}}()?e:(t.prototype.add=function(e){return this.g.set(e,!0),this},t.prototype.has=function(e){return this.g.has(e)},t.prototype.delete=function(e){return this.g.delete(e)},t)})),o("Array.prototype.find",(function(e){return e||function(e,t){return N(this,e,t).v}})),o("String.prototype.startsWith",(function(e){return e||function(e,t){var n=M(this,e,"startsWith"),r=n.length,i=e.length;t=Math.max(0,Math.min(0|t,n.length));for(var a=0;a<i&&t<r;)if(n[t++]!=e[a++])return!1;return a>=i}})),o("Object.entries",(function(e){return e||function(e){var t,n=[];for(t in e)O(e,t)&&n.push([t,e[t]]);return n}}));var U="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)O(r,i)&&(e[i]=r[i])}return e};o("Object.assign",(function(e){return e||U})),o("Promise.prototype.finally",(function(e){return e||function(e){return this.then((function(t){return Promise.resolve(e()).then((function(){return t}))}),(function(t){return Promise.resolve(e()).then((function(){throw t}))}))}})),o("Array.prototype.entries",(function(e){return e||function(){return L(this,(function(e,t){return[e,t]}))}})),o("Number.isNaN",(function(e){return e||function(e){return"number"==typeof e&&isNaN(e)}})),o("String.prototype.repeat",(function(e){return e||function(e){var t=M(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var n="";e;)1&e&&(n+=t),(e>>>=1)&&(t+=t);return n}})),o("Number.EPSILON",(function(){return Math.pow(2,-52)})),o("Number.MAX_SAFE_INTEGER",(function(){return 9007199254740991})),o("Number.isFinite",(function(e){return e||function(e){return"number"==typeof e&&(!isNaN(e)&&1/0!==e&&-1/0!==e)}})),o("Object.values",(function(e){return e||function(e){var t,n=[];for(t in e)O(e,t)&&n.push(e[t]);return n}})),o("Math.log2",(function(e){return e||function(e){return Math.log(e)/Math.LN2}})),o("String.prototype.endsWith",(function(e){return e||function(e,t){var n=M(this,e,"endsWith");void 0===t&&(t=n.length),t=Math.max(0,Math.min(0|t,n.length));for(var r=e.length;0<r&&0<t;)if(n[--t]!=e[--r])return!1;return 0>=r}})),o("Math.trunc",(function(e){return e||function(e){if(e=Number(e),isNaN(e)||1/0===e||-1/0===e||0===e)return e;var t=Math.floor(Math.abs(e));return 0>e?-t:t}}));var B=this||self;function F(e,t){e=e.split(".");var n,r=B;e[0]in r||void 0===r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function j(){}function H(){}function V(e){this.g=Math.exp(Math.log(.5)/e),this.i=this.h=0}function G(e){return e.h/(1-Math.pow(e.g,e.i))}function K(){this.h=new V(2),this.j=new V(5),this.g=0,this.i=128e3,this.l=16e3}function z(){}function W(){}function Y(){}function Z(e){var t=D.apply(1,arguments);X.has(e)||(X.add(e),Y.apply(z,u(t)))}function q(){}V.prototype.sample=function(e,t){var n=Math.pow(this.g,e);t=t*(1-n)+n*this.h,isNaN(t)||(this.h=t,this.i+=e)},K.prototype.configure=function(e){this.i=e.minTotalBytes,this.l=e.minBytes,this.h.g=Math.exp(Math.log(.5)/e.fastHalfLife),this.j.g=Math.exp(Math.log(.5)/e.slowHalfLife)},K.prototype.sample=function(e,t){if(!(t<this.l)){var n=8e3*t/e;e/=1e3,this.g+=t,this.h.sample(e,n),this.j.sample(e,n)}},K.prototype.getBandwidthEstimate=function(e){return this.g<this.i?e:Math.min(G(this.h),G(this.j))};var X=new Set;function Q(){this.g=new Map}function J(){this.g=new Q}function $(e,t,n,r){this.target=e,this.type=t,this.listener=n,this.g=function(e,t){if(null==t)return!1;if("boolean"==typeof t)return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter((function(e){return!n.has(e)})),function(e){var t=ee;if(null==t){t=!1;try{var n={},r={get:function(){return t=!0,!1}};Object.defineProperty(n,"passive",r),Object.defineProperty(n,"capture",r),r=function(){},e.addEventListener("test",r,n),e.removeEventListener("test",r,n)}catch(e){t=!1}ee=t}return t||!1}(e)?t:t.capture||!1}(e,r),this.target.addEventListener(t,n,this.g)}e.console&&((new Map).set(1,(function(){return console.error.apply(console,u(D.apply(0,arguments)))})).set(2,(function(){return console.warn.apply(console,u(D.apply(0,arguments)))})).set(3,(function(){return console.info.apply(console,u(D.apply(0,arguments)))})).set(4,(function(){return console.log.apply(console,u(D.apply(0,arguments)))})).set(5,(function(){return console.debug.apply(console,u(D.apply(0,arguments)))})).set(6,(function(){return console.debug.apply(console,u(D.apply(0,arguments)))})),Y=function(){return console.warn.apply(console,u(D.apply(0,arguments)))},W=function(){console.error.apply(console,u(D.apply(0,arguments)))}),(n=Q.prototype).push=function(e,t){this.g.has(e)?this.g.get(e).push(t):this.g.set(e,[t])},n.get=function(e){return this.g.has(e)?this.g.get(e).slice():null},n.remove=function(e,t){if(this.g.has(e)){var n=this.g.get(e).filter((function(e){return e!=t}));this.g.set(e,n),n.length||this.g.delete(e)}},n.forEach=function(e){this.g.forEach((function(t,n){e(n,t)}))},n.size=function(){return this.g.size},n.keys=function(){return Array.from(this.g.keys())},(n=J.prototype).release=function(){this.Qa(),this.g=null},n.D=function(e,t,n,r){this.g&&(e=new $(e,t,n,r),this.g.push(t,e))},n.ma=function(e,t,n,r){var i=this;this.D(e,t,(function r(a){i.Ja(e,t,r),n(a)}),r)},n.Ja=function(e,t,n){if(this.g)for(var r=this.g.get(t)||[],i=(r=l(r)).next();!i.done;i=r.next())(i=i.value).target!=e||n!=i.listener&&n||(i.Ja(),this.g.remove(t,i))},n.Qa=function(){if(this.g){for(var e=[],t=l(this.g.g.values()),n=t.next();!n.done;n=t.next())e.push.apply(e,u(n.value));for(t=(e=l(e)).next();!t.done;t=e.next())t.value.Ja();this.g.g.clear()}},F("shaka.util.EventManager",J),J.prototype.removeAll=J.prototype.Qa,J.prototype.unlisten=J.prototype.Ja,J.prototype.listenOnce=J.prototype.ma,J.prototype.listen=J.prototype.D,J.prototype.release=J.prototype.release,$.prototype.Ja=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};var ee=void 0;function te(e,t){this.g=e,this.h=t}function ne(e,t){var n=new te(5,0),r=ae,i=r.g,a=n.h-i.h;(0<(n.g-i.g||a)?r.i:r.h)(r.g,n,e,t)}function re(e,t,n,r){Y([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",r].join(" "))}function ie(e,t,n,r){W([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",r].join(" "))}F("shaka.config.AutoShowText",{NEVER:0,ALWAYS:1,IF_PREFERRED_TEXT_LANGUAGE:2,IF_SUBTITLES_MAY_BE_NEEDED:3}),te.prototype.toString=function(){return"v"+this.g+"."+this.h};var ae=null,oe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function se(e){var t;e instanceof se?(le(this,e.Kb),this.Hc=e.Hc,ue(this,e.nb),ce(this,e.$c),this.ab=e.ab,de(this,e.g.clone()),this.qc=e.qc):e&&(t=String(e).match(oe))?(le(this,t[1]||"",!0),this.Hc=pe(t[2]||""),ue(this,t[3]||"",!0),ce(this,t[4]),this.ab=pe(t[5]||"",!0),de(this,t[6]||"",!0),this.qc=pe(t[7]||"")):this.g=new ke(null)}function le(e,t,n){e.Kb=n?pe(t,!0):t,e.Kb&&(e.Kb=e.Kb.replace(/:$/,""))}function ue(e,t,n){e.nb=n?pe(t,!0):t}function ce(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.$c=t}else e.$c=null}function de(e,t,n){t instanceof ke?e.g=t:(n||(t=fe(t,me)),e.g=new ke(t))}function pe(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function fe(e,t,n){return null!=e?(e=encodeURI(e).replace(t,he),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function he(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}(n=se.prototype).Kb="",n.Hc="",n.nb="",n.$c=null,n.ab="",n.qc="",n.toString=function(){var e=[],t=this.Kb;if(t&&e.push(fe(t,ye,!0),":"),t=this.nb){e.push("//");var n=this.Hc;n&&e.push(fe(n,ye,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.$c)&&e.push(":",String(t))}return(t=this.ab)&&(this.nb&&"/"!=t.charAt(0)&&e.push("/"),e.push(fe(t,"/"==t.charAt(0)?ve:ge,!0))),(t=this.g.toString())&&e.push("?",t),(t=this.qc)&&e.push("#",fe(t,be)),e.join("")},n.resolve=function(e){var t=this.clone();"data"===t.Kb&&(t=new se);var n=!!e.Kb;n?le(t,e.Kb):n=!!e.Hc,n?t.Hc=e.Hc:n=!!e.nb,n?ue(t,e.nb):n=null!=e.$c;var r=e.ab;if(n)ce(t,e.$c);else if(n=!!e.ab){if("/"!=r.charAt(0))if(this.nb&&!this.ab)r="/"+r;else{var i=t.ab.lastIndexOf("/");-1!=i&&(r=t.ab.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var a=[],o=0;o<r.length;){var s=r[o++];"."==s?i&&o==r.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),i&&o==r.length&&a.push("")):(a.push(s),i=!0)}r=a.join("/")}}return n?t.ab=r:n=""!==e.g.toString(),n?de(t,e.g.clone()):n=!!e.qc,n&&(t.qc=e.qc),t},n.clone=function(){return new se(this)};var ye=/[#\/\?@]/g,ge=/[#\?:]/g,ve=/[#\?]/g,me=/[#\?@]/g,be=/#/g;function ke(e){this.g=e||null}function Ee(e){if(!e.Va&&(e.Va=new Map,e.kd=0,e.g))for(var t=e.g.split("&"),n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var a=t[n].substring(0,r);i=t[n].substring(r+1)}else a=t[n];a=decodeURIComponent(a.replace(/\+/g," ")),i=i||"",e.add(a,decodeURIComponent(i.replace(/\+/g," ")))}}function Te(e){return Ee(e),e.kd}function _e(){}function Ae(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if((ArrayBuffer.isView(e)?e.buffer:e)==(ArrayBuffer.isView(t)?t.buffer:t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;var n=we(e);t=we(t);for(var r=0;r<e.byteLength;r++)if(n[r]!=t[r])return!1;return!0}function Se(e){return ArrayBuffer.isView(e)?0==e.byteOffset&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer:e}function we(e,t,n){return Pe(e,void 0===t?0:t,n=void 0===n?1/0:n,Uint8Array)}function Ce(e,t,n){return Pe(e,void 0===t?0:t,n=void 0===n?1/0:n,Uint16Array)}function xe(e,t,n){return Pe(e,void 0===t?0:t,n=void 0===n?1/0:n,DataView)}function Pe(e,t,n,r){var i=ArrayBuffer.isView(e)?e.buffer:e,a=1;"BYTES_PER_ELEMENT"in r&&(a=r.BYTES_PER_ELEMENT);var o=((e.byteOffset||0)+e.byteLength)/a;return new r(i,e=Math.floor(Math.max(0,Math.min(((e.byteOffset||0)+t)/a,o))),Math.floor(Math.min(e+Math.max(n,0),o))-e)}function Re(e,t,n){var r=D.apply(3,arguments);if(this.severity=e,this.category=t,this.code=n,this.data=r,this.handled=!1,this.message="Shaka Error "+this.code,Ie)try{throw Error(this.message||"Shaka Error")}catch(e){this.stack=e.stack}}(n=ke.prototype).Va=null,n.kd=null,n.add=function(e,t){Ee(this),this.g=null;var n=this.Va.has(e)?this.Va.get(e):null;return n||this.Va.set(e,n=[]),n.push(t),this.kd++,this},n.set=function(e,t){return Ee(this),this.g=null,this.Va.has(e)?this.Va.set(e,[t]):this.add(e,t),this},n.get=function(e){return Ee(this),this.Va.get(e)||[]},n.toString=function(){if(this.g)return this.g;if(!this.Va||!this.Va.size)return"";for(var e=[],t=l(this.Va.keys()),n=t.next();!n.done;n=t.next()){var r=n.value;n=encodeURIComponent(r),r=this.Va.get(r);for(var i=0;i<r.length;i++){var a=n;""!==r[i]&&(a+="="+encodeURIComponent(r[i])),e.push(a)}}return this.g=e.join("&")},n.clone=function(){var e=new ke;if(e.g=this.g,this.Va){for(var t=new Map,n=l(this.Va),r=n.next();!r.done;r=n.next()){var i=l(r.value);r=i.next().value,i=i.next().value,t.set(r,i.concat())}e.Va=t,e.kd=this.kd}return e},F("shaka.util.BufferUtils",_e),_e.toDataView=xe,_e.toUint16=Ce,_e.toUint8=we,_e.toArrayBuffer=Se,_e.equal=Ae,Re.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},F("shaka.util.Error",Re);var Ie=!0;function De(e){this.h=e,this.g=void 0}function Oe(e,t){return!e.length||!t.length||e===t||0<Le(e,t).length}function Le(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],r=(e=l(e)).next();!r.done;r=e.next()){r=r.value;for(var i=l(t),a=i.next();!a.done;a=i.next())if(a=a.value,r.keySystem==a.keySystem){i=new Map;for(var o=l((r.initData||[]).concat(a.initData||[])),s=o.next();!s.done;s=o.next())s=s.value,i.set(s.keyId,s);i=Array.from(i.values()),o=r.keyIds&&a.keyIds?new Set([].concat(u(r.keyIds),u(a.keyIds))):r.keyIds||a.keyIds,n.push({keySystem:r.keySystem,licenseServerUri:r.licenseServerUri||a.licenseServerUri,distinctiveIdentifierRequired:r.distinctiveIdentifierRequired||a.distinctiveIdentifierRequired,persistentStateRequired:r.persistentStateRequired||a.persistentStateRequired,videoRobustness:r.videoRobustness||a.videoRobustness,audioRobustness:r.audioRobustness||a.audioRobustness,serverCertificate:r.serverCertificate||a.serverCertificate,serverCertificateUri:r.serverCertificateUri||a.serverCertificateUri,initData:i,keyIds:o});break}}return n}function Me(e){return!!e&&!!e.match(/^com\.(microsoft|chromecast)\.playready/)}function Ne(e){return!!e&&!!e.match(/^com\.apple\.fps/)}Re.Severity={RECOVERABLE:1,CRITICAL:2},Re.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},Re.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,SEGMENT_MISSING:1011,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,CHAPTERS_TRACK_FAILED:2015,UNSUPPORTED_EXTERNAL_THUMBNAILS_URI:2017,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,MSS_MISSING_DATA_FOR_TRANSMUXING:3020,MSS_TRANSMUXING_FAILED:3022,TRANSMUXING_NO_VIDEO_DATA:3023,STREAMING_NOT_ALLOWED:3024,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED:4040,HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4041,NO_WEB_CRYPTO_API:4042,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM:4045,MSS_INVALID_XML:4046,MSS_LIVE_CONTENT_NOT_SUPPORTED:4047,AES_128_INVALID_IV_LENGTH:4048,AES_128_INVALID_KEY_LENGTH:4049,DASH_CONFLICTING_AES_128:4050,DASH_UNSUPPORTED_AES_128:4051,DASH_INVALID_PATCH:4052,HLS_EMPTY_MEDIA_PLAYLIST:4053,DASH_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4054,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,MIN_HDCP_VERSION_NOT_MATCH:6018,ERROR_CHECKING_HDCP_VERSION:6019,MISSING_EME_SUPPORT:6020,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,SRC_EQUALS_PRELOAD_NOT_SUPPORTED:7005,PRELOAD_DESTROYED:7006,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004,MT_AD_MANAGER_NOT_INITIALIZED:10005,INTERSTITIAL_AD_MANAGER_NOT_INITIALIZED:10006,VAST_INVALID_XML:10007},De.prototype.value=function(){return void 0===this.g&&(this.g=this.h()),this.g};var Ue=new De((function(){return Se(new Uint8Array([0]))})),Be=new Map;function Fe(e){this.h=e,this.g=null}function je(e){this.h=e,this.g=null}function He(){var t=e.ManagedMediaSource||e.MediaSource;return!(!t||!t.isTypeSupported)}function Ve(e){return""!=lt().canPlayType(e)}function Ge(){return!!navigator.userAgent.match(/Edge?\//)}function Ke(){return ot("Xbox One")}function ze(){return ot("Tizen")}function We(){return ot("Tizen 3")}function Ye(){return ot("Web0S")}function Ze(){return Ye()&&38===Xe()}function qe(){return ot("CrKey")&&!ot("VIZIO SmartCast")}function Xe(){if(!ot("Chrome")||navigator.userAgent.match(/Edge\//))return null;var e=navigator.userAgent.match(/Chrome\/(\d+)/);return e?parseInt(e[1],10):null}function Qe(){return st()&&((navigator.userAgentData&&navigator.userAgentData.platform?"macos"==navigator.userAgentData.platform.toLowerCase():!!navigator.platform&&navigator.platform.toLowerCase().includes("mac"))||!!/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)||st()&&1<navigator.maxTouchPoints)}function Je(){return ot("PlayStation 5")}function $e(){return ot("PlayStation 4")}function et(){return ot("Hisense")||ot("VIDAA")}function tt(){if(!Qe()&&(!st()||Qe()))return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}function nt(){return navigator.userAgentData&&navigator.userAgentData.platform?"windows"==navigator.userAgentData.platform.toLowerCase():!!navigator.platform&&navigator.platform.toLowerCase().includes("win32")}function rt(){return navigator.userAgentData&&navigator.userAgentData.platform?"android"==navigator.userAgentData.platform.toLowerCase():ot("Android")}function it(){return navigator.userAgentData&&navigator.userAgentData.platform?"fuchsia"==navigator.userAgentData.platform.toLowerCase():ot("Fuchsia")}function at(){return!!(ze()||Ye()||Ke()||$e()||Je()||qe()||et()||ot("VIZIO SmartCast")||st()&&!Qe())}function ot(e){return(navigator.userAgent||"").includes(e)}function st(){return(navigator.vendor||"").includes("Apple")}function lt(){return ft||(pt||(pt=new je((function(){ft=null}))),(ft=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(ft=document.createElement("video")),pt.da(1),ft)}function ut(){if(We()||ot("Tizen 2")||Ze()||$e()||Je())return!1;var e=tt();return!(st()&&!Qe()&&null!=e&&15>e)}function ct(){var t,n,r,i,a,o,s,l,u,c,d,p,f,h,y;return I((function(g){switch(g.g){case 1:if(t={width:1/0,height:1/0},qe()){if(f=e.cast&&cast.__platform__&&cast.__platform__.canDisplayType,t.width=1280,t.height=720,E(g,14),!(h=f)){g.s(16);break}return b(g,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160'),17)}if(ze()){n=e.devicePixelRatio,t.width=1920<e.screen.width*n?3840:1920,t.height=1080<e.screen.height*n?2160:1080;try{webapis.systeminfo&&webapis.systeminfo.getMaxVideoResolution?(r=webapis.systeminfo.getMaxVideoResolution(),t.width=r.width,t.height=r.height):webapis.productinfo.is8KPanelSupported&&webapis.productinfo.is8KPanelSupported()?(t.width=7680,t.height=4320):webapis.productinfo.isUdPanelSupported&&webapis.productinfo.isUdPanelSupported()&&(t.width=3840,t.height=2160)}catch(e){Y("Tizen: Error detecting screen size, default screen size 1920x1080.")}g.s(3);break}if(Ye()){try{i=JSON.parse(e.PalmSystem.deviceInfo),t.width=Math.max(1920,i.screenWidth),t.height=Math.max(1080,i.screenHeight)}catch(e){Y("WebOS: Error detecting screen size, default screen size 1920x1080."),t.width=1920,t.height=1080}g.s(3);break}if(et()){if(a=null,e.Hisense_Get4KSupportState)try{a=e.Hisense_Get4KSupportState()}catch(e){}null==a&&(a=ot("UHD")),a?(t.width=3840,t.height=2160):(t.width=1920,t.height=1080),g.s(3);break}if(!$e()&&!Je()){o=void 0;try{o="undefined"!=typeof Windows?Windows:chrome.webview.hostObjects.sync.Windows}catch(e){}if(o){t.width=1920,t.height=1080;try{s=new o.Media.Protection.ProtectionCapabilities,l=o.Media.Protection.ProtectionCapabilityResult,u=null;do{u=s.isTypeSupported('video/mp4;codecs="hvc1,mp4a";features="decode-res-x=3840,decode-res-y=2160,decode-bitrate=20000,decode-fps=30,decode-bpc=10,display-res-x=3840,display-res-y=2160,display-bpc=8"',"com.microsoft.playready.recommendation")}while(u===l.maybe);u===l.probably&&(t.width=3840,t.height=2160)}catch(e){Y("Xbox: Error detecting screen size, default screen size 1920x1080.")}}else Ke()&&(t.width=1920,t.height=1080,Y("Xbox: Error detecting screen size, default screen size 1920x1080."));g.s(3);break}return c=!1,E(g,8),b(g,e.msdk.device.getDisplayInfo(),10);case 10:d=g.h,c="4K"===d.resolution,_(g,9);break;case 8:return A(g),E(g,11),b(g,e.msdk.device.getDisplayInfoImmediate(),13);case 13:p=g.h,c="4K"===p.resolution,_(g,9);break;case 11:Y("PlayStation: Failed to get the display info:",A(g));case 9:c?(t.width=3840,t.height=2160):(t.width=1920,t.height=1080),g.s(3);break;case 17:h=g.h;case 16:if(h){t.width=3840,t.height=2160,g.s(18);break}if(!(y=f)){g.s(19);break}return b(g,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=1920; height=1080'),20);case 20:y=g.h;case 19:y&&(t.width=1920,t.height=1080);case 18:_(g,3);break;case 14:W("Failed to check canDisplayType:",A(g));case 3:return g.return(t)}}))}function dt(t){return void 0!==e.matchMedia&&e.matchMedia("(color-gamut: p3)").matches?t?"HLG":"PQ":"SDR"}Fe.prototype.da=function(t){var n=this;this.stop();var r=!0,i=null;return this.g=function(){e.clearTimeout(i),r=!1},i=e.setTimeout((function(){r&&n.h()}),1e3*t),this},Fe.prototype.stop=function(){this.g&&(this.g(),this.g=null)},je.prototype.sb=function(){return this.stop(),this.h(),this},je.prototype.da=function(e){var t=this;return this.stop(),this.g=new Fe((function(){t.h()})).da(e),this},je.prototype.ua=function(e){var t=this;return this.stop(),this.g=new Fe((function(){t.g.da(e),t.h()})).da(e),this},je.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},F("shaka.util.Timer",je),je.prototype.stop=je.prototype.stop,je.prototype.tickEvery=je.prototype.ua,je.prototype.tickAfter=je.prototype.da,je.prototype.tickNow=je.prototype.sb;var pt=null,ft=null;function ht(){}function yt(t){if(!t)return"";if(239==(t=we(t))[0]&&187==t[1]&&191==t[2]&&(t=t.subarray(3)),e.TextDecoder&&!$e())return(t=(new TextDecoder).decode(t)).includes("�")&&W('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),t;for(var n="",r=0;r<t.length;++r){var i=65533;if(0==(128&t[r])?i=t[r]:t.length>=r+2&&192==(224&t[r])&&128==(192&t[r+1])?(i=(31&t[r])<<6|63&t[r+1],r+=1):t.length>=r+3&&224==(240&t[r])&&128==(192&t[r+1])&&128==(192&t[r+2])?(i=(15&t[r])<<12|(63&t[r+1])<<6|63&t[r+2],r+=2):t.length>=r+4&&240==(241&t[r])&&128==(192&t[r+1])&&128==(192&t[r+2])&&128==(192&t[r+3])&&(i=(7&t[r])<<18|(63&t[r+1])<<12|(63&t[r+2])<<6|63&t[r+3],r+=3),65535>=i)n+=String.fromCharCode(i);else{var a=1023&(i-=65536);n+=String.fromCharCode(55296+(i>>10)),n+=String.fromCharCode(56320+a)}}return n}function gt(e,t,n){if(!e)return"";if(!n&&0!=e.byteLength%2)throw new Re(2,2,2004);n=Math.floor(e.byteLength/2);var r=new Uint16Array(n);e=xe(e);for(var i=0;i<n;i++)r[i]=e.getUint16(2*i,t);return kt(r)}function vt(e){function t(e){return n.byteLength<=e||9<=n[e]&&126>=n[e]}if(!e)return"";var n=we(e);if(239==n[0]&&187==n[1]&&191==n[2])return yt(n);if(254==n[0]&&255==n[1])return gt(n.subarray(2),!1);if(255==n[0]&&254==n[1])return gt(n.subarray(2),!0);if(0==n[0]&&0==n[2])return gt(e,!1);if(0==n[1]&&0==n[3])return gt(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return yt(e);throw new Re(2,2,2003)}function mt(t){if(e.TextEncoder&&!$e()){var n=new TextEncoder;return Se(n.encode(t))}t=encodeURIComponent(t),t=unescape(t),n=new Uint8Array(t.length);for(var r=0;r<t.length;r++)n[r]=t[r].charCodeAt(0);return Se(n)}function bt(e,t){for(var n=new ArrayBuffer(2*e.length),r=new DataView(n),i=0;i<e.length;++i)r.setUint16(2*i,e.charCodeAt(i),t);return n}function kt(e){return Tt.value()(e)}function Et(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&nbsp;":" ","&lrm;":"‎","&rlm;":"‏"},n=/&(?:amp|lt|gt|quot|apos|nbsp|lrm|rlm|#[xX]?[0-9a-fA-F]+);/g,r=RegExp(n.source);return e&&r.test(e)?e.replace(n,(function(e){return"#"==e[1]?0<=(e="x"==e[2]||"X"==e[2]?parseInt(e.substring(3),16):parseInt(e.substring(2),10))&&1114111>=e?String.fromCodePoint(e):"":t[e]||"'"})):e||""}F("shaka.util.StringUtils",ht),ht.resetFromCharCode=function(){Tt.g=void 0},ht.toUTF16=bt,ht.toUTF8=mt,ht.fromBytesAutoDetect=vt,ht.fromUTF16=gt,ht.fromUTF8=yt;var Tt=new De((function(){function e(e){try{var t=new Uint8Array(e);return 0<String.fromCharCode.apply(null,t).length}catch(e){return!1}}for(var t={jc:65536};0<t.jc;(t={jc:t.jc}).jc/=2)if(e(t.jc))return function(e){return function(t){for(var n="",r=0;r<t.length;r+=e.jc)n+=String.fromCharCode.apply(null,t.subarray(r,r+e.jc));return n}}(t);return null}));function _t(){}function At(e){return e=kt(we(e)),btoa(e)}function St(e,t){return t=null==t||t,e=At(e).replace(/\+/g,"-").replace(/\//g,"_"),t?e:e.replace(/[=]*$/,"")}function wt(t){t=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}function Ct(t){for(var n=t.length/2,r=new Uint8Array(n),i=0;i<n;i++)r[i]=e.parseInt(t.substr(2*i,2),16);return r}function xt(e){var t=we(e);e="";for(var n=(t=l(t)).next();!n.done;n=t.next())1==(n=(n=n.value).toString(16)).length&&(n="0"+n),e+=n;return e}function Pt(){for(var e=D.apply(0,arguments),t=0,n=0;n<e.length;++n)t+=e[n].byteLength;t=new Uint8Array(t);for(var r=n=0;r<e.length;++r){var i=e[r];ArrayBuffer.isView(i)&&1===i.BYTES_PER_ELEMENT?t.set(i,n):t.set(we(i),n),n+=i.byteLength}return t}function Rt(e,t,n){if(n=void 0===n?"":n,0==t.length)return e;if(1==e.length&&1==t.length){var r=new se(e[0]);return t=new se(t[0]),t=r.resolve(t),n&&de(t,n),[t.toString()]}t=t.map((function(e){return new se(e)})),r=[];for(var i=(e=l(e)).next();!i.done;i=e.next()){i=new se(i.value);for(var a=l(t),o=a.next();!o.done;o=a.next())o=i.resolve(o.value),n&&de(o,n),r.push(o.toString())}return r}function It(e,t,n,r){return e={keySystem:e,encryptionScheme:t,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:n||[],keyIds:new Set},r&&(e.keySystemUris=new Set([r])),e}function Dt(t,n){n=void 0===n?"cenc":n;var r=[],i=[],a=[];t.forEach((function(e,t){var n=t;22!=n.length&&(n=St(Ct(t),!1));var o=e;22!=o.length&&(o=St(Ct(e),!1)),e={kty:"oct",kid:n,k:o},r.push(e),i.push(e.kid),a.push(t)})),t=JSON.stringify({keys:r});var o=JSON.stringify({kids:i});return o=[{initData:we(mt(o)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",encryptionScheme:n,licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:o,keyIds:new Set(a)}}function Ot(e,t){if(1==t.length)return t[0];if(null!=(e=Lt(e,t)))return e;throw new Re(2,4,4025,t)}function Lt(e,t){for(var n=Ft.get(e),r=(n=l(n)).next();!r.done;r=n.next()){r=r.value;for(var i=l(t),a=i.next();!a.done;a=i.next())if(a=a.value,r.test(a.trim()))return a.trim()}return e==Nt?"":null}function Mt(e,t){for(var n=[],r=(e=l(e=Ft.get(e))).next();!r.done;r=e.next()){r=r.value;for(var i=l(t),a=i.next();!a.done;a=i.next())a=a.value,r.test(a.trim())&&n.push(a.trim())}return n}F("shaka.util.Uint8ArrayUtils",_t),_t.concat=Pt,_t.toHex=xt,_t.fromHex=Ct,_t.fromBase64=wt,_t.toBase64=St,_t.toStandardBase64=At;var Nt="text",Ut={la:"video",V:"audio",za:Nt,$e:"image",Mj:"application"},Bt=1/15,Ft=(new Map).set("audio",[/^vorbis$/,/^Opus$/,/^opus$/,/^fLaC$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4/,/^dts[cex]$/,/^iamf/,/^mhm[12]/,/^ac3$/,/^eac3$/]).set("video",[/^avc/,/^hev/,/^hvc/,/^vvc/,/^vvi/,/^vp0?[89]/,/^av01/,/^dvh/,/^dva/,/^dav/]).set("text",[/^vtt$/,/^wvtt/,/^stpp/]);function jt(e,t,n,r){this.g=null,this.l=e,this.i=t,this.m=n,this.o=r,this.j=!1;e:{if("undefined"==typeof libDPIModule&&Y("Could not find LCEVC Library dependencies on this page"),"undefined"!=typeof LCEVCdec)this.h=LCEVCdec;else{if("undefined"==typeof LcevcDil){Y("Could not find LCEVC Library on this page"),e=!1;break e}this.h=LcevcDil,this.j=!0,ne("LcevcDil","lcevc_dil.js is deprecated, please use lcevc_dec.js instead")}void 0===this.h.SupportObject?(Y("Could not find LCEVC Library on this page"),e=!1):(this.h.SupportObject.SupportStatus||Y(this.h.SupportObject.SupportError),e=void 0!==this.h&&"undefined"!=typeof libDPIModule&&this.i instanceof HTMLCanvasElement&&this.h.SupportObject.SupportStatus)}e&&!this.g&&this.h.SupportObject.webGLSupport(this.i)&&(this.i.classList.remove("shaka-hidden"),this.g=this.j?new this.h.LcevcDil(this.l,this.i,this.m):new this.h.LCEVCdec(this.l,this.i,this.m))}function Ht(e,t,n,r){"video"!==r.type||e.o&&!r.baseOriginalId||e.g&&e.g.appendBuffer(t,"video",r.id,-n,!e.o)}function Vt(e){e.g&&e.i.classList.add("shaka-hidden")}function Gt(e){return!(!e||"undefined"==typeof LCEVCdec)&&"lvc1"==e.codecs}function Kt(t){if(Yt.has(t))return Yt.get(t);var n=e.ManagedMediaSource||e.MediaSource;return!!n&&(n=n.isTypeSupported(t),Yt.set(t,n),n)}function zt(){var t=e.ManagedSourceBuffer||e.SourceBuffer;return!!t&&!!t.prototype&&!!t.prototype.changeType}function Wt(){var t=e.ManagedMediaSource||e.MediaSource;return!(!t||!t.prototype)&&(!!t.prototype.setLiveSeekableRange&&!!t.prototype.clearLiveSeekableRange)}jt.prototype.release=function(){this.g&&(this.g.close(),this.g=null)},F("shaka.lcevc.Dec",jt),jt.prototype.release=jt.prototype.release;var Yt=new Map;function Zt(){}function qt(){}function Xt(){}function Qt(e){this.l=new qt,(e=$t(e.toLowerCase()))&&(this.l=e()),this.h=new Zt,(e=tn)&&(this.h=e())}function Jt(e,t){en.set(e,t)}function $t(e){return en.get(e)}Zt.prototype.extract=function(){},Zt.prototype.decode=function(){return[]},Zt.prototype.clear=function(){},Zt.prototype.getStreams=function(){return[]},qt.prototype.init=function(){},qt.prototype.parse=function(){return[]},Xt.prototype.init=function(){},Xt.prototype.i=function(){},Xt.prototype.g=function(){},Xt.prototype.j=function(){},F("shaka.media.IClosedCaptionParser",Xt),Qt.prototype.init=function(e,t){void 0!==t&&t||this.g(),this.l.init(e)},Qt.prototype.i=function(e){for(var t=(e=l(e=this.l.parse(e))).next();!t.done;t=e.next()){var n=we((t=t.value).packet);0<n.length&&this.h.extract(n,t.pts)}return this.h.decode()},Qt.prototype.g=function(){this.h.clear()},Qt.prototype.j=function(){return this.h.getStreams()},F("shaka.media.ClosedCaptionParser",Qt),Qt.findDecoder=function(){return tn},Qt.unregisterDecoder=function(){tn=null},Qt.registerDecoder=function(e){tn=e},Qt.findParser=$t,Qt.unregisterParser=function(e){en.delete(e)},Qt.registerParser=Jt;var en=new Map,tn=null;function nn(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=rn,this.scroll=an}F("shaka.text.CueRegion",nn);var rn=1;nn.units={PX:0,PERCENTAGE:rn,LINES:2};var an="";function on(e,t){return!("number"!=typeof e||"number"!=typeof t||!isNaN(e)||!isNaN(t))||e===t}function sn(e,t){-1<(t=e.indexOf(t))&&e.splice(t,1)}function ln(e,t,n){if(n||(n=on),e.length!=t.length)return!1;t=t.slice();for(var r=(e=l(e)).next(),i={};!r.done;i={ah:void 0},r=e.next()){if(i.ah=r.value,-1==(r=t.findIndex(function(e){return function(t){return n(e.ah,t)}}(i))))return!1;t[r]=t[t.length-1],t.pop()}return 0==t.length}function un(e,t,n){if(e===t)return!0;if(!e||!t)return e==t;if(n||(n=on),e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function cn(e){this.h=e||"",this.g=0}function dn(e){pn(e,/[ \t]+/gm)}function pn(e,t){return t.lastIndex=e.g,t=null==(t=t.exec(e.h))?null:{position:t.index,length:t[0].length,results:t},e.g==e.h.length||null==t||t.position!=e.g?null:(e.g+=t.length,t.results)}function fn(e){return e.g==e.h.length?null:(e=pn(e,/[^ \t\n]*/gm))?e[0]:null}function hn(e){if(null==(e=pn(e,gn)))return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:(Number(e[6])||0)/1e3+n+60*t+3600*(Number(e[1])||0)}function yn(e){return e?hn(new cn(e)):null}nn.scrollMode={NONE:an,UP:"up"};var gn=/(?:(\d{1,}):)?(\d{2}):(\d{2})((\.(\d{1,3})))?/g;function vn(e){var t=new WeakSet;return function e(n){switch(typeof n){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n||ArrayBuffer.isView(n))return n;if(t.has(n))return null;var r=n.constructor==Array;if(n.constructor!=Object&&!r)return null;t.add(n);var i,a=r?[]:{};for(i in n)a[i]=e(n[i]);return r&&(a.length=n.length),a}}(e)}function mn(e){var t,n={};for(t in e)n[t]=e[t];return n}function bn(e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++){var r=n.toString(),i=e[n];void 0!==i&&(i=bn(i))&&t.push(r+":"+i)}e="["+t.join(",")+"]"}else if("function"==typeof e)e="";else if(e instanceof Object){for((n=Object.keys(e)).sort(),t=[],r=(n=l(n)).next();!r.done;r=n.next())i=r.value,r=JSON.stringify(i),void 0!==(i=e[i])&&(i=bn(i))&&t.push(r+":"+i);e="{"+t.join(",")+"}"}else e=JSON.stringify(e);return e}function kn(e,t){var n=void 0!==n&&n;return En(e=vt(e),t,n)}function En(e,t,n){return e=function(e,t){function n(a,o){o=void 0!==o&&o;for(var s=[];e[i];)if(60==e.charCodeAt(i)){if(47===e.charCodeAt(i+1)){o=i+2,i=e.indexOf(">",i);var l=(o=e.substring(o,i)).indexOf(a);if(-1==l){var c=a.indexOf(".");0<c&&(l=o.indexOf(a.substring(0,c)))}if(-1==l)throw a=e.substring(0,i).split("\n"),Error("Unexpected close tag\nLine: "+(a.length-1)+"\nColumn: "+(a[a.length-1].length+1)+"\nChar: "+e[i]);i+1&&(i+=1);break}if(33===e.charCodeAt(i+1)){if(45==e.charCodeAt(i+2)){for(;-1!==i&&(62!==e.charCodeAt(i)||45!=e.charCodeAt(i-1)||45!=e.charCodeAt(i-2)||-1==i);)i=e.indexOf(">",i+1);-1===i&&(i=e.length)}else if(91===e.charCodeAt(i+2)&&91===e.charCodeAt(i+8)&&"cdata"===e.substr(i+3,5).toLowerCase()){-1==(l=e.indexOf("]]>",i))?(s.push(e.substr(i+9)),i=e.length):(s.push(e.substring(i+9,l)),i=l+3);continue}i++;continue}e:{c=o,i++;var d=r(),p={};for(l=[];62!==e.charCodeAt(i)&&e[i];){var f=e.charCodeAt(i);if(64<f&&91>f||96<f&&123>f){f=r();for(var h=e.charCodeAt(i);h&&39!==h&&34!==h&&!(64<h&&91>h||96<h&&123>h)&&62!==h;)i++,h=e.charCodeAt(i);var y=i+1;if(i=e.indexOf(e[i],y),y=e.slice(y,i),39===h||34===h){if(-1===i){if(c={tagName:d,attributes:p,children:l,parent:null},t)for(d=0;d<l.length;d++)"string"!=typeof l[d]&&(l[d].parent=c);l=c;break e}}else y=null,i--;if(f.startsWith("xmlns:")){h=y;var g=f.split(":")[1];Xn.set(h,g),Qn.set(g,h)}"tt"===d&&"xml:space"===f&&"preserve"===y&&(c=!0),p[f]=y}i++}for(47!==e.charCodeAt(i-1)?(i++,l=n(d,c)):i++,c={tagName:d,attributes:p,children:l,parent:null},d=l.length,p=0;p<d;p++)"string"!=typeof(f=l[p])?t&&(f.parent=c):p==d-1&&"\n"==f&&l.pop();l=c}if(s.push(l),"string"==typeof l)break;"?"===l.tagName[0]&&l.children&&(s.push.apply(s,u(l.children)),l.children=[])}else l=i,-2===(i=e.indexOf("<",i)-1)&&(i=e.length),l=e.slice(l,i+1),o?0<l.length&&s.push(l):(s.length&&1==l.length&&"\n"==l[0]||0<l.trim().length)&&s.push(l),i++;return s}function r(){for(var t=i;-1==="\r\n\t>/= ".indexOf(e[i])&&e[i];)i++;return e.slice(t,i)}var i=0;return n("")}(e,void 0!==n&&n),!t&&e.length?e[0]:(e=e.find((function(e){return t.split(",").includes(e.tagName)})))?e:null}function Tn(e){return Xn.has(e)?Xn.get(e):""}function _n(e){return"string"==typeof e}function An(e){var t=[];if(!e.children)return[];for(var n=(e=l(e.children)).next();!n.done;n=e.next())"string"!=typeof(n=n.value)&&t.push(n);return t}function Sn(e,t){var n=[];if(!e.children)return[];for(var r=(e=l(e.children)).next();!r.done;r=e.next())(r=r.value).tagName===t&&n.push(r);return n}function wn(e){return"string"==typeof e?Et(e):""===(e=e.children.reduce((function(e,t){return"string"==typeof t?e+t:e}),""))?null:Et(e)}function Cn(e){return Array.from(e.children).every((function(e){return"string"==typeof e}))?((e=wn(e))&&(e=e.trim()),e):null}function xn(e,t,n){if(n=void 0===n?[]:n,e.tagName===t&&n.push(e),e.children)for(var r=(e=l(e.children)).next();!r.done;r=e.next())xn(r.value,t,n);return n}function Pn(e,t){return 1!=(e=Sn(e,t)).length?null:e[0]}function Rn(e,t,n){return 1!=(e=On(e,t,n)).length?null:e[0]}function In(e,t,n,r){r=void 0===r?null:r;var i=null;return null!=(e=e.attributes[t])&&(i=n(e)),null==i?r:i}function Dn(e,t,n){return t=Tn(t),e.attributes[t+":"+n]||null}function On(e,t,n){var r=Tn(t);if(t=[],e.children)for(n=r?r+":"+n:n,r=(e=l(e.children)).next();!r.done;r=e.next())(r=r.value)&&r.tagName===n&&t.push(r);return t}function Ln(e,t,n){for(var r=(t=l(t)).next();!r.done;r=t.next())if(r=Dn(e,r.value,n))return r;return null}function Mn(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:e/1e3):null}function Nn(e){return e&&(e=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$","i").exec(e))?(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null):null}function Un(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null}function Bn(e){return 0==(e=Number(e))%1?e:null}function Fn(e){return 0==(e=Number(e))%1&&0<e?e:null}function jn(e){return 0==(e=Number(e))%1&&0<=e?e:null}function Hn(e){return e=Number(e),isNaN(e)?null:e}function Vn(e){return!!e&&"true"===e.toLowerCase()}function Gn(e){var t,n=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e);return isNaN(n)?null:n}function Kn(e){for(var t=[],n=(e=l(e=Et(e).split(/\/+(?=(?:[^'"]*['"][^'"]*['"])*[^'"]*$)/))).next();!n.done;n=e.next()){var r=(n=n.value).match(/^([\w]+)/);if(r){var i=n.match(/(@id='(.*?)')/),a=n.match(/(@t='(\d+)')/),o=n.match(/(@n='(\d+)')/),s=n.match(/\[(\d+)\]/);t.push({name:r[0],id:i?i[0].match(/'(.*?)'/)[0].replace(/'/gm,""):null,t:a?Number(a[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,n:o?Number(o[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,position:s?Number(s[1])-1:null,ac:n.split("/@")[1]||null})}else n.startsWith("@")&&t.length&&(t[t.length-1].ac=n.slice(1))}return t}function zn(e,t){var n=Kn(t.attributes.sel||"");if(n.length){var r=n[n.length-1],i=t.attributes.pos||null;null==(n=r.position)&&(null!==r.t&&(n=Wn(e,"t",r.t)),null!==r.n&&(n=Wn(e,"n",r.n))),null===n?n="prepend"===i?0:e.length:"prepend"===i?--n:"after"===i&&++n,i=t.tagName,(r=r.ac)&&e[n]?Yn(e[n],i,r,Cn(t)||""):("remove"!==i&&"replace"!==i||e.splice(n,1),"add"!==i&&"replace"!==i||e.splice.apply(e,[n,0].concat(u(t.children))))}}function Wn(e,t,n){for(var r=0,i=(e=l(e)).next();!i.done;i=e.next()){if(Number(i.value.attributes[t])===n)return r;r++}return null}function Yn(e,t,n,r){"remove"===t?delete e.attributes[n]:"add"!==t&&"replace"!==t||(e.attributes[n]=r)}function Zn(e){var t="",n=e.tagName.split(":");for(var r in 0<n.length&&(t=n[0],t=Qn.has(t)?Qn.get(t):""),t=document.createElementNS(t,e.tagName),e.attributes)t.setAttribute(r,e.attributes[r]);for(r=(e=l(e.children)).next();!r.done;r=e.next())n=void 0,n="string"==typeof(r=r.value)?new Text(r):Zn(r),t.appendChild(n);return t}function qn(e){if(!e)return null;for(var t={tagName:e.tagName,attributes:mn(e.attributes),children:[],parent:null},n=(e=l(e.children)).next();!n.done;n=e.next())"string"==typeof(n=n.value)||((n=qn(n)).parent=t),t.children.push(n);return t}var Xn=new Map,Qn=new Map;function Jn(e,t,n){this.startTime=e,this.endTime=t,this.payload=n,this.region=new nn,this.position=null,this.positionAlign=ar,this.size=0,this.textAlign=or,this.direction=cr,this.writingMode=dr,this.lineInterpretation=pr,this.line=null,this.lineHeight="",this.lineAlign=fr,this.displayAlign=lr,this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=vr,this.fontStyle=br,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textCombineUpright="",this.textDecoration=[],this.textStrokeWidth=this.textStrokeColor=this.textShadow="",this.wrapLine=!0,this.id="",this.nestedCues=[],this.lineBreak=this.isContainer=!1,this.rubyTag=null,this.cellResolution={oc:32,rows:15}}function $n(e,t){return(e=new Jn(e,t,"")).lineBreak=!0,e}function er(e,t){if(e.payload!=t.payload||!(.001>Math.abs(e.startTime-t.startTime)&&.001>Math.abs(e.endTime-t.endTime)))return!1;for(var n in e)if("startTime"!=n&&"endTime"!=n&&"payload"!=n)if("nestedCues"==n){if(!un(e.nestedCues,t.nestedCues,er))return!1}else if("region"==n||"cellResolution"==n){for(var r in e[n])if(e[n][r]!=t[n][r])return!1}else if(Array.isArray(e[n])){if(!un(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1;return!0}function tr(e,t){t=void 0===t?new Map:t;var n=e.payload;if(n.includes("<")){0===t.size&&nr(t);var r=n;n=[];for(var i=-1,a=0;a<r.length;a++)"<"===r[a]?i=a+1:">"===r[a]&&0<i&&((i=r.substr(i,a-i)).match(_r)&&n.push(i),i=-1);for(a=(n=l(n)).next();!a.done;a=n.next())a=a.value,r=r.replace("<"+a+">",'<div time="'+a+'">'),r+="</div>";e:{a=r,i=[];var o=-1;n="",r=!1;for(var s=0;s<a.length;s++)if("/"===a[s]){var u=a.indexOf(">",s);if(-1===u){n=a;break e}if((u=a.substring(s+1,u))&&"v"==u){r=!0;var c=null;if(i.length&&(c=i[i.length-1]),c){if(c===u)n+="/"+u+">";else{if(!c.startsWith("v")){n+=a[s];continue}n+="/"+c+">"}s+=u.length+1}else n+=a[s]}else n+=a[s]}else"<"===a[s]?"v"!=a[o=s+1]&&(o=-1):">"===a[s]&&0<o&&(i.push(a.substr(o,s-o)),o=-1),n+=a[s];for(i=(a=l(i)).next();!i.done;i=a.next())o=(i=i.value).replace(" ",".voice-"),n=(n=n.replace("<"+i+">","<"+o+">")).replace("</"+i+">","</"+o+">"),r||(n+="</"+o+">")}n=function(e){var t={"< ":""," >":" &gt;"},n=/(< +>|<\s|\s>)/g,r=RegExp(n.source);return e&&r.test(e)?e.replace(n,(function(e){return t[e]||""})):e||""}(n),e.payload="";try{var d=En("<span>"+n+"</span>","span")}catch(e){}if(d)if(1!=(d=d.children).length||d[0].tagName)for(n=(d=l(d)).next();!n.done;n=d.next())rr(n.value,e,t);else e.payload=Et(n);else e.payload=Et(n)}else e.payload=Et(n)}function nr(e){for(var t=l(Object.entries(yr)),n=t.next();!n.done;n=t.next()){var r=l(n.value);n=r.next().value,r=r.next().value;var i=new Jn(0,0,"");i.color=r,e.set("."+n,i)}for(n=(t=l(Object.entries(gr))).next();!n.done;n=t.next())n=(r=l(n.value)).next().value,r=r.next().value,(i=new Jn(0,0,"")).backgroundColor=r,e.set("."+n,i)}function rr(e,t,n){var r=t.clone();if(r.nestedCues=[],r.payload="",r.rubyTag="",r.line=null,r.region=new nn,r.position=null,r.size=0,r.textAlign=or,e.tagName)for(var i=l(e.tagName.split(/(?=[ .])+/g)),a=i.next();!a.done;a=i.next()){var o=a=a.value;if(o.startsWith(".voice-")){var s=o.split("-").pop();o='v[voice="'+s+'"]',n.has(o)||(o="v[voice="+s+"]")}switch(n.has(o)&&(s=r,o=n.get(o))&&(s.backgroundColor=ir(o.backgroundColor,s.backgroundColor),s.color=ir(o.color,s.color),s.fontFamily=ir(o.fontFamily,s.fontFamily),s.fontSize=ir(o.fontSize,s.fontSize),s.textShadow=ir(o.textShadow,s.textShadow),s.fontWeight=o.fontWeight,s.fontStyle=o.fontStyle,s.opacity=o.opacity,s.rubyTag=o.rubyTag,s.textCombineUpright=o.textCombineUpright,s.wrapLine=o.wrapLine),a){case"br":return r=$n(r.startTime,r.endTime),void t.nestedCues.push(r);case"b":r.fontWeight=mr;break;case"i":r.fontStyle=kr;break;case"u":r.textDecoration.push(Tr);break;case"font":(a=e.attributes.color)&&(r.color=a);break;case"div":if(!(a=e.attributes.time))break;(a=yn(a))&&(r.startTime=a);break;case"ruby":case"rp":case"rt":r.rubyTag=a}}if(i=e.children,_n(e)||1==i.length&&_n(i[0]))for(n=wn(e).split("\n"),e=!0,i=(n=l(n)).next();!i.done;i=n.next())i=i.value,e||(e=$n(r.startTime,r.endTime),t.nestedCues.push(e)),0<i.length&&((e=r.clone()).payload=Et(i),t.nestedCues.push(e)),e=!1;else for(t.nestedCues.push(r),e=(t=l(i)).next();!e.done;e=t.next())rr(e.value,r,n)}function ir(e,t){return e&&0<e.length?e:t}Jn.prototype.clone=function(){var e,t=new Jn(0,0,"");for(e in this)t[e]=this[e],t[e]&&t[e].constructor==Array&&(t[e]=t[e].slice());return t},F("shaka.text.Cue",Jn),Jn.parseCuePayload=tr,Jn.equal=er,Jn.prototype.clone=Jn.prototype.clone;var ar="auto";Jn.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:ar};var or="center",sr={LEFT:"left",RIGHT:"right",CENTER:or,START:"start",END:"end"};Jn.textAlign=sr;var lr="after",ur={BEFORE:"before",CENTER:"center",AFTER:lr};Jn.displayAlign=ur;var cr="ltr";Jn.direction={HORIZONTAL_LEFT_TO_RIGHT:cr,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var dr="horizontal-tb";Jn.writingMode={HORIZONTAL_TOP_TO_BOTTOM:dr,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var pr=0;Jn.lineInterpretation={LINE_NUMBER:pr,PERCENTAGE:1};var fr="start",hr={CENTER:"center",START:fr,END:"end"};Jn.lineAlign=hr;var yr={white:"white",lime:"lime",cyan:"cyan",red:"red",yellow:"yellow",magenta:"magenta",blue:"blue",black:"black"};Jn.defaultTextColor=yr;var gr={bg_white:"white",bg_lime:"lime",bg_cyan:"cyan",bg_red:"red",bg_yellow:"yellow",bg_magenta:"magenta",bg_blue:"blue",bg_black:"black"};Jn.defaultTextBackgroundColor=gr;var vr=400,mr=700;Jn.fontWeight={NORMAL:vr,BOLD:mr};var br="normal",kr="italic",Er={NORMAL:br,ITALIC:kr,OBLIQUE:"oblique"};Jn.fontStyle=Er;var Tr="underline";Jn.textDecoration={UNDERLINE:Tr,LINE_THROUGH:"lineThrough",OVERLINE:"overline"};var _r=/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g;function Ar(){}function Sr(e,t,n){Cr.set(e.toLowerCase().split(";")[0]+"-"+n,{priority:n,se:t})}function wr(e,t){for(var n=e.toLowerCase().split(";")[0],r=l([Ir,Rr,Pr,xr]),i=r.next();!i.done;i=r.next())if(i=Cr.get(n+"-"+i.value)){var a=i.se(),o=a.isSupported(e,t);if(a.destroy(),o)return i.se}return null}Ar.prototype.destroy=function(){},F("shaka.transmuxer.TransmuxerEngine",Ar),Ar.findTransmuxer=wr,Ar.unregisterTransmuxer=function(e,t){Cr.delete(e.toLowerCase().split(";")[0]+"-"+t)},Ar.registerTransmuxer=Sr,Ar.prototype.destroy=Ar.prototype.destroy;var Cr=new Map,xr=1,Pr=2,Rr=3,Ir=4;function Dr(){}function Or(e,t){var n=e;return t&&!zr.includes(e)&&(n+='; codecs="'+t+'"'),n}function Lr(e,t){return t&&(e+='; codecs="'+t+'"'),e}function Mr(e,t,n){var r=Or(e,t);return wr(t=Lr(e,t))?(e=wr(t))?(n=(e=e()).convertCodecs(n,t),e.destroy()):n=t:n="video/mp2t"!=e&&"audio"==n?r.replace("video","audio"):r,n}function Nr(e,t,n){var r=[t];return Kr.forEach((function(t,i){var a=e[i];"codecs"==i?zr.includes(e.mimeType)||r.push('codecs="'+n+'"'):a&&r.push(t+'="'+a+'"')})),"PQ"==e.hdr&&r.push('eotf="smpte2084"'),r.join(";")}function Ur(e){return e.split(";")[0].split("/")[1]}function Br(e){var t=Gr(e);switch(e=t[0].toLowerCase(),t=t[1].toLowerCase(),!0){case"mp4a"===e&&"69"===t:case"mp4a"===e&&"6b"===t:case"mp4a"===e&&"40.34"===t:return"mp3";case"mp4a"===e&&"66"===t:case"mp4a"===e&&"67"===t:case"mp4a"===e&&"68"===t:case"mp4a"===e&&"40.2"===t:case"mp4a"===e&&"40.02"===t:case"mp4a"===e&&"40.5"===t:case"mp4a"===e&&"40.05"===t:case"mp4a"===e&&"40.29"===t:case"mp4a"===e&&"40.42"===t:return"aac";case"mp4a"===e&&"a5"===t:case"ac3"===e:case"ac-3"===e:return"ac-3";case"mp4a"===e&&"a6"===t:case"eac3"===e:case"ec-3"===e:return"ec-3";case"ac-4"===e:return"ac-4";case"mp4a"===e&&"b2"===t:return"dtsx";case"mp4a"===e&&"a9"===t:return"dtsc";case"vp09"===e:case"vp9"===e:return"vp9";case"avc1"===e:case"avc3"===e:return"avc";case"hvc1"===e:case"hev1"===e:return"hevc";case"vvc1"===e:case"vvi1"===e:return"vvc";case"dvh1"===e:case"dvhe"===e:return t&&t.startsWith("05")?"dovi-p5":"dovi-hevc";case"dvav"===e:case"dva1"===e:return"dovi-avc";case"dav1"===e:return"dovi-av1";case"dvc1"===e:case"dvi1"===e:return"dovi-vvc"}return e}function Fr(e){for(var t=[],n=(e=l(e.split(","))).next();!n.done;n=e.next())n=Gr(n.value),t.push(n[0]);return t.sort().join(",")}function jr(e){return e.split(";")[0]}function Hr(e){return(e=e.split(/ *; */)).shift(),(e=e.find((function(e){return e.startsWith("codecs=")})))?e.split("=")[1].replace(/^"|"$/g,""):""}function Vr(e){return"application/x-mpegurl"===e||"application/vnd.apple.mpegurl"===e}function Gr(e){var t=(e=e.split("."))[0];return e.shift(),[t,e.join(".")]}Ar.PluginPriority={FALLBACK:xr,PREFERRED_SECONDARY:Pr,PREFERRED:Rr,APPLICATION:Ir},F("shaka.util.MimeUtils",Dr),Dr.getFullTypeWithAllCodecs=Lr,Dr.getFullType=Or;var Kr=(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels"),zr=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"];function Wr(e){this.i=null,this.j=e,this.B=!1,this.l=this.u=0,this.m=1/0,this.h=this.g=null,this.C="",this.A=function(){},this.o=new Map}function Yr(e,t){Jr.set(e,t)}function Zr(e){return Jr.get(e)}function qr(e){return!!Jr.has(e)||("application/cea-608"==e||"application/cea-708"==e)&&!!tn}function Xr(e,t,n){if(e.C=t,t=e.o.get(t))for(var r=l(t.keys()),i=r.next();!i.done;i=r.next())(i=t.get(i.value).filter((function(e){return e.endTime<=n})))&&e.j.append(i)}function Qr(e,t,n){t.startTime+=n,t.endTime+=n;for(var r=(t=l(t.nestedCues)).next();!r.done;r=t.next())Qr(e,r.value,n)}Wr.prototype.destroy=function(){return this.j=this.i=null,this.o.clear(),Promise.resolve()},Wr.prototype.remove=function(e,t){var n=this;return I((function(r){if(1==r.g)return b(r,Promise.resolve(),2);!n.j||!n.j.remove(e,t)||null==n.g||t<=n.g||e>=n.h||(e<=n.g&&t>=n.h?n.g=n.h=null:e<=n.g&&t<n.h?n.g=t:e>n.g&&t>=n.h&&(n.h=e)),k(r)}))},F("shaka.text.TextEngine",Wr),Wr.prototype.destroy=Wr.prototype.destroy,Wr.findParser=Zr,Wr.unregisterParser=function(e){Jr.delete(e)},Wr.registerParser=Yr;var Jr=new Map;function $r(e,t){return e.concat(t)}function ei(){}function ti(e){return null!=e}function ni(e,t){return Promise.race([t,new Promise((function(t,n){new je(n).da(e)}))])}function ri(){}function ii(e,t){return e=si(e),t=si(t),e.split("-")[0]==t.split("-")[0]}function ai(e,t){return e=si(e),t=si(t),e=e.split("-"),t=t.split("-"),e[0]==t[0]&&1==e.length&&2==t.length}function oi(e,t){return e=si(e),t=si(t),e=e.split("-"),t=t.split("-"),2==e.length&&2==t.length&&e[0]==t[0]}function si(e){var t=(e=l(e.split("-x-"))).next().value;t=void 0===t?"":t,e=void 0===(e=e.next().value)?"":e;var n=l(t.split("-"));return t=void 0===(t=n.next().value)?"":t,n=void 0===(n=n.next().value)?"":n,e=e?"x-"+e:"",t=t.toLowerCase(),t=pi.get(t)||t,((n=n.toUpperCase())?t+"-"+n:t)+(e?"-"+e:"")}function li(e,t){return e=si(e),(t=si(t))==e?4:ai(t,e)?3:oi(t,e)?2:ai(e,t)?1:0}function ui(e){var t=e.indexOf("-");return e=(e=0<=t?e.substring(0,t):e).toLowerCase(),pi.get(e)||e}function ci(e){return e.language?si(e.language):e.audio&&e.audio.language?si(e.audio.language):e.video&&e.video.language?si(e.video.language):"und"}function di(e,t){e=si(e);for(var n=new Set,r=(t=l(t)).next();!r.done;r=t.next())n.add(si(r.value));for(r=(t=l(n)).next();!r.done;r=t.next())if((r=r.value)==e)return r;for(r=(t=l(n)).next();!r.done;r=t.next())if(ai(r=r.value,e))return r;for(r=(t=l(n)).next();!r.done;r=t.next())if(oi(r=r.value,e))return r;for(t=(n=l(n)).next();!t.done;t=n.next())if(ai(e,t=t.value))return t;return null}F("shaka.util.LanguageUtils",ri),ri.findClosestLocale=di,ri.getLocaleForVariant=ci,ri.getLocaleForText=function(e){return si(e.language||"und")},ri.getBase=ui,ri.relatedness=li,ri.areSiblings=function(e,t){var n=ui(e),r=ui(t);return e!=n&&t!=r&&n==r},ri.normalize=si,ri.isSiblingOf=oi,ri.isParentOf=ai,ri.areLanguageCompatible=ii,ri.areLocaleCompatible=function(e,t){return(e=si(e))==(t=si(t))};var pi=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function fi(){}function hi(e,t,n,r,i){function a(e){var t=String(e.width||"")+String(e.height||"")+String(Math.round(e.frameRate||0))+(e.hdr||"")+e.fastSwitching;return e.dependencyStream&&(t+=e.dependencyStream.baseOriginalId||""),t}if(i.length){for(var o=e.textStreams,s=(i=l(i)).next(),c={};!s.done;c={sg:void 0},s=i.next())if(c.sg=s.value,(s=o.filter(function(e){return function(t){return!(!t.codecs.startsWith(e.sg)&&!t.mimeType.startsWith(e.sg))}}(c))).length){o=s;break}e.textStreams=o}if(o=e.variants,(t.length||n.length)&&(o=function(e,t,n){for(var r=(t=l(t)).next(),i={};!r.done;i={Lh:void 0},r=t.next())if(i.Lh=r.value,r=e.filter(function(e){return function(t){return t.video&&t.video.codecs.startsWith(e.Lh)}}(i)),r.length){e=r;break}for(n=l(n),t=n.next(),r={};!t.done;r={Cg:void 0},t=n.next())if(r.Cg=t.value,t=e.filter(function(e){return function(t){return t.audio&&t.audio.codecs.startsWith(e.Cg)}}(r)),t.length){e=t;break}return e}(o,t,n)),r.length){for(t=new Q,o=(n=l(o)).next();!o.done;o=n.next())o=o.value,t.push(String(o.video.width||0),o);var d=[];t.forEach((function(e,t){e=0;for(var n=[],i=(t=l(t)).next(),a={};!i.done;a={Pe:void 0},i=t.next())a.Pe=i.value,(i=r.filter(function(e){return function(t){return e.Pe.decodingInfos[0][t]}}(a)).length)>e?(e=i,n=[a.Pe]):i==e&&n.push(a.Pe);d.push.apply(d,u(n))})),o=d}for(n=new Set,t=new Set,i=(o=l(o)).next();!i.done;i=o.next())(i=i.value).audio&&n.add(i.audio),i.video&&t.add(i.video);o=Array.from(n).sort((function(e,t){return e.bandwidth-t.bandwidth}));var p,f,h=[];for(n=new Map,i=(o=l(o)).next();!i.done;i=o.next()){if(i=i.value,f=void 0,f=(p=i).language+(p.channelsCount||0)+(p.audioSamplingRate||0)+p.roles.join(",")+p.label+p.groupId+p.fastSwitching,p.dependencyStream&&(f+=p.dependencyStream.baseOriginalId||""),s=f,(c=n.get(s)||[]).length){var y=c[c.length-1],g=Br(y.codecs),v=Br(i.codecs);g!=v||i.bandwidth&&y.bandwidth&&!(i.bandwidth>y.bandwidth)||(c.push(i),h.push(i.id))}else c.push(i),h.push(i.id);n.set(s,c)}var m={vp8:1,avc:1,"dovi-avc":.95,vp9:.9,vp09:.9,hevc:.85,"dovi-hevc":.8,"dovi-p5":.75,av01:.7,"dovi-av1":.65,vvc:.6};o=Array.from(t).sort((function(e,t){if(!e.bandwidth||!t.bandwidth||e.bandwidth==t.bandwidth){if(e.codecs&&t.codecs&&e.codecs!=t.codecs&&e.width==t.width){var n=Br(e.codecs),r=Br(t.codecs);if(n!=r)return(m[n]||1)-(m[r]||1)}return e.width-t.width}return e.bandwidth-t.bandwidth})),t=zt();var b=[];for(n=new Map,i=(o=l(o)).next();!i.done;i=o.next()){if(s=a(i=i.value),(c=n.get(s)||[]).length){if(y=c[c.length-1],!t&&(g=Br(y.codecs))!==(v=Br(i.codecs)))continue;(g=Br(y.codecs))!=(v=Br(i.codecs))||i.bandwidth&&y.bandwidth&&!(i.bandwidth>y.bandwidth)||(c.push(i),b.push(i.id))}else c.push(i),b.push(i.id);n.set(s,c)}e.variants=e.variants.filter((function(e){var t=e.audio;return e=e.video,!(t&&!h.includes(t.id)||e&&!b.includes(e.id))}))}function yi(e,t,n){function r(e,t,n){return e>=t&&e<=n}var i=e.video;if(i&&i.width&&i.height){var a=i.width,o=i.height;if(o>a&&(a=(o=l([o,a])).next().value,o=o.next().value),!r(a,t.minWidth,Math.min(t.maxWidth,n.width))||!r(o,t.minHeight,Math.min(t.maxHeight,n.height))||!r(i.width*i.height,t.minPixels,t.maxPixels))return!1}return!(e&&e.video&&e.video.frameRate&&!r(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||e&&e.audio&&e.audio.channelsCount&&!r(e.audio.channelsCount,t.minChannelsCount,t.maxChannelsCount)||!r(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function gi(e,t,n,r){return n=void 0===n?[]:n,r=void 0===r?{}:r,I((function(i){return 1==i.g?b(i,vi(e,t,0<t.offlineSessionIds.length,n,r),2):(function(e){e.textStreams=e.textStreams.filter((function(e){return qr(e=Or(e.mimeType,e.codecs))}))}(t),b(i,function(e){var t,n,r,i,a,o,s;return I((function(u){switch(u.g){case 1:t=[],n=l(e.imageStreams),r=n.next();case 2:if(r.done){u.s(4);break}if(i=r.value,"application/mp4"==(a=i.mimeType)&&"mjpg"==i.codecs&&(a="image/jpg"),ji.has(a)){u.s(5);break}if(!(o=Hi.get(a))){ji.set(a,!1),u.s(5);break}return b(u,function(e){return new Promise((function(t){var n=new Image;n.src=e,"decode"in n?n.decode().then((function(){t(!0)})).catch((function(){t(!1)})):n.onload=n.onerror=function(){t(2===n.height)}}))}(o),7);case 7:s=u.h,ji.set(a,s);case 5:ji.get(a)&&t.push(i),r=n.next(),u.s(2);break;case 4:e.imageStreams=t,k(u)}}))}(t),0))}))}function vi(e,t,n,r,i){var a,o;return I((function(s){if(1==s.g)return Ke()&&function(e){for(var t=(new Map).set("dvav","avc3").set("dva1","avc1").set("dvhe","hev1").set("dvh1","hvc1").set("dvc1","vvc1").set("dvi1","vvi1"),n=new Set,r=(e=l(e)).next();!r.done;r=e.next())(r=r.value).video&&n.add(r.video);for(n=l(n),e=n.next();!e.done;e=n.next()){e=e.value;for(var i=(r=l(t)).next();!i.done;i=r.next()){var a=l(i.value);if(i=a.next().value,a=a.next().value,e.codecs.includes(i)){e.codecs=e.codecs.replace(i,a);break}}}}(t.variants),b(s,ki(t.variants,n,!1,r),2);a=null,e&&(o=e.h)&&(a=o.keySystem),t.variants=t.variants.filter((function(e){var t=function(e,t,n){if(!e.decodingInfos.some((function(e){return!(!e.supported||t&&(e=e.keySystemAccess)&&(n[e.keySystem]||e.keySystem)!=t)})))return!1;var r=Ke(),i=ot("Firefox")&&rt(),a=e.video,o=a&&a.width||0,s=a&&a.height||0;return!(r&&a&&(1920<o||1080<s)&&(a.codecs.includes("avc1.")||a.codecs.includes("avc3."))||(r=a&&a.dependencyStream)&&!Gt(r))&&(e=e.audio,!(i&&e&&e.encrypted&&e.codecs.toLowerCase().includes("opus")||e&&e.dependencyStream))}(e,a,i);if(!t){var n=[];e.audio&&n.push(Ni(e.audio)),e.video&&n.push(Ni(e.video))}return t})),k(s)}))}function mi(e,t){var n,r,i,a,o,s,u;return I((function(c){if(1==c.g){for(n=function(e,t){if(e){var n=mn(e);return n.supported=e.supported&&t.supported,n.powerEfficient=e.powerEfficient&&t.powerEfficient,n.smooth=e.smooth&&t.smooth,t.keySystemAccess&&!n.keySystemAccess&&(n.keySystemAccess=t.keySystemAccess),n}return t},r=null,i=[],a=l(t),o=a.next(),s={};!o.done;s={cache:void 0,Rd:void 0},o=a.next())u=o.value,s.Rd=bn(u),s.cache=Bi,s.cache.has(s.Rd)?r=n(r,s.cache.get(s.Rd)):i.push(bi(u).then(function(e){return function(t){for(var i=null,a=(t=l(t||[])).next();!a.done;a=t.next())i=n(i,a.value);i&&(e.cache.set(e.Rd,i),r=n(r,i))}}(s)));return b(c,Promise.all(i),2)}r&&e.decodingInfos.push(r),k(c)}))}function bi(e){var t=[""];e.video&&(t=Hr(e.video.contentType).split(","));var n=[""];e.audio&&(n=Hr(e.audio.contentType).split(","));for(var r=[],i=(t=l(t)).next();!i.done;i=t.next()){i=i.value;for(var a=l(n),o=a.next(),s={};!o.done;s={pc:void 0},o=a.next())o=o.value,s.pc=vn(e),e.video&&(s.pc.video.contentType=Or(jr(s.pc.video.contentType),i)),e.audio&&(s.pc.audio.contentType=Or(jr(s.pc.audio.contentType),o)),r.push(new Promise(function(e){return function(t,n){(rt()?ni(5,navigator.mediaCapabilities.decodingInfo(e.pc)):navigator.mediaCapabilities.decodingInfo(e.pc)).then((function(e){t(e)})).catch(n)}}(s)))}return Promise.all(r).catch((function(){return JSON.stringify(e),null}))}function ki(e,t,n,r){var i,a,o,s,u,c,d,p,f,h,y,g,v,m,k,E,T,_;return I((function(A){switch(A.g){case 1:if(e.some((function(e){return e.decodingInfos.length})))return A.return();i=l(r),a=i.next(),o={};case 2:if(a.done){A.s(4);break}o.mh=a.value,s=!1,u=l(e),c=u.next();case 5:if(c.done){A.s(7);break}d=c.value,p=Ei(d,t,n).filter((S=o,function(e){return((e=e[0]).keySystemConfiguration&&e.keySystemConfiguration.keySystem)===S.mh})),f=l(p),h=f.next();case 8:if(h.done){A.s(10);break}return y=h.value,b(A,mi(d,y),9);case 9:h=f.next(),A.s(8);break;case 10:d.decodingInfos.length&&(s=!0),c=u.next(),A.s(5);break;case 7:if(s)return A.return();o={mh:void 0},a=i.next(),A.s(2);break;case 4:g=l(e),v=g.next();case 12:if(v.done){A.s(0);break}m=v.value,k=Ei(m,t,n).filter((function(e){return!(e=(e=e[0]).keySystemConfiguration&&e.keySystemConfiguration.keySystem)||!r.includes(e)})),E=l(k),T=E.next();case 15:if(T.done){v=g.next(),A.s(12);break}return _=T.value,b(A,mi(m,_),16);case 16:T=E.next(),A.s(15)}var S}))}function Ei(e,t,n){var r=e.audio,i=e.video,a=[],o=[];if(i)for(var s=l(i.fullMimeTypes),u=s.next();!u.done;u=s.next()){var c=Hr(u=u.value);if(c.includes(",")&&!r){var d=c.split(","),p=jr(u);c=Ot("video",d),p=Mr(p,d=Ti(d=Ot("audio",d),p),"audio"),o.push({contentType:p,channels:2,bitrate:e.bandwidth||1,samplerate:1,spatialRendering:!1})}if(c=_i(c),u={contentType:Mr(jr(u),c,"video"),width:i.width||64,height:i.height||64,bitrate:i.bandwidth||e.bandwidth||1,framerate:i.frameRate||1},i.hdr)switch(i.hdr){case"SDR":u.transferFunction="srgb";break;case"PQ":u.transferFunction="pq";break;case"HLG":u.transferFunction="hlg"}i.colorGamut&&(u.colorGamut=i.colorGamut),a.push(u)}if(r)for(u=(s=l(r.fullMimeTypes)).next();!u.done;u=s.next())u=Mr(u=jr(c=u.value),c=Ti(Hr(c),u),"audio"),o.push({contentType:u,channels:r.channelsCount||2,bitrate:r.bandwidth||e.bandwidth||1,samplerate:r.audioSamplingRate||1,spatialRendering:r.spatialAudio});for(s=[],0==a.length&&a.push(null),0==o.length&&o.push(null),u=(a=l(a)).next();!u.done;u=a.next())for(u=u.value,p=(c=l(o)).next();!p.done;p=c.next())p=p.value,d={type:n?"file":"media-source"},u&&(d.video=u),p&&(d.audio=p),s.push(d);if(!(o=(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])).length)return[s];for(e=[],n=new Map,a=(o=l(o)).next();!a.done;a=o.next())a=a.value,n.get(a.keySystem)||n.set(a.keySystem,[]),n.get(a.keySystem).push(a);for(o=t?"required":"optional",t=t?["persistent-license"]:["temporary"],u=(a=l(n.keys())).next();!u.done;u=a.next()){for(u=u.value,p=n.get(u),c=new Map,d=(p=l(p)).next();!d.done;d=p.next()){var f=(d=d.value).videoRobustness+","+d.audioRobustness;c.get(f)||c.set(f,[]),c.get(f).push(d)}for(p=(c=l(c.values())).next();!p.done;p=c.next()){p=p.value,d=[];for(var h=(f=l(s)).next();!h.done;h=f.next()){h=Object.assign({},h.value);for(var y={keySystem:u,initDataType:"cenc",persistentState:o,distinctiveIdentifier:"optional",sessionTypes:t},g=l(p),v=g.next();!v.done;v=g.next()){if((v=v.value).initData&&v.initData.length){for(var m=new Set,b=l(v.initData),k=b.next();!k.done;k=b.next())m.add(k.value.initDataType);y.initDataType=v.initData[0].initDataType}v.distinctiveIdentifierRequired&&(y.distinctiveIdentifier="required"),v.persistentStateRequired&&(y.persistentState="required"),v.sessionType&&(y.sessionTypes=[v.sessionType]),r&&(y.audio?(v.encryptionScheme&&(y.audio.encryptionScheme=y.audio.encryptionScheme||v.encryptionScheme),y.audio.robustness=y.audio.robustness||v.audioRobustness):(y.audio={robustness:v.audioRobustness},v.encryptionScheme&&(y.audio.encryptionScheme=v.encryptionScheme)),""==y.audio.robustness&&delete y.audio.robustness),i&&(y.video?(v.encryptionScheme&&(y.video.encryptionScheme=y.video.encryptionScheme||v.encryptionScheme),y.video.robustness=y.video.robustness||v.videoRobustness):(y.video={robustness:v.videoRobustness},v.encryptionScheme&&(y.video.encryptionScheme=v.encryptionScheme)),""==y.video.robustness&&delete y.video.robustness)}h.keySystemConfiguration=y,d.push(h)}e.push(d)}}return e}function Ti(e,t){return"flac"==e.toLowerCase()?Qe()?"fLaC":"flac":"opus"===e.toLowerCase()?Qe()&&"mp4"==Ur(t)?"Opus":"opus":"ac-3"==e.toLowerCase()&&We()?"ec-3":e}function _i(e){if(e.includes("avc1")){var t=e.split(".");if(3==t.length)return e=t.shift()+".",(e+=parseInt(t.shift(),10).toString(16))+("000"+parseInt(t.shift(),10).toString(16)).slice(-4)}else if("vp9"==e)return"vp09.00.41.08";return e}function Ai(e){var t=e.audio,n=e.video,r=t?t.mimeType:null,i=n?n.mimeType:null,a=t?t.codecs:null,o=n?n.codecs:null,s=t?t.groupId:null,u=[];n&&u.push(n.mimeType),t&&u.push(t.mimeType),u=u[0]||null;var c=[];t&&c.push(t.kind),n&&c.push(n.kind),c=c[0]||null;var d=new Set;if(t)for(var p=l(t.roles),f=p.next();!f.done;f=p.next())d.add(f.value);if(n)for(f=(p=l(n.roles)).next();!f.done;f=p.next())d.add(f.value);if(e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:c,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:u,audioMimeType:r,videoMimeType:i,codecs:"",audioCodec:a,videoCodec:o,primary:e.primary,roles:Array.from(d),audioRoles:null,forced:!1,videoId:null,audioId:null,audioGroupId:s,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.pixelAspectRatio=n.pixelAspectRatio||null,e.videoBandwidth=n.bandwidth||null,e.hdr=n.hdr||null,e.colorGamut=n.colorGamut||null,e.videoLayout=n.videoLayout||null,(r=n.dependencyStream)&&(e.width=r.width||e.width,e.height=r.height||e.height,e.videoCodec=r.codecs||e.videoCodec),o.includes(","))){e.channelsCount=n.channelsCount,e.audioSamplingRate=n.audioSamplingRate,e.spatialAudio=n.spatialAudio,e.originalLanguage=n.originalLanguage,e.audioMimeType=i,n=o.split(",");try{e.videoCodec=Ot("video",n),e.audioCodec=Ot("audio",n)}catch(e){}}return t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.spatialAudio=t.spatialAudio,e.label=t.label,e.audioRoles=t.roles,e.accessibilityPurpose=t.accessibilityPurpose,e.originalLanguage=t.originalLanguage,t=t.dependencyStream)&&(e.audioCodec=t.codecs||e.audioCodec),t=[],e.videoCodec&&t.push(e.videoCodec),e.audioCodec&&t.push(e.audioCodec),e.codecs=t.join(", "),e}function Si(e){return{id:e.id,active:!1,type:Nt,bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,forced:e.forced,videoId:null,audioId:null,audioGroupId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId,originalImageId:null,accessibilityPurpose:e.accessibilityPurpose,originalLanguage:e.originalLanguage}}function wi(e){var t=e.width||null,n=e.height||null,r=null;e.segmentIndex&&(r=Kl(e.segmentIndex));var i=e.tilesLayout;return r&&(i=r.tilesLayout||i),i&&null!=t&&(t/=Number(i.split("x")[0])),i&&null!=n&&(n/=Number(i.split("x")[1])),{id:e.id,active:!1,type:"image",bandwidth:e.bandwidth||0,language:"",label:null,kind:null,width:t,height:n,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,audioGroupId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:i||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:e.originalId,accessibilityPurpose:null,originalLanguage:null}}function Ci(e){return e.__shaka_id||(e.__shaka_id=Fi++),e.__shaka_id}function xi(e){var t=Ri(e);return t.active="disabled"!=e.mode,t.type="text",t.originalTextId=e.id,"captions"==e.kind&&(t.mimeType="unknown"),"subtitles"==e.kind&&(t.mimeType="text/vtt"),e.kind&&(t.roles=[e.kind]),"forced"==e.kind&&(t.forced=!0),t}function Pi(e){var t=Ri(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,"main"==e.kind&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind],t.label=e.label),t}function Ri(e){var t=e.language;return{id:Ci(e),active:!1,type:"",bandwidth:0,language:si(t||"und"),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:null,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,audioGroupId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:t}}function Ii(e){return e.allowedByApplication&&e.allowedByKeySystem&&0==e.disabledUntilTime}function Di(e){return e.filter((function(e){return Ii(e)}))}function Oi(e,t,n,r){var i=e,a=e.filter((function(e){return e.primary}));a.length&&(i=a);var o=i.length?i[0].language:"";if(i=i.filter((function(e){return e.language==o})),t){var s=di(si(t),e.map((function(e){return e.language})));s&&(i=e.filter((function(e){return si(e.language)==s})))}if(i=i.filter((function(e){return e.forced==r})),n){if((e=Li(i,n)).length)return e}else if(e=i.filter((function(e){return 0==e.roles.length})),e.length)return e;return e=i.map((function(e){return e.roles})).reduce($r,[]),e.length?Li(i,e[0]):i}function Li(e,t){return e.filter((function(e){return e.roles.includes(t)}))}function Mi(e,t){t.length&&(t=t.filter((function(t){return Br(e.codecs)==Br(t.codecs)})).sort((function(e,t){return e.bandwidth&&t.bandwidth&&e.bandwidth!=t.bandwidth?e.bandwidth-t.bandwidth:(e.width||0)-(t.width||0)})),e.trickModeVideo=t[0],1<t.length&&(t=t.find((function(t){return e.width==t.width&&e.height==t.height}))))&&(e.trickModeVideo=t)}function Ni(e){return"audio"==e.type?"type=audio codecs="+e.codecs+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount+" audioSamplingRate="+e.audioSamplingRate:"video"==e.type?"type=video codecs="+e.codecs+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"}function Ui(e,t,n){if(0==n.autoShowText)return!1;if(1==n.autoShowText)return!0;var r=si(n.preferredTextLanguage);return t=si(t.language),2==n.autoShowText?ii(t,r):3==n.autoShowText?!!e&&(e=si(e.language),ii(t,r)&&!ii(e,t)):(Y("Invalid autoShowText setting!"),!1)}F("shaka.util.StreamUtils",fi),fi.meetsRestrictions=yi;var Bi=new Map,Fi=0,ji=(new Map).set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),Hi=(new Map).set("image/webp","data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");function Vi(){var t=this;this.G=null,this.o=!1,this.m=new K,this.j=new J,navigator.connection&&navigator.connection.addEventListener&&this.j.D(navigator.connection,"change",(function(){if(t.o&&t.g.useNetworkInformation){t.m=new K,t.g&&t.m.configure(t.g.advanced);var e=t.chooseVariant();e&&navigator.onLine&&t.G(e,t.g.clearBufferSwitch,t.g.safeMarginSwitch)}})),this.F=[],this.H=1,this.I=!1,this.h=this.l=this.g=this.u=null,this.A=new je((function(){if(t.o&&(t.g.restrictToElementSize||t.g.restrictToScreenSize)){var e=t.chooseVariant();e&&t.G(e,t.g.clearBufferSwitch,t.g.safeMarginSwitch)}})),this.B=e,"documentPictureInPicture"in e&&this.j.D(e.documentPictureInPicture,"enter",(function(){t.B=e.documentPictureInPicture.window,t.A&&t.A.sb(),t.j.ma(t.B,"pagehide",(function(){t.B=e,t.A&&t.A.sb()}))})),this.C=this.i=null}function Gi(e){if(!e.I){var t=e.m;if(!(t.g>=t.i))return;e.I=!0,e.u-=1e3*(e.g.switchInterval-e.g.minTimeToSwitch)}Date.now()-e.u<1e3*e.g.switchInterval||(t=e.chooseVariant(),e.getBandwidthEstimate(),t&&e.G(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch))}function Ki(e,t,n,r,i){if(e.C){var a=e.C.Ug();a&&(n=n.filter((function(e){return!e.bandwidth||!a||e.bandwidth<=a})))}return t&&(n=n.filter((function(e){return yi(e,t,{width:i,height:r})}))),n.sort((function(e,t){return e.bandwidth-t.bandwidth}))}(n=Vi.prototype).stop=function(){this.G=null,this.o=!1,this.F=[],this.H=1,this.l=this.u=null,this.h&&(this.h.disconnect(),this.h=null),this.A.stop(),this.C=this.i=null},n.release=function(){this.j.release(),this.A=null},n.init=function(e){this.G=e},n.chooseVariant=function(){var e=1/0,t=1/0;if(this.g.restrictToScreenSize){var n=this.g.ignoreDevicePixelRatio?1:this.B.devicePixelRatio;e=this.B.screen.height*n,t=this.B.screen.width*n}if(this.h&&this.g.restrictToElementSize){n=this.g.ignoreDevicePixelRatio?1:this.B.devicePixelRatio;var r=this.l.clientHeight,i=this.l.clientWidth;this.i&&document.pictureInPictureElement&&document.pictureInPictureElement==this.l&&(r=this.i.height,i=this.i.width),e=Math.min(e,r*n),t=Math.min(t,i*n)}if((n=this.F.filter((function(e){return e&&!(e.audio&&e.audio.fastSwitching||e.video&&e.video.fastSwitching)}))).length||(n=this.F),r=n,n.length!=this.F.length&&(r=this.F.filter((function(e){return e&&!!(e.audio&&e.audio.fastSwitching||e.video&&e.video.fastSwitching)}))),n=Ki(this,this.g.restrictions,r,1/0,1/0),1/0!=e||1/0!=t){for(n=function(e){for(var t=[],n=(e=l(e)).next();!n.done;n=e.next())(n=n.value.video)&&n.height&&n.width&&t.push({height:n.height,width:n.width});return t.sort((function(e,t){return e.width-t.width}))}(n),i=(n=l(n)).next();!i.done;i=n.next())if((i=i.value).height>=e&&i.width>=t){e=i.height,t=i.width;break}n=Ki(this,this.g.restrictions,r,e,t)}for(e=this.getBandwidthEstimate(),r.length&&!n.length&&(n=[(n=Ki(this,null,r,1/0,1/0))[0]]),t=n[0]||null,r=0;r<n.length;r++){i=n[r];for(var a=isNaN(this.H)?1:Math.abs(this.H),o=a*i.bandwidth/this.g.bandwidthDowngradeTarget,s={bandwidth:1/0},u=r+1;u<n.length;u++)if(i.bandwidth!=n[u].bandwidth){s=n[u];break}a=a*s.bandwidth/this.g.bandwidthUpgradeTarget,e>=o&&e<=a&&(t.bandwidth!=i.bandwidth||t.bandwidth==i.bandwidth&&t.video&&i.video&&(t.video.width<i.video.width||t.video.height<i.video.height))&&(t=i)}return this.u=Date.now(),t},n.enable=function(){this.o=!0},n.disable=function(){this.o=!1},n.segmentDownloaded=function(e,t,n){e<this.g.cacheLoadThreshold||(this.m.sample(e,t),n&&null!=this.u&&this.o&&Gi(this))},n.trySuggestStreams=function(){null!=this.u&&this.o&&Gi(this)},n.getBandwidthEstimate=function(){var e=this.g.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&(e=1e6*navigator.connection.downlink),navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&this.g.preferNetworkInformationBandwidth?e:(e=this.m.getBandwidthEstimate(e),this.C?this.C.getBandwidthEstimate(e):e)},n.setVariants=function(e){this.F=e},n.playbackRateChanged=function(e){this.H=e},n.setMediaElement=function(t){function n(){r.A.da(zi)}var r=this;this.l=t,this.h&&(this.h.disconnect(),this.h=null),this.l&&"ResizeObserver"in e&&(this.h=new ResizeObserver(n),this.h.observe(this.l)),this.j.D(t,"enterpictureinpicture",(function(e){e.pictureInPictureWindow&&(r.i=e.pictureInPictureWindow,r.j.D(r.i,"resize",n))})),this.j.D(t,"leavepictureinpicture",(function(){r.i&&r.j.Ja(r.i,"resize",n),r.i=null}))},n.setCmsdManager=function(e){this.C=e},n.configure=function(e){this.g=e,this.m&&this.g&&this.m.configure(this.g.advanced)},F("shaka.abr.SimpleAbrManager",Vi),Vi.prototype.configure=Vi.prototype.configure,Vi.prototype.setCmsdManager=Vi.prototype.setCmsdManager,Vi.prototype.setMediaElement=Vi.prototype.setMediaElement,Vi.prototype.playbackRateChanged=Vi.prototype.playbackRateChanged,Vi.prototype.setVariants=Vi.prototype.setVariants,Vi.prototype.getBandwidthEstimate=Vi.prototype.getBandwidthEstimate,Vi.prototype.trySuggestStreams=Vi.prototype.trySuggestStreams,Vi.prototype.segmentDownloaded=Vi.prototype.segmentDownloaded,Vi.prototype.disable=Vi.prototype.disable,Vi.prototype.enable=Vi.prototype.enable,Vi.prototype.chooseVariant=Vi.prototype.chooseVariant,Vi.prototype.init=Vi.prototype.init,Vi.prototype.release=Vi.prototype.release,Vi.prototype.stop=Vi.prototype.stop;var zi=1;function Wi(e,t){var n={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4};this.l=null==e.maxAttempts?n.maxAttempts:e.maxAttempts,this.j=null==e.baseDelay?n.baseDelay:e.baseDelay,this.o=null==e.fuzzFactor?n.fuzzFactor:e.fuzzFactor,this.m=null==e.backoffFactor?n.backoffFactor:e.backoffFactor,this.g=0,this.h=this.j,(this.i=void 0!==t&&t)&&(this.g=1)}function Yi(e){var t,n;return I((function(r){if(1==r.g){if(e.g>=e.l){if(!e.i)throw new Re(2,7,1010);e.g=1,e.h=e.j}return t=e.g,e.g++,0==t?r.return():(n=e.h*(1+(2*Math.random()-1)*e.o),b(r,new Promise((function(e){new je(e).da(n/1e3)})),2))}e.h*=e.m,k(r)}))}function Zi(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function qi(e,t){this.promise=e,this.i=t,this.g=null}function Xi(e){return new qi(Promise.reject(e),(function(){return Promise.resolve()}))}function Qi(){var e=Promise.reject(new Re(2,7,7001));return e.catch((function(){})),new qi(e,(function(){return Promise.resolve()}))}function Ji(e){return new qi(Promise.resolve(e),(function(){return Promise.resolve()}))}function $i(e){return new qi(e,(function(){return e.catch((function(){}))}))}function ea(e){return new qi(Promise.all(e.map((function(e){return e.promise}))),(function(){return Promise.all(e.map((function(e){return e.abort()})))}))}function ta(t,n){if(n)if(n instanceof Map)for(var r=l(n.keys()),i=r.next();!i.done;i=r.next())i=i.value,Object.defineProperty(this,i,{value:n.get(i),writable:!0,enumerable:!0});else for(r in n)Object.defineProperty(this,r,{value:n[r],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function na(e){var t,n=new ta(e.type);for(t in e)Object.defineProperty(n,t,{value:e[t],writable:!0,enumerable:!0});return n}F("shaka.config.CrossBoundaryStrategy",{KEEP:"keep",RESET:"reset",RESET_TO_ENCRYPTED:"reset_to_encrypted",RESET_ON_ENCRYPTION_CHANGE:"RESET_ON_ENCRYPTION_CHANGE"}),Zi.prototype.resolve=function(){},Zi.prototype.reject=function(){},qi.prototype.abort=function(){return this.g||(this.g=this.i()),this.g},qi.prototype.finally=function(e){return this.promise.then((function(){return e(!0)}),(function(){return e(!1)})),this},qi.prototype.Ha=function(e,t){function n(n){return function(s){if(i.g&&n)a.reject(o);else{var l=n?e:t;l?r=function(e,t,n){try{var r=e(t);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then((function(){}),(function(){}))})}catch(e){return n.reject(e),function(){return Promise.resolve()}}}(l,s,a):(n?a.resolve:a.reject)(s)}}}function r(){return a.reject(o),i.abort()}var i=this,a=new Zi;a.catch((function(){}));var o=new Re(2,7,7001);return this.promise.then(n(!0),n(!1)),new qi(a,(function(){return r()}))},a.Object.defineProperties(qi.prototype,{aborted:{configurable:!0,enumerable:!0,get:function(){return null!==this.g}}}),F("shaka.util.AbortableOperation",qi),qi.prototype.chain=qi.prototype.Ha,qi.prototype.finally=qi.prototype.finally,qi.all=ea,qi.prototype.abort=qi.prototype.abort,qi.notAbortable=$i,qi.completed=Ji,qi.aborted=Qi,qi.failed=Xi,ta.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},ta.prototype.stopImmediatePropagation=function(){this.g=!0},ta.prototype.stopPropagation=function(){},F("shaka.util.FakeEvent",ta);var ra={Oj:"abrstatuschanged",Pj:"adaptation",Qj:"audiotrackchanged",Rj:"audiotrackschanged",Sj:"boundarycrossed",Tj:"buffering",Uj:"complete",Vj:"downloadcompleted",Wj:"downloadfailed",Xj:"downloadheadersreceived",Yj:"drmsessionupdate",$j:"emsg",uk:"prft",Error:"error",ak:"expirationupdated",bk:"firstquartile",ck:"gapjumped",fk:"keystatuschanged",jk:"loaded",kk:"loading",mk:"manifestparsed",nk:"manifestupdated",pk:"mediaqualitychanged",qk:"mediasourcerecovered",Metadata:"metadata",rk:"midpoint",sk:"nospatialvideoinfo",tk:"onstatechange",vk:"ratechange",xk:"segmentappended",yk:"sessiondata",zk:"spatialvideoinfo",Ak:"stalldetected",Bk:"started",Ck:"statechanged",Dk:"streaming",Ek:"textchanged",Fk:"texttrackvisibility",Gk:"thirdquartile",Hk:"timelineregionadded",Ik:"timelineregionenter",Jk:"timelineregionexit",Kk:"trackschanged",Mk:"unloading",Ok:"variantchanged"};function ia(){this.Ea=new Q,this.Ge=this}function aa(){this.g=[]}function oa(e,t){e.g.push(t.finally((function(){sn(e.g,t)})))}function sa(e,t,n,r,i,a,o){ia.call(this),this.i=!1,this.u=new aa,this.g=new Set,this.h=new Set,this.m=e||null,this.l=t||null,this.C=n||null,this.F=r||null,this.G=i||null,this.I=a||null,this.H=o||null,this.A=this.B=!1,this.o=16e3,this.j=new Map}function la(e,t,n,r){r=void 0!==r&&r,n=n||ga;var i=va.get(e);(!i||n>=i.priority)&&va.set(e,{priority:n,se:t,ij:r})}function ua(e,t){for(var n=l(e.g),r=n.next();!r.done;r=n.next())t.g.add(r.value);for(n=(e=l(e.h)).next();!n.done;n=e.next())t.h.add(n.value)}function ca(e,t,n){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null,drmInfo:null,initData:null,initDataType:null,streamDataCallback:void 0===n?null:n}}function da(e,t,n,r,i,a,o,s){e.B&&(n.uris[a]=n.uris[a].replace("https://","http://")),e.A&&(n.uris[a]=n.uris[a].replace("http://","https://")),0<a&&e.I&&e.I(t,r,n.uris[a],n.uris[a-1]);var l=new se(n.uris[a]),u=l.Kb,c=!1;u||(le(l,u=(u=location.protocol).slice(0,-1)),n.uris[a]=l.toString()),u=u.toLowerCase();var d=(u=va.get(u))?u.se:null;if(!d)return Xi(new Re(2,1,1e3,l));var p=u.ij;(l=e.j.get(l.nb))&&(n.headers["common-access-token"]=l);var f,h=null,y=null,g=!1,v=!1;return $i(Yi(i)).Ha((function(){if(e.i)return Qi();f=Date.now();var i=0;n.requestStartTime=Date.now();var o=d(n.uris[a],n,t,(function(a,o,l){h&&h.stop(),y&&y.da(u/1e3),e.m&&t==ya&&(i++,n.packetNumber=i,e.m(a,o,pa(r),n),c=!0,s.g=l)}),(function(r){v=!0,n.timeToFirstByte=Date.now()-n.requestStartTime,e.l&&e.l(r,n,t)}),{minBytesForProgressEvents:e.o});if(!p)return o;var l=n.retryParameters.connectionTimeout;l&&(h=new je((function(){g=!0,o.abort()}))).da(l/1e3);var u=n.retryParameters.stallTimeout;return u&&(y=new je((function(){g=!0,o.abort()}))),o})).Ha((function(r){h&&h.stop(),y&&y.stop(),null==r.timeMs&&(r.timeMs=Date.now()-f);var i=r.headers["common-access-token"];if(i){var a=new se(r.uri);e.j.set(a.nb,i)}return i={response:r,Oi:c},!v&&e.l&&e.l(r.headers,n,t),e.C&&e.C(n,r),i}),(function(l){if(h&&h.stop(),y&&y.stop(),e.F){var u=null,c=0;l instanceof Re&&(u=l,1001==l.code&&(c=l.data[1])),e.F(n,u,c,g)}if(e.i)return Qi();if(g&&(l=new Re(1,1,1003,n.uris[a],t)),l instanceof Re){if(7001==l.code)throw l;if(1010==l.code)throw o;if(1==l.severity){if((u=new ta("retry",u=(new Map).set("error",l))).cancelable=!0,e.dispatchEvent(u),u.defaultPrevented)throw l;return a=(a+1)%n.uris.length,da(e,t,n,r,i,a,l,s)}}throw l}))}function pa(e){if(e){var t=e.segment;if(e=e.stream,t&&e&&e.fastSwitching&&t.o)return!1}return!0}function fa(){this.g=0}function ha(e,t,n){qi.call(this,e,t),this.h=n}ia.prototype.addEventListener=function(e,t){this.Ea&&this.Ea.push(e,t)},ia.prototype.removeEventListener=function(e,t){this.Ea&&this.Ea.remove(e,t)},ia.prototype.dispatchEvent=function(e){if(!this.Ea)return!0;var t=this.Ea.get(e.type)||[],n=this.Ea.get("All");for(n&&(t=t.concat(n)),n=(t=l(t)).next();!n.done;n=t.next()){n=n.value,e.target=this.Ge,e.currentTarget=this.Ge;try{n.handleEvent?n.handleEvent(e):n.call(this,e)}catch(e){}if(e.g)break}return e.defaultPrevented},ia.prototype.release=function(){this.Ea=null},aa.prototype.destroy=function(){for(var e=[],t=l(this.g),n=t.next();!n.done;n=t.next())(n=n.value).promise.catch((function(){})),e.push(n.abort());return this.g=[],Promise.all(e)},y(sa,ia),(n=sa.prototype).kg=function(e){this.B=e},n.lg=function(e){this.A=e},n.lj=function(e){this.g.add(e)},n.Hj=function(e){this.g.delete(e)},n.$h=function(){this.g.clear()},n.mj=function(e){this.h.add(e)},n.Ij=function(e){this.h.delete(e)},n.ai=function(){this.h.clear()},n.Hg=function(){this.j.clear()},n.destroy=function(){return this.i=!0,this.g.clear(),this.h.clear(),this.j.clear(),ia.prototype.release.call(this),this.u.destroy()},n.request=function(e,t,n){var r=this,i=new fa;if(this.i){var a=Promise.reject(new Re(2,7,7001));return a.catch((function(){})),new ha(a,(function(){return Promise.resolve()}),i)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?vn(t.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},t.uris=vn(t.uris),a=function(e,t,n,r){function i(e){a=a.Ha((function(){return n.body&&(n.body=Se(n.body)),e(t,n,r)}))}var a=Ji(void 0);e.G&&i(e.G);for(var o=(e=l(e.g)).next();!o.done;o=e.next())i(o.value);return a.Ha(void 0,(function(e){if(e instanceof Re&&7001==e.code)throw e;throw new Re(2,1,1006,e)}))}(this,e,t,n);var o=a.Ha((function(){return da(r,e,t,n,new Wi(t.retryParameters,!1),0,null,i)})),s=o.Ha((function(t){return function(e,t,n,r){for(var i=Ji(void 0),a=(e=l(e.h)).next(),o={};!a.done;o={ph:void 0},a=e.next())o.ph=a.value,i=i.Ha(function(e){return function(){var i=n.response;return i.data&&(i.data=Se(i.data)),(0,e.ph)(t,i,r)}}(o));return i.Ha((function(){return n}),(function(e){var t=2;if(e instanceof Re){if(7001==e.code)throw e;t=e.severity}throw new Re(t,1,1007,e)}))}(r,e,t,n)})),u=Date.now(),c=0;a.promise.then((function(){c=Date.now()-u}),(function(){}));var d=0;o.promise.then((function(){d=Date.now()}),(function(){}));var p=s.Ha((function(i){var a=Date.now()-d,o=i.response;return o.timeMs+=c,o.timeMs+=a,i.Oi||!r.m||o.fromCache||"HEAD"==t.method||e!=ya||r.m(o.timeMs,o.data.byteLength,pa(n)),r.H&&r.H(e,o,n),o}),(function(e){throw e&&(e.severity=2),e}));return a=new ha(p.promise,(function(){return p.abort()}),i),oa(this.u,a),a},F("shaka.net.NetworkingEngine",sa),sa.prototype.request=sa.prototype.request,sa.prototype.destroy=sa.prototype.destroy,sa.makeRequest=ca,sa.defaultRetryParameters=function(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}},sa.prototype.clearCommonAccessTokenMap=sa.prototype.Hg,sa.prototype.clearAllResponseFilters=sa.prototype.ai,sa.prototype.unregisterResponseFilter=sa.prototype.Ij,sa.prototype.registerResponseFilter=sa.prototype.mj,sa.prototype.clearAllRequestFilters=sa.prototype.$h,sa.prototype.unregisterRequestFilter=sa.prototype.Hj,sa.prototype.registerRequestFilter=sa.prototype.lj,sa.unregisterScheme=function(e){va.delete(e)},sa.registerScheme=la,sa.prototype.setForceHTTPS=sa.prototype.lg,sa.prototype.setForceHTTP=sa.prototype.kg,sa.NumBytesRemainingClass=fa,y(ha,qi),sa.PendingRequest=ha;var ya=1;sa.RequestType={MANIFEST:0,SEGMENT:ya,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5,KEY:6,ADS:7,CONTENT_STEERING:8},sa.AdvancedRequestType={INIT_SEGMENT:0,MEDIA_SEGMENT:1,MEDIA_PLAYLIST:2,MASTER_PLAYLIST:3,MPD:4,MSS:5,MPD_PATCH:6,MEDIATAILOR_SESSION_INFO:7,MEDIATAILOR_TRACKING_INFO:8,MEDIATAILOR_STATIC_RESOURCE:9,MEDIATAILOR_TRACKING_EVENT:10,INTERSTITIAL_ASSET_LIST:11,INTERSTITIAL_AD_URL:12};var ga=3;sa.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:ga};var va=new Map;function ma(e){this.g=!1,this.h=new Zi,this.i=e}function ba(e,t){if(e.g){if(t instanceof Re&&7003==t.code)throw t;throw new Re(2,7,7003,t)}}function ka(e,t){for(var n=[],r=(e=l(e)).next();!r.done;r=e.next())n.push(t(r.value));return n}function Ea(e){for(var t=new Map,n=l(Object.keys(e)),r=n.next();!r.done;r=n.next())r=r.value,t.set(r,e[r]);return t}function Ta(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}function _a(e,t){this.h=xe(e),this.i=t==Sa,this.g=0}function Aa(){return new Re(2,3,3e3)}ma.prototype.destroy=function(){var e=this;return this.g?this.h:(this.g=!0,this.i().then((function(){e.h.resolve()}),(function(){e.h.resolve()})))},(n=_a.prototype).ta=function(){return this.g<this.h.byteLength},n.Ba=function(){return this.g},n.getLength=function(){return this.h.byteLength},n.X=function(){try{var e=this.h.getUint8(this.g);return this.g+=1,e}catch(e){throw Aa()}},n.na=function(){try{var e=this.h.getUint16(this.g,this.i);return this.g+=2,e}catch(e){throw Aa()}},n.S=function(){try{var e=this.h.getUint32(this.g,this.i);return this.g+=4,e}catch(e){throw Aa()}},n.$f=function(){try{var e=this.h.getInt32(this.g,this.i);return this.g+=4,e}catch(e){throw Aa()}},n.bd=function(){try{if(this.i)var e=this.h.getUint32(this.g,!0),t=this.h.getUint32(this.g+4,!0);else t=this.h.getUint32(this.g,!1),e=this.h.getUint32(this.g+4,!1)}catch(e){throw Aa()}if(2097151<t)throw new Re(2,3,3001);return this.g+=8,t*Math.pow(2,32)+e},n.Cb=function(e){if(this.g+e>this.h.byteLength)throw Aa();var t=we(this.h,this.g,e);return this.g+=e,t},n.skip=function(e){if(this.g+e>this.h.byteLength)throw Aa();this.g+=e},n.qh=function(e){if(this.g<e)throw Aa();this.g-=e},n.seek=function(e){if(0>e||e>this.h.byteLength)throw Aa();this.g=e},n.Cc=function(){for(var e=this.g;this.ta()&&0!=this.h.getUint8(this.g);)this.g+=1;return e=we(this.h,e,this.g-e),this.g+=1,yt(e)},F("shaka.util.DataViewReader",_a),_a.prototype.readTerminatedString=_a.prototype.Cc,_a.prototype.seek=_a.prototype.seek,_a.prototype.rewind=_a.prototype.qh,_a.prototype.skip=_a.prototype.skip,_a.prototype.readBytes=_a.prototype.Cb,_a.prototype.readUint64=_a.prototype.bd,_a.prototype.readInt32=_a.prototype.$f,_a.prototype.readUint32=_a.prototype.S,_a.prototype.readUint16=_a.prototype.na,_a.prototype.readUint8=_a.prototype.X,_a.prototype.getLength=_a.prototype.getLength,_a.prototype.getPosition=_a.prototype.Ba,_a.prototype.hasMoreData=_a.prototype.ta;var Sa=1;function wa(){this.i=new Map,this.h=new Map,this.g=!1}function Ca(e){for(var t=La(e);e.reader.ta()&&!e.parser.g;)e.parser.Yc(e.start+t,e.reader,e.partialOkay)}function xa(e){for(var t=La(e),n=e.reader.S(),r=0;r<n&&(e.parser.Yc(e.start+t,e.reader,e.partialOkay),!e.parser.g);r++);}function Pa(e){var t=La(e);for(e.reader.skip(78);e.reader.ta()&&!e.parser.g;)e.parser.Yc(e.start+t,e.reader,e.partialOkay)}function Ra(e){var t=La(e);e.reader.skip(8);var n=e.reader.na();for(e.reader.skip(6),2==n?e.reader.skip(48):e.reader.skip(12),1==n&&e.reader.skip(16);e.reader.ta()&&!e.parser.g;)e.parser.Yc(e.start+t,e.reader,e.partialOkay)}function Ia(e){return function(t){e(t.reader.Cb(t.reader.getLength()-t.reader.Ba()))}}function Da(e){for(var t=0,n=(e=l(e)).next();!n.done;n=e.next())t=t<<8|n.value.charCodeAt(0);return t}function Oa(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function La(e){return 8+(e.has64BitSize?8:0)+(null!=e.flags?4:0)}_a.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:Sa},(n=wa.prototype).box=function(e,t){return e=Da(e),this.i.set(e,Ma),this.h.set(e,t),this},n.R=function(e,t){return e=Da(e),this.i.set(e,Na),this.h.set(e,t),this},n.stop=function(){this.g=!0},n.parse=function(e,t,n){for(e=new _a(e,0),this.g=!1;e.ta()&&!this.g;)this.Yc(0,e,t,n)},n.Yc=function(e,t,n,r){var i=t.Ba();if(r&&i+8>t.getLength())this.g=!0;else{var a=t.S(),o=t.S(),s=Oa(o),l=!1;switch(a){case 0:a=t.getLength()-i;break;case 1:if(r&&t.Ba()+8>t.getLength())return void(this.g=!0);a=t.bd(),l=!0}var u=this.h.get(o);if(u){var c=null,d=null;if(this.i.get(o)==Na){if(r&&t.Ba()+4>t.getLength())return void(this.g=!0);c=(d=t.S())>>>24,d&=16777215}o=i+a,n&&o>t.getLength()&&(o=t.getLength()),r&&o>t.getLength()?this.g=!0:(r=o-t.Ba(),u({name:s,parser:this,partialOkay:n||!1,version:c,flags:d,reader:t=new _a(t=0<r?t.Cb(r):new Uint8Array(0),0),size:a,start:i+e,has64BitSize:l}))}else t.skip(Math.min(i+a-t.Ba(),t.getLength()-t.Ba()))}},F("shaka.util.Mp4Parser",wa),wa.headerSize=La,wa.typeToString=Oa,wa.allData=Ia,wa.audioSampleEntry=Ra,wa.visualSampleEntry=Pa,wa.sampleDescription=xa,wa.children=Ca,wa.prototype.parseNext=wa.prototype.Yc,wa.prototype.parse=wa.prototype.parse,wa.prototype.stop=wa.prototype.stop,wa.prototype.fullBox=wa.prototype.R,wa.prototype.box=wa.prototype.box;var Ma=0,Na=1;function Ua(e){var t=this;this.g=[],this.h=[],this.data=[],(new wa).box("moov",Ca).box("moof",Ca).R("pssh",(function(e){if(!(1<e.version)){var n=we(e.reader.h,-12,e.size);if(t.data.push(n),t.g.push(xt(e.reader.Cb(16))),0<e.version){n=e.reader.S();for(var r=0;r<n;r++){var i=xt(e.reader.Cb(16));t.h.push(i)}}}})).parse(e)}function Ba(e,t,n,r){var i=e.length,a=t.length+16+i;0<r&&(a+=4+16*n.size);var o=new Uint8Array(a),s=xe(o),u=0;if(s.setUint32(u,a),u+=4,s.setUint32(u,1886614376),u+=4,1>r?s.setUint32(u,0):s.setUint32(u,16777216),u+=4,o.set(t,u),u+=t.length,0<r)for(s.setUint32(u,n.size),u+=4,n=(t=l(n)).next();!n.done;n=t.next())n=Ct(n.value),o.set(n,u),u+=n.length;return s.setUint32(u,i),o.set(e,u+4),o}function Fa(e){var t=this;this.C=e,this.j=this.A=null,this.ka=this.ea=!1,this.H=0,this.h=null,this.o=new J,this.i=new Map,this.T=[],this.B=new Map,this.K=!1,this.m=new Zi,this.g=null,this.u=function(n){2==n.severity&&t.m.reject(n),e.onError(n)},this.Z=new Map,this.fa=new Map,this.L=new je((function(){return function(e){var t=e.Z,n=e.fa;n.clear(),t.forEach((function(e,t){return n.set(t,e)})),t=Array.from(n.values()),t.length&&t.every((function(e){return"expired"==e}))&&e.u(new Re(2,6,6014)),e.C.pe(Ta(n))}(t)})),this.O=!1,this.M=[],this.W=!1,this.I=new je((function(){!function(e){e.i.forEach((function(t,n){var r=t.Vf,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(e.C.onExpirationUpdated(n.sessionId,i),t.Vf=i)}))}(t)})),this.m.catch((function(){})),this.l=new ma((function(){return function(e){return I((function(t){switch(t.g){case 1:return e.o.release(),e.o=null,e.m.reject(),e.I.stop(),e.I=null,e.L.stop(),e.L=null,b(t,$a(e),2);case 2:if(!e.j){t.s(3);break}return E(t,4),b(t,e.j.setMediaKeys(null),6);case 6:_(t,5);break;case 4:A(t);case 5:e.j=null;case 3:e.h=null,e.A=null,e.B=new Map,e.g=null,e.u=function(){},e.C=null,e.$=!1,e.G=null,k(t)}}))}(t)})),this.$=!1,this.F=this.G=null,this.P=function(){return!1}}function ja(e,t,n,r){r=void 0===r||r,e.B=new Map;for(var i=(n=l(n)).next();!i.done;i=n.next())e.B.set(i.value,{initData:null,initDataType:null});for(i=(n=l(e.g.persistentSessionsMetadata)).next();!i.done;i=n.next())i=i.value,e.B.set(i.sessionId,{initData:i.initData,initDataType:i.initDataType});return e.O=0<e.B.size,Ha(e,t,r)}function Ha(e,t,n){var r,i,a,o,s,u,c,d,p,f,h,y,g,v,m,k,E,T;return I((function(_){if(1==_.g){for(io(e.g.clearKeys,t),!(r=t.some((function(e){return!!(e.video&&e.video.drmInfos.length||e.audio&&e.audio.drmInfos.length)})))&&n&&(i=Ea(e.g.servers),function(e,t){var n=[];for(t.forEach((function(e,t){n.push({keySystem:t,licenseServerUri:e,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})})),e=l(e),t=e.next();!t.done;t=e.next())(t=t.value).video&&(t.video.drmInfos=n),t.audio&&(t.audio.drmInfos=n)}(t,i)),a=new Set,o=l(t),s=o.next();!s.done;s=o.next())for(u=s.value,c=eo(u),d=l(c),p=d.next();!p.done;p=d.next())f=p.value,a.add(f);for(h=l(a),y=h.next();!y.done;y=h.next())ro(y.value,Ea(e.g.servers),Ea(e.g.advanced||{}),e.g.keySystemsMapping);for(g=function(t,n){for(var r=[],i=(t=l(t)).next();!i.done;i=t.next()){var a,o=(i=i.value)[n]||e.g.advanced&&e.g.advanced[i.keySystem]&&e.g.advanced[i.keySystem][n]||"";if((a=""==o)&&(a=!!(a=i.keySystem)&&!!a.match(/^com\.widevine\.alpha/)),a&&("audioRobustness"==n?o=[e.g.defaultAudioRobustnessForWidevine]:"videoRobustness"==n&&(o=[e.g.defaultVideoRobustnessForWidevine])),"string"==typeof o)r.push(i);else if(Array.isArray(o))for(0===o.length&&(o=[""]),a=(o=l(o)).next();!a.done;a=o.next()){var s={};r.push(Object.assign({},i,(s[n]=a.value,s)))}}return r},v=new Set,m=l(t),k=m.next();!k.done;k=m.next())(E=k.value).video&&!v.has(E.video)&&(E.video.drmInfos=g(E.video.drmInfos,"videoRobustness"),E.video.drmInfos=g(E.video.drmInfos,"audioRobustness"),v.add(E.video)),E.audio&&!v.has(E.audio)&&(E.audio.drmInfos=g(E.audio.drmInfos,"videoRobustness"),E.audio.drmInfos=g(E.audio.drmInfos,"audioRobustness"),v.add(E.audio));return v.clear(),b(_,ki(t,e.O,e.$,e.g.preferredKeySystems),2)}return ba(e.l),r||Object.keys(e.g.servers).length?(T=Wa(e,void 0,t),_.return(r?T:T.catch((function(){})))):(e.ea=!0,_.return(Promise.resolve()))}))}function Va(e){var t;return I((function(n){switch(n.g){case 1:if(e.j.mediaKeys)return n.return();if(!e.G){n.s(2);break}return b(n,e.G,3);case 3:return ba(e.l),n.return();case 2:return E(n,4),e.G=e.j.setMediaKeys(e.A),b(n,e.G,6);case 6:_(n,5);break;case 4:t=A(n),e.u(new Re(2,6,6003,t.message));case 5:ba(e.l),k(n)}}))}function Ga(e){var t,n,r,i;return I((function(a){if(1==a.g)return e.B.size?(e.B.forEach((function(t,n){qa(e,n,t)})),b(a,e.m,3)):a.s(2);if(2!=a.g){if(0<(e.h&&e.h.keyIds||new Set([])).size&&function(e){for(var t=l(e.h&&e.h.keyIds||new Set([])),n=t.next();!n.done;n=t.next())if("usable"!==e.Z.get(n.value))return!1;return!0}(e))return a.return(e.m);e.K=!1,e.m=new Zi,e.m.catch((function(){}))}for(t=(e.h?e.h.initData:[])||[],n=l(t),r=n.next();!r.done;r=n.next())i=r.value,Ka(e,i.initDataType,i.initData);return to(e)&&e.m.resolve(),a.return(e.m)}))}function Ka(e,t,n){if(n.length){if(e.g.ignoreDuplicateInitData){for(var r=e.i.values(),i=(r=l(r)).next();!i.done;i=r.next())if(Ae(n,i.value.initData))return;var a=!1;if(e.B.forEach((function(e){!a&&Ae(n,e.initData)&&(a=!0)})),a)return}e.K=!0,0<e.i.size&&to(e)&&(e.m.resolve(),e.K=!1,e.m=new Zi,e.m.catch((function(){}))),function(e,t,n,r){try{var i=e.A.createSession(r)}catch(t){return void e.u(new Re(2,6,6005,t.message))}e.o.D(i,"message",(function(t){e.j&&e.g.delayLicenseRequestUntilPlayed&&e.j.paused&&!e.W?e.M.push(t):Xa(e,t)})),e.o.D(i,"keystatuseschange",(function(t){return Qa(e,t)})),e.i.set(i,{initData:n,initDataType:t,loaded:!1,Vf:1/0,ub:null,type:r});try{n=e.g.initDataTransform(n,t,e.h)}catch(n){return t=n,n instanceof Re||(t=new Re(2,6,6016,n)),void e.u(t)}e.g.logLicenseExchange&&St(n),i.generateRequest(t,n).catch((function(t){if(!e.l.g){e.i.delete(i);var n=t.errorCode;if(n&&n.systemCode){var r=n.systemCode;0>r&&(r+=Math.pow(2,32)),r="0x"+r.toString(16)}e.u(new Re(2,6,6006,t.message,t,r))}}))}(e,t,n,e.h.sessionType)}}function za(e){return e=ka(e=e.i.keys(),(function(e){return e.sessionId})),Array.from(e)}function Wa(e,t,n){var r,i,a,o,s,u,c;return I((function(d){switch(d.g){case 1:if(r=new Map,n.length){i=function(e,t,n){for(var r=l(t),i=r.next();!i.done;i=r.next())for(var a=(i=l(eo(i.value))).next();!a.done;a=i.next())a=a.value,n.has(a.keySystem)||n.set(a.keySystem,[]),n.get(a.keySystem).push(a);if(1==n.size&&n.has(""))throw new Re(2,6,6e3);r=e.g.preferredKeySystems,r.length||(i=Ea(e.g.servers),1==i.size&&(r=Array.from(i.keys()))),i=l(r);var o=i.next();for(a={};!o.done;a={nh:void 0},o=i.next()){a.nh=o.value;for(var s=(o=l(t)).next();!s.done;s=o.next())if(s=s.value.decodingInfos.find(function(e){return function(t){return t.supported&&null!=t.keySystemAccess&&t.keySystemAccess.keySystem==e.nh}}(a)))return s.keySystemAccess}for(i=l([!0,!1]),a=i.next();!a.done;a=i.next())for(a=a.value,o=l(t),s=o.next();!s.done;s=o.next())for(var u=(s=l(s.value.decodingInfos)).next();!u.done;u=s.next())if((u=u.value).supported&&u.keySystemAccess){var c=u.keySystemAccess.keySystem;if(!r.includes(c)){var d=n.get(c);for(!d&&e.g.keySystemsMapping[c]&&(d=n.get(e.g.keySystemsMapping[c])),d=(c=l(d)).next();!d.done;d=c.next())if(!!d.value.licenseServerUri==a)return u.keySystemAccess}}return null}(e,n,r),d.s(2);break}return b(d,function(e,t){var n,r,i,a,o,s,u,c,d,p,f,h,y,g,v,m;return I((function(k){switch(k.g){case 1:if(1==t.size&&t.has(""))throw new Re(2,6,6e3);for(r=l(t.values()),i=r.next();!i.done;i=r.next())0==(a=i.value).audioCapabilities.length&&delete a.audioCapabilities,0==a.videoCapabilities.length&&delete a.videoCapabilities;o=l(e.g.preferredKeySystems),s=o.next();case 2:if(s.done){k.s(4);break}if(u=s.value,!t.has(u)){k.s(3);break}return c=t.get(u),E(k,6),b(k,navigator.requestMediaKeySystemAccess(u,[c]),8);case 8:return n=k.h,k.return(n);case 6:A(k);case 7:ba(e.l);case 3:s=o.next(),k.s(2);break;case 4:d=l([!0,!1]),p=d.next();case 9:if(p.done){k.s(11);break}f=p.value,h=l(t.keys()),y=h.next();case 12:if(y.done){p=d.next(),k.s(9);break}if(g=y.value,v=t.get(g),m=v.drmInfos.some((function(e){return!!e.licenseServerUri})),m!=f){k.s(13);break}return E(k,15),b(k,navigator.requestMediaKeySystemAccess(g,[v]),17);case 17:return n=k.h,k.return(n);case 15:A(k);case 16:ba(e.l);case 13:y=h.next(),k.s(12);break;case 11:return k.return(n)}}))}(e,t),3);case 3:i=d.h;case 2:if(!(a=i)){if(!navigator.requestMediaKeySystemAccess)throw new Re(2,6,6020);throw new Re(2,6,6001)}if(ba(e.l),E(d,4),a.getConfiguration(),o=e.g.keySystemsMapping[a.keySystem]||a.keySystem,n.length){var p=o,f=r.get(o),h=[],y=[],g=[],v=[],m=[],k=new Set,T=new Set;no(f,h,y,v,g,m,k,T);var S=e.O?"persistent-license":"temporary";for(p={keySystem:p,encryptionScheme:h[0],licenseServerUri:y[0],distinctiveIdentifierRequired:f[0].distinctiveIdentifierRequired,persistentStateRequired:f[0].persistentStateRequired,sessionType:f[0].sessionType||S,audioRobustness:f[0].audioRobustness||"",videoRobustness:f[0].videoRobustness||"",serverCertificate:v[0],serverCertificateUri:g[0],initData:m,keyIds:k},0<T.size&&(p.keySystemUris=T),T=(f=l(f)).next();!T.done;T=f.next())(T=T.value).distinctiveIdentifierRequired&&(p.distinctiveIdentifierRequired=T.distinctiveIdentifierRequired),T.persistentStateRequired&&(p.persistentStateRequired=T.persistentStateRequired);f=p}else f=o,T=t.get(o),p=[],h=[],y=[],g=[],v=[],m=new Set,no(T.drmInfos,p,h,g,y,v,m),f={keySystem:f,encryptionScheme:p[0],licenseServerUri:h[0],distinctiveIdentifierRequired:"required"==T.distinctiveIdentifier,persistentStateRequired:"required"==T.persistentState,sessionType:T.sessionTypes[0]||"temporary",audioRobustness:(T.audioCapabilities?T.audioCapabilities[0].robustness:"")||"",videoRobustness:(T.videoCapabilities?T.videoCapabilities[0].robustness:"")||"",serverCertificate:g[0],serverCertificateUri:y[0],initData:v,keyIds:m};if(e.h=f,!e.h.licenseServerUri)throw new Re(2,6,6012,e.h.keySystem);return b(d,a.createMediaKeys(),6);case 6:if(s=d.h,ba(e.l),e.A=s,""==e.g.minHdcpVersion||!("getStatusForPolicy"in e.A)){d.s(7);break}return E(d,8),b(d,e.A.getStatusForPolicy({minHdcpVersion:e.g.minHdcpVersion}),10);case 10:if("usable"!=d.h)throw new Re(2,6,6018);ba(e.l),_(d,7,4);break;case 8:if((u=A(d,4))instanceof Re)throw u;throw new Re(2,6,6019,u.message);case 7:return e.ea=!0,b(d,function(e){var t,n;return I((function(r){switch(r.g){case 1:if(!e.A||!e.h)return r.return();if(!e.h.serverCertificateUri||e.h.serverCertificate&&e.h.serverCertificate.length){r.s(2);break}return t=ca([e.h.serverCertificateUri],e.g.retryParameters),E(r,3),b(r,e.C.Xb.request(5,t,{isPreload:e.P()}).promise,5);case 5:n=r.h,e.h.serverCertificate=we(n.data),_(r,4);break;case 3:throw new Re(2,6,6017,A(r));case 4:if(e.l.g)return r.return();case 2:return e.h.serverCertificate&&e.h.serverCertificate.length?(E(r,6),b(r,e.A.setServerCertificate(e.h.serverCertificate),8)):r.return();case 8:_(r,0);break;case 6:throw new Re(2,6,6004,A(r).message)}}))}(e),11);case 11:ba(e.l),_(d,0);break;case 4:if(c=A(d),ba(e.l,c),e.h=null,c instanceof Re)throw c;throw new Re(2,6,6002,c.message)}}))}function Ya(e){to(e)&&e.m.resolve()}function Za(e,t){new je((function(){t.loaded=!0,Ya(e)})).da(oo)}function qa(e,t,n){var r,i,a,o,s,l,u;return I((function(c){switch(c.g){case 1:try{r=e.A.createSession("persistent-license")}catch(t){return i=new Re(2,6,6005,t.message),e.u(i),c.return(Promise.reject(i))}return e.o.D(r,"message",(function(t){e.j&&e.g.delayLicenseRequestUntilPlayed&&e.j.paused&&!e.W?e.M.push(t):Xa(e,t)})),e.o.D(r,"keystatuseschange",(function(t){return Qa(e,t)})),a={initData:n.initData,initDataType:n.initDataType,loaded:!1,Vf:1/0,ub:null,type:"persistent-license"},e.i.set(r,a),E(c,2),b(c,r.load(t),4);case 4:return o=c.h,ba(e.l),o||(e.i.delete(r),s=e.g.persistentSessionOnlinePlayback?1:2,e.u(new Re(s,6,6013)),a.loaded=!0),Za(e,a),Ya(e),c.return(r);case 2:l=A(c),ba(e.l,l),e.i.delete(r),u=e.g.persistentSessionOnlinePlayback?1:2,e.u(new Re(u,6,6005,l.message)),a.loaded=!0,Ya(e);case 3:return c.return(Promise.resolve())}}))}function Xa(e,t){var n,r,i,a,o,s,u,c,d,p,f,h,y,g;I((function(v){switch(v.g){case 1:if(n=t.target,e.g.logLicenseExchange&&St(t.message),r=e.i.get(n),i=e.h.licenseServerUri,a=e.g.advanced[e.h.keySystem],"individualization-request"==t.messageType&&a&&a.individualizationServer&&(i=a.individualizationServer),(o=ca([i],e.g.retryParameters)).body=t.message,o.method="POST",o.licenseRequestType=t.messageType,o.sessionId=n.sessionId,o.drmInfo=e.h,r&&(o.initData=r.initData,o.initDataType=r.initDataType),a&&a.headers)for(s in a.headers)o.headers[s]=a.headers[s];if("org.w3.clearkey"===e.h.keySystem){var m=o,T=e.h;try{var S=vt(m.body);if(S){var w=JSON.parse(S);w.type||(w.type=T.sessionType,m.body=mt(JSON.stringify(w)))}}catch(e){}}if(Me(e.h.keySystem))if((m=gt(o.body,!0,!0)).includes("PlayReadyKeyMessage")){for(S=(T=l(T=xn(m=En(m,"PlayReadyKeyMessage"),"HttpHeader"))).next();!S.done;S=T.next())S=xn(w=S.value,"name")[0],w=xn(w,"value")[0],o.headers[wn(S)]=wn(w);m=xn(m,"Challenge")[0],o.body=wt(wn(m))}else o.headers["Content-Type"]="text/xml; charset=utf-8";return u=Date.now(),E(v,2),d=e.C.Xb.request(2,o,{isPreload:e.P()}),e.T.push(d),b(v,d.promise,4);case 4:c=v.h,sn(e.T,d),_(v,3);break;case 2:return p=A(v),e.l.g?v.return():(f=new Re(2,6,6007,p),1==e.i.size?(e.u(f),r&&r.ub&&r.ub.reject(f)):(r&&r.ub&&r.ub.reject(f),e.i.delete(n),to(e)&&(e.m.resolve(),e.L.da(.1))),v.return());case 3:return e.l.g?v.return():(e.H+=(Date.now()-u)/1e3,e.g.logLicenseExchange&&St(c.data),E(v,5),b(v,n.update(c.data),7));case 7:_(v,6);break;case 5:return h=A(v),y=new Re(2,6,6008,h.message),e.u(y),r&&r.ub&&r.ub.reject(y),v.return();case 6:if(e.l.g)return v.return();g=new ta("drmsessionupdate"),e.C.onEvent(g),r&&(r.ub&&r.ub.resolve(),Za(e,r)),k(v)}}))}function Qa(e,t){t=t.target;var n=e.i.get(t),r=!1;t.keyStatuses.forEach((function(t,i){if("string"==typeof i){var a=i;i=t,t=a}if(Me(e.h.keySystem)&&16==i.byteLength&&(Ge()||$e())){var o=(a=xe(i)).getUint32(0,!0),s=a.getUint16(4,!0),l=a.getUint16(6,!0);a.setUint32(0,o,!1),a.setUint16(4,s,!1),a.setUint16(6,l,!1)}"status-pending"!=t&&(n.loaded=!0),"expired"==t&&(r=!0),i=xt(i).slice(0,32),e.Z.set(i,t)}));var i=t.expiration-Date.now();(0>i||r&&1e3>i)&&n&&!n.ub&&(e.i.delete(t),Ja(t)),to(e)&&(e.m.resolve(),e.L.da(so))}function Ja(e){return I((function(t){return 1==t.g?(E(t,2),b(t,ni(ao,Promise.all([e.close().catch((function(){})),e.closed])),4)):2!=t.g?_(t,0):(A(t),void k(t))}))}function $a(e){var t;return I((function(n){return t=Array.from(e.i.entries()),e.i.clear(),b(n,Promise.all(t.map((function(t){var n=(t=l(t)).next().value,r=t.next().value;return I((function(t){return 1==t.g?(E(t,2),e.ka||e.B.has(n.sessionId)||"persistent-license"!==r.type||e.g.persistentSessionOnlinePlayback?b(t,Ja(n),5):b(t,n.remove(),5)):2!=t.g?_(t,0):(A(t),void k(t))}))}))),0)}))}function eo(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])}function to(e){return function(e,t){for(var n=(e=l(e)).next();!n.done;n=e.next())if(!t(n.value))return!1;return!0}(e=e.i.values(),(function(e){return e.loaded}))}function no(t,n,r,i,a,o,s,c){for(var d=[],p=(t=l(t)).next(),f={};!p.done;f={va:void 0},p=t.next()){if(f.va=p.value,n.includes(f.va.encryptionScheme)||n.push(f.va.encryptionScheme),"org.w3.clearkey"==f.va.keySystem&&f.va.licenseServerUri.startsWith("data:application/json;base64,")?d.includes(f.va.licenseServerUri)||d.push(f.va.licenseServerUri):r.includes(f.va.licenseServerUri)||r.push(f.va.licenseServerUri),a.includes(f.va.serverCertificateUri)||a.push(f.va.serverCertificateUri),f.va.serverCertificate&&(i.some(function(e){return function(t){return Ae(t,e.va.serverCertificate)}}(f))||i.push(f.va.serverCertificate)),f.va.initData)for(var h=(p=l(f.va.initData)).next(),y={};!h.done;y={Mf:void 0},h=p.next())y.Mf=h.value,o.some(function(e){return function(t){var n=e.Mf;return!(!t.keyId||t.keyId!=n.keyId)||t.initDataType==n.initDataType&&Ae(t.initData,n.initData)}}(y))||o.push(y.Mf);if(f.va.keyIds)for(h=(p=l(f.va.keyIds)).next();!h.done;h=p.next())s.add(h.value);if(f.va.keySystemUris&&c)for(p=(f=l(f.va.keySystemUris)).next();!p.done;p=f.next())c.add(p.value)}if(1==d.length)r.push(d[0]);else if(0<d.length){for(n=[],i=(d=l(d)).next();!i.done;i=d.next())i=e.atob(i.value.split("data:application/json;base64,").pop()),i=JSON.parse(i),n.push.apply(n,u(i.keys));d=JSON.stringify({keys:n}),r.push("data:application/json;base64,"+e.btoa(d))}}function ro(t,n,r,i){var a=t.keySystem;!a||"org.w3.clearkey"==a&&t.licenseServerUri||(n.size&&n.get(a)&&(n=n.get(a),t.licenseServerUri=n),t.keyIds||(t.keyIds=new Set),(r=r.get(a))&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=r.persistentStateRequired),t.serverCertificate||(t.serverCertificate=r.serverCertificate),r.sessionType&&(t.sessionType=r.sessionType),t.serverCertificateUri||(t.serverCertificateUri=r.serverCertificateUri)),i[a]&&(t.keySystem=i[a]),e.cast&&e.cast.__platform__&&"com.microsoft.playready"==a&&(t.keySystem="com.chromecast.playready"))}function io(e,t){if(0!=(e=Ea(e)).size){e=Dt(e);for(var n=(t=l(t)).next();!n.done;n=t.next())(n=n.value).video&&(n.video.drmInfos=[e]),n.audio&&(n.audio.drmInfos=[e])}}(n=Fa.prototype).destroy=function(){return this.l.destroy()},n.configure=function(e,t){this.g=e,t&&(this.P=t),this.I&&this.I.ua(this.g.updateExpirationTime)},n.Lb=function(e){var t=this;return I((function(n){if(1==n.g)return t.j===e?n.return():t.A?(t.j=e,t.o.ma(t.j,"play",(function(){for(var e=l(t.M),n=e.next();!n.done;n=e.next())Xa(t,n.value);t.W=!0,t.M=[]})),t.j.remote?(t.o.D(t.j.remote,"connect",(function(){return $a(t)})),t.o.D(t.j.remote,"connecting",(function(){return $a(t)})),t.o.D(t.j.remote,"disconnect",(function(){return $a(t)}))):"webkitCurrentPlaybackTargetIsWireless"in t.j&&t.o.D(t.j,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return $a(t)})),t.F=t.h&&t.h.initData.find((function(e){return 0<e.initData.length}))||null,t.F||"com.apple.fps"!==t.h.keySystem||t.B.size?b(n,Va(t),2):n.s(2)):(t.o.ma(e,"encrypted",(function(){t.u(new Re(2,6,6010))})),n.return());Ga(t).catch((function(){})),t.F||t.B.size||t.g.parseInbandPsshEnabled||t.o.D(t.j,"encrypted",(function(e){return function(e,t){return I((function(n){if(1==n.g)return b(n,Va(e),2);Ka(e,t.initDataType,we(t.initData)),k(n)}))}(t,e)})),k(n)}))},n.Gf=function(){var e=this,t=this.i.keys();return t=ka(t,(function(t){var n=e.i.get(t);return{sessionId:t.sessionId,sessionType:n.type,initData:n.initData,initDataType:n.initDataType}})),Array.from(t)},n.pd=function(){for(var e=1/0,t=this.i.keys(),n=(t=l(t)).next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e},n.Yd=function(){return Ta(this.fa)};var ao=1,oo=5,so=.5;function lo(e,t,n){for(n=void 0===n||n,this.h=e,this.g=new Set([e]),t=(e=l(t=t||[])).next();!t.done;t=e.next())this.add(t.value,n)}function uo(e,t){if(e.mimeType!=t.mimeType)return!1;if(e=e.codecs.split(",").map((function(e){return Fr(e)})),t=t.codecs.split(",").map((function(e){return Fr(e)})),e.length!=t.length)return!1;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function co(e,t){if(e=new Set(e),t=new Set(t),e.delete("main"),t.delete("main"),e.size!=t.size)return!1;for(var n=(e=l(e)).next();!n.done;n=e.next())if(!t.has(n.value))return!1;return!0}function po(){}function fo(){this.g=yo,this.i=(new Map).set(yo,2).set(ho,1),this.h=0}lo.prototype.add=function(e,t){var n,r=this.h;if(t=void 0===t||t,!(n=!!r.audio!=!!e.audio||!!r.video!=!!e.video||r.language!=e.language)&&(n=r.audio&&e.audio)){n=r.audio;var i=e.audio;n=!(!((!n.channelsCount||!i.channelsCount||2<n.channelsCount||2<i.channelsCount)&&n.channelsCount!=i.channelsCount||n.spatialAudio!==i.spatialAudio||t&&!uo(n,i))&&co(n.roles,i.roles)&&n.groupId===i.groupId)}return!n&&(n=r.video&&e.video)&&(r=r.video,n=e.video,n=!((!t||uo(r,n))&&co(r.roles,n.roles))),!n&&(this.g.add(e),!0)},lo.prototype.values=function(){return this.g.values()},F("shaka.media.AdaptationSet",lo),F("shaka.config.CodecSwitchingStrategy",{RELOAD:"reload",SMOOTH:"smooth"}),po.prototype.create=function(){},po.prototype.configure=function(){},F("shaka.media.AdaptationSetCriteria",po);var ho=0,yo=1;function go(e,t,n){this.g=e,this.i=t,this.h=n}function vo(e,t){return I((function(n){if(1==n.g)return b(n,gi(e.h,t,e.g.drm.preferredKeySystems,e.g.drm.keySystemsMapping),2);if(e.g.streaming.dontChooseCodecs||hi(t,e.g.preferredVideoCodecs,e.g.preferredAudioCodecs,e.g.preferredDecodingAttributes,e.g.preferredTextFormats),!t.variants.some(Ii))throw new Re(2,4,4032);return n.return(bo(e,t))}))}function mo(e,t){var n=e.g.restrictions;e=e.i;for(var r=!1,i=(t=l(t.variants)).next();!i.done;i=t.next()){var a=(i=i.value).allowedByApplication;i.allowedByApplication=yi(i,n,e),a!=i.allowedByApplication&&(r=!0)}return r}function bo(e,t){var n=mo(e,t);if(t){var r=e.h?e.h.h:null;if(r&&e.h.A)for(var i=l(t.variants),a=i.next();!a.done;a=i.next())a=a.value,ko(e,r.keySystem,a.video),ko(e,r.keySystem,a.audio);Eo(e,t)}return n}function ko(e,t,n){if(n)for(var r=(n=l(n.drmInfos)).next();!r.done;r=n.next())if((r=r.value).keySystem==t)for(var i=(r=l(r.initData||[])).next();!i.done;i=r.next())i=i.value,Ka(e.h,i.initDataType,i.initData)}function Eo(e,t){e=e.h?e.h.Yd():{};var n=Object.keys(e);n=n.length&&"00"==n[0];for(var r=!1,i=!1,a=new Set,o=new Set,s=(t=l(t.variants)).next();!s.done;s=t.next()){var u=[];(s=s.value).audio&&u.push(s.audio),s.video&&u.push(s.video);for(var c=(u=l(u)).next();!c.done;c=u.next())if((c=c.value).keyIds.size)for(var d=(c=l(c.keyIds)).next();!d.done;d=c.next()){d=d.value;var p=e[n?"00":d];p?To.includes(p)&&o.add(p):a.add(d)}s.allowedByApplication?s.allowedByKeySystem&&(r=!0):i=!0}if(!r)throw new Re(2,4,4012,e={hasAppRestrictions:i,missingKeys:Array.from(a),restrictedKeyStatuses:Array.from(o)})}var To=["output-restricted","internal-error"];function _o(){}function Ao(e,t){wo.set(e,t)}function So(e,t){if(t){var n=wo.get(t.toLowerCase());if(n)return n}throw new Re(2,4,4e3,e,t)}F("shaka.media.ManifestParser",_o),_o.unregisterParserByMime=function(e){wo.delete(e)},_o.registerParserByMime=Ao,_o.registerParserByExtension=function(){ne("ManifestParser.registerParserByExtension","Please use an ManifestParser with registerParserByMime function.")},_o.AccessibilityPurpose={Nk:"visually impaired",dk:"hard of hearing"};var wo=new Map;function Co(e,t){var n=null,r=null,i=null,a=null,o=e.S();return 1&t&&(i=e.bd()),2&t&&(a=e.S()),8&t&&(n=e.S()),16&t&&(r=e.S()),{trackId:o,ld:n,md:r,Wh:i,rh:a}}function xo(e,t){return 1==t?(t=e.S(),e=e.S(),{baseMediaDecodeTime:t*Math.pow(2,32)+e}):{baseMediaDecodeTime:e.S()}}function Po(e,t){return 1==t?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4)),t=e.S(),e.skip(4),e=e.na(),{timescale:t,language:String.fromCharCode(96+(e>>10))+String.fromCharCode(96+((960&e)>>5))+String.fromCharCode(96+(31&e))}}function Ro(e,t,n){var r=e.S(),i=[],a=null;1&n&&(a=e.$f()),4&n&&e.skip(4);for(var o=0;o<r;o++){var s={gg:null,sampleSize:null,ye:null};256&n&&(s.gg=e.S()),512&n&&(s.sampleSize=e.S()),1024&n&&e.skip(4),2048&n&&(s.ye=0==t?e.S():e.$f()),i.push(s)}return{Sk:r,fg:i,nf:a}}function Io(e){e.skip(6),e.skip(2),e.skip(8);var t=e.na();return e.skip(2),e.skip(2),e.skip(2),{channelCount:t,sampleRate:e=e.na()+e.na()/65536}}function Do(e){return{codec:Oa(e=e.S())}}function Oo(e,t){return t=void 0!==t&&t,e=e.toString(16).toUpperCase(),t?e:("0"+e).slice(-2)}function Lo(e){return(10>e?"0":"")+e}function Mo(e){if(!Yo){Yo=!0;var t=new Uint8Array([105,115,111,109]),n=new Uint8Array([97,118,99,49]),r=new Uint8Array([0,0,0,1]);as=Wo("ftyp",t,r,t,n),t=Wo("dref",os),ss=Wo("dinf",t)}this.g=e}function No(e){for(var t=[],n=l(e.g),r=n.next();!r.done;r=n.next()){var i=t,a=i.push,o=r.value;r=Wo;var s=o.id+1,c=o.stream.width||0,d=o.stream.height||0;"audio"==o.type&&(d=c=0);var p=o.duration*o.timescale,f=Math.floor(p/(Zo+1));switch(p=Math.floor(p%(Zo+1)),s=Wo("tkhd",s=new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(u(Go(s,4)),[0,0,0,0],u(Go(f,4)),u(Go(p,4)),[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0],u(Go(c,2)),[0,0],u(Go(d,2)),[0,0]))),c=Wo,f=o.duration*o.timescale,d=Math.floor(f/(Zo+1)),f=Math.floor(f%(Zo+1)),p=(p=o.stream.language).charCodeAt(0)-96<<10|p.charCodeAt(1)-96<<5|p.charCodeAt(2)-96,d=Wo("mdhd",d=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(u(Go(o.timescale,4)),u(Go(d,4)),u(Go(f,4)),u(Go(p,2)),[0,0]))),f=o,p=new Uint8Array([]),f.type){case"video":p=Xo;break;case"audio":p=Qo}f=Wo("hdlr",p);e:{switch(o.type){case"video":o=Wo("minf",Wo("vmhd",ns),ss,Uo(o));break e;case"audio":o=Wo("minf",Wo("smhd",rs),ss,Uo(o));break e}o=new Uint8Array([])}r=r("trak",s,o=c("mdia",d,f,o)),a.call(i,r)}for(t=Pt.apply(_t,u(t)),n=Wo,r=(a=e.g[0]).duration*a.timescale,i=Math.floor(r/(Zo+1)),r=Math.floor(r%(Zo+1)),i=Wo("mvhd",i=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(u(Go(a.timescale,4)),u(Go(i,4)),u(Go(r,4)),[0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))),r=[],c=(e=l(e.g)).next();!c.done;c=e.next())s=(o=r).push,c=Wo("trex",c=new Uint8Array([0,0,0,0].concat(u(Go(c.value.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]))),s.call(o,c);if(e=Wo("mvex",e=Pt.apply(_t,u(r))),r=[],a.encrypted){for(o=(a=l(a.stream.drmInfos)).next();!o.done;o=a.next())if((o=o.value).initData)for(s=(o=l(o.initData)).next();!s.done;s=o.next())r.push(s.value.initData);a=Pt.apply(_t,u(r))}else a=new Uint8Array([]);return e=n("moov",i,t,e,a),(t=new Uint8Array(as.byteLength+e.byteLength)).set(as),t.set(e,as.byteLength),t}function Uo(e){var t=Wo,n="aac";e.codecs.includes("mp3")?n="mp3":e.codecs.includes("ac-3")?n=We()?"ec-3":"ac-3":e.codecs.includes("ec-3")?n="ec-3":e.codecs.includes("opus")&&(n="opus");var r=new Uint8Array([]);switch(e.type){case"video":if(e.codecs.includes("avc1")){if(n=e.stream.width||0,r=e.stream.height||0,0<e.Ca.byteLength)var i=Wo("avcC",e.Ca);else{i=Wo;for(var a=7,o=[],s=[],l=0,c=0,d=0,p=0;p<e.lb.length;p++){var f=Ko(e.lb[p]);switch(31&f[0]){case 7:o.push(f),a+=f.length+2;break;case 8:s.push(f),a+=f.length+2}}for(0<o.length&&(l=o[0][1],d=o[0][2],c=o[0][3]),p=0,(a=new Uint8Array(a))[p++]=1,a[p++]=l,a[p++]=d,a[p++]=c,a[p++]=255,a[p++]=224|o.length,l=0;l<o.length;l++)a[p++]=(65280&o[l].length)>>8,a[p++]=255&o[l].length,a.set(o[l],p),p+=o[l].length;for(a[p++]=s.length,o=0;o<s.length;o++)a[p++]=(65280&s[o].length)>>8,a[p++]=255&s[o].length,a.set(s[o],p),p+=s[o].length;i=i("avcC",a)}n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(u(Go(n,2)),u(Go(r,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),r="avc1",s=Bo(e),o=new Uint8Array([]),e.encrypted&&(o=jo(0,e.stream,e.codecs),r="encv"),r=Wo(r,n,i,s,o)}else e.codecs.includes("hvc1")&&(r=e.stream.width||0,i=e.stream.height||0,n=new Uint8Array([]),0<e.Ca.byteLength&&(n=Wo("hvcC",e.Ca)),r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(u(Go(r,2)),u(Go(i,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),i="hvc1",s=Bo(e),o=new Uint8Array([]),e.encrypted&&(o=jo(0,e.stream,e.codecs),i="encv"),r=Wo(i,r,n,s,o));break;case"audio":"mp3"==n?e=Wo(".mp3",Fo(e)):"ac-3"==n?(n=Wo("dac3",e.ra),r="ac-3",i=new Uint8Array([]),e.encrypted&&(i=jo(0,e.stream,e.codecs),r="enca"),e=Wo(r,Fo(e),n,i)):"ec-3"==n?(n=Wo("dec3",e.ra),r="ec-3",i=new Uint8Array([]),e.encrypted&&(i=jo(0,e.stream,e.codecs),r="enca"),e=Wo(r,Fo(e),n,i)):"opus"==n?(n=Wo("dOps",e.ra),r="Opus",i=new Uint8Array([]),e.encrypted&&(i=jo(0,e.stream,e.codecs),r="enca"),e=Wo(r,Fo(e),n,i)):(0<e.ra.byteLength?n=Wo("esds",e.ra):(n=Wo,r=e.id+1,i=e.stream.channelsCount||2,o=e.stream.audioSamplingRate||44100,l=Ot("audio",e.codecs.split(",")),s=(c={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12})[o],"mp4a.40.5"!==l&&"mp4a.40.29"!==l||(s=c[2*o]),o=parseInt(l.split(".").pop(),10),n=n("esds",r=new Uint8Array([0,0,0,0,3,25].concat(u(Go(r,2)),[0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,o<<3|s>>>1,s<<7|i<<3,6,1,2])))),r="mp4a",i=new Uint8Array([]),e.encrypted&&(i=jo(0,e.stream,e.codecs),r="enca"),e=Wo(r,Fo(e),n,i)),r=e}return t("stbl",e=Wo("stsd",is,r),Wo("stts",Jo),Wo("stsc",$o),Wo("stsz",ts),Wo("stco",es))}function Bo(e){if(!e.Ia&&!e.Ka)return new Uint8Array([]);var t=e.Ka;return Wo("pasp",e=new Uint8Array([].concat(u(Go(e.Ia,4)),u(Go(t,4)))))}function Fo(e){return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.stream.channelsCount||2,0,16,0,0,0,0].concat(u(Go(e.stream.audioSamplingRate||44100,2)),[0,0]))}function jo(e,t,n){e=Wo,n=Wo("frma",n=new Uint8Array([].concat(u(Go(zo(n.split(".")[0]),4)))));var r="cenc",i=t.drmInfos[0];i&&i.encryptionScheme&&(r=i.encryptionScheme),r=Wo("schm",r=new Uint8Array([0,0,0,0].concat(u(Go(zo(r),4)),[0,1,0,0]))),i=Wo;for(var a=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),o=(t=l(t.drmInfos)).next();!o.done;o=t.next())if((o=o.value)&&o.keyIds&&o.keyIds.size)for(var s=(o=l(o.keyIds)).next();!s.done;s=o.next())a=Ko(s.value);return e("sinf",n,r,i("schi",t=Wo("tenc",t=new Uint8Array([0,0,0,0,0,0,1,8]),a)))}function Ho(e){for(var t=[],n=(e=l(e.g)).next();!n.done;n=e.next()){n=n.value;var r,i=t.push,a=i.apply,o=Wo,s=new Uint8Array([0,0,0,0].concat(u(Go(n.data?n.data.Db:0,4))));s=Wo("mfhd",s);var c=n.data?n.data.jb:[],d=new Uint8Array(4+c.length);for(r=0;r<c.length;r++){var p=c[r].flags;d[r+4]=p.Ya<<4|p.$a<<2|p.Za}var f=(c=Wo("sdtp",d)).length+92;d=Wo,r=Wo("tfhd",r=new Uint8Array([0,0,0,58].concat(u(Go(n.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]))),p=n.data?n.data.baseMediaDecodeTime:0;var h=Math.floor(p%(Zo+1));p=Wo("tfdt",p=new Uint8Array([1,0,0,0].concat(u(Go(Math.floor(p/(Zo+1)),4)),u(Go(h,4)))));var y=f,g=12+16*(h=(f=n.data?n.data.jb:[]).length),v=new Uint8Array(g);for(y+=8+g,v.set(["video"===n.type?1:0,0,15,1].concat(u(Go(h,4)),u(Go(y,4))),0),y=0;y<h;y++){var m=f[y];g=Go(m.duration,4);var b=Go(m.size,4),k=m.flags;m=Go(m.eb,4),v.set([].concat(u(g),u(b),[k.hb<<2|k.Ya,k.$a<<6|k.Za<<4|k.ib,61440&k.Xa,15&k.Xa],u(m)),12+16*y)}o=o("moof",s,c=d("traf",r,p,f=Wo("trun",v),c)),a.call(i,t,[o,Vo(n)])}return Pt.apply(_t,u(t))}function Vo(e){return e=(e.data?e.data.jb:[]).map((function(e){return e.data})),Wo("mdat",e=Pt.apply(_t,u(e)))}function Go(e,t){var n=[];for(--t;0<=t;t--)n.push(e>>8*t&255);return n}function Ko(e){for(var t=new Uint8Array(e.length/2),n=0;n<e.length/2;n+=1)t[n]=parseInt(String(e[2*n]+e[2*n+1]),16);return t}function zo(e){for(var t=0,n=0;n<e.length;n+=1)t|=e.charCodeAt(n)<<8*(e.length-n-1);return t}function Wo(e){var t=D.apply(1,arguments),n=qo.get(e);n||(n=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)],qo.set(e,n));for(var r=8,i=t.length-1;0<=i;i--)r+=t[i].byteLength;for((i=new Uint8Array(r))[0]=r>>24&255,i[1]=r>>16&255,i[2]=r>>8&255,i[3]=255&r,i.set(n,4),n=0,r=8;n<t.length;n++)i.set(t[n],r),r+=t[n].byteLength;return i}var Yo=!1,Zo=Math.pow(2,32)-1,qo=new Map,Xo=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Qo=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Jo=new Uint8Array([0,0,0,0,0,0,0,0]),$o=new Uint8Array([0,0,0,0,0,0,0,0]),es=new Uint8Array([0,0,0,0,0,0,0,0]),ts=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),ns=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),rs=new Uint8Array([0,0,0,0,0,0,0,0]),is=new Uint8Array([0,0,0,0,0,0,0,1]),as=new Uint8Array([]),os=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ss=new Uint8Array([]);function ls(e){function t(e){o.push(e),Ca(e)}var n,r,i,a,o=[];if((new wa).box("moof",t).box("traf",t).R("tfhd",(function(e){n=e,i=Co(e.reader,e.flags)})).R("trun",(function(e){r=e,a=Ro(e.reader,e.version,e.flags)})).parse(e),i&&2!==i.rh){var s=n.start+La(n)+4+(null!==i.Wh?8:0),u=xe(e);if(null!==i.rh)u.setUint32(s,2);else{cs(e,n.start,n.size+4);var c=u.getUint32(n.start+8);u.setUint32(n.start+8,2|c),a&&null!==a.nf&&u.setInt32(r.start+La(r)+4,a.nf+4),c=e.subarray(0,s),u=e.subarray(s),(e=new Uint8Array(e.byteLength+4)).set(c),c=[];for(var d=3;0<=d;d--)c.push(2>>8*d&255);for(e.set(new Uint8Array(c),s),e.set(u,s+4),u=(s=l(o)).next();!u.done;u=s.next())cs(e,(u=u.value).start,u.size+4)}}return e}function us(e,t,n,r,i,a){var o=jo(new Mo([]),e,r.name),s=t.subarray(r.start,r.start+r.size);for((e=new Uint8Array(r.size+o.byteLength)).set(s,0),xe(e).setUint32(4,a),e.set(o,r.size),cs(e,0,e.byteLength),a=new Uint8Array(t.byteLength+e.byteLength),r=Qe()||Ke()||Ge()?r.start:r.start+r.size,o=t.subarray(r),a.set(t.subarray(0,r)),a.set(e,r),a.set(o,r+e.byteLength),i=(t=l(i)).next();!i.done;i=t.next())cs(a,(i=i.value).start,i.size+e.byteLength);return e=xe(a,n.start),n=La(n),t=e.getUint32(n),e.setUint32(n,t+1),a}function cs(e,t,n){0!=(t=(e=xe(e,t)).getUint32(0))&&(1==t?(e.setUint32(8,n>>32),e.setUint32(12,4294967295&n)):e.setUint32(0,n))}function ds(e,t,n,r,i,a,o,s){this.N=e,this.Sa=t,this.wa=n,this.Wc=void 0===r?null:r,this.timescale=void 0===i?null:i,this.h=void 0===a?null:a,this.aesKey=void 0===o?null:o,this.g=this.mimeType=this.codecs=null,this.encrypted=void 0!==s&&s}function ps(e,t){return e===t||(e&&t?e.uc()==t.uc()&&e.tc()==t.tc()&&un(e.N().sort(),t.N().sort())&&Ae(e.Ib(),t.Ib()):e==t)}function fs(e,t,n,r,i,a,o,s,u,c,d,p,f,h,y,g){for(c=void 0===c?[]:c,h=void 0===h?ys:h,this.startTime=e,this.j=this.endTime=t,this.C=n,this.Sa=r,this.wa=i,this.Y=a,this.timestampOffset=o,this.appendWindowStart=s,this.appendWindowEnd=u,this.g=c,this.tilesLayout=void 0===d?"":d,this.B=void 0===p?null:p,this.h=void 0===f?null:f,this.status=h,this.preload=!1,this.l=!0,this.m=!1,this.aesKey=void 0===y?null:y,this.thumbnailSprite=null,this.i=-1,this.A=void 0!==g&&g,this.F=this.o=!1,t=(e=l(this.g)).next();!t.done;t=e.next())t.value.fh();this.A&&this.g.length&&this.g[this.g.length-1].eh(),this.u=this.bandwidth=this.mimeType=this.codecs=null,this.G=!1}function hs(e,t){e.Y=t;for(var n=(e=l(e.g)).next();!n.done;n=e.next())hs(n.value,t)}ds.prototype.uc=function(){return this.Sa},ds.prototype.tc=function(){return this.wa},ds.prototype.Kd=function(e){this.h=e},ds.prototype.Ib=function(){return this.h},F("shaka.media.InitSegmentReference",ds),ds.prototype.getEndByte=ds.prototype.tc,ds.prototype.getStartByte=ds.prototype.uc,(n=fs.prototype).N=function(){return this.C()},n.getStartTime=function(){return this.startTime},n.mi=function(){return this.endTime},n.uc=function(){return this.Sa},n.tc=function(){return this.wa},n.Ji=function(){return this.tilesLayout},n.Ii=function(){return this.B},n.dc=function(){return this.status},n.aj=function(){this.status=gs},n.Sf=function(){this.preload=!0},n.isPreload=function(){return this.preload},n.Vc=function(){this.l=!1},n.Ti=function(){return this.l},n.fh=function(){this.o=!0},n.Vi=function(){return this.o},n.eh=function(){this.F=!0},n.Ui=function(){return this.F},n.dh=function(){this.m=!0},n.Pi=function(){return this.m},n.De=function(e){this.thumbnailSprite=e},n.Gi=function(){return this.thumbnailSprite},n.offset=function(e){this.startTime+=e,this.endTime+=e,this.j+=e;for(var t=l(this.g),n=t.next();!n.done;n=t.next())(n=n.value).startTime+=e,n.endTime+=e,n.j+=e},n.qg=function(e){null==this.h?W("Sync attempted without sync time!"):(e=this.h-e-this.startTime,.001<=Math.abs(e)&&this.offset(e))},n.Kd=function(e,t){this.u=e,this.G=void 0!==t&&t},n.Ib=function(e){var t=this.u;return(void 0===e||e)&&this.G&&(this.u=null),t},F("shaka.media.SegmentReference",fs),fs.prototype.getSegmentData=fs.prototype.Ib,fs.prototype.setSegmentData=fs.prototype.Kd,fs.prototype.syncAgainst=fs.prototype.qg,fs.prototype.offset=fs.prototype.offset,fs.prototype.getThumbnailSprite=fs.prototype.Gi,fs.prototype.setThumbnailSprite=fs.prototype.De,fs.prototype.hasByterangeOptimization=fs.prototype.Pi,fs.prototype.markAsByterangeOptimization=fs.prototype.dh,fs.prototype.isLastPartial=fs.prototype.Ui,fs.prototype.markAsLastPartial=fs.prototype.eh,fs.prototype.isPartial=fs.prototype.Vi,fs.prototype.markAsPartial=fs.prototype.fh,fs.prototype.isIndependent=fs.prototype.Ti,fs.prototype.markAsNonIndependent=fs.prototype.Vc,fs.prototype.isPreload=fs.prototype.isPreload,fs.prototype.markAsPreload=fs.prototype.Sf,fs.prototype.markAsUnavailable=fs.prototype.aj,fs.prototype.getStatus=fs.prototype.dc,fs.prototype.getTileDuration=fs.prototype.Ii,fs.prototype.getTilesLayout=fs.prototype.Ji,fs.prototype.getEndByte=fs.prototype.tc,fs.prototype.getStartByte=fs.prototype.uc,fs.prototype.getEndTime=fs.prototype.mi,fs.prototype.getStartTime=fs.prototype.getStartTime,fs.prototype.getUris=fs.prototype.N;var ys=0,gs=1;function vs(e){return 1==e.length&&1e-4>e.end(0)-e.start(0)}function ms(e){return!e||vs(e)?null:e.length?e.end(e.length-1):null}function bs(e,t){return!(!e||!e.length||vs(e)||t>e.end(e.length-1))&&t>=e.start(0)}function ks(e,t){if(!e||!e.length||vs(e))return 0;for(var n=0,r=(e=l(Es(e))).next();!r.done;r=e.next()){var i=r.value;r=i.start,(i=i.end)>t&&(n+=i-Math.max(r,t))}return n}function Es(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}function Ts(){}function _s(e,t){var n=document.createElement("source");return n.src=e,n.type=void 0===t?"":t,n}function As(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Ss(){}function ws(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function Cs(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function xs(e,t){var n=(127&e[t])<<21;return n|=(127&e[t+1])<<14,(n|=(127&e[t+2])<<7)|127&e[t+3]}function Ps(e){var t={key:e.type,description:"",data:"",mimeType:null,pictureType:null};if("APIC"===e.type){if(2>e.size||3!==e.data[0])return null;var n=e.data.subarray(1).indexOf(0);if(-1===n)return null;var r=yt(we(e.data,1,n)),i=e.data[2+n],a=e.data.subarray(3+n).indexOf(0);if(-1===a)return null;var o,s=yt(we(e.data,3+n,a));return o="--\x3e"===r?yt(we(e.data,4+n+a)):Se(e.data.subarray(4+n+a)),t.mimeType=r,t.pictureType=i,t.description=s,t.data=o,t}return"TXXX"===e.type||"WXXX"===e.type?2>e.size||3!==e.data[0]||-1===(r=e.data.subarray(1).indexOf(0))?null:(n=yt(we(e.data,1,r)),e=yt(we(e.data,2+r)).replace(/\0*$/,""),t.description=n,t.data=e,t):"PRIV"===e.type?2>e.size||-1===(n=e.data.indexOf(0))?null:(n=yt(we(e.data,0,n)),t.description=n,"com.apple.streaming.transportStreamTimestamp"==n?(n=e.data.subarray(n.length+1),e=1&n[3],n=(n[4]<<23)+(n[5]<<15)+(n[6]<<7)+n[7],n/=45,e&&(n+=47721858.84),t.data=n):(e=Se(e.data.subarray(n.length+1)),t.data=e),t):"T"===e.type[0]?2>e.size||3!==e.data[0]?null:(e=yt(e.data.subarray(1)).replace(/\0*$/,""),t.data=e,t):"W"===e.type[0]?(e=yt(e.data).replace(/\0*$/,""),t.data=e,t):e.data?(t.data=Se(e.data),t):null}function Rs(e){for(var t=0,n=[];ws(e,t);){var r=xs(e,t+6);for(e[t+5]>>6&1&&(t+=10),r=(t+=10)+r;t+10<r;){var i=e.subarray(t),a=xs(i,4);(a=Ps(i={type:String.fromCharCode(i[0],i[1],i[2],i[3]),size:a,data:i.subarray(10,10+a)}))&&n.push(a),t+=i.size+10}Cs(e,t)&&(t+=10)}return n}function Is(e,t){for(var n=t=void 0===t?0:t,r=0;ws(e,t);)e[t+5]>>6&1&&(r+=10),r+=10,r+=xs(e,t+6),Cs(e,t+10)&&(r+=10),t+=r;return 0<r?e.subarray(n,n+r):new Uint8Array([])}function Ds(e,t){if(this.j=e,void 0!==t&&t){t=new Uint8Array(e.byteLength);for(var n=0,r=0;r<e.byteLength;r++)2<=r&&3==e[r]&&0==e[r-1]&&0==e[r-2]||(t[n]=e[r],n++);this.j=we(t,0,n)}this.i=this.j.byteLength,this.g=this.h=0}function Os(e){var t=e.j.byteLength-e.i,n=new Uint8Array(4),r=Math.min(4,e.i);0!==r&&(n.set(e.j.subarray(t,t+r)),e.h=new _a(n,0).S(),e.g=8*r,e.i-=r)}function Ls(e,t){if(e.g<=t){t-=e.g;var n=Math.floor(t/8);t-=8*n,e.g-=n,Os(e)}e.h<<=t,e.g-=t}function Ms(e,t){var n=Math.min(e.g,t),r=e.h>>>32-n;return e.g-=n,0<e.g?e.h<<=n:0<e.i&&Os(e),0<(n=t-n)?r<<n|Ms(e,n):r}function Ns(e){var t;for(t=0;t<e.g;++t)if(0!=(e.h&2147483648>>>t))return e.h<<=t,e.g-=t,t;return Os(e),t+Ns(e)}function Us(e){Ls(e,1+Ns(e))}function Bs(e){return Ms(e,Ns(e)+1)-1}function Fs(e){return 1&(e=Bs(e))?1+e>>>1:-1*(e>>>1)}function js(e){return 1===Ms(e,1)}function Hs(e){return Ms(e,8)}function Vs(e,t){for(var n=8,r=8,i=0;i<t;i++)0!==r&&(r=(n+(r=Fs(e))+256)%256),n=0===r?n:r}function Gs(e){return Hs(e),Bs(e),Bs(e)}function Ks(){this.G=null,this.H=!1,this.m=this.I=null,this.j=[],this.g=[],this.A=this.B=null,this.i=[],this.h=[],this.C=null,this.l=[],this.F=this.o=this.u=null}function zs(e,t){if(1!=(t[0]<<16|t[1]<<8|t[2]))return null;var n={data:new Uint8Array(0),packetLength:t[4]<<8|t[5],pts:null,dts:null,nalus:[]};if(n.packetLength&&n.packetLength>t.byteLength-6)return null;var r=t[7];if(192&r){var i=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2;null==e.u&&(e.u=i),n.pts=Ys(i,e.u),e.u=n.pts,n.dts=n.pts,64&r&&(r=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,null==e.o&&(e.o=r),n.dts=Ys(r,e.o)),e.o=n.dts}return e=t[8]+9,t.byteLength<=e?null:(n.data=t.subarray(e),n)}function Ws(e){var t=e.wc();return 1<t.length&&(e=t[0].pts,t=t[1].pts,!isNaN(t-e))?String(1/(t-e)*9e4):null}function Ys(e,t){var n=1;for(e>t&&(n=-1);4294967296<Math.abs(t-e);)e+=8589934592*n;return e}function Zs(e){return!(0>qs(e))}function qs(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(71==e[n]&&71==e[n+188]&&71==e[n+376])return n;n++}return-1}fs.Status={Nj:ys,Lk:gs,lk:2},F("shaka.util.Dom",Ts),Ts.removeAllChildren=As,F("shaka.util.Id3Utils",Ss),Ss.getID3Data=Is,Ss.getID3Frames=Rs,F("shaka.util.ExpGolomb",Ds),(n=Ks.prototype).clearData=function(){this.j=[],this.g=[],this.i=[],this.h=[],this.l=[]},n.parse=function(e){if(564>e.length)return this;for(var t=Math.max(0,qs(e)),n=e.length-(e.length+t)%188,r=!1,i=t;i<n;i+=188)if(71==e[i]){var a=!!(64&e[i+1]),o=((31&e[i+1])<<8)+e[i+2];if(1<(48&e[i+3])>>4){var s=i+5+e[i+4];if(s==i+188)continue}else s=i+4;switch(o){case 0:a&&(s+=e[s]+1),this.G=(31&e[s+10])<<8|e[s+11];break;case 17:case 8191:break;case this.G:a&&(s+=e[s]+1),o={audio:-1,video:-1,ce:-1,audioCodec:"",videoCodec:""};var l=s+3+((15&(a=e)[s+1])<<8|a[s+2])-4;for(s+=12+((15&a[s+10])<<8|a[s+11]);s<l;){var u=(31&a[s+1])<<8|a[s+2],c=(15&a[s+3])<<8|a[s+4];switch(a[s]){case 6:if(0<c)for(var d=s+5,p=c;2<p;){var f=a[d+1]+2;switch(a[d]){case 5:var h=kt(a.subarray(d+2,d+f));-1==o.audio&&"Opus"===h?(o.audio=u,o.audioCodec="opus"):-1==o.video&&"AV01"===h&&(o.video=u,o.videoCodec="av1");break;case 106:-1==o.audio&&(o.audio=u,o.audioCodec="ac3");break;case 122:-1==o.audio&&(o.audio=u,o.audioCodec="ec3");break;case 124:-1==o.audio&&(o.audio=u,o.audioCodec="aac");break;case 127:"opus"==o.audioCodec&&(h=null,128===a[d+2]&&(h=a[d+3]),null!=h&&(this.F={channelCount:0==(15&h)?2:15&h,Zh:h,sampleRate:48e3}))}d+=f,p-=f}break;case 15:-1==o.audio&&(o.audio=u,o.audioCodec="aac");break;case 17:-1==o.audio&&(o.audio=u,o.audioCodec="aac-loas");break;case 21:-1==o.ce&&(o.ce=u);break;case 27:-1==o.video&&(o.video=u,o.videoCodec="avc");break;case 3:case 4:-1==o.audio&&(o.audio=u,o.audioCodec="mp3");break;case 36:-1==o.video&&(o.video=u,o.videoCodec="hvc");break;case 129:-1==o.audio&&(o.audio=u,o.audioCodec="ac3");break;case 132:case 135:-1==o.audio&&(o.audio=u,o.audioCodec="ec3")}s+=c+5}-1!=(a=o).video&&(this.I=a.video,this.m=a.videoCodec),-1!=a.audio&&(this.B=a.audio,this.A=a.audioCodec),-1!=a.ce&&(this.C=a.ce),r&&!this.H&&(r=!1,i=t-188),this.H=!0;break;case this.I:s=e.subarray(s,i+188),a?this.j.push([s]):this.j.length&&this.j[this.j.length-1]&&this.j[this.j.length-1].push(s);break;case this.B:s=e.subarray(s,i+188),a?this.i.push([s]):this.i.length&&this.i[this.i.length-1]&&this.i[this.i.length-1].push(s);break;case this.C:s=e.subarray(s,i+188),a?this.l.push([s]):this.l.length&&this.l[this.l.length-1]&&this.l[this.l.length-1].push(s);break;default:r=!0}}return this},n.hj=function(e){return ne("TsParser.parseAvcNalus","Please use parseNalus function instead."),this.Xf(e,{Dd:null,state:null})},n.Xf=function(e,t){var n=e.pts?e.pts/9e4:null,r=(e=e.data).byteLength,i=1;"hvc"==this.m&&(i=2);var a=t.state||0,o=a,s=0,l=[],u=-1,c=0;for(-1==a&&(u=0,c="hvc"==this.m?e[0]>>1&63:31&e[0],a=0,s=1);s<r;){var d=e[s++];a?1===a?a=d?0:2:d?1==d?(d=s-a-1,0<=u?l.push({data:e.subarray(u+i,d),fullData:e.subarray(u,d),type:c,time:n,state:null}):(a=l.length?l[l.length-1]:t.Dd)&&(o&&s<=4-o&&a.state&&(a.data=a.data.subarray(0,a.data.byteLength-o),a.fullData=a.fullData.subarray(0,a.fullData.byteLength-o)),0<d&&(d=e.subarray(0,d),a.data=Pt(a.data,d),a.fullData=Pt(a.fullData,d),a.state=0)),s<r?(c="hvc"==this.m?e[s]>>1&63:31&e[s],u=s,a=0):a=-1):a=0:a=3:a=d?0:1}return 0<=u&&0<=a&&l.push({data:e.subarray(u+i,r),fullData:e.subarray(u,r),type:c,time:n,state:a}),!l.length&&t.Dd&&(n=l.length?l[l.length-1]:t.Dd)&&(n.data=Pt(n.data,e),n.fullData=Pt(n.fullData,e)),t.state=a,l},n.getMetadata=function(){for(var e=[],t=l(this.l),n=t.next();!n.done;n=t.next())(n=zs(this,n=Pt.apply(_t,u(n.value))))&&e.push({cueTime:n.pts?n.pts/9e4:null,data:n.data,frames:Rs(n.data),dts:n.dts,pts:n.pts});return e},n.fb=function(){if(this.i.length&&!this.h.length){for(var e=!1,t=l(this.i),n=t.next();!n.done;n=t.next()){var r=Pt.apply(_t,u(n.value)),i=zs(this,r);n=this.h.length?this.h[this.h.length-1]:null,i&&null!=i.pts&&null!=i.dts&&(!n||n.pts!=i.pts&&n.dts!=i.dts)?(this.h.length&&i.dts<(n.dts||0)&&(e=!0),this.h.push(i)):this.h.length&&(r=i?i.data:r)&&((n=this.h.pop()).data=Pt(n.data,r),this.h.push(n))}e&&(this.h=this.h.sort((function(e,t){var n=(e.pts||0)-(t.pts||0);return(e.dts||0)-(t.dts||0)||n})))}return this.h},n.wc=function(e){if(e=void 0===e||e,this.j.length&&!this.g.length){for(var t=!1,n=l(this.j),r=n.next();!r.done;r=n.next()){var i=Pt.apply(_t,u(r.value)),a=zs(this,i);r=this.g.length?this.g[this.g.length-1]:null,a&&null!=a.pts&&null!=a.dts&&(!r||r.pts!=a.pts&&r.dts!=a.dts)?(this.g.length&&a.dts<(r.dts||0)&&(t=!0),this.g.push(a)):this.g.length&&(i=a?a.data:i)&&((r=this.g.pop()).data=Pt(r.data,i),this.g.push(r))}if(e){for(n={Dd:null,state:null},r=[],a=(i=l(this.g)).next();!a.done;a=i.next())(a=a.value).nalus=this.Xf(a,n),a.nalus.length&&(r.push(a),n.Dd=a.nalus[a.nalus.length-1]);this.g=r}t&&(this.g=this.g.sort((function(e,t){var n=(e.pts||0)-(t.pts||0);return(e.dts||0)-(t.dts||0)||n})))}return e?this.g:(e=this.g,this.g=[],e)},n.getStartTime=function(e){if("audio"==e){e=null;var t=this.fb();return t.length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e}return"video"==e?(e=null,(t=this.wc(!1)).length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e):null},n.od=function(){return{audio:this.A,video:this.m}},n.be=function(){for(var e=[],t=l(this.wc()),n=t.next();!n.done;n=t.next())e.push.apply(e,u(n.value.nalus));return e},n.Mi=function(){ne("TsParser.getVideoResolution","Please use getVideoInfo function instead.");var e=this.Kf();return{height:e.height,width:e.width}},n.Kf=function(){return"hvc"==this.m?function(e){var t={height:null,width:null,codec:null,frameRate:null},n=e.be();if(!n.length)return t;if(!(n=n.find((function(e){return 33==e.type}))))return t;var r=new Ds(n.fullData,!0);Hs(r),Hs(r),Ms(r,4);var i=Ms(r,3);js(r);var a=Ms(r,2),o=Ms(r,1),s=Ms(r,5),l=Ms(r,32);n=Hs(r);for(var u=Hs(r),c=Hs(r),d=Hs(r),p=Hs(r),f=Hs(r),h=Hs(r),y=[],g=[],v=0;v<i;v++)y.push(js(r)),g.push(js(r));if(0<i)for(v=i;8>v;v++)Ms(r,2);for(v=0;v<i;v++)y[v]&&Ms(r,88),g[v]&&Hs(r);Bs(r),3==(i=Bs(r))&&Ms(r,1),y=Bs(r),g=Bs(r);var m=v=0,b=0,k=0;return js(r)&&(v+=Bs(r),m+=Bs(r),b+=Bs(r),k+=Bs(r)),t.width=String(y-(v+m)*(1===i||2===i?2:1)),t.height=String(g-(b+k)*(1===i?2:1)),r=function(e){for(var t=0,n=0;32>n;n++)t|=(e>>n&1)<<31-n;return t>>>0}(l),o=1==o?"H":"L",a="hvc1."+["","A","B","C"][a]+s,a+="."+r.toString(16).toUpperCase(),a+="."+o+h,f&&(a+="."+f.toString(16).toUpperCase()),p&&(a+="."+p.toString(16).toUpperCase()),d&&(a+="."+d.toString(16).toUpperCase()),c&&(a+="."+c.toString(16).toUpperCase()),u&&(a+="."+u.toString(16).toUpperCase()),n&&(a+="."+n.toString(16).toUpperCase()),t.codec=a,t.frameRate=Ws(e),t}(this):function(e){var t={height:null,width:null,codec:null,frameRate:null},n=e.be();if(!n.length)return t;if(!(n=n.find((function(e){return 7==e.type}))))return t;var r=Hs(n=new Ds(n.data)),i=Hs(n),a=Hs(n);if(Us(n),Xs.includes(r)){var o=Bs(n);if(3===o&&Ls(n,1),Us(n),Us(n),Ls(n,1),js(n)){o=3!==o?8:12;for(var s=0;s<o;s++)js(n)&&Vs(n,6>s?16:64)}}if(Us(n),0===(o=Bs(n)))Bs(n);else if(1===o)for(Ls(n,1),Us(n),Us(n),o=Bs(n),s=0;s<o;s++)Us(n);Us(n),Ls(n,1),o=Bs(n),s=Bs(n);var l=Ms(n,1);0===l&&Ls(n,1),Ls(n,1);var u=0,c=0,d=0,p=0;return js(n)&&(u=Bs(n),c=Bs(n),d=Bs(n),p=Bs(n)),t.height=String((2-l)*(s+1)*16-2*d-2*p),t.width=String(16*(o+1)-2*u-2*c),t.codec="avc1."+("0"+r.toString(16).toUpperCase()).slice(-2)+("0"+i.toString(16).toUpperCase()).slice(-2)+("0"+a.toString(16).toUpperCase()).slice(-2),t.frameRate=Ws(e),t}(this)},F("shaka.util.TsParser",Ks),Ks.syncOffset=qs,Ks.probe=Zs,Ks.prototype.getVideoInfo=Ks.prototype.Kf,Ks.prototype.getVideoResolution=Ks.prototype.Mi,Ks.prototype.getVideoNalus=Ks.prototype.be,Ks.prototype.getCodecs=Ks.prototype.od,Ks.prototype.getStartTime=Ks.prototype.getStartTime,Ks.prototype.getVideoData=Ks.prototype.wc,Ks.prototype.getAudioData=Ks.prototype.fb,Ks.prototype.getMetadata=Ks.prototype.getMetadata,Ks.prototype.parseNalus=Ks.prototype.Xf,Ks.prototype.parseAvcNalus=Ks.prototype.hj,Ks.prototype.parse=Ks.prototype.parse,Ks.prototype.clearData=Ks.prototype.clearData,Ks.Timescale=9e4;var Xs=[100,110,122,244,44,83,86,118,128,138,139,134];function Qs(e,t,n,r){var i=this;this.g=e,this.K=n,this.A=null,this.ea=t,this.l=new Map,this.B=new Map,this.Aa=new Map,this.h=null,this.Ea=!1,this.I=r||null,this.u=new Map,this.o=new J,this.j=new Map,this.L=null,this.G=new Zi,this.Ga="",this.Na=!1,this.sa=!0,this.$=!1,this.C=this.M=null,this.i=Js(this,this.G),this.ya=this.H=!1,this.O=new ma((function(){return function(e){var t,n,r,i,a,o,s,u,c,d,p,f,h;return I((function(y){if(1==y.g){for(t=[],n=l(e.u),r=n.next();!r.done;r=n.next())for(i=r.value,a=l(i),o=a.next().value,s=a.next().value,u=s[0],c=o,e.u.set(c,s.slice(0,1)),u&&t.push(u.p.catch(ei)),d=l(s.slice(1)),p=d.next();!p.done;p=d.next())p.value.p.reject(new Re(2,7,7003,void 0));return e.h&&t.push(e.h.destroy()),b(y,Promise.all(t),2)}for(f=l(e.j.values()),h=f.next();!h.done;h=f.next())h.value.destroy();e.o&&(e.o.release(),e.o=null),e.g&&e.C&&e.g.removeChild(e.C),e.g&&e.M&&(e.g.removeChild(e.M),e.g.load(),e.g.disableRemotePlayback=!1),e.g=null,e.M=null,e.C=null,e.A=null,e.i=null,e.h=null,e.ea=null,e.l.clear(),e.Aa.clear(),e.j.clear(),e.L=null,e.u.clear(),e.I=null,e.Z.clear(),e.K=null,k(y)}))}(i)})),this.F=!1,this.P="UNKNOWN",this.La=this.Ma=!1,this.Fa=new Zi,this.m=!1,this.pa=null,this.Z=new Map,this.ka=this.T=this.oa=this.W=null,this.fa=new Zi,this.g.remote&&(this.$="disconnected"!=this.g.remote.state,this.o.D(this.g.remote,"connect",(function(){i.$="disconnected"!=i.g.remote.state})),this.o.D(this.g.remote,"connecting",(function(){i.$="disconnected"!=i.g.remote.state})),this.o.D(this.g.remote,"disconnect",(function(){i.$="disconnected"!=i.g.remote.state})))}function Js(t,n){if(t.sa=!0,e.ManagedMediaSource){t.C||(t.g.disableRemotePlayback=!0);var r=new ManagedMediaSource;t.o.D(r,"startstreaming",(function(){t.sa=!0})),t.o.D(r,"endstreaming",(function(){t.sa=!1}))}else r=new MediaSource;return t.o.ma(r,"sourceopen",(function(){URL.revokeObjectURL(t.Ga),n.resolve()})),t.o.ma(t.g,"playing",(function(){t.Na=!0})),t.Ga=El(r),t.g.removeAttribute("src"),t.M&&t.g.removeChild(t.M),t.C&&t.g.removeChild(t.C),t.M=_s(t.Ga),t.g.appendChild(t.M),t.C&&t.g.appendChild(t.C),t.g.load(),r}function $s(e,t,n,r){var i,a,o,s,u,c,d,p,f,h,y,g;return I((function(v){switch(v.g){case 1:return i=Ut,a=j,o=H,b(v,function(e,t){var n,r,i,a,o,s,u,c,d,p;return I((function(f){if(1==f.g)return e.createSegmentIndex?b(f,e.createSegmentIndex(),2):f.s(2);if(!e.segmentIndex)return f.return(!1);if(0==e.segmentIndex.getNumReferences())return f.return(!0);for(n=Ut,r=new Set,i=l(e.segmentIndex),a=i.next();!a.done;a=i.next())if(o=a.value,s=o.mimeType||e.mimeType||"",u=o.codecs||e.codecs||"",!(s==e.mimeType&&u==e.codecs||(c=s+":"+u,r.has(c))))if(r.add(c),t==n.za){if(!qr(Or(s,u)))return f.return(!1)}else if(t==n.la?u=_i(u):t==n.V&&(u=Ti(u,s)),d=Nr(e,s,u),p=Lr(s,u),!Kt(d)&&!wr(p))return f.return(!1);return f.return(!0)}))}(n,t),2);case 2:if(o.call(a,v.h,"Type negotiation should happen before MediaSourceEngine.init!"),t==i.V&&r&&(r=Ti(r,n.mimeType)),s=Or(n.mimeType,r),t==i.za){tl(e,s,e.F,n.external),v.s(0);break}if(u=e.A.forceTransmux,(!Kt(s)||!e.F&&zr.includes(s))&&(u=!0),c=Lr(n.mimeType,r),!u){v.s(4);break}if(d=Lt(i.V,(r||"").split(",")),p=Lt(i.la,(r||"").split(",")),!d||!p){v.s(5);break}return e.m=!0,b(v,$s(e,i.V,n,d),6);case 6:return b(v,$s(e,i.la,n,p),7);case 7:return v.return();case 5:(f=wr(c))&&(h=f(),e.j.set(t,h),s=h.convertCodecs(t,c));case 4:y=s+e.A.addExtraFeaturesToSourceBuffer(s),ba(e.O);try{g=e.i.addSourceBuffer(y)}catch(t){throw new Re(2,3,3015,t,"The mediaSource_ status was "+e.i.readyState+" expected 'open'",null)}e.F&&(g.mode=Tl),e.o.D(g,"error",(function(){var n=e.u.get(t)[0];n.p.reject(new Re(2,3,3014,e.g.error?e.g.error.code:0,n.uri))})),e.o.D(g,"updateend",(function(){return hl(e,t)})),e.l.set(t,g),e.B.set(t,s),e.Aa.set(t,!!n.drmInfos.length),k(v)}}))}function el(e){return e.sa&&!e.$&&!e.H}function tl(e,t,n,r){e.h||(e.h=new Wr(e.ea),e.h&&(e.h.A=e.A.modifyCueCallback));var i=e.h;r=r||e.Ea,e=e.P,"application/cea-608"==t||"application/cea-708"==t?i.i=null:(i.i=Jr.get(t)(),i.i.setSequenceMode?i.i.setSequenceMode(n):ne("Text parsers w/ setSequenceMode",'Text parsers should have a "setSequenceMode" method!'),i.i.setManifestType?i.i.setManifestType(e):ne("Text parsers w/ setManifestType",'Text parsers should have a "setManifestType" method!'),i.B=r)}function nl(e){return!e.H&&(!e.i||"ended"==e.i.readyState)}function rl(e){return!e.H&&(!e.i||"closed"==e.i.readyState)}function il(e,t){return e.l.size?t==Nt?e=e.h.g:e=!(e=ol(e,t))||vs(e)?null:1==e.length&&0>e.start(0)?0:e.length?e.start(0):null:e=null,e}function al(e,t){return e.l.size?t==Nt?e.h.h:ms(ol(e,t)):null}function ol(e,t){if(e.H||e.$)return null;try{return e.l.get(t).buffered}catch(n){return e.l.has(t),null}}function sl(e,t,n,r,i,a,o,s,c,d){var p,f,h,y,g,v,m,E,T,_,A,S,w,C,x,P;return o=void 0!==o&&o,s=void 0!==s&&s,c=void 0!==c&&c,d=void 0!==d&&d,I((function(R){switch(R.g){case 1:if(t!=(p=Ut).za){R.s(2);break}if("HLS"!=e.P){R.s(3);break}return b(R,e.Fa,4);case 4:f=R.h,e.h.u=f;case 3:return b(R,function(e,t,n,r,i){var a,o,s,u,c,d,p;return I((function(f){if(1==f.g)return b(f,Promise.resolve(),2);if(!e.i||!e.j)return f.return();if(null==n||null==r)return e.i.parseInit(we(t)),f.return();for(a=e.B?n:e.u,o={periodStart:e.u,segmentStart:n,segmentEnd:r,vttOffset:a},s=e.i.parseMedia(we(t),o,i,[]),u=l(s),c=u.next();!c.done;c=u.next())d=c.value,e.A(d,i||null,o);p=s.filter((function(t){return t.startTime>=e.l&&t.startTime<e.m})),e.j.append(p),null==e.g&&(e.g=Math.max(n,e.l)),e.h=Math.min(r,e.m),k(f)}))}(e.h,n,r?r.startTime:null,r?r.endTime:null,r?r.N()[0]:null),5);case 5:return R.return();case 2:if(d||!e.m){R.s(6);break}return b(R,sl(e,p.V,n,r,i,a,o,s,c,!0),7);case 7:return b(R,sl(e,p.la,n,r,i,a,o,s,c,!0),8);case 8:return R.return();case 6:if(!e.l.has(t))return R.return();if(h=e.l.get(t).timestampOffset,y=e.B.get(t),e.j.has(t)&&(y=e.j.get(t).getOriginalMimeType()),r&&(g=function(e,t,n,r,i,a){var o=null,s=[],l=we(n);if(zr.includes(a))(t=Rs(l)).length&&r&&((n=t.find((function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description})))&&(o=Math.round(n.data)/1e3),e.K.onMetadata([{cueTime:r.startTime,data:l,frames:t,dts:r.startTime,pts:r.startTime}],0,r.endTime));else if(a.includes("/mp4")&&r&&r.Y&&r.Y.timescale){var u=r.Y.timescale;if(!isNaN(u)){var c=null!=i.emsgSchemeIdUris&&0<i.emsgSchemeIdUris.length||e.A.dispatchAllEmsgBoxes,d=0,p=!1;l=new wa,c&&l.R("emsg",(function(t){var n=i.emsgSchemeIdUris;if(0===t.version)var a=t.reader.Cc(),o=t.reader.Cc(),s=t.reader.S(),l=t.reader.S(),u=t.reader.S(),c=t.reader.S(),d=r.startTime+l/s;else s=t.reader.S(),l=(d=t.reader.bd()/s+r.timestampOffset)-r.startTime,u=t.reader.S(),c=t.reader.S(),a=t.reader.Cc(),o=t.reader.Cc();t=t.reader.Cb(t.reader.getLength()-t.reader.Ba()),(n&&n.includes(a)||e.A.dispatchAllEmsgBoxes)&&("urn:mpeg:dash:event:2012"==a?e.K.gj():(s={startTime:d,endTime:n=d+u/s,schemeIdUri:a,value:o,timescale:s,presentationTimeDelta:l,eventDuration:u,id:c,messageData:t},new ta("emsg",c=(new Map).set("detail",s)).cancelable=!0,e.K.ej(s),("https://aomedia.org/emsg/ID3"==a||"https://developer.apple.com/streaming/emsg-id3"==a)&&(a=Rs(t)).length&&e.K.onMetadata([{cueTime:d,data:t,frames:a,dts:d,pts:d}],0,n)))})),l.R("prft",(function(t){var n=t.reader,r=t.version;n.S(),t=1e3*(t=n.S())+n.S()/Math.pow(2,32)*1e3,0===r?n=n.S():(r=n.S(),n=n.S(),n=r*Math.pow(2,32)+n),t=new Date(new Date(Date.UTC(1900,0,1,0,0,0)).getTime()+t).getTime(),n=new ta("prft",n=(new Map).set("detail",{wallClockTime:t,programStartDate:new Date(t-n/u*1e3)})),e.K.onEvent(n)})).box("moof",Ca).box("traf",Ca).R("tfdt",(function(e){p||(d=xo(e.reader,e.version).baseMediaDecodeTime/u,p=!0,c||e.parser.stop())})).parse(n,!0),p&&0==r.timestampOffset&&(o=d)}}else a.includes("/mp4")||a.includes("/webm")||!Zs(l)||(e.Z.has(t)?e.Z.get(t).clearData():e.Z.set(t,new Ks),null!=(l=(s=e.Z.get(t).parse(l)).getStartTime(t))&&(o=l),s=s.getMetadata());return{timestamp:o,metadata:s}}(e,t,n,r,i,y),v=g.timestamp,m=g.metadata,null!=v&&(null==e.W&&t==p.la&&(e.W=v,e.oa=r.startTime,null!=e.T&&(E=0,e.oa==e.ka&&(E=e.W-e.T),e.fa.resolve(E))),null==e.T&&t==p.V&&(e.T=v,e.ka=r.startTime,null!=e.W&&(T=0,e.oa==e.ka&&(T=e.W-e.T),e.fa.resolve(T))),_=v,A=zr,!e.F&&A.includes(e.B.get(t))&&(_=0),S=r.startTime-_,(.001<=Math.abs(h-S)||o||s)&&(!c||0<S||!h)&&(h=S,e.La&&(yl(e,t,(function(){return pl(e,t)}),null),yl(e,t,(function(){return fl(e,t,h)}),null))),(t==p.la||!e.l.has(p.la))&&e.Fa.resolve(h)),m.length)&&e.K.onMetadata(m,h,r?r.endTime:null),a&&t==p.la&&(e.h||tl(e,"application/cea-608",e.F,!1),e.L||(w=y.split(";",1)[0],e.L=new Qt(w)),r?(C=e.L.i(n)).length&&function(e,t,n,r,i){for(var a=n+" "+r,o=new Map,s=(t=l(t)).next();!s.done;s=t.next()){var u=s.value;s=u.stream,u=u.cue,o.has(s)||o.set(s,new Map),o.get(s).has(a)||o.get(s).set(a,[]),Qr(e,u,i),u.startTime>=e.l&&u.startTime<e.m&&(o.get(s).get(a).push(u),s==e.C&&e.j.append([u]))}for(a=(i=l(o.keys())).next();!a.done;a=i.next())for(a=a.value,e.o.has(a)||e.o.set(a,new Map),s=(t=l(o.get(a).keys())).next();!s.done;s=t.next())s=s.value,u=o.get(a).get(s),e.o.get(a).set(s,u);e.g=null==e.g?Math.max(n,e.l):Math.min(e.g,Math.max(n,e.l)),e.h=Math.max(e.h,Math.min(r,e.m))}(e.h,C,r.startTime,r.endTime,h):e.L.init(n,s)),!e.j.has(t)){R.s(9);break}return b(R,e.j.get(t).transmux(n,i,r,e.i.duration,t),10);case 10:n=R.h;case 9:if(n=function(e,t,n,r,i){if("mp4"!=Ur(e.B.get(i)))return n;var a=null===r,o=e.Aa.get(i),s=e.K.si(),c=!1;r&&r.Y&&(c=r.Y.encrypted),r=r?r.N()[0]:null,(e=e.A.insertFakeEncryptionInInit&&o)&&(s=Me(s),e=Qe()&&"audio"===i||ze()||Ke()||ot("SOPOpenBrowser")||Ge()&&nt()&&s);e&&(a?n=function(e,t,n){function r(e){p.push({box:e,hh:1701733217})}function i(e){p.push({box:e,hh:1701733238})}function a(e){c=!0,e.parser.stop()}function o(e){d.push(e),Ca(e)}var s,u=t=we(t),c=!1,d=[],p=[];if((new wa).box("moov",o).box("trak",o).box("mdia",o).box("minf",o).box("stbl",o).R("stsd",(function(e){s=e,d.push(e),xa(e)})).R("encv",a).R("enca",a).R("dvav",i).R("dva1",i).R("dvh1",i).R("dvhe",i).R("dvc1",i).R("dvi1",i).R("hev1",i).R("hvc1",i).R("avc1",i).R("avc3",i).R("ac-3",r).R("ec-3",r).R("ac-4",r).R("Opus",r).R("fLaC",r).R("mp4a",r).parse(t),c)return t;if(0==p.length||!s)throw xt(t),new Re(2,3,3019,n);p.reverse();for(var f=(n=l(p)).next();!f.done;f=n.next())f=f.value,u=us(e,u,s,f.box,d,f.hh);return Ge()&&nt()&&!Ke()?((e=new Uint8Array(t.byteLength+u.byteLength)).set(u),e.set(t,u.byteLength),e):u}(t,n,r):((t=!c)&&(t=Qe()&&"audio"===i),t&&(n=function(e){e=we(e);var t=[];(new wa).box("mdat",(function(e){t.push(e)})).parse(e);for(var n=[],r=0;r<t.length;r++){var i=t[r-1],a=t[r];n.push(ls(e.subarray(i?i.start+i.size:0,a.start+a.size)))}return Pt.apply(_t,u(n))}(n))));return a&&We()&&(n=function(e){function t(e){r.push({start:e.start,size:e.size}),Ca(e)}var n=we(e),r=[];return(new wa).box("moov",t).box("trak",t).box("mdia",t).box("minf",t).box("stbl",t).box("stsd",(function(e){r.push({start:e.start,size:e.size});for(var t=xe(n,e.start),i=0;i<e.size-3;i++){var a=t.getUint32(i);1633889587==a?t.setUint32(i,1700998451):1684103987==a&&t.setUint32(i,1684366131)}})).parse(n),n}(n)),n}(e,i,n,r,t),!r||!e.F||t==p.za){R.s(11);break}if(!o&&!s){R.s(11);break}if(x=r.startTime,"HLS"!=e.P||e.m||t!=p.V||!e.l.has(p.la)){R.s(13);break}return b(R,e.fa,14);case 14:P=R.h,.15<Math.abs(P)&&(x-=P);case 13:yl(e,t,(function(){return pl(e,t)}),null),yl(e,t,(function(){return fl(e,t,x)}),null);case 11:return b(R,yl(e,t,(function(){var r=n;e.I&&Ht(e.I,r,h,i),e.l.get(t).appendBuffer(r)}),r?r.N()[0]:null),15);case 15:k(R)}}))}function ll(e,t){var n;return I((function(r){return 1==r.g?t==(n=Ut).za?e.h?b(r,e.h.remove(0,1/0),0):r.return():b(r,yl(e,t,(function(){return dl(e,t,0,e.i.duration)}),null),4):e.m?b(r,yl(e,n.V,(function(){return dl(e,n.V,0,e.i.duration)}),null),0):r.s(0)}))}function ul(e,t,n,r,i,a,o,s,l){var u,c;return I((function(d){return 1==d.g?t==(u=Ut).za?(a||(e.h.u=n),function(e,t,n){e.l=t,e.m=n}(e.h,r,i),d.return()):(c=[],b(d,function(e,t,n,r,i){var a,o,s,l,u,c,d,p,f,h,y,g,v,m;return I((function(k){return 1==k.g?t==(a=Ut).za?k.return(!1):(o=Br(Hr(e.B.get(t))),s=jr(e.B.get(t)),l=kl(e,t,n,r),u=l.ug,c=l.Fj,d=l.Eg,p=l.codec,f=l.mimeType,h=!0,c&&e.B.has(a.V)&&(y=kl(e,a.V,n,r),g=Br(Hr(e.B.get(a.V))),v=jr(e.B.get(a.V)),h=g==y.codec&&v==y.Eg,y.ug&&y.ug.destroy()),o===p&&s===d&&h?(e.j.has(t)&&!u?(e.j.get(t).destroy(),e.j.delete(t)):!e.j.has(t)&&u?e.j.set(t,u):u&&(e.j.has(t)&&e.j.get(t).transmux!=u.transmux?(e.j.get(t).destroy(),e.j.delete(t),e.j.set(t,u)):u.destroy()),k.return(!1)):(m=!0,(e.m||c&&u&&!e.j.has(t))&&(m=!1),m&&"smooth"===e.A.codecSwitchingStrategy&&zt()?b(k,function(e,t,n,r){return yl(e,t,(function(){if(t!==Nt){if(e.B.get(t),zt()){e.j.has(t)&&(e.j.get(t).destroy(),e.j.delete(t)),r&&e.j.set(t,r);var i=n+e.A.addExtraFeaturesToSourceBuffer(n);e.l.get(t).changeType(i),e.B.set(t,n)}hl(e,t)}}),null)}(e,t,f,u),3):(u&&u.destroy(),b(k,bl(e,i),3)))):k.return(!0)}))}(e,t,o,s,l),2)):(d.h||(c.push(yl(e,t,(function(){return pl(e,t)}),null)),e.m&&c.push(yl(e,u.V,(function(){return pl(e,u.V)}),null))),a||(c.push(yl(e,t,(function(){return fl(e,t,n)}),null)),e.m&&c.push(yl(e,u.V,(function(){return fl(e,u.V,n)}),null))),0==r&&1/0==i||(c.push(yl(e,t,(function(){var n=e.l.get(t);n.appendWindowStart=0,n.appendWindowEnd=i,n.appendWindowStart=r,hl(e,t)}),null)),e.m&&c.push(yl(e,u.V,(function(){var t=u.V,n=e.l.get(t);n.appendWindowStart=0,n.appendWindowEnd=i,n.appendWindowStart=r,hl(e,t)}),null))),c.length?b(d,Promise.all(c),0):d.s(0))}))}function cl(e){I((function(t){return nl(e)||rl(e)?t.return():b(t,gl(e,(function(){nl(e)||rl(e)||e.i.clearLiveSeekableRange()})),0)}))}function dl(e,t,n,r){r<=n?hl(e,t):e.l.get(t).remove(n,r)}function pl(e,t){var n=e.l.get(t),r=n.appendWindowStart,i=n.appendWindowEnd;n.abort(),n.appendWindowStart=r,n.appendWindowEnd=i,hl(e,t)}function fl(e,t,n){0>n&&(n+=.001);var r=!0;"HLS"==e.P&&(r=!(r=al(e,t))||.15<Math.abs(r-n)),r&&(e.l.get(t).timestampOffset=n),hl(e,t)}function hl(e,t){if(!e.H){var n=e.u.get(t)[0];n&&(n.p.resolve(),vl(e,t))}}function yl(e,t,n,r){return ba(e.O),n={start:n,p:new Zi,uri:r},e.u.get(t).push(n),1==e.u.get(t).length&&ml(e,t),n.p}function gl(e,t){var n,r,i,a,o,s,u,c,d,p,f;return I((function(h){switch(h.g){case 1:for(ba(e.O),n=[],r=Array.from(e.l.keys()),i=l(r),a=i.next(),o={};!a.done;o={ready:void 0},a=i.next())s=a.value,o.ready=new Zi,u={start:function(e){return function(){return e.ready.resolve()}}(o),p:o.ready,uri:null},(c=e.u.get(s)).push(u),n.push(o.ready),1==c.length&&u.start();return E(h,2),b(h,Promise.all(n),4);case 4:_(h,3);break;case 2:throw A(h);case 3:return E(h,5,6),b(h,t(),6);case 6:for(S(h),d=l(r),p=d.next();!p.done;p=d.next())f=p.value,vl(e,f);w(h,0);break;case 5:throw new Re(2,3,3015,A(h),e.g.error||"No error in the media element",null)}}))}function vl(e,t){e.u.get(t).shift(),ml(e,t)}function ml(e,t){var n=e.u.get(t)[0];if(n)try{n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new Re(2,3,3017,t)):el(e)?n.p.reject(new Re(2,3,3015,r,e.g.error||"No error in the media element",n.uri)):n.p.reject(new Re(2,3,3024,t)),vl(e,t)}}function bl(e,t){return gl(e,(function(){return function(e,t){var n,r,i,a,o,s,u,c,d,p,f,h,y,g,v,m,k,E,_;return I((function(A){switch(A.g){case 1:if(e.H)return A.return();for(n=Ut,e.H=!0,e.m=!1,r=e.g.currentTime,i=e.g.autoplay,e.g.paused||(e.ya=!0),e.Na&&(e.g.autoplay=!1),T(A,2),e.o.Qa(),a=l(e.j.values()),o=a.next();!o.done;o=a.next())o.value.destroy();for(s=l(e.l.values()),u=s.next();!u.done;u=s.next()){c=u.value;try{e.i.removeSourceBuffer(c)}catch(e){}}return e.j.clear(),e.l.clear(),d=e.i.duration,e.G=new Zi,e.i=Js(e,e.G),b(A,e.G,4);case 4:!isNaN(d)&&d?e.i.duration=d:!isNaN(e.pa)&&e.pa&&(e.i.duration=e.pa),p=new Zi,f=e.i.sourceBuffers,h=t.size,y=0,g=function(){++y===h&&(p.resolve(),e.o.Ja(f,"addsourcebuffer",g))},e.o.D(f,"addsourcebuffer",g),v=l(t.keys()),m=v.next();case 5:return m.done?((_=t.get(n.V))&&_.isAudioMuxedInVideo&&(e.m=!0),e.m&&!e.u.has(n.V)&&e.u.set(n.V,[]),e.g.currentTime=r,b(A,p,2)):(k=m.value,E=t.get(k),b(A,$s(e,k,E,E.codecs),6));case 6:m=v.next(),A.s(5);break;case 2:S(A),e.H=!1,ba(e.O),e.o.ma(e.g,"canplaythrough",(function(){e.O.g||(e.g.autoplay=i,e.ya&&(e.ya=!1,e.g.play()))})),w(A,0)}}))}(e,t)}))}function kl(e,t,n,r){var i=!1,a=Lt("audio",(r||"").split(",")),o=Lt("video",(r||"").split(",")),s=o;"audio"==t&&(s=a),s||(s=r),r=Or(n,s);var l=e.A.forceTransmux;if((!Kt(r)||!e.F&&zr.includes(r))&&(l=!0),l&&(n=wr(e=Lr(n,s)))){var u=n();a&&o&&(i=!0),r=u.convertCodecs(t,e)}return t=Br(Hr(r)),{ug:u,Fj:i,Eg:jr(r),codec:t,mimeType:r}}(n=Qs.prototype).destroy=function(){return this.O.destroy()},n.init=function(e,t,n,r){t=void 0!==t&&t,n=void 0===n?"UNKNOWN":n,r=void 0!==r&&r;var i,a,o,s,u,c,d=this;return I((function(p){switch(p.g){case 1:return i=Ut,b(p,d.G,2);case 2:if(!nl(d)&&!rl(d)){p.s(3);break}return W("Expected MediaSource to be open during init(); reopening the media source."),d.G=new Zi,d.i=Js(d,d.G),b(p,d.G,3);case 3:d.F=t,d.P=n,d.Ma=r,d.La=!d.F&&"HLS"==d.P&&!d.Ma,d.Z.clear(),d.W=null,d.oa=null,d.T=null,d.ka=null,d.fa=new Zi,a=l(e.keys()),o=a.next();case 5:if(o.done){p.s(7);break}return s=o.value,u=e.get(s),b(p,$s(d,s,u,u.codecs),8);case 8:d.m?(d.u.set(i.V,[]),d.u.set(i.la,[])):d.u.set(s,[]),o=a.next(),p.s(5);break;case 7:(c=e.get(i.V))&&c.isAudioMuxedInVideo&&(d.m=!0),k(p)}}))},n.configure=function(e){this.A=e,this.h&&(this.h.A=e.modifyCueCallback)},n.Fb=function(){var e={total:this.H?[]:Es(this.g.buffered),audio:Es(ol(this,"audio")),video:Es(ol(this,"video")),text:[]};if(this.h){var t=this.h.g,n=this.h.h;null!=t&&null!=n&&e.text.push({start:t,end:n})}return e},n.remove=function(e,t,n){var r,i=this;return I((function(a){return 1==a.g?e==(r=Ut).za?b(a,i.h.remove(t,n),0):n>t?b(a,yl(i,e,(function(){return dl(i,e,t,n)}),null),5):a.s(0):i.m?b(a,yl(i,r.V,(function(){return dl(i,r.V,t,n)}),null),0):a.s(0)}))},n.flush=function(e){var t,n=this;return I((function(r){return 1==r.g?e==(t=Ut).za?r.return():b(r,yl(n,e,(function(){n.g.currentTime-=.001,hl(n,e)}),null),2):n.m?b(r,yl(n,t.V,(function(){var e=t.V;n.g.currentTime-=.001,hl(n,e)}),null),0):r.s(0)}))},n.endOfStream=function(e){var t=this;return I((function(n){return b(n,gl(t,(function(){nl(t)||rl(t)||(e?t.i.endOfStream(e):t.i.endOfStream())})),0)}))},n.bb=function(e){var t=this;return I((function(n){return b(n,gl(t,(function(){if(e<t.i.duration)for(var n=l(t.l.keys()),r=n.next();!r.done;r=n.next()){r=r.value;var i={start:function(){},p:new Zi,uri:null};t.u.get(r).unshift(i)}t.i.duration=e,t.pa=e})),0)}))},n.getDuration=function(){return this.i.duration};var El=e.URL.createObjectURL,Tl="sequence";function _l(e,t,n){this.i=e,this.C=t,this.o=this.l=1/0,this.h=1,this.g=this.j=null,this.A=0,this.B=!0,this.I=!1,this.H=0,this.F=void 0===n||n,this.G=0,this.u=!1,this.m=e}function Al(e,t,n,r){var i=this;this.u=r,this.g=e,this.B=t,this.h=n,this.o=new J,this.l=!1,this.F=e.readyState,this.G=this.C=this.j=0,this.m=function(e){if(!e.h.stallEnabled)return null;var t=e.h.stallSkip;return new wl(new Cl(e.g),e.h.stallThreshold,(function(){return I((function(n){if(1==n.g)return Es(e.g.buffered).length?t?(e.g.currentTime+=t,n.s(2)):b(n,e.g.play(),3):n.return();if(2!=n.g){if(!e.g)return n.return();e.g.pause(),e.g.play()}e.G++,e.u(new ta("stalldetected")),k(n)}))}))}(this),this.A=!1,this.o.D(e,"waiting",(function(){return Sl(i)})),this.i=new je((function(){Sl(i)})).ua(this.h.gapJumpTimerTime)}function Sl(e){if(0!=e.g.readyState){if(e.g.seeking){if(!e.l)return}else e.l=!1;if(!e.g.paused||e.g.currentTime==e.j&&(e.g.autoplay||e.g.currentTime!=e.j)){var t;if(e.g.readyState!=e.F&&(e.F=e.g.readyState),!(t=!e.m)){var n=(t=e.m).j,r=xl(n),i=n.g.currentTime,a=Date.now()/1e3;t.g==i&&t.m==r||(t.l=a,t.g=i,t.m=r,t.h=!1),(r=(i=a-t.l)>=t.o&&r&&!t.h)&&(t.i&&t.i(t.g,i),t.h=!0,t.g=n.g.currentTime),t=!r}t&&(t=e.g.currentTime,r=function(e,t,n){return e&&e.length&&!vs(e)&&0<=(e=Es(e).findIndex((function(e,r,i){return e.start>t&&(0==r||i[r-1].end-t<=n)})))?e:null}(n=e.g.buffered,t,e.h.gapDetectionThreshold),null==r||0==r&&!e.A||(i=n.start(r),(a=e.h.gapPadding)&&(i=Math.ceil(100*(i+a))/100),i>=e.B.ob()||.001>i-t||(0!=r&&n.end(r-1),e.g.currentTime=i,t==e.j&&(e.j=i),e.C++,e.u(new ta("gapjumped")))))}}}function wl(e,t,n){this.j=e,this.m=xl(e),this.g=e.g.currentTime,this.l=Date.now()/1e3,this.h=!1,this.o=t,this.i=n}function Cl(e){this.g=e}function xl(e){if(e.g.paused||0==e.g.playbackRate||0==e.g.buffered.length)var t=!1;else e:{t=e.g.currentTime;for(var n=(e=l(Es(e.g.buffered))).next();!n.done;n=e.next())if(!(t<(n=n.value).start-.1||t>n.end-.5)){t=!0;break e}t=!1}return t}function Pl(e,t,n,r){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?r():(t=Rl.value().get(t),n.ma(e,t,r))}(n=_l.prototype).getDuration=function(){return this.l},n.vi=function(){return this.h},n.yh=function(e){this.i=e},n.bb=function(e){this.l=e},n.Bi=function(){return this.i},n.wh=function(e){this.A=e},n.Gc=function(e){e&&!this.B&&(this.I=!0),this.B=e},n.Ce=function(e){this.o=e},n.ae=function(){return this.o},n.jg=function(e){this.C=e},n.li=function(){return this.C},n.kh=function(e,t){if(0!=e.length){var n=(Date.now()+this.A)/1e3;if(0!=(e=e.filter((function(e){return e.start+t<n}))).length){var r=e[e.length-1].end+t;this.ne(e[0].start+t),this.h=e.reduce((function(e,t){return Math.max(e,t.end-t.start)}),this.h),this.g=Math.max(this.g,r),null!=this.i&&this.F&&!this.u&&(this.i=n-this.g-this.h)}}},n.Ed=function(e){if(0!=e.length){for(var t=e[0].startTime,n=e[0].endTime,r=(Date.now()+this.A)/1e3,i=(e=l(e)).next();!i.done;i=e.next())r<(i=i.value).startTime||(t=Math.min(t,i.startTime),n=Math.max(n,i.endTime),this.h=Math.max(this.h,i.endTime-i.startTime));this.ne(t),this.g=Math.max(this.g,n),null!=this.i&&this.F&&!this.u&&(this.i=r-this.g-this.h)}},n.jh=function(e,t){this.ne(e),1/0==t||this.U()||(this.g=Math.max(this.g,t))},n.wi=function(){return this.g},n.ie=function(){this.u=!0},n.Wi=function(){return this.u},n.xh=function(e){this.m=e},n.ri=function(){return this.m},n.ne=function(e){null==this.j?this.j=e:this.I||(this.j=Math.min(this.j,e))},n.Tf=function(e){this.h=Math.max(this.h,e)},n.offset=function(e){null!=this.j&&(this.j+=e),null!=this.g&&(this.g+=e)},n.U=function(){return 1/0==this.l&&!this.B},n.yc=function(){return 1/0!=this.l&&!this.B},n.pb=function(){return Math.max(this.H,this.cc()-this.o)},n.Bh=function(e){this.H=e},n.cc=function(){return this.U()||this.yc()?Math.min(Math.max(0,(Date.now()+this.A)/1e3-this.h-this.i)+this.G,this.l):this.g?Math.min(this.g,this.l):this.l},n.qd=function(e){var t=Math.max(this.j,this.H);return 1/0==this.o?Math.ceil(1e3*t)/1e3:Math.max(t,Math.min(this.cc()-this.o+e,this.ob()))},n.Hb=function(){return this.qd(0)},n.ob=function(){return Math.max(0,this.cc()-(this.U()||this.yc()?this.C:0))},n.Kh=function(){return!(null==this.i||null!=this.g&&this.F)},n.vh=function(e){this.G=e},n.ii=function(){return this.G},F("shaka.media.PresentationTimeline",_l),_l.prototype.getAvailabilityTimeOffset=_l.prototype.ii,_l.prototype.setAvailabilityTimeOffset=_l.prototype.vh,_l.prototype.usingPresentationStartTime=_l.prototype.Kh,_l.prototype.getSeekRangeEnd=_l.prototype.ob,_l.prototype.getSeekRangeStart=_l.prototype.Hb,_l.prototype.getSafeSeekRangeStart=_l.prototype.qd,_l.prototype.getSegmentAvailabilityEnd=_l.prototype.cc,_l.prototype.setUserSeekStart=_l.prototype.Bh,_l.prototype.getSegmentAvailabilityStart=_l.prototype.pb,_l.prototype.isInProgress=_l.prototype.yc,_l.prototype.isLive=_l.prototype.U,_l.prototype.offset=_l.prototype.offset,_l.prototype.notifyMaxSegmentDuration=_l.prototype.Tf,_l.prototype.notifyMinSegmentStartTime=_l.prototype.ne,_l.prototype.getInitialProgramDateTime=_l.prototype.ri,_l.prototype.setInitialProgramDateTime=_l.prototype.xh,_l.prototype.isStartTimeLocked=_l.prototype.Wi,_l.prototype.lockStartTime=_l.prototype.ie,_l.prototype.getMaxSegmentEndTime=_l.prototype.wi,_l.prototype.notifyPeriodDuration=_l.prototype.jh,_l.prototype.notifySegments=_l.prototype.Ed,_l.prototype.notifyTimeRange=_l.prototype.kh,_l.prototype.getDelay=_l.prototype.li,_l.prototype.setDelay=_l.prototype.jg,_l.prototype.getSegmentAvailabilityDuration=_l.prototype.ae,_l.prototype.setSegmentAvailabilityDuration=_l.prototype.Ce,_l.prototype.setStatic=_l.prototype.Gc,_l.prototype.setClockOffset=_l.prototype.wh,_l.prototype.getPresentationStartTime=_l.prototype.Bi,_l.prototype.setDuration=_l.prototype.bb,_l.prototype.setPresentationStartTime=_l.prototype.yh,_l.prototype.getMaxSegmentDuration=_l.prototype.vi,_l.prototype.getDuration=_l.prototype.getDuration,Al.prototype.release=function(){this.o&&(this.o.release(),this.o=null),null!=this.i&&(this.i.stop(),this.i=null),this.m&&(this.m.release(),this.m=null),this.g=this.B=this.u=null},Al.prototype.qe=function(){this.A=!0,this.i&&this.i.ua(this.h.gapJumpTimerTime),Sl(this)},wl.prototype.release=function(){this.i=this.j=null};var Rl=new De((function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])}));function Il(e,t,n,r){var i=this;this.g=e,this.m=t,this.u=n,this.l=null,this.j=function(){return null==i.l&&(i.l=r()),i.l},this.o=!1,this.h=new J,this.i=new Nl(e),Pl(this.g,HTMLMediaElement.HAVE_METADATA,this.h,(function(){Ll(i,i.j())}))}function Dl(e){return e.o?e.g.currentTime:e.j()}function Ol(e,t){0<e.g.readyState?Ul(e.i,t):Pl(e.g,HTMLMediaElement.HAVE_METADATA,e.h,(function(){Ll(e,e.j())}))}function Ll(e,t){.001>Math.abs(e.g.currentTime-t)?Ml(e):(e.h.ma(e.g,"seeking",(function(){Ml(e)})),Ul(e.i,e.g.currentTime&&0!=e.g.currentTime?e.g.currentTime:t))}function Ml(e){e.o=!0,e.h.D(e.g,"seeking",(function(){return e.m()})),e.u(e.g.currentTime)}function Nl(e){var t=this;this.g=e,this.m=10,this.j=this.l=this.i=0,this.h=new je((function(){0>=t.i||t.g.currentTime!=t.l||t.g.currentTime===t.j?t.h.stop():(t.g.currentTime=t.j,t.i--)}))}function Ul(e,t){e.l=e.g.currentTime,e.j=t,e.i=e.m,e.g.currentTime=t,e.h.ua(.1)}function Bl(e){this.h=e,this.j=!1,this.g=null,this.i=new J}function Fl(e,t,n,r,i,a){var o=this;this.i=e,this.g=t.presentationTimeline,this.l=n,this.u=i,this.o=null,this.j=new Al(e,t.presentationTimeline,n,a),this.h=new Il(e,(function(){e:{var e=o.j;e.l=!0,e.A=!1,e.i&&e.i.ua(e.h.gapJumpTimerTime),Sl(e);var t=Dl(o.h);if(e=Hl(o,t),!Wt()&&.001<Math.abs(e-t)){if(t=!1,!qe()||qe()&&rt())t=!0;else{var n=Date.now()/1e3,r=qe()&&it()?3:1;(!o.o||o.o<n-r)&&(o.o=n,t=!0)}if(t){Ol(o.h,e),e=void 0;break e}}o.u(),e=void 0}return e}),(function(e){var t=o.j;t.g.seeking&&!t.l&&(t.l=!0,t.j=e),t.i&&t.i.ua(t.h.gapJumpTimerTime),Sl(t)}),(function(){var e=r;return null==e?e=1/0>o.g.getDuration()?o.g.Hb():o.g.ob():0>e&&(e=o.g.ob()+e),jl(o,Vl(o,e))})),this.m=new je((function(){if(0!=o.i.readyState&&!o.i.paused){var e=Dl(o.h),t=o.g.Hb(),n=o.g.ob();3>n-t&&(t=n-3),e<t&&(e=Hl(o,e),o.i.currentTime=e)}}))}function jl(e,t){var n=e.g.getDuration();return t>=n?n-e.l.durationBackoff:t}function Hl(e,t){var n=e.l.rebufferingGoal,r=e.l.safeSeekOffset,i=e.g.Hb(),a=e.g.ob(),o=e.g.getDuration();3>a-i&&(i=a-3);var s=e.g.qd(n),l=e.g.qd(r);return n=e.g.qd(n+r),t>=o?jl(e,t):t>a?a-e.l.safeSeekEndOffset:t<i?bs(e.i.buffered,l)?l:n:t>=s||bs(e.i.buffered,t)?t:n}function Vl(e,t){var n=e.g.Hb();return t<n?n:t>(e=e.g.ob())?e:t}function Gl(e){this.g=e,this.m=null,this.i=0,this.o=!1}function Kl(e){return e.g[0]||null}function zl(e,t,n){return new Gl([e=new fs(e,e+t,(function(){return n}),0,null,null,e,e,e+t)])}function Wl(e,t,n,r){this.i=e,this.h=t,this.g=n,this.reverse=r}function Yl(){Gl.call(this,[]),this.h=[]}function Zl(e){var t=this;this.g=e,this.j=!1,this.i=this.g.$d(),this.h=new je((function(){t.g.gh(.25*t.i)}))}function ql(e){e.h.stop();var t=e.j?0:e.i;if(0<=t)try{return void(e.g.$d()!=t&&e.g.mg(t))}catch(e){}e.h.ua(.25),0!=e.g.$d()&&e.g.mg(0)}function Xl(e){var t=this;this.j=e,this.h=new J,this.g=new Set,this.i=new je((function(){Ql(t,!1)})).sb(),e.paused||this.i.ua(.25),this.h.D(e,"playing",(function(){t.i.sb().ua(.25)})),this.h.D(e,"pause",(function(){t.i.stop()}))}function Ql(e,t){for(var n=e.j.currentTime,r=(e=l(e.g)).next();!r.done;r=e.next())r.value.j(n,t)}function Jl(e){ia.call(this),this.g=new Map,this.h=e}function $l(e,t,n){return!!((e=e.h()[n])&&0<e.length&&(n=e[e.length-1].end,t>=e[0].start&&t<n))}function eu(e){var t={bandwidth:e.bandwidth||0,audioSamplingRate:null,codecs:e.codecs,contentType:e.type,frameRate:null,height:null,mimeType:e.mimeType,channelsCount:null,pixelAspectRatio:null,width:null,label:null,roles:e.roles,language:null};return"video"==e.type&&(t.frameRate=e.frameRate||null,t.height=e.height||null,t.pixelAspectRatio=e.pixelAspectRatio||null,t.width=e.width||null),"audio"==e.type&&(t.audioSamplingRate=e.audioSamplingRate,t.channelsCount=e.channelsCount,t.label=e.label||null,t.language=e.language),t}function tu(e){ia.call(this),this.h=new Map,this.i=e,this.g=null}function nu(e,t){var n=t.schemeIdUri+"_"+t.id+"_"+t.startTime.toFixed(1)+"_"+t.endTime.toFixed(1);e.h.has(n)||(e.h.set(n,t),t=new ta("regionadd",new Map([["region",t]])),e.dispatchEvent(t),function(e){e.g||(e.g=new je((function(){for(var t=e.i(),n=l(e.h),r=n.next();!r.done;r=n.next()){var i=l(r.value);r=i.next().value,(i=i.next().value).endTime<t.start&&(e.h.delete(r),r=new ta("regionremove",new Map([["region",i]])),e.dispatchEvent(r))}!e.h.size&&e.g&&(e.g.stop(),e.g=null)})).ua(2))}(e))}function ru(e,t,n,r){this.m=e,this.i=t,this.l=n,this.h=new Map,this.j=new Map,this.g=null,this.o=r}function iu(e,t){e.l=t;for(var n=(e=l(e.h.values())).next();!n.done;n=e.next())n.value.g=t}function au(e,t,n){if(n=void 0!==n&&n,!e.i.segmentIndex)return Promise.resolve();if(e.g||(e.g=e.i.segmentIndex.Gb(t,!0,e.o)),!e.g)return Promise.resolve();for(n&&e.g.next(),t=[];e.h.size<e.m&&(n=e.g.next().value);){var r=!0;n.isPreload()&&null!=n.wa&&(r=!1),2==n.dc()&&(r=!1),n.Ib(!1)&&(r=!1),r&&n.Y&&t.push(ou(e,n.Y)),r&&!e.h.has(n)&&(r=new pu(e.l),t.push(fu(r,n,e.i)),e.h.set(n,r))}return uu(e),Promise.all(t)}function ou(e,t){if(!e.i.segmentIndex||t.Ib()||Array.from(e.j.keys()).some((function(e){return ps(e,t)})))return Promise.resolve();var n=new pu(e.l),r=fu(n,t,e.i);return e.j.set(t,n),r}function su(e,t){for(var n=(t=l(t.keys())).next();!n.done;n=t.next())(n=n.value)&&du(e,n)}function lu(e){su(e,e.h),su(e,e.j),e.g=null}function uu(e){for(var t=Array.from(e.h.keys()),n=l(e.j.keys()),r=n.next(),i={};!r.done;i={Nf:void 0},r=n.next())i.Nf=r.value,t.some(function(e){return function(t){return ps(t.Y,e.Nf)}}(i))||du(e,i.Nf)}function cu(e,t){e.m=t;for(var n=Array.from(e.h.keys());n.length>t;){var r=n.pop();r&&du(e,r)}uu(e)}function du(e,t){var n=e.h;t instanceof ds&&(n=e.j),e=n.get(t),n.delete(t),e&&e.abort()}function pu(e){this.g=e,this.Gd=this.pg=null}function fu(e,t,n){var r=new Uint8Array(0);return e.Gd=e.g(t,n,(function(t){return I((function(n){if(1==n.g)return r=0<r.byteLength?Pt(r,t):t,e.pg?b(n,e.pg(r),3):n.s(0);r=new Uint8Array(0),k(n)}))})),e.Gd.promise.catch((function(e){return e instanceof Re&&7001==e.code?Promise.resolve():Promise.reject(e)}))}function hu(e){var t=jr(e);return{type:t.split("/")[0],mimeType:t,codecs:e=Hr(e),language:null,height:null,width:null,channelCount:null,sampleRate:null,closedCaptions:new Map,Nd:null,colorGamut:null,frameRate:null}}function yu(e,t,n){function r(e){o=e.name;var t=e.reader;t.skip(24);var n=t.na(),r=t.na();t.skip(50),h=String(n),f=String(r),e.reader.ta()&&Ca(e)}function i(e){var t=Io(e.reader);y=t.channelCount,g=t.sampleRate,a(e.name)}function a(e){switch(e=e.toLowerCase()){case"avc1":case"avc3":u.push(e+".42E01E"),d=!0;break;case"hev1":case"hvc1":u.push(e+".1.6.L93.90"),d=!0;break;case"dvh1":case"dvhe":u.push(e+".05.04"),d=!0;break;case"vp09":u.push(e+".00.10.08"),d=!0;break;case"av01":u.push(e+".0.01M.08"),d=!0;break;case"mp4a":s.push("mp4a.40.2"),c=!0;break;case"ac-3":case"ec-3":case"ac-4":case"opus":case"flac":s.push(e),c=!0}}var o,s=[],u=[],c=!1,d=!1,p=null,f=null,h=null,y=null,g=null,v=null,m=null;if((new wa).box("moov",Ca).box("trak",Ca).box("mdia",Ca).R("mdhd",(function(e){p=Po(e.reader,e.version).language})).box("minf",Ca).box("stbl",Ca).R("stsd",xa).box("mp4a",(function(e){var t=Io(e.reader);y=t.channelCount,g=t.sampleRate,e.reader.ta()?Ca(e):a(e.name)})).box("esds",(function(e){e=e.reader;for(var t,n,r="mp4a";e.ta();){t=e.X();for(var i=e.X();128&i;)i=e.X();if(3==t)e.na(),128&(i=e.X())&&e.na(),64&i&&e.skip(e.X()),32&i&&e.na();else if(4==t)n=e.X(),e.skip(12);else if(5==t)break}n&&(r+="."+Oo(n),5==t&&e.ta()&&(31===(n=(248&(t=e.X()))>>3)&&e.ta()&&(n=32+((7&t)<<3)+((224&e.X())>>5)),r+="."+n)),s.push(r),c=!0})).box("ac-3",i).box("ec-3",i).box("ac-4",i).box("Opus",i).box("fLaC",i).box("avc1",r).box("avc3",r).box("hev1",r).box("hvc1",r).box("dva1",r).box("dvav",r).box("dvh1",r).box("dvhe",r).box("vp09",r).box("av01",r).box("avcC",(function(e){var t=o||"";switch(o){case"dvav":t="avc3";break;case"dva1":t="avc1"}(e=e.reader).skip(1),e=t+"."+Oo(e.X())+Oo(e.X())+Oo(e.X()),u.push(e),d=!0})).box("hvcC",(function(e){var t=o||"";switch(o){case"dvh1":t="hvc1";break;case"dvhe":t="hev1"}var n=e.reader;n.skip(1);var r=["","A","B","C"][(e=n.X())>>6],i=31&e,a=n.S(),s=(32&e)>>5?"H":"L";e=[n.X(),n.X(),n.X(),n.X(),n.X(),n.X()],n=n.X();for(var l=0,c=0;32>c&&(l|=1&a,31!=c);c++)l<<=1,a>>=1;for(t=t+"."+r+i+"."+Oo(l,!0),t+="."+s+n,r="",i=e.length;i--;)((s=e[i])||r)&&(r="."+s.toString(16).toUpperCase()+r);t+=r,u.push(t),d=!0})).box("dvcC",(function(e){var t=o||"";switch(o){case"hvc1":t="dvh1";break;case"hev1":t="dvhe";break;case"avc1":t="dva1";break;case"avc3":t="dvav";break;case"av01":t="dav1"}var n=e.reader;n.skip(2),e=n.X(),n=n.X(),u.push(t+"."+Lo(e>>1&127)+"."+Lo(e<<5&32|n>>3&31)),d=!0})).box("dvvC",(function(e){var t=o||"";switch(o){case"hvc1":t="dvh1";break;case"hev1":t="dvhe";break;case"avc1":t="dva1";break;case"avc3":t="dvav";break;case"av01":t="dav1"}var n=e.reader;n.skip(2),e=n.X(),n=n.X(),u.push(t+"."+Lo(e>>1&127)+"."+Lo(e<<5&32|n>>3&31)),d=!0})).R("vpcC",(function(e){var t=o||"",n=e.reader;e=n.X();var r=n.X();n=n.X()>>4&15,u.push(t+"."+Lo(e)+"."+Lo(r)+"."+Lo(n)),d=!0})).box("av1C",(function(e){var t=o||"";if("dav1"===o)t="av01";var n=e.reader;n.skip(1);var r=(e=n.X())>>>5,i=(64&(n=n.X()))>>6;u.push(t+"."+r+"."+Lo(31&e)+(n>>>7?"H":"M")+"."+Lo(2===r&&i?(32&n)>>5?12:10:i?10:8)+"."+((16&n)>>4)+"."+((8&n)>>3)+((4&n)>>2)+(3&n)+"."+Lo(1)+"."+Lo(1)+"."+Lo(1)+".0"),d=!0})).box("enca",Ra).box("encv",Pa).box("sinf",Ca).box("frma",(function(e){a(e=Do(e.reader).codec)})).box("colr",(function(e){u=u.map((function(t){if(t.startsWith("av01.")){var n=e.reader,r=n.Ba(),i=n.Cb(4),a=String.fromCharCode(i[0]);if(a+=String.fromCharCode(i[1]),a+=String.fromCharCode(i[2]),"nclx"===(a+=String.fromCharCode(i[3]))){i=n.na(),a=n.na();var o=n.na(),s=n.X()>>7,l=t.split(".");10==l.length&&(l[6]=Lo(i),l[7]=Lo(a),l[8]=Lo(o),l[9]=String(s),t=l.join("."))}n.seek(r)}return t}));var t=function(e){var t=null,n=null,r=e.Cb(4),i=String.fromCharCode(r[0]);if(i+=String.fromCharCode(r[1]),i+=String.fromCharCode(r[2]),"nclx"===(i+=String.fromCharCode(r[3]))){switch(e.na()){case 1:case 5:case 6:case 7:t="srgb";break;case 9:t="rec2020";break;case 11:case 12:t="p3"}switch(r=e.na(),e.na(),r){case 1:case 6:case 13:case 14:case 15:n="SDR";break;case 16:n="PQ";break;case 18:n="HLG"}}return{colorGamut:t,Nd:n}}(e.reader),n=t.colorGamut;v=t.Nd,m=n})).parse(e||t,!0),!s.length&&!u.length)return null;var b=c&&!d,k=new Map;if(d&&!n){n=new Qt("video/mp4"),e&&n.init(e);try{n.i(t);for(var E=l(n.j()),T=E.next();!T.done;T=E.next()){var _=T.value;k.set(_,_)}}catch(e){}n.g()}return{type:b?"audio":"video",mimeType:b?"audio/mp4":"video/mp4",codecs:gu(s.concat(u)).join(", "),language:p,height:f,width:h,channelCount:y,sampleRate:g,closedCaptions:k,Nd:v,colorGamut:m,frameRate:null}}function gu(e){for(var t=new Set,n=[],r=(e=l(e)).next();!r.done;r=e.next()){var i=Fr(r=r.value);t.has(i)||(n.push(r),t.add(i))}return t=Mt("audio",n),r=Mt("video",n),e=Mt(Nt,n),r=function(e){if(1>=e.length)return e;var t=e.find((function(e){return e.startsWith("dvav.")||e.startsWith("dva1.")||e.startsWith("dvh1.")||e.startsWith("dvhe.")||e.startsWith("dav1.")||e.startsWith("dvc1.")||e.startsWith("dvi1.")}));return t?Kt('video/mp4; codecs="'+t+'"')?[t]:e.filter((function(e){return e!=t})):e}(r),t=t.concat(r).concat(e),n.length&&!t.length?n:t}function vu(t,n,r){var i,a,o,s,l;return I((function(u){if(1==u.g)return(i=n).cryptoKey?u.s(2):b(u,i.fetchKey(),3);if(!(a=i.iv))for(a=we(new ArrayBuffer(16)),o=i.firstMediaSequenceNumber+r,s=a.byteLength-1;0<=s;s--)a[s]=255&o,o>>=8;return l="CBC"==n.blockCipherMode?{name:"AES-CBC",iv:a}:{name:"AES-CTR",counter:a,length:64},u.return(e.crypto.subtle.decrypt(l,i.cryptoKey,t))}))}function mu(e,t,n,r,i){return e=ca(e,r,i),0==t&&null==n||(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}function bu(e,t){var n=this;this.g=t,this.j=e,this.h=null,this.K=new Map,this.C=1,this.u=this.l=null,this.O=0,this.i=new Map,this.I=!1,this.P=null,this.B=!1,this.m=new ma((function(){return function(e){var t,n,r,i,a,o;return I((function(s){if(1==s.g){for(t=[],n=l(e.i.values()),r=n.next();!r.done;r=n.next())Nu(i=r.value),t.push(Uu(i)),i.ba&&(lu(i.ba),i.ba=null);for(a=l(e.o.values()),o=a.next();!o.done;o=a.next())lu(o.value);return b(s,Promise.all(t),2)}e.i.clear(),e.o.clear(),e.g=null,e.j=null,e.h=null,e.A&&e.A.stop(),e.A=null,e.H&&e.H.stop(),e.H=null,e.G=null,k(s)}))}(n)})),this.L=Date.now()/1e3,this.o=new Map,this.M={projection:null,hfov:null},this.W=0,this.T=1/0,this.F=null,this.A=new je((function(){if(n.j&&n.g)if(n.j.presentationTimeline.U()){var e=n.j.presentationTimeline.Hb(),t=n.j.presentationTimeline.ob();1<t-e?function(e,t,n){I((function(r){return nl(e)||rl(e)?r.return():b(r,gl(e,(function(){nl(e)||rl(e)||e.i.setLiveSeekableRange(t,n)})),0)}))}(n.g.aa,e,t):cl(n.g.aa)}else cl(n.g.aa),n.A&&n.A.stop()})),this.G=null,this.H=new je((function(){var e=n.g.video;!e.ended&&n.G&&(e.currentTime=n.G,n.G=null)}))}function ku(e,t){for(var n=0>e.g.gb(),r=l(e.i.values()),i=r.next();!i.done;i=r.next())(i=i.value).ja&&i.ja.ed(n),i.ba&&i.ba.ed(n);for(i=(r=l(e.o.values())).next();!i.done;i=r.next())i.value.ed(n);(n=e.i.get("video"))&&(r=n.stream)&&(t?(t=r.trickModeVideo)&&!n.fc&&(_u(e,t,!1,0,!1),n.fc=r):(t=n.fc)&&(n.fc=null,_u(e,t,!0,0,!1)))}function Eu(e,t,n,r,i,a){n=void 0!==n&&n,r=void 0===r?0:r,i=void 0!==i&&i,a=void 0!==a&&a,e.l=t,e.I&&(t.video&&_u(e,t.video,n,r,i,a),t.audio&&_u(e,t.audio,n,r,i,a))}function Tu(e,t){I((function(n){if(1==n.g)return e.F=null,e.u=t,e.I?t.segmentIndex?n.s(2):b(n,t.createSegmentIndex(),2):n.return();_u(e,t,!0,0,!1),k(n)}))}function _u(e,t,n,r,i,a){var o=e.i.get(t.type);o||t.type!=Nt?o&&(o.fc&&(t.trickModeVideo?(o.fc=t,t=t.trickModeVideo):o.fc=null),o.stream!=t||i)&&(e.o.has(t)?o.ba=e.o.get(t):o.ba&&function(e,t){t&&t!==e.i&&(lu(e),e.i=t)}(o.ba,t),t.type==Nt&&(i=Or(t.mimeType,t.codecs),tl(e.g.aa,i,e.j.sequenceMode,t.external)),!e.o.has(o.stream)&&o.stream.closeSegmentIndex&&(o.Da?(i="("+o.type+":"+o.stream.id+")",e.K.has(i)||e.K.set(i,o.stream.closeSegmentIndex)):o.stream.closeSegmentIndex()),i=o.stream.isAudioMuxedInVideo!=t.isAudioMuxedInVideo,o.stream=t,o.ja=null,o.bf=!!a,t.dependencyStream?o.nd=Su(e,t.dependencyStream):o.nd=null,i?Fu(e,!0,!1):(n?o.nc?o.Re=!0:o.Da?(o.lc=!0,o.Vd=r,o.Re=!0):(Nu(o),Lu(e,o,!0,r).catch((function(t){e.g&&e.g.onError(t)}))):o.Da||o.kb||Mu(e,o,0),function(e,t){var n,r;return I((function(i){if(1==i.g)return t.rb?(n=t.stream,r=t.rb,n.segmentIndex?i.s(2):b(i,n.createSegmentIndex(),2)):i.return();if(t.rb!=r||t.stream!=n)return i.return();var a=e.g.Rc(),o=al(e.g.aa,t.type),s=t.stream.segmentIndex.find(t.xa?t.xa.endTime:a),l=null==s?null:t.stream.segmentIndex.get(s);s=l&&l.wa?l.wa-l.Sa:null,l&&!s&&(s=(l.endTime-l.getStartTime())*(t.stream.bandwidth||0)/8),s?((l=l.Y)&&(s+=(l.wa?l.wa-l.Sa:null)||0),a=8*s/(l=e.g.getBandwidthEstimate())<(o||0)-a-e.h.rebufferingGoal||t.rb.h.g>s):a=!1,a&&t.rb.abort(),k(i)}))}(e,o).catch((function(t){e.g&&e.g.onError(t)})))):function(e,t){var n,r,i,a,o;I((function(s){switch(s.g){case 1:return n=Ut,e.O++,r=e.O,E(s,2),b(s,ll(e.g.aa,n.za),4);case 4:_(s,3);break;case 2:i=A(s),e.g&&e.g.onError(i);case 3:a=Or(t.mimeType,t.codecs),tl(e.g.aa,a,e.j.sequenceMode,t.external),(e.g.aa.ea.isTextVisible()||e.h.alwaysStreamText)&&e.O==r&&(o=Su(e,t),e.i.set(n.za,o),Mu(e,o,0)),k(s)}}))}(e,t)}function Au(e,t){t.nc||t.lc||(t.Da?(t.lc=!0,t.Vd=0):null==il(e.g.aa,t.type)?null==t.kb&&Mu(e,t,0):(Nu(t),Lu(e,t,!1,0).catch((function(t){e.g&&e.g.onError(t)}))))}function Su(e,t){var n={stream:t,type:t.type,ja:null,ba:wu(e,t),xa:null,yb:null,he:null,Ac:null,zc:null,fe:null,ge:null,fc:null,endOfStream:!1,Da:!1,kb:null,lc:!1,Vd:0,Re:!1,nc:!1,Fc:!0,bf:!1,bg:!1,sd:!1,rb:null,nd:null};return t.dependencyStream&&(n.nd=Su(e,t.dependencyStream)),n}function wu(e,t){if("video"===t.type&&e.h.disableVideoPrefetch||"audio"===t.type&&e.h.disableAudioPrefetch||t.type===Nt&&("application/cea-608"==t.mimeType||"application/cea-708"==t.mimeType)||t.type===Nt&&e.h.disableTextPrefetch)return null;if(e.o.has(t))return e.o.get(t);var n=e.i.get(t.type);return(n=n&&n.ba)&&t===n.i?n:0<e.h.segmentPrefetchLimit?new ru(e.h.segmentPrefetchLimit,t,(function(t,n,r){return Ou(t,n,r||null,e.h.retryParameters,e.g.Xb)}),0>e.g.gb()):null}function Cu(t,n){var r,i,a,o,s,u;return I((function(c){switch(c.g){case 1:if(ba(t.m),n.Da||null==n.kb||n.nc)return c.return();if(n.kb=null,!n.lc){c.s(2);break}return b(c,Lu(t,n,n.Re,n.Vd),3);case 3:return c.return();case 2:if(function(e,t){for(var n=l(e.K.entries()),r=n.next();!r.done;r=n.next()){var i=l(r.value);r=i.next().value,i=i.next().value,r.includes(t.type)&&(i(),e.K.delete(r))}}(t,n),n.stream.segmentIndex){c.s(4);break}return r=n.stream,E(c,5),b(c,n.stream.createSegmentIndex(),7);case 7:_(c,6);break;case 5:return i=A(c),b(c,Bu(t,n,i),8);case 8:return c.return();case 6:if(r!=n.stream)return r.closeSegmentIndex&&r.closeSegmentIndex(),n.Da||n.kb||Mu(t,n,0),c.return();case 4:E(c,9),a=function(t,n){if(Iu(n))return function(e,t){var n=al(e,"video")||0;Xr(e.h,t,n)}(t.g.aa,n.stream.originalId||""),null;if(n.type==Nt&&function(e){e.h&&Xr(e.h,"",0)}(t.g.aa),n.stream.isAudioMuxedInVideo)return null;var r=t.h.updateIntervalSeconds/Math.max(1,Math.abs(t.g.gb()));if(!el(t.g.aa)&&n.type!=Nt)return r/2;var i=t.g.Rc();if("audio"===n.type)for(var a=l(t.o.keys()),o=a.next();!o.done;o=a.next())(o=t.o.get(o.value)).Oa(i,!0),au(o,i);a=n.xa?n.xa.endTime:i;var s=function(e,t,n){return t==Nt?null==(e=e.h).h||e.h<n?0:e.h-Math.max(n,e.g):ks(e=ol(e,t),n)}(t.g.aa,n.type,i),u=Math.max(1,Math.max(t.h.rebufferingGoal,t.h.bufferingGoal)*t.C),c=t.j.presentationTimeline.getDuration()-a;if(o=al(t.g.aa,n.type),1e-6>c&&o)return n.endOfStream=!0,"video"==n.type&&(t=t.i.get(Nt))&&Iu(t)&&(t.endOfStream=!0),null;if(n.endOfStream=!1,s>=u)return r/2;if(u=!n.ja,o=function(e,t,n,r){if(t.ja)return(n=t.ja.current())&&t.xa&&.001>Math.abs(t.xa.startTime-n.startTime)&&(n=t.ja.next().value),n;if(t.xa||r)return n=t.xa?t.xa.endTime:r,e=0>e.g.gb(),t.stream.segmentIndex&&(t.ja=t.stream.segmentIndex.Gb(n,!1,e)),t.ja&&t.ja.next().value;r=e.j.sequenceMode?0:e.h.inaccurateManifestTolerance;var i=Math.max(n-r,0);e=0>e.g.gb();var a=null;return r&&(t.stream.segmentIndex&&(t.ja=t.stream.segmentIndex.Gb(i,!1,e)),a=t.ja&&t.ja.next().value),a||(t.stream.segmentIndex&&(t.ja=t.stream.segmentIndex.Gb(n,!1,e)),a=t.ja&&t.ja.next().value),a}(t,n,i,o),!o)return r;s=!1,u&&n.bf&&(s=!0,n.bf=!1),u=1/0;for(var d=(c=l(c=Array.from(t.i.values()))).next();!d.done;d=c.next())Iu(d=d.value)||d.ja&&!d.ja.current()||(u=Math.min(u,d.xa?d.xa.endTime:i));return a>=u+t.j.presentationTimeline.h?r:("keep"!==t.h.crossBoundaryStrategy&&function(e,t,n){if(t.type===Nt)return!1;var r=t.yb;if(!r)return!1;n=n.Y;var i=r.g!==n.g;if("reset_to_encrypted"===e.h.crossBoundaryStrategy&&(r.encrypted||n.encrypted||(i=!1),r.encrypted&&(e.h.crossBoundaryStrategy="keep")),"RESET_ON_ENCRYPTION_CHANGE"===e.h.crossBoundaryStrategy&&r.encrypted==n.encrypted&&(i=!1),i&&t.Fc){var a=e.g.video,o=a.paused;Fu(e,!0).then((function(){e.g.onEvent(new ta("boundarycrossed")),o||a.play()}))}return i}(t,n,o)||(n.ba&&n.ja&&!t.o.has(n.stream)&&(n.ba.Oa(o.startTime+.001),au(n.ba,o.startTime).catch((function(){}))),function(t,n,r,i,a){var o,s,l,u,c,d,p,f,h,y,g,v,m,T,S,w;return I((function(C){switch(C.g){case 1:if(o=Ut,s=n.stream,l=n.ja,n.Da=!0,E(C,2),2==i.dc())throw new Re(1,1,1011);return b(C,function(e,t,n,r){var i,a,o,s,l,u,c,d,p,f,h,y,g,v,m,k;return I((function(T){switch(T.g){case 1:if(i=Ut,a=null==t.xa,o=[],s=Math.max(0,Math.max(n.appendWindowStart,e.W)-.1),l=Math.min(n.appendWindowEnd,e.T)+.01,u=n.codecs||t.stream.codecs,c=Fr(u),d=jr(n.mimeType||t.stream.mimeType),(p=n.timestampOffset)==t.he&&s==t.Ac&&l==t.zc&&c==t.fe&&d==t.ge){T.s(2);break}if(f=t.fe&&t.ge&&function(e,t,n,r){if(t==Nt)var i=!1;else{i=Br(Hr(e.B.get(t)));var a=jr(e.B.get(t)),o=Or(n,r),s=e.A.forceTransmux;(!Kt(o)||!e.F&&zr.includes(o))&&(s=!0),n=Lr(n,r),s&&(s=wr(n))&&(o=(s=s()).convertCodecs(t,n),s.destroy()),t=Br(Hr(o)),o=jr(o),i=i!==t||a!==o}return!!i&&("smooth"!==e.A.codecSwitchingStrategy||!zt()||e.m)}(e.g.aa,t.type,d,u),!f){T.s(3);break}if(h=null,t.type===i.la?h=e.i.get(i.V):t.type===i.V&&(h=e.i.get(i.la)),!h){T.s(3);break}return b(T,Uu(h).catch((function(){})),5);case 5:h.yb=null,h.Ac=null,h.zc=null,Au(e,h);case 3:return b(T,xu(e,t,p,s,l,n,c,d),2);case 2:return ps(n.Y,t.yb)||(t.yb=n.Y,n.l&&n.Y&&(y=Du(e,t,n.Y),g=function(){var a,o,s,l,u,c;return I((function(d){switch(d.g){case 1:return E(d,2),b(d,y,4);case 4:return a=d.h,ba(e.m),o=null,s=new Map,l={projection:null,hfov:null},(new wa).box("moov",Ca).box("trak",Ca).box("mdia",Ca).R("mdhd",(function(e){o=Po(e.reader,e.version).timescale})).box("hdlr",(function(e){switch((e=e.reader).skip(8),e.Cc()){case"soun":s.set(i.V,o);break;case"vide":s.set(i.la,o)}o=null})).box("minf",Ca).box("stbl",Ca).R("stsd",xa).box("encv",Pa).box("avc1",Pa).box("avc3",Pa).box("hev1",Pa).box("hvc1",Pa).box("dvav",Pa).box("dva1",Pa).box("dvh1",Pa).box("dvhe",Pa).box("dvc1",Pa).box("dvi1",Pa).box("vexu",Ca).box("proj",Ca).R("prji",(function(e){e=e.reader.Cc(),l.projection=e})).box("hfov",(function(e){e=e.reader.S()/1e3,l.hfov=e})).parse(a),t.type===i.la&&function(e,t){if(e.M.projection!=t.projection||e.M.hfov!=t.hfov){if(null!=t.projection||null!=t.hfov){var n=(new Map).set("detail",t);n=new ta("spatialvideoinfo",n)}else n=new ta("nospatialvideoinfo");n.cancelable=!0,e.g.onEvent(n),e.M=t}}(e,l),s.has(t.type)?n.Y.timescale=s.get(t.type):null!=o&&(n.Y.timescale=o),u=t.stream.closedCaptions&&0<t.stream.closedCaptions.size,b(d,e.g.Fg(t.type,a),5);case 5:return b(d,sl(e.g.aa,t.type,a,null,t.stream,u,t.Fc,r),6);case 6:_(d,0);break;case 2:throw c=A(d),t.yb=null,c}}))},v=n.startTime,a&&(null!=(m=al(e.g.aa,t.type))&&(v=m)),e.g.fj(v,n.Y),o.push(g()))),k=t.xa?t.xa.i:null,n.i!=k&&o.push(function(e,t,n){var r,i;return I((function(a){return 1==a.g?t==(r=Ut).za?a.return():(t==r.la&&(e.Fa=new Zi),!e.F||(i=al(e,t))&&.1>Math.abs(i-n)?a.return():(yl(e,t,(function(){return pl(e,t)}),null),e.m&&yl(e,r.V,(function(){return pl(e,r.V)}),null),b(a,yl(e,t,(function(){return fl(e,t,n)}),null),2))):e.m?b(a,yl(e,r.V,(function(){return fl(e,r.V,n)}),null),0):a.s(0)}))}(e.g.aa,t.type,n.startTime)),b(T,Promise.all(o),0)}}))}(t,n,i,a),4);case 4:return ba(t.m),t.B?C.return():(u="video/mp4"==s.mimeType||"audio/mp4"==s.mimeType,c=e.ReadableStream,t.h.lowLatencyMode&&t.j.isLowLatency&&c&&u&&("HLS"!=t.j.type||i.m)?(p=new Uint8Array(0),h=f=!1,g=function(e){var o,l,u;return I((function(c){switch(c.g){case 1:if(f)return c.return();if(h=!0,ba(t.m),t.B)return c.return();if(E(c,2),p=function(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(p,e),o=!1,l=0,(new wa).box("mdat",(function(e){l=e.size+e.start,o=!0})).parse(p,!1,!0),!o){c.s(4);break}return u=p.subarray(0,l),p=p.subarray(l),b(c,Pu(t,n,r,s,i,u,!0,a),5);case 5:n.ba&&n.ja&&au(n.ba,i.startTime,!0);case 4:_(c,0);break;case 2:y=A(c),k(c)}}))},b(C,Du(t,n,i,g),9)):b(C,Du(t,n,i),7));case 7:return d=C.h,ba(t.m),t.B?C.return():(ba(t.m),n.lc?(n.Da=!1,Mu(t,n,0),C.return()):b(C,Pu(t,n,r,s,i,d,!1,a),6));case 9:if(v=C.h,y)throw y;if(h){C.s(10);break}return f=!0,ba(t.m),t.B?C.return():n.lc?(n.Da=!1,Mu(t,n,0),C.return()):b(C,Pu(t,n,r,s,i,v,!1,a),10);case 10:n.ba&&n.ja&&au(n.ba,i.startTime,!0);case 6:if(ba(t.m),t.B)return C.return();n.xa=i,l.next(),n.Da=!1,n.bg=!1,m=t.g.aa.Fb(),T=m[n.type],JSON.stringify(T),n.lc||(S=null,n.type===o.la?S=t.i.get(o.V):n.type===o.V&&(S=t.i.get(o.la)),S&&S.type==o.V?t.g.qe(i,n.stream,S.stream.isAudioMuxedInVideo):t.g.qe(i,n.stream,n.stream.codecs.includes(","))),Mu(t,n,0),_(C,0);break;case 2:if(w=A(C),ba(t.m,w),t.B)return C.return();if(n.Da=!1,7001==w.code)n.Da=!1,Nu(n),Mu(t,n,0),C.s(0);else{if(n.type!=o.za||!t.h.ignoreTextStreamFailures)return 3017==w.code?b(C,function(e,t,n){var r,i,a,o;return I((function(s){if(1==s.g){if(r=Array.from(e.i.values()),r.some((function(e){return e!=t&&e.bg})))return s.s(2);if(i=0===e.h.maxDisabledTime&&1011==n.code?1:e.h.maxDisabledTime,e.g.disableStream(t.stream,i))return s.return();if(e.h.avoidEvictionOnQuotaExceededError)return Mu(e,t,4),s.return();if(20<(a=Math.round(100*e.C)))e.C-=.2;else{if(!(4<a))return t.sd=!0,e.B=!0,e.g.onError(n),s.return();e.C-=.04}return t.bg=!0,o=e.g.Rc(),b(s,Ru(e,t,o),2)}Mu(e,t,4),k(s)}))}(t,n,w),0):(n.sd=!0,1==w.category&&n.ba&&du(n.ba,i),w.severity=2,b(C,Bu(t,n,w),0));t.i.delete(o.za),C.s(0)}}}))}(t,n,i,o,s).catch((function(){})),n.nd&&function(e,t,n){var r,i,a,o,s,l,u,c;I((function(d){switch(d.g){case 1:if(r=t.stream,!(a=(i=r.segmentIndex.Gb(n))&&i.next().value)){d.s(0);break}if(!(o=a.Y)||ps(o,t.yb)){d.s(3);break}return t.yb=o,E(d,4),b(d,Du(e,t,o),6);case 6:s=d.h;var p=e.g.aa;p.I&&Ht(p.I,s,0,r),_(d,3);break;case 4:throw l=A(d),t.yb=null,l;case 3:if(t.xa&&t.xa==a){d.s(0);break}return t.xa=a,E(d,8),b(d,Du(e,t,a),10);case 10:u=d.h,(p=e.g.aa).I&&Ht(p.I,u,0,r),_(d,0);break;case 8:throw c=A(d),t.xa=null,c}}))}(t,n.nd,i)),null)}(t,n),null!=a&&(Mu(t,n,a),n.sd=!1),_(c,10);break;case 9:return o=A(c),b(c,Bu(t,n,o),11);case 11:return c.return();case 10:if(s=Array.from(t.i.values()),!t.I||!s.every((function(e){return e.endOfStream}))){c.s(0);break}return b(c,t.g.aa.endOfStream(),13);case 13:ba(t.m),0!=(u=t.g.aa.getDuration())&&u<t.j.presentationTimeline.getDuration()&&t.j.presentationTimeline.bb(u),k(c)}}))}function xu(e,t,n,r,i,a,o,s){var l,u,c,d;return I((function(p){if(1==p.g)return l=Ut,u=new Map,e.l.audio&&u.set(l.V,e.l.audio),e.l.video&&u.set(l.la,e.l.video),E(p,2),t.Ac=r,t.zc=i,o&&(t.fe=o),s&&(t.ge=s),t.he=n,c=e.j.sequenceMode||"HLS"==e.j.type,b(p,ul(e.g.aa,t.type,n,r,i,c,a.mimeType||t.stream.mimeType,a.codecs||t.stream.codecs,u),4);if(2!=p.g)return _(p,0);throw d=A(p),t.Ac=null,t.zc=null,t.fe=null,t.ge=null,t.he=null,d}))}function Pu(e,t,n,r,i,a,o,s){var l,u,c,d,p,f;return o=void 0!==o&&o,s=void 0!==s&&s,I((function(h){switch(h.g){case 1:return l=r.closedCaptions&&0<r.closedCaptions.size,e.h.shouldFixTimestampOffset&&(c="video/mp4"==r.mimeType||"audio/mp4"==r.mimeType,d=null,i.Y&&(d=i.Y.timescale),(p=c&&d&&"video"===r.type&&"DASH"==e.j.type)&&(u=new wa),p&&u.box("moof",Ca).box("traf",Ca).R("tfdt",(function(n){var r,a,o,s,l;return I((function(u){return r=xo(n.reader,n.version),(a=r.baseMediaDecodeTime)?(o=-a/d,(Number(t.he)||0)<o?(s=t.Ac,l=t.zc,b(u,xu(e,t,o,s,l,i),0)):u.s(0)):u.return()}))})),p&&u.parse(a,!1,o)),b(h,Ru(e,t,n),2);case 2:return ba(e.m),f=t.Fc,t.Fc=!1,b(h,e.g.Fg(t.type,a),3);case 3:return b(h,sl(e.g.aa,t.type,a,i,r,l,f,s,o),4);case 4:ba(e.m),k(h)}}))}function Ru(e,t,n){var r,i,a,o,s,l,u,c;return I((function(d){return 1==d.g?((r=t.stream.segmentIndex)instanceof Yl&&r.Oa(e.j.presentationTimeline.pb()),i=Math.max(e.h.bufferBehind*e.C,e.j.presentationTimeline.h),null==(a=il(e.g.aa,t.type))?(e.F==t&&(e.F=null),d.return()):(o=n-a,s=e.h.evictionGoal,l=e.j.presentationTimeline.Hb(),u=e.j.presentationTimeline.ob(),c=o-i,u-l>s&&(c=Math.max(o-i,l-s-a)),c<=s?d.return():b(d,e.g.aa.remove(t.type,a,a+c),2))):4!=d.g?(ba(e.m),e.F?b(d,Ru(e,e.F,n),4):d.s(0)):(ba(e.m),void k(d))}))}function Iu(e){return e&&e.type==Nt&&("application/cea-608"==e.stream.mimeType||"application/cea-708"==e.stream.mimeType)}function Du(e,t,n,r){var i,a,o,s,l;return I((function(u){switch(u.g){case 1:if(i=n.Ib())return u.return(i);if(a=null,t.ba){var c=t.ba,d=c.h;n instanceof ds&&(d=c.j),d.has(n)?(c=d.get(n),r&&(c.pg=r),a=c.Gd):a=null}return a||(a=Ou(n,t.stream,r||null,e.h.retryParameters,e.g.Xb)),o=0,t.ja&&(o=t.ja.h),t.rb=a,b(u,a.promise,2);case 2:if(s=u.h,t.rb=null,l=s.data,!n.aesKey){u.s(3);break}return b(u,vu(l,n.aesKey,o),4);case 4:l=u.h;case 3:return u.return(l)}}))}function Ou(e,t,n,r,i,a){a=void 0!==a&&a;var o=e instanceof fs?e:void 0,s=o?1:0;return(e=mu(e.N(),e.Sa,e.wa,r,n)).contentType=t.type,i.request(ya,e,{type:s,stream:t,segment:o,isPreload:a})}function Lu(e,t,n,r){var i,a;return I((function(o){return 1==o.g?(t.lc=!1,t.Re=!1,t.Vd=0,t.nc=!0,t.xa=null,t.ja=null,t.ba&&!e.o.has(t.stream)&&lu(t.ba),r?(i=e.g.Rc(),a=e.g.aa.getDuration(),b(o,e.g.aa.remove(t.type,i+r,a),3)):b(o,ll(e.g.aa,t.type),4)):3!=o.g?(ba(e.m),n?b(o,e.g.aa.flush(t.type),3):o.s(3)):(ba(e.m),t.nc=!1,t.endOfStream=!1,t.Da||t.kb||Mu(e,t,0),void k(o))}))}function Mu(e,t,n){var r=t.type;(r!=Nt||e.i.has(r))&&(t.kb=new Fe((function(){var n;return I((function(r){return 1==r.g?(E(r,2),b(r,Cu(e,t),4)):2!=r.g?_(r,0):(n=A(r),e.g&&e.g.onError(n),void k(r))}))})).da(n))}function Nu(e){null!=e.kb&&(e.kb.stop(),e.kb=null)}function Uu(e){return I((function(t){return e.rb?b(t,e.rb.abort(),0):t.s(0)}))}function Bu(e,t,n){var r;return I((function(i){if(1==i.g)return 3024==n.code?(t.Da=!1,Nu(t),Mu(e,t,0),i.return()):b(i,Yi(e.P),2);if(ba(e.m),1===n.category&&1003!=n.code){if(t.fc)return ku(e,!1),i.return();r=0===e.h.maxDisabledTime&&1011==n.code?1:e.h.maxDisabledTime,n.handled=e.g.disableStream(t.stream,r),n.handled&&(n.severity=1)}n.handled&&1011==n.code||e.g.onError(n),n.handled||e.h.failureCallback(n),k(i)}))}function Fu(e,t,n){var r,i,a,o,s,l;return t=void 0!==t&&t,n=void 0===n||n,I((function(u){if(1==u.g){if(r=Date.now()/1e3,i=e.h.minTimeBetweenRecoveries,!t){if(!e.h.allowMediaSourceRecoveries||r-e.L<i)return u.return(!1);e.L=r}return a=Ut,(o=e.i.get(a.V))&&(o.yb=null,o.Ac=null,o.zc=null,n&&Au(e,o),Uu(o).catch((function(){})),o.ja&&o.ja.dg()),(s=e.i.get(a.la))&&(s.yb=null,s.Ac=null,s.zc=null,n&&Au(e,s),Uu(s).catch((function(){})),s.ja&&s.ja.dg()),l=new Map,e.l.audio&&l.set(a.V,e.l.audio),e.l.video&&l.set(a.la,e.l.video),b(u,bl(e.g.aa,l),2)}return!s||s.nc||s.Da||s.kb||Mu(e,s,0),!o||o.nc||o.Da||o.kb||Mu(e,o,0),u.return(!0)}))}function ju(e){if("keep"!==e.h.crossBoundaryStrategy){e.H.stop();var t=e.g.Rc(),n=e.i.get("video")||e.i.get("audio");n&&(n=n.yb)&&null!==n.g&&(0>(t=n.g-t)||1<t||(e.G=n.g+.01,e.H.da(t)))}}function Hu(){}function Vu(e,t,n,r,i){var a,o=i in r,s=o?n.constructor==Object&&0==Object.keys(r).length:n.constructor==Object&&0==Object.keys(n).length,l=o||s,u=!0;for(a in t){var c=i+"."+a,d=o?r[i]:n[a];l||a in n?void 0===t[a]?void 0===d||l?delete e[a]:e[a]=vn(d):s?e[a]=t[a]:d.constructor==Object&&t[a]&&t[a].constructor==Object?(e[a]||(e[a]=vn(d)),c=Vu(e[a],t[a],d,r,c),u=u&&c):typeof t[a]!=typeof d||null==t[a]||"function"!=typeof t[a]&&t[a].constructor!=d.constructor?(W("Invalid config, wrong type for "+c),u=!1):("function"==typeof n[a]&&n[a].length!=t[a].length&&Y("Unexpected number of arguments for "+c),e[a]=t[a]):(W("Invalid config, unrecognized key "+c),u=!1)}return u}function Gu(e,t){for(var n={},r=n,i=0,a=0;!(0>(i=e.indexOf(".",i)));)0!=i&&"\\"==e[i-1]||(r[a=e.substring(a,i).replace(/\\\./g,".")]={},r=r[a],a=i+1),i+=1;return r[e.substring(a).replace(/\\\./g,".")]=t,n}function Ku(e,t){return e&&t}function zu(e,t){function n(e){return e&&"object"==typeof e&&!Array.isArray(e)}return e=function e(t,r){return Object.keys(t).reduce((function(i,a){var o=t[a];return r.hasOwnProperty(a)?o instanceof HTMLElement&&r[a]instanceof HTMLElement?o.isEqualNode(r[a])||(i[a]=o):n(o)&&n(r[a])?(o=e(o,r[a]),(0<Object.keys(o).length||!n(o))&&(i[a]=o)):Array.isArray(o)&&Array.isArray(r[a])?ln(o,r[a])||(i[a]=o):Number.isNaN(o)&&Number.isNaN(r[a])||o!==r[a]&&(i[a]=o):i[a]=o,i}),{})}(e,t),function e(t){for(var r=l(Object.keys(t)),i=r.next();!i.done;i=r.next())if(!(t[i=i.value]instanceof HTMLElement))if(n(t[i])&&0===Object.keys(t[i]).length)delete t[i];else{var a=t[i];Array.isArray(a)&&0===a.length||"function"==typeof t[i]?delete t[i]:n(t[i])&&(e(t[i]),0===Object.keys(t[i]).length&&delete t[i])}}(e),e}function Wu(){}function Yu(e){return new se(e=vt(e)).nb}function Zu(e,t,n){function r(e){xe(a).setUint32(o,e.byteLength,!0),o+=4,a.set(we(e),o),o+=e.byteLength}if(!n||!n.byteLength)throw new Re(2,6,6015);var i;i="string"==typeof t?bt(t,!0):t,e=bt(e=vt(e),!0);var a=new Uint8Array(12+e.byteLength+i.byteLength+n.byteLength),o=0;return r(e),r(i),r(n),a}function qu(e,t,n){return"skd"!==t?e:(t=n.serverCertificate,Zu(e,n=vt(e).split("skd://").pop(),t))}function Xu(e,t){2===e&&(e=t.drmInfo)&&Ne(e.keySystem)&&(t.headers["Content-Type"]="application/octet-stream")}function Qu(){this.g=null}function Ju(){}function $u(){var t=1/0;navigator.connection&&navigator.connection.saveData&&(t=360);var n={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,persistentSessionOnlinePlayback:!1,persistentSessionsMetadata:[],initDataTransform:function(t,n,r){return"apple"===e.shakaMediaKeysPolyfill&&"skd"==n&&(n=r.serverCertificate,t=Zu(t,r=Yu(t),n)),t},logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[],keySystemsMapping:{},parseInbandPsshEnabled:Ke(),minHdcpVersion:"",ignoreDuplicateInitData:!ot("Tizen 2"),defaultAudioRobustnessForWidevine:"SW_SECURE_CRYPTO",defaultVideoRobustnessForWidevine:"SW_SECURE_DECODE"};(Ke()||$e())&&n.preferredKeySystems.push("com.microsoft.playready");var r="reload",i=!1;!zt()||ze()||$e()||Je()||Ye()&&79===Xe()||qe()&&!rt()&&!it()||nt()&&Ge()||(r="smooth",i=!0),i={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,disableIFrames:!1,defaultPresentationDelay:0,segmentRelativeVttTiming:!1,raiseFatalErrorOnManifestUpdateRequestFailure:!1,continueLoadingWhenPaused:!0,ignoreSupplementalCodecs:!1,updatePeriod:-1,ignoreDrmInfo:!1,dash:{clockSyncUri:"",disableXlinkProcessing:!0,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:94ce86fb-07ff-4f43-adb8-93d2fa968ca2":"com.apple.fps","urn:uuid:3d5e6d35-9b9a-41e8-b843-dd3c6e72c42c":"com.huawei.wiseplay"},manifestPreprocessor:nc,manifestPreprocessorTXml:rc,sequenceMode:!1,multiTypeVariantsAllowed:i,useStreamOnceInPeriodFlattening:!1,enableFastSwitching:!0},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E",ignoreManifestProgramDateTime:!1,ignoreManifestProgramDateTimeForTypes:[],mediaPlaylistFullMimeType:'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',liveSegmentsDelay:3,sequenceMode:ut(),ignoreManifestTimestampsInSegmentsMode:!1,disableCodecGuessing:!1,disableClosedCaptionsDetection:!1,allowLowLatencyByteRangeOptimization:!0,allowRangeRequestsToGuessMimeType:!1},mss:{manifestPreprocessor:nc,manifestPreprocessorTXml:rc,sequenceMode:!1,keySystemsBySystemId:{"9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready"}}};var a={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},failureCallback:function(e){return Ku([e])},rebufferingGoal:0,bufferingGoal:10,bufferBehind:30,evictionGoal:1,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.5,gapPadding:0,gapJumpTimerTime:.25,durationBackoff:1,safeSeekOffset:5,safeSeekEndOffset:0,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsForFairPlay:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,forceHTTP:!1,forceHTTPS:!1,minBytesForProgressEvents:16e3,preferNativeDash:!1,preferNativeHls:!1,updateIntervalSeconds:1,observeQualityChanges:!1,maxDisabledTime:30,segmentPrefetchLimit:1,prefetchAudioLanguages:[],disableAudioPrefetch:!1,disableTextPrefetch:!1,disableVideoPrefetch:!1,liveSync:{enabled:!1,targetLatency:.5,targetLatencyTolerance:.5,maxPlaybackRate:1.1,minPlaybackRate:.95,panicMode:!1,panicThreshold:60,dynamicTargetLatency:{enabled:!1,stabilityThreshold:60,rebufferIncrement:.5,maxAttempts:10,maxLatency:4,minLatency:1}},allowMediaSourceRecoveries:!0,minTimeBetweenRecoveries:5,vodDynamicPlaybackRate:!1,vodDynamicPlaybackRateLowBufferRate:.95,vodDynamicPlaybackRateBufferRatio:.5,preloadNextUrlWindow:30,loadTimeout:30,clearDecodingCache:$e()||Je(),dontChooseCodecs:!1,shouldFixTimestampOffset:Ye()||ze(),avoidEvictionOnQuotaExceededError:!1,crossBoundaryStrategy:"keep"};(Ye()||ze()||qe()||et())&&(a.stallSkip=0),(navigator.userAgent.match(/Edge\//)||Ke())&&(a.gapPadding=.01),ze()&&(a.gapPadding=2),Ze()&&(a.crossBoundaryStrategy="reset"),We()&&(a.crossBoundaryStrategy="reset_to_encrypted");var o={trackSelectionCallback:function(e){return I((function(t){return t.return(e)}))},downloadSizeCallback:function(e){var t;return I((function(n){return 1==n.g?navigator.storage&&navigator.storage.estimate?b(n,navigator.storage.estimate(),3):n.return(!0):(t=n.h,n.return(t.usage+e<.95*t.quota))}))},progressCallback:function(e,t){return Ku([e,t])},usePersistentLicense:!0,numberOfParallelDownloads:5};t={enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:t,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0,minChannelsCount:0,maxChannelsCount:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5},restrictToElementSize:!1,restrictToScreenSize:!1,ignoreDevicePixelRatio:!1,clearBufferSwitch:!1,safeMarginSwitch:0,cacheLoadThreshold:20,minTimeToSwitch:Qe()?.5:0,preferNetworkInformationBandwidth:!1},r={codecSwitchingStrategy:r,addExtraFeaturesToSourceBuffer:function(e){return Ku([e],"")},forceTransmux:!1,insertFakeEncryptionInInit:!0,modifyCueCallback:function(e,t){return Ku([e,t])},dispatchAllEmsgBoxes:!1};var s=!1,c=!1,d=!0;at()&&(c=s=!0,d=!1);var p={drm:n,manifest:i,streaming:a,mediaSource:r,offline:o,abrFactory:function(){return new Vi},adaptationSetCriteriaFactory:function(){return new(Function.prototype.bind.apply(Qu,[null].concat(u(D.apply(0,arguments)))))},abr:t,autoShowText:3,preferredAudioLanguage:"",preferredAudioLabel:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoHdrLevel:"AUTO",preferredVideoLayout:"",preferredVideoLabel:"",preferredVideoCodecs:[],preferredAudioCodecs:[],preferredTextFormats:[],preferForcedSubs:!1,preferSpatialAudio:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0,minChannelsCount:0,maxChannelsCount:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayer:{captionsUpdatePeriod:.25,fontScaleFactor:1},textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",rtpSafetyFactor:5,useHeaders:!1,includeKeys:[],version:1},cmsd:{enabled:!0,applyMaximumSuggestedBitrate:!0,estimatedThroughputWeightRatio:.5},lcevc:{enabled:!1,dynamicPerformanceScaling:!0,logLevel:0,drawLogo:!1,poster:!0},ads:{customPlayheadTracker:s,skipPlayDetection:c,supportsMultipleMediaElements:d,disableHLSInterstitial:!1,disableDASHInterstitial:!1,allowPreloadOnDomElements:!0},ignoreHardwareResolution:!1};return o.trackSelectionCallback=function(e){return I((function(t){return t.return(function(e,t,n){var r=n;"AUTO"==r&&(n=e.some((function(e){return!(!e.hdr||"HLG"!=e.hdr)})),r=dt(n));var i=e.filter((function(e){return!("variant"!=e.type||e.hdr&&e.hdr!=r)}));n=[];var a=di(t,i.map((function(e){return e.language})));a&&(n=i.filter((function(e){return si(e.language)==a}))),0==n.length&&(n=i.filter((function(e){return e.primary}))),0==n.length&&(i.map((function(e){return e.language})),n=i);var o=n.filter((function(e){return e.height&&480>=e.height}));for(o.length&&(o.sort((function(e,t){return t.height-e.height})),n=o.filter((function(e){return e.height==o[0].height}))),t=[],n.length&&(i=Math.floor(n.length/2),n.sort((function(e,t){return e.bandwidth-t.bandwidth})),t.push(n[i])),e=l(e),n=e.next();!n.done;n=e.next())(n=n.value).type!=Nt&&"image"!=n.type||t.push(n);return t}(e,p.preferredAudioLanguage,p.preferredVideoHdrLevel))}))},p}function ec(){return{streaming:{inaccurateManifestTolerance:0,segmentPrefetchLimit:2,updateIntervalSeconds:.1,maxDisabledTime:1,retryParameters:{baseDelay:100}},manifest:{dash:{autoCorrectDrift:!1},retryParameters:{baseDelay:100}},drm:{retryParameters:{baseDelay:100}}}}function tc(e,t,n){var r={".drm.keySystemsMapping":"",".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:[],audioRobustness:[],sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:"",headers:{}}};return Vu(e,t,n||$u(),r,"")}function nc(e){return Ku([e],e)}function rc(e){return Ku([e],e)}function ic(){this.g=null,this.h=[]}function ac(e,t){var n=0;e.g&&e.g.state==t&&(n+=e.g.duration);for(var r=(e=l(e.h)).next();!r.done;r=e.next())n+=(r=r.value).state==t?r.duration:0;return n}function oc(){this.i=this.h=null,this.g=[]}function sc(e,t,n){e.i!=t&&(e.i=t,e.g.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null}))}function lc(){this.mc=this.bh=this.u=this.A=this.I=this.B=this.o=this.j=this.H=this.C=this.i=this.P=this.T=this.L=this.M=this.O=this.l=this.m=NaN,this.K=0,this.F=this.G=NaN,this.g=new ic,this.h=new oc}function uc(e,t,n,r){ia.call(this),this.O=e,this.Z=t,this.Fa=r.networkingEngine,this.B=n,this.o=null,this.ya=0,this.Ma=r.Lc,this.F=r.Zi,this.Na=r.$i,this.g=r.config,this.l=this.G=this.h=null,this.pa=!1,this.H=r.kj,this.sa=!1,this.i=null,this.ka=!1,this.j=this.C=null,this.ea=!1,this.M=new Map,this.Aa=!1,this.Ga=r.jj,this.$=new lc,this.oa=new Zi,this.m=new Zi,this.P=null,this.u=!1,this.fa=r.Uh,this.W=this.K=null,this.La=r.Th,this.T=!1,this.L=[],this.I=[],this.A=!0}function cc(e,t,n){(e=t?e.I:e.L)?e.push(n):n()}function dc(e,t){if(e.P=t,e.T=!0,e.L)for(var n=(t=l(e.L)).next();!n.done;n=t.next())(n=n.value)();e.L=null}function pc(e){if(e.u)throw new Re(2,7,7003)}function fc(e,t){e.dispatchEvent(new ta("onstatechange",(new Map).set("state",t)))}function hc(e,t){var n,r,i,a;return I((function(o){switch(o.g){case 1:if(!e.h||e.i)return o.return();if(fc(e,"drm-engine"),e.ya=Date.now()/1e3,e.i=e.Ma(),e.F.h=e.i,e.i.configure(e.g.drm,(function(){return e.A})),!mo(e.F,e.h)){o.s(2);break}return n=new ta("trackschanged",void 0),b(o,Promise.resolve(),3);case 3:pc(e),e.dispatchEvent(n);case 2:return r=Di(e.h.variants),i=!0,e.h&&e.h.presentationTimeline&&"HLS"!=e.h.type&&(i=e.h.presentationTimeline.U()),b(o,ja(e.i,r,e.h.offlineSessionIds,i),4);case 4:if(pc(e),!t){o.s(5);break}return b(o,e.i.Lb(t),6);case 6:pc(e);case 5:return b(o,vo(e.F,e.h),7);case 7:if(!o.h){o.s(0);break}return a=new ta("trackschanged",void 0),b(o,Promise.resolve(),9);case 9:e.dispatchEvent(a),k(o)}}))}function yc(e,t,n){var r,i,a,o,s;return I((function(l){return 1==l.g?(r=e.g.streaming.segmentPrefetchLimit||2,i=new ru(r,t,(function(t,n,r){return Ou(t,n,r||null,e.g.streaming.retryParameters,e.Fa,e.A)}),!1),e.M.set(t.id,i),t.segmentIndex?l.s(2):b(l,t.createSegmentIndex(),2)):(a=e.B||0,o=t.segmentIndex.Gb(a),s=null,o&&((s=o.current())||(s=o.next().value)),s||(s=Kl(t.segmentIndex)),s?n?s.Y?b(l,ou(i,s.Y),0):l.s(0):b(l,au(i,s.startTime),0):l.s(0))}))}function gc(e,t){ia.call(this);var n=this;this.i=e,this.l=t,this.g=new Map,this.m=[{Jc:null,Ic:bc,xc:function(e,t){return vc(n,"enter",e,t)}},{Jc:mc,Ic:bc,xc:function(e,t){return vc(n,"enter",e,t)}},{Jc:kc,Ic:bc,xc:function(e,t){return vc(n,"enter",e,t)}},{Jc:bc,Ic:mc,xc:function(e,t){return vc(n,"exit",e,t)}},{Jc:bc,Ic:kc,xc:function(e,t){return vc(n,"exit",e,t)}},{Jc:mc,Ic:kc,xc:function(e,t){t?vc(n,"skip",e,t):(vc(n,"enter",e,t),vc(n,"exit",e,t))}},{Jc:kc,Ic:mc,xc:function(e,t){return vc(n,"skip",e,t)}}],this.h=new J,this.h.D(this.i,"regionremove",(function(e){n.g.delete(e.region)}))}function vc(e,t,n,r){t=new ta(t,new Map([["region",n],["seeking",r]])),e.dispatchEvent(t)}Il.prototype.release=function(){this.h&&(this.h.release(),this.h=null),null!=this.i&&(this.i.release(),this.i=null),this.m=function(){},this.g=null},Nl.prototype.release=function(){this.h&&(this.h.stop(),this.h=null),this.g=null},(n=Bl.prototype).ready=function(){var e=this;Pl(this.h,HTMLMediaElement.HAVE_CURRENT_DATA,this.i,(function(){!function(){if(null==e.g||0==e.g&&1/0!=e.h.duration)e.j=!0;else{var t=e.h.currentTime,n=e.g;0>e.g&&(n=Math.max(0,t+e.g)),t!=n?(e.i.ma(e.h,"seeking",(function(){e.j=!0})),e.h.currentTime=n):e.j=!0}}()}))},n.release=function(){this.i&&(this.i.release(),this.i=null),this.h=null},n.af=function(e){this.g=this.j?this.g:e},n.Od=function(){return(this.j?this.h.currentTime:this.g)||0},n.Ag=function(){return 0},n.zg=function(){return 0},n.ih=function(){},(n=Fl.prototype).ready=function(){this.m.ua(.25)},n.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.m&&(this.m.stop(),this.m=null),this.i=this.h=this.g=this.l=null,this.u=function(){}},n.af=function(e){Ol(this.h,e)},n.Od=function(){var e=Dl(this.h);return 0<this.i.readyState&&!this.i.paused?Vl(this,e):e},n.Ag=function(){return this.j.G},n.zg=function(){return this.j.C},n.ih=function(){this.j.qe()},(n=Gl.prototype).getNumReferences=function(){return this.g.length},n.getNumEvicted=function(){return this.i},n.release=function(){this.o||(this.g=[],this.m&&this.m.stop(),this.m=null)},n.bj=function(){this.o=!0},n.Eb=function(e){for(var t=l(this.g),n=t.next();!n.done;n=t.next())e(n.value)},n.find=function(e){for(var t=this.g.length-1,n=t;0<=n;--n){var r=this.g[n],i=n<t?this.g[n+1].startTime:r.endTime;if(e>=r.startTime&&e<i)return n+this.i}return this.g.length&&e<this.g[0].startTime?this.i:null},n.get=function(e){return 0==this.g.length||0>(e-=this.i)||e>=this.g.length?null:this.g[e]},n.offset=function(e){if(!this.o)for(var t=l(this.g),n=t.next();!n.done;n=t.next())n.value.offset(e)},n.ke=function(e){if(!this.o&&e.length){var t=Math.round(1e3*e[0].startTime)/1e3;this.g=this.g.filter((function(e){return Math.round(1e3*e.startTime)/1e3<t})),this.g.push.apply(this.g,u(e))}},n.Bd=function(e,t){var n=this;e=e.filter((function(e){return e.endTime>t&&(0==n.g.length||e.endTime>n.g[0].startTime)})),this.ke(e),this.Oa(t)},n.Oa=function(e){if(!this.o){var t=this.g.length;this.g=this.g.filter((function(t){return t.endTime>e})),this.i+=t-this.g.length}},n.Oc=function(e,t,n){if(n=void 0!==n&&n,!this.o){for(;this.g.length&&this.g[this.g.length-1].startTime>=t;)this.g.pop();for(;this.g.length&&this.g[0].endTime<=e;)this.g.shift(),n||this.i++;0!=this.g.length&&((t=new fs((e=this.g[this.g.length-1]).startTime,t,e.C,e.Sa,e.wa,e.Y,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd,e.g,e.tilesLayout,e.B,e.h,e.status,e.aesKey)).mimeType=e.mimeType,t.codecs=e.codecs,t.i=e.i,this.g[this.g.length-1]=t)}},n.Ie=function(e,t){var n=this;this.o||(this.m&&this.m.stop(),this.m=new je((function(){var e=t();e?n.g.push.apply(n.g,u(e)):(n.m.stop(),n.m=null)})),this.m.ua(e))},Gl.prototype[Symbol.iterator]=function(){return this.Gb(0)},Gl.prototype.Gb=function(e,t,n){t=void 0!==t&&t,n=void 0!==n&&n;var r=this.find(e);if(null==r)return null;var i=this.get(r);n?r++:r--;var a=-1;if(i&&0<i.g.length)for(var o=i.g.length-1;0<=o;--o){var s=i.g[o];if(e>=s.startTime&&e<s.endTime){if(!t){for(;o&&!s.l;)o--,s=i.g[o];if(!s.l)return W("No independent partial segment found!"),null}n?r--:r++,a=o-1;break}}return new Wl(this,r,a,n)},F("shaka.media.SegmentIndex",Gl),Gl.forSingleSegment=zl,Gl.prototype.getIteratorForTime=Gl.prototype.Gb,Gl.prototype.updateEvery=Gl.prototype.Ie,Gl.prototype.fit=Gl.prototype.Oc,Gl.prototype.evict=Gl.prototype.Oa,Gl.prototype.mergeAndEvict=Gl.prototype.Bd,Gl.prototype.offset=Gl.prototype.offset,Gl.prototype.get=Gl.prototype.get,Gl.prototype.find=Gl.prototype.find,Gl.prototype.markImmutable=Gl.prototype.bj,Gl.prototype.release=Gl.prototype.release,Gl.prototype.getNumEvicted=Gl.prototype.getNumEvicted,Gl.prototype.getNumReferences=Gl.prototype.getNumReferences,(n=Wl.prototype).ed=function(e){this.reverse=e},n.di=function(){return this.h},n.current=function(){var e=this.i.get(this.h);return e&&0<e.g.length&&e.A&&this.g>=e.g.length&&(this.h++,this.g=0,e=this.i.get(this.h)),e&&0<e.g.length?e.g[this.g]:e},n.next=function(){var e=this.i.get(this.h);return this.reverse?e&&0<e.g.length?(this.g--,0>this.g&&(this.h--,this.g=(e=this.i.get(this.h))&&0<e.g.length?e.g.length-1:0)):(this.h--,this.g=0):e&&0<e.g.length?(this.g++,e.A&&this.g==e.g.length&&(this.h++,this.g=0)):(this.h++,this.g=0),{value:e=this.current(),done:!e}},n.dg=function(){var e=this.current();if(e.o&&!e.l&&(e=this.i.get(this.h))&&0<e.g.length)for(var t=e.g[this.g];t.l&&!(0>=this.g);)this.g--,t=e.g[this.g]},F("shaka.media.SegmentIterator",Wl),Wl.prototype.resetToLastIndependent=Wl.prototype.dg,Wl.prototype.next=Wl.prototype.next,Wl.prototype.current=Wl.prototype.current,Wl.prototype.currentPosition=Wl.prototype.di,Wl.prototype.setReverse=Wl.prototype.ed,y(Yl,Gl),(n=Yl.prototype).clone=function(){var e=new Yl;return e.h=this.h.slice(),e.i=this.i,e},n.release=function(){for(var e=l(this.h),t=e.next();!t.done;t=e.next())t.value.release();this.h=[]},n.Eb=function(e){for(var t=l(this.h),n=t.next();!n.done;n=t.next())n.value.Eb(e)},n.find=function(e){for(var t=this.i,n=l(this.h),r=n.next();!r.done;r=n.next()){var i=(r=r.value).find(e);if(null!=i)return i+t;t+=r.getNumEvicted()+r.getNumReferences()}return null},n.get=function(e){for(var t=this.i,n=l(this.h),r=n.next();!r.done;r=n.next()){var i=(r=r.value).get(e-t);if(i)return i;i=r.getNumReferences(),t+=r.getNumEvicted()+i}return null},n.offset=function(){},n.ke=function(){},n.Oa=function(e){for(var t=l(this.h),n=t.next();!n.done;n=t.next())n.value.Oa(e);for(;1<this.h.length&&0==this.h[0].getNumReferences();)e=this.h.shift(),this.i+=e.getNumEvicted(),e.release()},n.Bd=function(){},n.Oc=function(){},n.Ie=function(){},F("shaka.media.MetaSegmentIndex",Yl),Yl.prototype.updateEvery=Yl.prototype.Ie,Yl.prototype.fit=Yl.prototype.Oc,Yl.prototype.mergeAndEvict=Yl.prototype.Bd,Yl.prototype.evict=Yl.prototype.Oa,Yl.prototype.merge=Yl.prototype.ke,Yl.prototype.offset=Yl.prototype.offset,Yl.prototype.get=Yl.prototype.get,Yl.prototype.find=Yl.prototype.find,Yl.prototype.forEachTopLevelReference=Yl.prototype.Eb,Yl.prototype.release=Yl.prototype.release,Zl.prototype.release=function(){this.set(this.sc()),this.h&&(this.h.stop(),this.h=null),this.g=null},Zl.prototype.set=function(e){this.i=e,ql(this)},Zl.prototype.sc=function(){return this.g.sc()},Xl.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.i.stop();for(var e=l(this.g),t=e.next();!t.done;t=e.next())t.value.release();this.g.clear()},y(Jl,ia),Jl.prototype.release=function(){this.g.clear(),ia.prototype.release.call(this)},Jl.prototype.j=function(e){for(var t=l(this.g.values()),n=t.next();!n.done;n=t.next()){var r=(n=n.value).mf;e:{for(var i=n.Jd,a=i.length-1;0<=a;a--){var o=i[a];if(o.position<=e){i=o.Wc;break e}}i=null}a=i&&!(r===i||r&&i&&r.bandwidth==i.bandwidth&&r.audioSamplingRate==i.audioSamplingRate&&r.codecs==i.codecs&&r.contentType==i.contentType&&r.frameRate==i.frameRate&&r.height==i.height&&r.mimeType==i.mimeType&&r.channelsCount==i.channelsCount&&r.pixelAspectRatio==i.pixelAspectRatio&&r.width==i.width),o=i&&r&&i.label&&r.label&&r.label!==i.label;var s=i&&r&&i.language&&r.language&&r.language!==i.language;r=i&&r&&i.roles&&r.roles&&!un(r.roles,i.roles),(o||s||r)&&$l(this,e,i.contentType)&&(n.mf=i,r=new ta("audiotrackchange",new Map([["quality",i],["position",e]])),this.dispatchEvent(r)),a&&$l(this,e,i.contentType)&&(n.mf=i,JSON.stringify(i),n=new ta("qualitychange",new Map([["quality",i],["position",e]])),this.dispatchEvent(n))}},y(tu,ia),tu.prototype.release=function(){this.h.clear(),this.g&&(this.g.stop(),this.g=null),ia.prototype.release.call(this)},ru.prototype.Oa=function(e,t){t=void 0!==t&&t;for(var n=l(this.h.keys()),r=n.next();!r.done;r=n.next())e>(r=r.value).endTime&&du(this,r);t&&uu(this)},ru.prototype.ed=function(e){this.o=e,this.g&&this.g.ed(e)},pu.prototype.abort=function(){this.Gd&&this.Gd.abort()},(n=bu.prototype).destroy=function(){return this.m.destroy()},n.configure=function(e){if(this.h=e,this.P=new Wi({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0,stallTimeout:0,connectionTimeout:0},!0),e.disableAudioPrefetch){var t=this.i.get("audio");t&&t.ba&&(lu(t.ba),t.ba=null);for(var n=(t=l(this.o.keys())).next();!n.done;n=t.next())n=n.value,lu(this.o.get(n)),this.o.delete(n)}for(e.disableTextPrefetch&&(t=this.i.get(Nt))&&t.ba&&(lu(t.ba),t.ba=null),e.disableVideoPrefetch&&(t=this.i.get("video"))&&t.ba&&(lu(t.ba),t.ba=null),n=(t=l(this.i.keys())).next();!n.done;n=t.next())(n=this.i.get(n.value)).ba?(cu(n.ba,e.segmentPrefetchLimit),0<e.segmentPrefetchLimit||(lu(n.ba),n.ba=null)):0<e.segmentPrefetchLimit&&(n.ba=wu(this,n.stream));e.disableAudioPrefetch||function(e){for(var t=e.h.segmentPrefetchLimit,n=e.h.prefetchAudioLanguages,r=l(e.j.variants),i=r.next(),a={};!i.done;a={wb:void 0},i=r.next())if(a.wb=i.value,a.wb.audio)if(e.o.has(a.wb.audio)){if(cu(i=e.o.get(a.wb.audio),t),!(0<t&&n.some(function(e){return function(t){return ii(e.wb.audio.language,t)}}(a)))){var o=e.i.get(a.wb.audio.type);i!==(o&&o.ba)&&lu(i),e.o.delete(a.wb.audio)}}else 0>=t||!n.some(function(e){return function(t){return ii(e.wb.audio.language,t)}}(a))||!(i=wu(e,a.wb.audio))||(a.wb.audio.segmentIndex||a.wb.audio.createSegmentIndex(),e.o.set(a.wb.audio,i))}(this)},n.start=function(e){var t=this;return I((function(n){if(1==n.g)return b(n,function(e,t){var n,r,i,a,o,s,u,c,d;return I((function(p){if(1==p.g){if(n=Ut,!e.l)throw new Re(2,5,5006);return r=new Map,i=new Set,e.l.audio&&(r.set(n.V,e.l.audio),i.add(e.l.audio)),e.l.video&&(r.set(n.la,e.l.video),i.add(e.l.video)),e.u&&(r.set(n.za,e.u),i.add(e.u)),b(p,e.g.aa.init(r,e.j.sequenceMode,e.j.type,e.j.ignoreManifestTimestampsInSegmentsMode),2)}for(ba(e.m),e.updateDuration(),a=l(r.keys()),o=a.next();!o.done;o=a.next())s=o.value,u=r.get(s),e.i.has(s)||(c=Su(e,u),t.has(u.id)&&(iu(d=t.get(u.id),(function(t,n,r){return Ou(t,n,r||null,e.h.retryParameters,e.g.Xb)})),c.ba=d),e.i.set(s,c),Mu(e,c,0));k(p)}))}(t,e||new Map),2);ba(t.m),t.I=!0,k(n)}))},n.Fc=function(){if(this.g){for(var e=this.g.Rc(),t=l(this.i.keys()),n=t.next();!n.done;n=t.next()){var r=n.value;n=this.i.get(r);var i=this.g.aa;if(r==Nt?i=null!=(i=i.h).g&&null!=i.h&&(e>=i.g&&e<i.h):i=bs(i=ol(i,r),e),!i){if(this.L=0,n.ba&&(n.ba.g=null),"audio"===n.type)for(var a=(i=l(this.o.values())).next();!a.done;a=i.next())a.value.g=null;n.ja=null,(null!=al(this.g.aa,r)||n.Da)&&Au(this,n),n.rb&&(n.rb.abort(),n.rb=null),r===Nt&&((r=this.g.aa).L&&r.L.g()),n.Fc=!0}}"keep"!==this.h.crossBoundaryStrategy&&ju(this)}},n.updateDuration=function(){var e=Wt(),t=this.j.presentationTimeline.getDuration();1/0>t?(e&&(this.A&&this.A.stop(),cl(this.g.aa)),this.g.aa.bb(t)):e?(this.A&&this.A.ua(.5),this.g.aa.bb(1/0)):this.g.aa.bb(Math.pow(2,32))},F("shaka.util.ConfigUtils",Hu),Hu.getDifferenceFromConfigObjects=zu,Hu.convertToConfigObject=Gu,Hu.mergeConfigObjects=Vu,F("shaka.drm.FairPlay",Wu),Wu.commonFairPlayResponse=function(e,t){if(2===e&&(e=t.originalRequest.drmInfo)&&Ne(e.keySystem)){try{var n=yt(t.data)}catch(e){return}if(e=!1,"<ckc>"===(n=n.trim()).substr(0,5)&&"</ckc>"===n.substr(-6)&&(n=n.slice(5,-6),e=!0),!e)try{var r=JSON.parse(n);r.ckc&&(n=r.ckc,e=!0),r.CkcMessage&&(n=r.CkcMessage,e=!0),r.License&&(n=r.License,e=!0)}catch(e){}e&&(t.data=Se(wt(n)))}},Wu.muxFairPlayRequest=function(e,t){Xu(e,t)},Wu.expressplayFairPlayRequest=function(e,t){if(2===e){var n=t.drmInfo;n&&Ne(n.keySystem)&&Xu(e,t)}},Wu.conaxFairPlayRequest=function(e,t){Xu(e,t)},Wu.ezdrmFairPlayRequest=function(e,t){Xu(e,t)},Wu.verimatrixFairPlayRequest=function(e,t){2===e&&(e=t.drmInfo)&&Ne(e.keySystem)&&(e=St(e=we(t.body)),t.headers["Content-Type"]="application/x-www-form-urlencoded",t.body=mt("spc="+e))},Wu.muxInitDataTransform=function(e,t,n){return qu(e,t,n)},Wu.expressplayInitDataTransform=function(e,t,n){return qu(e,t,n)},Wu.conaxInitDataTransform=function(t,n,r){if("skd"!==n)return t;n=r.serverCertificate,r=vt(t).split("skd://").pop().split("?").shift(),r=e.atob(r);var i=new ArrayBuffer(2*r.length);i=Ce(i);for(var a=0,o=r.length;a<o;a++)i[a]=r.charCodeAt(a);return Zu(t,i,n)},Wu.ezdrmInitDataTransform=function(e,t,n){return"skd"!==t?e:(t=n.serverCertificate,Zu(e,n=vt(e).split(";").pop(),t))},Wu.verimatrixInitDataTransform=function(e,t,n){return qu(e,t,n)},Wu.initDataTransform=Zu,Wu.defaultGetContentId=Yu,Wu.isFairPlaySupported=function(){var e;return I((function(t){return 1==t.g?(e={initDataTypes:["cenc","sinf","skd"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]},E(t,2),b(t,navigator.requestMediaKeySystemAccess("com.apple.fps",[e]),4)):2!=t.g?t.return(!0):(A(t),t.return(!1))}))},Qu.prototype.configure=function(e){this.g=e},Qu.prototype.create=function(e){var t;if(this.g.language){var n=function(e,t){t=si(t);var n=di(t,e.map((function(e){return ci(e)})));return n?e.filter((function(e){return n==ci(e)})):[]}(e,this.g.language);n.length&&(t=n)}return t||(t=(t=e.filter((function(e){return e.primary}))).length?t:e),e=function(e,t){return e.filter((function(e){return!!e.audio&&(t?e.audio.roles.includes(t):0==e.audio.roles.length)}))}(t,this.g.role),e.length&&(t=e),this.g.videoLayout&&(e=function(e,t){return e.filter((function(e){return!e.video||!e.video.videoLayout||e.video.videoLayout==t}))}(t,this.g.videoLayout),e.length&&(t=e)),this.g.Sc&&(e=function(e,t){if("AUTO"==t){var n=e.some((function(e){return!(!e.video||!e.video.hdr||"HLG"!=e.video.hdr)}));t=dt(n)}return e.filter((function(e){return!e.video||!e.video.hdr||e.video.hdr==t}))}(t,this.g.Sc),e.length&&(t=e)),this.g.channelCount&&(e=function(e,t){return e.filter((function(e){return!(e.audio&&e.audio.channelsCount&&e.audio.channelsCount>t)})).sort((function(e,t){return e.audio||t.audio?e.audio?t.audio?(t.audio.channelsCount||0)-(e.audio.channelsCount||0):1:-1:0}))}(t,this.g.channelCount),e.length&&(t=e)),this.g.Kc&&(e=function(e,t){return e.filter((function(e){return!(!e.audio||!e.audio.label)&&e.audio.label.toLowerCase()==t.toLowerCase()}))}(t,this.g.Kc),e.length&&(t=e)),this.g.fd&&(e=function(e,t){return e.filter((function(e){return!(!e.video||!e.video.label)&&e.video.label.toLowerCase()==t.toLowerCase()}))}(t,this.g.fd),e.length&&(t=e)),e=function(e,t){return e.filter((function(e){return!e.audio||e.audio.spatialAudio==t}))}(t,this.g.spatialAudio),e.length&&(t=e),this.g.audioCodec&&(e=function(e,t){return e.filter((function(e){return!e.audio||e.audio.codecs==t}))}(t,this.g.audioCodec),e.length&&(t=e)),new lo(t[0],t,!("smooth"==this.g.codecSwitchingStrategy&&zt()))},F("shaka.util.PlayerConfiguration",Ju),Ju.mergeConfigObjects=tc,Ju.createDefaultForLL=ec,Ju.createDefault=$u,y(uc,ia),(n=uc.prototype).getStartTime=function(){return this.B},n.Qc=function(){return this.O},n.Hf=function(){return this.h},n.getStats=function(){return this.$},n.Ai=function(){return this.K?Ai(this.K):null},n.zi=function(){return this.W?Si(this.W):null},n.start=function(){var t,n=this;I((function(r){switch(r.g){case 1:return b(r,Promise.resolve(),2);case 2:return E(r,3),b(r,function(e){var t,n,r,i,a,o,s,u,c;return I((function(d){switch(d.g){case 1:if(fc(e,"manifest-parser"),e.l||(e.G=So(e.O,e.Z),e.l=e.G(),e.l.configure(e.g.manifest,(function(){return e.A}))),t=Date.now()/1e3,fc(e,"manifest"),e.h){d.s(2);break}return b(d,e.l.start(e.O,e.Na),3);case 3:if(e.h=d.h,1!=e.h.variants.length){d.s(2);break}for(n=[],r=e.h.variants[0],i=l([r.video,r.audio]),a=i.next();!a.done;a=i.next())(o=a.value)&&!o.segmentIndex&&n.push(o.createSegmentIndex());if(!(0<n.length)){d.s(2);break}return b(d,Promise.all(n),2);case 2:return e.oa.resolve(),s=new ta("manifestparsed",void 0),b(d,Promise.resolve(),7);case 7:if(e.dispatchEvent(s),0==e.h.variants.length)throw new Re(2,4,4036);!function(e){function t(e){return e.video&&e.audio||e.video&&e.video.codecs.includes(",")}e.variants.some(t)&&(e.variants=e.variants.filter(t))}(e.h),u=Date.now()/1e3,c=u-t,e.$.H=c,k(d)}}))}(n),5);case 5:if(pc(n),"webkit"===e.shakaMediaKeysPolyfill){r.s(6);break}return b(r,hc(n),7);case 7:pc(n);case 6:return b(r,function(e){var t,n,r,i,a,o,s;return I((function(l){return e.o||(e.o=e.g.adaptationSetCriteriaFactory(),e.o.configure({language:e.g.preferredAudioLanguage,role:e.g.preferredVariantRole,channelCount:e.g.preferredAudioChannelCount,Sc:e.g.preferredVideoHdrLevel,spatialAudio:e.g.preferSpatialAudio,videoLayout:e.g.preferredVideoLayout,Kc:e.g.preferredAudioLabel,fd:e.g.preferredVideoLabel,codecSwitchingStrategy:e.g.mediaSource.codecSwitchingStrategy,audioCodec:""})),e.La&&(t=e.g.abrFactory,e.C=t,e.j=t(),e.j.configure(e.g.abr)),e.fa?(n=e.h.presentationTimeline.U(),r=Di(e.h.variants),i=e.o.create(r),e.j.configure(e.g.abr),e.j.setVariants(Array.from(i.values())),(a=e.j.chooseVariant())?(o=[],e.K=a,a.video&&o.push(yc(e,a.video,n)),a.audio&&o.push(yc(e,a.audio,n)),(s=Oi(e.h.textStreams,e.g.preferredTextLanguage,e.g.preferredTextRole,e.g.preferForcedSubs)[0]||null)&&Ui(a.audio,s,e.g)&&(o.push(yc(e,s,n)),e.W=s),b(l,Promise.all(o),0)):l.s(0)):l.s(0)}))}(n),8);case 8:if(pc(n),!n.fa||!n.i){r.s(9);break}return b(r,function(e){return I((function(t){return 1==t.g?e.K?b(t,e.m,3):t.s(0):b(t,Promise.all(e.T.map((function(e){return e.promise}))),0)}))}(n.i),10);case 10:pc(n);case 9:n.m.resolve(),_(r,0);break;case 3:(t=A(r))instanceof Re&&(7001==t.code||7003==t.code)||n.m.reject(t),k(r)}}))},n.dispatchEvent=function(e){return this.P?this.P.dispatchEvent(e):ia.prototype.dispatchEvent.call(this,e)},n.onError=function(e){2===e.severity&&(this.m.reject(e),this.destroy());var t=(new Map).set("detail",e);t=new ta("error",t),this.dispatchEvent(t),t.defaultPrevented&&(e.handled=!0)},n.configure=function(e,t){e=Gu(e,t),tc(this.g,e)},n.getConfiguration=function(){return vn(this.g)},n.Lj=function(){return this.m},n.destroy=function(){var e,t,n=this;return I((function(r){switch(r.g){case 1:if(n.u=!0,!n.l||n.pa){r.s(2);break}return b(r,n.l.stop(),2);case 2:if(!n.j||n.ea){r.s(4);break}return b(r,n.j.stop(),4);case 4:if(n.H&&!n.sa&&n.H.release(),!n.i||n.ka){r.s(6);break}return b(r,n.i.destroy(),6);case 6:if(0<n.M.size&&!n.Aa)for(e=l(n.M.values()),t=e.next();!t.done;t=e.next())lu(t.value);k(r)}}))},F("shaka.media.PreloadManager",uc),uc.prototype.destroy=uc.prototype.destroy,uc.prototype.waitForFinish=uc.prototype.Lj,uc.prototype.getPrefetchedTextTrack=uc.prototype.zi,uc.prototype.getPrefetchedVariantTrack=uc.prototype.Ai,y(gc,ia),gc.prototype.release=function(){this.i=null,this.g.clear(),this.h.release(),this.h=null,ia.prototype.release.call(this)},gc.prototype.j=function(e,t){if(!this.l||0!=e){this.l=!1;for(var n=l(this.i.h.values()),r=n.next();!r.done;r=n.next()){r=r.value;var i=this.g.get(r),a=e<r.startTime?mc:e>r.endTime?kc:bc;this.g.set(r,a);for(var o=l(this.m),s=o.next();!s.done;s=o.next())(s=s.value).Jc==i&&s.Ic==a&&s.xc(r,t)}}};var mc=1,bc=2,kc=3;function Ec(e,t,n){var r,i,a,o,s,l,u;return I((function(c){switch(c.g){case 1:var d=new se(e).ab.split("/").pop().split(".");return r=1==d.length?"":d.pop().toLowerCase(),(i=Tc.get(r))?c.return(i):(a=0,o=ca([e],n),E(c,2),o.method="HEAD",b(c,t.request(a,o).promise,4));case 4:s=c.h,i=s.headers["content-type"],_(c,3);break;case 2:if(!(l=A(c))||1002!=l.code&&1001!=l.code){c.s(3);break}return o.method="GET",b(c,t.request(a,o).promise,6);case 6:u=c.h,i=u.headers["content-type"];case 3:return c.return(i?i.toLowerCase().split(";").shift():"")}}))}var Tc=(new Map).set("mp4","video/mp4").set("m4v","video/mp4").set("m4a","audio/mp4").set("webm","video/webm").set("weba","audio/webm").set("mkv","video/webm").set("ts","video/mp2t").set("ogv","video/ogg").set("ogg","audio/ogg").set("mpg","video/mpeg").set("mpeg","video/mpeg").set("mov","video/quicktime").set("m3u8","application/x-mpegurl").set("mpd","application/dash+xml").set("ism","application/vnd.ms-sstr+xml").set("mp3","audio/mpeg").set("aac","audio/aac").set("flac","audio/flac").set("wav","audio/wav").set("sbv","text/x-subviewer").set("srt","text/srt").set("vtt","text/vtt").set("webvtt","text/vtt").set("ttml","application/ttml+xml").set("lrc","application/x-subtitle-lrc").set("ssa","text/x-ssa").set("ass","text/x-ssa").set("jpeg","image/jpeg").set("jpg","image/jpeg").set("png","image/png").set("svg","image/svg+xml").set("webp","image/webp").set("avif","image/avif").set("html","text/html").set("htm","text/html");function _c(e,t){if(e.lineBreak)return"\n";if(e.nestedCues.length)return e.nestedCues.map((function(t){return _c(t,e)})).join("");if(!e.payload)return e.payload;var n=[],r=e.fontWeight>=mr,i=e.fontStyle==kr,a=e.textDecoration.includes(Tr);return r&&n.push(["b"]),i&&n.push(["i"]),a&&n.push(["u"]),""==(i=e.color)&&t&&(i=t.color),r="",(i=Ac(i))&&(r+="."+i),""==(i=e.backgroundColor)&&t&&(i=t.backgroundColor),(t=Ac(i))&&(r+=".bg_"+t),r&&n.push(["c",r]),n.reduceRight((function(e,t){var n=l(t);return"<"+(t=n.next().value)+(void 0===(n=n.next().value)?"":n)+">"+e+"</"+t+">"}),e.payload)}function Ac(e){var t=(e=e.toLowerCase()).replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i);switch(t?e="#"+(256|parseInt(t[1],10)).toString(16).slice(1)+(256|parseInt(t[2],10)).toString(16).slice(1)+(256|parseInt(t[3],10)).toString(16).slice(1):e.startsWith("#")&&7<e.length&&(e=e.slice(0,7)),e){case"white":case"#fff":case"#ffffff":return"white";case"lime":case"#0f0":case"#00ff00":return"lime";case"cyan":case"#0ff":case"#00ffff":return"cyan";case"red":case"#f00":case"#ff0000":return"red";case"yellow":case"#ff0":case"#ffff00":return"yellow";case"magenta":case"#f0f":case"#ff00ff":return"magenta";case"blue":case"#00f":case"#0000ff":return"blue";case"black":case"#000":case"#000000":return"black"}return null}function Sc(e,t){for(var n=[],r=(e=l(wc(e))).next();!r.done;r=e.next())if((r=r.value).isContainer)n.push.apply(n,u(Sc(r.nestedCues,r)));else{var i=r.clone();i.nestedCues=[],i.payload=_c(r,t),n.push(i)}return n}function wc(e){for(var t=[],n=(e=l(e)).next(),r={};!n.done;r={jf:void 0},n=e.next())r.jf=n.value,t.some(function(e){return function(t){return er(e.jf,t)}}(r))||t.push(r.jf);return t}function Cc(e){function t(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()}if(e.startTime>=e.endTime)return null;var n=new VTTCue(e.startTime,e.endTime,e.payload);n.id=t(e.startTime.toString())+t(e.endTime.toString())+t(e.payload),n.lineAlign=e.lineAlign,n.positionAlign=e.positionAlign,e.size&&(n.size=e.size);try{n.align=e.textAlign}catch(e){}return"center"==e.textAlign&&"center"!=n.align&&(n.align="middle"),"vertical-lr"==e.writingMode?n.vertical="lr":"vertical-rl"==e.writingMode&&(n.vertical="rl"),1==e.lineInterpretation&&(n.snapToLines=!1),null!=e.line&&(n.line=e.line),null!=e.position&&(n.position=e.position),n}function xc(e,t){for(this.h=e,this.i=t,this.g=null,t=(e=l(Array.from(this.h.textTracks))).next();!t.done;t=e.next())"metadata"!==(t=t.value).kind&&"chapters"!==t.kind&&(t.mode="disabled",t.label==this.i&&(this.g=t));this.g&&(this.g.mode="hidden")}function Pc(e){e.h&&!e.g&&(e.g=e.h.addTextTrack("subtitles",e.i),e.g.mode="hidden")}function Rc(e,t){var n=e.mode;e.mode="showing"==n?"showing":"hidden";for(var r=l(Array.from(e.cues)),i=r.next();!i.done;i=r.next())(i=i.value)&&t(i)&&e.removeCue(i);e.mode=n}function Ic(){}function Dc(t,n){var r=this;document.fullscreenEnabled||Y("Using UITextDisplayer in a browser without Fullscreen API support causes subtitles to not be rendered in fullscreen"),this.A=!1,this.h=[],this.j=t,this.C=n,this.u=this.m=null,this.g=document.createElement("div"),this.g.classList.add("shaka-text-container"),this.g.style.textAlign="center",this.g.style.display="flex",this.g.style.flexDirection="column",this.g.style.alignItems="center",this.g.style.justifyContent="flex-end",this.C.appendChild(this.g),this.o=new je((function(){r.j.paused||Nc(r)})),Oc(this),this.l=new Map,this.i=new J,this.i.D(document,"fullscreenchange",(function(){Nc(r,!0)})),this.i.D(this.j,"seeking",(function(){Nc(r,!0)})),this.i.D(this.j,"ratechange",(function(){Oc(r)})),this.i.D(this.j,"resize",(function(){var e=r.j,t=e.videoWidth;e=e.videoHeight,r.m=t&&e?t/e:null})),this.B=null,"ResizeObserver"in e&&(this.B=new ResizeObserver((function(){Nc(r,!0)})),this.B.observe(this.g)),this.F=new Map}function Oc(e){e.o&&(e.h.length?e.o.ua((e.u?e.u.captionsUpdatePeriod:.25)/Math.max(1,Math.abs(e.j.playbackRate))):e.o.stop())}function Lc(e,t){for(;null!=t;){if(t==e.g)return!0;t=t.parentElement}return!1}function Mc(e,t,n,r,i){for(var a=!1,o=[],s=[],u=(t=l(t)).next();!u.done;u=t.next()){u=u.value,i.push(u);var c=e.l.get(u),d=u.startTime<=r&&u.endTime>r,p=c?c.Nh:null;c&&(o.push(c.lf),c.Ec&&o.push(c.Ec),d||(a=!0,e.l.delete(u),c=null)),d&&(s.push(u),c?Lc(e,p)||(a=!0):(Uc(e,u,i),p=(c=e.l.get(u)).Nh,a=!0)),0<u.nestedCues.length&&p&&Mc(e,u.nestedCues,p,r,i),i.pop()}if(a){for(i=(r=l(o)).next();!i.done;i=r.next())(i=i.value).parentElement&&i.parentElement.removeChild(i);for(s.sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime-t.endTime})),r=(s=l(s)).next();!r.done;r=s.next())(r=e.l.get(r.value)).Ec?(r.Ec.contains(n)&&r.Ec.removeChild(n),n.appendChild(r.Ec),r.Ec.appendChild(r.lf)):n.appendChild(r.lf)}}function Nc(e,t){if(e.g){var n=e.j.currentTime;if(!e.A||void 0!==t&&t){for(var r=(t=l(e.F.values())).next();!r.done;r=t.next())As(r.value);As(e.g),e.l.clear(),e.F.clear()}e.A&&Mc(e,e.h,e.g,n,[])}}function Uc(e,t,n){var r=1<n.length,i=r?"span":"div";t.lineBreak&&(i="br"),t.rubyTag&&(i=t.rubyTag),r=!r&&0<t.nestedCues.length;var a=document.createElement(i);if("br"!=i&&function(e,t,n,r,i){var a=t.style,o=0==n.nestedCues.length,s=1<r.length;a.whiteSpace="pre-wrap";var l=n.payload.replace(/\s+$/g,(function(e){return" ".repeat(e.length)}));if(a.webkitTextStrokeColor=n.textStrokeColor,a.webkitTextStrokeWidth=n.textStrokeWidth,a.color=n.color,a.direction=n.direction,a.opacity=n.opacity,a.paddingLeft=Bc(n.linePadding,n,e.C),a.paddingRight=Bc(n.linePadding,n,e.C),a.textCombineUpright=n.textCombineUpright,a.textShadow=n.textShadow,n.backgroundImage)a.backgroundImage="url('"+n.backgroundImage+"')",a.backgroundRepeat="no-repeat",a.backgroundSize="contain",a.backgroundPosition="center",n.backgroundColor&&(a.backgroundColor=n.backgroundColor),a.width="100%",a.height="100%";else{if(n.nestedCues.length)var u=t;else u=document.createElement("span"),t.appendChild(u);n.border&&(u.style.border=n.border),i||((t=function(e,t){for(var n=e.length-1;0<=n;n--){var r=t(e[n]);if(r||0===r)return r}return null}(r,(function(e){return e.backgroundColor})))?u.style.backgroundColor=t:l&&(u.style.backgroundColor="rgba(0, 0, 0, 0.8)")),l&&(u.textContent=l)}s&&!r[r.length-1].isContainer?a.display="inline":(a.display="flex",a.flexDirection="column",a.alignItems="center","left"==n.textAlign||"start"==n.textAlign?(a.width="100%",a.alignItems="start"):"right"!=n.textAlign&&"end"!=n.textAlign||(a.width="100%",a.alignItems="end"),a.justifyContent="before"==n.displayAlign?"flex-start":"center"==n.displayAlign?"center":"flex-end");o||(a.margin="0"),a.fontFamily=n.fontFamily,a.fontWeight=n.fontWeight.toString(),a.fontStyle=n.fontStyle,a.letterSpacing=n.letterSpacing,a.fontSize=Bc(n.fontSize,n,e.C,e.u?e.u.fontScaleFactor:1),r=n.line,null!=r&&(o=n.lineInterpretation,o==pr&&(o=1,s=16,e.m&&1>e.m&&(s=32),r=0>r?100+r/s*100:r/s*100),1==o&&(a.position="absolute",n.writingMode==dr?(a.width="100%",n.lineAlign==fr?a.top=r+"%":"end"==n.lineAlign&&(a.bottom=100-r+"%")):"vertical-lr"==n.writingMode?(a.height="100%",n.lineAlign==fr?a.left=r+"%":"end"==n.lineAlign&&(a.right=100-r+"%")):(a.height="100%",n.lineAlign==fr?a.right=r+"%":"end"==n.lineAlign&&(a.left=100-r+"%")))),a.lineHeight=n.lineHeight,e=function(e){var t=e.direction,n=e.positionAlign;return e=e.textAlign,n!==ar?n:"left"===e||"start"===e&&t===cr||"end"===e&&"rtl"===t?"line-left":"right"===e||"start"===e&&"rtl"===t||"end"===e&&t===cr?"line-right":"center"}(n),"line-left"==e?(a.cssFloat="left",null!==n.position&&(a.position="absolute",n.writingMode==dr?(a.left=n.position+"%",a.width="auto"):a.top=n.position+"%")):"line-right"==e?(a.cssFloat="right",null!==n.position&&(a.position="absolute",n.writingMode==dr?(a.right=100-n.position+"%",a.width="auto"):a.bottom=n.position+"%")):null!==n.position&&50!=n.position&&(a.position="absolute",n.writingMode==dr?(a.left=n.position+"%",a.width="auto"):a.top=n.position+"%"),a.textAlign=n.textAlign,a.textDecoration=n.textDecoration.join(" "),a.writingMode=n.writingMode,"writingMode"in document.documentElement.style&&a.writingMode==n.writingMode||(a.webkitWritingMode=n.writingMode),n.size&&(n.writingMode==dr?a.width=n.size+"%":a.height=n.size+"%")}(e,a,t,n,r),n=null,t.region&&t.region.id){var o=t.region,s=e.m===4/3?2.5:1.9;if(n=o.id+"_"+o.width+"x"+o.height+(o.heightUnits==rn?"%":"px")+"-"+o.viewportAnchorX+"x"+o.viewportAnchorY+(o.viewportAnchorUnits==rn?"%":"px"),e.F.has(n))n=e.F.get(n);else{i=document.createElement("span");var l=o.heightUnits==rn?"%":"px",u=o.widthUnits==rn?"%":"px",c=o.viewportAnchorUnits==rn?"%":"px";i.id="shaka-text-region---"+n,i.classList.add("shaka-text-region"),i.style.position="absolute";var d=o.height,p=o.width;2===o.heightUnits&&(d=5.33*o.height,l="%"),2===o.widthUnits&&(p=o.width*s,u="%"),i.style.height=d+l,i.style.width=p+u,2===o.viewportAnchorUnits?(s=o.viewportAnchorY/75*100,l=o.viewportAnchorX/(e.m===4/3?160:210)*100,s-=o.regionAnchorY*d/100,l-=o.regionAnchorX*p/100,i.style.top=s+"%",i.style.left=l+"%"):(i.style.top=o.viewportAnchorY-o.regionAnchorY*d/100+c,i.style.left=o.viewportAnchorX-o.regionAnchorX*p/100+c),0!==o.heightUnits&&0!==o.widthUnits&&0!==o.viewportAnchorUnits&&(o=Math.max(0,Math.min(100-(parseInt(i.style.width.slice(0,-1),10)||0),parseInt(i.style.left.slice(0,-1),10)||0)),i.style.top=Math.max(0,Math.min(100-(parseInt(i.style.height.slice(0,-1),10)||0),parseInt(i.style.top.slice(0,-1),10)||0))+"%",i.style.left=o+"%"),i.style.display="flex",i.style.flexDirection="column",i.style.alignItems="center",i.style.justifyContent="before"==t.displayAlign?"flex-start":"center"==t.displayAlign?"center":"flex-end",e.F.set(n,i),n=i}}i=a,r&&((i=document.createElement("span")).classList.add("shaka-text-wrapper"),i.style.backgroundColor=t.backgroundColor,i.style.lineHeight="normal",a.appendChild(i)),e.l.set(t,{lf:a,Nh:i,Ec:n})}function Bc(e,t,n,r){r=void 0===r?1:r;var i=(i=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))?{value:Number(i[1]),unit:i[2]}:null;if(!i)return e;switch(e=i.unit,r*=i.value,e){case"%":return r/100*n.clientHeight/t.cellResolution.rows+"px";case"c":return n.clientHeight*r/t.cellResolution.rows+"px";default:return r+e}}function Fc(e,t){this.h=e,this.g=t,this.i=void 0,this.u=!1,this.F=!0,this.l=this.B=!1,this.o=this.m=void 0,this.A=0,this.G=!1,this.C=new J,this.j=null}function jc(t){return t.g.sessionId||(t.g.sessionId=e.crypto.randomUUID()),{v:t.g.version,sf:t.i,sid:t.g.sessionId,cid:t.g.contentId,mtp:t.h.getBandwidthEstimate()/1e3}}function Hc(e,t,n){n=void 0===n?{}:n;var r=void 0===r?e.g.useHeaders:r;if(e.g.enabled){Object.assign(n,jc(e)),n.pr=e.h.gb();var i=n.ot===Yc||n.ot===Zc;if(e.B&&i&&(n.bs=!0,n.su=!0,e.B=!1),null==n.su&&(n.su=e.F),n.v===Jc&&(e.h.U()&&(n.ltc=e.h.Zd()),null!=(i=!e.G&&e.o&&e.m?e.o-(e.A||e.m):void 0)&&(n.msd=i,e.G=!0)),e=function(e,t){var n=e.g.includeKeys;return n.length?Object.keys(t).reduce((function(e,r){return n.includes(r)&&(e[r]=t[r]),e}),{}):t}(e,n),r)r=function(e){for(var t=Object.keys(e),n={},r=["Object","Request","Session","Status"],i=[{},{},{},{}],a={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,ltc:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,msd:2,bs:3,rtp:3},o=(t=l(t)).next();!o.done;o=t.next())o=o.value,i[null!=a[o]?a[o]:1][o]=e[o];for(e=0;e<i.length;e++)(a=Gc(i[e]))&&(n["CMCD-"+r[e]]=a);return n}(e),Object.keys(r).length&&Object.assign(t.headers,r);else{var a=Gc(e);a&&(t.uris=t.uris.map((function(e){return Kc(e,a)})))}}}function Vc(e,t){if(!(t=e.h.Fb()[t]).length)return 0;var n=e.h.getCurrentTime();return(e=t.find((function(e){return e.start<=n&&e.end>=n})))?1e3*(e.end-n):0}function Gc(e){function t(e){return 100*n(e/100)}function n(e){return Math.round(e)}for(var r,i=[],a={br:n,d:n,bl:t,dl:t,mtp:t,nor:function(e){return encodeURIComponent(e)},rtp:t,tb:n},o=Object.keys(e||{}).sort(),s=(o=l(o)).next();!s.done;s=o.next()){var u=e[s=s.value];if(!(r=u,Number.isNaN(r)||null==r||""===r||!1===r||"v"===s&&1===u||"pr"==s&&1===u)){var c=a[s];c&&(u=c(u));var d;d="string"===(c=typeof u)&&"ot"!==s&&"sf"!==s&&"st"!==s?s+"="+JSON.stringify(u):"boolean"===c?s:"symbol"===c?s+"="+u.description:s+"="+u,i.push(d)}}return i.join(",")}function Kc(e,t){return!t||e.includes("offline:")?e:((e=new se(e)).g.set("CMCD",t),e.toString())}(n=xc.prototype).configure=function(){},n.remove=function(e,t){return!!this.g&&(Rc(this.g,(function(n){return n.startTime<t&&n.endTime>e})),!0)},n.append=function(e){if(this.g){var t=Sc(e),n=[];e=this.g.cues?Array.from(this.g.cues):[];for(var r=(t=l(t)).next(),i={};!r.done;i={Tc:void 0},r=t.next())i.Tc=r.value,!e.some(function(e){return function(t){return t.startTime==e.Tc.startTime&&t.endTime==e.Tc.endTime&&t.text==e.Tc.payload}}(i))&&i.Tc.payload&&(r=Cc(i.Tc))&&n.push(r);for(t=(e=l(e=n.slice().sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime!=t.endTime?e.endTime-t.startTime:"line"in VTTCue.prototype?n.indexOf(t)-n.indexOf(e):n.indexOf(e)-n.indexOf(t)})))).next();!t.done;t=e.next())this.g.addCue(t.value)}},n.destroy=function(){return this.g&&(Rc(this.g,(function(){return!0})),this.g.mode="disabled"),this.g=this.h=null,Promise.resolve()},n.isTextVisible=function(){return!!this.g&&"showing"==this.g.mode},n.setTextVisibility=function(e){e&&!this.g&&Pc(this),this.g&&(this.g.mode=e?"showing":"hidden")},n.setTextLanguage=function(){},n.enableTextDisplayer=function(){Pc(this)},F("shaka.text.SimpleTextDisplayer",xc),xc.prototype.enableTextDisplayer=xc.prototype.enableTextDisplayer,xc.prototype.setTextLanguage=xc.prototype.setTextLanguage,xc.prototype.setTextVisibility=xc.prototype.setTextVisibility,xc.prototype.isTextVisible=xc.prototype.isTextVisible,xc.prototype.destroy=xc.prototype.destroy,xc.prototype.append=xc.prototype.append,xc.prototype.remove=xc.prototype.remove,xc.prototype.configure=xc.prototype.configure,(n=Ic.prototype).configure=function(){},n.remove=function(){},n.append=function(){},n.destroy=function(){},n.isTextVisible=function(){return!1},n.setTextVisibility=function(){},n.setTextLanguage=function(){},n.enableTextDisplayer=function(){},F("shaka.text.StubTextDisplayer",Ic),Ic.prototype.enableTextDisplayer=Ic.prototype.enableTextDisplayer,Ic.prototype.setTextLanguage=Ic.prototype.setTextLanguage,Ic.prototype.setTextVisibility=Ic.prototype.setTextVisibility,Ic.prototype.isTextVisible=Ic.prototype.isTextVisible,Ic.prototype.destroy=Ic.prototype.destroy,Ic.prototype.append=Ic.prototype.append,Ic.prototype.remove=Ic.prototype.remove,Ic.prototype.configure=Ic.prototype.configure,(n=Dc.prototype).configure=function(e){this.u=e,Oc(this),Nc(this,!0)},n.append=function(e){for(var t=[].concat(u(this.h)),n=(e=l(wc(e))).next(),r={};!n.done;r={kf:void 0},n=e.next())r.kf=n.value,t.some(function(e){return function(t){return er(t,e.kf)}}(r))||this.h.push(r.kf);this.h.length&&Oc(this),Nc(this)},n.destroy=function(){return this.g?(this.C.removeChild(this.g),this.g=null,this.A=!1,this.h=[],this.o&&(this.o.stop(),this.o=null),this.l.clear(),this.i&&(this.i.release(),this.i=null),this.B&&(this.B.disconnect(),this.B=null),Promise.resolve()):Promise.resolve()},n.remove=function(e,t){if(!this.g)return!1;var n=this.h.length;return this.h=this.h.filter((function(n){return n.startTime<e||n.endTime>=t})),Nc(this,n>this.h.length),this.h.length||Oc(this),!0},n.isTextVisible=function(){return this.A},n.setTextVisibility=function(e){this.A=e,Nc(this,!0)},n.setTextLanguage=function(e){e&&"und"!=e?this.g.setAttribute("lang",e):this.g.setAttribute("lang","")},n.enableTextDisplayer=function(){},F("shaka.text.UITextDisplayer",Dc),Dc.prototype.enableTextDisplayer=Dc.prototype.enableTextDisplayer,Dc.prototype.setTextLanguage=Dc.prototype.setTextLanguage,Dc.prototype.setTextVisibility=Dc.prototype.setTextVisibility,Dc.prototype.isTextVisible=Dc.prototype.isTextVisible,Dc.prototype.remove=Dc.prototype.remove,Dc.prototype.destroy=Dc.prototype.destroy,Dc.prototype.append=Dc.prototype.append,Dc.prototype.configure=Dc.prototype.configure,F("shaka.text.WebVttGenerator",(function(){})),Fc.prototype.setMediaElement=function(e){this.j=e,function(e){e.C.ma(e.j,"play",(function(){e.m||(e.m=Date.now())})),e.C.ma(e.j,"playing",(function(){e.o||(e.o=Date.now())}))}(this)},Fc.prototype.configure=function(e){this.g=e};var zc="m",Wc="a",Yc="v",Zc="av",qc="i",Xc="c",Qc="tt",Jc=2,$c="d",ed="ld",td="h",nd="lh";function rd(e){this.h=e,this.g=null}function id(e){return!e||"false"!==e.toLowerCase()&&(/^[-0-9]/.test(e)?parseInt(e,10):e.replace(/["]+/g,""))}F("shaka.util.CmcdManager.StreamingFormat",{DASH:$c,hk:ed,HLS:td,ik:nd,wk:"s",OTHER:"o"}),(n=rd.prototype).configure=function(e){this.h=e},n.Ug=function(){return this.h.enabled&&this.h.applyMaximumSuggestedBitrate&&this.g&&this.g.has(od)?1e3*this.g.get(od):null},n.Sg=function(){return this.h.enabled&&this.g&&this.g.has(ad)?1e3*this.g.get(ad):null},n.Ci=function(){return this.h.enabled&&this.g&&this.g.has(sd)?this.g.get(sd):null},n.Di=function(){return this.h.enabled&&this.g&&this.g.has(ld)?this.g.get(ld):null},n.getBandwidthEstimate=function(e){var t=this.Sg();if(!t)return e;var n=this.h.estimatedThroughputWeightRatio;return 0<n&&1>=n?e*(1-n)+t*n:e},F("shaka.util.CmsdManager",rd),rd.prototype.getBandwidthEstimate=rd.prototype.getBandwidthEstimate,rd.prototype.getRoundTripTime=rd.prototype.Di,rd.prototype.getResponseDelay=rd.prototype.Ci,rd.prototype.getEstimatedThroughput=rd.prototype.Sg,rd.prototype.getMaxBitrate=rd.prototype.Ug;var ad="etp",od="mb",sd="rd",ld="rtt";function ud(){this.g=null,this.h=[]}function cd(e,t){return I((function(n){if(1==n.g)return e.g?b(n,new Promise((function(t){return e.h.push(t)})),2):n.s(2);e.g=t,k(n)}))}function dd(t,n,r){n=void 0===n?null:n,ia.call(this);var i=this;this.m=gp,this.h=null,this.ue=n,this.oa=!1,this.Qe=new J,this.zd=new J,this.l=new J,this.Na=new J,this.Sb=new J,this.G=this.I=this.C=this.F=null,this.Te=0,this.$=new ud,this.Z=this.Pb=this.T=this.i=this.Qb=this.H=this.j=this.xd=this.O=this.yg=this.fa=this.L=this.Ga=this.Aa=this.yd=this.M=this.pa=this.K=this.La=null,this.sa=!1,this.Fa=this.o=null,this.We=1e9,this.Oe=[],this.Ve=-1,this.g=Vd(this),this.Xe={streaming:{inaccurateManifestTolerance:0,segmentPrefetchLimit:2,updateIntervalSeconds:.1,maxDisabledTime:1,retryParameters:{baseDelay:100}},manifest:{dash:{autoCorrectDrift:!1},retryParameters:{baseDelay:100}},drm:{retryParameters:{baseDelay:100}}},this.P=null,this.Ue=-1,this.Ma=null,this.ka={width:1/0,height:1/0},this.te=new go(this.g,this.ka,null),this.Ee=[],this.B=null,this.W=this.g.adaptationSetCriteriaFactory(),this.W.configure({language:this.g.preferredAudioLanguage,role:this.g.preferredVariantRole,channelCount:this.g.preferredAudioChannelCount,Sc:this.g.preferredVideoHdrLevel,spatialAudio:this.g.preferSpatialAudio,videoLayout:this.g.preferredVideoLayout,Kc:this.g.preferredAudioLabel,fd:this.g.preferredVideoLabel,codecSwitchingStrategy:this.g.mediaSource.codecSwitchingStrategy,audioCodec:""}),this.Tb=this.g.preferredTextLanguage,this.Hd=this.g.preferredTextRole,this.Fd=this.g.preferForcedSubs,this.Cd=[],r&&r(this),this.L=function(e){return new Fc({getBandwidthEstimate:function(){return e.o?e.o.getBandwidthEstimate():NaN},Fb:function(){return e.Fb()},getCurrentTime:function(){return e.h?e.h.currentTime:0},gb:function(){return e.gb()},xb:function(){return e.xb()},Rb:function(){return e.Rb()},U:function(){return e.U()},Zd:function(){return e.Zd()}},e.g.cmcd)}(this),this.fa=new rd(this.g.cmsd),this.F=wd(this),this.F.kg(this.g.streaming.forceHTTP),this.F.lg(this.g.streaming.forceHTTPS),this.F.o=this.g.streaming.minBytesForProgressEvents,this.Ub=this.ea=this.A=null,this.Ze=!1,this.Ye=new je((function(){return I((function(e){return 1==e.g?i.ea?b(e,i.Lb(i.Ub,!0),3):e.s(0):4!=e.g?b(e,i.load(i.ea),4):(i.Ze?i.Ub.pause():i.Ub.play(),i.ea=null,i.Ze=!1,void k(e))}))})),Ep&&(this.A=Ep(),this.A.configure(this.g.ads),this.Sb.D(this.A,"ad-content-pause-requested",(function(e){var t;return I((function(n){if(1==n.g)return i.Ye.stop(),i.ea?n.s(0):(i.Ub=i.h,i.Ze=i.Uc(),t=e.saveLivePosition||!1,b(n,i.Lg(!0,t),3));i.ea=n.h,k(n)}))})),this.Sb.D(this.A,"ad-content-resume-requested",(function(e){if(e=e.offset||0,i.ea){var t=i.ea;t.B&&e&&(t.B+=e)}i.Ye.da(.1)})),this.Sb.D(this.A,"ad-content-attach-requested",(function(){return I((function(e){return i.h||!i.Ub?e.s(0):b(e,i.Lb(i.Ub,!0),0)}))}))),this.Qe.D(e,"online",(function(){op(i),i.eg()})),this.xe=new je((function(){for(var e=Date.now()/1e3,t=!1,n=!0,r=l(i.i.variants),a=r.next();!a.done;a=r.next())0<(a=a.value).disabledUntilTime&&a.disabledUntilTime<=e&&(a.disabledUntilTime=0,t=!0),0<a.disabledUntilTime&&(n=!1);n&&i.xe.stop(),t&&qd(i,!1,void 0,!1,!1)})),this.ya=null,t&&(ne("Player w/ mediaElement","Please migrate from initializing Player with a mediaElement; use the attach method instead."),this.Lb(t,!0)),this.u=null}function pd(e){null!=e.O&&(Vt(e.O),e.O.release(),e.O=null)}function fd(e,t){return new ta(e,t)}function hd(e,t){kp.set(e,t)}function yd(e,t){e.dispatchEvent(fd("onstatechange",(new Map).set("state",t)))}function gd(e,t){var n;return I((function(r){return 1==r.g?(n=++e.Te,b(r,cd(e.$,t),2)):n!=e.Te?(e.$.release(),r.return(!0)):r.return(!1)}))}function vd(e,t){var n,r;return t=void 0!==t&&t,I((function(i){if(1==i.g)return n=null,e.i&&e.H&&e.Qb&&e.T?(r=e.h.currentTime,e.U()&&!t&&(r=null),b(i,bd(e,e.T,r,e.Pb,!0,!1,!1),3)):i.s(2);if(2!=i.g){n=i.h,e.Ee.push(n),e.H&&e.H.setMediaElement&&e.H.setMediaElement(null);var a=n,o=e.H,s=e.Qb;a.h=e.i,a.l=o,a.G=s,a=n,o=e.Fa,a.j=e.o,a.C=o,n.o=e.W,n.start(),e.i=null,e.H=null,e.Qb=null,e.o=null,e.Fa=null}return i.return(n)}))}function md(e,t,n,r,i){var a,o,s;return i=void 0!==i&&i,I((function(l){return 1==l.g?r?l.s(2):b(l,kd(e,t),3):(2!=l.g&&(r=l.h),function(e,t){if(!He())return!0;if(t){if(""==(e.h||lt()).canPlayType(t))return!1;if(!He()||!wo.has(t))return!0;if(Vr(t))return Qe()&&(e.g.drm.servers["com.apple.fps"]||e.g.drm.servers["com.apple.fps.1_0"])?e.g.streaming.useNativeHlsForFairPlay:e.g.streaming.preferNativeHls;if("application/dash+xml"===t||"video/vnd.mpeg.dash.mpd"===t)return e.g.streaming.preferNativeDash}return!1}(e,r)?l.return(null):(a=!1,o=!0,i&&(e.o&&e.Fa==e.g.abrFactory&&(o=!1),e.h&&"AUDIO"===e.h.nodeName&&(a=!0)),s=bd(e,t,n,r||null,!i,a,o),s=i?s.then((function(e){return e.A=!1,e})):s.then((function(t){return e.Ee.push(t),t})),l.return(s)))}))}function bd(e,t,n,r,i,a,o){var s,u,c,d,p,f,h,y,g,v,m,E;return i=void 0===i||i,a=void 0!==a&&a,o=void 0===o||o,I((function(T){return 1==T.g?(s=null,u=vn(e.g),a&&(u.manifest.disableVideo=!0),c=function(){return s.T&&s.u?null:s},d=function(){return c()?c().getConfiguration():e.g},1/0!=e.ka.width||1/0!=e.ka.height||e.g.ignoreHardwareResolution?T.s(2):b(T,ct(),3)):(2!=T.g&&(p=T.h,e.ka.width=p.width,e.ka.height=p.height),f=new go(u,e.ka,null),h={networkingEngine:e.F,filter:function(e){var t;return I((function(n){return 1==n.g?b(n,vo(f,e),2):4!=n.g?n.h?(t=fd("trackschanged"),b(n,Promise.resolve(),4)):n.s(0):(s.dispatchEvent(t),void k(n))}))},makeTextStreamsForClosedCaptions:function(t){return function(e,t){for(var n=new Set,r=l(t.textStreams),i=r.next();!i.done;i=r.next())"application/cea-608"!=(i=i.value).mimeType&&"application/cea-708"!=i.mimeType||n.add(i.originalId);for(r=l(t.variants),i=r.next();!i.done;i=r.next())if((i=i.value.video)&&i.closedCaptions)for(var a=l(i.closedCaptions.keys()),o=a.next();!o.done;o=a.next())if(o=o.value,!n.has(o)){var s=o.startsWith("CC")?"application/cea-608":"application/cea-708",u=new Yl,c=i.closedCaptions.get(o);s={id:e.We++,originalId:o,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:u,mimeType:s,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:c,originalLanguage:c,label:null,type:Nt,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:i.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set([Or(s,"")]),isAudioMuxedInVideo:!1,baseOriginalId:null},t.textStreams.push(s),n.add(o)}}(e,t)},onTimelineRegionAdded:function(e){nu(s.H,e)},onEvent:function(e){return s.dispatchEvent(e)},onError:function(e){return s.onError(e)},isLowLatencyMode:function(){return d().streaming.lowLatencyMode},updateDuration:function(){e.j&&s.T&&e.j.updateDuration()},newDrmInfo:function(e){var t=s.i,n=t?t.h:null;n&&t.A&&ko(f,n.keySystem,e)},onManifestUpdated:function(){var t=(new Map).set("isLive",e.U());s.dispatchEvent(fd("manifestupdated",t)),cc(s,!1,(function(){e.A&&e.A.onManifestUpdated(e.U())}))},getBandwidthEstimate:function(){return e.o.getBandwidthEstimate()},onMetadata:function(t,n,r,i){var a=t;"com.apple.hls.interstitial"==t&&(a="com.apple.quicktime.HLS",t={startTime:n,endTime:r,values:i},e.A)&&e.A.onHLSInterstitialMetadata(e,e.h,t),t=(i=l(i)).next();for(var o={};!t.done;o={Zf:void 0},t=i.next())o.Zf=t.value,"ID"!=o.Zf.name&&cc(s,!1,function(t){return function(){Sd(e,n,r,a,t.Zf)}}(o))},disableStream:function(t){return e.disableStream(t,e.g.streaming.maxDisabledTime)},addFont:function(t,n){return e.addFont(t,n)}},(y=new tu((function(){return e.Ra()}))).addEventListener("regionadd",(function(t){var n=t.region;lp(e,"timelineregionadded",n,s),cc(s,!1,(function(){e.A&&(e.A.onDashTimedMetadata(n),e.A.onDASHInterstitialMetadata(e,e.h,n))}))})),g=null,u.streaming.observeQualityChanges&&((g=new Jl((function(){return e.Fb()}))).addEventListener("qualitychange",(function(t){up(e,t.quality,t.position)})),g.addEventListener("audiotrackchange",(function(t){up(e,t.quality,t.position,!0)}))),v=!0,m={Xb:e.F,onError:function(e){return s.onError(e)},pe:function(t){cc(s,!0,(function(){var n=t,r=fd("keystatuschanged");e.dispatchEvent(r);var i=Object.keys(n);1==i.length&&""==i[0]&&(i=["00"],n={"00":n[""]}),r=1==i.length&&"00"==i[0];var a=!1;if(i.length){i=e.keySystem();for(var o=Ea(e.g.drm.clearKeys),s=l(e.i.variants),u=s.next();!u.done;u=s.next()){var c=[];(u=u.value).audio&&c.push(u.audio),u.video&&c.push(u.video);for(var d=(c=l(c)).next();!d.done;d=c.next()){var p=d.value;if(d=u.allowedByKeySystem,p.keyIds.size)if(p.drmInfos.length&&!o.size){for(var f=(p=l(p.drmInfos)).next();!f.done;f=p.next())if((f=f.value).keyIds.size&&f.keySystem==i){u.allowedByKeySystem=!0;for(var h=(f=l(f.keyIds)).next();!h.done;h=f.next())h=h.value,((h=n[r?"00":h])||e.C.F)&&(u.allowedByKeySystem=u.allowedByKeySystem&&!!h&&!To.includes(h))}}else for(u.allowedByKeySystem=!0,f=(p=l(p.keyIds)).next();!f.done;f=p.next())f=f.value,((f=n[r?"00":f])||e.C.F)&&(u.allowedByKeySystem=u.allowedByKeySystem&&!!f&&!To.includes(f));d!=u.allowedByKeySystem&&(a=!0)}}}a&&(Jd(e),!Zd(e))||(n=e.j.l)&&!n.allowedByKeySystem&&qd(e)}))},onExpirationUpdated:function(e,t){var n=fd("expirationupdated");s.dispatchEvent(n),(n=s.l)&&n.onExpirationUpdated&&n.onExpirationUpdated(e,t)},onEvent:function(t){s.dispatchEvent(t),"drmsessionupdate"==t.type&&v&&(v=!1,t=Date.now()/1e3-s.ya,(e.B||s.getStats()).j=t,e.O&&Vt(e.O))}},E=wd(e,c),ua(e.F,E),s=new uc(t,r,n,{config:u,$i:h,kj:y,jj:g,Lc:function(){return e.Lc(m)},Zi:f,networkingEngine:E,Uh:i,Th:o}),T.return(s))}))}function kd(e,t){var n,r;return I((function(i){return 1==i.g?(n=e.g.manifest.retryParameters,b(i,Ec(t,e.F,n),2)):("application/x-mpegurl"==(r=i.h)&&Qe()&&(r="application/vnd.apple.mpegurl"),i.return(r))}))}function Ed(e){var t=e.g.textDisplayFactory;t!==e.Se&&(e.u=t(),e.u.configure?e.u.configure(e.g.textDisplayer):ne("Text displayer w/ configure",'Text displayer should have a "configure" method!'),e.Se=t,e.u.setTextVisibility(e.oa))}function Td(e){var t,n,r;return I((function(i){if(1==i.g)return yd(e,"media-source"),e.h.removeAttribute("src"),As(e.h),Ed(e),t=function(e,t,n,r){return new Qs(e,t,n,r)}(e.h,e.u,{si:function(){return e.keySystem()},onMetadata:function(t,n,r){for(var i=(t=l(t)).next();!i.done;i=t.next())if((i=i.value).data&&"number"==typeof i.cueTime&&i.frames){var a=i.cueTime+n,o=r;o&&a>o&&(o=a);for(var s=l(i.frames),u=s.next();!u.done;u=s.next())Sd(e,a,o,"org.id3",u.value);e.A&&e.A.onHlsTimedMetadata(i,a)}},ej:function(t){e.Ga&&nu(e.Ga,{schemeIdUri:t.schemeIdUri,startTime:t.startTime,endTime:t.endTime,id:String(t.id),emsg:t})},onEvent:function(t){return e.dispatchEvent(t)},gj:function(){e.H&&e.H.update&&e.H.update()}},e.O),t.configure(e.g.mediaSource),n=e.g.manifest,r=n.segmentRelativeVttTiming,t.Ea=r,b(i,t.G,2);e.I=t,k(i)}))}function _d(e,t,n){function r(){return zd(e)}e.l.D(t,"playing",r),e.l.D(t,"pause",r),e.l.D(t,"ended",r),e.l.D(t,"ratechange",(function(){var t=e.h.playbackRate;0!=t&&(e.K&&(e.K.set(t),e.m==vp&&e.o.playbackRateChanged(t),Kd(e,t)),t=fd("ratechange"),e.dispatchEvent(t))})),t.remote&&(e.l.D(t.remote,"connect",(function(){return Jd(e)})),e.l.D(t.remote,"connecting",(function(){return Jd(e)})),e.l.D(t.remote,"disconnect",(function(){return I((function(n){if(1==n.g)return e.j&&"disconnected"==t.remote.state?b(n,Fu(e.j),2):n.s(2);Jd(e),k(n)}))}))),t.audioTracks&&(e.l.D(t.audioTracks,"addtrack",(function(){return Jd(e)})),e.l.D(t.audioTracks,"removetrack",(function(){return Jd(e)})),e.l.D(t.audioTracks,"change",(function(){return Jd(e)}))),t.textTracks&&(e.l.D(t.textTracks,"addtrack",(function(t){if(t.track)switch(t=t.track,t.kind){case"metadata":!function(e,t){if("metadata"==t.kind){t.mode="hidden",e.l.D(t,"cuechange",(function(){if(t.activeCues)for(var n=l(t.activeCues),r=n.next();!r.done;r=n.next())r=r.value,Sd(e,r.startTime,r.endTime,r.type,r.value),e.A&&e.A.onCueMetadataChange(r.value);if(t.cues){n=[];for(var i=(r=l(t.cues)).next(),a={};!i.done;a={bc:void 0},i=r.next())a.bc=i.value,"com.apple.quicktime.HLS"==a.bc.type&&null!=a.bc.startTime&&(i=n.find(function(e){return function(t){return t.startTime==e.bc.startTime&&t.endTime==e.bc.endTime}}(a)),i||(i={startTime:a.bc.startTime,endTime:a.bc.endTime,values:[]},n.push(i)),i.values.push(a.bc.value));for(r=(n=l(n)).next();!r.done;r=n.next())(r=r.value).values.some((function(e){return"X-ASSET-URI"==e.key||"X-ASSET-LIST"==e.key}))&&e.A&&(r.values.push({key:"CUE",description:"",data:0!=r.startTime||e.U()?"ONCE":"ONCE,PRE",mimeType:null,pictureType:null}),e.A.onHLSInterstitialMetadata(e,e.h,r))}}));var n=new je((function(){for(var t=function(e){return Array.from(e.h.textTracks).filter((function(e){return"metadata"==e.kind}))}(e),n=(t=l(t)).next();!n.done;n=t.next())n.value.mode="hidden"})).sb().da(.5);e.Cd.push((function(){n.stop()}))}}(e,t);break;case"chapters":!function(e,t){if(t&&"chapters"==t.kind){t.mode="hidden";var n=new je((function(){t.mode="hidden"})).sb().da(.5);e.Cd.push((function(){n.stop()}))}}(e,t);break;default:Jd(e)}})),e.l.D(t.textTracks,"removetrack",(function(){return Jd(e)})),e.l.D(t.textTracks,"change",(function(){return Jd(e)})),"keep"!==e.g.streaming.crossBoundaryStrategy&&(e.l.D(t,"waiting",(function(){e.j&&ju(e.j)})),e.l.D(t,"timeupdate",(function(){e.j&&ju(e.j)})))),"none"!=t.preload&&e.l.ma(t,"loadedmetadata",(function(){e.B.C=Date.now()/1e3-n}))}function Ad(e,t){t=(new Map).set("startTime",t.startTime).set("endTime",t.endTime).set("metadataType",t.schemeIdUri).set("payload",t.payload),e.dispatchEvent(fd("metadata",t))}function Sd(e,t,n,r,i){e.Aa&&((t={schemeIdUri:r,startTime:t,endTime:n||1/0,id:"",payload:i}).id=JSON.stringify(t),nu(e.Aa,t))}function wd(e,t){function n(n){t()?t().dispatchEvent(n):e.dispatchEvent(n)}function r(e){t()?cc(t(),!0,e):e()}return t||(t=function(){return null}),new sa((function(n,r,i,a){var o=t()?t().j:e.o;o&&o.segmentDownloaded(n,r,i,a)}),(function(t,i,a){n(fd("downloadheadersreceived",i=(new Map).set("headers",t).set("request",i).set("requestType",a))),r((function(){if(e.fa){var n=e.fa;if(n.h.enabled){var r=t["cmsd-static"];if(r)try{var i=new Map,a=r.split(",");for(r=0;r<a.length;r++){var o=a[r].split("=");i.set(o[0],id(o[1]))}}catch(e){}if(i=t["cmsd-dynamic"]){try{var s=new Map,l=i.split(";");for(i=1;i<l.length;i++){var u=l[i].split("=");s.set(u[0],id(u[1]))}var c=s}catch(e){c=null}c&&(n.g=c)}}}}))}),(function(e,t){n(fd("downloadcompleted",e=(new Map).set("request",e).set("response",t)))}),(function(e,t,r,i){n(fd("downloadfailed",e=(new Map).set("request",e).set("error",t).set("httpResponseCode",r).set("aborted",i)))}),(function(t,n,i){r((function(){var r=e.L,a=i;if(a=void 0===a?{}:a,r.g.enabled)if("HEAD"===n.method)Hc(r,n);else switch(t){case 0:try{if(r.g.enabled){if(a.type){e:{switch(a.type){case 4:var o=r.l?ed:$c;break e;case 3:case 2:o=r.l?nd:td;break e;case 5:o="s";break e}o=void 0}r.i=o}Hc(r,n,{ot:zc,su:!r.u})}}catch(e){Z("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",e)}break;case ya:try{if(r.g.enabled){var s=a.segment;o=0,s&&(o=s.endTime-s.startTime);var u={d:1e3*o,st:r.h.U()?"l":"v"};u.ot=function(e){if(0===e.type)return qc;if(e=e.stream){var t=e.type;if("video"==t)return e.codecs&&e.codecs.includes(",")?Zc:Yc;if("audio"==t)return Wc;if("text"==t)return"application/mp4"===e.mimeType?Qc:Xc}}(a);var c=u.ot===Yc||u.ot===Wc||u.ot===Zc||u.ot===Qc,d=a.stream;if(d){var p=r.h.gb();if(c&&(u.bl=function(e,t){if(!(t=e.h.Fb()[t]).length)return NaN;var n=e.h.getCurrentTime();return(e=t.find((function(e){return e.start<=n&&e.end>=n})))?1e3*(e.end-n):NaN}(r,d.type),u.ot!==Qc)){var f=Vc(r,d.type);u.dl=p?f/Math.abs(p):f}if(d.bandwidth&&(u.br=d.bandwidth/1e3),d.segmentIndex&&s){var h=d.segmentIndex.Gb(s.endTime,!0,0>p);if(h){var y=h.next().value;if(y&&y!=s){if(!un(s.N(),y.N())){var g=y.N()[0],v=n.uris[0],m=new URL(g),b=new URL(v);if(m.origin!==b.origin)var k=g;else{for(var E=m.pathname.split("/").slice(1),T=b.pathname.split("/").slice(1,-1);E[0]===T[0];)E.shift(),T.shift();for(;T.length;)T.shift(),E.unshift("..");k=E.join("/")}u.nor=k}if((y.Sa||y.wa)&&(s.Sa!=y.Sa||s.wa!=y.wa)){var _=y.Sa+"-";y.wa&&(_+=y.wa),u.nrr=_}}}var A=r.h.gb()||1,S=Vc(r,d.type)||500,w=d.bandwidth,C=w?w*(s.endTime-s.startTime)/1e3/(S/A/1e3)*r.g.rtpSafetyFactor:NaN;isNaN(C)||(u.rtp=C)}}c&&u.ot!==Qc&&(u.tb=function(e,t){var n=e.h.Rb();if(!n.length)return NaN;e=n[0];for(var r=(n=l(n)).next();!r.done;r=n.next())"variant"===(r=r.value).type&&r.bandwidth>e.bandwidth&&(e=r);switch(t){case Yc:return e.videoBandwidth||NaN;case Wc:return e.audioBandwidth||NaN;default:return e.bandwidth}}(r,u.ot)/1e3),Hc(r,n,u)}}catch(e){Z("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",e)}break;case 2:case 5:case 6:Hc(r,n,{ot:"k"});break;case 4:Hc(r,n,{ot:"o"})}}))}),(function(n,r,i,a){(n=t()?t().l:e.H)&&n.banLocation&&n.banLocation(a)}),(function(n,r){if(r.data){r=r.data.byteLength;var i=t()?t().getStats():e.B;i&&(i.mc=isNaN(i.mc)?r:i.mc+r,0===n&&(i.bh=r))}}))}function Cd(e,t,n){e.M=new fo,e.M.g=ho,xd(e),Gd(e),e.pa=new je((function(){Pd(e)})),e.g.streaming.rebufferingGoal&&e.pa.ua(.25),e.l.D(t,"waiting",(function(){return Pd(e)})),e.l.D(t,"canplaythrough",(function(){return Pd(e)})),e.l.D(t,"playing",(function(){return Pd(e)})),e.l.D(t,"seeked",(function(){return Pd(e)})),n&&(e.l.D(t,"stalled",(function(){return Pd(e)})),e.l.D(t,"progress",(function(){return Pd(e)})),e.l.D(t,"timeupdate",(function(){return Pd(e)})))}function xd(e){var t=e.g.streaming.rebufferingGoal;e.M.i.set(yo,Math.min(.5,t/2)).set(ho,t)}function Pd(e){switch(e.m){case mp:if(e.Uc())var t=!0;else{var n=ms(e.h.buffered);t=null!=n&&n>=e.h.duration-1}break;case vp:e:if(e.Uc()||nl(e.I))t=!0;else{if(e.i.presentationTimeline.U()){n=e.i.presentationTimeline.cc();var r=ms(e.h.buffered);if(null!=r&&r>=n){t=!0;break e}}t=!1}break;default:t=!1}r=ks(e.h.buffered,e.h.currentTime);var i=t,a=(n=e.M).i.get(n.g);t=n.g,r=i||r>=a&&0<r?yo:ho,n.g=r,(t=t!=r)&&r===yo&&(n.h=Date.now()),t&&Gd(e)}function Rd(e){if(e.te=new go(e.g,e.ka,e.C),e.H){var t=vn(e.g.manifest);e.h&&"AUDIO"===e.h.nodeName&&(t.disableVideo=!0),e.H.configure(t)}if(e.C&&e.C.configure(e.g.drm),e.j){e.j.configure(e.g.streaming);try{e.m!=yp&&bo(e.te,e.i)&&Jd(e)}catch(t){sp(e,t)}e.o&&Zd(e),!(t=e.j.l)||t.allowedByApplication&&t.allowedByKeySystem||qd(e)}if(e.F&&(e.F.kg(e.g.streaming.forceHTTP),e.F.lg(e.g.streaming.forceHTTPS),e.F.o=e.g.streaming.minBytesForProgressEvents),e.I&&(e.I.configure(e.g.mediaSource),e.I.Ea=e.g.manifest.segmentRelativeVttTiming),e.u)if(t=e.g.textDisplayFactory,e.Se!=t){var n=e.u;if(e.u=t(),e.u.configure?e.u.configure(e.g.textDisplayer):ne("Text displayer w/ configure",'Text displayer should have a "configure" method!'),e.u.setTextLanguage||ne("Text displayer w/ setTextLanguage",'Text displayer should have a "setTextLanguage" method!'),e.u.setTextVisibility(n.isTextVisible()),n.destroy(),e.I){n=e.I;var r=e.u;n.ea=r,n.h&&(n.h.j=r)}e.Se=t,e.j&&((n=(t=e.j).i.get(Nt))&&_u(t,n.stream,!0,0,!0))}else e.u.configure&&e.u.configure(e.g.textDisplayer);e.o&&(e.o.configure(e.g.abr),e.g.abr.enabled?e.o.enable():e.o.disable(),ip(e)),e.M&&xd(e),e.pa&&(e.g.streaming.rebufferingGoal?e.pa.ua(.25):e.pa.stop()),e.i&&dp(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.A&&e.A.configure(e.g.ads),e.L&&e.L.configure(e.g.cmcd),e.fa&&e.fa.configure(e.g.cmsd)}function Id(e){return e&&(e=/(\d+)x(\d+)/.exec(e))?{oc:parseInt(e[1],10),rows:parseInt(e[2],10)}:null}function Dd(e,t){var n,r;return I((function(i){return 1==i.g?e.m!=vp&&e.m!=mp?i.return(null):(n=e.Oe,e.i&&(n=e.i.imageStreams),(r=n[0])?(null!=t&&(r=n.find((function(e){return e.id==t}))),r?r.segmentIndex?i.s(2):b(i,r.createSegmentIndex(),2):i.return(null)):i.return(null)):i.return(r)}))}function Od(e,t){var n=e.segmentIndex.find(t);if(null==n)return null;var r=Id((n=e.segmentIndex.get(n)).tilesLayout||e.tilesLayout);if(!r)return null;var i=e.width||0,a=e.height||0,o=i/r.oc,s=a/r.rows,l=r.oc*r.rows,u=n.j-n.startTime;u=n.B||u/l;var c=n.startTime,d=0,p=0;return 1<l&&(t=Math.floor((t-n.startTime)/u),c=n.startTime+t*u,d=t%r.oc*o,p=Math.floor(t/r.oc)*s),t=!1,(r=n.thumbnailSprite)&&(t=!0,s=r.height,d=r.positionX,p=r.positionY,o=r.width),{segment:n,imageHeight:a,imageWidth:i,height:s,positionX:d,positionY:p,startTime:c,duration:u,uris:n.N(),width:o,sprite:t,mimeType:n.mimeType||e.mimeType,codecs:n.codecs||e.codecs}}function Ld(e,t){e.l.D(t,"cuechange",(function(){e.u.remove(0,Math.max(0,e.h.currentTime-e.g.streaming.bufferBehind));for(var n={periodStart:0,segmentStart:0,segmentEnd:e.h.duration,vttOffset:0},r=[],i=Array.from(t.activeCues||[]),a=(i=l(i)).next();!a.done;a=i.next()){if(1/0===(a=a.value).endTime||a.endTime<a.startTime)a=null;else{var o=new Jn(a.startTime,a.endTime,a.text);o.line="number"==typeof a.line?a.line:null,a.lineAlign&&(o.lineAlign=a.lineAlign),o.lineInterpretation=a.snapToLines?pr:1,o.position="number"==typeof a.position?a.position:null,a.positionAlign&&(o.positionAlign=a.positionAlign),o.size=a.size,o.textAlign=a.align,"lr"===a.vertical?o.writingMode="vertical-lr":"rl"===a.vertical&&(o.writingMode="vertical-rl"),a.region&&(o.region.id=a.region.id,o.region.height=a.region.lines,o.region.heightUnits=2,o.region.regionAnchorX=a.region.regionAnchorX,o.region.regionAnchorY=a.region.regionAnchorY,o.region.scroll=a.region.scroll,o.region.viewportAnchorX=a.region.viewportAnchorX,o.region.viewportAnchorY=a.region.viewportAnchorY,o.region.viewportAnchorUnits=rn,o.region.width=a.region.width,o.region.widthUnits=rn),tr(o),a=o}a&&((o=e.g.mediaSource.modifyCueCallback)&&o(a,null,n),r.push(a))}e.u.append(r)})),t.mode=document.pictureInPictureElement?"showing":"hidden"}function Md(e){return Array.from(e.h.textTracks).filter((function(e){return"metadata"!=e.kind&&"chapters"!=e.kind&&"Shaka Player TextTrack"!=e.label}))}function Nd(e){return Array.from(e.h.textTracks).find((function(e){return"Shaka Player TextTrack"==e.label}))}function Ud(e){return Array.from(e.h.textTracks).filter((function(e){return"chapters"==e.kind}))}function Bd(e,t){var n;return I((function(r){switch(r.g){case 1:return E(r,2),b(r,Ec(t,e.F,e.g.streaming.retryParameters),4);case 4:n=r.h,_(r,3);break;case 2:A(r);case 3:if(n)return r.return(n);throw new Re(1,2,2011,t)}}))}function Fd(e,t,n,r,i,a,o){var s,l,u,c;return I((function(d){if(1==d.g)return"text/vtt"!=i||o.length?b(d,jd(e,t,e.F,e.g.streaming.retryParameters),3):d.s(2);2!=d.g&&(s=d.h,l=Hd(e,s,i,o),u=new Blob([l],{type:"text/vtt"}),t=El(u),i="text/vtt"),c=document.createElement("track");var p=e.L,f=t;try{if(p.g.enabled){var h=jc(p);h.ot=Xc,h.su=!0;var y=Kc(f,Gc(h))}else y=f}catch(e){Z("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",e),y=f}return c.src=y,c.label=a,c.kind=r,c.srclang=n,e.h.getAttribute("crossorigin")||e.h.setAttribute("crossorigin","anonymous"),e.h.appendChild(c),d.return(c)}))}function jd(e,t,n,r){var i,a,o;return I((function(s){if(1==s.g){i=ya,(a=ca([t],r)).method="GET";var l=e.L;try{l.g.enabled&&Hc(l,a,{ot:Xc,su:!0})}catch(e){Z("CMCD_TEXT_ERROR","Could not generate text CMCD data.",e)}return b(s,n.request(i,a).promise,2)}return o=s.h,s.return(o.data)}))}function Hd(e,t,n,r){var i=Zr(n);if(i)return n=i(),e={periodStart:0,segmentStart:0,segmentEnd:e.h.duration,vttOffset:0},t=we(t),function(e,t){function n(e){for(var n=e,r=l(t),i=r.next();!i.done;i=r.next())(i=i.value).end&&i.start<e&&(n+=i.end-i.start);return(10>(e=Math.floor(n/3600))?"0":"")+e+":"+(10>(r=Math.floor(n/60%60))?"0":"")+r+":"+(10>(i=Math.floor(n%60))?"0":"")+i+"."+(100>(n=Math.floor(1e3*n%1e3))?10>n?"00":"0":"")+n}var r=Sc(e);e="WEBVTT\n\n";for(var i=(r=l(r)).next();!i.done;i=r.next())e+=n((i=i.value).startTime)+" --\x3e "+n(i.endTime)+function(e){var t=[];switch(e.textAlign){case"left":t.push("align:left");break;case"right":t.push("align:right");break;case or:t.push("align:middle");break;case"start":t.push("align:start");break;case"end":t.push("align:end")}switch(e.writingMode){case"vertical-lr":t.push("vertical:lr");break;case"vertical-rl":t.push("vertical:rl")}return t.length?" "+t.join(" "):""}(i)+"\n",e+=i.payload+"\n\n";return e}(t=n.parseMedia(t,e,null,[]),r);throw new Re(2,2,2014,n)}function Vd(e){var t=$u();return t.streaming.failureCallback=function(t){if(e.U()){var n=null;1001==t.code||1002==t.code?(n=1,e.g.streaming.lowLatencyMode&&(n=.1)):1003==t.code&&(n=.1),null!=n&&(t.severity=1,e.eg(n))}},t.textDisplayFactory=function(){return!e.ue||Qe()&&!document.fullscreenEnabled?"addTextTrack"in e.h?new xc(e.h,"Shaka Player TextTrack"):new Ic:new Dc(e.h,e.ue)},t}function Gd(e){var t=e.Of();if(e.B&&e.M&&e.G){if(0==e.g.streaming.rebufferingGoal){var n=e.K;n.j=!1,ql(n)}else(n=e.K).j=t,ql(n);if(e.L&&(n=e.L,t||n.u||(n.u=!0),n.u&&t&&(n.B=!0),n.F=t),zd(e),n=e.g.streaming.liveSync.dynamicTargetLatency.maxAttempts,e.g.streaming.liveSync.dynamicTargetLatency.enabled&&t&&e.Ue<n){n=e.g.streaming.liveSync.dynamicTargetLatency.maxLatency;var r=e.g.streaming.liveSync.targetLatencyTolerance,i=e.g.streaming.liveSync.dynamicTargetLatency.rebufferIncrement;e.P&&(e.P=Math.min(e.P+ ++e.Ue*i,n-r))}}t=(new Map).set("buffering",t),e.dispatchEvent(fd("buffering",t))}function Kd(e,t){e.Na.Qa(),e.Na.D(e.h,"timeupdate",(function(){var n=e.h.currentTime,r=e.Ra(),i=e.U()?e.g.streaming.safeSeekOffset:0;0<t?Math.floor(n)>=Math.floor(r.end)&&e.gd():Math.floor(n)<=Math.floor(r.start+i)&&e.gd()}))}function zd(e){if(e.B&&e.M){var t=e.B.g,n="playing";e.M.g==ho?n="buffering":e.Uc()?n="ended":e.h.paused&&(n="paused");var r=n;if(null==t.g)t.g={timestamp:Date.now()/1e3,state:r,duration:0},t=!0;else{var i=Date.now()/1e3;t.g.duration=i-t.g.timestamp,t.g.state==r?t=!1:(t.h.push(t.g),t.g={timestamp:i,state:r,duration:0},t=!0)}t&&(n=(new Map).set("newstate",n),e.dispatchEvent(fd("statechanged",n)))}}function Wd(e){var t=e.h.playbackRate,n=e.U();if(e.g.streaming.vodDynamicPlaybackRate&&!n){var r=e.g.streaming.vodDynamicPlaybackRateLowBufferRate,i=e.Qg();i<=e.g.streaming.vodDynamicPlaybackRateBufferRatio?t!=r&&e.Md(r,!1):1==i&&t!==e.K.sc()&&e.gd()}if(n&&(n=e.Ra(),Number.isFinite(n.end)&&!(e.h.currentTime<n.start||e.h.paused))){r=e.g.streaming.liveSync.targetLatencyTolerance,i=e.g.streaming.liveSync.dynamicTargetLatency.enabled;var a=e.g.streaming.liveSync.dynamicTargetLatency.stabilityThreshold;if(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled)var o=e.g.streaming.liveSync.targetLatency,s=o+r,l=Math.max(0,o-r),u=e.g.streaming.liveSync.maxPlaybackRate,c=e.g.streaming.liveSync.minPlaybackRate;else e.i&&e.i.serviceDescription&&(o=e.i.serviceDescription.targetLatency,null!=e.i.serviceDescription.targetLatency?s=e.i.serviceDescription.targetLatency+r:null!=e.i.serviceDescription.maxLatency&&(s=e.i.serviceDescription.maxLatency),null!=e.i.serviceDescription.targetLatency?l=Math.max(0,e.i.serviceDescription.targetLatency-r):null!=e.i.serviceDescription.minLatency&&(l=e.i.serviceDescription.minLatency),u=e.i.serviceDescription.maxPlaybackRate||e.g.streaming.liveSync.maxPlaybackRate,c=e.i.serviceDescription.minPlaybackRate||e.g.streaming.liveSync.minPlaybackRate);e.P||"number"!=typeof o||(e.P=o);var d=e.g.streaming.liveSync.dynamicTargetLatency.maxAttempts;i&&e.Ma&&null!==e.P&&"number"==typeof o&&e.Ue<d&&Date.now()-e.Ma>1e3*a&&(a=e.g.streaming.liveSync.dynamicTargetLatency.minLatency,e.P=Math.max(e.P-(o-a)/2,a+r),e.Ma=Date.now()),i&&null!==e.P&&(s=e.P+r,l=e.P-r),o=n.end-e.h.currentTime,r=0,e.m==mp&&(0<(i=e.h.buffered).length&&(r=i.end(i.length-1),r=Math.max(u,r-n.end))),n=e.g.streaming.liveSync.panicMode,i=1e3*e.g.streaming.liveSync.panicThreshold,a=Date.now()-e.M.h,n&&!c&&(c=e.g.streaming.liveSync.minPlaybackRate),n&&c&&a<=i?t!=c&&e.Md(c,!1):null!=s&&u&&o-r>s?(t!=u&&e.Md(u,!1),e.Ma=null):null!=l&&c&&o-r<l?(t!=c&&e.Md(c,!1),e.Ma=null):t!==e.K.sc()&&(e.gd(),e.Ma=Date.now())}}function Yd(e){if(e.h){var t=function(t,n){var r=void 0===r?Number.EPSILON:r;if(t===n)r=!0;else{var i=Math.abs(t-n);r=i<=r||r!==Number.EPSILON&&Math.abs(i-r)<=Number.EPSILON}return!!((r||n>t)&&e.Ve<t)&&(e.Ve=t,!0)},n=e.Ra();if(n=0<(n=n.end-n.start)?e.h.currentTime/n:0,!isNaN(n)){if(t(0,n*=100))var r=fd("started");else t(25,n)?r=fd("firstquartile"):t(50,n)?r=fd("midpoint"):t(75,n)?r=fd("thirdquartile"):(t(100,n)&&(r=fd("complete")),e.g&&1/0!=e.g.playRangeEnd&&e.Uc()&&e.h.pause());r&&e.dispatchEvent(r)}}}function Zd(e){try{Eo(e.te,e.i)}catch(t){return sp(e,t),!1}var t=Di(e.i.variants);return t=e.W.create(t),e.o.setVariants(Array.from(t.values())),!0}function qd(e,t,n,r,i){var a;t=void 0===t||t,n=void 0===n?0:n,r=void 0!==r&&r,i=void 0===i||i,(a=Zd(e)?e.o.chooseVariant():null)&&Xd(e,a,i,t,n,r)}function Xd(e,t,n,r,i,a){a=void 0!==a&&a;var o=e.j.l;if(t==o)r&&Eu(e.j,t,r,i,!0);else{var s=e.B.h;if(s.h!=t&&(s.h=t,s.g.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth})),Eu(e.j,t,r,i,a,n),r=null,o&&(r=Ai(o)),(o=Ai(t)).active=!0,e.O&&(i=e.O,t=t.video)){switch(t.dependencyStream&&(t=t.dependencyStream),a=0,s=-1,t.mimeType){case"video/webm":a=1;break;case"video/mp4":a=2}switch(e.Tg()){case"DASH":s=1;break;case"HLS":s=0}i.g&&(i.g.setLevelSwitching(t.id,!0),i.g.setContainerFormat(a),i.j||i.g.setStreamingFormat(s))}n?pp(e,n=fd("adaptation",n=(new Map).set("oldTrack",r).set("newTrack",o))):$d(e,r,o),ep(e,r,o)}}function Qd(e,t){var n=Array.from(e.h.audioTracks).find((function(e){return e.enabled}));t.enabled=!0,n&&(t.id!==n.id&&(n.enabled=!1),$d(e,n=Pi(n),t=Pi(t)),ep(e,n,t))}function Jd(e){pp(e,fd("trackschanged")),tp(e)}function $d(e,t,n){pp(e,t=fd("variantchanged",t=(new Map).set("oldTrack",t).set("newTrack",n)))}function ep(e,t,n){var r=!1;t&&t.audioId==n.audioId&&t.audioGroupId==n.audioGroupId||(r=!0),r&&tp(e)}function tp(e){pp(e,fd("audiotrackschanged"))}function np(e){pp(e,fd("textchanged"))}function rp(e){pp(e,fd("texttrackvisibility"))}function ip(e){e.g.abr.enabled||op(e),pp(e,fd("abrstatuschanged",(new Map).set("newStatus",e.g.abr.enabled)))}function ap(e){var t=e.vc().find((function(e){return e.active}));t&&e.u&&e.u.setTextLanguage&&e.u.setTextLanguage(t.language)}function op(e,t){if(t=void 0===t||t,e.m==vp){e.xe.stop();for(var n=l(e.i.variants),r=n.next();!r.done;r=n.next())r.value.disabledUntilTime=0;t&&Zd(e)}}function sp(e,t){var n,r,i,a;return I((function(o){switch(o.g){case 1:if(e.m==yp)return o.return();if(1===t.severity&&e.B.K++,n=!0,!(e.sa&&e.i&&e.j)||3016!=t.code&&3014!=t.code&&3015!=t.code&&3018!=t.code){o.s(2);break}return Qe()&&3016==t.code?o.return():(E(o,3),b(o,Fu(e.j),5));case 5:r=o.h,n=!r,r&&(i=fd("mediasourcerecovered"),e.dispatchEvent(i)),_(o,2);break;case 3:A(o),n=!0;case 2:if(!n)return o.return();2===t.severity&&op(e,!1),a=fd("error",(new Map).set("detail",t)),e.dispatchEvent(a),a.defaultPrevented&&(t.handled=!0),k(o)}}))}function lp(e,t,n,r){r=void 0===r?e:r,e=(new Map).set("detail",{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,timescale:n.timescale,eventElement:n.eventElement,eventNode:n.eventNode}),r.dispatchEvent(fd(t,e))}function up(e,t,n,r){r=void 0!==r&&r,t=(new Map).set("mediaQuality",{bandwidth:t.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate,height:t.height,mimeType:t.mimeType,channelsCount:t.channelsCount,pixelAspectRatio:t.pixelAspectRatio,width:t.width,label:t.label,roles:t.roles,language:t.language}).set("position",n),e.dispatchEvent(fd(r?"audiotrackchanged":"mediaqualitychanged",t))}function cp(e,t){if(t=void 0===t||t,!e.h.error)return t?new Re(2,3,3016):null;var n=e.h.error.code;return t||1!=n?((t=e.h.error.msExtendedCode)&&(0>t&&(t+=Math.pow(2,32)),t=t.toString(16)),new Re(2,3,3016,n,t,e.h.error.message)):null}function dp(e,t,n){0<t&&(e.U()||e.Bh(t)),n<(t=e.getDuration())&&(e.U()||e.bb(n))}function pp(e,t){I((function(n){if(1==n.g)return b(n,Promise.resolve(),2);e.m!=yp&&e.dispatchEvent(t),k(n)}))}function fp(e){for(var t=new Set,n=(e=l(e)).next();!n.done;n=e.next())(n=n.value).language?t.add(si(n.language)):t.add("und");return t}function hp(e){for(var t=new Map,n=new Map,r=(e=l(e)).next();!r.done;r=e.next()){var i="und",a=[];(r=r.value).language&&(i=si(r.language)),(a="variant"==r.type?r.audioRoles:r.roles)&&a.length||(a=[""]),t.has(i)||t.set(i,new Set);for(var o=(a=l(a)).next();!o.done;o=a.next())o=o.value,t.get(i).add(o),r.label&&(n.has(i)||n.set(i,new Map),n.get(i).set(o,r.label))}var s=[];return t.forEach((function(e,t){for(var r=(e=l(e)).next();!r.done;r=e.next()){r=r.value;var i=null;n.has(t)&&n.get(t).has(r)&&(i=n.get(t).get(r)),s.push({language:t,role:r,label:i})}})),s}ud.prototype.release=function(){0<this.h.length?this.h.shift()():this.g=null},y(dd,ia),(n=dd.prototype).destroy=function(){var e,t=this;return I((function(n){switch(n.g){case 1:return t.m==yp?n.return():(pd(t),e=t.detach(),t.m=yp,b(n,e,2));case 2:return b(n,t.pf(),3);case 3:if(t.Qe&&(t.Qe.release(),t.Qe=null),t.zd&&(t.zd.release(),t.zd=null),t.l&&(t.l.release(),t.l=null),t.Na&&(t.Na.release(),t.Na=null),t.Sb&&(t.Sb.release(),t.Sb=null),t.Fa=null,t.g=null,t.B=null,t.ue=null,t.L=null,t.fa=null,!t.F){n.s(4);break}return b(n,t.F.destroy(),5);case 5:t.F=null;case 4:t.o&&(t.o.release(),t.o=null),ia.prototype.release.call(t),k(n)}}))},n.Lb=function(e,t){t=void 0===t||t;var n,r,i,a=this;return I((function(o){switch(o.g){case 1:if(a.m==yp)throw new Re(2,7,7e3);if(n=a.h&&a.h==e,!a.h||a.h==e){o.s(2);break}return b(o,a.detach(),2);case 2:return b(o,gd(a,"attach"),4);case 4:if(o.h)return o.return();if(E(o,5,6),n||(yd(a,"attach"),r=function(){var e=cp(a,!1);e&&sp(a,e)},a.zd.D(e,"error",r),a.h=e,a.L&&a.L.setMediaElement(e)),!t||!He()||a.I){o.s(6);break}return b(o,Td(a),6);case 6:S(o),a.$.release(),w(o,0);break;case 5:return i=A(o),b(o,a.detach(),10);case 10:throw i}}))},n.Vh=function(e){this.yg=e},n.detach=function(e){e=void 0!==e&&e;var t=this;return I((function(n){if(1==n.g){if(t.m==yp)throw new Re(2,7,7e3);return b(n,t.kc(!1,e),2)}if(3!=n.g)return b(n,gd(t,"detach"),3);if(n.h)return n.return();try{t.h&&(t.zd.Qa(),t.h=null),yd(t,"detach"),t.A&&!e&&t.A.release()}finally{t.$.release()}k(n)}))},n.kc=function(t,n){t=void 0===t||t,n=void 0!==n&&n;var r,i,a,o,s,u,c,d,p,f,h=this;return I((function(y){switch(y.g){case 1:return h.m!=yp&&(h.m=gp),b(y,gd(h,"unload"),2);case 2:return y.h?y.return():(T(y,3),h.sa=!1,yd(h,"unload"),pd(h),r=h.Cd.map((function(e){return e()})),h.Cd=[],b(y,Promise.all(r),5));case 5:if(h.dispatchEvent(fd("unloading")),h.yd&&(h.yd.release(),h.yd=null),h.Aa&&(h.Aa.release(),h.Aa=null),h.Ga&&(h.Ga.release(),h.Ga=null),h.h&&(h.l.Qa(),h.Na.Qa()),h.xe.stop(),h.La&&(h.La.release(),h.La=null),h.pa&&(h.pa.stop(),h.pa=null),!h.H){y.s(6);break}return b(y,h.H.stop(),7);case 7:h.H=null,h.Qb=null;case 6:if(!h.o){y.s(8);break}return b(y,h.o.stop(),8);case 8:if(!h.j){y.s(10);break}return b(y,h.j.destroy(),11);case 11:h.j=null;case 10:if(h.K&&(h.K.release(),h.K=null),h.G&&(h.G.release(),h.G=null),"webkit"!==e.shakaMediaKeysPolyfill||!h.C){y.s(12);break}return b(y,h.C.destroy(),13);case 13:h.C=null;case 12:if(!h.I){y.s(14);break}return b(y,h.I.destroy(),15);case 15:h.I=null;case 14:if(h.A&&!n&&h.A.onAssetUnload(),h.ea&&!n&&(h.ea.destroy(),h.ea=null),n||h.Ye.stop(),h.L&&function(e){e.u=!1,e.F=!0,e.B=!1,e.l=!1,e.m=0,e.o=0,e.A=0,e.G=!1,e.j=null,e.C.Qa()}(h.L),h.fa&&(h.fa.g=null),!h.u){y.s(16);break}return b(y,h.u.destroy(),17);case 17:h.u=null;case 16:if(h.h&&(As(h.h),h.h.src&&(h.h.removeAttribute("src"),h.h.load())),!h.C){y.s(18);break}return b(y,h.C.destroy(),19);case 19:h.C=null;case 18:if(h.ya&&h.T!=h.ya.Qc()&&(h.ya.u||h.ya.destroy(),h.ya=null),h.T=null,h.Pb=null,h.M=null,h.i){for(i=l(h.i.variants),a=i.next();!a.done;a=i.next())for(o=a.value,s=l([o.audio,o.video]),u=s.next();!u.done;u=s.next())(c=u.value)&&c.segmentIndex&&c.segmentIndex.release();for(d=l(h.i.textStreams),p=d.next();!p.done;p=d.next())(f=p.value).segmentIndex&&f.segmentIndex.release()}h.g&&h.g.streaming.clearDecodingCache&&(Bi.clear(),Be.clear()),h.i=null,h.B=new lc,h.Se=null,h.Ma=null,h.P=null,h.Ue=-1,h.Oe=[],h.Ve=-1,h.F&&h.F.Hg(),Gd(h);case 3:S(y),h.$.release(),w(y,4);break;case 4:if(t&&He()&&!h.I&&h.h)return b(y,Td(h),0);y.s(0)}}))},n.Kj=function(e){this.Z=e},n.load=function(t,n,r){n=void 0===n?null:n;var i,a,o,s,u,c,d,p,f,h,y,g,v,m=this;return I((function(_){switch(_.g){case 1:if(m.m==yp)throw new Re(2,7,7e3);if(i=null,a="",t instanceof uc){if(t.u)throw new Re(2,7,7006);a=(i=t).Qc()||""}else a=t||"";return b(_,cd(m.$,"load"),2);case 2:if(m.$.release(),!m.h)throw new Re(2,7,7002);if(!m.T){_.s(3);break}return m.T=a,b(_,m.kc(!1),3);case 3:if(o=++m.Te,s=function(){return I((function(e){if(1==e.g)return m.Te==o?e.s(0):i?b(e,i.destroy(),3):e.s(3);throw new Re(2,7,7e3)}))},u=function(e,t){return I((function(n){switch(n.g){case 1:return T(n,2),b(n,cd(m.$,t),4);case 4:return b(n,s(),5);case 5:return b(n,e(),6);case 6:return b(n,s(),7);case 7:i&&m.g&&(i.g=m.g);case 2:S(n),m.$.release(),w(n,0)}}))},E(_,5,6),null==n&&i&&(n=i.getStartTime()),m.Z=n,m.sa=!1,m.dispatchEvent(fd("loading")),i){r=i.Z,_.s(8);break}if(r){_.s(8);break}return b(_,u((function(){return I((function(e){if(1==e.g)return b(e,kd(m,a),2);r=e.h,k(e)}))}),"guessMimeType_"),8);case 8:if(c=!!i,i){dc(i,m),m.B=i.getStats(),_.s(11);break}return b(_,md(m,a,n,r,!0),12);case 12:(i=_.h)?(i.A=!1,dc(i,m),m.B=i.getStats(),i.start(),i.m.catch((function(){}))):m.B=new lc;case 11:return d=!i,p=Date.now()/1e3,m.B=i?i.getStats():new lc,m.T=a,m.Pb=r||null,m.Aa=new tu((function(){return m.Ra()})),d?b(_,u((function(){return I((function(e){return b(e,function(e,t){var n,r,i,a,o;return I((function(s){return 1==s.g?(n=Ut,r=Date.now()/1e3,i=!0,e.C=e.Lc({Xb:e.F,onError:function(t){sp(e,t)},pe:function(){},onExpirationUpdated:function(){var t=fd("expirationupdated");e.dispatchEvent(t)},onEvent:function(t){e.dispatchEvent(t),"drmsessionupdate"==t.type&&i&&(i=!1,e.B.j=Date.now()/1e3-r)}}),e.C.configure(e.g.drm),a={id:0,language:"und",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},(o={id:0,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:t?jr(t):"",codecs:t?Hr(t):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:n.la,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null}).fullMimeTypes.add(Or(o.mimeType,o.codecs)),t.startsWith("audio/")?(o.type=n.V,a.audio=o):a.video=o,e.C.$=!0,b(s,ja(e.C,[a],[]),2)):b(s,e.C.Lb(e.h),0)}))}(m,r),0)}))}),"initializeSrcEqualsDrmInner_"),23):(m.Ga=new tu((function(){return m.Ra()})),b(_,u((function(){return I((function(e){if(1==e.g)return b(e,Promise.race([i.oa,i.m]),2);m.Qb=i.G;var t=i;t.pa=!0,m.H=t.l,m.i=i.Hf(),k(e)}))}),"waitForFinish"),15));case 15:if(m.I){_.s(16);break}return b(_,u((function(){return I((function(e){return b(e,Td(m),0)}))}),"initializeMediaSourceEngineInner_"),16);case 16:return m.i&&m.i.textStreams.length&&(m.u.enableTextDisplayer?m.u.enableTextDisplayer():ne("Text displayer w/ enableTextDisplayer",'Text displayer should have a "enableTextDisplayer" method!')),b(_,u((function(){return I((function(e){return b(e,i.m,0)}))}),"waitForFinish"),18);case 18:if(m.g=i.getConfiguration(),m.te=i.F,m.H&&m.H.setMediaElement&&m.h&&m.H.setMediaElement(m.h),m.yd=function(e){return e.sa=!0,e.H}(i),m.xd=i.Ga,(f=i.o)&&(m.W=f),c&&m.h&&"AUDIO"===m.h.nodeName&&(function(e){for(var t=l(e.i.variants),n=t.next();!n.done;n=t.next())(n=n.value).video&&(n.video.closeSegmentIndex(),n.video=null),n.bandwidth=n.audio&&n.audio.bandwidth?n.audio.bandwidth:0;e.i.variants=e.i.variants.filter((function(e){return e.audio}))}(m),m.configure("manifest.disableVideo",!0)),i.i){_.s(19);break}return b(_,u((function(){return I((function(e){return b(e,hc(i,m.h),0)}))}),"drmEngine_.init"),19);case 19:return m.C=function(e){return e.ka=!0,e.i}(i),b(_,u((function(){return I((function(e){return b(e,m.C.Lb(m.h),0)}))}),"drmEngine_.attach"),21);case 21:return!(h=i.C)||m.Fa&&m.Fa==h||(m.o=function(e){return e.ea=!0,e.j}(i),m.Fa=i.C,"function"!=typeof m.o.setMediaElement&&(ne("AbrManager w/o setMediaElement","Please use an AbrManager with setMediaElement function."),m.o.setMediaElement=function(){}),"function"!=typeof m.o.setCmsdManager&&(ne("AbrManager w/o setCmsdManager","Please use an AbrManager with setCmsdManager function."),m.o.setCmsdManager=function(){}),"function"!=typeof m.o.trySuggestStreams&&(ne("AbrManager w/o trySuggestStreams","Please use an AbrManager with trySuggestStreams function."),m.o.trySuggestStreams=function(){})),y=function(e){return e.Aa=!0,e.M}(i),g=i.K,b(_,u((function(){return I((function(e){return b(e,function(e,t,n,r){var i,a,o,s,u,c,d,p,f,h,y,g,v,m,E,T,_,A,S,w,C,x,P,R,D;return I((function(O){switch(O.g){case 1:for(yd(e,"load"),i=e.h,e.K=new Zl({$d:function(){return i.playbackRate},sc:function(){return i.defaultPlaybackRate},mg:function(e){i.playbackRate=e},gh:function(e){i.currentTime+=e}}),_d(e,i,t),a=!1,o=l(e.i.variants),s=o.next();!s.done;s=o.next())u=s.value,(c=u.video&&u.video.dependencyStream)&&(a=Gt(c));!function(e,t,n){n||t.lcevc.enabled?(pd(e),null==e.O&&(e.O=new jt(e.h,e.yg,t.lcevc,n),e.I&&(e.I.I=e.O))):pd(e)}(e,e.g,a),e.Tb=e.g.preferredTextLanguage,e.Hd=e.g.preferredTextRole,e.Fd=e.g.preferForcedSubs,dp(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.o.init((function(t,n,r){e.i&&e.j&&t!=e.j.l&&Xd(e,t,!0,void 0!==n&&n,void 0===r?0:r)})),e.o.setMediaElement(i),e.o.setCmsdManager(e.fa),e.j=function(e){return new bu(e.i,{Rc:function(){return e.G?e.G.Od():0},getBandwidthEstimate:function(){return e.o.getBandwidthEstimate()},gb:function(){return e.gb()},video:e.h,aa:e.I,Xb:e.F,onError:function(t){return sp(e,t)},onEvent:function(t){return e.dispatchEvent(t)},qe:function(t,n,r){var i=t.startTime;if(t=t.endTime,(n=n.type)!=Nt){if(e.G){e.G.ih();var a=il(e.I,n);!e.U()&&e.h.paused&&!e.h.seeking&&null!=a&&0<a&&e.G.Od()<a&&e.G.af(a)}Pd(e)}r=(new Map).set("start",i).set("end",t).set("contentType",n).set("isMuxed",r),e.dispatchEvent(fd("segmentappended",r))},fj:function(t,n){(n=n.Wc)&&e.xd&&function(e,t,n){var r=function(e,t){var n=e.g.get(t);return n||(n={Jd:[],mf:null,contentType:t},e.g.set(t,n)),n}(e,t.contentType);!function(e,t){if((e=e.h()[t.contentType])&&0<e.length){var n=e[0].start,r=e[e.length-1].end,i=t.Jd;t.Jd=i.filter((function(e,t){return!(e.position<=n&&t+1<i.length&&i[t+1].position<=n||e.position>=r)}))}else t.Jd=[]}(e,r),e={Wc:t,position:n},0<=(t=(r=r.Jd).findIndex((function(e){return e.position>=n})))?r.splice(t,r[t].position==n?1:0,e):r.push(e)}(e.xd,n,t)},Fg:function(t,n){var r=e.C;if(r.g.parseInbandPsshEnabled&&!r.F&&["audio","video"].includes(t)){t=new Ua(we(n)),n=0;for(var i=l(t.data),a=i.next();!a.done;a=i.next())n+=a.value.length;if(0==n)r=Promise.resolve();else{for(n=new Uint8Array(n),i=0,a=(t=l(t.data)).next();!a.done;a=t.next())a=a.value,n.set(a,i),i+=a.length;Ka(r,"cenc",n),r=r.m}}else r=Promise.resolve();return r},disableStream:function(t,n){return e.disableStream(t,n)}})}(e),e.j.configure(e.g.streaming),e.m=vp,e.dispatchEvent(fd("streaming")),d=n;case 2:for((f=e.j.l)||d||(d=Zd(e)?e.o.chooseVariant():null),h=[],y=l([(p=f||d).video,p.audio]),g=y.next();!g.done;g=y.next())(v=g.value)&&!v.segmentIndex&&(h.push(v.createSegmentIndex()),v.dependencyStream&&h.push(v.dependencyStream.createSegmentIndex()));if(!(0<h.length)){O.s(4);break}return b(O,Promise.all(h),4);case 4:if(!p||0!=p.disabledUntilTime){O.s(2);break}if(e.H&&e.H.onInitialVariantChosen&&e.H.onInitialVariantChosen(p),e.i.isLowLatency&&(e.g.streaming.lowLatencyMode?e.configure(e.Xe):Y("Low-latency live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details.")),e.L&&(function(e,t){e.l=t,e.l?e.i==$c?e.i=ed:e.i==td&&(e.i=nd):e.i==ed?e.i=$c:e.i==nd&&(e.i=td)}(e.L,e.i.isLowLatency&&e.g.streaming.lowLatencyMode),function(e,t){if(e.g&&e.g.enabled&&e.g.version==Jc&&e.j&&e.j.autoplay){var n=e.j.play();n&&n.then((function(){e.A=t})).catch((function(){e.A=0}))}}(e.L,1e3*t)),dp(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),function(e,t,n){e.j.presentationTimeline.U()||(e.W=t,e.T=n)}(e.j,e.g.playRangeStart,e.g.playRangeEnd),m=function(t){e.G=function(e,t){return new Fl(e.h,e.i,e.g.streaming,t,(function(){e.La&&Ql(e.La,!0),e.j&&e.j.Fc(),e.M&&Pd(e)}),(function(t){return e.dispatchEvent(t)}))}(e,t),e.La=function(e,t){var n=e.U()||0<t;t=new gc(e.yd,n),t.addEventListener("enter",(function(t){lp(e,"timelineregionenter",t.region)})),t.addEventListener("exit",(function(t){lp(e,"timelineregionexit",t.region)})),t.addEventListener("skip",(function(t){var n=t.region;t.seeking||(lp(e,"timelineregionenter",n),lp(e,"timelineregionexit",n))}));var r=new gc(e.Aa,n);r.addEventListener("enter",(function(t){Ad(e,t.region)})),n=new gc(e.Ga,n),n.addEventListener("enter",(function(t){t=(new Map).set("detail",t.region.emsg),e.dispatchEvent(fd("emsg",t))}));var i=new Xl(e.h);return i.g.add(t),i.g.add(r),i.g.add(n),e.xd&&i.g.add(e.xd),i}(e,t),Cd(e,i,!1)},e.g.streaming.startAtSegmentBoundary||(null==(E=e.Z)&&e.i.startTime&&(E=e.i.startTime),m(E)),f){O.s(7);break}if(!e.g.streaming.startAtSegmentBoundary){O.s(8);break}return T=e.i.presentationTimeline,_=e.Z||e.h.currentTime,null==e.Z&&e.i.startTime&&(_=e.i.startTime),A=T.Hb(),S=T.ob(),_<A?_=A:_>S&&(_=S),b(O,function(e,t){var n,r,i,a,o;return I((function(s){return 1==s.g?(n=e.audio,r=e.video,i=function(e,t){var n,r,i;return I((function(a){return 1==a.g?e?e.segmentIndex?a.s(2):b(a,e.createSegmentIndex(),2):a.return(null):(r=(n=e.segmentIndex.Gb(t))?n.next().value:null)?(i=r.startTime,a.return(i)):a.return(null)}))},b(s,i(n,t),2)):3!=s.g?(a=s.h,b(s,i(r,t),3)):null!=(o=s.h)&&null!=a?s.return(Math.max(o,a)):null!=o?s.return(o):null!=a?s.return(a):s.return(t)}))}(d,_),9);case 9:w=O.h,m(w);case 8:Xd(e,d,!0,!1,0);case 7:return e.G.ready(),e.vc().find((function(e){return e.active}))||((C=Oi(e.i.textStreams,e.Tb,e.Hd,e.Fd)[0]||null)&&sc(e.B.h,C,!0),d&&(C?(Ui(d.audio,C,e.g)&&(e.oa=!0),e.oa&&e.u.setTextVisibility(!0),rp(e)):e.oa=!1),C&&(e.g.streaming.alwaysStreamText||e.Pf())&&(Tu(e.j,C),ap(e))),b(O,e.j.start(r),10);case 10:e.g.abr.enabled&&(e.o.enable(),ip(e)),Jd(e),Zd(e),e.i.variants.some((function(e){return e.primary})),((x=e.U())&&(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled||e.i.serviceDescription||e.g.streaming.liveSync.panicMode)||e.g.streaming.vodDynamicPlaybackRate)&&(P=function(){return Wd(e)},e.l.D(i,"timeupdate",P)),x||(R=function(){return Yd(e)},e.l.D(i,"timeupdate",R),Yd(e),e.i.nextUrl&&(0<e.g.streaming.preloadNextUrlWindow&&(D=function(){var t;return I((function(n){if(1==n.g)return t=e.Ra().end-e.h.currentTime,!isNaN(t)&&t<=e.g.streaming.preloadNextUrlWindow?(e.l.Ja(i,"timeupdate",D),b(n,e.preload(e.i.nextUrl),4)):n.s(0);e.ya=n.h,k(n)}))},e.l.D(i,"timeupdate",D)),e.l.D(i,"ended",(function(){e.load(e.ya||e.i.nextUrl)})))),e.A&&e.A.onManifestUpdated(x),e.sa=!0,k(O)}}))}(m,p,g,y),0)}))}),"loadInner_"),22);case 22:!function(e){if(e.I)for(var t=l(e.I),n=t.next();!n.done;n=t.next())(n=n.value)();e.I=null}(i),m.Pb&&Qe()&&Vr(m.Pb)&&function(t,n,r){t.g&&e.ManagedMediaSource&&t.i&&(t.C&&t.g.removeChild(t.C),t.C=_s(n,r),t.g.appendChild(t.C),t.g.disableRemotePlayback=!1)}(m.I,m.T,m.Pb),_.s(14);break;case 23:return b(_,u((function(){return I((function(e){return b(e,function(e,t,n){var r,i,a,o,s,u,c,d,p,f,h,y;return I((function(g){switch(g.g){case 1:if(yd(e,"src-equals"),r=e.h,e.G=new Bl(r),i=!1,e.Cd.push((function(){i=!0})),null!=e.Z&&e.G.af(e.Z),e.La=function(e,t){t=new gc(e.Aa,0<t),t.addEventListener("enter",(function(t){Ad(e,t.region)}));var n=new Xl(e.h);return n.g.add(t),n}(e,e.Z||0),e.K=new Zl({$d:function(){return r.playbackRate},sc:function(){return r.defaultPlaybackRate},mg:function(e){r.playbackRate=e},gh:function(e){r.currentTime+=e}}),Cd(e,r,!0),r.textTracks&&(Ed(e),a=function(){var t=Md(e).find((function(e){return"disabled"!==e.mode}));t&&(t.mode="showing"),(t=Nd(e))&&(t.mode="hidden")},o=function(){var t=Md(e).find((function(e){return"disabled"!==e.mode}));t&&(t.mode="hidden"),t=Nd(e);var n=e.u.isTextVisible();t&&n&&(t.mode="showing")},e.l.D(r,"enterpictureinpicture",(function(){return a()})),e.l.D(r,"leavepictureinpicture",(function(){return o()})),r.remote?(e.l.D(r.remote,"connect",(function(){return o()})),e.l.D(r.remote,"connecting",(function(){return o()})),e.l.D(r.remote,"disconnect",(function(){return o()}))):"webkitCurrentPlaybackTargetIsWireless"in r&&e.l.D(r,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return o()})),(s=r).webkitSupportsFullscreen&&e.l.D(s,"webkitpresentationmodechanged",(function(){"inline"!=s.webkitPresentationMode?a():o()}))),_d(e,r,t),u=function(e,t,n){try{if(!e.g.enabled)return t;var r=jc(e);e:{switch(n.toLowerCase()){case"audio/mp4":case"audio/webm":case"audio/ogg":case"audio/mpeg":case"audio/aac":case"audio/flac":case"audio/wav":var i=Wc;break e;case"video/webm":case"video/mp4":case"video/mpeg":case"video/mp2t":i=Zc;break e;case"application/x-mpegurl":case"application/vnd.apple.mpegurl":case"application/dash+xml":case"video/vnd.mpeg.dash.mpd":case"application/vnd.ms-sstr+xml":i=zc;break e}i=void 0}return r.ot=i,r.su=!0,Kc(t,Gc(r))}catch(e){return Z("CMCD_SRC_ERROR","Could not generate src CMCD data.",e),t}}(e.L,e.T,n),!u.includes("#t=")&&(0<e.g.playRangeStart||isFinite(e.g.playRangeEnd))&&(u+="#t=",0<e.g.playRangeStart&&(u+=e.g.playRangeStart),isFinite(e.g.playRangeEnd)&&(u+=","+e.g.playRangeEnd)),!e.I){g.s(2);break}return b(g,e.I.destroy(),3);case 3:e.I=null;case 2:return As(r),r.src=u,(ze()||Ye())&&r.load(),"none"!=r.preload&&!r.autoplay&&Vr(n)&&Qe()&&r.load(),e.m=mp,e.dispatchEvent(fd("streaming")),c=new Zi,Pl(r,HTMLMediaElement.HAVE_METADATA,e.l,(function(){e.G.ready(),c.resolve()})),d=function(){return new Promise((function(t){var n=new je(t);e.l.D(r.textTracks,"change",(function(){return n.da(.5)})),n.da(.5)}))},Pl(r,HTMLMediaElement.HAVE_CURRENT_DATA,e.l,(function(){var t,n,r,a,o;return I((function(s){if(1==s.g)return b(s,d(),2);if(i)return s.return();for(function(e){var t=e.g.preferredAudioLanguage;""!=t&&e.sh(t,e.g.preferredVariantRole)}(e),(t=Md(e)).some((function(e){return"showing"===e.mode}))&&(e.oa=!0,e.u.setTextVisibility(!0)),t.length&&(e.u.enableTextDisplayer?e.u.enableTextDisplayer():ne("Text displayer w/ enableTextDisplayer",'Text displayer should have a "enableTextDisplayer" method!')),n=!1,r=l(t),a=r.next();!a.done;a=r.next())"disabled"!==(o=a.value).mode&&(n?(o.mode="disabled",Y("Found more than one enabled text track, disabling it",o)):(Ld(e,o),n=!0));!function(e){var t=e.g.preferredTextLanguage;""!=t&&e.hg(t,e.g.preferredTextRole,e.g.preferForcedSubs)}(e),k(s)}))})),r.error?c.reject(cp(e)):"none"==r.preload&&(Y('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),c.resolve()),e.l.ma(r,"error",(function(){c.reject(cp(e))})),b(g,ni(e.g.streaming.loadTimeout,c),4);case 4:((p=e.U())&&(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled||e.g.streaming.liveSync.panicMode)||e.g.streaming.vodDynamicPlaybackRate)&&(f=function(){return Wd(e)},e.l.D(r,"timeupdate",f)),p||(h=function(){return Yd(e)},e.l.D(r,"timeupdate",h),Yd(e)),e.A&&(e.A.onManifestUpdated(p),p&&(y=e.Ra().end,e.l.D(r,"progress",(function(){var t=e.Ra().end;y!=t&&(e.A.onManifestUpdated(e.U()),y=t)})))),e.sa=!0,k(g)}}))}(m,p,r),0)}))}),"srcEqualsInner_"),14);case 14:m.dispatchEvent(fd("loaded"));case 6:if(S(_),!i){_.s(25);break}return b(_,i.destroy(),25);case 25:m.ya=null,w(_,0);break;case 5:if(!(v=A(_))||7e3==v.code){_.s(27);break}return b(_,m.kc(!1),27);case 27:throw v}}))},n.Gj=function(e,t){e=void 0===e||e,t=void 0!==t&&t;var n,r=this;return I((function(i){return 1==i.g?b(i,vd(r),2):3!=i.g?(n=i.h,b(i,r.kc(e,t),3)):i.return(n)}))},n.Lg=function(e,t){e=void 0!==e&&e,t=void 0!==t&&t;var n,r=this;return I((function(i){return 1==i.g?b(i,vd(r,t),2):3!=i.g?(n=i.h,b(i,r.detach(e),3)):i.return(n)}))},n.preload=function(e,t,n){t=void 0===t?null:t;var r,i=this;return I((function(a){return 1==a.g?b(a,md(i,e,t,n),2):((r=a.h)?r.start():sp(i,new Re(2,7,7005)),a.return(r))}))},n.pf=function(){var e,t,n,r,i=this;return I((function(a){for(e=[],t=l(i.Ee),n=t.next();!n.done;n=t.next())(r=n.value).u||e.push(r.destroy());return i.Ee=[],b(a,Promise.all(e),0)}))},n.oj=function(){for(var e=this.$;e.g;)e.release()},n.Lc=function(e){return new Fa(e)},n.configure=function(e,t){if(2==arguments.length&&"string"==typeof e&&(e=Gu(e,t)),e.streaming&&"forceTransmuxTS"in e.streaming&&(ne("streaming.forceTransmuxTS configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmuxTS,delete e.streaming.forceTransmuxTS),e.streaming&&"forceTransmux"in e.streaming&&(ne("streaming.forceTransmux configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmux,delete e.streaming.forceTransmux),e.streaming&&"useNativeHlsOnSafari"in e.streaming&&(ne("streaming.useNativeHlsOnSafari configuration","Please Use streaming.useNativeHlsForFairPlay or streaming.preferNativeHls instead."),e.streaming.preferNativeHls=e.streaming.useNativeHlsOnSafari&&Qe(),delete e.streaming.useNativeHlsOnSafari),e.streaming&&"boolean"==typeof e.streaming.liveSync){ne("streaming.liveSync","Please Use streaming.liveSync.enabled instead.");var n=e.streaming.liveSync;e.streaming.liveSync={},e.streaming.liveSync.enabled=n}if(e.streaming&&(!e.streaming.liveSync||!("targetLatency"in e.streaming.liveSync))&&("liveSyncMinLatency"in e.streaming||"liveSyncMaxLatency"in e.streaming)){n=e.streaming.liveSyncMinLatency||0;var r=Math.abs((e.streaming.liveSyncMaxLatency||1)-n)/2;e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatency=n+r,e.streaming.liveSync.targetLatencyTolerance=r}if(e.streaming&&"liveSyncMaxLatency"in e.streaming&&(ne("streaming.liveSyncMaxLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete e.streaming.liveSyncMaxLatency),e.streaming&&"liveSyncMinLatency"in e.streaming&&(ne("streaming.liveSyncMinLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete e.streaming.liveSyncMinLatency),e.streaming&&"liveSyncTargetLatency"in e.streaming&&(ne("streaming.liveSyncTargetLatency","Please Use streaming.liveSync.targetLatency instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatency=e.streaming.liveSyncTargetLatency,delete e.streaming.liveSyncTargetLatency),e.streaming&&"liveSyncTargetLatencyTolerance"in e.streaming&&(ne("streaming.liveSyncTargetLatencyTolerance","Please Use streaming.liveSync.targetLatencyTolerance instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatencyTolerance=e.streaming.liveSyncTargetLatencyTolerance,delete e.streaming.liveSyncTargetLatencyTolerance),e.streaming&&"liveSyncPlaybackRate"in e.streaming&&(ne("streaming.liveSyncPlaybackRate","Please Use streaming.liveSync.maxPlaybackRate instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.maxPlaybackRate=e.streaming.liveSyncPlaybackRate,delete e.streaming.liveSyncPlaybackRate),e.streaming&&"liveSyncMinPlaybackRate"in e.streaming&&(ne("streaming.liveSyncMinPlaybackRate","Please Use streaming.liveSync.minPlaybackRate instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.minPlaybackRate=e.streaming.liveSyncMinPlaybackRate,delete e.streaming.liveSyncMinPlaybackRate),e.streaming&&"liveSyncPanicMode"in e.streaming&&(ne("streaming.liveSyncPanicMode","Please Use streaming.liveSync.panicMode instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.panicMode=e.streaming.liveSyncPanicMode,delete e.streaming.liveSyncPanicMode),e.streaming&&"liveSyncPanicThreshold"in e.streaming&&(ne("streaming.liveSyncPanicThreshold","Please Use streaming.liveSync.panicThreshold instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.panicThreshold=e.streaming.liveSyncPanicThreshold,delete e.streaming.liveSyncPanicThreshold),e.mediaSource&&"sourceBufferExtraFeatures"in e.mediaSource){ne("mediaSource.sourceBufferExtraFeatures configuration","Please Use mediaSource.addExtraFeaturesToSourceBuffer() instead.");var i=e.mediaSource.sourceBufferExtraFeatures;e.mediaSource.addExtraFeaturesToSourceBuffer=function(){return i},delete e.mediaSource.sourceBufferExtraFeatures}if(e.manifest&&e.manifest.hls&&"useSafariBehaviorForLive"in e.manifest.hls&&(ne("manifest.hls.useSafariBehaviorForLive configuration","Please Use liveSync config to keep on live Edge instead."),delete e.manifest.hls.useSafariBehaviorForLive),e.streaming&&"parsePrftBox"in e.streaming&&(ne("streaming.parsePrftBox configuration","Now fired without needing a configuration."),delete e.streaming.parsePrftBox),e.manifest&&e.manifest.dash&&"enableAudioGroups"in e.manifest.dash&&(ne("manifest.dash.enableAudioGroups configuration","It is now enabled by default and cannot be disabled."),delete e.manifest.dash.enableAudioGroups),e.streaming&&"dispatchAllEmsgBoxes"in e.streaming&&(ne("streaming.dispatchAllEmsgBoxes configuration","Please Use mediaSource.dispatchAllEmsgBoxes instead."),e.mediaSource.dispatchAllEmsgBoxes=e.streaming.dispatchAllEmsgBoxes,delete e.streaming.dispatchAllEmsgBoxes),e.streaming&&"autoLowLatencyMode"in e.streaming&&(ne("streaming.autoLowLatencyMode configuration","Please Use streaming.lowLatencyMode instead."),e.streaming.lowLatencyMode=e.streaming.autoLowLatencyMode,delete e.streaming.autoLowLatencyMode),e.manifest&&e.manifest.dash&&"ignoreSupplementalCodecs"in e.manifest.dash&&(ne("manifest.dash.ignoreSupplementalCodecs configuration","Please Use manifest.ignoreSupplementalCodecs instead."),e.manifest.ignoreSupplementalCodecs=e.manifest.dash.ignoreSupplementalCodecs,delete e.manifest.dash.ignoreSupplementalCodecs),e.manifest&&e.manifest.hls&&"ignoreSupplementalCodecs"in e.manifest.hls&&(ne("manifest.hls.ignoreSupplementalCodecs configuration","Please Use manifest.ignoreSupplementalCodecs instead."),e.manifest.ignoreSupplementalCodecs=e.manifest.hls.ignoreSupplementalCodecs,delete e.manifest.hls.ignoreSupplementalCodecs),e.manifest&&e.manifest.dash&&"updatePeriod"in e.manifest.dash&&(ne("manifest.dash.updatePeriod configuration","Please Use manifest.updatePeriod instead."),e.manifest.updatePeriod=e.manifest.dash.updatePeriod,delete e.manifest.dash.updatePeriod),e.manifest&&e.manifest.hls&&"updatePeriod"in e.manifest.hls&&(ne("manifest.hls.updatePeriod configuration","Please Use manifest.updatePeriod instead."),e.manifest.updatePeriod=e.manifest.hls.updatePeriod,delete e.manifest.hls.updatePeriod),e.manifest&&e.manifest.dash&&"ignoreDrmInfo"in e.manifest.dash&&(ne("manifest.dash.ignoreDrmInfo configuration","Please Use manifest.ignoreDrmInfo instead."),e.manifest.ignoreDrmInfo=e.manifest.dash.ignoreDrmInfo,delete e.manifest.dash.ignoreDrmInfo),e.drm&&e.drm.advanced){for(var a in n=!1,e.drm.advanced){var o=e.drm.advanced[a];r=o.videoRobustness,o=o.audioRobustness,"videoRobustness"in e.drm.advanced[a]&&!Array.isArray(e.drm.advanced[a].videoRobustness)&&(e.drm.advanced[a].videoRobustness=[r],n=!0),"audioRobustness"in e.drm.advanced[a]&&!Array.isArray(e.drm.advanced[a].audioRobustness)&&(e.drm.advanced[a].audioRobustness=[o],n=!0)}n&&ne("AdvancedDrmConfiguration's videoRobustness and audioRobustness","These properties are no longer strings but array of strings, please update your usage of these properties.")}return e.streaming&&"crossBoundaryStrategy"in e.streaming&&"keep"!=e.streaming.crossBoundaryStrategy&&(e.streaming.inaccurateManifestTolerance=0),a=tc(this.g,e,Vd(this)),Rd(this),a},n.ci=function(e){this.Xe=e},n.getConfiguration=function(){var e=Vd(this);return tc(e,this.g,Vd(this)),e},n.ki=function(){return this.Xe},n.Vg=function(){return tc(Vd(this),this.g,Vd(this)),zu(this.g,Vd(this))},n.Qg=function(){if(this.h){var e=this.h.buffered.length;e=e?this.h.buffered.end(e-1):0;var t=this.getConfiguration().streaming.bufferingGoal;if(e>=(t=Math.min(this.h.currentTime+t,this.Ra().end)))return 1;if(!(e<=this.h.currentTime)&&e<t)return(e-this.h.currentTime)/(t-this.h.currentTime)}return 0},n.sj=function(){for(var e in this.g)delete this.g[e];tc(this.g,Vd(this),Vd(this)),Rd(this)},n.ti=function(){return this.m},n.Tg=function(){return this.i?this.i.type:null},n.xi=function(){return this.h},n.xb=function(){return this.F},n.Qc=function(){return this.T},n.Pg=function(){return this.A?this.A:null},n.U=function(){return this.i&&!this.Pa()?this.i.presentationTimeline.U():!(!this.h||!this.h.src)&&1/0==this.h.duration},n.yc=function(){return!!this.i&&this.i.presentationTimeline.yc()},n.Qi=function(){if(this.i&&!this.Pa()){var e=this.i.variants;return!!e.length&&!e[0].video}return!(!this.h||!this.h.src)&&(this.h.videoTracks?0==this.h.videoTracks.length:0==this.h.videoHeight)},n.Ra=function(){if(this.i&&!this.Pa()){if(!this.sa&&"HLS"==this.i.type)return{start:0,end:0};var e=this.i.presentationTimeline;return{start:e.Hb(),end:e.ob()}}if(this.h&&this.h.src&&(e=this.h.seekable)&&e.length){var t=this.g?this.g.playRangeStart:0;t=Math.max(e.start(0),t);var n=this.g?this.g.playRangeEnd:1/0;return{start:t,end:e=Math.min(e.end(e.length-1),n)}}return{start:0,end:0}},n.Ni=function(){this.U()&&(this.h.currentTime=this.Ra().end)},n.Ri=function(){return this.sa},n.keySystem=function(){var e=this.drmInfo();return e?e.keySystem:""},n.drmInfo=function(){return this.C?this.C.h:null},n.pd=function(){return this.C?this.C.pd():1/0},n.Gf=function(){return this.C?this.C.Gf():[]},n.Yd=function(){return this.C?this.C.Yd():{}},n.Of=function(){return!!this.M&&this.M.g==ho},n.gb=function(){return this.h?this.K?this.K.i:1:0},n.Md=function(e,t){t=void 0===t||t,0==e?Y("A trick play rate of 0 is unsupported!"):(this.K.set(e),this.m==vp&&(this.o.playbackRateChanged(e),ku(this.j,t&&1<Math.abs(e))),Kd(this,e))},n.gd=function(){var e=this.K.sc();this.m==mp&&this.K.set(e),this.m==vp&&(this.K.set(e),this.o.playbackRateChanged(e),ku(this.j,!1)),this.Na.Qa()},n.Rb=function(){if(this.i&&!this.Pa()){for(var e=this.j?this.j.l:null,t=[],n=0,r=l(this.i.variants),i=r.next();!i.done;i=r.next())if(Ii(i=i.value)){var a=Ai(i);a.active=i==e,a.active||1==n||null==e||i.video!=e.video||i.audio!=e.audio||(a.active=!0),a.active&&n++,t.push(a)}return t}return this.h&&this.h.audioTracks?Array.from(this.h.audioTracks).map((function(e){return Pi(e)})):[]},n.vc=function(){if(this.i&&!this.Pa()){for(var e=this.j?this.j.u:null,t=[],n=l(this.i.textStreams),r=n.next();!r.done;r=n.next()){var i=Si(r=r.value);i.active=r==e,t.push(i)}return t}return this.h&&this.h.src&&this.h.textTracks?Md(this).map((function(e){return xi(e)})):[]},n.pi=function(){var e=this.Oe;return this.i&&(e=this.i.imageStreams),e.map((function(e){return wi(e)}))},n.fi=function(e){var t,n,r=this;return I((function(i){return 1==i.g?b(i,Dd(r,e),2):(t=i.h)?(n=[],t.segmentIndex.Eb((function(e){var r=Id(e.tilesLayout||t.tilesLayout);if(r){r=r.rows*r.oc;for(var i=e.j-e.startTime,a=0;a<r;a++){var o=Od(t,e.startTime+i*a/r);o&&n.push(o)}}})),t.closeSegmentIndex&&t.closeSegmentIndex(),i.return(n)):i.return(null)}))},n.Hi=function(e,t){var n,r=this;return I((function(i){return 1==i.g?b(i,Dd(r,e),2):(n=i.h)?i.return(Od(n,t)):i.return(null)}))},n.th=function(e){var t,n=this;this.i&&this.G&&((t=n.i.textStreams.find((function(t){return t.id==e.id})))&&t!=n.j.u&&(sc(n.B.h,t,!1),Tu(n.j,t),np(n),ap(n),n.Tb=t.language),!this.Pa())||function(){if(n.h&&n.h.textTracks){var t=Md(n),r=t.find((function(e){return"disabled"!==e.mode}));(t=t.find((function(t){return Ci(t)===e.id})))&&(r!==t&&(r&&(r.mode="disabled",n.l.Ja(r,"cuechange"),n.u.remove(0,1/0)),t&&Ld(n,t)),np(n),ap(n))}}()},n.Be=function(e,t,n){var r=this;t=void 0!==t&&t,n=void 0===n?0:n,this.i&&this.G&&(function(){var i=r.i.variants.find((function(t){return t.id==e.id}));if(i&&Ii(i)){var a=r.j.l;r.g.abr.enabled&&(a.video!=i.video||a.audio&&i.audio&&a.audio.language==i.audio.language&&a.audio.channelsCount==i.audio.channelsCount&&a.audio.label==i.audio.label)&&Y("Changing tracks while abr manager is enabled will likely result in the selected track being overridden. Consider disabling abr before calling selectVariantTrack()."),r.Pa()?Xd(r,i,!1,!1,0):Xd(r,i,!1,t||!1,n||0),r.W.configure({language:i.language,role:i.audio&&i.audio.roles&&i.audio.roles[0]||"",channelCount:i.audio&&i.audio.channelsCount?i.audio.channelsCount:0,Sc:i.video&&i.video.hdr?i.video.hdr:"",spatialAudio:!(!i.audio||!i.audio.spatialAudio)&&i.audio.spatialAudio,videoLayout:i.video&&i.video.videoLayout?i.video.videoLayout:"",Kc:i.audio&&i.audio.label?i.audio.label:"",fd:"",codecSwitchingStrategy:r.g.mediaSource.codecSwitchingStrategy,audioCodec:i.audio&&i.audio.codecs?i.audio.codecs:""}),Zd(r)}}(),!this.Pa())||function(){if(r.h&&r.h.audioTracks)for(var t=Array.from(r.h.audioTracks),n=(t=l(t)).next();!n.done;n=t.next())if(Ci(n=n.value)==e.id){Qd(r,n);break}}()},n.xj=function(e,t){t=void 0===t?0:t;var n=this.Rb();if(n.length){var r=n.find((function(e){return e.active}));r&&(n=n.find((function(t){return t.videoId===r.videoId&&t.language==e.language&&t.label==e.label&&t.audioMimeType==e.mimeType&&t.audioCodec==e.codecs&&t.primary==e.primary&&un(t.audioRoles,e.roles)&&t.accessibilityPurpose==e.accessibilityPurpose&&t.channelsCount==e.channelsCount&&t.audioSamplingRate==e.audioSamplingRate&&t.spatialAudio==e.spatialAudio})))&&!n.active&&this.Be(n,!0,t)}},n.getAudioTracks=function(){var e=this.Rb();if(!e.length)return[];var t=e.find((function(e){return e.active}));if(!t)return[];var n=e;if(this.m==vp&&(n=e.filter((function(e){return e.originalVideoId===t.originalVideoId&&e.audioCodec}))),!n.length)return[];e=new Map;for(var r=(n=l(n)).next();!r.done;r=n.next()){var i=(r=r.value).originalAudioId;i||null==r.audioId||(i=String(r.audioId)),i&&e.set(i,{active:r.active,language:r.language,label:r.label,mimeType:r.audioMimeType,codecs:r.audioCodec,primary:r.primary,roles:r.audioRoles||[],accessibilityPurpose:r.accessibilityPurpose,channelsCount:r.channelsCount,audioSamplingRate:r.audioSamplingRate,spatialAudio:r.spatialAudio,originalLanguage:r.originalLanguage})}return Array.from(e.values())},n.hi=function(){return hp(this.Rb())},n.Fi=function(){return hp(this.vc())},n.gi=function(){return Array.from(fp(this.Rb()))},n.Ei=function(){return Array.from(fp(this.vc()))},n.sh=function(e,t,n,r,i,a,o){var s=this;n=void 0===n?0:n,r=void 0===r?0:r,i=void 0===i?"":i,a=void 0!==a&&a,o=void 0===o?"":o,this.i&&this.G&&(function(){function u(e,t){return e.video||t.video?e.video&&t.video?Math.abs((e.video.height||0)-(t.video.height||0))+Math.abs((e.video.width||0)-(t.video.width||0)):1/0:0}s.W=s.g.adaptationSetCriteriaFactory(),s.W.configure({language:e,role:t||"",channelCount:n||0,Sc:"",spatialAudio:a||!1,videoLayout:"",Kc:o||"",fd:"",codecSwitchingStrategy:s.g.mediaSource.codecSwitchingStrategy,audioCodec:i||""});for(var c=s.j.l,d=s.W.create(s.i.variants),p=null,f=(d=l(d.values())).next();!f.done;f=d.next())Ii(f=f.value)&&(!p||u(p,c)>u(f,c))&&(p=f);p!=c&&(p?(c=Ai(p),s.Be(c,!0,r||0)):qd(s))}(),!this.Pa())||function(){if(s.h&&s.h.audioTracks){var n=Oi(s.Rb(),e,t||"",!1)[0];n&&s.Be(n)}}()},n.hg=function(e,t,n){var r,i=this;(n=void 0!==n&&n,this.i&&this.G&&(function(){i.Tb=e,i.Hd=t||"",i.Fd=n||!1;var r=Oi(i.i.textStreams,i.Tb,i.Hd,i.Fd)[0]||null;r&&r!=i.j.u&&(sc(i.B.h,r,!1),i.g.streaming.alwaysStreamText||i.Pf())&&(Tu(i.j,r),np(i),ap(i))}(),!this.Pa()))||(r=Oi(i.vc(),e,t||"",n||!1)[0])&&i.th(r)},n.yj=function(e,t,n){var r=this;t=void 0===t||t,n=void 0===n?0:n,this.i&&this.G&&(function(){for(var i=null,a=l(r.i.variants),o=a.next();!o.done;o=a.next())if((o=o.value).audio.label==e){i=o;break}null!=i&&(r.W=r.g.adaptationSetCriteriaFactory(),r.W.configure({language:i.language,role:"",channelCount:0,Sc:"",spatialAudio:!1,videoLayout:"",fd:"",Kc:e,codecSwitchingStrategy:r.g.mediaSource.codecSwitchingStrategy,audioCodec:""}),qd(r,t,n))}(),!this.Pa())||function(){if(r.h&&r.h.audioTracks){for(var t=Array.from(r.h.audioTracks),n=null,i=(t=l(t)).next();!i.done;i=t.next())(i=i.value).label==e&&(n=i);n&&Qd(r,n)}}()},n.Pf=function(){var e=this.oa;return this.u?this.u.isTextVisible():e},n.Rg=function(){return this.h&&this.h.currentSrc&&this.h.textTracks?Ud(this).map((function(e){return xi(e)})):[]},n.ji=function(e){if(!this.h||!this.h.currentSrc||!this.h.textTracks)return[];var t=si(e),n=Ud(this).filter((function(e){return si(e.language)==t}));if(!n||!n.length)return[];e=[];for(var r=new Set,i=(n=l(n)).next();!i.done;i=n.next())if((i=i.value)&&i.cues)for(var a=(i=l(i.cues)).next();!a.done;a=i.next()){var o=a.value;(a=o.id)&&""!=a||(a=o.startTime+"-"+o.endTime+"-"+o.text),o={id:a,title:o.text,startTime:o.startTime,endTime:o.endTime},r.has(a)||(e.push(o),r.add(a))}return e},n.zh=function(e){e=!!e,this.oa!=e&&(this.oa=e,this.m==vp?(this.u.setTextVisibility(e),this.g.streaming.alwaysStreamText||(e?this.j.u||0<(e=Oi(this.i.textStreams,this.Tb,this.Hd,this.Fd)).length&&(Tu(this.j,e[0]),np(this),ap(this)):function(e){var t=e.i.get(Nt);t&&(Nu(t),Uu(t).catch((function(){})),e.F=e.i.get(Nt),e.i.delete(Nt)),e.u=null}(this.j))):this.h&&this.h.src&&this.h.textTracks&&this.u.setTextVisibility(e),rp(this))},n.yi=function(){if(this.G)var e=this.G.Od();else{if(null==this.Z)return new Date;e=this.Z}if(this.i&&!this.Pa()){var t=this.i.presentationTimeline;return new Date(1e3*((t.m||t.i)+e))}return this.h&&this.h.getStartDate?(t=this.h.getStartDate(),isNaN(t.getTime())?null:new Date(t.getTime()+1e3*e)):null},n.Wg=function(){if(this.i&&!this.Pa()){var e=this.i.presentationTimeline;return new Date(1e3*(e.m||e.i))}return this.h&&this.h.getStartDate?(e=this.h.getStartDate(),isNaN(e.getTime())?null:e):null},n.ae=function(){return this.U()&&this.i?this.i.presentationTimeline.ae():null},n.Fb=function(){if(this.m==vp)return this.I.Fb();var e={total:[],audio:[],video:[],text:[]};return this.m==mp&&(e.total=Es(this.h.buffered)),e},n.Zd=function(){if(!this.h||!this.h.currentTime)return null;var e=this.Wg().getTime()+1e3*this.h.currentTime;return Math.floor(Date.now()-e)},n.getStats=function(){if(this.m!=vp&&this.m!=mp)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,stallsDetected:NaN,gapsJumped:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,manifestSizeBytes:NaN,bytesDownloaded:NaN,nonFatalErrorCount:NaN,manifestPeriodCount:NaN,manifestGapCount:NaN,switchHistory:[],stateHistory:[]};zd(this);var e=this.h,t=e.currentTime/e.duration;if(!isNaN(t)&&!this.U()){var n=this.B;t=Math.round(100*t),n.i=isNaN(n.i)?t:Math.max(n.i,t)}if(this.G&&(this.B.P=this.G.zg(),this.B.T=this.G.Ag()),e.getVideoPlaybackQuality){n=e.getVideoPlaybackQuality(),t=this.B;var r=Number(n.totalVideoFrames);t.O=Number(n.droppedVideoFrames),t.M=r,this.B.L=Number(n.corruptedVideoFrames)}if(this.C?n=(n=this.C).H?n.H:NaN:n=NaN,this.B.o=n,this.m==vp){if(n=this.j.l,t=this.j.u,n){var i=(r=this.K?this.K.i:1)*n.bandwidth;t&&t.bandwidth&&(i+=r*t.bandwidth),this.B.A=i}n&&n.video&&(t=this.B,r=n.video.height||NaN,t.m=n.video.width||NaN,t.l=r),this.U()&&(n=this.Zd()||0,this.B.B=n/1e3),this.i&&(this.B.G=this.i.periodCount,this.B.F=this.i.gapCount,this.i.presentationTimeline&&(this.B.I=this.i.presentationTimeline.h)),n=this.o.getBandwidthEstimate(),this.B.u=n}this.m==mp&&((n=this.B).mc=isNaN(n.mc)?NaN:n.mc+NaN,n=this.B,t=e.videoHeight||NaN,n.m=e.videoWidth||NaN,n.l=t);var a=this.B;e=a.m,n=a.l,t=a.A,r=a.M,i=a.O;for(var o=a.L,s=a.T,u=a.P,c=a.u,d=a.i,p=a.C,f=a.H,h=a.j,y=ac(a.g,"playing"),g=ac(a.g,"paused"),v=ac(a.g,"buffering"),m=a.o,b=a.B,k=a.I,E=a.bh,T=a.mc,_=a.K,A=a.G,S=a.F,w=function(e){function t(e){return{timestamp:e.timestamp,state:e.state,duration:e.duration}}for(var n=[],r=l(e.h),i=r.next();!i.done;i=r.next())n.push(t(i.value));return e.g&&n.push(t(e.g)),n}(a.g),C=[],x=(a=l(a.h.g)).next();!x.done;x=a.next())x=x.value,C.push({timestamp:x.timestamp,id:x.id,type:x.type,fromAdaptation:x.fromAdaptation,bandwidth:x.bandwidth});return{width:e,height:n,streamBandwidth:t,decodedFrames:r,droppedFrames:i,corruptedFrames:o,stallsDetected:s,gapsJumped:u,estimatedBandwidth:c,completionPercent:d,loadLatency:p,manifestTimeSeconds:f,drmTimeSeconds:h,playTime:y,pauseTime:g,bufferingTime:v,licenseTime:m,liveLatency:b,maxSegmentDuration:k,manifestSizeBytes:E,bytesDownloaded:T,nonFatalErrorCount:_,manifestPeriodCount:A,manifestGapCount:S,stateHistory:w,switchHistory:C}},n.Rh=function(e,t,n,r,i,a,o){o=void 0!==o&&o;var s,l,u,c,d,p,f,h,y,g,v,m,k=this;return I((function(E){switch(E.g){case 1:if(k.m!=vp&&k.m!=mp)throw new Re(1,7,7004);if("subtitles"!=n&&"captions"!=n&&Y("Using a kind value different of `subtitles` or `captions` can cause unwanted issues."),r){E.s(2);break}return b(E,Bd(k,e),3);case 3:r=E.h;case 2:if(s=[],k.A&&(s=k.A.getCuePoints()),k.m!=mp){E.s(4);break}return o&&(n="forced"),b(E,Fd(k,e,t,n,r,a||"",s),5);case 5:if(l=si(t),u=k.vc(),c=u.find((function(e){return si(e.language)==l&&e.label==(a||"")&&e.kind==n})))return Jd(k),E.return(c);throw new Re(1,2,2012);case 4:if(d=Ut,p=k.Ra(),f=p.end-p.start,k.i&&(f=k.i.presentationTimeline.getDuration()),1/0==f)throw new Re(1,4,4033);if(!s.length){E.s(6);break}return b(E,jd(k,e,k.F,k.g.streaming.retryParameters),7);case 7:h=E.h,y=Hd(k,h,r,s),g=new Blob([y],{type:"text/vtt"}),e=El(g),r="text/vtt";case 6:if(v={id:k.We++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:zl(0,f,[e]),mimeType:r||"",codecs:i||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,originalLanguage:t,label:a||null,type:d.za,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!!o,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([Or(r||"",i||"")]),isAudioMuxedInVideo:!1,baseOriginalId:null},m=Or(v.mimeType,v.codecs),!qr(m))throw new Re(2,2,2014,r);return k.i.textStreams.push(v),Jd(k),E.return(Si(v))}}))},n.Sh=function(e,t){var n,r,i,a,o,s,u,c,d,p,f,h,y,g,v,m,k,E,T=this;return I((function(_){switch(_.g){case 1:if(T.m!=vp&&T.m!=mp)throw new Re(1,7,7004);if(t){_.s(2);break}return b(_,Bd(T,e),3);case 3:t=_.h;case 2:if("text/vtt"!=t)throw new Re(1,2,2017,e);if(n=Ut,r=T.Ra(),i=r.end-r.start,T.i&&(i=T.i.presentationTimeline.getDuration()),1/0==i)throw new Re(1,4,4045);return b(_,jd(T,e,T.F,T.g.streaming.retryParameters),4);case 4:if(a=_.h,!(o=Zr(t)))throw new Re(2,2,2014,t);for(s=o(),u={periodStart:0,segmentStart:0,segmentEnd:i,vttOffset:0},c=we(a),d=s.parseMedia(c,u,e,[]),p=[],f=l(d),h=f.next(),y={};!h.done;y={Ne:void 0,Mc:void 0},h=f.next())y.Mc=h.value,y.Ne=null,g=function(t){return function(){return null==t.Ne&&(t.Ne=Rt([e],[t.Mc.payload])),t.Ne||[]}}(y),v=new fs(y.Mc.startTime,y.Mc.endTime,g,0,null,null,0,0,1/0),y.Mc.payload.includes("#xywh")&&(4===(m=y.Mc.payload.split("#xywh=")[1].split(",")).length&&v.De({height:parseInt(m[3],10),positionX:parseInt(m[0],10),positionY:parseInt(m[1],10),width:parseInt(m[2],10)})),p.push(v);if(k=t,!p.length){_.s(5);break}return b(_,Ec(p[0].N()[0],T.F,T.g.manifest.retryParameters),6);case 6:k=_.h;case 5:return E={id:T.We++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Gl(p),mimeType:k||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:n.$e,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([Or(k||"","")]),isAudioMuxedInVideo:!1,baseOriginalId:null},T.m==mp?T.Oe.push(E):T.i.imageStreams.push(E),Jd(T),_.return(wi(E))}}))},n.Qh=function(e,t,n){var r,i,a,o,s=this;return I((function(l){switch(l.g){case 1:if(s.m!=vp&&s.m!=mp)throw new Re(1,7,7004);if(n){l.s(2);break}return b(l,Bd(s,e),3);case 3:n=l.h;case 2:return r=[],s.A&&(r=s.A.getCuePoints()),b(l,Fd(s,e,t,"chapters",n,"",r),4);case 4:if(i=l.h,a=s.Rg(),!(o=a.find((function(e){return e.language==t})))){l.s(5);break}return b(l,new Promise((function(e,t){s.l.ma(i,"load",e),s.l.ma(i,"error",(function(){t(new Re(1,2,2015))}))})),6);case 6:return Jd(s),l.return(o);case 5:throw new Re(1,2,2012)}}))},n.Dj=function(e,t){this.ka.width=e,this.ka.height=t},n.eg=function(e){if(this.m==vp){var t=this.j;if(e=void 0===e?.1:e,t.m.g)t=!1;else if(t.B)t=!1;else{for(var n=l(t.i.values()),r=n.next();!r.done;r=n.next())!(r=r.value).sd||r.Da||r.kb||(r.sd=!1,Mu(t,r,e));t=!0}}else t=!1;return t},n.Hf=function(){return Y("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.i},n.ui=function(){return this.Qb},n.ni=function(){var e={video:null,audio:null,text:null};if(this.m!=vp)return e;for(var t=this.j.l,n=this.h.currentTime,r=(t=l([t.video,t.audio,this.j.u])).next();!r.done;r=t.next())if((r=r.value)&&r.segmentIndex){var i=r.segmentIndex.find(n);i={codecs:(i=r.segmentIndex.get(i)).codecs||r.codecs,mimeType:i.mimeType||r.mimeType,bandwidth:i.bandwidth||r.bandwidth},"video"==r.type?(i.width=r.width,i.height=r.height,e.video=i):"audio"==r.type?e.audio=i:r.type==Nt&&(e.text=i)}return e},n.Ch=function(e){this.ue=e},n.disableStream=function(e,t){if(!this.g.abr.enabled||this.m===yp||!navigator.onLine||0==t||!this.i)return!1;if(this.i.variants.some((function(t){var n=t[e.type];return!(!n||n.id===e.id||t.disabledUntilTime)&&("audio"!=e.type||e.language===n.language)}))){for(var n=!1,r=!1,i=l(this.i.variants),a=i.next();!a.done;a=i.next()){var o=(a=a.value)[e.type];o&&(o.id===e.id?(a.disabledUntilTime=Date.now()/1e3+t,n=!0):o.trickModeVideo&&o.trickModeVideo.id==e.id&&(r=!0))}return!(!n&&r)&&(this.xe.ua(1),t=this.Fb().video.reduce((function(e,t){return e+t.end-t.start}),0),qd(this,!1,t,!0,!1),!0)}return!1},n.addFont=function(t,n){var r,i,a,o,s;return I((function(u){if(1==u.g)return"fonts"in document&&"FontFace"in e?b(u,document.fonts.ready,3):u.s(0);if(!("entries"in document.fonts))return u.return();for(r=function(e){for(var t=[],n=(e=e.entries()).next();!1===n.done;)t.push(n.value),n=e.next();return t},i=l(r(document.fonts)),a=i.next();!a.done;a=i.next())if((o=a.value).family==t&&"swap"==o.display)return u.return();s=new FontFace(t,"url("+n+")",{display:"swap"}),document.fonts.add(s),k(u)}))},n.Pa=function(){return!(!this.h||!this.h.remote)&&"disconnected"!=this.h.remote.state},n.Uc=function(){return!(this.h&&!this.h.ended)||this.sa&&!this.U()&&this.h.currentTime>=this.Ra().end},F("shaka.Player",dd),dd.prototype.isEnded=dd.prototype.Uc,dd.prototype.isRemotePlayback=dd.prototype.Pa,dd.prototype.addFont=dd.prototype.addFont,dd.prototype.setVideoContainer=dd.prototype.Ch,dd.prototype.getFetchedPlaybackInfo=dd.prototype.ni,dd.prototype.getManifestParserFactory=dd.prototype.ui,dd.prototype.getManifest=dd.prototype.Hf,dd.prototype.retryStreaming=dd.prototype.eg,dd.prototype.setMaxHardwareResolution=dd.prototype.Dj,dd.prototype.addChaptersTrack=dd.prototype.Qh,dd.prototype.addThumbnailsTrack=dd.prototype.Sh,dd.prototype.addTextTrackAsync=dd.prototype.Rh,dd.prototype.getStats=dd.prototype.getStats,dd.prototype.getBufferedInfo=dd.prototype.Fb,dd.prototype.getSegmentAvailabilityDuration=dd.prototype.ae,dd.prototype.getPresentationStartTimeAsDate=dd.prototype.Wg,dd.prototype.getPlayheadTimeAsDate=dd.prototype.yi,dd.prototype.setTextTrackVisibility=dd.prototype.zh,dd.prototype.getChapters=dd.prototype.ji,dd.prototype.getChaptersTracks=dd.prototype.Rg,dd.prototype.isTextTrackVisible=dd.prototype.Pf,dd.prototype.selectVariantsByLabel=dd.prototype.yj,dd.prototype.selectTextLanguage=dd.prototype.hg,dd.prototype.selectAudioLanguage=dd.prototype.sh,dd.prototype.getTextLanguages=dd.prototype.Ei,dd.prototype.getAudioLanguages=dd.prototype.gi,dd.prototype.getTextLanguagesAndRoles=dd.prototype.Fi,dd.prototype.getAudioLanguagesAndRoles=dd.prototype.hi,dd.prototype.getAudioTracks=dd.prototype.getAudioTracks,dd.prototype.selectAudioTrack=dd.prototype.xj,dd.prototype.selectVariantTrack=dd.prototype.Be,dd.prototype.selectTextTrack=dd.prototype.th,dd.prototype.getThumbnails=dd.prototype.Hi,dd.prototype.getAllThumbnails=dd.prototype.fi,dd.prototype.getImageTracks=dd.prototype.pi,dd.prototype.getTextTracks=dd.prototype.vc,dd.prototype.getVariantTracks=dd.prototype.Rb,dd.prototype.cancelTrickPlay=dd.prototype.gd,dd.prototype.trickPlay=dd.prototype.Md,dd.prototype.getPlaybackRate=dd.prototype.gb,dd.prototype.isBuffering=dd.prototype.Of,dd.prototype.getKeyStatuses=dd.prototype.Yd,dd.prototype.getActiveSessionsMetadata=dd.prototype.Gf,dd.prototype.getExpiration=dd.prototype.pd,dd.prototype.drmInfo=dd.prototype.drmInfo,dd.prototype.keySystem=dd.prototype.keySystem,dd.prototype.isFullyLoaded=dd.prototype.Ri,dd.prototype.goToLive=dd.prototype.Ni,dd.prototype.seekRange=dd.prototype.Ra,dd.prototype.isAudioOnly=dd.prototype.Qi,dd.prototype.isInProgress=dd.prototype.yc,dd.prototype.isLive=dd.prototype.U,dd.prototype.getAdManager=dd.prototype.Pg,dd.prototype.getAssetUri=dd.prototype.Qc,dd.prototype.getNetworkingEngine=dd.prototype.xb,dd.prototype.getMediaElement=dd.prototype.xi,dd.prototype.getManifestType=dd.prototype.Tg,dd.prototype.getLoadMode=dd.prototype.ti,dd.prototype.resetConfiguration=dd.prototype.sj,dd.prototype.getBufferFullness=dd.prototype.Qg,dd.prototype.getNonDefaultConfiguration=dd.prototype.Vg,dd.prototype.getConfigurationForLowLatency=dd.prototype.ki,dd.prototype.getConfiguration=dd.prototype.getConfiguration,dd.prototype.configurationForLowLatency=dd.prototype.ci,dd.prototype.configure=dd.prototype.configure,dd.prototype.releaseAllMutexes=dd.prototype.oj,dd.prototype.destroyAllPreloads=dd.prototype.pf,dd.prototype.preload=dd.prototype.preload,dd.prototype.detachAndSavePreload=dd.prototype.Lg,dd.prototype.unloadAndSavePreload=dd.prototype.Gj,dd.prototype.load=dd.prototype.load,dd.prototype.updateStartTime=dd.prototype.Kj,dd.prototype.unload=dd.prototype.kc,dd.prototype.detach=dd.prototype.detach,dd.prototype.attachCanvas=dd.prototype.Vh,dd.prototype.attach=dd.prototype.Lb,dd.probeSupport=function(t){var n,r,i,a,o;return t=void 0===t||t,I((function(s){switch(s.g){case 1:if(n={},!t){s.s(2);break}return b(s,function(){var t,n,r,i,a,o,s,u,c,d,p,f,h,y,g,v,m,T,S,w,C,x,P,R,D,O,L,M,N,U,B,F,j;return I((function(H){if(1==H.g){if(t="org.w3.clearkey com.widevine.alpha com.widevine.alpha.experiment com.microsoft.playready com.microsoft.playready.hardware com.microsoft.playready.recommendation com.chromecast.playready com.apple.fps.1_0 com.apple.fps com.huawei.wiseplay".split(" "),!(e.MediaKeys&&e.navigator&&e.navigator.requestMediaKeySystemAccess&&e.MediaKeySystemAccess&&e.MediaKeySystemAccess.prototype.getConfiguration)){for(n={},r=l(t),i=r.next();!i.done;i=r.next())a=i.value,n[a]=null;return H.return(n)}for(o="1.0 1.1 1.2 1.3 1.4 2.0 2.1 2.2 2.3".split(" "),u={"com.widevine.alpha":s=["SW_SECURE_CRYPTO","SW_SECURE_DECODE","HW_SECURE_CRYPTO","HW_SECURE_DECODE","HW_SECURE_ALL"],"com.widevine.alpha.experiment":s,"com.microsoft.playready.recommendation":["150","2000","3000"]},p={videoCapabilities:c=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],audioCapabilities:d=[{contentType:'audio/mp4; codecs="mp4a.40.2"'},{contentType:'audio/webm; codecs="opus"'}],initDataTypes:["cenc","sinf","skd","keyids"]},f=[null,"cenc","cbcs","cbcs-1-9"],h=new Map,y=function(e,t){var n,r,i,a,s,u,c,d,p,f,y,g,v;return I((function(m){switch(m.g){case 1:return E(m,2),b(m,t.createMediaKeys(),5);case 5:n=m.h;case 4:_(m,3);break;case 2:return A(m),m.return();case 3:if(i=!!(r=t.getConfiguration().sessionTypes)&&r.includes("persistent-license"),We()&&(i=!1),a=t.getConfiguration().videoCapabilities,s=t.getConfiguration().audioCapabilities,u={persistentState:i,encryptionSchemes:[],videoRobustnessLevels:[],audioRobustnessLevels:[],minHdcpVersions:[]},h.has(e)&&h.get(e)?u=h.get(e):h.set(e,u),(c=a[0].encryptionScheme)&&!u.encryptionSchemes.includes(c)&&u.encryptionSchemes.push(c),(d=a[0].robustness)&&!u.videoRobustnessLevels.includes(d)&&u.videoRobustnessLevels.push(d),(p=s[0].robustness)&&!u.audioRobustnessLevels.includes(p)&&u.audioRobustnessLevels.push(p),"getStatusForPolicy"in n){for(f=[],y=l(o),g=y.next(),v={};!g.done;v={td:void 0},g=y.next())v.td=g.value,u.minHdcpVersions.includes(v.td)||f.push(n.getStatusForPolicy({minHdcpVersion:v.td}).then(function(e){return function(t){"usable"!=t||u.minHdcpVersions.includes(e.td)||u.minHdcpVersions.push(e.td)}}(v)));return b(m,Promise.all(f),0)}m.s(0)}}))},g=function(e,t,n,r){var i,a,o,s,u,c,d,f,h,g;return I((function(v){switch(v.g){case 1:for(E(v,2),i=vn(p),a=l(i.videoCapabilities),o=a.next();!o.done;o=a.next())(s=o.value).encryptionScheme=t,s.robustness=n;for(u=l(i.audioCapabilities),c=u.next();!c.done;c=u.next())(d=c.value).encryptionScheme=t,d.robustness=r;return(f=vn(i)).persistentState="required",f.sessionTypes=["persistent-license"],h=[f,i],rt()?b(v,ni(5,navigator.requestMediaKeySystemAccess(e,h)),7):b(v,navigator.requestMediaKeySystemAccess(e,h),6);case 6:g=v.h,v.s(5);break;case 7:g=v.h;case 5:return b(v,y(e,g),8);case 8:_(v,0);break;case 2:A(v),k(v)}}))},v=function(e,t,n,r){var i,a,o;return I((function(s){switch(s.g){case 1:return E(s,2),i={type:"media-source",video:{contentType:c[0].contentType,width:640,height:480,bitrate:1,framerate:1},audio:{contentType:d[0].contentType,channels:2,bitrate:1,samplerate:1},keySystemConfiguration:{keySystem:e,video:{encryptionScheme:t,robustness:n},audio:{encryptionScheme:t,robustness:r}}},rt()?b(s,ni(5,navigator.mediaCapabilities.decodingInfo(i)),7):b(s,navigator.mediaCapabilities.decodingInfo(i),6);case 6:a=s.h,s.s(5);break;case 7:a=s.h;case 5:return o=a.keySystemAccess,b(s,y(e,o),8);case 8:_(s,0);break;case 2:A(s),k(s)}}))},m=l(t),T=m.next();!T.done;T=m.next())S=T.value,h.set(S,null);for(w=function(e){return"org.w3.clearkey"!==e||!Qe()},C=[],x=l(f),P=x.next();!P.done;P=x.next())for(R=P.value,D=l(t),O=D.next();!O.done;O=D.next())L=O.value,w(L)&&(C.push(g(L,R,"","")),C.push(v(L,R,"","")));for(M=l(t),N=M.next();!N.done;N=M.next())for(U=N.value,B=l(u[U]||[]),F=B.next();!F.done;F=B.next())j=F.value,w(U)&&(C.push(g(U,null,j,"")),C.push(g(U,null,"",j)),C.push(v(U,null,j,"")),C.push(v(U,null,"",j)));return b(H,Promise.all(C),2)}return H.return(Ta(h))}))}(),3);case 3:n=s.h;case 2:return r=function(){var e={};if(He())for(var t=l(wo.keys()),n=t.next();!n.done;n=t.next())e[n.value]=!0;for(n=(t=l(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!n.done;n=t.next())e[n=n.value]=He()?wo.has(n):Ve(n);return e}(),i=function(){for(var e='video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",video/mp4; codecs="dvh1.05.01",video/mp4; codecs="dvh1.20.01",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="ac-4.02.01.01",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(u(zr)),t={},n=(e=l(e)).next();!n.done;n=e.next()){qr(n=n.value)?t[n]=!0:t[n]=He()?Kt(n)||!!wr(n):Ve(n);var r=n.split(";")[0];t[r]=t[r]||t[n]}return t}(),b(s,ct(),4);case 4:return a=s.h,o={manifest:r,media:i,drm:n,hardwareResolution:a},kp.forEach((function(e,t){o[t]=e()})),s.return(o)}}))},dd.isBrowserSupported=function(){return e.Promise||Y("A Promise implementation or polyfill is required"),!(!(e.Promise&&e.Uint8Array&&Array.prototype.forEach)||ot("Trident/"))&&(!!He()||Ve("application/x-mpegurl"))},dd.setAdManagerFactory=function(e){Ep=e},dd.registerSupportPlugin=hd,dd.prototype.destroy=dd.prototype.destroy;var yp=0,gp=1,vp=2,mp=3;dd.LoadMode={DESTROYED:yp,NOT_LOADED:gp,MEDIA_SOURCE:vp,SRC_EQUALS:mp},dd.version="v4.14.9";var bp=["4","14"];ae=new function(e){this.g=e,this.i=re,this.h=ie}(new te(Number(bp[0]),Number(bp[1])));var kp=new Map,Ep=null;function Tp(){this.g=[],this.i=this.m=this.l=this.j=this.h=0}function _p(e){return e.g.length?e.g.reduce((function(e,t){return e+t}),0)/e.g.length:0}function Ap(e,t,n){var r=this;this.g=e,this.h=t,this.j=n,this.i=!1,this.l=this.h.getVolume(),this.m=new J,this.m.D(this.h,google.ima.AdEvent.Type.PAUSED,(function(){r.i=!0})),this.m.D(this.h,google.ima.AdEvent.Type.RESUMED,(function(){r.i=!1}))}function Sp(){}function wp(e,t){for(var n=[],r=(e=l(Sn(e,"Ad"))).next();!r.done;r=e.next())if((r=Pn(r.value,"InLine"))&&(r=Pn(r,"Creatives")))for(var i=(r=l(Sn(r,"Creative"))).next();!i.done;i=r.next()){var a=Pn(i=i.value,"Linear");if(a&&Cp(n,t,a),i=Pn(i,"NonLinearAds"))for(var o=(i=l(i=Sn(i,"NonLinear"))).next();!o.done;o=i.next())e:{a=n;var s=t,u=o.value,c=Pn(u,"StaticResource");if(c)o=c.attributes.creativeType;else{if(!(c=Pn(u,"HTMLResource")))break e;o="text/html"}if(c=Cn(c)){"text/html"===o&&(c="data:text/html;charset=UTF-8,"+encodeURIComponent(c));var d=In(u,"width",Bn)||In(u,"expandedWidth",Bn),p=In(u,"height",Bn)||In(u,"expandedHeight",Bn);if(d||p){var f=null;(u=u.attributes.minSuggestedDuration)&&(f=yn(u)),u=0,null!=s&&(u=s),a.push({id:null,groupId:null,startTime:u,endTime:null,uri:c,mimeType:o,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!1,resumeOffset:0,playoutLimit:f,once:!0,pre:null==s,post:1/0==s,timelineRange:!1,loop:!1,overlay:{viewport:{x:0,y:0},topLeft:{x:0,y:0},size:{x:d||0,y:p||0}},displayOnBackground:!1,currentVideo:null,background:null})}}}}return n}function Cp(e,t,n){var r=0;null!=t&&(r=t);var i=null;if(n.attributes.skipoffset&&(i=yn(n.attributes.skipoffset),isNaN(i)&&(i=null)),n=Pn(n,"MediaFiles")){var a=Sn(n,"MediaFile");for(n=a,(a=a.filter((function(e){return"streaming"==e.attributes.delivery}))).length&&(n=a),n=n.sort((function(e,t){return(parseInt(t.attributes.height,10)||0)-(parseInt(e.attributes.height,10)||0)})),a=(n=l(n)).next();!a.done;a=n.next())if(!(a=a.value).attributes.apiFramework){var o=Cn(a);if(o){e.push({id:null,groupId:null,startTime:r,endTime:null,uri:o,mimeType:a.attributes.type||null,isSkippable:null!=i,skipOffset:i,skipFor:null,canJump:!1,resumeOffset:0,playoutLimit:null,once:!0,pre:null==t,post:1/0==t,timelineRange:!1,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null});break}}}}function xp(t,n,r,i,a){var o=this;this.u=t,this.i=n,this.F=!1,this.A=this.o=null,this.G=NaN,this.l=a,this.j=null,this.h=new J,google.ima.settings.setLocale(r),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.C=new google.ima.AdDisplayContainer(this.u,this.i),this.C.initialize(),this.m=new google.ima.AdsLoader(this.C),this.m.getSettings().setPlayerType("shaka-player"),this.m.getSettings().setPlayerVersion("v4.14.9"),this.g=null,this.B=i||new google.ima.AdsRenderingSettings,this.h.D(this.m,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(t){!function(t,n){if(t.l(new ta("ads-loaded",(new Map).set("loadTime",Date.now()/1e3-t.G))),t.o.customPlayheadTracker){var r={currentTime:t.i.currentTime};t.g=n.getAdsManager(r,t.B),t.i.muted?t.g.setVolume(0):t.g.setVolume(t.i.volume),t.h.D(t.i,"timeupdate",(function(){t.i.duration&&(r.currentTime=t.i.currentTime)})),t.h.D(t.i,"volumechange",(function(){t.j&&(t.j.setVolume(t.i.volume),t.i.muted&&t.j.setMuted(!0))}))}else t.g=n.getAdsManager(t.i,t.B);t.l(new ta("ima-ad-manager-loaded",(new Map).set("imaAdManager",t.g)));var i=t.g.getCuePoints();if(i.length){n=[];for(var a=(i=l(i)).next();!a.done;a=i.next())n.push({start:a.value,end:null});t.l(new ta("ad-cue-points-changed",(new Map).set("cuepoints",n)))}!function(e){function t(t,n){t=(new Map).set("originalEvent",t),e.l(new ta(n,t))}e.h.D(e.g,google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){Pp(e,t)})),e.h.D(e.g,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,(function(t){Ip(e,t)})),e.h.D(e.g,google.ima.AdEvent.Type.STARTED,(function(t){Ip(e,t)})),e.h.D(e.g,google.ima.AdEvent.Type.FIRST_QUARTILE,(function(e){t(e,"ad-first-quartile")})),e.h.D(e.g,google.ima.AdEvent.Type.MIDPOINT,(function(e){t(e,"ad-midpoint")})),e.h.D(e.g,google.ima.AdEvent.Type.THIRD_QUARTILE,(function(e){t(e,"ad-third-quartile")})),e.h.D(e.g,google.ima.AdEvent.Type.COMPLETE,(function(e){t(e,"ad-complete")})),e.h.D(e.g,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,(function(t){Dp(e,t)})),e.h.D(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(t){Dp(e,t)})),e.h.D(e.g,google.ima.AdEvent.Type.SKIPPED,(function(e){t(e,"ad-skipped")})),e.h.D(e.g,google.ima.AdEvent.Type.VOLUME_CHANGED,(function(e){t(e,"ad-volume-changed")})),e.h.D(e.g,google.ima.AdEvent.Type.VOLUME_MUTED,(function(e){t(e,"ad-muted")})),e.h.D(e.g,google.ima.AdEvent.Type.PAUSED,(function(n){e.j&&(e.j.i=!0,t(n,"ad-paused"))})),e.h.D(e.g,google.ima.AdEvent.Type.RESUMED,(function(n){e.j&&(e.j.i=!1,t(n,"ad-resumed"))})),e.h.D(e.g,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,(function(n){e.j&&t(n,"ad-skip-state-changed")})),e.h.D(e.g,google.ima.AdEvent.Type.CLICK,(function(e){t(e,"ad-clicked")})),e.h.D(e.g,google.ima.AdEvent.Type.AD_PROGRESS,(function(e){t(e,"ad-progress")})),e.h.D(e.g,google.ima.AdEvent.Type.AD_BUFFERING,(function(e){t(e,"ad-buffering")})),e.h.D(e.g,google.ima.AdEvent.Type.IMPRESSION,(function(e){t(e,"ad-impression")})),e.h.D(e.g,google.ima.AdEvent.Type.DURATION_CHANGE,(function(e){t(e,"ad-duration-changed")})),e.h.D(e.g,google.ima.AdEvent.Type.USER_CLOSE,(function(e){t(e,"ad-closed")})),e.h.D(e.g,google.ima.AdEvent.Type.LOADED,(function(e){t(e,"ad-loaded")})),e.h.D(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(e){t(e,"all-ads-completed")})),e.h.D(e.g,google.ima.AdEvent.Type.LINEAR_CHANGED,(function(e){t(e,"ad-linear-changed")})),e.h.D(e.g,google.ima.AdEvent.Type.AD_METADATA,(function(e){t(e,"ad-metadata")})),e.h.D(e.g,google.ima.AdEvent.Type.LOG,(function(e){t(e,"ad-recoverable-error")})),e.h.D(e.g,google.ima.AdEvent.Type.AD_BREAK_READY,(function(e){t(e,"ad-break-ready")})),e.h.D(e.g,google.ima.AdEvent.Type.INTERACTION,(function(e){t(e,"ad-interaction")}))}(t);try{t.g.init(t.i.offsetWidth,t.i.offsetHeight,Rp(t)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),t.h.D(t.i,"loadeddata",(function(){t.g.resize(t.i.offsetWidth,t.i.offsetHeight,Rp(t)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)})),"ResizeObserver"in e?(t.A=new ResizeObserver((function(){t.g.resize(t.i.offsetWidth,t.i.offsetHeight,Rp(t)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)})),t.A.observe(t.i)):t.h.D(document,"fullscreenchange",(function(){t.g.resize(t.i.offsetWidth,t.i.offsetHeight,Rp(t)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)})),t.F||t.o.skipPlayDetection?t.g.start():t.h.ma(t.i,"play",(function(){t.F=!0,t.g.start()}))}catch(e){Dp(t,null)}}(o,t)})),this.h.D(this.m,google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){Pp(o,e)})),this.h.D(this.i,"ended",(function(){o.m.contentComplete()})),this.h.ma(this.i,"play",(function(){o.F=!0}))}function Pp(e,t){t.getError(),t=(new Map).set("originalEvent",t),e.l(new ta("ad-error",t)),Dp(e,null),e.l(new ta("ad-cue-points-changed",(new Map).set("cuepoints",[])))}function Rp(e){return document.fullscreenEnabled?!!document.fullscreenElement:!!(e=e.i).webkitSupportsFullscreen&&e.webkitDisplayingFullscreen}function Ip(e,t){var n=t.getAd();n?(e.j=new Ap(n,e.g,e.i),t.type!=google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED||e.o.supportsMultipleMediaElements||e.l(new ta("ad-content-pause-requested")),t=(new Map).set("ad",e.j).set("sdkAdObject",n).set("originalEvent",t),e.l(new ta("ad-started",t)),e.j.isLinear()&&(e.u.setAttribute("ad-active","true"),e.o.customPlayheadTracker||e.i.pause(),e.i.muted?((t=e.j).l=e.i.volume,t.h.setVolume(0)):e.j.setVolume(e.i.volume))):Y("The IMA SDK fired a "+t.type+" event with no associated ad. Unable to play ad!")}function Dp(e,t){t&&t.type==google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED&&!e.o.supportsMultipleMediaElements&&e.l(new ta("ad-content-resume-requested")),e.l(new ta("ad-stopped",(new Map).set("originalEvent",t))),e.j&&e.j.isLinear()&&(e.u.removeAttribute("ad-active"),e.o.customPlayheadTracker||e.i.ended||e.i.play())}function Op(e,t,n,r,i,a){this.g=e,this.i=t,this.j=(this.h=t.isSkippable)?t.skipOffset||0:t.skipOffset,this.l=t.skipFor,this.A=n,this.o=r,this.m=i,this.u=a,this.B=t.overlay}function Lp(e,t,n){this.g=e,this.j=t,this.h=n,this.i=null==e.overlay}function Mp(e,t,n,r){var i=this;this.T=null,this.A=e,this.H=t,this.g=n,this.F=null,this.B=!0,this.h=this.g,this.i=r,this.W=new Set,this.G=new Set,this.C=new Map,this.L=new Map,this.j=new dd,zp(this),this.I=new J,this.l=new J,this.K=!1,this.ea=this.m=this.u=this.o=null,this.fa=!1,this.O=-1,this.$=function(){if(!i.K&&i.o&&!i.H.Pa()){i.o=i.g.currentTime,i.u&&!i.u.pre&&!i.u.post&&i.o<i.u.startTime&&(i.u=null);var e=jp(i);e&&Hp(i,e,1,1,Date.now())}},this.Z=function(){if(!(i.K||i.o||i.H.Pa())){i.o=i.g.currentTime;var e=jp(i,!0);e&&Hp(i,e,1,1,Date.now())}},this.P=new je(this.$),this.M=new je((function(){var e,t,n,r,a,o,s,u,c,d,p;return I((function(f){switch(f.g){case 1:if(!i.G.size||null==i.o){f.s(0);break}if((e=i.H.m)==yp||e==gp)return f.return();t=!1,n=Array.from(i.G),r=i.H.Ra(),a=l(n),o=a.next();case 3:if(o.done){f.s(5);break}if((s=o.value)==i.u){f.s(4);break}if(u=s.endTime||s.startTime,!(1<=r.start-u)){0<(c=s.startTime-i.o)&&10>=c&&(!i.C.has(s)&&Yp(s)&&i.C.set(s,i.j.preload(s.uri,null,s.mimeType||void 0)),Zp(i,s)),f.s(4);break}if(!i.C.has(s)){f.s(7);break}return b(f,i.C.get(s),8);case 8:(d=f.h)&&d.destroy(),i.C.delete(s);case 7:qp(i,s),p=JSON.stringify(s),i.W.has(p)&&i.W.delete(p),i.G.delete(s),Np(i),s.overlay||(t=!0);case 4:o=a.next(),f.s(3);break;case 5:t&&Kp(i),k(f)}}))}))}function Np(e){e.fa&&!e.G.size&&(e.I.Ja(e.g,"playing",e.Z),e.I.Ja(e.g,"timeupdate",e.Z),e.I.Ja(e.g,"ended",e.$),-1!=e.O&&(e.g.cancelVideoFrameCallback(e.O),e.O=-1),e.P&&e.P.stop(),e.M&&e.M.stop(),e.fa=!1)}function Up(e){if(e.A&&e.T&&!e.K){var t=e.T.supportsMultipleMediaElements,n=e.g;n.webkitSupportsFullscreen&&n.webkitDisplayingFullscreen&&(t=!1),e.B==t&&(e.B=!t,e.B?(e.h=e.g,e.F&&(e.F.parentElement&&e.A.removeChild(e.F),e.F=null)):(e.F||((t=document.createElement(e.g.tagName)).autoplay=!0,t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.display="none",t.setAttribute("playsinline",""),e.F=t),e.h=e.F))}}function Bp(e,t){var n;I((function(r){if(1==r.g)return zp(e),b(r,function(e,t){var n,r,i,a,o,s,l,u,c,d,p,f,h,y,g,v,m,k,T,S,w,C,x,P,R,D,O,L,M,N,U,B,F,j,H,V,G,K,z,W,Y;return I((function(I){switch(I.g){case 1:if(n=[],!t)return I.return(n);if(r=t.values.find((function(e){return"X-ASSET-URI"==e.key})),i=t.values.find((function(e){return"X-ASSET-LIST"==e.key})),!r&&!i)return I.return(n);if(a=null,(o=t.values.find((function(e){return"ID"==e.key})))&&(a=o.data),s=null==a?Math.floor(10*t.startTime)/10:t.startTime,(l=t.endTime)&&1/0!=t.endTime&&"number"==typeof t.endTime&&(l=null==a?Math.floor(10*t.endTime)/10:t.endTime),u=t.values.find((function(e){return"X-RESTRICT"==e.key})),d=c=!0,u&&u.data&&(p=u.data,c=!p.includes("SKIP"),d=!p.includes("JUMP")),f=c?0:null,(h=t.values.find((function(e){return"X-ENABLE-SKIP-AFTER"==e.key})))&&(y=h.data,f=parseFloat(y),isNaN(f)&&(f=c?0:null)),g=null,(v=t.values.find((function(e){return"X-ENABLE-SKIP-FOR"==e.key})))&&(m=v.data,g=parseFloat(m),isNaN(f)&&(g=null)),k=null,(T=t.values.find((function(e){return"X-RESUME-OFFSET"==e.key})))&&(S=T.data,k=parseFloat(S),isNaN(k)&&(k=null)),w=null,(C=t.values.find((function(e){return"X-PLAYOUT-LIMIT"==e.key})))&&(x=C.data,w=parseFloat(x),isNaN(w)&&(w=null)),D=R=P=!1,(O=t.values.find((function(e){return"CUE"==e.key})))&&(L=O.data,P=L.includes("ONCE"),R=L.includes("PRE"),D=L.includes("POST")),M=!1,(N=t.values.find((function(e){return"X-TIMELINE-OCCUPIES"==e.key})))?(U=N.data,M=U.includes("RANGE")):!T&&e.H.U()&&(M=!R&&!D),r){if(!(B=r.data))return I.return(n);n.push({id:a,groupId:null,startTime:s,endTime:l,uri:B,mimeType:null,isSkippable:c,skipOffset:f,skipFor:g,canJump:d,resumeOffset:k,playoutLimit:w,once:P,pre:R,post:D,timelineRange:M,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null}),I.s(2);break}if(!i){I.s(2);break}return(F=i.data)?(E(I,4),b(I,Wp(e,F,{type:11}),6)):I.return(n);case 6:for(j=I.h,H=yt(j),V=JSON.parse(H),(G=V["SKIP-CONTROL"])&&("number"==typeof(K=G["ENABLE-SKIP-AFTER"])&&(f=parseFloat(K),isNaN(K)&&(f=c?0:null)),"number"==typeof(z=G["ENABLE-SKIP-FOR"])&&(g=parseFloat(z),isNaN(z)&&(g=null))),W=0;W<V.ASSETS.length;W++)(Y=V.ASSETS[W]).URI&&n.push({id:a+"_shaka_asset_"+W,groupId:a,startTime:s,endTime:l,uri:Y.URI,mimeType:null,isSkippable:c,skipOffset:f,skipFor:g,canJump:d,resumeOffset:k,playoutLimit:w,once:P,pre:R,post:D,timelineRange:M,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null});_(I,2);break;case 4:A(I);case 2:return I.return(n)}}))}(e,t),2);(n=r.h).length?Fp(e,n):Y("Unsupported HLS interstitial",t),k(r)}))}function Fp(e,t){var n,r,i,a,o,s,u,c;I((function(d){switch(d.g){case 1:n=!1,r=l(t),i=r.next();case 2:if(i.done){d.s(4);break}if(!(a=i.value).uri){Y("Missing URL in interstitial",a),d.s(3);break}if(a.mimeType){d.s(5);break}return E(d,6),o=e.j.xb(),b(d,Ec(a.uri,o,e.H.getConfiguration().streaming.retryParameters),8);case 8:a.mimeType=d.h,_(d,5);break;case 6:A(d);case 5:if(s=a.id||JSON.stringify(a),e.W.has(s)){d.s(3);break}a.loop&&!a.overlay&&Y("Loop is only supported in overlay interstitials",a),a.overlay||(n=!0),e.W.add(s),e.G.add(a),u=!1,a.pre&&null==e.o?u=!0:0!=a.startTime||a.canJump?null!=e.o&&(0<(c=a.startTime-e.o)&&10>=c&&(u=!0)):u=!0,u&&(!e.C.has(a)&&Yp(a)&&e.C.set(a,e.j.preload(a.uri,null,a.mimeType||void 0)),Zp(e,a));case 3:i=r.next(),d.s(2);break;case 4:n&&Kp(e),function(e){if(!e.fa&&e.G.size){if(e.I.D(e.g,"playing",e.Z),e.I.D(e.g,"timeupdate",e.Z),e.I.D(e.g,"ended",e.$),"requestVideoFrameCallback"in e.g&&!at()){var t=e.g,n=function(){-1!=e.O&&(e.$(),-1!=e.O&&(e.O=t.requestVideoFrameCallback(n)))};e.O=t.requestVideoFrameCallback(n)}else e.P.ua(.025);e.M&&e.M.ua(1),e.fa=!0}}(e),k(d)}}))}function jp(e,t,n){t=void 0!==t&&t,n=void 0===n?null:n;var r=0,i=null;if(e.G.size&&null!=e.o){var a=e.g.ended,o=Array.from(e.G).sort((function(e,t){return t.startTime-e.startTime})),s=o;for(s=t?o.filter((function(e){return e.pre})):a?o.filter((function(e){return e.post})):o.filter((function(e){return!e.pre&&!e.post})),s=(o=l(s)).next();!s.done;s=o.next()){s=s.value;var u=!1;if(t)u=s.pre;else if(a)u=s.post;else if(!s.pre&&!s.post){var c=e.o-Math.round(1e3*s.startTime)/1e3;0<c&&(1>=c||!s.canJump)&&(u=!(null==n&&e.u&&!e.u.pre&&!e.u.post&&e.u.startTime>=s.startTime))}u&&(!e.u||s.startTime>=e.u.startTime)&&(r==(n||0)?i=s:i&&!s.canJump&&.001<Math.round(1e3*s.startTime)/1e3-Math.round(1e3*i.startTime)/1e3&&(i=s,r=0),r++)}}return i}function Hp(e,t,n,r,i,a){a=void 0===a?0:a,e.u=t,Up(e),!e.h.parentElement&&e.A&&e.A.appendChild(e.h),1==r&&1==n&&(n=Array.from(e.G).filter((function(e){return t.pre?e.pre==t.pre:t.post?e.post==t.post:.001>Math.abs(e.startTime-t.startTime)})).length),t.once&&(a++,e.G.delete(t),Np(e),t.overlay||Kp(e)),t.mimeType&&(t.mimeType.startsWith("image/")||"text/html"===t.mimeType)?t.overlay?function(e,t,n,r,i){function a(){e.m&&(e.m.stop(),e.m=null),e.A.removeChild(l),Gp(e,t),e.i(new ta("ad-stopped"));var a=jp(e,t.pre,r-i);a?(e.l.Qa(),Hp(e,a,n,++r,Date.now(),i)):e.K=!1}var o=t.overlay,s="text/html"==t.mimeType?"iframe":"img",l=document.createElement(s);l.style.objectFit="contain",l.style.position="absolute",l.style.border="none",Vp(e,t),e.i(new ta("ad-started",(new Map).set("ad",new Lp(t,n,r)))),"iframe"==s?l.src=t.uri:(l.src=t.uri,l.onerror=function(t){e.i(new ta("ad-error",(new Map).set("originalEvent",t))),a()});var u=o.viewport,c=o.topLeft;o=o.size,0==u.x&&0==u.y?(l.width=t.overlay.size.x,l.height=t.overlay.size.y,l.style.bottom="10%",l.style.left="0",l.style.right="0",l.style.width="100%",t.overlay.size.y||"iframe"!=s||(l.style.height="auto")):(l.style.height=o.y/u.y*100+"%",l.style.left=c.x/u.x*100+"%",l.style.top=c.y/u.y*100+"%",l.style.width=o.x/u.x*100+"%"),e.A.appendChild(l);var d=Date.now();e.m&&e.m.stop(),e.m=new je((function(){t.playoutLimit&&(Date.now()-d)/1e3>t.playoutLimit||t.endTime&&e.g.currentTime>t.endTime?(e.i(new ta("ad-complete")),a()):e.g.currentTime<t.startTime&&(e.i(new ta("ad-skipped")),a())})),t.playoutLimit&&!t.endTime?e.m.da(t.playoutLimit):t.endTime&&e.m.ua(.025),e.l.D(e.g,"seeked",(function(){var n=e.g.currentTime;(n<t.startTime||t.endTime&&n>t.endTime)&&(e.m&&e.m.stop(),e.i(new ta("ad-skipped")),a())}))}(e,t,n,r,a):Y("Unsupported interstitial",t):e.B&&t.overlay?Y("Unsupported interstitial",t):function(e,t,n,r,i,a){var o,s,l,u,c,d,p,f,h,y,g,v,m,T,S,w,C;I((function(x){switch(x.g){case 1:if(o=Date.now(),e.K=!0,!e.B||1!=r){x.s(2);break}return e.i(new ta("ad-content-pause-requested",(new Map).set("saveLivePosition",!0))),s=new Zi,l=function(t){return I((function(n){if(1==n.g)return"detach"!=t.state?n.s(0):at()?b(n,new Promise((function(e){return new je(e).da(.1)})),3):n.s(3);s.resolve(),e.l.Ja(e.H,"onstatechange",l),k(n)}))},e.l.D(e.H,"onstatechange",l),b(x,s,2);case 2:return Vp(e,t),e.B||(e.h.style.display="",t.overlay?(e.h.loop=t.loop,u=t.overlay.viewport,c=t.overlay.topLeft,d=t.overlay.size,e.h.style.height=d.y/u.y*100+"%",e.h.style.left=c.x/u.x*100+"%",e.h.style.top=c.y/u.y*100+"%",e.h.style.width=d.x/u.x*100+"%"):(e.g.pause(),null!=t.resumeOffset&&0!=t.resumeOffset&&(e.g.currentTime+=t.resumeOffset),e.h.loop=!1,e.h.style.height="100%",e.h.style.left="0",e.h.style.top="0",e.h.style.width="100%")),p=!1,f=function(){if(!e.B&&!t.overlay&&null==t.resumeOffset)if(t.timelineRange&&t.endTime&&1/0!=t.endTime)e.g.currentTime!=t.endTime&&(e.g.currentTime=t.endTime);else{var n=Date.now();e.g.currentTime+=(n-i)/1e3,i=n}},h=function(o){var s,l;return I((function(u){if(1==u.g){if(f(),s=jp(e,t.pre,r-a),o&&t.groupId)for(;s&&s.groupId==t.groupId;)r++,s=jp(e,t.pre,r-a);return e.m&&(!t.groupId||s&&s.groupId!=t.groupId)&&(e.m.stop(),e.m=null),Gp(e,t),s&&!s.overlay?u.s(2):(t.post&&(e.o=null,e.u=null),e.B?b(u,e.j.detach(),4):b(u,e.j.kc(),4))}2!=u.g&&(e.B&&(null==(l=t.resumeOffset)&&(l=t.timelineRange&&t.endTime&&1/0!=t.endTime?t.endTime-(e.o||0):(Date.now()-i)/1e3),e.i(new ta("ad-content-resume-requested",(new Map).set("offset",l)))),e.i(new ta("ad-stopped")),e.l.Qa(),e.K=!1,e.B?Kp(e):(e.h.style.display="none",f(),e.g.ended||e.g.play())),Up(e),s&&(e.i(new ta("ad-stopped")),e.l.Qa(),Hp(e,s,n,++r,i,a)),k(u)}))},y=function(t){return I((function(n){return p?n.return():(p=!0,e.i(new ta("ad-error",(new Map).set("originalEvent",t))),b(n,h(!1),0))}))},g=function(){return I((function(t){if(1==t.g)return p?t.return():(p=!0,b(t,h(!1),2));e.i(new ta("ad-complete")),k(t)}))},e.ea=function(){return I((function(t){return p?t.return():(p=!0,e.i(new ta("ad-skipped")),b(t,h(!0),0))}))},v=new Op(e.h,t,e.ea,n,r,!e.B),e.B||(v.setMuted(e.g.muted),v.setVolume(e.g.volume)),e.i(new ta("ad-started",(new Map).set("ad",v))),(m=v.canSkipNow())&&e.i(new ta("ad-skip-state-changed")),e.l.ma(e.j,"error",y),e.l.D(e.h,"timeupdate",(function(){if(e.h.duration){var t=v.canSkipNow();m!=t&&0<v.getRemainingTime()&&0<v.getDuration()&&e.i(new ta("ad-skip-state-changed")),m=t}})),e.l.ma(e.j,"firstquartile",(function(){f(),e.i(new ta("ad-first-quartile"))})),e.l.ma(e.j,"midpoint",(function(){f(),e.i(new ta("ad-midpoint"))})),e.l.ma(e.j,"thirdquartile",(function(){f(),e.i(new ta("ad-third-quartile"))})),e.l.ma(e.j,"complete",g),e.l.D(e.h,"play",(function(){e.i(new ta("ad-resumed"))})),e.l.D(e.h,"pause",(function(){var t=e.j.getConfiguration();e.h.currentTime>=t.playRangeEnd?g():e.i(new ta("ad-paused"))})),e.l.D(e.h,"volumechange",(function(){e.h.muted?e.i(new ta("ad-muted")):e.i(new ta("ad-volume-changed"))})),E(x,4),zp(e),t.startTime&&t.endTime&&1/0!=t.endTime&&t.startTime!=t.endTime&&(0<(T=t.endTime-t.startTime)&&e.j.configure("playRangeEnd",T)),t.playoutLimit&&!e.m&&(e.m=new je((function(){e.ea()})).da(t.playoutLimit),e.j.configure("playRangeEnd",t.playoutLimit)),b(x,e.j.Lb(e.h),6);case 6:return e.C.has(t)?b(x,e.C.get(t),10):b(x,e.j.load(t.uri,null,t.mimeType||void 0),8);case 10:return S=x.h,e.C.delete(t),b(x,S?e.j.load(S):e.j.load(t.uri,null,t.mimeType||void 0),8);case 8:e.h.play(),w=(Date.now()-o)/1e3,e.i(new ta("ads-loaded",(new Map).set("loadTime",w))),e.B&&e.g.play(),t.overlay&&(e.l.D(e.g,"seeking",(function(){var n=e.g.currentTime-t.startTime;.1<Math.abs(n-e.h.currentTime)&&(e.h.currentTime=n)})),e.l.D(e.g,"seeked",(function(){var n=e.g.currentTime;(n<t.startTime||t.endTime&&n>t.endTime)&&e.ea()}))),_(x,0);break;case 4:if(C=A(x),!e.K)return x.return();y(C),k(x)}}))}(e,t,n,r,i,a)}function Vp(e,t){if(t.displayOnBackground&&(e.g.style.zIndex="1"),null!=t.currentVideo){var n=t.currentVideo;e.g.style.transformOrigin="top left";var r=!0,i=[],a=n.topLeft.x/n.viewport.x*100;0<a&&100>=a&&(i.push("translateX("+a+"%)"),r=!1),0<(a=n.topLeft.y/n.viewport.y*100)&&100>=a&&(i.push("translateY("+a+"%)"),r=!1),1>(a=n.size.x/n.viewport.x)&&i.push("scaleX("+a+")"),n=n.size.y/n.viewport.y,1>a&&i.push("scaleY("+n+")"),i.length&&(e.g.style.transform=i.join(" ")),r&&(e.g.style.transition="transform 250ms")}e.A&&(e.A.style.pointerEvents="none",t.background&&(e.A.style.background=t.background)),e.F&&(e.F.style.background=t.overlay?"":"rgb(0, 0, 0)")}function Gp(e,t){t&&!t.displayOnBackground||(e.g.style.zIndex=""),t&&null==t.currentVideo||(e.g.style.transformOrigin="",e.g.style.transition="",e.g.style.transform=""),e.A&&(e.A.style.pointerEvents="",!t||t.background)&&(e.A.style.background=""),e.F&&(e.F.style.background="")}function Kp(e){for(var t=[],n=l(e.G),r=n.next(),i={};!r.done;i={$b:void 0},r=n.next())(r=r.value).overlay||(i.$b={start:r.startTime,end:null},r.pre?(i.$b.start=0,i.$b.end=null):r.post?(i.$b.start=-1,i.$b.end=null):r.timelineRange&&(i.$b.end=r.endTime),t.find(function(e){return function(t){return e.$b.start==t.start&&e.$b.end==t.end}}(i))||t.push(i.$b));e.i(new ta("ad-cue-points-changed",(new Map).set("cuepoints",t)))}function zp(e){e.j.configure(e.H.Vg()),e.j.configure("ads.disableHLSInterstitial",!0),e.j.configure("ads.disableDASHInterstitial",!0),e.j.configure("playRangeEnd",1/0),ua(e.H.xb(),e.j.xb())}function Wp(e,t,n){var r,i;return I((function(a){return 1==a.g?(r=ca([t],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}),b(a,e.H.xb().request(7,r,n).promise,2)):(i=a.h,a.return(i.data))}))}function Yp(e){return!(e=e.mimeType)||!e.startsWith("image/")&&"text/html"!==e}function Zp(e,t){if(!(e.L.has(t)||e.T&&!e.T.allowPreloadOnDomElements)){var n=function(e){var t=document.createElement("link");return t.rel="preload",t.href=e,t.as="image",document.head.appendChild(t),t},r=[];if(t.background){var i=t.background.match(/url\(('|")?([^'"()]+)('|")\)?/);i&&r.push(n(i[2]))}t.mimeType.startsWith("image/")&&r.push(n(t.uri)),e.L.set(t,r)}}function qp(e,t){if(e.L.has(t)){for(var n=e.L.get(t),r=(n=l(n)).next();!r.done;r=n.next())(r=r.value).parentNode.removeChild(r);e.L.delete(t)}}function Xp(e,t,n,r,i){this.h=e,this.j=yn(this.h.skipOffset),this.g=i,this.i=t,this.l=n,this.o=r,this.m=!1}function Qp(e,t,n,r){this.B=e,this.K=t,this.h=n,this.l=null,this.P=NaN,this.i=r,this.I=!1,this.A=null,this.j=[],this.M=[],this.L=this.C=this.g=null,this.F=new Map,this.m=[],this.u=[],this.G="",this.O=!0,this.H="",this.o=new J}function Jp(e,t){var n,r,i,a,o,s,l,u;I((function(c){return 1==c.g?t.staticResource?(n=$p(t),e.F.get(n)?c.return():(r={type:9},i=ca([t.staticResource],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}),a=e.K.request(7,i,r),E(c,2),e.F.set(n,[]),b(c,a.promise,4))):c.return():2!=c.g?(o=c.h,s=yt(o.data),l=JSON.parse(s),u=l.apps,e.F.set(n,u),_(c,0)):(A(c),e.F.delete(n),void k(c))}))}function $p(e){return[e.adId,e.adParameters,e.adSystem,e.adTitle,e.creativeAdId,e.creativeId,e.creativeSequence,e.height,e.width,e.staticResource].join("")}function ef(e){var t=e.h.currentTime;if(0!=t&&null==e.A){for(var n,r,i=l(e.j),a=i.next();!a.done;a=i.next())for(var o=l((a=a.value).ads),s=o.next();!s.done;s=o.next())if(s=s.value,r){if(s.startTimeInSeconds<t&&s.startTimeInSeconds>r.startTimeInSeconds+r.durationInSeconds){r=s,n=a;break}}else s.startTimeInSeconds<t&&(r=s,n=a);n&&r&&!e.M.includes(r.adId)&&(e.A=t,e.h.currentTime=n.startTimeInSeconds)}}function tf(e){if(e.h.duration&&(e.g||e.j.length)){var t=e.h.currentTime,n=!1;if(e.g){n=!0;var r=e.C,i=r.startTimeInSeconds+.5*r.durationInSeconds,a=r.startTimeInSeconds+.75*r.durationInSeconds;t>=r.startTimeInSeconds+.25*r.durationInSeconds&&!e.u.includes("firstQuartile")?(e.u.push("firstQuartile"),af(e,"firstQuartile")):t>=i&&!e.u.includes("midpoint")?(e.u.push("midpoint"),af(e,"midpoint")):t>=a&&!e.u.includes("thirdQuartile")&&(e.u.push("thirdQuartile"),af(e,"thirdQuartile")),r=e.g.getRemainingTime(),i=e.g.getDuration(),e.g.canSkipNow()&&0<r&&0<i&&af(e,"skipStateChanged"),0<i&&(0>=r||r>i)&&nf(e)}if(!e.g||!e.g.isLinear()){e:for(r=l(e.j),i=r.next();!i.done&&(i=i.value,!e.g||!e.g.isLinear());i=r.next())for(a=0;a<i.ads.length;a++){var o=i.ads[a],s=o.startTimeInSeconds+o.durationInSeconds;if(o.startTimeInSeconds<=t&&s>t){if(e.M.includes(o.adId)){if(e.h.ended)continue;e.h.currentTime=s;break e}nf(e),e.L=i,e.g=new Xp(o,a+1,i.ads.length,!0,e.h),e.C=o,0===a&&af(e,"breakStart"),rf(e);break}}if(!e.g)for(i=(r=l(e.j)).next();!i.done&&(i=i.value,!e.g);i=r.next())for(a=0;a<i.nonLinearAdsList.length;a++)if((o=i.nonLinearAdsList[a]).nonLinearAdList.length){s=i.startTimeInSeconds;var u=e.F.get($p(o.nonLinearAdList[0]));if(s<=t&&u&&u.length){nf(e),s=e;for(var c=(u=l(u)).next();!c.done;c=u.next())if((c=c.value).data.source.length){var d=document.createElement("img");d.src=c.data.source[0].url,d.style.top=(c.placeholder.top||0)+"%",d.style.height=100-(c.placeholder.top||0)+"%",d.style.left=(c.placeholder.left||0)+"%",d.style.maxWidth=100-(c.placeholder.left||0)+"%",d.style.objectFit="contain",d.style.position="absolute",s.B.appendChild(d)}e.L=i,e.g=new Xp(o,a+1,i.ads.length,!1,e.h),e.C=o,0===a&&af(e,"breakStart"),rf(e);break}}n&&!e.g&&(t=e.h.currentTime,e.A&&e.A>t&&(e.h.currentTime=e.A),e.A=null)}}}function nf(e){if(e.g){for(;e.B.lastChild;)e.B.removeChild(e.B.firstChild);e.I||e.M.push(e.C.adId);var t=e.g.m;af(e,void 0!==t&&t?"skip":"complete");for(var n=(t=l(e.m)).next();!n.done;n=t.next())n=n.value,e.o.Ja(n.target,n.type,n.listener);e.m=[],e.u=[],(t=e.g.getPositionInSequence())===(n=e.g.getSequenceLength())&&af(e,"breakEnd"),e.g=null,e.C=null,e.L=null}}function rf(e){var t=!1;e.h.paused?t=!0:(af(e,"impression"),af(e,"start")),e.m.push({target:e.h,type:"volumechange",listener:function(){e.h.muted&&af(e,"mute")}}),e.m.push({target:e.h,type:"volumechange",listener:function(){e.h.muted||af(e,"unmute")}}),e.m.push({target:e.h,type:"play",listener:function(){t?(af(e,"impression"),af(e,"start"),t=!1):af(e,"resume")}}),e.m.push({target:e.h,type:"pause",listener:function(){af(e,"pause")}});for(var n=l(e.m),r=n.next();!r.done;r=n.next())r=r.value,e.o.D(r.target,r.type,r.listener)}function af(e,t){var n=e.C.trackingEvents.find((function(e){return e.eventType==t}));if(n||(n=e.L.adBreakTrackingEvents.find((function(e){return e.eventType==t}))),n)for(var r={type:10},i=(n=l(n.beaconUrls)).next();!i.done;i=n.next())(i=i.value)&&""!=i&&((i=ca([i],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4})).method="POST",e.K.request(7,i,r));switch(t){case"impression":e.i(new ta("ad-impression"));break;case"start":e.i(new ta("ad-started",(new Map).set("ad",e.g)));break;case"mute":e.i(new ta("ad-muted"));break;case"unmute":e.i(new ta("ad-volume-changed"));break;case"resume":e.i(new ta("ad-resumed"));break;case"pause":e.i(new ta("ad-paused"));break;case"firstQuartile":e.i(new ta("ad-first-quartile"));break;case"midpoint":e.i(new ta("ad-midpoint"));break;case"thirdQuartile":e.i(new ta("ad-third-quartile"));break;case"complete":e.i(new ta("ad-complete")),e.i(new ta("ad-stopped"));break;case"skip":e.i(new ta("ad-skipped")),e.i(new ta("ad-stopped"));break;case"breakStart":e.B.setAttribute("ad-active","true");break;case"breakEnd":e.B.removeAttribute("ad-active");break;case"skipStateChanged":e.i(new ta("ad-skip-state-changed"))}}function of(e,t){this.g=e,this.i=null,this.h=t}function sf(e,t,n,r){var i=this;this.u=e,this.l=t,this.j=null,this.F=NaN,this.i=r,this.G=!1,this.A=this.m=this.o=null,this.B="",this.C=[],this.h=new J,(e=new google.ima.dai.api.UiSettings).setLocale(n),this.g=new google.ima.dai.api.StreamManager(this.l,this.u,e),this.i(new ta("ima-stream-manager-loaded",(new Map).set("imaStreamManager",this.g))),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.LOADED,(function(e){!function(e,t){e.i(new ta("ads-loaded",(new Map).set("loadTime",Date.now()/1e3-e.F))),t=t.getStreamData().url,e.j.resolve(t),e.j=null,e.G||e.h.D(e.l,"seeked",(function(){var t=e.l.currentTime;if(0!=t){e.g.streamTimeForContentTime(t);var n=e.g.previousCuePointForStreamTime(t);n&&!n.played&&(e.o=t,e.l.currentTime=n.start)}}))}(i,e)})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.ERROR,(function(){i.B.length?i.j.resolve(i.B):i.j.reject("IMA Stream request returned an error and there was no backup asset uri provided."),i.j=null})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,(function(){})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.STARTED,(function(e){e=e.getAd(),i.m=new of(e,i.l),i.A&&(i.m.i=i.A),i.i(new ta("ad-started",(new Map).set("ad",i.m))),i.u.setAttribute("ad-active","true")})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,(function(){i.u.removeAttribute("ad-active");var e=i.l.currentTime;i.o&&i.o>e&&(i.l.currentTime=i.o,i.o=null)})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,(function(e){i.A=e.getStreamData().adProgressData,i.m&&(i.m.i=i.A)})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,(function(){i.i(new ta("ad-first-quartile"))})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.MIDPOINT,(function(){i.i(new ta("ad-midpoint"))})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,(function(){i.i(new ta("ad-third-quartile"))})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.COMPLETE,(function(){i.i(new ta("ad-complete")),i.i(new ta("ad-stopped")),i.u.removeAttribute("ad-active"),i.m=null})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.SKIPPED,(function(){i.i(new ta("ad-skipped")),i.i(new ta("ad-stopped"))})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,(function(e){var t=e.getStreamData();e=[];for(var n=(t=l(t.cuepoints)).next();!n.done;n=t.next())n=n.value,e.push({start:n.start,end:n.end});i.C=e,i.i(new ta("ad-cue-points-changed",(new Map).set("cuepoints",e)))}))}function lf(){ia.call(this),this.h=this.i=this.j=this.g=null,this.m=new Tp,this.o=navigator.language,this.l=null}function uf(e,t){if(t&&t.type)switch(t.type){case"ads-loaded":e.m.g.push(t.loadTime);break;case"ad-started":e.m.h++;var n=t.ad;n&&!n.isLinear()&&e.m.j++;break;case"ad-complete":e.m.l++;break;case"ad-skipped":e.m.m++;break;case"ad-error":e.m.i++}e.dispatchEvent(t)}function cf(e){return JSON.stringify(e,(function(e,t){if("function"!=typeof t){if(t instanceof Event||t instanceof ta){var n={};for(r in t)(e=t[r])&&"object"==typeof e?"detail"==r&&(n[r]=e):r in Event||(n[r]=e);return n}if(t instanceof Error){var r=new Set(["name","message","stack"]);for(n in t)r.add(n);for(e=(n=l(Object.getOwnPropertyNames(t))).next();!e.done;e=n.next())r.add(e.value);for(n={},e=(r=l(r)).next();!e.done;e=r.next())n[e=e.value]=t[e];t={__type__:"Error",contents:n}}else if(t instanceof TimeRanges){for(r={__type__:"TimeRanges",length:t.length,start:[],end:[]},n=(t=l(Es(t))).next();!n.done;n=t.next())e=(n=n.value).end,r.start.push(n.start),r.end.push(e);t=r}else t=ArrayBuffer.isView(t)&&1===t.BYTES_PER_ELEMENT?{__type__:"Uint8Array",entries:Array.from(t)}:"number"==typeof t?isNaN(t)?"NaN":isFinite(t)?t:0>t?"-Infinity":"Infinity":t;return t}}))}function df(e){return JSON.parse(e,(function(e,t){if("NaN"==t)var n=NaN;else if("-Infinity"==t)n=-1/0;else if("Infinity"==t)n=1/0;else if(t&&"object"==typeof t&&"TimeRanges"==t.__type__)n=function(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}(t);else if(t&&"object"==typeof t&&"Uint8Array"==t.__type__)n=new Uint8Array(t.entries);else if(t&&"object"==typeof t&&"Error"==t.__type__){for(n in e=t.contents,t=Error(e.message),e)t[n]=e[n];n=t}else n=t;return n}))}(n=Ap.prototype).needsSkipUI=function(){return!1},n.isClientRendering=function(){return!0},n.hasCustomClick=function(){return!0},n.isUsingAnotherMediaElement=function(){return!0},n.getDuration=function(){return this.g.getDuration()},n.getMinSuggestedDuration=function(){return this.g.getMinSuggestedDuration()},n.getRemainingTime=function(){return this.h.getRemainingTime()},n.isPaused=function(){return this.i},n.isSkippable=function(){return 0<=this.g.getSkipTimeOffset()},n.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},n.canSkipNow=function(){return this.h.getAdSkippableState()},n.skip=function(){return this.h.skip()},n.pause=function(){return this.h.pause()},n.play=function(){return this.h.resume()},n.getVolume=function(){return this.h.getVolume()},n.setVolume=function(e){return this.j.volume=e,this.h.setVolume(e)},n.isMuted=function(){return 0==this.h.getVolume()},n.isLinear=function(){return this.g.isLinear()},n.resize=function(e,t){var n=!1,r=this.j;document.fullscreenEnabled?n=!!document.fullscreenElement:r.webkitSupportsFullscreen&&(n=r.webkitDisplayingFullscreen),this.h.resize(e,t,n?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},n.setMuted=function(e){(this.j.muted=e)?(this.l=this.getVolume(),this.h.setVolume(0)):this.h.setVolume(this.l)},n.getSequenceLength=function(){var e=this.g.getAdPodInfo();return null==e?1:e.getTotalAds()},n.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return null==e?1:e.getAdPosition()},n.getTitle=function(){return this.g.getTitle()},n.getDescription=function(){return this.g.getDescription()},n.getVastMediaBitrate=function(){return this.g.getVastMediaBitrate()},n.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},n.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},n.getAdId=function(){return this.g.getAdId()},n.getCreativeAdId=function(){return this.g.getCreativeAdId()},n.getAdvertiserName=function(){return this.g.getAdvertiserName()},n.getMediaUrl=function(){return this.g.getMediaUrl()},n.getTimeOffset=function(){var e=this.g.getAdPodInfo();return null==e?0:e.getTimeOffset()},n.getPodIndex=function(){var e=this.g.getAdPodInfo();return null==e?0:e.getPodIndex()},n.release=function(){this.h=this.g=null},F("shaka.ads.ClientSideAd",Ap),Ap.prototype.release=Ap.prototype.release,Ap.prototype.getPodIndex=Ap.prototype.getPodIndex,Ap.prototype.getTimeOffset=Ap.prototype.getTimeOffset,Ap.prototype.getMediaUrl=Ap.prototype.getMediaUrl,Ap.prototype.getAdvertiserName=Ap.prototype.getAdvertiserName,Ap.prototype.getCreativeAdId=Ap.prototype.getCreativeAdId,Ap.prototype.getAdId=Ap.prototype.getAdId,Ap.prototype.getVastMediaWidth=Ap.prototype.getVastMediaWidth,Ap.prototype.getVastMediaHeight=Ap.prototype.getVastMediaHeight,Ap.prototype.getVastMediaBitrate=Ap.prototype.getVastMediaBitrate,Ap.prototype.getDescription=Ap.prototype.getDescription,Ap.prototype.getTitle=Ap.prototype.getTitle,Ap.prototype.getPositionInSequence=Ap.prototype.getPositionInSequence,Ap.prototype.getSequenceLength=Ap.prototype.getSequenceLength,Ap.prototype.setMuted=Ap.prototype.setMuted,Ap.prototype.resize=Ap.prototype.resize,Ap.prototype.isLinear=Ap.prototype.isLinear,Ap.prototype.isMuted=Ap.prototype.isMuted,Ap.prototype.setVolume=Ap.prototype.setVolume,Ap.prototype.getVolume=Ap.prototype.getVolume,Ap.prototype.play=Ap.prototype.play,Ap.prototype.pause=Ap.prototype.pause,Ap.prototype.skip=Ap.prototype.skip,Ap.prototype.canSkipNow=Ap.prototype.canSkipNow,Ap.prototype.getTimeUntilSkippable=Ap.prototype.getTimeUntilSkippable,Ap.prototype.isSkippable=Ap.prototype.isSkippable,Ap.prototype.isPaused=Ap.prototype.isPaused,Ap.prototype.getRemainingTime=Ap.prototype.getRemainingTime,Ap.prototype.getMinSuggestedDuration=Ap.prototype.getMinSuggestedDuration,Ap.prototype.getDuration=Ap.prototype.getDuration,Ap.prototype.isUsingAnotherMediaElement=Ap.prototype.isUsingAnotherMediaElement,Ap.prototype.hasCustomClick=Ap.prototype.hasCustomClick,Ap.prototype.isClientRendering=Ap.prototype.isClientRendering,Ap.prototype.needsSkipUI=Ap.prototype.needsSkipUI,F("shaka.ads.Utils",Sp),Sp.ADS_LOADED="ads-loaded",Sp.AD_STARTED="ad-started",Sp.AD_FIRST_QUARTILE="ad-first-quartile",Sp.AD_MIDPOINT="ad-midpoint",Sp.AD_THIRD_QUARTILE="ad-third-quartile",Sp.AD_COMPLETE="ad-complete",Sp.AD_STOPPED="ad-stopped",Sp.AD_SKIPPED="ad-skipped",Sp.AD_VOLUME_CHANGED="ad-volume-changed",Sp.AD_MUTED="ad-muted",Sp.AD_PAUSED="ad-paused",Sp.AD_RESUMED="ad-resumed",Sp.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",Sp.CUEPOINTS_CHANGED="ad-cue-points-changed",Sp.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",Sp.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",Sp.AD_CLICKED="ad-clicked",Sp.AD_PROGRESS="ad-progress",Sp.AD_BUFFERING="ad-buffering",Sp.AD_IMPRESSION="ad-impression",Sp.AD_DURATION_CHANGED="ad-duration-changed",Sp.AD_CLOSED="ad-closed",Sp.AD_LOADED="ad-loaded",Sp.ALL_ADS_COMPLETED="all-ads-completed",Sp.AD_LINEAR_CHANGED="ad-linear-changed",Sp.AD_METADATA="ad-metadata",Sp.AD_RECOVERABLE_ERROR="ad-recoverable-error",Sp.AD_ERROR="ad-error",Sp.AD_BREAK_READY="ad-break-ready",Sp.AD_INTERACTION="ad-interaction",Sp.AD_CONTENT_PAUSE_REQUESTED="ad-content-pause-requested",Sp.AD_CONTENT_RESUME_REQUESTED="ad-content-resume-requested",Sp.AD_CONTENT_ATTACH_REQUESTED="ad-content-attach-requested",xp.prototype.configure=function(e){this.o=e},xp.prototype.stop=function(){this.g&&this.g.stop(),this.u&&As(this.u)},xp.prototype.release=function(){this.stop(),this.A&&this.A.disconnect(),this.h&&this.h.release(),this.g&&this.g.destroy(),this.m.destroy(),this.C.destroy()},(n=Op.prototype).needsSkipUI=function(){return!0},n.isClientRendering=function(){return!0},n.hasCustomClick=function(){return!1},n.isUsingAnotherMediaElement=function(){return this.u},n.getDuration=function(){var e=this.g.duration;return isNaN(e)?-1:e},n.getMinSuggestedDuration=function(){return this.getDuration()},n.getRemainingTime=function(){var e=this.g.duration;return isNaN(e)?-1:e-this.g.currentTime},n.isPaused=function(){return this.g.paused},n.isSkippable=function(){return this.h&&null!=this.l?this.getDuration()-this.getRemainingTime()<this.j+this.l:this.h},n.getTimeUntilSkippable=function(){if(this.isSkippable()){var e=this.getRemainingTime()+this.j-this.getDuration();return Math.max(e,0)}return Math.max(this.getRemainingTime(),0)},n.canSkipNow=function(){return this.h&&0==this.getTimeUntilSkippable()},n.skip=function(){this.canSkipNow()&&this.A()},n.pause=function(){return this.g.pause()},n.play=function(){return this.g.play()},n.getVolume=function(){return this.g.volume},n.setVolume=function(e){this.g.volume=e},n.isMuted=function(){return this.g.muted},n.isLinear=function(){return null==this.B},n.resize=function(){},n.setMuted=function(e){this.g.muted=e},n.getSequenceLength=function(){return this.o},n.getPositionInSequence=function(){return this.m},n.getTitle=function(){return""},n.getDescription=function(){return""},n.getVastMediaBitrate=function(){return 0},n.getVastMediaHeight=function(){return 0},n.getVastMediaWidth=function(){return 0},n.getAdId=function(){return this.i.id||""},n.getCreativeAdId=function(){return""},n.getAdvertiserName=function(){return""},n.getMediaUrl=function(){return this.i.uri},n.getTimeOffset=function(){return 0},n.getPodIndex=function(){return 0},n.release=function(){this.g=null},F("shaka.ads.InterstitialAd",Op),Op.prototype.release=Op.prototype.release,Op.prototype.getPodIndex=Op.prototype.getPodIndex,Op.prototype.getTimeOffset=Op.prototype.getTimeOffset,Op.prototype.getMediaUrl=Op.prototype.getMediaUrl,Op.prototype.getAdvertiserName=Op.prototype.getAdvertiserName,Op.prototype.getCreativeAdId=Op.prototype.getCreativeAdId,Op.prototype.getAdId=Op.prototype.getAdId,Op.prototype.getVastMediaWidth=Op.prototype.getVastMediaWidth,Op.prototype.getVastMediaHeight=Op.prototype.getVastMediaHeight,Op.prototype.getVastMediaBitrate=Op.prototype.getVastMediaBitrate,Op.prototype.getDescription=Op.prototype.getDescription,Op.prototype.getTitle=Op.prototype.getTitle,Op.prototype.getPositionInSequence=Op.prototype.getPositionInSequence,Op.prototype.getSequenceLength=Op.prototype.getSequenceLength,Op.prototype.setMuted=Op.prototype.setMuted,Op.prototype.resize=Op.prototype.resize,Op.prototype.isLinear=Op.prototype.isLinear,Op.prototype.isMuted=Op.prototype.isMuted,Op.prototype.setVolume=Op.prototype.setVolume,Op.prototype.getVolume=Op.prototype.getVolume,Op.prototype.play=Op.prototype.play,Op.prototype.pause=Op.prototype.pause,Op.prototype.skip=Op.prototype.skip,Op.prototype.canSkipNow=Op.prototype.canSkipNow,Op.prototype.getTimeUntilSkippable=Op.prototype.getTimeUntilSkippable,Op.prototype.isSkippable=Op.prototype.isSkippable,Op.prototype.isPaused=Op.prototype.isPaused,Op.prototype.getRemainingTime=Op.prototype.getRemainingTime,Op.prototype.getMinSuggestedDuration=Op.prototype.getMinSuggestedDuration,Op.prototype.getDuration=Op.prototype.getDuration,Op.prototype.isUsingAnotherMediaElement=Op.prototype.isUsingAnotherMediaElement,Op.prototype.hasCustomClick=Op.prototype.hasCustomClick,Op.prototype.isClientRendering=Op.prototype.isClientRendering,Op.prototype.needsSkipUI=Op.prototype.needsSkipUI,(n=Lp.prototype).needsSkipUI=function(){return!0},n.isClientRendering=function(){return!0},n.hasCustomClick=function(){return!1},n.isUsingAnotherMediaElement=function(){return!1},n.getDuration=function(){return-1},n.getMinSuggestedDuration=function(){return this.getDuration()},n.getRemainingTime=function(){return-1},n.isPaused=function(){return!1},n.isSkippable=function(){return!1},n.getTimeUntilSkippable=function(){return 0},n.canSkipNow=function(){return!1},n.skip=function(){},n.pause=function(){},n.play=function(){},n.getVolume=function(){return 1},n.setVolume=function(){},n.isMuted=function(){return!1},n.isLinear=function(){return this.i},n.resize=function(){},n.setMuted=function(){},n.getSequenceLength=function(){return this.j},n.getPositionInSequence=function(){return this.h},n.getTitle=function(){return""},n.getDescription=function(){return""},n.getVastMediaBitrate=function(){return 0},n.getVastMediaHeight=function(){return 0},n.getVastMediaWidth=function(){return 0},n.getAdId=function(){return this.g.id||""},n.getCreativeAdId=function(){return""},n.getAdvertiserName=function(){return""},n.getMediaUrl=function(){return this.g.uri},n.getTimeOffset=function(){return 0},n.getPodIndex=function(){return 0},n.release=function(){},F("shaka.ads.InterstitialStaticAd",Lp),Lp.prototype.release=Lp.prototype.release,Lp.prototype.getPodIndex=Lp.prototype.getPodIndex,Lp.prototype.getTimeOffset=Lp.prototype.getTimeOffset,Lp.prototype.getMediaUrl=Lp.prototype.getMediaUrl,Lp.prototype.getAdvertiserName=Lp.prototype.getAdvertiserName,Lp.prototype.getCreativeAdId=Lp.prototype.getCreativeAdId,Lp.prototype.getAdId=Lp.prototype.getAdId,Lp.prototype.getVastMediaWidth=Lp.prototype.getVastMediaWidth,Lp.prototype.getVastMediaHeight=Lp.prototype.getVastMediaHeight,Lp.prototype.getVastMediaBitrate=Lp.prototype.getVastMediaBitrate,Lp.prototype.getDescription=Lp.prototype.getDescription,Lp.prototype.getTitle=Lp.prototype.getTitle,Lp.prototype.getPositionInSequence=Lp.prototype.getPositionInSequence,Lp.prototype.getSequenceLength=Lp.prototype.getSequenceLength,Lp.prototype.setMuted=Lp.prototype.setMuted,Lp.prototype.resize=Lp.prototype.resize,Lp.prototype.isLinear=Lp.prototype.isLinear,Lp.prototype.isMuted=Lp.prototype.isMuted,Lp.prototype.setVolume=Lp.prototype.setVolume,Lp.prototype.getVolume=Lp.prototype.getVolume,Lp.prototype.play=Lp.prototype.play,Lp.prototype.pause=Lp.prototype.pause,Lp.prototype.skip=Lp.prototype.skip,Lp.prototype.canSkipNow=Lp.prototype.canSkipNow,Lp.prototype.getTimeUntilSkippable=Lp.prototype.getTimeUntilSkippable,Lp.prototype.isSkippable=Lp.prototype.isSkippable,Lp.prototype.isPaused=Lp.prototype.isPaused,Lp.prototype.getRemainingTime=Lp.prototype.getRemainingTime,Lp.prototype.getMinSuggestedDuration=Lp.prototype.getMinSuggestedDuration,Lp.prototype.getDuration=Lp.prototype.getDuration,Lp.prototype.isUsingAnotherMediaElement=Lp.prototype.isUsingAnotherMediaElement,Lp.prototype.hasCustomClick=Lp.prototype.hasCustomClick,Lp.prototype.isClientRendering=Lp.prototype.isClientRendering,Lp.prototype.needsSkipUI=Lp.prototype.needsSkipUI,(n=Mp.prototype).configure=function(e){this.T=e,Up(this)},n.stop=function(){if(this.l&&this.l.Qa(),this.W.clear(),this.G.clear(),this.j.pf(),this.C.size)for(var e=Array.from(this.C.values()),t=(e=l(e)).next();!t.done;t=e.next())(t=t.value)&&t.then((function(e){e&&e.destroy()}));if(this.C.clear(),this.L.size)for(t=(e=l(e=Array.from(this.L.keys()))).next();!t.done;t=e.next())qp(this,t.value);this.L.clear(),this.j.detach(),this.K=!1,this.u=this.o=null,this.B=!0,this.h=this.g,this.F=null,Gp(this),Np(this),this.A&&As(this.A),this.m&&(this.m.stop(),this.m=null)},n.release=function(){this.stop(),this.I&&this.I.release(),this.l&&this.l.release(),this.P&&(this.P.stop(),this.P=null),this.M&&(this.M.stop(),this.M=null),this.j.destroy()},n.If=function(){return this.j},n.addAdUrlInterstitial=function(e){var t,n,r,i,a,o,s,c,d,p=this;return I((function(f){switch(f.g){case 1:return b(f,Wp(p,e,t={type:12}),2);case 2:if(n=f.h,!(r=kn(n,"VAST,vmap:VMAP")))throw new Re(2,10,10007);if(i=[],"VAST"==r.tagName){i=wp(r,p.o),f.s(3);break}if("vmap:VMAP"!=r.tagName){f.s(3);break}for(var h=[],y=l(Sn(r,"vmap:AdBreak")),g=y.next();!g.done;g=y.next()){var v=g.value,m=v.attributes.timeOffset;m&&(g=null,g="start"==m?0:"end"==m?1/0:yn(m),(v=Pn(v,"vmap:AdSource"))&&(v=Pn(v,"vmap:AdTagURI"))&&(v=wn(v))&&h.push({time:g,uri:v}))}a=l(h),o=a.next();case 5:if(o.done){f.s(3);break}return s=o.value,b(f,Wp(p,s.uri,t),8);case 8:if(c=f.h,!(d=kn(c,"VAST")))throw new Re(2,10,10007);i.push.apply(i,u(wp(d,s.time))),o=a.next(),f.s(5);break;case 3:Fp(p,i),k(f)}}))},(n=Xp.prototype).needsSkipUI=function(){return!0},n.isClientRendering=function(){return!1},n.hasCustomClick=function(){return!1},n.isUsingAnotherMediaElement=function(){return!1},n.getDuration=function(){return this.h.durationInSeconds},n.getMinSuggestedDuration=function(){return this.getDuration()},n.getRemainingTime=function(){return this.h.startTimeInSeconds+this.h.durationInSeconds-this.g.currentTime},n.isPaused=function(){return this.g.paused},n.isSkippable=function(){return"number"==typeof this.j},n.getTimeUntilSkippable=function(){if("number"!=typeof this.j)return this.getRemainingTime();var e=this.getRemainingTime()+this.j-this.getDuration();return Math.max(e,0)},n.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},n.skip=function(){this.m=!0,this.g.currentTime+=this.getRemainingTime()},n.pause=function(){return this.g.pause()},n.play=function(){return this.g.play()},n.getVolume=function(){return this.g.volume},n.setVolume=function(e){this.g.volume=e},n.isMuted=function(){return this.g.muted},n.isLinear=function(){return this.o},n.resize=function(){},n.setMuted=function(e){this.g.muted=e},n.getSequenceLength=function(){return this.l?this.l:1},n.getPositionInSequence=function(){return this.i?this.i:1},n.getTitle=function(){return this.h.adTitle},n.getDescription=function(){return""},n.getVastMediaBitrate=function(){return 0},n.getVastMediaHeight=function(){return 0},n.getVastMediaWidth=function(){return 0},n.getAdId=function(){return this.h.adId},n.getCreativeAdId=function(){return this.h.creativeId},n.getAdvertiserName=function(){return""},n.getMediaUrl=function(){return null},n.getTimeOffset=function(){return 0},n.getPodIndex=function(){return 0},n.release=function(){this.l=this.i=this.g=this.h=null},F("shaka.ads.MediaTailorAd",Xp),Xp.prototype.release=Xp.prototype.release,Xp.prototype.getPodIndex=Xp.prototype.getPodIndex,Xp.prototype.getTimeOffset=Xp.prototype.getTimeOffset,Xp.prototype.getMediaUrl=Xp.prototype.getMediaUrl,Xp.prototype.getAdvertiserName=Xp.prototype.getAdvertiserName,Xp.prototype.getCreativeAdId=Xp.prototype.getCreativeAdId,Xp.prototype.getAdId=Xp.prototype.getAdId,Xp.prototype.getVastMediaWidth=Xp.prototype.getVastMediaWidth,Xp.prototype.getVastMediaHeight=Xp.prototype.getVastMediaHeight,Xp.prototype.getVastMediaBitrate=Xp.prototype.getVastMediaBitrate,Xp.prototype.getDescription=Xp.prototype.getDescription,Xp.prototype.getTitle=Xp.prototype.getTitle,Xp.prototype.getPositionInSequence=Xp.prototype.getPositionInSequence,Xp.prototype.getSequenceLength=Xp.prototype.getSequenceLength,Xp.prototype.setMuted=Xp.prototype.setMuted,Xp.prototype.resize=Xp.prototype.resize,Xp.prototype.isLinear=Xp.prototype.isLinear,Xp.prototype.isMuted=Xp.prototype.isMuted,Xp.prototype.setVolume=Xp.prototype.setVolume,Xp.prototype.getVolume=Xp.prototype.getVolume,Xp.prototype.play=Xp.prototype.play,Xp.prototype.pause=Xp.prototype.pause,Xp.prototype.skip=Xp.prototype.skip,Xp.prototype.canSkipNow=Xp.prototype.canSkipNow,Xp.prototype.getTimeUntilSkippable=Xp.prototype.getTimeUntilSkippable,Xp.prototype.isSkippable=Xp.prototype.isSkippable,Xp.prototype.isPaused=Xp.prototype.isPaused,Xp.prototype.getRemainingTime=Xp.prototype.getRemainingTime,Xp.prototype.getMinSuggestedDuration=Xp.prototype.getMinSuggestedDuration,Xp.prototype.getDuration=Xp.prototype.getDuration,Xp.prototype.isUsingAnotherMediaElement=Xp.prototype.isUsingAnotherMediaElement,Xp.prototype.hasCustomClick=Xp.prototype.hasCustomClick,Xp.prototype.isClientRendering=Xp.prototype.isClientRendering,Xp.prototype.needsSkipUI=Xp.prototype.needsSkipUI,Qp.prototype.stop=function(){for(var e=l(this.m),t=e.next();!t.done;t=e.next())t=t.value,this.o.Ja(t.target,t.type,t.listener);nf(this),this.m=[],this.u=[],this.G="",this.O=!0,this.H="",this.A=null,this.j=[],this.M=[],this.F.clear()},Qp.prototype.release=function(){this.stop(),this.o&&this.o.release()},Qp.prototype.onManifestUpdated=function(e){this.I=e,""!=this.G&&(function(e,t,n){var r,i,a,o,s,u,c,d,p,f,h,y,g,v,m,T;I((function(S){if(1==S.g)return r={type:8},i=ca([t],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}),a=e.K.request(7,i,r),E(S,2),b(S,a.promise,4);if(2!=S.g){if(o=S.h,s=[],u=yt(o.data),0<(c=JSON.parse(u)).avails.length){if(JSON.stringify(e.j)!=JSON.stringify(c.avails)){for(e.j=c.avails,d=l(e.j),p=d.next();!p.done;p=d.next())for(f=p.value,h=l(f.nonLinearAdsList),y=h.next();!y.done;y=h.next())for(g=y.value,v=l(g.nonLinearAdList),m=v.next();!m.done;m=v.next())T=m.value,Jp(e,T);s=e.getCuePoints(),e.i(new ta("ad-cue-points-changed",(new Map).set("cuepoints",s)))}}else e.j.length&&e.i(new ta("ad-cue-points-changed",(new Map).set("cuepoints",s))),nf(e),e.j=[];return n&&(e.I||0<s.length)&&function(e){tf(e),e.I||(ef(e),e.o.D(e.h,"seeked",(function(){ef(e)})),e.o.D(e.h,"ended",(function(){nf(e)}))),e.o.D(e.h,"timeupdate",(function(){tf(e)}))}(e),_(S,0)}A(S),k(S)}))}(this,this.G,this.O),this.O=!1)},Qp.prototype.getCuePoints=function(){for(var e=[],t=l(this.j),n=t.next();!n.done;n=t.next())for(var r=(n=l(n.value.ads)).next();!r.done;r=n.next())r=r.value,e.push({start:r.startTimeInSeconds,end:r.startTimeInSeconds+r.durationInSeconds});return e},(n=of.prototype).needsSkipUI=function(){return!0},n.isClientRendering=function(){return!1},n.hasCustomClick=function(){return!0},n.isUsingAnotherMediaElement=function(){return!1},n.getDuration=function(){return this.i?this.i.duration:-1},n.getMinSuggestedDuration=function(){return this.getDuration()},n.getRemainingTime=function(){return this.i?this.i.duration-this.i.currentTime:-1},n.isPaused=function(){return this.h.paused},n.isSkippable=function(){return this.g.isSkippable()},n.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},n.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},n.skip=function(){this.h.currentTime+=this.getRemainingTime()},n.pause=function(){return this.h.pause()},n.play=function(){return this.h.play()},n.getVolume=function(){return this.h.volume},n.setVolume=function(e){this.h.volume=e},n.isMuted=function(){return this.h.muted},n.isLinear=function(){return!0},n.resize=function(){},n.setMuted=function(e){this.h.muted=e},n.getSequenceLength=function(){var e=this.g.getAdPodInfo();return null==e?1:e.getTotalAds()},n.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return null==e?1:e.getAdPosition()},n.getTitle=function(){return this.g.getTitle()},n.getDescription=function(){return this.g.getDescription()},n.getVastMediaBitrate=function(){return 0},n.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},n.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},n.getAdId=function(){return this.g.getAdId()},n.getCreativeAdId=function(){return this.g.getCreativeAdId()},n.getAdvertiserName=function(){return this.g.getAdvertiserName()},n.getMediaUrl=function(){return null},n.getTimeOffset=function(){var e=this.g.getAdPodInfo();return null==e?0:e.getTimeOffset()},n.getPodIndex=function(){var e=this.g.getAdPodInfo();return null==e?0:e.getPodIndex()},n.release=function(){this.h=this.i=this.g=null},F("shaka.ads.ServerSideAd",of),of.prototype.release=of.prototype.release,of.prototype.getPodIndex=of.prototype.getPodIndex,of.prototype.getTimeOffset=of.prototype.getTimeOffset,of.prototype.getMediaUrl=of.prototype.getMediaUrl,of.prototype.getAdvertiserName=of.prototype.getAdvertiserName,of.prototype.getCreativeAdId=of.prototype.getCreativeAdId,of.prototype.getAdId=of.prototype.getAdId,of.prototype.getVastMediaWidth=of.prototype.getVastMediaWidth,of.prototype.getVastMediaHeight=of.prototype.getVastMediaHeight,of.prototype.getVastMediaBitrate=of.prototype.getVastMediaBitrate,of.prototype.getDescription=of.prototype.getDescription,of.prototype.getTitle=of.prototype.getTitle,of.prototype.getPositionInSequence=of.prototype.getPositionInSequence,of.prototype.getSequenceLength=of.prototype.getSequenceLength,of.prototype.setMuted=of.prototype.setMuted,of.prototype.resize=of.prototype.resize,of.prototype.isLinear=of.prototype.isLinear,of.prototype.isMuted=of.prototype.isMuted,of.prototype.setVolume=of.prototype.setVolume,of.prototype.getVolume=of.prototype.getVolume,of.prototype.play=of.prototype.play,of.prototype.pause=of.prototype.pause,of.prototype.skip=of.prototype.skip,of.prototype.canSkipNow=of.prototype.canSkipNow,of.prototype.getTimeUntilSkippable=of.prototype.getTimeUntilSkippable,of.prototype.isSkippable=of.prototype.isSkippable,of.prototype.isPaused=of.prototype.isPaused,of.prototype.getRemainingTime=of.prototype.getRemainingTime,of.prototype.getMinSuggestedDuration=of.prototype.getMinSuggestedDuration,of.prototype.getDuration=of.prototype.getDuration,of.prototype.isUsingAnotherMediaElement=of.prototype.isUsingAnotherMediaElement,of.prototype.hasCustomClick=of.prototype.hasCustomClick,of.prototype.isClientRendering=of.prototype.isClientRendering,of.prototype.needsSkipUI=of.prototype.needsSkipUI,(n=sf.prototype).configure=function(){},n.stop=function(){this.B="",this.o=null,this.C=[]},n.release=function(){this.stop(),this.h&&this.h.release()},n.onCueMetadataChange=function(e){if(e.key&&e.data){var t={};t[e.key]=e.data,this.g.onTimedMetadata(t)}},n.getCuePoints=function(){return this.C},y(lf,ia),(n=lf.prototype).setLocale=function(e){this.o=e},n.configure=function(e){this.l=e,this.g&&this.g.configure(this.l),this.j&&this.j.configure(this.l),this.h&&this.h.configure(this.l)},n.initInterstitial=function(e,t,n){var r=this;this.g&&this.g.release(),this.g=new Mp(e,t,n,(function(e){return uf(r,e)})),this.g.configure(this.l)},n.initClientSide=function(t,n,r){var i=this;if(!e.google||!google.ima||!google.ima.AdsLoader)throw new Re(2,10,1e4);this.j&&this.j.release(),this.j=new xp(t,n,this.o,r,(function(e){return uf(i,e)})),this.j.configure(this.l)},n.release=function(){this.g&&(this.g.release(),this.g=null),this.j&&(this.j.release(),this.j=null),this.i&&(this.i.release(),this.i=null),this.h&&(this.h.release(),this.h=null),ia.prototype.release.call(this)},n.onAssetUnload=function(){this.g&&this.g.stop(),this.j&&this.j.stop(),this.i&&this.i.stop(),this.h&&this.h.stop(),this.dispatchEvent(new ta("ad-stopped")),this.dispatchEvent(new ta("ad-content-attach-requested")),this.m=new Tp},n.requestClientSideAds=function(e){if(!this.j)throw new Re(1,10,10001);var t=this.j;t.g&&t.g.destroy(),t.m&&t.m.contentComplete(),t.G=Date.now()/1e3,t.m.requestAds(e)},n.updateClientSideAdsRenderingSettings=function(e){if(!this.j)throw new Re(1,10,10001);var t=this.j;t.B=e,t.g&&t.g.updateAdsRenderingSettings(t.B)},n.initMediaTailor=function(e,t,n){var r=this;this.i&&this.i.release(),this.i=new Qp(e,t,n,(function(e){return uf(r,e)}))},n.requestMediaTailorStream=function(e,t,n){if(!this.i)throw new Re(1,10,10005);var r=this.i;return n=void 0===n?"":n,r.l?e=Promise.reject(new Re(1,10,10004)):(r.l=new Zi,function(e,t,n){var r,i,a,o,s,l,u,c,d,p,f,h;I((function(y){if(1==y.g)return r={type:7},(i=ca([t],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4})).method="POST",n&&(a=JSON.stringify(n),i.body=mt(a)),o=e.K.request(7,i,r),E(y,2),b(y,o.promise,4);if(2!=y.g){if(s=y.h,l=yt(s.data),!(u=JSON.parse(l)).manifestUrl||!u.trackingUrl)throw Error("Insufficient data from MediaTailor.");return c=new se(t),d=new se(u.trackingUrl),e.G=c.resolve(d).toString(),p=Date.now()/1e3,f=p-e.P,e.i(new ta("ads-loaded",(new Map).set("loadTime",f))),h=new se(u.manifestUrl),e.l.resolve(c.resolve(h).toString()),e.l=null,_(y,0)}if(A(y),!e.H.length)return e.l.reject("MediaTailor request returned an error and there was no backup asset uri provided."),e.l=null,y.return();e.l.resolve(e.H),e.l=null,k(y)}))}(r,e,t),r.H=n||"",r.P=Date.now()/1e3,e=r.l),e},n.addMediaTailorTrackingUrl=function(e){if(!this.i)throw new Re(1,10,10005);var t=this.i;t.G=e,t.i(new ta("ads-loaded",(new Map).set("loadTime",0)))},n.initServerSide=function(t,n){var r=this;if(!e.google||!google.ima||!google.ima.dai)throw new Re(2,10,10002);this.h&&this.h.release(),this.h=new sf(t,n,this.o,(function(e){return uf(r,e)})),this.h.configure(this.l)},n.requestServerSideStream=function(e,t){if(t=void 0===t?"":t,!this.h)throw new Re(1,10,10003);e.adTagParameters||(e.adTagParameters={});var n=e.adTagParameters;return(n.mpt||n.mpv)&&Y('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overridden.'),e.adTagParameters.mpt="shaka-player",e.adTagParameters.mpv="v4.14.9",(n=this.h).j?e=Promise.reject(new Re(1,10,10004)):(e instanceof google.ima.dai.api.LiveStreamRequest&&(n.G=!0),n.j=new Zi,n.g.requestStream(e),n.B=t||"",n.F=Date.now()/1e3,e=n.j),e},n.replaceServerSideAdTagParameters=function(e){if(!this.h)throw new Re(1,10,10003);(e.mpt||e.mpv)&&Y('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overridden.'),e.mpt="Shaka Player",e.mpv="v4.14.9",this.h.g.replaceAdTagParameters(e)},n.getServerSideCuePoints=function(){return ne("AdManager.getServerSideCuePoints","Please use getCuePoints function."),this.getCuePoints()},n.getCuePoints=function(){var e=[];return this.h&&(e=e.concat(this.h.getCuePoints())),this.i&&(e=e.concat(this.i.getCuePoints())),e},n.getStats=function(){var e=this.m;return{loadTimes:e.g,averageLoadTime:_p(e),started:e.h,overlayAds:e.j,playedCompletely:e.l,skipped:e.m,errors:e.i}},n.onManifestUpdated=function(e){this.i&&this.i.onManifestUpdated(e)},n.onDashTimedMetadata=function(e){this.h&&"urn:google:dai:2018"==e.schemeIdUri&&this.h.g.processMetadata(e.schemeIdUri,e.eventNode?e.eventNode.attributes.messageData:null,e.startTime)},n.onHlsTimedMetadata=function(e,t){this.h&&this.h.g.processMetadata("ID3",e.data,t)},n.onCueMetadataChange=function(e){this.h&&this.h.onCueMetadataChange(e)},n.onHLSInterstitialMetadata=function(e,t,n){this.l&&this.l.disableHLSInterstitial||(this.g||this.initInterstitial(null,e,t),this.g&&Bp(this.g,n))},n.onDASHInterstitialMetadata=function(e,t,n){if(!this.l||!this.l.disableDASHInterstitial){var r=n.schemeIdUri;if("urn:mpeg:dash:event:alternativeMPD:insert:2025"==r||"urn:mpeg:dash:event:alternativeMPD:replace:2025"==r){if(this.g||this.initInterstitial(null,e,t),this.g&&(e=this.g,t="urn:mpeg:dash:event:alternativeMPD:replace:2025"==n.schemeIdUri,r="urn:mpeg:dash:event:alternativeMPD:insert:2025"==n.schemeIdUri,t||r)){for(var i,a=n.startTime,o=n.endTime,s=null,u=0,c=l(n.eventNode.children),d=c.next();!d.done;d=c.next())if("AlternativeMPD"==(d=d.value).tagName){if(d=d.attributes.uri){i=d;break}}else if("InsertPresentation"==d.tagName||"ReplacePresentation"==d.tagName){var p=d.attributes.url;if(p){i=p,(c=In(d,"maxDuration",Bn))&&(s=c/n.timescale),(c=In(d,"returnOffset",Bn))&&(u=c/n.timescale),t&&u&&(o=a+u);break}}i&&Fp(e,[{id:n.id,groupId:null,startTime:a,endTime:o,uri:i,mimeType:null,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!0,resumeOffset:r?u:null,playoutLimit:s,once:!1,pre:!1,post:!1,timelineRange:t&&!r,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null}])}}else("urn:mpeg:dash:event:2012"==r||"urn:scte:dash:scte214-events"==r)&&n.eventNode&&Pn(n.eventNode,"OverlayEvent")&&(this.g||this.initInterstitial(null,e,t),this.g&&function(e,t){var n=Pn(t.eventNode,"OverlayEvent"),r=n.attributes.uri,i=n.attributes.mimeType,a="true"==n.attributes.loop,o=In(n,"z",Bn);if(r&&0!=o){var s={viewport:{x:1920,y:1080},topLeft:{x:0,y:0},size:{x:1920,y:1080}},l=Pn(n,"Viewport"),u=Pn(n,"TopLeft"),c=Pn(n,"Size");if(l&&u&&c){if(null==(s=In(l,"x",Bn)))return;if(null==(l=In(l,"y",Bn)))return;var d=In(u,"x",Bn);if(null==d)return;if(null==(u=In(u,"y",Bn)))return;var p=In(c,"x",Bn);if(null==p)return;if(null==(c=In(c,"y",Bn)))return;s={viewport:{x:s,y:l},topLeft:{x:d,y:u},size:{x:p,y:c}}}c=Pn(n,"SqueezeCurrent"),n=null,c&&(c=In(c,"percentage",Hn))&&(n={viewport:{x:1920,y:1080},topLeft:{x:0,y:0},size:{x:1920*c,y:1080*c}}),Fp(e,[{id:t.id,groupId:null,startTime:t.startTime,endTime:t.endTime,uri:r,mimeType:i,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!0,resumeOffset:null,playoutLimit:null,once:!1,pre:!1,post:!1,timelineRange:!0,loop:a,overlay:s,displayOnBackground:-1==o,currentVideo:n,background:null}])}}(this.g,n))}},n.addCustomInterstitial=function(e){if(!this.g)throw new Re(1,10,10006);Fp(this.g,[e])},n.addAdUrlInterstitial=function(e){if(!this.g)throw new Re(1,10,10006);return this.g.addAdUrlInterstitial(e)},n.getInterstitialPlayer=function(){if(!this.g)throw new Re(1,10,10006);return this.g.If()},F("shaka.ads.AdManager",lf),lf.prototype.getInterstitialPlayer=lf.prototype.getInterstitialPlayer,lf.prototype.addAdUrlInterstitial=lf.prototype.addAdUrlInterstitial,lf.prototype.addCustomInterstitial=lf.prototype.addCustomInterstitial,lf.prototype.onDASHInterstitialMetadata=lf.prototype.onDASHInterstitialMetadata,lf.prototype.onHLSInterstitialMetadata=lf.prototype.onHLSInterstitialMetadata,lf.prototype.onCueMetadataChange=lf.prototype.onCueMetadataChange,lf.prototype.onHlsTimedMetadata=lf.prototype.onHlsTimedMetadata,lf.prototype.onDashTimedMetadata=lf.prototype.onDashTimedMetadata,lf.prototype.onManifestUpdated=lf.prototype.onManifestUpdated,lf.prototype.getStats=lf.prototype.getStats,lf.prototype.getCuePoints=lf.prototype.getCuePoints,lf.prototype.getServerSideCuePoints=lf.prototype.getServerSideCuePoints,lf.prototype.replaceServerSideAdTagParameters=lf.prototype.replaceServerSideAdTagParameters,lf.prototype.requestServerSideStream=lf.prototype.requestServerSideStream,lf.prototype.initServerSide=lf.prototype.initServerSide,lf.prototype.addMediaTailorTrackingUrl=lf.prototype.addMediaTailorTrackingUrl,lf.prototype.requestMediaTailorStream=lf.prototype.requestMediaTailorStream,lf.prototype.initMediaTailor=lf.prototype.initMediaTailor,lf.prototype.updateClientSideAdsRenderingSettings=lf.prototype.updateClientSideAdsRenderingSettings,lf.prototype.requestClientSideAds=lf.prototype.requestClientSideAds,lf.prototype.onAssetUnload=lf.prototype.onAssetUnload,lf.prototype.release=lf.prototype.release,lf.prototype.initClientSide=lf.prototype.initClientSide,lf.prototype.initInterstitial=lf.prototype.initInterstitial,lf.prototype.configure=lf.prototype.configure,lf.prototype.setLocale=lf.prototype.setLocale,lf.ADS_LOADED="ads-loaded",lf.AD_STARTED="ad-started",lf.AD_FIRST_QUARTILE="ad-first-quartile",lf.AD_MIDPOINT="ad-midpoint",lf.AD_THIRD_QUARTILE="ad-third-quartile",lf.AD_COMPLETE="ad-complete",lf.AD_STOPPED="ad-stopped",lf.AD_SKIPPED="ad-skipped",lf.AD_VOLUME_CHANGED="ad-volume-changed",lf.AD_MUTED="ad-muted",lf.AD_PAUSED="ad-paused",lf.AD_RESUMED="ad-resumed",lf.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",lf.CUEPOINTS_CHANGED="ad-cue-points-changed",lf.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",lf.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",lf.AD_CLICKED="ad-clicked",lf.AD_PROGRESS="ad-progress",lf.AD_BUFFERING="ad-buffering",lf.AD_IMPRESSION="ad-impression",lf.AD_DURATION_CHANGED="ad-duration-changed",lf.AD_CLOSED="ad-closed",lf.AD_LOADED="ad-loaded",lf.ALL_ADS_COMPLETED="all-ads-completed",lf.AD_LINEAR_CHANGED="ad-linear-changed",lf.AD_METADATA="ad-metadata",lf.AD_RECOVERABLE_ERROR="ad-recoverable-error",lf.AD_ERROR="ad-error",lf.AD_BREAK_READY="ad-break-ready",lf.AD_INTERACTION="ad-interaction",lf.AD_CONTENT_PAUSE_REQUESTED="ad-content-pause-requested",lf.AD_CONTENT_RESUME_REQUESTED="ad-content-resume-requested",lf.AD_CONTENT_ATTACH_REQUESTED="ad-content-attach-requested",Ep=function(){return new lf};var pf="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),ff="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),hf=["loop","playbackRate"],yf=["pause","play"],gf=(new Map).set("getAssetUri",2).set("getAudioLanguages",4).set("getAudioLanguagesAndRoles",4).set("getBufferFullness",1).set("getBufferedInfo",2).set("getExpiration",2).set("getKeyStatuses",2).set("getPlaybackRate",2).set("getTextLanguages",4).set("getTextLanguagesAndRoles",4).set("getImageTracks",2).set("getThumbnails",2).set("isAudioOnly",10).set("isBuffering",1).set("isInProgress",1).set("isLive",10).set("isTextTrackVisible",1).set("keySystem",10).set("seekRange",1).set("getLoadMode",10).set("getManifestType",10).set("isFullyLoaded",1).set("isEnded",1),vf=(new Map).set("getConfiguration",4).set("getConfigurationForLowLatency",4).set("getStats",5).set("getAudioTracks",2).set("getTextTracks",2).set("getVariantTracks",2),mf=(new Map).set("getPlayheadTimeAsDate",1).set("getPresentationStartTimeAsDate",20).set("getSegmentAvailabilityDuration",20),bf=[["getConfiguration","configure","getConfigurationForLowLatency","configurationForLowLatency"]],kf=[["isTextTrackVisible","setTextTrackVisibility"]],Ef="addChaptersTrack addTextTrackAsync addThumbnailsTrack cancelTrickPlay configure configurationForLowLatency getChapters getChaptersTracks resetConfiguration retryStreaming selectAudioLanguage selectAudioTrack selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay updateStartTime goToLive".split(" "),Tf=["attach","attachCanvas","detach","load","unload"];function _f(e,t,n,r,i,a,o){var s=this;this.G=e,this.K=o,this.l=new je(t),this.L=n,this.u=!1,this.A=r,this.F=i,this.M=a,this.i=this.m=!1,this.I="",this.o=null,this.B=function(){return Cf(s)},this.C=function(e,t){switch((e=df(t)).type){case"event":var n=e.targetName,r=na(e.event);s.A(n,r);break;case"update":for(r in n=e.update)for(var i in e=s.g[r]||{},n[r])e[i]=n[r][i];s.u&&(s.L(),s.u=!1);break;case"asyncComplete":if(r=e.id,i=e.error,e=s.h.get(r),s.h.delete(r),e)if(i){for(n in r=new Re(i.severity,i.category,i.code),i)r[n]=i[n];e.reject(r)}else e.resolve()}},this.g={video:{},player:{}},this.H=0,this.h=new Map,this.j=null,Lf.add(this)}function Af(e,t){var n=e.M();Df=t,t.addUpdateListener(e.B),t.addMessageListener("urn:x-cast:com.google.shaka.v2",e.C),Cf(e),Pf(e,{type:"init",initState:n,appData:e.o}),e.j.resolve()}function Sf(e,t){var n=8003;switch(t.code){case"cancel":n=8004;break;case"timeout":n=8005;break;case"receiver_unavailable":n=8006}e.j.reject(new Re(2,8,n,t))}function wf(e){var t=Df;t.removeUpdateListener(e.B),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.C)}function Cf(e){var t=!!Df&&"connected"==Df.status;if(e.i&&!t){for(var n in e.F(),e.g)e.g[n]={};xf(e)}e.i=t,e.I=t?Df.receiver.friendlyName:"",e.l.sb()}function xf(e){if(e.h)for(var t=l(e.h.keys()),n=t.next();!n.done;n=t.next()){n=n.value;var r=e.h.get(n);e.h.delete(n),r.reject(new Re(1,7,7e3))}}function Pf(e,t){t=cf(t);var n=Df;try{n.sendMessage("urn:x-cast:com.google.shaka.v2",t,(function(){}),q)}catch(r){throw t=new Re(2,8,8005,r),n=new ta("error",(new Map).set("detail",t)),e.A("player",n),e.Pc(),t}}(n=_f.prototype).destroy=function(){return Lf.delete(this),xf(this),Df&&wf(this),this.l&&(this.l.stop(),this.l=null),this.F=this.A=null,this.i=this.m=!1,this.C=this.B=this.j=this.h=this.g=this.o=null,Promise.resolve()},n.qb=function(){return this.i},n.ag=function(){return this.I},n.init=function(){if(this.G.length)if(e.chrome&&chrome.cast&&chrome.cast.isAvailable){this.m=!0,this.l.sb();var t=new chrome.cast.SessionRequest(this.G,[],null,this.K,null);t=new chrome.cast.ApiConfig(t,(function(e){for(var t=l(Lf),n=t.next();!n.done;n=t.next()){var r=e;(n=n.value).j=new Zi,n.u=!0,Af(n,r)}}),(function(e){for(var t=l(Lf),n=t.next();!n.done;n=t.next())n=n.value,If="available"==e,n.l.sb()}),"origin_scoped"),chrome.cast.initialize(t,(function(){}),(function(){})),If&&this.l.da(Rf),(t=Df)&&t.status!=chrome.cast.SessionStatus.STOPPED?(this.j=new Zi,this.u=!0,Af(this,t)):Df=null}else e.__onGCastApiAvailable!==Mf&&(Of=e.__onGCastApiAvailable||null,e.__onGCastApiAvailable=Mf)},n.ig=function(e){this.o=e,this.i&&Pf(this,{type:"appData",appData:this.o})},n.cast=function(){var e=this;return I((function(t){if(!e.m)throw new Re(1,8,8e3);if(!If)throw new Re(1,8,8001);if(e.i)throw new Re(1,8,8002);return e.j=new Zi,chrome.cast.requestSession((function(t){return Af(e,t)}),(function(t){return Sf(e,t)})),b(t,e.j,0)}))},n.Pc=function(){if(this.i){if(xf(this),Df){wf(this);try{Df.stop((function(){}),(function(){}))}catch(e){}Df=null}Cf(this)}},n.get=function(e,t){var n=this;if("video"==e){if(yf.includes(t))return function(){return n.oh.apply(n,[e,t].concat(u(D.apply(0,arguments))))}}else if("player"==e){if(mf.has(t)&&!this.get("player","isLive")())return function(){};if(Ef.includes(t))return function(){return n.oh.apply(n,[e,t].concat(u(D.apply(0,arguments))))};if(Tf.includes(t))return function(){return n.pj.apply(n,[e,t].concat(u(D.apply(0,arguments))))};if(gf.has(t)||vf.has(t))return function(){return n.g[e][t]}}return this.g[e][t]},n.set=function(e,t,n){this.g[e][t]=n,Pf(this,{type:"set",targetName:e,property:t,value:n})},n.oh=function(e,t){Pf(this,{type:"call",targetName:e,methodName:t,args:D.apply(2,arguments)})},n.pj=function(e,t){var n=D.apply(2,arguments),r=new Zi,i=this.H.toString();this.H++,this.h.set(i,r);try{Pf(this,{type:"asyncCall",targetName:e,methodName:t,args:n,id:i})}catch(e){r.reject(e)}return r};var Rf=.02,If=!1,Df=null,Of=null,Lf=new Set;function Mf(t){if(Of?e.__onGCastApiAvailable=Of:delete e.__onGCastApiAvailable,Of=null,t)for(var n=l(Lf),r=n.next();!r.done;r=n.next())r.value.init();"function"==typeof e.__onGCastApiAvailable&&e.__onGCastApiAvailable(t)}function Nf(t,n,r,i){i=void 0!==i&&i,ia.call(this);var a=this;this.i=t,this.h=n,this.m=this.o=this.l=this.u=this.j=null,this.C=r,this.B=i,this.A=new Map,this.g=null,e.chrome?(this.g=new _f(r,(function(){return Ff(a)}),(function(){return jf(a)}),(function(e,t){return Gf(a,e,t)}),(function(){return Hf(a)}),(function(){return Bf(a)}),i),function(e){e.g.init(),e.m=new J;for(var t=l(pf),n=t.next();!n.done;n=t.next())e.m.D(e.i,n.value,(function(t){e.g.qb()||(t=na(t),e.l.dispatchEvent(t))}));for(var r in ra)e.m.D(e.h,ra[r],(function(t){e.g.qb()||e.o.dispatchEvent(t)}));for(var i in e.j={},t={},e.i)(t={wd:t.wd}).wd=i,Object.defineProperty(e.j,t.wd,{configurable:!1,enumerable:!0,get:function(t){return function(){return Vf(e,t.wd)}}(t),set:function(t){return function(n){var r=t.wd;e.g.qb()?e.g.set("video",r,n):e.i[r]=n}}(t)});e.u={},Uf(e,(function(t){Object.defineProperty(e.u,t,{configurable:!1,enumerable:!0,get:function(){return function(e,t){if(e.A.has(t)&&(t=e.A.get(t)),"addEventListener"==t)return function(t,n,r){return e.o.addEventListener(t,n,r)};if("removeEventListener"==t)return function(t,n,r){return e.o.removeEventListener(t,n,r)};if("getMediaElement"==t)return function(){return e.j};if("getSharedConfiguration"==t)return e.g.get("player","getConfiguration");if("getNetworkingEngine"==t)return function(){return e.h.xb()};if("getDrmEngine"==t)return function(){return e.h.C};if("getAdManager"==t)return function(){return e.h.Pg()};if("setVideoContainer"==t)return function(t){return e.h.Ch(t)};if(e.g.qb()){if("getManifest"==t||"drmInfo"==t)return function(){return Y(t+"() does not work while casting!"),null};if("attach"==t||"detach"==t)return function(){return Y(t+"() does not work while casting!"),Promise.resolve()}}return e.g.qb()&&0==Object.keys(e.g.g.video).length&&(gf.has(t)||vf.has(t))||!e.g.qb()?e.h[t].bind(e.h):e.g.get("player",t)}(e,t)}})})),function(e){var t=new Map;Uf(e,(function(n,r){t.has(r)?(r=t.get(r),n.length<r.length?e.A.set(n,r):e.A.set(r,n)):t.set(r,n)}))}(e),e.l=new ia,e.l.Ge=e.j,e.o=new ia,e.o.Ge=e.u}(this)):(this.j=this.i,this.u=this.h)}function Uf(e,t){function n(e){return"constructor"!=e&&"function"==typeof i[e]&&!a.has(e)}var r,i=e.h,a=new Set;for(r in i)n(r)&&(a.add(r),t(r,i[r]));for(e=Object.getPrototypeOf(i),r=Object.getPrototypeOf({});e&&e!=r;){for(var o=l(Object.getOwnPropertyNames(e)),s=o.next();!s.done;s=o.next())n(s=s.value)&&(a.add(s),t(s,i[s]));e=Object.getPrototypeOf(e)}}function Bf(e){var t={video:{},player:{},playerAfterLoad:{},manifest:e.h.Qc(),startTime:null};e.i.pause();for(var n=l(hf),r=n.next();!r.done;r=n.next())r=r.value,t.video[r]=e.i[r];for(e.i.ended||(t.startTime=e.i.currentTime),r=(n=l(bf)).next();!r.done;r=n.next()){var i=r.value;r=i[1],i=e.h[i[0]](),t.player[r]=i}for(r=(n=l(kf)).next();!r.done;r=n.next())r=(i=r.value)[1],i=e.h[i[0]](),t.playerAfterLoad[r]=i;return t}function Ff(e){var t=new ta("caststatuschanged");e.dispatchEvent(t)}function jf(e){var t=new ta(e.j.paused?"pause":"play");e.l.dispatchEvent(t)}function Hf(e){for(var t=l(bf),n=t.next();!n.done;n=t.next()){var r=n.value;n=r[1],r=e.g.get("player",r[0])(),e.h[n](r)}var i=e.g.get("player","getAssetUri")();r=e.g.get("video","ended"),t=Promise.resolve();var a,o=e.i.autoplay;n=null,r||(n=e.g.get("video","currentTime")),(r=e.g.get("player","getTextTracks")())&&r.length&&(a=r.find((function(e){return e.active})));var s=e.g.get("player","isTextTrackVisible")();i&&(e.i.autoplay=!1,t=e.h.load(i,n));var u={};for(r=(n=l(hf)).next();!r.done;r=n.next())r=r.value,u[r]=e.g.get("video",r);t.then((function(){if(e.i){for(var t=l(hf),n=t.next();!n.done;n=t.next())n=n.value,e.i[n]=u[n];for(n=(t=l(kf)).next();!n.done;n=t.next()){var r=n.value;n=r[1],r=e.g.get("player",r[0])(),e.h[n](r)}e.h.zh(s),a&&e.h.hg(a.language,a.roles,a.forced),e.i.autoplay=o,i&&e.i.play()}}),(function(t){t=new ta("error",t=(new Map).set("detail",t)),e.h.dispatchEvent(t)}))}function Vf(e,t){if("addEventListener"==t)return function(t,n,r){return e.l.addEventListener(t,n,r)};if("removeEventListener"==t)return function(t,n,r){return e.l.removeEventListener(t,n,r)};if(e.g.qb()&&0==Object.keys(e.g.g.video).length){var n=e.i[t];if("function"!=typeof n)return n}return e.g.qb()?e.g.get("video",t):("function"==typeof(t=e.i[t])&&(t=t.bind(e.i)),t)}function Gf(e,t,n){e.g.qb()&&("video"==t?e.l.dispatchEvent(n):"player"==t&&e.o.dispatchEvent(n))}function Kf(e,t,n,r){ia.call(this);var i=this;this.g=e,this.h=t,this.j=new J,this.H={video:e,player:t},this.F=n||function(){},this.I=r||function(e){return e},this.i=null,this.G=!1,this.o=!0,this.m=0,this.B=!1,this.A=!0,this.u=this.l=null,this.C=new je((function(){Zf(i)})),function(e){var t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=function(){return zf(e)},t.onSenderDisconnected=function(){return zf(e)},t.onSystemVolumeChanged=function(){var t=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();t&&Jf(e,{type:"update",update:{video:{volume:t.level,muted:t.muted}}},e.l),Jf(e,{type:"event",targetName:"video",event:{type:"volumechange"}},e.l)},e.u=t.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.u.onMessage=function(t){return function(e,t){var n=df(t.data);switch(n.type){case"PLAY":e.g.play(),$f(e);break;case"PAUSE":e.g.pause(),$f(e);break;case"SEEK":t=n.currentTime;var r=n.resumeState;null!=t&&(e.g.currentTime=Number(t)),r&&"PLAYBACK_START"==r?(e.g.play(),$f(e)):r&&"PLAYBACK_PAUSE"==r&&(e.g.pause(),$f(e));break;case"STOP":e.h.kc().then((function(){e.h&&$f(e)}));break;case"GET_STATUS":Xf(e,Number(n.requestId));break;case"VOLUME":t=(r=n.volume).level,r=r.muted;var i=e.g.volume,a=e.g.muted;null!=t&&(e.g.volume=Number(t)),null!=r&&(e.g.muted=r),i==e.g.volume&&a==e.g.muted||$f(e);break;case"LOAD":e.m=0,e.B=!1,e.A=!1,t=n.media,r=n.currentTime,i=e.I(t.contentId),a=n.autoplay||!0,e.F(t.customData),a&&(e.g.autoplay=!0),e.h.load(i,r).then((function(){e.h&&Xf(e)})).catch((function(t){var r="LOAD_FAILED";7==t.category&&7e3==t.code&&(r="LOAD_CANCELLED"),Jf(e,{requestId:Number(n.requestId),type:r},e.u)}));break;default:Jf(e,{requestId:Number(n.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},e.u)}}(e,t)},e.l=t.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.l.onMessage=function(t){return function(e,t){var n=df(t.data);switch(n.type){case"init":e.m=0,e.B=!1,e.A=!0,function(e,t,n){var r,i,a,o,s,l,u,c,d,p;I((function(f){switch(f.g){case 1:for(r in t.player)i=t.player[r],e.h[r](i);return e.F(n),a=e.g.autoplay,t.manifest?(e.g.autoplay=!1,E(f,5),b(f,e.h.load(t.manifest,t.startTime),7)):b(f,Promise.resolve(),3);case 7:_(f,3);break;case 5:return o=A(f),s=(new Map).set("detail",o),l=new ta("error",s),e.h&&e.h.dispatchEvent(l),f.return();case 3:if(!e.h)return f.return();for(u in t.video)c=t.video[u],e.g[u]=c;for(d in t.playerAfterLoad)p=t.playerAfterLoad[d],e.h[d](p);e.g.autoplay=a,t.manifest&&(e.g.play(),$f(e)),k(f)}}))}(e,n.initState,n.appData),Zf(e);break;case"appData":e.F(n.appData);break;case"set":var r=n.targetName,i=n.property;if(n=n.value,"video"==r){if(t=cast.receiver.CastReceiverManager.getInstance(),"volume"==i){t.setSystemVolumeLevel(n);break}if("muted"==i){t.setSystemVolumeMuted(n);break}}e.H[r][i]=n;break;case"call":(r=e.H[n.targetName])[n.methodName].apply(r,n.args);break;case"asyncCall":r=n.targetName,i=n.methodName,"player"==r&&"load"==i&&(e.m=0,e.B=!1);var a=n.id,o=t.senderId;n=(t=e.H[r])[i].apply(t,n.args),"player"==r&&"load"==i&&(n=n.then((function(){e.A=!0}))),n.then((function(){return Qf(e,o,a,null)}),(function(t){return Qf(e,o,a,t)}))}}(e,t)},t.start();for(var n=(t=l(pf)).next();!n.done;n=t.next())e.j.D(e.g,n.value,(function(t){return Yf(e,"video",t)}));for(var r in ra)e.j.D(e.h,ra[r],(function(t){return Yf(e,"player",t)}));e.j.D(e.g,"loadeddata",(function(){e.B=!0})),e.j.D(e.h,"loading",(function(){e.o=!1,Wf(e)})),e.j.D(e.g,"playing",(function(){e.o=!1,Wf(e)})),e.j.D(e.g,"pause",(function(){Wf(e)})),e.j.D(e.h,"unloading",(function(){e.o=!0,Wf(e)})),e.j.D(e.g,"ended",(function(){new je((function(){e.g&&e.g.ended&&(e.o=!0,Wf(e))})).da(th)}))}(this)}function zf(e){e.m=0,e.A=!0,e.G=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,Wf(e)}function Wf(e){var t;I((function(n){return 1==n.g?b(n,Promise.resolve(),2):e.h?(t=new ta("caststatuschanged"),e.dispatchEvent(t),qf(e)||$f(e),void k(n)):n.return()}))}function Yf(e,t,n){e.h&&(Zf(e),Jf(e,{type:"event",targetName:t,event:n},e.l))}function Zf(e){e.C.da(eh);for(var t={video:{},player:{}},n=l(ff),r=n.next();!r.done;r=n.next())r=r.value,t.video[r]=e.g[r];e.h.U()&&mf.forEach((function(n,r){0==e.m%n&&(t.player[r]=e.h[r]())})),gf.forEach((function(n,r){0==e.m%n&&(t.player[r]=e.h[r]())})),(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),Jf(e,{type:"update",update:t},e.l),vf.forEach((function(t,n){0==e.m%t&&((t={player:{}}).player[n]=e.h[n](),Jf(e,{type:"update",update:t},e.l))})),e.B&&(e.m+=1),qf(e)}function qf(e){return!(!e.A||!e.g.duration&&!e.h.U())&&(Xf(e),e.A=!1,!0)}function Xf(e,t){var n={contentId:e.h.Qc(),streamType:e.h.U()?"LIVE":"BUFFERED",contentType:""};e.h.U()||(n.duration=e.g.duration),e.i&&(n.metadata=e.i),$f(e,void 0===t?0:t,n)}function Qf(e,t,n,r){e.h&&Jf(e,{type:"asyncComplete",id:n,error:r},e.l,t)}function Jf(e,t,n,r){e.G&&(e=cf(t),r?n.getCastChannel(r).send(e):n.broadcast(e))}function $f(e,t,n){n=void 0===n?null:n;var r={mediaSessionId:0,playbackRate:e.g.playbackRate,playerState:e.o?nh:e.h.Of()?ih:e.g.paused?ah:rh,currentTime:e.g.currentTime,supportedMediaCommands:63,volume:{level:e.g.volume,muted:e.g.muted}};n&&(r.media=n),Jf(e,{requestId:void 0===t?0:t,type:"MEDIA_STATUS",status:[r]},e.u)}y(Nf,ia),(n=Nf.prototype).destroy=function(e){return this.g&&e&&this.g.Pc(),this.m&&(this.m.release(),this.m=null),e=[],this.h&&(e.push(this.h.destroy()),this.h=null),this.g&&(e.push(this.g.destroy()),this.g=null),this.u=this.j=this.i=null,ia.prototype.release.call(this),Promise.all(e)},n.Li=function(){return this.j},n.If=function(){return this.u},n.Xh=function(){return!!this.g&&(this.g.m&&If)},n.qb=function(){return!!this.g&&this.g.qb()},n.ag=function(){return this.g?this.g.ag():""},n.cast=function(){var e=this;return I((function(t){return 1==t.g?e.g?b(t,e.g.cast(),2):t.return():e.h?b(t,e.h.kc(),0):t.return()}))},n.ig=function(e){this.g&&this.g.ig(e)},n.Ej=function(){var e;this.g&&((e=this.g).i&&chrome.cast.requestSession((function(t){return Af(e,t)}),(function(t){return Sf(e,t)})))},n.Pc=function(){this.g&&this.g.Pc()},n.Yh=function(e,t){t=void 0!==t&&t;var n=this;return I((function(r){if(1==r.g)return e==n.C&&t==n.B?r.return():(n.C=e,n.B=t,n.g?(n.g.Pc(),b(r,n.g.destroy(),2)):r.return());n.g=null,n.g=new _f(e,(function(){return Ff(n)}),(function(){return jf(n)}),(function(e,t){return Gf(n,e,t)}),(function(){return Hf(n)}),(function(){return Bf(n)}),t),n.g.init(),k(r)}))},F("shaka.cast.CastProxy",Nf),Nf.prototype.changeReceiverId=Nf.prototype.Yh,Nf.prototype.forceDisconnect=Nf.prototype.Pc,Nf.prototype.suggestDisconnect=Nf.prototype.Ej,Nf.prototype.setAppData=Nf.prototype.ig,Nf.prototype.cast=Nf.prototype.cast,Nf.prototype.receiverName=Nf.prototype.ag,Nf.prototype.isCasting=Nf.prototype.qb,Nf.prototype.canCast=Nf.prototype.Xh,Nf.prototype.getPlayer=Nf.prototype.If,Nf.prototype.getVideo=Nf.prototype.Li,Nf.prototype.destroy=Nf.prototype.destroy,y(Kf,ia),(n=Kf.prototype).isConnected=function(){return this.G},n.Si=function(){return this.o},n.Bj=function(e){this.i=e},n.bi=function(){this.i=null},n.Cj=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.title=e},n.Aj=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.images=[{url:e}]},n.zj=function(e){this.i||(this.i={}),this.i.artist=e,this.i.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},n.destroy=function(){var e,t=this;return I((function(n){if(1==n.g)return t.j&&(t.j.release(),t.j=null),e=[],t.h&&(e.push(t.h.destroy()),t.h=null),t.C&&(t.C.stop(),t.C=null),t.g=null,t.H=null,t.F=null,t.G=!1,t.o=!0,t.l=null,t.u=null,ia.prototype.release.call(t),b(n,Promise.all(e),2);cast.receiver.CastReceiverManager.getInstance().stop(),k(n)}))},F("shaka.cast.CastReceiver",Kf),Kf.prototype.destroy=Kf.prototype.destroy,Kf.prototype.setContentArtist=Kf.prototype.zj,Kf.prototype.setContentImage=Kf.prototype.Aj,Kf.prototype.setContentTitle=Kf.prototype.Cj,Kf.prototype.clearContentMetadata=Kf.prototype.bi,Kf.prototype.setContentMetadata=Kf.prototype.Bj,Kf.prototype.isIdle=Kf.prototype.Si,Kf.prototype.isConnected=Kf.prototype.isConnected;var eh=.5,th=5,nh="IDLE",rh="PLAYING",ih="BUFFERING",ah="PAUSED";function oh(e,t,n,r,i){if(r>=i)return null;for(var a=-1,o=-1,s=0;s<n.length;s++)if(n[s].some((function(e){return null!=e&&""!=e.g.trim()}))){a=s;break}for(s=n.length-1;0<=s;s--)if(n[s].some((function(e){return null!=e&&""!=e.g.trim()}))){o=s;break}if(-1===a||-1===o)return null;for(var l=s=!1,u="white",c="black",d=sh(r,i,s,l,u,c);a<=o;a++){for(var p=n[a],f=-1,h=-1,y=0;y<p.length;y++)if(null!=p[y]&&""!==p[y].g.trim()){f=y;break}for(y=p.length-1;0<=y;y--)if(null!=p[y]&&""!==p[y].g.trim()){h=y;break}if(-1===f||-1===h)p=lh(r,i),e.nestedCues.push(p);else{for(;f<=h;f++)if(y=p[f]){var g=y.l,v=y.i,m=y.j,b=y.h;g==s&&v==l&&m==u&&b==c||(d.payload&&e.nestedCues.push(d),d=sh(r,i,g,v,m,b),s=g,l=v,u=m,c=b),d.payload+=y.g}else d.payload+=" ";d.payload&&e.nestedCues.push(d),a!==o&&(d=lh(r,i),e.nestedCues.push(d)),d=sh(r,i,s,l,u,c)}}return e.nestedCues.length?{cue:e,stream:t}:null}function sh(e,t,n,r,i,a){return e=new Jn(e,t,""),n&&e.textDecoration.push(Tr),r&&(e.fontStyle=kr),e.color=i,e.backgroundColor=a,e}function lh(e,t){return(e=new Jn(e,t,"")).lineBreak=!0,e}function uh(e,t,n,r,i){this.g=e,this.l=t,this.i=n,this.h=r,this.j=i}function ch(e,t){this.i=[],this.g=1,this.h=0,this.C=e,this.B=t,this.j=this.m=!1,this.l="white",this.o="black",this.u=this.A=null,ph(this)}function dh(e,t,n){var r="CC"+(1+(e.C<<1|e.B)),i=new Jn(t,n,"");i.lineInterpretation=1;var a=kh.get(e.g);return a&&(i.line=a),null!=e.u&&null!=e.A&&(i.position=10+Math.min(70,10*e.u)+2.5*e.A),(t=oh(i,r,e.i,t,n))&&15<e.g+t.cue.nestedCues.length-3&&(a=kh.get(e.g+3-t.cue.nestedCues.length))&&(i.line=a),t}function ph(e){yh(e,0,15),e.g=1}function fh(e,t,n){if(!(32>n||127<n)){var r="";switch(t){case 0:r=gh.has(n)?gh.get(n):String.fromCharCode(n);break;case 1:r=vh.get(n);break;case 2:e.i[e.g].pop(),r=mh.get(n);break;case 3:e.i[e.g].pop(),r=bh.get(n)}r&&e.i[e.g].push(new uh(r,e.m,e.j,e.o,e.l))}}function hh(e,t,n,r){if(!(0>n||0>t))if(t>=n)for(--r;0<=r;r--)e.i[t+r]=e.i[n+r].map((function(e){return e}));else for(var i=0;i<r;i++)e.i[t+i]=e.i[n+i].map((function(e){return e}))}function yh(e,t,n){for(var r=0;r<=n;r++)e.i[t+r]=[]}var gh=new Map([[39,"’"],[42,"á"],[92,"é"],[92,"é"],[94,"í"],[95,"ó"],[96,"ú"],[123,"ç"],[124,"÷"],[125,"Ñ"],[126,"ñ"],[127,"█"]]),vh=new Map([[48,"®"],[49,"°"],[50,"½"],[51,"¿"],[52,"™"],[53,"¢"],[54,"£"],[55,"♪"],[56,"à"],[57," "],[58,"è"],[59,"â"],[60,"ê"],[61,"î"],[62,"ô"],[63,"û"]]),mh=new Map([[32,"Á"],[33,"É"],[34,"Ó"],[35,"Ú"],[36,"Ü"],[37,"ü"],[38,"‘"],[39,"¡"],[40,"*"],[41,"'"],[42,"─"],[43,"©"],[44,"℠"],[45,"·"],[46,"“"],[47,"”"],[48,"À"],[49,"Â"],[50,"Ç"],[51,"È"],[52,"Ê"],[53,"Ë"],[54,"ë"],[55,"Î"],[56,"Ï"],[57,"ï"],[58,"Ô"],[59,"Ù"],[60,"ù"],[61,"Û"],[62,"«"],[63,"»"]]),bh=new Map([[32,"Ã"],[33,"ã"],[34,"Í"],[35,"Ì"],[36,"ì"],[37,"Ò"],[38,"ò"],[39,"Õ"],[40,"õ"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"Ä"],[49,"ä"],[50,"Ö"],[51,"ö"],[52,"ß"],[53,"¥"],[54,"¤"],[55,"│"],[56,"Å"],[57,"å"],[58,"Ø"],[59,"ø"],[60,"┌"],[61,"┐"],[62,"└"],[63,"┘"]]),kh=new Map([[1,10],[2,15.33],[3,20.66],[4,26],[5,31.33],[6,36.66],[7,42],[8,47.33],[9,52.66],[10,58],[11,63.33],[12,68.66],[13,74],[14,79.33],[15,84.66]]);function Eh(e,t){this.h=0,this.o=new ch(e,t),this.i=new ch(e,t),this.g=this.j=new ch(e,t),this.l=0,this.m=null}function Th(e,t,n){e.g=e.i;var r=e.g,i=null;return 3!==e.h&&4!==e.h&&(i=dh(r,e.l,n),(n=e.i).g=0<n.h?n.h:0,yh(n,0,15),(n=e.j).g=0<n.h?n.h:0,yh(n,0,15),r.g=15),e.h=3,r.h=t,i}function _h(e){e.h=1,e.g=e.j,e.g.h=0}function Ah(e){Z("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),e.g=e.o,e.h=4}var Sh="black green blue cyan red yellow magenta black".split(" "),wh="white green blue cyan red yellow magenta white_italics".split(" ");function Ch(e,t){this.I=t,this.M=e,this.K=this.l=!1,this.m=this.o=this.G=this.L=this.H=0,this.F=2,this.i=[],this.g=this.h=this.j=0,this.C=this.A=!1,this.B="white",this.u="black",xh(this)}function xh(e){e.i=[];for(var t=0;16>t;t++)e.i.push(Ph())}function Ph(){for(var e=[],t=0;42>t;t++)e.push(null);return e}function Rh(e,t){Ih(e)&&(e.i[e.h][e.g]=new uh(t,e.C,e.A,e.u,e.B),e.g++)}function Ih(e){var t=e.g<e.m&&0<=e.g;return e.h<e.o&&0<=e.h&&t}function Dh(e,t,n){var r=new Jn(e.j,t,"");r.textAlign=0===e.F?"left":1===e.F?"right":or;var i=r.region;switch(e.I&&(i.id+="svc"+e.I),i.id+="win"+e.M,i.height=e.o,i.width=e.m,i.heightUnits=2,i.widthUnits=2,i.viewportAnchorX=e.H,i.viewportAnchorY=e.L,i.viewportAnchorUnits=e.K?rn:2,e.G){case 0:i.regionAnchorX=0,i.regionAnchorY=0;break;case 1:i.regionAnchorX=50,i.regionAnchorY=0;break;case 2:i.regionAnchorX=100,i.regionAnchorY=0;break;case 3:i.regionAnchorX=0,i.regionAnchorY=50;break;case 4:i.regionAnchorX=50,i.regionAnchorY=50;break;case 5:i.regionAnchorX=100,i.regionAnchorY=50;break;case 6:i.regionAnchorX=0,i.regionAnchorY=100;break;case 7:i.regionAnchorX=50,i.regionAnchorY=100;break;case 8:i.regionAnchorX=100,i.regionAnchorY=100}return(n=oh(r,"svc"+n,e.i,e.j,t))&&(e.j=t),n}function Oh(){this.i=[],this.h=null,this.g=0}function Lh(e,t){3===t.type?(e.g=2*(63&t.value)-1,e.h=[]):e.h&&(0<e.g&&(e.h.push(t),e.g--),0===e.g&&(e.i.push(new Mh(e.h)),e.h=null,e.g=0))}function Mh(e){this.g=0,this.h=e}function Nh(e){if(!e.ta())throw new Re(2,2,3e3);return e.h[e.g++]}function Uh(e){this.i=e,this.h=[null,null,null,null,null,null,null,null],this.g=null}function Bh(e,t,n,r){if(!e.g)return[];if(24==n)return n=Nh(t).value,r=Nh(t).value,n=[n,r].map((function(e){return("0"+(255&e).toString(16)).slice(-2)})).join(""),Rh(e.g,String.fromCharCode(parseInt(n,16))),[];t=e.g;var i=null;switch(n){case 8:!Ih(t)||0>=t.g&&0>=t.h||(0>=t.g?(t.g=t.m-1,t.h--):t.g--,t.i[t.h][t.g]=null);break;case 13:t.isVisible()&&(i=Dh(t,r,e.i)),t.h+1>=t.o?function(e){for(var t=0,n=1;16>n;n++,t++)e.i[t]=e.i[n];for(n=0;1>n;n++,t++)e.i[t]=Ph()}(t):t.h++,t.g=0;break;case 14:t.isVisible()&&(i=Dh(t,r,e.i)),t.i[t.h]=Ph(),t.g=0;break;case 12:t.isVisible()&&(i=Dh(t,r,e.i)),xh(t),t.h=0,t.g=0}return i?[i]:[]}function Fh(e,t,n,r){if(128<=n&&135>=n)r=7&n,e.h[r]&&(e.g=e.h[r]);else{if(136===n){n=Nh(t).value,t=[];for(var i=(n=l(jh(e,n))).next();!i.done;i=n.next()){if((i=e.h[i.value]).isVisible()){var a=Dh(i,r,e.i);a&&t.push(a)}xh(i)}return t}if(137===n)for(n=(t=l(jh(e,t=Nh(t).value))).next();!n.done;n=t.next())(n=e.h[n.value]).isVisible()||(n.j=r),n.display();else{if(138===n){for(n=Nh(t).value,t=null,i=(n=l(jh(e,n))).next();!i.done;i=n.next())(i=e.h[i.value]).isVisible()&&(t=Dh(i,r,e.i)),i.l=!1;return t?[t]:[]}if(139===n){for(n=Nh(t).value,t=null,i=(n=l(jh(e,n))).next();!i.done;i=n.next())(i=e.h[i.value]).isVisible()?t=Dh(i,r,e.i):i.j=r,i.l=!i.l;return t?[t]:[]}if(140===n)return Hh(e,t=Nh(t).value,r);if(143===n)return r=Hh(e,255,r),Vh(e),r;if(144===n)t.skip(1),r=Nh(t).value,e.g&&(e.g.A=0<(128&r),e.g.C=0<(64&r));else if(145===n)r=Nh(t).value,n=Nh(t).value,t.skip(1),e.g&&(t=Gh((48&n)>>4,(12&n)>>2,3&n),e.g.B=Gh((48&r)>>4,(12&r)>>2,3&r),e.g.u=t);else if(146===n)r=Nh(t).value,t=Nh(t).value,e.g&&((e=e.g).h=15&r,e.g=63&t);else if(151===n)t.skip(1),t.skip(1),r=Nh(t).value,t.skip(1),e.g&&(e.g.F=3&r);else if(152<=n&&159>=n){n=(15&n)-8,(i=null!==e.h[n])||((a=new Ch(n,e.i)).j=r,e.h[n]=a),r=Nh(t).value,a=Nh(t).value;var o=Nh(t).value,s=Nh(t).value,u=Nh(t).value;t=Nh(t).value,i&&0==(7&t)||((t=e.h[n]).h=0,t.g=0,t.C=!1,t.A=!1,t.B="white",t.u="black"),(t=e.h[n]).l=0<(32&r),t.L=127&a,t.H=o,t.G=(240&s)>>4,t.K=0<(128&a),t.o=1+(15&s),t.m=1+(63&u),e.g=e.h[n]}}}return[]}function jh(e,t){for(var n=[],r=0;8>r;r++)1==(1&t)&&e.h[r]&&n.push(r),t>>=1;return n}function Hh(e,t,n){for(var r=[],i=(t=l(jh(e,t))).next();!i.done;i=t.next()){i=i.value;var a=e.h[i];a.isVisible()&&(a=Dh(a,n,e.i))&&r.push(a),e.h[i]=null}return r}function Vh(e){e.g=null,e.h=[null,null,null,null,null,null,null,null]}function Gh(e,t,n){var r={0:0,1:0,2:1,3:1};return zh[(e=r[e])<<2|(t=r[t])<<1|(n=r[n])]}Ch.prototype.isVisible=function(){return this.l},Ch.prototype.display=function(){this.l=!0},Mh.prototype.ta=function(){return this.g<this.h.length},Mh.prototype.Ba=function(){return this.g},Mh.prototype.skip=function(e){if(this.g+e>this.h.length)throw new Re(2,2,3e3);this.g+=e},Mh.prototype.qh=function(e){if(0>this.g-e)throw new Re(2,2,3e3);this.g-=e};var Kh=new Map([[32," "],[33," "],[37,"…"],[42,"Š"],[44,"Œ"],[48,"█"],[49,"‘"],[50,"’"],[51,"“"],[52,"”"],[53,"•"],[57,"™"],[58,"š"],[60,"œ"],[61,"℠"],[63,"Ÿ"],[118,"⅛"],[119,"⅜"],[120,"⅝"],[121,"⅞"],[122,"│"],[123,"┐"],[124,"└"],[125,"─"],[126,"┘"],[127,"┌"]]),zh="black blue green cyan red magenta yellow white".split(" ");function Wh(){this.h=[],this.g=[],this.i=new Oh,this.l=0,this.m=new Map([["CC1",new Eh(0,0)],["CC2",new Eh(0,1)],["CC3",new Eh(1,0)],["CC4",new Eh(1,1)]]),this.u=this.o=0,this.j=new Map,this.B=!0,this.A=new Set,Yh(this)}function Yh(e){e.o=0,e.u=0;for(var t=l(e.m.values()),n=t.next();!n.done;n=t.next())(n=n.value).h=0,n.g=n.j,n.m=null,ph(n.i),ph(n.j),ph(n.o);e.B=!0}function Zh(e,t){var n=t.type;if(16==(112&t.mb)){var r=t.mb>>3&1;0===n?e.o=r:e.u=r}if(r="CC"+(1+(n<<1|(n?e.u:e.o))),n=e.m.get(r),255===t.mb&&255===t.Mb||!t.mb&&!t.Mb||!Xh(t.mb)||!Xh(t.Mb))return 45<=++e.l&&Yh(e),null;e.l=0,t.mb&=127,t.Mb&=127;var i=t.mb;if(1<=i&&15>=i||!t.mb&&!t.Mb)return null;if(i=null,16==(112&t.mb))e:{if(e.A.add(r),r=t.mb,e=t.Mb,n.m===(r<<8|e))n.m=null;else if(n.m=r<<8|e,16==(240&r)&&64==(192&e)){t=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&r)<<1|e>>5&1],r="white",i=!1;var a=null,o=95<e?e-96:e-64;13>=o?r=wh[Math.floor(o/2)]:15>=o?i=!0:a=Math.floor((o-16)/2),e=1==(1&e),4!==n.h&&(o=n.g,3===n.h&&t!==o.g&&(hh(o,n=1+t-o.h,1+o.g-o.h,o.h),yh(o,0,n-1),yh(o,t+1,15-t)),o.g=t,o.m=e,o.j=i,o.l=r,o.u=a,o.o="black")}else if(17==(247&r)&&32==(240&e))n.g.m=!1,n.g.j=!1,n.g.l="white",fh(n.g,0,32),r=!1,"white_italics"===(t=wh[(14&e)>>1])&&(t="white",r=!0),n.g.m=1==(1&e),n.g.j=r,n.g.l=t;else if(16==(247&r)&&32==(240&e)||23==(247&r)&&45==(255&e))t="black",0==(7&r)&&(t=Sh[(14&e)>>1]),n.g.o=t;else if(17==(247&r)&&48==(240&e))fh(n.g,1,e);else if(18==(246&r)&&32==(224&e))fh(n.g,1&r?3:2,e);else{if(20==(246&r)&&32==(240&e)){switch(e=t.pts,r=null,t.Mb){case 32:_h(n);break;case 33:(n=n.g).i[n.g].pop();break;case 37:r=Th(n,2,e);break;case 38:r=Th(n,3,e);break;case 39:r=Th(n,4,e);break;case 40:fh(n.g,0,32);break;case 41:n.h=2,n.g=n.i,n.g.h=0,n.l=e;break;case 42:ph(n.o),Ah(n);break;case 43:Ah(n);break;case 44:t=n.i,r=null,4!==n.h&&(r=dh(t,n.l,e)),yh(t,0,15);break;case 45:t=n.g,3!==n.h?r=null:(r=dh(t,n.l,e),hh(t,(i=t.g-t.h+1)-1,i,t.h),yh(t,0,i-1),yh(t,t.g,15-t.g),n.l=e);break;case 46:yh(n.j,0,15);break;case 47:t=null,4!==n.h&&(t=dh(n.i,n.l,e)),r=n.j,n.j=n.i,n.i=r,_h(n),n.l=e,r=t}i=r;break e}(23==r||31==r)&&33<=e&&35>=e&&(n.g.A=e-32)}i=null}else e=t.Mb,fh(n.g,0,t.mb),fh(n.g,0,e);return i}function qh(e,t){var n=[];try{for(;t.ta();){var r=Nh(t).value,i=(224&r)>>5,a=31&r;if(7===i&&0!=a&&(i=63&Nh(t).value),0!=i){e.A.add("svc"+i),e.j.has(i)||e.j.set(i,new Uh(i));for(var o=e.j.get(i),s=t.Ba();t.Ba()-s<a;){i=o;var l=t,c=Nh(l),d=c.value,p=c.pts;if(16===d)d=d<<16|Nh(l).value;if(0<=d&&31>=d)var f=Bh(i,l,d,p);else if(128<=d&&159>=d)f=Fh(i,l,d,p);else{if(4096<=d&&4127>=d)i=l,8<=(l=255&d)&&15>=l?i.skip(1):16<=l&&23>=l?i.skip(2):24<=l&&31>=l&&i.skip(3);else if(4224<=d&&4255>=d)i=l,128<=(l=255&d)&&135>=l?i.skip(4):136<=l&&143>=l&&i.skip(5);else if(32<=d&&127>=d)l=d,i.g&&Rh(i.g,127===l?"♪":String.fromCharCode(l));else if(160<=d&&255>=d)i.g&&Rh(i.g,String.fromCharCode(d));else if(4128<=d&&4223>=d){if(l=255&d,i.g)if(Kh.has(l)){var h=Kh.get(l);Rh(i.g,h)}else Rh(i.g,"_")}else 4256<=d&&4351>=d&&i.g&&Rh(i.g,160!=(255&d)?"_":"[CC]");f=[]}n.push.apply(n,u(f))}}}}catch(e){if(!(e instanceof Re&&3e3===e.code))throw e;Z("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.")}return n}function Xh(e){for(var t=0;e;)t^=1&e,e>>=1;return 1===t}function Qh(e){for(var t=[],n=e,r=e=0;r<n.length;)2==e&&3==n[r]?(e=0,(n=[].concat(u(n))).splice(r,1),n=new Uint8Array(n)):0==n[r]?e++:e=0,r++;for(e=n,r=0;r<e.length;){for(n=0;255==e[r];)n+=255,r++;n+=e[r++];for(var i=0;255==e[r];)i+=255,r++;i+=e[r++],4==n&&t.push(e.subarray(r,r+i)),r+=i}return t}function Jh(){this.j=new Map,this.i=this.h=0,this.g=ey}function $h(e,t,n,r,i,a,o,s,c){var d=0,p=a,f=s.map((function(e){return e.fg}));for((f=[].concat.apply([],u(f))).length&&(p=f[0].sampleSize||a),t.skip(o+s[0].nf);t.ta();){o=t.S();var h=t.X(),y=null;switch(y=!1,s=1,e.g){case ty:y=6==(y=31&h);break;case ny:s=2,t.skip(1),y=39==(y=h>>1&63)||40==y;break;case ry:s=2,t.skip(1),y=23==(y=h>>1&63)||24==y;break;default:return}if(y)for(h=0,d<f.length&&(h=f[d].ye||0),h=(n+h)/r,y=(s=l(Qh(t.Cb(o-s)))).next();!y.done;y=s.next())c.push({packet:y.value,pts:h});else try{t.skip(o-s)}catch(e){break}0==(p-=o+4)&&(n=d<f.length?n+(f[d].gg||i):n+i,p=++d<f.length&&f[d].sampleSize||a)}}Wh.prototype.clear=function(){this.l=0,this.h=[],this.g=[];var e=this.i;e.i=[],e.h=[],e.g=0,Yh(this);for(var t=(e=l(this.j.values())).next();!t.done;t=e.next())Vh(t.value)},Wh.prototype.extract=function(e,t){if(this.B){for(var n=l(this.m.values()),r=n.next();!r.done;r=n.next())r.value.l=t;this.B=!1}if(!(8>(e=new _a(e,0)).getLength())&&181===e.X()&&49===e.na()&&1195456820===e.S()&&3===e.X()&&0!=(64&(n=e.X())))for(n&=31,e.skip(1),r=0;r<n;r++){var i=e.X(),a=(4&i)>>2,o=e.X(),s=e.X();a&&(0===(i&=3)||1===i?this.h.push({pts:t,type:i,mb:o,Mb:s,order:this.h.length}):(this.g.push({pts:t,type:i,value:o,order:this.g.length}),this.g.push({pts:t,type:2,value:s,order:this.g.length})))}},Wh.prototype.decode=function(){function e(e,t){return e.pts-t.pts||e.order-t.order}var t=[];this.h.sort(e),this.g.sort(e);for(var n=l(this.h),r=n.next();!r.done;r=n.next())(r=Zh(this,r.value))&&t.push(r);for(r=(n=l(this.g)).next();!r.done;r=n.next())Lh(this.i,r.value);for(r=(n=l(this.i.i)).next();!r.done;r=n.next())r=qh(this,r.value),t.push.apply(t,u(r));return this.i.i=[],this.h=[],this.g=[],t},Wh.prototype.getStreams=function(){return Array.from(this.A)},F("shaka.cea.CeaDecoder",Wh),tn=function(){return new Wh},Jh.prototype.init=function(e){function t(e){e=e.name,iy.has(e)&&(n.g=iy.get(e))}var n=this,r=[],i=[];if((new wa).box("moov",Ca).box("mvex",Ca).R("trex",(function(e){var t=e.reader;t.skip(4),t.skip(4),e=t.S(),t=t.S(),n.h=e,n.i=t})).box("trak",Ca).R("tkhd",(function(e){var t=e.reader;1==(e=e.version)?(t.skip(8),t.skip(8)):(t.skip(4),t.skip(4));var n=t.S();1==e?t.skip(8):t.skip(4),t.skip(4),t.skip(8),t.skip(2),t.skip(2),t.skip(2),t.skip(2),t.skip(36),t.na(),t.na(),t.na(),t.na(),r.push(n)})).box("mdia",Ca).R("mdhd",(function(e){e=Po(e.reader,e.version),i.push(e.timescale)})).box("minf",Ca).box("stbl",Ca).R("stsd",xa).box("avc1",t).box("avc3",t).box("dvav",t).box("dva1",t).box("hev1",t).box("hvc1",t).box("dvh1",t).box("dvhe",t).box("vvc1",t).box("vvi1",t).box("dvc1",t).box("dvi1",t).box("encv",Pa).box("sinf",Ca).box("frma",(function(e){e=Do(e.reader).codec,iy.has(e)&&(n.g=iy.get(e))})).parse(e,!0),!r.length||!i.length||r.length!=i.length)throw new Re(2,2,2010);this.g==ey&&Y("Unable to determine bitstream format for CEA parsing!"),r.forEach((function(e,t){n.j.set(e,i[t])}))},Jh.prototype.parse=function(e){var t=this;if(this.g==ey)return[];var n=[],r=0,i=[];return(new wa).box("moof",(function(e){r=e.start,i=[],Ca(e)})).box("traf",(function(e){i.push({baseMediaDecodeTime:null,ld:t.h,md:t.i,lh:[],timescale:9e4}),Ca(e)})).R("trun",(function(e){var t=i[i.length-1];e=Ro(e.reader,e.version,e.flags),t.lh.push(e)})).R("tfhd",(function(e){var n=i[i.length-1];e=Co(e.reader,e.flags),n.ld=e.ld||t.h,n.md=e.md||t.i,e=e.trackId,t.j.has(e)&&(n.timescale=t.j.get(e))})).R("tfdt",(function(e){var t=i[i.length-1];e=xo(e.reader,e.version),t.baseMediaDecodeTime=e.baseMediaDecodeTime})).box("mdat",(function(e){for(var a=r-e.start-8,o=e.reader.Ba(),s=l(i),u=s.next();!u.done;u=s.next()){if(null===(u=u.value).baseMediaDecodeTime)throw Y("Unable to find base media decode time for CEA captions!"),new Re(2,2,2010);e.reader.seek(o),$h(t,e.reader,u.baseMediaDecodeTime,u.timescale,u.ld,u.md,a,u.lh,n)}})).parse(e,!1),n},F("shaka.cea.Mp4CeaParser",Jh);var ey=0,ty=1,ny=2,ry=3,iy=(new Map).set("avc1",ty).set("avc3",ty).set("dvav",ty).set("dva1",ty).set("hev1",ny).set("hvc1",ny).set("dvh1",ny).set("dvhe",ny).set("vvc1",ry).set("vvi1",ry).set("dvc1",ry).set("dvi1",ry);function ay(){this.g=null}function oy(e){return(e=function(e){var t=0,n=xe(e),r=n.getUint32(t,!0);if(r!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){r=n.getUint16(e,!0),e+=2;var i=n.getUint16(e,!0);if(e+=2,0!=(1&i)||i+e>n.byteLength){n=[];break e}var a=we(n,e,i);t.push({type:r,value:a}),e+=i}n=t}return n}(e=wt(wn(e))).filter((function(e){return e.type===ly}))[0])&&(e=En(e=gt(e.value,!0),"WRMHEADER"))?e:null}function sy(e){try{var t=oy(e);if(t)e:{for(var n=l(xn(t,"DATA")),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.children)for(var a=l(i.children),o=a.next();!o.done;o=a.next()){var s=o.value;if("LA_URL"==s.tagName){var u=wn(s);break e}}}u=""}else u="";return u}catch(e){return""}}Jt("video/mp4",(function(){return new Jh})),ay.prototype.init=function(){},ay.prototype.parse=function(e){this.g?this.g.clearData():this.g=new Ks;var t=[];if(!Zs(e=we(e)))return t;var n=(e=this.g.parse(e)).od(),r=e.be();switch(e=[],n.video){case"avc":e.push(6);break;case"hvc":e.push(39),e.push(40)}if(!e.length)return t;for(r=(n=l(r)).next();!r.done;r=n.next())if(r=r.value,e.includes(r.type)&&null!=r.time)for(var i=l(Qh(r.data)),a=i.next();!a.done;a=i.next())t.push({packet:a.value,pts:r.time});return t},F("shaka.cea.TsCeaParser",ay),Jt("video/mp2t",(function(){return new ay}));var ly=1;function uy(t,n,r){var i=function(e){for(var t=[],n=(e=l(e)).next();!n.done;n=e.next())(n=dy(n.value))&&t.push(n);return t}(t),a=null;t=[];var o=[],s=null,u=new Set(i.map((function(e){return e.keyId})));u.delete(null);var c="cenc";if(1<u.size)throw new Re(2,4,4010);if(!n){if(1<(o=i.filter((function(e){return"urn:mpeg:dash:sea:2012"==e.cd}))).length)throw new Re(2,4,4050);o.length&&(s=function(t){if(!e.crypto||!e.crypto.subtle)throw Y("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),new Re(2,4,4042);var n=Rn(t.node,"urn:mpeg:dash:schema:sea:2012","SegmentEncryption");if(!n)throw new Re(2,4,4051);if("urn:mpeg:dash:sea:aes128-cbc:2013"!=n.attributes.schemeIdUri)throw new Re(2,4,4051);if(n=Rn(t.node,"urn:mpeg:dash:schema:sea:2012","CryptoPeriod"),!n)throw new Re(2,4,4051);if(t=n.attributes.IV,n=Et(n.attributes.keyUriTemplate),!t||!n)throw new Re(2,4,4051);if(t=Ct(t.substr(2)),16!=t.byteLength)throw new Re(2,4,4048);return{Xi:n,iv:t}}(o[0])),(o=i.find((function(e){return"urn:mpeg:dash:mp4protection:2011"==e.cd})))&&o.encryptionScheme&&(c=o.encryptionScheme),(o=i.filter((function(e){return"urn:mpeg:dash:mp4protection:2011"==e.cd?(a=e.init||a,!1):"urn:mpeg:dash:sea:2012"!=e.cd}))).length&&(t=function(e,t,n,r,i){for(var a=[],o=(n=l(n)).next();!o.done;o=n.next()){var s=r[(o=o.value).cd];if(s){var u;if((u=Rn(o.node,"urn:microsoft:playready","pro"))&&wn(u)){u=wt(u=wn(u));var c=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);u=[{initData:Ba(u,c,new Set,0),initDataType:"cenc",keyId:o.keyId}]}else u=null;if(c=null,"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e"===o.cd){c=o;var d=i;if(0==d.size)c=null;else{var p=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]);c=[{initData:Ba(new Uint8Array([]),p,d,1),initDataType:"cenc",keyId:c.keyId}]}}u=It(s,t,o.init||e||u||c),(s=py.get(s))&&(u.licenseServerUri=s(o)),a.push(u)}}return a}(a,c,o,r,u),0==t.length&&(t=[It("",c,a)]))}if(i.length&&!s&&(n||!o.length))for(t=[],r=(n=l(Object.values(r))).next();!r.done;r=n.next())"org.w3.clearkey"!=(r=r.value)&&t.push(It(r,c,a));if(u=Array.from(u)[0]||null)for(n=(c=l(t)).next();!n.done;n=c.next())for(r=(n=l(n.value.initData)).next();!r.done;r=n.next())r.value.keyId=u;return{Jg:u,Pk:a,drmInfos:t,cf:s,Og:!0}}function cy(e){var t=Rn(e.node,"https://dashif.org/CPS","Laurl");if(t&&(t=wn(t)))return t;if((t=Rn(e.node,"urn:microsoft:playready","pro"))&&wn(t))return sy(t);if((e=Rn(e.node,"urn:mpeg:cenc:2013","pssh"))&&(e=wn(e))){t=wt(e),e=8;var n=(t=xe(t)).getUint8(e);return e+=20,0<n&&(e+=4+16*t.getUint32(e)),sy(e=En("<pro>"+(e=At(e=we(t,e+4)))+"</pro>"))}return""}function dy(e){var t=e.attributes.schemeIdUri,n=Dn(e,"urn:mpeg:cenc:2013","default_KID"),r=On(e,"urn:mpeg:cenc:2013","pssh").map(Cn),i=e.attributes.value;if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase()).includes(" "))throw new Re(2,4,4009);var a=[];try{a=r.map((function(e){return{initDataType:"cenc",initData:wt(e),keyId:null}}))}catch(e){throw new Re(2,4,4007)}return{node:e,cd:t,keyId:n,init:0<a.length?a:null,encryptionScheme:i}}var py=(new Map).set("com.apple.fps",(function(t){if("apple"===e.shakaMediaKeysPolyfill)throw new Re(2,4,4054);return(t=Rn(t.node,"https://dashif.org/CPS","Laurl"))&&(t=wn(t))?t:""})).set("com.widevine.alpha",(function(e){var t=Rn(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=wn(t))?t:(e=Rn(e.node,"urn:microsoft","laurl"))&&Et(e.attributes.licenseUrl)||""})).set("com.microsoft.playready",cy).set("com.microsoft.playready.recommendation",cy).set("com.microsoft.playready.software",cy).set("com.microsoft.playready.hardware",cy).set("org.w3.clearkey",(function(e){var t=Rn(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=wn(t))?t:(e=Rn(e.node,"http://dashif.org/guidelines/clearKey","Laurl"))&&"EME-1.0"===e.attributes.Lic_type&&e&&(e=wn(e))?e:""}));function fy(t,n,r,i,a,o){var s=(new Map).set("RepresentationID",n).set("Number",r).set("SubNumber",i).set("Bandwidth",a).set("Time",o);return t.replace(/\$(RepresentationID|Number|SubNumber|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(t,n,r,i){if("$$"==t)return"$";var a=s.get(n);if(null==a)return t;switch("RepresentationID"==n&&r&&(r=void 0),"Time"==n&&"bigint"!=typeof a&&(.2<=Math.abs(a-Math.round(a))&&Y("Calculated $Time$ values must be close to integers"),a=Math.round(a)),i){case void 0:case"d":case"i":case"u":t=a.toString();break;case"o":t=a.toString(8);break;case"x":t=a.toString(16);break;case"X":t=a.toString(16).toUpperCase();break;default:t=a.toString()}return r=e.parseInt(r,10)||1,Array(Math.max(0,r-t.length)+1).join("0")+t}))}function hy(e,t){var n=gy(e,t,"timescale"),r=1;n&&(r=Fn(n)||1);var i=(n=Fn((n=gy(e,t,"duration"))||""))?n/r:null,a=gy(e,t,"startNumber"),o=Number(gy(e,t,"presentationTimeOffset"))||0,s=jn(a||"");if(null!=a&&null!=s||(s=1),a=null,t=vy(e,t,"SegmentTimeline")){t=Sn(t,"S"),a=r,e=e.ha.duration||1/0;for(var l=s,u=[],c=-o,d=0;d<t.length;++d){var p=t[d],f=t[d+1],h=In(p,"t",jn),y=In(p,"d",jn),g=In(p,"r",Bn);if(p=In(p,"k",Bn)||0,null!=h&&(h-=o),y){if(h=null!=h?h:c,0>(g=g||0))if(f){if(null==(f=In(f,"t",jn)))break;if(h>=f)break;g=Math.ceil((f-h)/y)-1}else{if(1/0==e)break;if(h/a>=e)break;g=Math.ceil((e*a-h)/y)-1}for(0<u.length&&h!=c&&(u[u.length-1].end=h/a),f=0;f<=g;++f)c=h+y,u.push({start:h/a,end:c/a,xg:h,Jb:p,wj:u.length+l}),h=c}}a=u}return{timescale:r,He:n,Wa:i,Ld:s,hc:o/r||0,wg:o,timeline:a}}function yy(e,t){return[t(e.J),t(e.ga),t(e.qa)].filter(ti)}function gy(e,t,n){t=yy(e,t),e=null;for(var r=(t=l(t)).next();!r.done&&!(e=r.value.attributes[n]);r=t.next());return e}function vy(e,t,n){t=yy(e,t),e=null;for(var r=(t=l(t)).next();!r.done&&!(e=Pn(r.value,n));r=t.next());return e}function my(e,t,n,r,i,a){if(a=void 0===a?0:a,Dn(e,"http://www.w3.org/1999/xlink","href")){var o=function(e,t,n,r,i,a){for(var o=Dn(e,"http://www.w3.org/1999/xlink","href"),s=Dn(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",u=l(Object.keys(e.attributes)),c=u.next();!c.done;c=u.next()){var d=(c=c.value).split(":"),p=Tn("http://www.w3.org/1999/xlink");d[0]==p&&delete e.attributes[c]}if(5<=a)return Xi(new Re(2,4,4028));if("onLoad"!=s)return Xi(new Re(2,4,4027));var f=Rt([r],[o]);return i.request(0,ca(f,t)).Ha((function(r){if(!(r=kn(r.data,e.tagName)))return Xi(new Re(2,4,4001,o));for(e.children=[];r.children.length;){var s=r.children.shift();e.children.push(s)}for(var u=(s=l(Object.keys(r.attributes))).next();!u.done;u=s.next())u=u.value,e.attributes[u]=r.attributes[u];return my(e,t,n,f[0],i,a+1)}))}(e,t,n,r,i,a);return n&&(o=o.Ha(void 0,(function(){return my(e,t,n,r,i,a)}))),o}o=[];for(var s=l(An(e)),u=s.next(),c={};!u.done;c={hd:void 0},u=s.next())c.hd=u.value,"urn:mpeg:dash:resolve-to-zero:2013"==Dn(c.hd,"http://www.w3.org/1999/xlink","href")?e.children=e.children.filter(function(e){return function(t){return t!==e.hd}}(c)):"SegmentTimeline"!=c.hd.tagName&&o.push(my(c.hd,t,n,r,i,a));return ea(o).Ha((function(){return e}))}function by(e,t,n,r,i,a,o){var s,l=(new wa).R("sidx",(function(e){s=function(e,t,n,r,i,a,o){var s=[];o.reader.skip(4);var l=o.reader.S();if(0==l)throw new Re(2,3,3005);if(0==o.version)var u=o.reader.S(),c=o.reader.S();else u=o.reader.bd(),c=o.reader.bd();o.reader.skip(2);var d=o.reader.na();for(e=e+o.size+c,c=0;c<d;c++){var p=o.reader.S(),f=(2147483648&p)>>>31;p&=2147483647;var h=o.reader.S();if(o.reader.skip(4),1==f)throw new Re(2,3,3006);s.push(new fs(u/l+n,(u+h)/l+n,(function(){return a}),e,e+p-1,t,n,r,i)),u+=h,e+=p}return o.parser.stop(),s}(t,r,i,a,o,n,e)}));if(e&&l.parse(e),s)return s;throw new Re(2,3,3004)}function ky(e){this.h=xe(e),this.g=new _a(this.h,0)}function Ey(e){var t=Ty(e);if(7<t.length)throw new Re(2,3,3002);for(var n=0,r=(t=l(t)).next();!r.done;r=t.next())n=256*n+r.value;t=Ty(e);e:{for(var i=(r=l(_y)).next();!i.done;i=r.next())if(Ae(t,new Uint8Array(i.value))){r=!0;break e}r=!1}if(r)t=e.h.byteLength-e.g.Ba();else{if(8==t.length&&224&t[1])throw new Re(2,3,3001);for(i=r=0;i<t.length;i++){var a=t[i];r=0==i?a&(1<<8-t.length)-1:256*r+a}t=r}return t=e.g.Ba()+t<=e.h.byteLength?t:e.h.byteLength-e.g.Ba(),r=xe(e.h,e.g.Ba(),t),e.g.skip(t),new Ay(n,r)}function Ty(e){var t=e.g.Ba(),n=e.g.X();if(0==n)throw new Re(2,3,3002);return n=8-Math.floor(Math.log2(n)),e.g.skip(n-1),we(e.h,t,n)}ky.prototype.ta=function(){return this.g.ta()};var _y=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function Ay(e,t){this.id=e,this.g=t}function Sy(e){if(8<e.g.byteLength)throw new Re(2,3,3002);if(8==e.g.byteLength&&224&e.g.getUint8(0))throw new Re(2,3,3001);for(var t=0,n=0;n<e.g.byteLength;n++){t=256*t+e.g.getUint8(n)}return t}function wy(e){var t=new ky(e.g);if(179!=(e=Ey(t)).id)throw new Re(2,3,3013);if(e=Sy(e),183!=(t=Ey(t)).id)throw new Re(2,3,3012);t=new ky(t.g);for(var n=0;t.ta();){var r=Ey(t);if(241==r.id){n=Sy(r);break}}return{Jj:e,nj:n}}function Cy(e,t,n){if(!(t=vy(e,t,"Initialization")))return null;var r=e.J.Ua(),i=t.attributes.sourceURL;i&&(r=Rt(r,[Et(i)],e.vb())),i=0;var a=null;return(t=In(t,"range",Un))&&(i=t.start,a=t.end),(n=new ds((function(){return r}),i,a,Oy(e),null,null,n,e.ga.encrypted)).codecs=e.J.codecs,n.mimeType=e.J.mimeType,e.ha&&(n.g=e.ha.start+e.ha.duration),n}function xy(e,t,n){var r=Number(gy(e,Ry,"presentationTimeOffset"))||0,i=gy(e,Ry,"timescale"),a=1;i&&(a=Fn(i)||1);var o=r/a||0,s=Cy(e,Ry,n);!function(e,t){if(Dy(e,t),!Iy(e))throw new Re(2,4,4002)}(e,s);var l=mn(e);return{rc:function(){var e=vy(l,Ry,"RepresentationIndex"),n=l.J.Ua();return e&&(e=Et(e.attributes.sourceURL))&&(n=Rt(n,[e],l.vb())),e=Iy(l),Py(l,t,s,n,e.start,e.end,o)}}}function Py(e,t,n,r,i,a,o){var s,u,c,d,p,f,h,y,g,v,m,k,E,T,_,A,S,w;return I((function(C){if(1==C.g)return s=e.presentationTimeline,u=!e.Ob||!e.ha.$g,c=e.ha.start,d=e.ha.duration,p=e.J.mimeType.split("/")[1],h=null,y=[(f=t)(r,i,a,!1),"webm"==p?f(n.N(),n.Sa,n.wa,!0):null],f=null,b(C,Promise.all(y),2);if(g=C.h,v=g[0],m=g[1]||null,null,E=c-o,T=c,_=d?c+d:1/0,"mp4"==p)var x=by(v,i,r,n,E,T,_);else{x=v;var P=new ky(m);if(440786851!=Ey(P).id)throw new Re(2,3,3008);var R=Ey(P);if(408125543!=R.id)throw new Re(2,3,3009);P=R.g.byteOffset,R=new ky(R.g);for(var I=null;R.ta();){var D=Ey(R);if(357149030==D.id){I=D;break}}if(!I)throw new Re(2,3,3010);for(I=new ky(I.g),D=1e6,R=null;I.ta();){var O=Ey(I);if(2807729==O.id)D=Sy(O);else if(17545==O.id)if(4==O.g.byteLength)R=O.g.getFloat32(0);else{if(8!=O.g.byteLength)throw new Re(2,3,3003);R=O.g.getFloat64(0)}}if(null==R)throw new Re(2,3,3011);if(R*=I=D/1e9,475249515!=(x=Ey(new ky(x))).id)throw new Re(2,3,3007);x=function(e,t,n,r,i,a,o,s,l){function u(){return i}var c=[];e=new ky(e.g);for(var d=null,p=null;e.ta();){var f=Ey(e);if(187==f.id){var h=wy(f);h&&(f=n*h.Jj,h=t+h.nj,null!=d&&c.push(new fs(d+o,f+o,u,p,h-1,a,o,s,l)),d=f,p=h)}}return null!=d&&c.push(new fs(d+o,r+o,u,p,null,a,o,s,l)),c}(x,P,I,R,r,n,E,T,_)}for(A=l(k=x),S=A.next();!S.done;S=A.next())(w=S.value).codecs=e.J.codecs,w.mimeType=e.J.mimeType,w.bandwidth=e.bandwidth;return s.Ed(k),h=new Gl(k),u&&h.Oc(T,_,!0),C.return(h)}))}function Ry(e){return e.dd}function Iy(e){var t=vy(e,Ry,"RepresentationIndex");return e=Un((e=gy(e,Ry,"indexRange"))||""),t&&(e=In(t,"range",Un,e)),e}function Dy(e,t){var n=e.J.mimeType.split("/")[1];if(e.J.contentType!=Nt&&"mp4"!=n&&"webm"!=n)throw new Re(2,4,4006);if("webm"==n&&!t)throw new Re(2,4,4005)}function Oy(e){var t=e.J;return{bandwidth:e.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate||null,height:t.height||null,mimeType:t.mimeType,channelsCount:t.oe,pixelAspectRatio:t.pixelAspectRatio||null,width:t.width||null,label:e.ga.label||null,roles:e.roles||null,language:e.ga.language||null}}function Ly(e,t,n){var r=Cy(e,My,n),i=function(e){var t=function(e){return[e.J.Zb,e.ga.Zb,e.qa.Zb].filter(ti).map((function(e){return Sn(e,"SegmentURL")})).reduce((function(e,t){return 0<e.length?e:t})).map((function(t){return t.attributes.indexRange&&!e.Lf&&(e.Lf=!0),{cj:Et(t.attributes.media),start:(t=In(t,"mediaRange",Un,{start:0,end:null})).start,end:t.end}}))}(e);e=hy(e,My);var n=e.Ld;0==n&&(n=1);var r=0;return e.Wa?r=e.Wa*(n-1):e.timeline&&0<e.timeline.length&&(r=e.timeline[0].start),{Wa:e.Wa,startTime:r,Ld:n,hc:e.hc,timeline:e.timeline,Xc:t}}(e);if(!i.Wa&&!i.timeline&&1<i.Xc.length)throw new Re(2,4,4002);if(!i.Wa&&!e.ha.duration&&!i.timeline&&1==i.Xc.length)throw new Re(2,4,4002);if(i.timeline&&0==i.timeline.length)throw new Re(2,4,4002);var a=null,o=null;e.qa.id&&e.J.id&&(o=t.get(e.qa.id+","+e.J.id))&&(a=o.segmentIndex);var s=function(e,t,n,r,i,a,o,s,l,u){var c=r.Xc.length;r.timeline&&r.timeline.length!=r.Xc.length&&(c=Math.min(r.timeline.length,r.Xc.length));for(var d=e-r.hc,p=t?e+t:1/0,f=[],h=r.startTime,y={},g=0;g<c;y={Je:void 0,ze:void 0},g++){y.ze=r.Xc[g];var v=h;h=void 0,h=null!=r.Wa?v+r.Wa:r.timeline?r.timeline[g].end:v+t,y.Je=null,(y=new fs(e+v,e+h,function(e){return function(){return null==e.Je&&(e.Je=Rt(n(),[e.ze.cj],u())),e.Je}}(y),y.ze.start,y.ze.end,i,d,e,p,[],"",null,null,ys,a)).codecs=s,y.mimeType=o,y.bandwidth=l,f.push(y)}return f}(e.ha.start,e.ha.duration,e.J.Ua,i,r,n,e.J.mimeType,e.J.codecs,e.bandwidth,e.vb);return t=!a,a?a.Bd(s,e.presentationTimeline.pb()):a=new Gl(s),e.presentationTimeline.Ed(s),e.Ob&&e.ha.$g||a.Oc(e.ha.start,e.ha.duration?e.ha.start+e.ha.duration:1/0,t),o&&(o.segmentIndex=a),{rc:function(){return a&&0!=a.getNumReferences()||a.ke(s),Promise.resolve(a)}}}function My(e){return e.Zb}function Ny(t,n,r,i,a,o,s,u,c){c||t.J.de||(t.J.de=gy(t,Uy,"initialization"));var d=t.J.de?function(e,t){var n=e.J.de;if(n||(n=gy(e,Uy,"initialization")),!n)return null;n=Et(n);var r=e.J.originalId,i=e.bandwidth||null,a=e.J.Ua,o=e.vb;return t=new ds((function(){var e=fy(n,r,null,null,i,null);return Rt(a(),[e],o())}),0,null,Oy(e),null,null,t,e.ga.encrypted),t.codecs=e.J.codecs,t.mimeType=e.J.mimeType,e.ha&&(t.g=e.ha.start+e.ha.duration),t}(t,s):null,p=function(e){var t=hy(e,Uy),n=gy(e,Uy,"media"),r=gy(e,Uy,"index"),i=gy(e,Uy,"k"),a=0;return i&&(a=parseInt(i,10)),{He:t.He,Wa:t.Wa,timescale:t.timescale,Ld:t.Ld,hc:t.hc,wg:t.wg,timeline:t.timeline,ec:n&&Et(n),vd:r,mimeType:e.J.mimeType,codecs:e.J.codecs,bandwidth:e.bandwidth,dj:a}}(t);!function(e){var t=e.vd?1:0;if(t+=e.timeline?1:0,t+=e.Wa?1:0,0==t)throw new Re(2,4,4002);if(1!=t&&(e.vd&&(e.timeline=null),e.He=null,e.Wa=null),!e.vd&&!e.ec)throw new Re(2,4,4002)}(p);var f=mn(t);if(p.vd)return Dy(t,d),{rc:function(){var e=fy(p.vd,f.J.originalId,null,null,f.bandwidth||null,null);return e=Rt(f.J.Ua(),[e]),Py(f,n,d,e,0,null,p.hc)}};if(p.Wa)return i||"image"===t.ga.contentType||"text"===t.ga.contentType||(r=t.ha.start,i=t.qa.id,c=t.ha.duration,i=(i=null!=i&&o.get(i)||c)?r+i:1/0,t.presentationTimeline.Tf(p.Wa),t.presentationTimeline.jh(r,i)),{rc:function(){return function(t,n,r,i,a,o,s,u){function c(r){var a=r-m,s=a*v,l=n.He,c=a*l;"BigInt"in e&&c>Number.MAX_SAFE_INTEGER&&(c=BigInt(a)*BigInt(l)),a=(s+=h)+v,l=Math.min(a,p());var d=[],f=n.dj;if(f)for(var y=(l-s)/f,g={},S=0;S<f;g={Eh:void 0},S++){var w=s+y*S,C=w+y;g.Eh=S+1,(g=new fs(w,C,function(e){return function(){var t=fy(b,E,r,e.Eh,k,c);return Rt(T(),[t],_())}}(g),0,null,i,A,h,p(),[],"",null,null,ys,o)).codecs=t.J.codecs,g.mimeType=t.J.mimeType,0==u?0<S&&g.Vc():0!=S%u&&g.Vc(),d.push(g)}return(s=new fs(s,l,(function(){if(f)return[];var e=fy(b,E,r,null,k,c);return Rt(T(),[e],_())}),0,null,i,A,h,p(),d,"",null,null,ys,o,0<d.length)).codecs=t.J.codecs,s.mimeType=t.J.mimeType,s.bandwidth=t.bandwidth,s.j=a,s}function d(){var e=[Math.max(f.pb(),h),Math.min(f.cc(),p())].map((function(e){return e-h}));return e=[Math.ceil(e[0]/v),Math.ceil(e[1]/v)-1],t.J.cb&&e[1]++,e.map((function(e){return e+m}))}function p(){var e=null!=y&&a.get(y)||g;return e?h+e:1/0}var f=t.presentationTimeline,h=t.ha.start,y=t.qa.id,g=t.ha.duration,v=n.Wa,m=n.Ld,b=n.ec,k=t.bandwidth||null,E=t.J.id,T=t.J.Ua,_=t.vb,A=h-n.hc,S=d();r=t.Ob?Math.max(S[0],S[1]-r+1):S[0],s=s||S[1],S=[];for(var w=r;w<=s;++w){var C=c(w);S.push(C)}var x=new Gl(S);if(S=f.cc()<p(),w=f.U(),S||w){var P=Math.max(r,s+1);r=v,t.J.cb&&(r=.1),x.Ie(r,(function(){var e=f.pb();x.Oa(e);var t=l(d());t.next(),t=t.next().value;for(var n=[];P<=t;){var r=c(P);n.push(r),P++}return e>p()&&!n.length?null:n}))}return Promise.resolve(x)}(f,p,a,d,o,s,u,t.J.Ae)}};var h=null;i=i=null,t.qa.id&&t.J.id&&(i=t.qa.id+","+t.J.id,i=r.get(i))&&(h=i.segmentIndex);var y=t.ha.start,g=t.ha.duration?y+t.ha.duration:1/0;return h?(Fy(r=h,p,y,g,d),r.Oa(t.presentationTimeline.pb())):h=new By(p,t.J.originalId,t.bandwidth,t.J.Ua,t.vb,y,g,d,s,t.J.Ae),p.timeline&&"image"!==t.ga.contentType&&"text"!==t.ga.contentType&&t.presentationTimeline.kh(h.h?h.h.timeline:[],y),i&&t.Ob&&(i.segmentIndex=h),{rc:function(){return h instanceof By&&0==h.getNumReferences()&&Fy(h,p,y,g,d),Promise.resolve(h)}}}function Uy(e){return e.ic}function By(e,t,n,r,i,a,o,s,l,u){Gl.call(this,[]),this.h=e,this.F=t,this.B=n,this.C=r,this.H=i,this.j=a,this.l=o,this.u=s,this.A=l,this.G=u,jy(this)}function Fy(e,t,n,r,i){if(function(e,t){if(e.u!==t){e.u=t;for(var n=(e=l(e.g)).next();!n.done;n=e.next())(n=n.value)&&hs(n,t)}}(e,i),e.h){if(n=e.h.timeline,e.h.ec!==t.ec&&(e.h.ec=t.ec),n.length){var a=n[n.length-1];t=t.timeline.filter((function(e){return e.end>a.end}))}else t=t.timeline.slice();0<t.length&&e.h.timeline.push.apply(e.h.timeline,u(t)),e.l!==r&&(e.l=r)}else e.h=t,e.j=n,e.l=r;jy(e)}function jy(e){if(e.h&&!e.o){for(var t=[],n=l(e.h.timeline),r=n.next();!r.done;r=n.next())(r=r.value).start>=e.l||0>=r.end||t.push(r);e.h.timeline=t,e.Oa(e.j)}}function Hy(e,t,n,r,i,a,o,s){return e=fy(e,t,n,a,r||null,i),Rt(o(),[e],s()).map((function(e){return e.toString()}))}function Vy(e){this.o=null,this.A=e,this.G=new aa,this.i=[],this.h=null,this.m=[],this.B=null,this.F=[],this.C=300,this.l=new Map,this.j=new Map,this.g=null,this.u="UNKNOWN"}function Gy(e,t){var n,r,i,a,o,s,l;return I((function(u){return 1==u.g?(n=Rt(e.i,[Ky(e,t)]),r=ca(n,e.o.retryParameters),i=e.A.networkingEngine.request(8,r),oa(e.G,i),E(u,2),b(u,i.promise,4)):2!=u.g?(a=u.h,o=yt(a.data),1==(s=JSON.parse(o)).VERSION&&function(e,t,n){null!=e.g&&(e.g.stop(),e.g=null);var r=t["RELOAD-URI"]||n;e.g=new je((function(){Gy(e,r)})),(n=t.TTL)&&(e.C=n);e.g.da(e.C),e.m=t["PATHWAY-PRIORITY"]||[],e.F=t["PATHWAY-CLONES"]||[]}(e,s,a.uri),_(u,0)):(l=A(u))&&7001==l.code?u.return():(null!=e.g&&(e.g.stop(),e.g=null),e.g=new je((function(){Gy(e,t)})),e.g.da(e.C),void k(u))}))}function Ky(e,t){if(!e.m.length)return t;t=new se(t);var n=e.B||e.m[0],r=Math.round(e.A.getBandwidthEstimate()),i=t.g;return"DASH"==e.u?(i.add("_DASH_pathway",n),i.add("_DASH_throughput",String(r))):"HLS"==e.u&&(i.add("_HLS_pathway",n),i.add("_HLS_throughput",String(r))),Te(i)&&de(t,i),t.toString()}function zy(e,t,n,r){var i=e.l.get(t);i||(i=new Map),i.set(n,r),e.l.set(t,i)}function Wy(e,t,n){n=void 0!==n&&n,t=e.l.get(t)||new Map;for(var r=[],i=l(e.m),a=i.next(),o={};!a.done;o={Zc:void 0},a=i.next())if(o.Zc=a.value,a=t.get(o.Zc))r.push({Yf:o.Zc,location:a});else if(a=e.F.find(function(e){return function(t){return t.ek==e.Zc}}(o))){var s=t.get(a["BASE-ID"]);s&&(a["URI-REPLACEMENT"].Oh?(ue(s=new se(s),a["URI-REPLACEMENT"].Oh),r.push({Yf:o.Zc,location:s.toString()})):r.push({Yf:o.Zc,location:s}))}for(i=Date.now(),a=(o=l(e.j.keys())).next();!a.done;a=o.next())a=a.value,i>(s=e.j.get(a))&&e.j.delete(a);if(r=r.filter((function(t){for(var n=l(e.j.keys()),r=n.next();!r.done;r=n.next())if(r.value.includes(new se(t.location).nb))return!1;return!0})),r.length&&(e.B=r[0].Yf),r=r.map((function(e){return e.location})),!r.length&&e.h)for(o=(i=l(e.h.split(","))).next();!o.done;o=i.next())(o=t.get(o.value))&&(e.B=e.h,r.push(o));if(!r.length)for(i=(t=l(t.values())).next();!i.done;i=t.next())r.push(i.value);return n?r:Rt(e.i,r)}function Yy(){this.l=[],this.h=[],this.g=[],this.j=[],this.i=[],this.u=this.o=!1,this.m=new Set}function Zy(e,t){for(var n=[],r=[],i=[],a=[],o=(e=l(e)).next();!o.done;o=e.next()){var s=o.value;o=new Map(s.audioStreams.map((function(e){return[kg(e),e]})));var u=new Map(s.videoStreams.map((function(e){return[bg(e),e]}))),c=new Map(s.textStreams.map((function(e){return[Eg(e),e]})));if(s=new Map(s.imageStreams.map((function(e){return[Tg(e),e]}))),t){var d=yg(Nt);c.set(Eg(d),d),d=yg("image"),s.set(Tg(d),d)}n.push(o),r.push(u),i.push(c),a.push(s)}return{Dg:n,Mh:r,Ih:i,Yg:a}}function qy(e){var t,n,r,i,a,o,s,u,c,d,p,f,h,y,g,v,m,k,E,T,_,A,S,w,C,x,P,R,D;return I((function(I){switch(I.g){case 1:if(t=Ut,1==e.length)return I.return(e[0]);for(n=e.map((function(e){return new Map(e.filter((function(e){return e.type===t.V})).map((function(e){return[kg(e),e]})))})),r=e.map((function(e){return new Map(e.filter((function(e){return e.type===t.la})).map((function(e){return[bg(e),e]})))})),i=e.map((function(e){return new Map(e.filter((function(e){return e.type===t.za})).map((function(e){return[Eg(e),e]})))})),a=e.map((function(e){return new Map(e.filter((function(e){return e.type===t.$e})).map((function(e){return[Tg(e),e]})))})),o=l(i),s=o.next();!s.done;s=o.next())u=s.value,c=hg(t.za),u.set(Eg(c),c);for(d=l(a),p=d.next();!p.done;p=d.next())f=p.value,h=hg(t.$e),f.set(Tg(h),h);return b(I,Xy(y=new Yy,[],n,0,tg,rg,0),2);case 2:return g=I.h,b(I,Xy(y,[],r,0,tg,rg,0),3);case 3:return v=I.h,b(I,Xy(y,[],i,0,tg,rg,0),4);case 4:return m=I.h,b(I,Xy(y,[],a,0,tg,rg,0),5);case 5:if(k=I.h,E=0,v.length&&g.length)for(S=l(g),w=S.next();!w.done;w=S.next())for(C=w.value,x=l(v),P=x.next();!P.done;P=x.next())R=P.value,D=E++,R.variantIds.push(D),C.variantIds.push(D);else for(T=v.concat(g),_=l(T),A=_.next();!A.done;A=_.next())A.value.variantIds=[E++];return I.return(v.concat(g).concat(m).concat(k))}}))}function Xy(e,t,n,r,i,a,o){var s,u,c,d,p,f,h,y,g,v,m,k,E,T,_,A,S,w;return I((function(C){switch(C.g){case 1:for(s=[],u=0;u<n.length;u++)u>=r?s.push(new Set(n[u].values())):s.push(new Set);c=l(t),d=c.next();case 2:if(d.done){C.s(4);break}return p=d.value,b(C,function(e,t,n,r,i,a,o){return I((function(s){return 1==s.g?(ig(e,n,t,0<o),t.matchedStreams?t.segmentIndex?b(s,Qy(t,r+o),2):s.s(2):s.return(!1)):($y(t,r,i,a,o),s.return(!0))}))}(e,p,n,r,a,s,o),5);case 5:if(!C.h)throw new Re(2,4,4037);d=c.next(),C.s(2);break;case 4:for(f=l(s),h=f.next();!h.done;h=f.next())for(y=h.value,g=l(y),v=g.next();!v.done;v=g.next())m=v.value,(k=Jy(e,m,n,i,a,s))&&t.push(k);for(E=l(s),T=E.next();!T.done;T=E.next())for(_=T.value,A=l(_),S=A.next(),w={};!S.done;w={ng:void 0},S=A.next())if(w.ng=S.value,!mg(w.ng)&&t.some(function(t){return function(n){return sg(e,t.ng,n)}}(w)))throw new Re(2,4,4037);return C.return(t)}}))}function Qy(e,t){var n,r,i,a,o,s;return I((function(l){if(1==l.g){for(n=[],r=e.matchedStreams,i=t;i<r.length;i++)a=r[i],n.push(a.createSegmentIndex()),a.trickModeVideo&&!a.trickModeVideo.segmentIndex&&n.push(a.trickModeVideo.createSegmentIndex()),a.dependencyStream&&!a.dependencyStream.segmentIndex&&n.push(a.dependencyStream.createSegmentIndex());return b(l,Promise.all(n),2)}if(e.segmentIndex instanceof Yl)for(o=t;o<r.length;o++)(s=r[o]).segmentIndex&&e.segmentIndex.h.push(s.segmentIndex);k(l)}))}function Jy(e,t,n,r,i,a){if(mg(t))return null;var o=r(t);return ig(e,n,o),o.createSegmentIndex&&(o.createSegmentIndex=function(){return I((function(e){return o.segmentIndex?e.s(0):(o.segmentIndex=new Yl,b(e,Qy(o,0),0))}))}),o.matchedStreams&&o.matchedStreams.length?($y(o,0,i,a,0),o):null}function $y(e,t,n,r,i){var a=e.matchedStreams;for(t+=i;t<a.length;t++){var o=a[t];n(e,o);var s=!0;if("audio"==e.type&&0==li(e.language,o.language)&&(s=!1),s&&(r[t-i].delete(o),o.fullMimeTypes))for(s=(o=l(o.fullMimeTypes.values())).next();!s.done;s=o.next())e.fullMimeTypes.add(s.value)}}function eg(e){var t=Object.assign({},e);return t.originalId=null,t.createSegmentIndex=function(){return Promise.resolve()},t.closeSegmentIndex=function(){if(t.segmentIndex&&(t.segmentIndex.release(),t.segmentIndex=null),t.matchedStreams)for(var e=l(t.matchedStreams),n=e.next();!n.done;n=e.next())(n=n.value).segmentIndex&&(n.segmentIndex.release(),n.segmentIndex=null)},t.roles=t.roles.slice(),t.segmentIndex=null,t.emsgSchemeIdUris=[],t.keyIds=new Set(e.keyIds),t.closedCaptions=e.closedCaptions?new Map(e.closedCaptions):null,t.trickModeVideo=null,t.dependencyStream=null,t}function tg(e){var t=Object.assign({},e);return t.roles=t.roles.slice(),t.keyIds=new Set(e.keyIds),t.segments=[],t.variantIds=[],t.closedCaptions=e.closedCaptions?new Map(e.closedCaptions):null,t}function ng(e,t){function n(e,t){e||(e=[]);for(var n=(t=l(t)).next();!n.done;n=t.next())n=n.value,e.includes(n)||e.push(n);return e}e.roles=n(e.roles,t.roles),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=n(e.emsgSchemeIdUris,t.emsgSchemeIdUris));for(var r=l(t.keyIds),i=r.next();!i.done;i=r.next())e.keyIds.add(i.value);if(null==e.originalId?e.originalId=t.originalId:(r=t.originalId||"")&&!e.originalId.endsWith(r)&&(e.originalId+=","+r),r=Le(e.drmInfos,t.drmInfos),t.drmInfos.length&&e.drmInfos.length&&!r.length)throw new Re(2,4,4038);if(e.drmInfos=r,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),i=(r=l(t.closedCaptions)).next();!i.done;i=r.next()){var a=l(i.value);i=a.next().value,a=a.next().value,e.closedCaptions.set(i,a)}e.bandwidth&&t.bandwidth&&(e.bandwidth=Math.max(e.bandwidth,t.bandwidth)),t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=eg(t.trickModeVideo),e.trickModeVideo.matchedStreams=[],e.trickModeVideo.createSegmentIndex=function(){if(e.trickModeVideo.segmentIndex)return Promise.resolve();for(var t=new Yl,n=l(e.trickModeVideo.matchedStreams),r=n.next();!r.done;r=n.next())t.h.push(r.value.segmentIndex);return e.trickModeVideo.segmentIndex=t,Promise.resolve()}),e.trickModeVideo.matchedStreams.push(t.trickModeVideo),ng(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&(e.trickModeVideo.matchedStreams.push(t),ng(e.trickModeVideo,t)),t.dependencyStream?(e.dependencyStream||(e.dependencyStream=eg(t.dependencyStream),e.dependencyStream.matchedStreams=[],e.dependencyStream.createSegmentIndex=function(){if(e.dependencyStream.segmentIndex)return Promise.resolve();for(var t=new Yl,n=l(e.dependencyStream.matchedStreams),r=n.next();!r.done;r=n.next())t.h.push(r.value.segmentIndex);return e.dependencyStream.segmentIndex=t,Promise.resolve()}),e.dependencyStream.matchedStreams.push(t.dependencyStream),ng(e.dependencyStream,t.dependencyStream)):e.dependencyStream&&(e.dependencyStream.matchedStreams.push(t),ng(e.dependencyStream,t))}function rg(e,t){var n=e.roles;n||(n=[]);for(var r=l(t.roles),i=r.next();!i.done;i=r.next())i=i.value,n.includes(i)||n.push(i);for(e.roles=n,r=(n=l(t.keyIds)).next();!r.done;r=n.next())e.keyIds.add(r.value);if(e.encrypted=e.encrypted&&t.encrypted,e.segments.push.apply(e.segments,u(t.segments)),t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),n=(t=l(t.closedCaptions)).next();!n.done;n=t.next())n=(r=l(n.value)).next().value,r=r.next().value,e.closedCaptions.set(n,r)}function ig(e,t,n,r){r=void 0!==r&&r?n.matchedStreams:[];for(var i=(t=l(t)).next();!i.done;i=t.next()){if(!(i=ag(e,i.value,n)))return;r.push(i)}n.matchedStreams=r}function ag(e,t,n){var r={audio:kg,video:bg,text:Eg,image:Tg}[n.type],i=null,a=r(n);if(t.has(a))i=t.get(a);else{a={audio:function(t,n){return sg(e,t,n)},video:function(t,n){return sg(e,t,n)},text:lg,image:ug}[n.type];for(var o={audio:cg,video:dg,text:pg,image:fg}[n.type],s=l(t.values()),u=s.next();!u.done;u=s.next())!a(n,u=u.value)||n.fastSwitching!=u.fastSwitching||i&&!o(n,i,u)||(i=u)}return e.u&&!mg(i)&&t.delete(r(i)),i}function og(e,t){return e.mimeType==t.mimeType&&_g(e.codecs)===_g(t.codecs)}function sg(e,t,n){return!(!og(t,n)&&!e.o||t.drmInfos&&!Oe(t.drmInfos,n.drmInfos))}function lg(e,t){return!t.language||e.forced===t.forced&&0!=li(e.language,t.language)&&t.kind==e.kind}function ug(){return!0}function cg(e,t,n){var r=og(e,t),i=og(e,n);if(r&&!i)return!1;if(!r&&i)return!0;if(r=li(e.language,t.language),(i=li(e.language,n.language))>r)return!0;if(i<r)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}if(e.roles.length){if(r=t.roles.filter((function(t){return e.roles.includes(t)})),(i=n.roles.filter((function(t){return e.roles.includes(t)}))).length>r.length)return!0;if(i.length<r.length)return!1;if(n.roles.length!==t.roles.length)return n.roles.length<t.roles.length}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return!(t.primary||!n.primary)||!(t.primary&&!n.primary)&&((r=gg(e.channelsCount,t.channelsCount,n.channelsCount))==Ag||r!=wg&&((r=gg(e.audioSamplingRate,t.audioSamplingRate,n.audioSamplingRate))==Ag||r!=wg&&!(!e.bandwidth||vg(e.bandwidth,t.bandwidth,n.bandwidth)!=Ag)))}function dg(e,t,n){var r=og(e,t),i=og(e,n);if(r&&!i)return!1;if(!r&&i)return!0;if((r=gg(e.width*e.height,t.width*t.height,n.width*n.height))==Ag)return!0;if(r==wg)return!1;if(e.frameRate){if((r=gg(e.frameRate,t.frameRate,n.frameRate))==Ag)return!0;if(r==wg)return!1}return!(!e.bandwidth||vg(e.bandwidth,t.bandwidth,n.bandwidth)!=Ag)}function pg(e,t,n){var r=li(e.language,t.language),i=li(e.language,n.language);if(i>r)return!0;if(i<r)return!1;if(!t.primary&&n.primary)return!0;if(t.primary&&!n.primary)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}if(e.roles.length){if(r=t.roles.filter((function(t){return e.roles.includes(t)})),(i=n.roles.filter((function(t){return e.roles.includes(t)}))).length>r.length)return!0;if(i.length<r.length)return!1}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return n.mimeType==e.mimeType&&n.codecs==e.codecs&&(t.mimeType!=e.mimeType||t.codecs!=e.codecs)}function fg(e,t,n){return gg(e.width*e.height,t.width*t.height,n.width*n.height)==Ag}function hg(e){return{id:0,originalId:"",groupId:null,primary:!1,type:e,mimeType:"",codecs:"",language:"",originalLanguage:null,label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1,baseOriginalId:null}}function yg(e){return{id:0,originalId:"",groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Gl([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",originalLanguage:null,label:null,type:e,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null}}function gg(e,t,n){if(t==e&&e!=n)return wg;if(n==e&&e!=t)return Ag;if(t>e){if(n<=e||n-e<t-e)return Ag;if(n-e>t-e)return wg}else{if(n>e)return wg;if(e-n<e-t)return Ag;if(e-n>e-t)return wg}return Sg}function vg(e,t,n){return t=Math.abs(e-t),(e=Math.abs(e-n))<t?Ag:t<e?wg:Sg}function mg(e){switch(e.type){case Nt:return!e.language;case"image":return!e.tilesLayout;default:return!1}}function bg(e){return JSON.stringify([e.fastSwitching,e.width,e.frameRate,_g(e.codecs),e.mimeType,e.label,e.roles,e.closedCaptions?Array.from(e.closedCaptions.entries()):null,e.bandwidth,e.dependencyStream?e.dependencyStream.baseOriginalId:null,Array.from(e.keyIds)])}function kg(e){return JSON.stringify([e.fastSwitching,e.channelsCount,e.language,e.bandwidth,e.label,_g(e.codecs),e.mimeType,e.roles,e.audioSamplingRate,e.primary,e.dependencyStream?e.dependencyStream.baseOriginalId:null,Array.from(e.keyIds)])}function Eg(e){return JSON.stringify([e.language,e.label,e.codecs,e.mimeType,e.bandwidth,e.roles])}function Tg(e){return JSON.stringify([e.width,e.codecs,e.mimeType])}function _g(e){if(!Cg.has(e)){var t=Br(e);Cg.set(e,t)}return Cg.get(e)}y(By,Gl),(n=By.prototype).getNumReferences=function(){return this.h?this.h.timeline.length:0},n.release=function(){Gl.prototype.release.call(this),this.h=null},n.Oa=function(e){if(this.h){for(var t=0,n=this.h.timeline,r=0;r<n.length&&n[r].end+this.j<=e;r+=1)t+=1;0<t&&(this.h.timeline=n.slice(t),this.g.length>=t&&(this.g=this.g.slice(t)),this.i+=t,0===this.getNumReferences()&&this.release())}},n.find=function(e){if(this.h&&this.h.timeline&&this.h.timeline.length&&e<this.h.timeline[0].start+this.j)return this.i;if(!this.h)return null;var t=this.h.timeline;if(e<this.j||e>=this.l)return null;for(var n=t.length-1,r=0;r<t.length;r++){var i=t[r],a=i.start+this.j;if(i=r<n?t[r+1].start+this.j:1/0===this.l?i.end+this.j:this.l,e>=a&&e<i)return r+this.i}return null},n.get=function(e){var t=this;if(0>(e-=this.i)||e>=this.getNumReferences()||!this.h)return null;var n=this.g[e];if(!n){var r=this.h.timeline[e],i=r.wj,a=r.xg+this.h.wg;n=this.j-this.h.hc;var o=this.j+r.end,s=o;e===this.getNumReferences()-1&&1/0!==this.l&&(s=this.l);for(var l=this.h.codecs,u=this.h.mimeType,c=this.h.bandwidth,d=[],p=(r.end-r.start)/r.Jb,f={},h=0;h<r.Jb;f={Ke:void 0,Fh:void 0},h++){var y=r.start+p*h,g=y+p;f.Fh=h+1,f.Ke=null,(f=new fs(this.j+y,this.j+g,function(e){return function(){return t.h?(null==e.Ke&&(e.Ke=Hy(t.h.ec,t.F,i,t.B,a,e.Fh,t.C,t.H)),e.Ke):[]}}(f),0,null,this.u,n,this.j,this.l,[],"",null,null,ys,this.A)).codecs=l,f.mimeType=u,f.bandwidth=c,0==this.G?0<h&&f.Vc():0!=h%this.G&&f.Vc(),d.push(f)}(n=new fs(this.j+r.start,s,(function(){return 0<r.Jb||!t.h?[]:Hy(t.h.ec,t.F,i,t.B,a,null,t.C,t.H)}),0,null,this.u,n,this.j,this.l,d,"",null,null,ys,this.A,0<r.Jb)).codecs=l,n.mimeType=u,n.j=o,n.bandwidth=c,this.g[e]=n}return n},n.Eb=function(e){jy(this);for(var t=0;t<this.getNumReferences();t++){var n=this.get(t+this.i);n&&e(n)}},Vy.prototype.configure=function(e){this.o=e},Vy.prototype.destroy=function(){return this.A=this.o=null,this.i=[],this.h=null,this.m=[],this.F=[],this.l.clear(),null!=this.g&&(this.g.stop(),this.g=null),this.G.destroy()},Vy.prototype.setManifestType=function(e){this.u=e},Vy.prototype.banLocation=function(e){this.j.set(e,Date.now()+6e4)},(n=Yy.prototype).release=function(){for(var e=l(this.h.concat(this.g,this.j,this.i)),t=e.next();!t.done;t=e.next())(t=t.value).segmentIndex&&t.segmentIndex.release();this.h=[],this.g=[],this.j=[],this.i=[],this.l=[],this.u=this.o=!1,this.m.clear()},n.Ki=function(){return this.l},n.Jf=function(){return this.j.slice()},n.oi=function(){return this.i},n.Kg=function(e,t){if(e){if("audio"==e.type)for(var n=l(this.h),r=n.next();!r.done;r=n.next())(r=r.value).matchedStreams=r.matchedStreams.filter((function(t){return t!==e}));else if("video"==e.type)for(r=(n=l(this.g)).next();!r.done;r=n.next())(r=r.value).matchedStreams=r.matchedStreams.filter((function(t){return t!==e})),r.trickModeVideo&&(r.trickModeVideo.matchedStreams=r.trickModeVideo.matchedStreams.filter((function(t){return t!==e}))),r.dependencyStream&&(r.dependencyStream.matchedStreams=r.dependencyStream.matchedStreams.filter((function(t){return t!==e})));else if(e.type==Nt)for(r=(n=l(this.j)).next();!r.done;r=n.next())(r=r.value).matchedStreams=r.matchedStreams.filter((function(t){return t!==e}));else if("image"==e.type)for(r=(n=l(this.i)).next();!r.done;r=n.next())(r=r.value).matchedStreams=r.matchedStreams.filter((function(t){return t!==e}));e.segmentIndex&&e.closeSegmentIndex(),this.m.delete(t)}},n.gf=function(e,t,n){n=void 0!==n&&n;var r,i,a,o,s,u,c,d,p,f,h,y,g,v,m,E,T,_,A,S,w,C,x,P,R,D,O,L,M,N,U,B,F=this;return I((function(I){if(1==I.g){if(r=Ut,!t&&1==e.length)return i=Zy(e,!1),a=i.Dg,o=i.Mh,s=i.Ih,u=i.Yg,F.h=Array.from(a[0].values()),F.g=Array.from(o[0].values()),F.j=Array.from(s[0].values()),F.i=Array.from(u[0].values()),I.s(2);for(c=n?F.m.size:0,d=-1,p=0;p<e.length;p++)f=e[p],F.m.has(f.id)||(F.m.add(f.id),-1==d&&(d=p));return-1==d?I.return():(h=Zy(e,!0),y=h.Dg,g=h.Mh,v=h.Ih,m=h.Yg,b(I,Promise.all([Xy(F,F.h,y,d,eg,ng,c),Xy(F,F.g,g,d,eg,ng,c),Xy(F,F.j,v,d,eg,ng,c),Xy(F,F.i,m,d,eg,ng,c)]),2))}if(E=0,T=[],F.g.length&&F.h.length)for(P=l(F.h),R=P.next();!R.done;R=P.next())for(D=R.value,O=l(F.g),L=O.next();!L.done;L=O.next())M=L.value,N=Le(D.drmInfos,M.drmInfos),D.drmInfos.length&&M.drmInfos.length&&!N.length||(U=(D.bandwidth||0)+(M.bandwidth||0),D.dependencyStream&&(U+=D.dependencyStream.bandwidth||0),M.dependencyStream&&(U+=M.dependencyStream.bandwidth||0),B=E++,T.push({id:B,language:D.language,disabledUntilTime:0,primary:D.primary,audio:D,video:M,bandwidth:U,drmInfos:N,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(_=F.g.length?F.g:F.h,A=l(_),S=A.next();!S.done;S=A.next())w=S.value,C=E++,x=w.bandwidth||0,w.dependencyStream&&(x+=w.dependencyStream.bandwidth||0),T.push({id:C,language:w.language,disabledUntilTime:0,primary:w.primary,audio:w.type==r.V?w:null,video:w.type==r.la?w:null,bandwidth:x,drmInfos:w.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});F.l=T,k(I)}))},n.uh=function(e){this.o=e},n.Ah=function(e){this.u=e},F("shaka.util.PeriodCombiner",Yy),Yy.prototype.setUseStreamOnce=Yy.prototype.Ah,Yy.prototype.setAllowMultiTypeVariants=Yy.prototype.uh,Yy.prototype.combinePeriods=Yy.prototype.gf,Yy.prototype.deleteStream=Yy.prototype.Kg,Yy.prototype.getImageStreams=Yy.prototype.oi,Yy.prototype.getTextStreams=Yy.prototype.Jf,Yy.prototype.getVariants=Yy.prototype.Ki;var Ag=1,Sg=0,wg=-1,Cg=new Map;function xg(e,t){try{return function(e,t){var n=new DOMParser,r=Pg.value()(e);e=null;try{e=n.parseFromString(r,"text/xml")}catch(e){return null}if(!(n=e.documentElement)||n.getElementsByTagName("parsererror").length||n.tagName!=t)return null;if(!("createNodeIterator"in document))return n;for(t=document.createNodeIterator(e,NodeFilter.SHOW_ALL);e=t.nextNode();)if(e instanceof HTMLElement||e instanceof SVGElement)return null;return n}(vt(e),t)}catch(e){return null}}var Pg=new De((function(){if("undefined"!=typeof trustedTypes){var e=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(e){return e}});return function(t){return e.createHTML(t)}}return function(e){return e}}));function Rg(){var e=this;this.j=this.g=null,this.A=[],this.i=null,this.pa=1,this.F=[],this.l={me:"",type:"",profiles:[],Wb:null,cb:0,Ua:null,Id:0},this.u=new Map,this.o=new Map,this.B=new Map,this.ka=new Map,this.m=new Yy,this.I=0,this.oa=new V(5),this.K=new je((function(){e.H&&!e.g.continueLoadingWhenPaused&&(e.G.Ja(e.H,"timeupdate"),e.H.paused)?e.G.ma(e.H,"timeupdate",(function(){return zg(e)})):zg(e)})),this.O=new aa,this.M=null,this.C=[],this.$=1/0,this.fa=!1,this.h=null,this.L=0,this.P=!1,this.G=new J,this.H=null,this.T=!1,this.Z="",this.ea=function(){return!1},this.W=[]}function Ig(e){var t,n,r,i,a,o,s,c,d,p,f;return I((function(h){return 1==h.g?(t=4,n="MPD",r=function(e){var t=e.l.Id;if(!e.l.me||!t||!e.F.length)return[];var n=Date.now()/1e3,r=e.F.filter((function(e){return!(e=jn(e.attributes.ttl))||t+e>n})).map(Cn).filter(ti);return r.length?Rt(e.A,r):[]}(e),i=e.A,r.length?(i=r,n="Patch",t=6):1<e.A.length&&e.h&&((a=Wy(e.h,"Location",!0)).length&&(i=a)),o=ca(i,e.g.retryParameters),s=Date.now(),b(h,Jg(e,o,0,{type:t}),2)):3!=h.g?(c=h.h,e.j?(c.uri&&c.uri!=c.originalUri&&!e.A.includes(c.uri)&&e.A.unshift(c.uri),d=new se(c.uri),e.Z=d.g.toString(),b(h,function(e,t,n,r){var i,a,o,s,c,d,p,f;return I((function(h){if(1==h.g){if(i=t,(a=e.g.dash.manifestPreprocessor)!=nc){if(ne("manifest.dash.manifestPreprocessor configuration","Please Use manifest.dash.manifestPreprocessorTXml instead."),!(o=xg(i,r)))throw new Re(2,4,4001,n);a(o),i=mt(o.outerHTML)}if(!(s=kn(i,r)))throw new Re(2,4,4001,n);return(c=e.g.dash.manifestPreprocessorTXml)!=rc&&c(s),"Patch"===r?h.return(function(e,t){var n,r,i,a,o,s,c,d,p,f,h,y,g,v,m,E,T,_,A,S,w,C,x,P;return I((function(R){if(1==R.g){if(n=t.attributes.mpdId,r=In(t,"originalPublishTime",Mn),!n||n!==e.l.me||r!==e.l.Id)throw e.F=[],new Re(1,4,4052);for(i=[],a=[],o=new Set,s=l(An(t)),c=s.next();!c.done;c=s.next())if(d=c.value,p=Kn(d.attributes.sel||""),f=p[p.length-1],h=Cn(d)||"","MPD"===f.name)if("mediaPresentationDuration"===f.ac){var I=Nn(Cn(d)||"");if(null!=I){e.l.Wb=I;for(var D=l(e.u.values()),O=D.next();!O.done;O=D.next())O.value.Wb=I}}else if("type"===f.ac){for(e.i.presentationTimeline.Gc("static"==h),e.l.type=h,D=(I=l(e.u.values())).next();!D.done;D=I.next())D.value.Ob="dynamic"==h;"static"==h&&(e.I=-1)}else"publishTime"===f.ac?e.l.Id=Mn(h)||0:null===f.ac&&"add"===d.tagName&&a.push(d);else if("PatchLocation"===f.name)zn(e.F,d);else if("Period"===f.name)"add"===d.tagName?a.push(d):"remove"===d.tagName&&f.id&&Mg(e,f.id);else if("SegmentTemplate"===f.name){if((I=(D=Kn(d.attributes.sel||""))[D.length-1]).ac){D=Ng(e,D),O=Cn(d)||"";for(var L=l(D),M=L.next();!M.done;M=L.next())Yn((M=e.u.get(M.value)).J.ic,d.tagName,I.ac,O);I=D}else I=[];for(y=l(I),g=y.next();!g.done;g=y.next())v=g.value,o.add(v)}else if("SegmentTimeline"===f.name||"S"===f.name){for(I=Kn(d.attributes.sel||""),O=(D=l(I=Ng(e,I))).next();!O.done;O=D.next())zn(L=Sn(O=vy(O=e.u.get(O.value),Uy,"SegmentTimeline"),"S"),d),O.children=L;for(m=l(I),E=m.next();!E.done;E=m.next())T=E.value,o.add(T)}for(_=l(o),A=_.next();!A.done;A=_.next())S=A.value,Ug(e,S);for(w=l(a),C=w.next();!C.done;C=w.next())x=C.value,i.push.apply(i,u(Lg(e,x)));return i.length?(e.i.periodCount+=i.length,e.i.gapCount=e.L,b(R,Og(e,i,!0),2)):R.s(2)}"static"==e.l.type&&(P=e.l.Wb,e.i.presentationTimeline.bb(P||1/0)),k(R)}))}(e,s)):e.g.dash.disableXlinkProcessing?h.return(Dg(e,s,n)):(d=e.g.dash.xlinkFailGracefully,p=my(s,e.g.retryParameters,d,n,e.j.networkingEngine),oa(e.O,p),b(h,p.promise,2))}return f=h.h,h.return(Dg(e,f,n))}))}(e,c.data,c.uri,n),3)):h.return(0)):(p=Date.now(),f=(p-s)/1e3,e.oa.sample(1,f),h.return(f))}))}function Dg(e,t,n){var r,i,a,o,s,u,c,d,p,f,h,y,g,v,m,T,S,w,C,x,P,R,D,O,L,M,N,U,B,F,j,H,V,G,K,z,W,Z,q,X,Q,J,$,ee,te,ne,re,ie,ae,oe,se,le;return I((function(ue){switch(ue.g){case 1:for(e.h&&e.h.l.clear(),r=[n],i=[],a=new Map,o=Sn(t,"Location"),s=l(o),u=s.next();!u.done;u=s.next())c=u.value,d=c.attributes.serviceLocation,(p=Cn(c))&&(f=Rt(r,[p])[0],d&&(e.h?zy(e.h,"Location",d,f):a.set(d,f)),i.push(f));if(e.h?0<(h=Wy(e.h,"Location",!0)).length&&(r=e.A=h):i.length&&(r=e.A=i),e.l.me=t.attributes.id||"",e.l.Id=In(t,"publishTime",Mn)||0,e.F=Sn(t,"PatchLocation"),y=Promise.resolve(),(g=Pn(t,"ContentSteering"))&&e.j)for(v=g.attributes.defaultServiceLocation,e.h?(e.h.i=r,e.h.h=v):(e.h=new Vy(e.j),e.h.configure(e.g),e.h.setManifestType("DASH"),e.h.i=r,e.h.h=v,(m=Cn(g))&&(In(g,"queryBeforeStart",Vn,!1)?y=Gy(e.h,m):Gy(e.h,m))),T=l(a.keys()),S=T.next();!S.done;S=T.next())w=S.value,C=a.get(w),zy(e.h,"Location",w,C);if(x=Sn(t,"BaseURL"),P=!1,e.h)for(R=l(x),D=R.next();!D.done;D=R.next())O=D.value,L=O.attributes.serviceLocation,M=Cn(O),L&&M&&(zy(e.h,"BaseURL",L,M),P=!0);if(e.W=null,P&&e.h||(N=x.map(Cn),e.W=Rt(r,N)),U=function(){return e.h&&P?Wy(e.h,"BaseURL"):e.W?e.W:[]},e.l.Ua=U,B=0,x&&x.length&&(B=In(x[0],"availabilityTimeOffset",Hn)||0),e.l.cb=B,e.I=In(t,"minimumUpdatePeriod",Nn,-1),F=In(t,"availabilityStartTime",Mn),j=In(t,"timeShiftBufferDepth",Nn),H=e.g.dash.ignoreSuggestedPresentationDelay,V=null,H||(V=In(t,"suggestedPresentationDelay",Nn)),G=e.g.dash.ignoreMaxSegmentDuration,K=null,G||(K=In(t,"maxSegmentDuration",Nn)),z=t.attributes.type||"static",e.i&&e.i.presentationTimeline&&(e.T=e.i.presentationTimeline.U()&&"static"==z),e.l.type=z,e.i)for(W=e.i.presentationTimeline,Z=W.pb(),q=l(e.o.values()),X=q.next();!X.done;X=q.next())(Q=X.value).segmentIndex&&Q.segmentIndex.Oa(Z);else J=e.g.dash.ignoreMinBufferTime,$=0,J||($=In(t,"minBufferTime",Nn)||0),0,ee=null!=V?Math.min(V,j||1/0):0<e.g.defaultPresentationDelay?e.g.defaultPresentationDelay:Math.min(1.5*$,j||1/0),W=new _l(F,ee,e.g.dash.autoCorrectDrift);return W.Gc("static"==z),W.U()&&!isNaN(e.g.availabilityWindowOverride)&&(j=e.g.availabilityWindowOverride),null==j&&(j=1/0),W.Ce(j),te=t.attributes.profiles||"",e.l.profiles=te.split(","),ne={Ob:"static"!=z,presentationTimeline:W,qa:null,ha:null,ga:null,J:null,bandwidth:0,Lf:!1,cb:B,Wb:null,profiles:te.split(","),roles:null,vb:function(){return""}},b(ue,y,2);case 2:return e.L=0,re=jg(e,ne,U,t,!1),ie=re.duration,ae=re.periods,("static"!=z||e.T)&&re.Mg||W.bb(ie||1/0),e.P&&e.fa&&W.vh(e.$),W.Tf(K||1),e.P&&e.fa&&(oe=null!=V?V:e.g.defaultPresentationDelay,W.jg(oe)),e.i?(e.i.periodCount=ae.length,e.i.gapCount=e.L,b(ue,Og(e,ae,!1),4)):b(ue,e.m.gf(ae,ne.Ob),6);case 6:if(e.i={presentationTimeline:W,variants:e.m.l,textStreams:e.m.Jf(),imageStreams:e.m.i,offlineSessionIds:[],sequenceMode:e.g.dash.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"DASH",serviceDescription:Bg(t),nextUrl:Fg(t),periodCount:ae.length,gapCount:e.L,isLowLatency:e.P,startTime:null},!W.Kh()){ue.s(7);break}return se=Sn(t,"UTCTiming"),b(ue,function(e,t,n){var r,i,a,o,s,u,c,d;return I((function(p){switch(p.g){case 1:r=n.map((function(e){return{scheme:e.attributes.schemeIdUri,value:e.attributes.value}})),i=e.g.dash.clockSyncUri,!r.length&&i&&r.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:i}),a=l(r),o=a.next();case 2:if(o.done){p.s(4);break}switch(s=o.value,E(p,5),u=s.scheme,c=s.value,u){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return p.s(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return p.s(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return d=Date.parse(c),p.return(isNaN(d)?0:d-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":Y("NTP UTCTiming scheme is not supported");break;default:Y("Unrecognized scheme in UTCTiming element",u)}p.s(9);break;case 7:return b(p,Zg(e,t,c,"HEAD"),10);case 10:return p.return(p.h);case 8:return b(p,Zg(e,t,c,"GET"),11);case 11:return p.return(p.h);case 9:_(p,3);break;case 5:A(p);case 3:o=a.next(),p.s(2);break;case 4:return Y("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),p.return(0)}}))}(e,U,se),8);case 8:if(le=ue.h,!e.j)return ue.return();W.wh(le);case 7:W.ie(),e.m&&!e.i.presentationTimeline.U()&&e.m.release();case 4:e.j.makeTextStreamsForClosedCaptions(e.i),function(e){for(var t=Array.from(e.B.keys()).filter((function(t){return!e.C.includes(t)})),n=(t=l(t)).next();!n.done;n=t.next()){n=n.value;for(var r=!0,i=l(e.B.get(n)),a=i.next();!a.done;a=i.next()){a=a.value;var o=e.o.get(a);o&&(o.segmentIndex&&0!=o.segmentIndex.getNumReferences()?r=!1:(e.m&&e.m.Kg(o,n),e.o.delete(a)))}r&&e.B.delete(n)}}(e),k(ue)}}))}function Og(e,t,n){var r;return I((function(i){if(1==i.g)return b(i,e.m.gf(t,!0,n),2);e.i.variants=e.m.l,0<(r=e.m.Jf()).length&&(e.i.textStreams=r),e.i.imageStreams=e.m.i,e.j.filter(e.i),k(i)}))}function Lg(e,t){return jg(e,{Ob:"dynamic"==e.l.type,presentationTimeline:e.i.presentationTimeline,qa:null,ha:null,ga:null,J:null,bandwidth:0,Lf:!1,cb:e.l.cb,profiles:e.l.profiles,Wb:e.l.Wb,roles:null,vb:function(){return""}},e.l.Ua,t,!0).periods}function Mg(e,t){e.i.periodCount--;for(var n=l(e.u.keys()),r=n.next();!r.done;r=n.next())if((r=r.value).startsWith(t)){vy(e.u.get(r),Uy,"SegmentTimeline").children=[],Ug(e,r),e.u.delete(r)}e.C=e.C.filter((function(e){return e!==t}))}function Ng(e,t){for(var n="",r="",i=-1,a="",o=(t=l(t)).next();!o.done;o=t.next())"Period"===(o=o.value).name?n=o.id:"AdaptationSet"===o.name?(r=o.id,null!==o.position&&(i=o.position)):"Representation"===o.name&&(a=o.id);if(t=[],a)t.push(n+","+a);else if(r)for(i=l(e.u.values()),e=i.next();!e.done;e=i.next())(e=e.value).qa.id===n&&e.ga.id===r&&e.J.id&&t.push(n+","+e.J.id);else if(-1<i)for(r=l(e.u.values()),e=r.next();!e.done;e=r.next())(e=e.value).qa.id===n&&e.ga.position===i&&e.J.id&&t.push(n+","+e.J.id);return t}function Ug(e,t){var n=e.u.get(t),r=e.o.get(t);r.segmentIndex&&r.segmentIndex.Oa(e.i.presentationTimeline.pb());try{var i=Ny(n,(function(t,n,r,i){return Xg(e,t,n,r,i)}),e.o,!0,e.g.dash.initialSegmentLimit,e.ka,n.J.aesKey,null,!0);r.createSegmentIndex=function(){return I((function(e){if(1==e.g)return r.segmentIndex?e.s(0):b(e,i.rc(),3);r.segmentIndex=e.h,k(e)}))}}catch(e){if((t=n.J.contentType)!=Nt&&"application"!=t&&"image"!=t||4002!=e.code)throw e}}function Bg(e){var t=Pn(e,"ServiceDescription");if(!t)return null;if(e=Pn(t,"Latency"),t=Pn(t,"PlaybackRate"),!e&&!t)return null;var n={};return e&&("target"in e.attributes&&(n.targetLatency=parseInt(e.attributes.target,10)/1e3),"max"in e.attributes&&(n.maxLatency=parseInt(e.attributes.max,10)/1e3),"min"in e.attributes&&(n.minLatency=parseInt(e.attributes.min,10)/1e3)),t&&("max"in t.attributes&&(n.maxPlaybackRate=parseFloat(t.attributes.max)),"min"in t.attributes&&(n.minPlaybackRate=parseFloat(t.attributes.min))),n}function Fg(e){if(!(e=Sn(e,"SupplementalProperty")).length)return null;for(var t=(e=l(e)).next();!t.done;t=e.next())if("urn:mpeg:dash:chaining:2016"==(t=t.value).attributes.schemeIdUri)return t.attributes.value;return null}function jg(e,t,n,r,i){var a=t.Wb;a||(a=In(r,"mediaPresentationDuration",Nn),e.l.Wb=a);var o=0;e.i&&e.i.presentationTimeline&&e.T&&(o=e.i.presentationTimeline.Hb());var s=[],u=o;r=Sn(r,"Period");for(var c=0;c<r.length;c++){var d=r[c],p=r[c+1],f=In(d,"start",Nn,u),h=d.attributes.id,y=In(d,"duration",Nn);f=0==c&&0==f&&e.T?o:f;var g=null;if(p){var v=In(p,"start",Nn);null!=v&&(g=v-f+o)}else null!=a&&(g=a-f+o);if(v=Bt,g&&y&&Math.abs(g-y)>v&&g>y&&e.L++,null==g&&(g=y),!(null!==e.M&&null!==h&&null!==f&&f<e.M)||e.C.includes(h)||c+1==r.length){if(null!==f&&(null===e.M||f>e.M)&&(e.M=f),u=Hg(e,t,n,{start:f,duration:g,node:d,$g:null==g||!p}),s.push(u),t.qa.id&&g&&e.ka.set(t.qa.id,g),null==g){u=null;break}u=f+g}}if(i)for(n=(t=l(s)).next();!n.done;n=t.next())n=n.value.id,e.C.includes(n)||e.C.push(n);else e.C=s.map((function(e){return e.id}));return null!=a?{periods:s,duration:a+o,Mg:!1}:{periods:s,duration:u,Mg:!0}}function Hg(e,t,n,r){t.qa=Yg(e,r.node,null,n),t.ha=r,t.qa.cb=t.cb,t.qa.id||(t.qa.id="__shaka_period_"+r.start);var i=Sn(r.node,"EventStream");n=t.presentationTimeline.pb();for(var a=(i=l(i)).next();!a.done;a=i.next())qg(e,r.start,r.duration,a.value,n);for(i=(n=l(n=Sn(r.node,"SupplementalProperty"))).next();!i.done;i=n.next())"urn:mpeg:dash:urlparam:2014"==(i=i.value).attributes.schemeIdUri&&(i=Kg(e,i))&&(t.vb=i);if(n=Sn(r.node,"AdaptationSet").map((function(n,r){return Gg(e,t,r,n)})).filter(ti),t.Ob){i=[];for(var o=(a=l(n)).next();!o.done;o=a.next())for(var s=(o=l(o.value.rj)).next();!s.done;s=o.next())i.push(s.value);if(i.length!=new Set(i).size)throw new Re(2,4,4018)}for(i=new Map,o=(a=l(n)).next();!o.done;o=a.next())for(s=(o=l(o.value.ei)).next();!s.done;s=o.next()){var c=l(s.value);s=c.next().value,c=c.next().value,i.set(s,c)}if(i.size)for(a=null,s=(o=l(n)).next();!s.done;s=o.next()){c=[];for(var d=l((s=s.value).streams),p=d.next(),f={};!p.done;f={og:void 0},p=d.next())if(f.og=p.value,i.has(f.og.originalId)){a||(a=Sn(r.node,"AdaptationSet").map((function(n,r){return Gg(e,t,r,n)})).filter(ti));for(var h=(p=l(a)).next();!h.done;h=p.next())(h=h.value.streams.find(function(e){return function(t){return t.originalId==e.og.originalId}}(f)))&&(h.dependencyStream=i.get(h.originalId),c.push(h))}c.length&&s.streams.push.apply(s.streams,u(c))}if(r=n.filter((function(e){return!e.vg})),n=n.filter((function(e){return e.vg})),!e.g.disableIFrames)for(i=(n=l(n)).next();!i.done;i=n.next())for(a=(i=i.value).vg.split(" "),s=(o=l(r)).next();!s.done;s=o.next())if(s=s.value,a.includes(s.id))for(c=(s=l(s.streams)).next();!c.done;c=s.next())Mi(c.value,i.streams);if(n=Vg(e.g.disableAudio,r,"audio"),i=Vg(e.g.disableVideo,r,"video"),a=Vg(e.g.disableText,r,Nt),r=Vg(e.g.disableThumbnails,r,"image"),0===i.length&&0===n.length)throw new Re(2,4,4004);return{id:t.qa.id,audioStreams:n,videoStreams:i,textStreams:a,imageStreams:r}}function Vg(e,t,n){return e||!t.length?[]:t.reduce((function(e,t){return t.contentType!=n||e.push.apply(e,u(t.streams)),e}),[])}function Gg(t,n,r,i){function a(e){var r=e.attributes["dvb:fontFamily"];e=e.attributes["dvb:url"],r&&e&&(e=Rt(n.ga.Ua(),[e],n.vb()),t.j.addFont(r,e[0]))}function o(e){switch(e){case 1:case 5:case 6:case 7:return"srgb";case 9:return"rec2020";case 11:case 12:return"p3"}}function s(e){switch(e){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}n.ga=Yg(t,i,n.qa,null),n.ga.position=r;var c=!1,d=(r=Sn(i,"Role")).map((function(e){return e.attributes.value})).filter(ti),p=void 0,f=n.ga.contentType==Nt;f&&(p="subtitle");for(var h=(r=l(r)).next();!h.done;h=r.next()){var y=(h=h.value).attributes.schemeIdUri;if(null==y||"urn:mpeg:dash:role:2011"==y)switch(h=h.attributes.value,h){case"main":c=!0;break;case"caption":case"subtitle":p=h}}var g=Sn(i,"EssentialProperty");r=null;var v=!1;h=null,y=!1;for(var m=(g=l(g)).next();!m.done;m=g.next()){var E=(m=m.value).attributes.schemeIdUri;if("http://dashif.org/guidelines/trickmode"==E)r=m.attributes.value;else if("urn:mpeg:mpegB:cicp:TransferCharacteristics"==E)var T=s(parseInt(m.attributes.value,10));else if("urn:mpeg:mpegB:cicp:ColourPrimaries"==E)var _=o(parseInt(m.attributes.value,10));else"urn:mpeg:mpegB:cicp:MatrixCoefficients"!=E&&("urn:mpeg:dash:ssr:2023"==E&&t.g.dash.enableFastSwitching?v=!0:"urn:dvb:dash:fontdownload:2014"==E?a(m):"urn:mpeg:dash:urlparam:2014"==E&&(h=Kg(t,m))||(y=!0))}if(y)return null;var A=null;for(g=(y=l(y=Sn(i,"SupplementalProperty"))).next();!g.done;g=y.next())"http://dashif.org/guidelines/last-segment-number"==(m=(g=g.value).attributes.schemeIdUri)?A=parseInt(g.attributes.value,10)-1:"urn:mpeg:mpegB:cicp:TransferCharacteristics"==m?T=s(parseInt(g.attributes.value,10)):"urn:mpeg:mpegB:cicp:ColourPrimaries"==m?_=o(parseInt(g.attributes.value,10)):"urn:dvb:dash:fontdownload:2014"==m?a(g):"urn:mpeg:dash:urlparam:2014"==m&&(h=Kg(t,g));h&&(n.vb=h),h=Sn(i,"Accessibility");var S,w=new Map;for(y=(h=l(h)).next();!y.done;y=h.next())if(y=(g=y.value).attributes.schemeIdUri,g=g.attributes.value,"urn:scte:dash:cc:cea-608:2015"!=y||t.g.disableText)if("urn:scte:dash:cc:cea-708:2015"!=y||t.g.disableText)"urn:mpeg:dash:role:2011"==y?null!=g&&(d.push(g),"captions"==g&&(p="caption")):"urn:tva:metadata:cs:AudioPurposeCS:2007"==y&&("1"==g?S="visually impaired":"2"==g&&(S="hard of hearing"));else if(y=1,null!=g)for(m=(g=l(g.split(";"))).next();!m.done;m=g.next()){E=m.value;var C=m=void 0;E.includes("=")?(m="svc"+(E=E.split("="))[0],C=E[1].split(",")[0].split(":").pop()):(m="svc"+y,y++,C=E),w.set(m,si(C))}else w.set("svc1","und");else if(y=1,null!=g)for(E=(m=l(g=g.split(";"))).next();!E.done;E=m.next()){C=E.value;var x=E=void 0;C.includes("=")?(E=(C=C.split("="))[0].startsWith("CC")?C[0]:"CC"+C[0],x=C[1]||"und"):(E="CC"+y,2==g.length?y+=2:y++,x=C),w.set(E,si(x))}else w.set("CC1","und");var P=uy(h=Sn(i,"ContentProtection"),t.g.ignoreDrmInfo,t.g.dash.keySystemsByURI);n.ga.encrypted=0<h.length;var R=si(n.ga.language||"und"),D=n.ga.label,O=new Map;if(i=Sn(i,"Representation"),!t.g.ignoreSupplementalCodecs){for(h=[],g=(y=l(i)).next();!g.done;g=y.next())(g=Dn(m=g.value,"urn:scte:dash:scte214-extensions","supplementalCodecs"))&&((m=vn(m)).attributes.codecs=g.split(" ").join(","),m.attributes.id&&(m.attributes.supplementalId=m.attributes.id+"_supplementalCodecs"),h.push(m));i.push.apply(i,u(h))}if(h=i.map((function(r){var i=function(t,n,r,i,a,o,s,l,u,c,d,p){n.J=Yg(t,c,n.ga,null);var f=n.J.id;if(t.$=Math.min(t.$,n.J.cb),t.P=0<t.$,!function(e){var t=e.dd?1:0;return t+=e.Zb?1:0,t+=e.ic?1:0,0==t?e.contentType==Nt||"application"==e.contentType:(1!=t&&(e.dd&&(e.Zb=null),e.ic=null),!0)}(n.J))return null;var h=n.ha.start;n.bandwidth=In(c,"bandwidth",Fn)||0,n.roles=l;var y=Sn(c,"SupplementalProperty"),g=Sn(c,"EssentialProperty"),v=Sn(c,"ContentProtection");c=null;var m,E,T=g.find((function(e){return"urn:mpeg:dash:urlparam:2014"==e.attributes.schemeIdUri}));(T||(T=y.find((function(e){return"urn:mpeg:dash:urlparam:2014"==e.attributes.schemeIdUri}))))&&(c=Kg(t,T)),c&&(n.vb=c),T=n.J.contentType,c=T==Nt||"application"==T,T="image"==T,v.length&&(n.ga.encrypted=!0);try{var _=void 0;if(r.cf){var A=n.J.Ua,S=n.vb,w=ca(Rt(A(),[r.cf.Xi],S()),t.g.retryParameters);_={bitsKey:128,blockCipherMode:"CBC",iv:r.cf.iv,firstMediaSequenceNumber:0,fetchKey:function(){var n,r,i;return I((function(a){if(1==a.g)return b(a,Jg(t,w,6),2);if(3!=a.g){if(!(n=a.h).data||16!=n.data.byteLength)throw new Re(2,4,4049);return r={name:"AES-CBC"},i=_,b(a,e.crypto.subtle.importKey("raw",n.data,r,!0,["decrypt"]),3)}i.cryptoKey=a.h,_.fetchKey=void 0,k(a)}))}}}if(n.J.aesKey=_,A=function(e,n,r,i){return Xg(t,e,n,r,i)},n.J.dd)var C=xy(n,A,_);else if(n.J.Zb)C=Ly(n,t.o,_);else if(n.J.ic)C=Ny(n,A,t.o,!!t.i,t.g.dash.initialSegmentLimit,t.ka,_,p,!1);else{var x=n.ha.duration||0,P=n.J.Ua,R=n.J.mimeType,D=n.J.codecs;C={rc:function(){var e=zl(h,x,P());return e.Eb((function(e){e.mimeType=R,e.codecs=D})),Promise.resolve(e)}}}}catch(e){if((c||T)&&4002==e.code)return null;throw e}if(p=function(e,t,n,r){var i=uy(e,n,r);if(t.Og)e=1==t.drmInfos.length&&!t.drmInfos[0].keySystem,n=0==i.drmInfos.length,(0==t.drmInfos.length||e&&!n)&&(t.drmInfos=i.drmInfos),t.Og=!1;else if(0<i.drmInfos.length&&(t.drmInfos=t.drmInfos.filter((function(e){return i.drmInfos.some((function(t){return t.keySystem==e.keySystem}))})),0==t.drmInfos.length))throw new Re(2,4,4008);return i.Jg||t.Jg}(v,r,t.g.ignoreDrmInfo,t.g.dash.keySystemsByURI),p=new Set(p?[p]:[]),v=!1,y.some((function(e){return"tag:dolby.com,2018:dash:EC3_ExtensionType:2018"==e.attributes.schemeIdUri&&"JOC"==e.attributes.value}))&&(v=!0),y=!1,c&&(y=l.includes("forced_subtitle")||l.includes("forced-subtitle")),T&&((g=g.find((function(e){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(e.attributes.schemeIdUri)})))&&(m=g.attributes.value),!m))return null;c=n.J.codecs,n.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(c.includes("hvc1.2.4.L153.B0")||c.includes("hev1.2.4.L153.B0"))&&(E="PQ"),g=n.J.id?n.qa.id+","+n.J.id:"",t.F.length&&f&&t.u.set(n.qa.id+","+f,function(e){function t(e){return e?((e=mn(e)).dd=null,e.Zb=null,e.ic=qn(e.ic),e):null}return e=mn(e),e.qa=t(e.qa),e.ga=t(e.ga),e.J=t(e.J),e.ha&&(e.ha=mn(e.ha),e.ha.node=null),e}(n));var O=g&&t.o.has(g)?t.o.get(g):{id:t.pa++,originalId:n.J.id,groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){O.segmentIndex&&(O.segmentIndex.release(),O.segmentIndex=null)},segmentIndex:null,mimeType:n.J.mimeType,codecs:c,frameRate:n.J.frameRate,pixelAspectRatio:n.J.pixelAspectRatio,bandwidth:n.bandwidth,width:n.J.width,height:n.J.height,kind:i,encrypted:0<r.drmInfos.length,drmInfos:r.drmInfos,keyIds:p,language:a,originalLanguage:n.ga.language,label:o,type:n.ga.contentType,primary:s,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:n.J.emsgSchemeIdUris,roles:l,forced:y,channelsCount:n.J.oe,audioSamplingRate:n.J.audioSamplingRate,spatialAudio:v,closedCaptions:u,hdr:E,colorGamut:void 0,videoLayout:void 0,tilesLayout:m,accessibilityPurpose:d,external:!1,fastSwitching:!1,fullMimeTypes:new Set([Or(n.J.mimeType,n.J.codecs)]),isAudioMuxedInVideo:!1,baseOriginalId:null};return O.createSegmentIndex=function(){var e;return I((function(t){if(1==t.g)return O.segmentIndex?t.s(0):(e=O,b(t,C.rc(),3));e.segmentIndex=t.h,k(t)}))},g&&n.Ob&&!t.o.has(g)&&(n=n.qa.id||"",t.B.has(n)||t.B.set(n,[]),t.o.set(g,O),t.B.get(n).push(g)),O}(t,n,P,p,R,D,c,d,w,r,S,A);return i&&(i.hdr=i.hdr||T,i.colorGamut=i.colorGamut||_,i.fastSwitching=v,r=r.attributes.dependencyId)?(i.baseOriginalId=r,O.set(r,i),null):i})).filter((function(e){return!!e})),0==h.length&&0==O.size){if(r="image"==n.ga.contentType,t.g.dash.ignoreEmptyAdaptationSet||f||r)return null;throw new Re(2,4,4003)}if(!n.ga.contentType||"application"==n.ga.contentType)for(n.ga.contentType=Qg(h[0].mimeType,h[0].codecs),y=(f=l(h)).next();!y.done;y=f.next())y.value.type=n.ga.contentType;for(f=n.ga.id||"__fake__"+t.pa++,g=(y=l(h)).next();!g.done;g=y.next()){for(g=g.value,E=(m=l(P.drmInfos)).next();!E.done;E=m.next())(E=E.value).keyIds=E.keyIds&&g.keyIds?new Set([].concat(u(E.keyIds),u(g.keyIds))):E.keyIds||g.keyIds;g.groupId=f}return i=i.map((function(e){return e.attributes.supplementalId||e.attributes.id})).filter(ti),{id:f,contentType:n.ga.contentType,language:R,Qk:c,streams:h,drmInfos:P.drmInfos,vg:r,rj:i,ei:O}}function Kg(e,t){if((t=Rn(t,"urn:mpeg:dash:schema:urlparam:2014","UrlQueryInfo"))&&In(t,"useMPDUrlQuery",Vn,!1)){var n=t.attributes.queryTemplate;if(n)return function(){return"$querypart$"==n?e.Z:n.split("&").map((function(t){if("$querypart$"==t)return e.Z;var n=/\$query:(.*?)\$/g.exec(t);if(n&&2==n.length){n=n[1];var r=new ke(e.Z).get(n);if(r.length)return n+"="+r[0]}return t})).join("&")}}return null}function zg(e){var t,n;return I((function(r){switch(r.g){case 1:return t=0,E(r,2),b(r,Ig(e),4);case 4:t=r.h,_(r,3);break;case 2:if(n=A(r),e.j){if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.j.onError(n),r.return();n.severity=1,e.j.onError(n)}case 3:if(!e.j)return r.return();e.j.onManifestUpdated(),Wg(e,t),k(r)}}))}function Wg(e,t){if(!(0>e.I)){var n=e.I;0<=e.g.updatePeriod&&(n=e.g.updatePeriod),e.K.da(Math.max(n-t,G(e.oa)))}}function Yg(e,t,n,r){n=n||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,oe:null,audioSamplingRate:null,cb:0,Ae:0,encrypted:!1},r=r||n.Ua;var i,a=t.attributes.id,o=t.attributes.supplementalId,s=Sn(t,"BaseURL"),u=!1;if(e.h)for(var c=l(s),d=c.next();!d.done;d=c.next()){var p=d.value;d=p.attributes.serviceLocation,p=Cn(p),d&&p&&(zy(e.h,a,d,p),u=!0)}u&&e.h||(i=s.map(Cn)),c=t.attributes.contentType||n.contentType,d=t.attributes.mimeType||n.mimeType,p=gu([t.attributes.codecs||n.codecs]).join(",");var f=In(t,"frameRate",Gn)||n.frameRate,h=t.attributes.sar||n.pixelAspectRatio,y=function(e,t){t=t.slice();for(var n=(e=l(e)).next();!n.done;n=e.next())n=n.value.attributes.schemeIdUri,t.includes(n)||t.push(n);return t}(Sn(t,"InbandEventStream"),n.emsgSchemeIdUris),g=Sn(t,"AudioChannelConfiguration");g=function(e){for(var t=(e=l(e)).next();!t.done;t=e.next()){var n=(t=t.value).attributes.schemeIdUri;if(n&&(t=t.attributes.value))switch(n){case"urn:mpeg:dash:outputChannelPositionList:2012":return t.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(t=parseInt(t,10)))continue;return t;case"tag:dolby.com,2015:dash:audio_channel_configuration:2015":if(n=[2,1,2,2,2,2,1,2,2,1,1,1,1,2,1,1,2,2],!(t=parseInt(t,16)))continue;for(var r=0,i=0;i<n.length;i++)t&1<<i&&(r+=n[i]);if(r)return r;continue;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(n=[1,1,1,1,1,2,2,1,1,2,2,2,1,2,1,1].reverse(),!(t=parseInt(t,16)))continue;for(i=r=0;i<n.length;i++)t&1<<i&&(r+=n[i]);if(r)return r;continue;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(n=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(t=parseInt(t,10))&&0<t&&t<n.length)return n[t]}}return null}(g)||n.oe;var v=In(t,"audioSamplingRate",jn)||n.audioSamplingRate;c||(c=Qg(d,p));var m=Pn(t,"SegmentBase"),b=Pn(t,"SegmentTemplate"),k=m&&In(m,"availabilityTimeOffset",Hn)||0,E=b&&In(b,"availabilityTimeOffset",Hn)||0,T=s&&s.length&&In(s[0],"availabilityTimeOffset",Hn)||0;k=n.cb+T+k+E,E=null,(T=Pn(t,"SegmentSequenceProperties"))&&(T=Pn(T,"SAP"))&&(E=In(T,"cadence",Bn)),T=t.attributes.label;var _=Sn(t,"Label");return _&&_.length&&(wn(_=_[0])&&(T=wn(_))),{Ua:function(){return Rt(r(),s.length?e.h&&u?Wy(e.h,a):i||[]:[])},dd:m||n.dd,Zb:Pn(t,"SegmentList")||n.Zb,ic:b||n.ic,width:In(t,"width",jn)||n.width,height:In(t,"height",jn)||n.height,contentType:c,mimeType:d,codecs:p,frameRate:f,pixelAspectRatio:h,emsgSchemeIdUris:y,id:o||a,originalId:a,language:t.attributes.lang,oe:g,audioSamplingRate:v,cb:k,de:null,Ae:E||n.Ae,label:T||null,encrypted:!1}}function Zg(e,t,n,r){var i,a,o,s,l,u,c;return I((function(d){if(1==d.g)return i=[Et(n)],a=Rt(t(),i),(o=ca(a,e.g.retryParameters)).method=r,s=e.j.networkingEngine.request(4,o,{isPreload:e.ea()}),oa(e.O,s),b(d,s.promise,2);if(l=d.h,"HEAD"==r){if(!l.headers||!l.headers.date)return d.return(0);u=l.headers.date}else u=yt(l.data);return c=Date.parse(u),isNaN(c)?d.return(0):d.return(c-Date.now())}))}function qg(e,t,n,r,i){for(var a=r.attributes.schemeIdUri||"",o=r.attributes.value||"",s=In(r,"timescale",jn)||1,u=In(r,"presentationTimeOffset",jn)||0,c=(r=l(Sn(r,"Event"))).next();!c.done;c=r.next()){var d=In(c=c.value,"presentationTime",jn)||0,p=In(c,"duration",jn)||0;p=(d=Math.max((d-u)/s+t,t))+p/s,null!=n&&(d=Math.min(d,t+n),p=Math.min(p,t+n)),p<i||(c={schemeIdUri:a,value:o,startTime:d,endTime:p,id:c.attributes.id||"",timescale:s,eventElement:Zn(c),eventNode:qn(c)},e.j.onTimelineRegionAdded(c))}}function Xg(e,t,n,r,i){var a,o,s,l;return I((function(u){return 1==u.g?(a=ya,o=i?0:1,s=mu(t,n,r,e.g.retryParameters),b(u,Jg(e,s,a,{type:o}),2)):(l=u.h,u.return(l.data))}))}function Qg(e,t){return qr(t=Or(e,t))?Nt:e.split("/")[0]}function Jg(e,t,n,r){return r||(r={}),r.isPreload=e.ea(),t=e.j.networkingEngine.request(n,t,r),oa(e.O,t),t.promise}function $g(){}(n=Rg.prototype).configure=function(e,t){var n=this.j&&e.updatePeriod!=this.g.updatePeriod&&0<=e.updatePeriod;this.g=e,t&&(this.ea=t),n&&this.i&&this.i.presentationTimeline.U()&&this.K.sb(),this.h&&this.h.configure(this.g),this.m&&(this.m.uh(this.g.dash.multiTypeVariantsAllowed&&zt()),this.m.Ah(this.g.dash.useStreamOnceInPeriodFlattening))},n.start=function(e,t){var n,r=this;return I((function(i){if(1==i.g)return r.fa=t.isLowLatencyMode(),r.A=[e],r.j=t,b(i,Ig(r),2);if(n=i.h,r.j&&Wg(r,n),!r.j)throw new Re(2,7,7001);return i.return(r.i)}))},n.stop=function(){for(var e=l(this.o.values()),t=e.next();!t.done;t=e.next())(t=t.value).segmentIndex&&t.segmentIndex.release();return this.m&&this.m.release(),this.g=this.j=null,this.A=[],this.i=null,this.o.clear(),this.B.clear(),this.u.clear(),this.l={me:"",type:"",profiles:[],Wb:null,cb:0,Ua:null,Id:0},this.m=null,null!=this.K&&(this.K.stop(),this.K=null),this.h&&this.h.destroy(),this.G&&(this.G.release(),this.G=null),this.O.destroy()},n.update=function(){var e,t=this;return I((function(n){return 1==n.g?(E(n,2),b(n,Ig(t),4)):2!=n.g?_(n,0):(e=A(n),t.j&&e?(t.j.onError(e),void k(n)):n.return())}))},n.onExpirationUpdated=function(){},n.onInitialVariantChosen=function(e){if(this.i&&this.i.presentationTimeline.U()){var t=e.video||e.audio;if(t&&t.segmentIndex){e=this.i.presentationTimeline.cc();var n=t.segmentIndex.find(e);null!=n&&(t=t.segmentIndex.get(n))&&(this.I=t.endTime-e,Wg(this,0))}}},n.banLocation=function(e){this.h&&this.h.banLocation(e)},n.setMediaElement=function(e){this.H=e},F("shaka.dash.DashParser",Rg),Ao("application/dash+xml",(function(){return new Rg})),Ao("video/vnd.mpeg.dash.mpd",(function(){return new Rg})),F("shaka.dependencies",$g),$g.has=function(e){return nv.has(e)},$g.add=function(e,t){if(!tv[e])throw Error(e+" is not supported");e==ev?ne("mux.js","mux.js is no longer used in Shaka Player."):nv.set(e,(function(){return t}))};var ev="muxjs",tv={Rk:ev,ISOBoxer:"ISOBoxer"};$g.Allowed=tv;var nv=new Map([["ISOBoxer",function(){return e.ISOBoxer}]]);function rv(e,t,n){this.type=e,this.ca=t,this.segments=n||null}function iv(e,t,n,r){this.id=e,this.name=t,this.attributes=n,this.value=void 0===r?null:r}function av(e,t){return t?e.toString():(t=(new Set).add("AUDIO").add("VIDEO").add("SUBTITLES").add("PATHWAY-ID").add("GROUP-ID").add("URI"),e.toString(t))}function ov(e,t){return(e=e.attributes.filter((function(e){return e.name==t}))).length?e[0]:null}function sv(e,t,n){return(e=ov(e,t))?e.value:n||null}function lv(e,t){if(!(e=ov(e,t)))throw new Re(2,4,4023,t);return e.value}function uv(e,t,n){n=void 0===n?[]:n,this.ca=t,this.g=e,this.Jb=n}function cv(e,t){this.name=e,this.value=t}function dv(e,t){return e.filter((function(e){return e.name==t}))}function pv(e,t){return e.filter((function(e){return lv(e,"TYPE")==t}))}function fv(e,t){for(var n=(e=l(e)).next();!n.done;n=e.next())if((n=n.value).name===t)return n;return null}function hv(e,t,n){return n=void 0===n?0:n,(e=fv(e,t))?Number(e.value):n}function yv(e,t,n){return t?gv(e,[t],n):[]}function gv(e,t,n){if(!t.length)return[];var r=t;return n&&n.size&&(r=t.map((function(e){return vv(e,n)}))),Rt(e,r)}function vv(e,t){if(!t||!t.size)return e;var n=(e=String(e).replace(/%7B/g,"{").replace(/%7D/g,"}")).match(/{\$\w*}/g);if(n)for(var r=(n=l(n)).next();!r.done;r=n.next()){var i=(r=r.value).slice(2,r.length-1),a=t.get(i);if(!a)throw new Re(2,4,4039,i);e=e.replace(r,a)}return e}function mv(){this.g=0}function bv(e,t){var n=(t=(t=yt(t)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(n[0]))throw new Re(2,4,4015);t=0;for(var r=!0,i=l(n),a=i.next();!a.done;a=i.next())if(a=a.value,/^#(?!EXT)/m.test(a)||r)r=!1;else{if(a=kv(e,a),--e.g,Ev.includes(a.name)){t=1;break}"EXT-X-STREAM-INF"==a.name&&(r=!0)}for(i=[],r=!0,a=0;a<n.length;a++){var o=n[a],s=n[a+1];if(/^#(?!EXT)/m.test(o)||r)r=!1;else{if(o=kv(e,o),Tv.includes(o.name)){if(1!=t)throw new Re(2,4,4017);o=n.splice(a,n.length-a),n=[],r=[],a=[],s=null;for(var u=(o=l(o)).next();!u.done;u=o.next())u=u.value,/^(#EXT)/.test(u)?(u=kv(e,u),Ev.includes(u.name)?i.push(u):"EXT-X-MAP"==u.name?s=u:"EXT-X-PART"==u.name?a.push(u):"EXT-X-PRELOAD-HINT"==u.name?"PART"==sv(u,"TYPE")?a.push(u):"MAP"==sv(u,"TYPE")&&(u.name="EXT-X-MAP",s=u):r.push(u)):/^#(?!EXT)/m.test(u)||(u=u.trim(),s&&r.push(s),n.push(new uv(u,r,a)),r=[],a=[]);return a.length&&(s&&r.push(s),n.push(new uv("",r,a))),new rv(t,i,n)}i.push(o),"EXT-X-STREAM-INF"==o.name&&(o.attributes.push(new cv("URI",s)),r=!0)}}return new rv(t,i)}function kv(e,t){e=e.g++;var n=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!n)throw new Re(2,4,4016,t);t=n[1];var r,i=n[2];if(n=[],i){var a;(a=pn(i=new cn(i),/^([^,=]+)(?:,|$)/g))&&(r=a[1]);for(var o=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;a=pn(i,o);)n.push(new cv(a[1],a[2]||a[3])),dn(i)}return new iv(e,t,n,r)}iv.prototype.toString=function(e){var t="#"+this.name,n=this.attributes?this.attributes.filter((function(t){return!e||!e.has(t.name)})).map((function(e){return e.name+"="+(isNaN(Number(e.value))?'"'+e.value+'"':e.value)})):[];return this.value&&n.unshift(this.value),0<n.length&&(t+=":"+n.join(",")),t};var Ev="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP EXT-X-PART-INF EXT-X-DATERANGE".split(" "),Tv="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP EXT-X-GAP EXT-X-TILES".split(" ");function _v(){}function Av(e,t){try{var n=Sv(e);return Ji({uri:e,originalUri:e,data:n.data,headers:{"content-type":n.contentType},originalRequest:t})}catch(e){return Xi(e)}}function Sv(t){var n=t.split(":");if(2>n.length||"data"!=n[0])throw new Re(2,1,1004,t);if(2>(n=n.slice(1).join(":").split(",")).length)throw new Re(2,1,1004,t);var r=n[0];t=e.decodeURIComponent(n.slice(1).join(",")),n=r.split(";"),r=n[0];var i=!1;return 1<n.length&&"base64"==n[n.length-1]&&(i=!0,n.pop()),{data:i?wt(t):mt(t),contentType:r}}function wv(){var t=this;this.g=this.h=null,this.F=1,this.A=new Map,this.I=new Map,this.M=new Map,this.M.set("video",new Map),this.M.set("audio",new Map),this.M.set(Nt,new Map),this.M.set("image",new Map),this.Sb=(new Map).set("com.apple.streamingkeydelivery",(function(n,r,i){return function(t,n,r,i){var a,o,s,l,u;return I((function(c){if(1==c.g){if("video/mp2t"==r)throw new Re(2,4,4040);if("apple"===e.shakaMediaKeysPolyfill)throw new Re(2,4,4041);if(a=lv(n,"METHOD"),!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(a))return c.return(null);o="cenc","SAMPLE-AES"==a&&(o="cbcs"),s=lv(n,"URI"),l=It("com.apple.fps",o,[{initDataType:"sinf",initData:new Uint8Array(0),keyId:null}],s);var d=new se(s).nb.replace(/-/g,"").toLowerCase();return(u=32===d.length&&/^[0-9a-f]+$/.test(d)?d:null)||!i?c.s(2):b(c,ym(t,i),3)}return 2!=c.g&&(u=c.h),u&&l.keyIds.add(u),c.return(l)}))}(t,n,r,i)})).set("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",(function(e){var t=lv(e,"METHOD");if(["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)){var n="cenc";"SAMPLE-AES"==t&&(n="cbcs"),n=It("com.widevine.alpha",n,[{initDataType:"cenc",initData:t=we((t=Sv((t=lv(e,"URI")).split("?")[0])).data)}]),(e=sv(e,"KEYID"))&&n.keyIds.add(e.toLowerCase().substr(2)),e=Promise.resolve(n)}else e=Promise.resolve(null);return e})).set("com.microsoft.playready",(function(e){var t=lv(e,"METHOD");if(["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)){var n="cenc";"SAMPLE-AES"==t&&(n="cbcs"),n=It("com.microsoft.playready",n,[{initDataType:"cenc",initData:t=Ba(e=we((e=Sv((e=lv(e,"URI")).split("?")[0])).data),t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),new Set,0)}]),(e=En(["<PLAYREADY>",St(e),"</PLAYREADY>"].join("\n")))&&(n.licenseServerUri=sy(e)),n=Promise.resolve(n)}else n=Promise.resolve(null);return n})).set("urn:uuid:3d5e6d35-9b9a-41e8-b843-dd3c6e72c42c",(function(e){var t=lv(e,"METHOD");if(["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)){var n="cenc";"SAMPLE-AES"==t&&(n="cbcs"),n=It("com.huawei.wiseplay",n,[{initDataType:"cenc",initData:t=we((t=Sv((t=lv(e,"URI")).split("?")[0])).data)}]),(e=sv(e,"KEYID"))&&n.keyIds.add(e.toLowerCase().substr(2)),e=Promise.resolve(n)}else e=Promise.resolve(null);return e})),this.Na=new Set,this.i=new Map,this.l=null,this.C="",this.Ga=new mv,this.K=-1,this.ea=1/0,this.$=this.Ub=this.Ma=!1,this.B=new je((function(){t.W&&!t.g.continueLoadingWhenPaused&&(t.T.Ja(t.W,"timeupdate"),t.W.paused)?t.T.ma(t.W,"timeupdate",(function(){return um(t)})):um(t)})),this.Ea=_m,this.m=null,this.La=0,this.o=1/0,this.Fa=this.Aa=this.P=0,this.Z=new aa,this.G=new Map,this.H=new Map,this.sa=new Map,this.ka=new Map,this.L=new Map,this.oa=new Map,this.pa=new Map,this.Tb=this.fa=!1,this.Pb=new V(5),this.j=null,this.O=!0,this.ya=new Set,this.T=new J,this.u=this.W=null,this.Qb=function(){return!1}}function Cv(e,t){return cm(e)?e.M.get(t.type):t.je}function xv(e,t){var n,r,i,a,o,s,c,d,p,f,h,y,g,v,m,T,S,w,C,x,P,R,D,O,L,M,N,U,B,F,j,H,V,G,K;return I((function(I){switch(I.g){case 1:if(t.stream.isAudioMuxedInVideo)return I.return();for(n=[],r=l(t.N()),i=r.next();!i.done;i=r.next())a=i.value,o=new se(a),s=o.g,t.Td&&(0<=t.Ab&&s.add("_HLS_msn",String(t.Ab)),0<=t.Bb&&s.add("_HLS_part",String(t.Bb))),t.Ud&&s.add("_HLS_skip","YES"),Te(s)&&de(o,pe(s.toString())),n.push(o.toString());return E(I,2),b(I,lm(e,n,!0).promise,4);case 4:c=I.h,_(I,3);break;case 2:throw d=A(I),e.h&&e.h.disableStream(t.stream),d;case 3:if(!t.stream.segmentIndex)return I.return();if(1!=(p=bv(e.Ga,c.data)).type)throw new Re(2,4,4017);return(f=c.uri)==c.originalUri||t.N().includes(f)||t.ve.push(f),h=dv(p.ca,"EXT-X-DEFINE"),y=Ov(e,h,f),g=t.stream,v=Cv(e,t),b(I,Zv(e,p,g.mimeType,t.N,y),5);case 5:for(m=I.h,T=m.keyIds,S=m.drmInfos,w=m.encrypted,C=m.Bg,g.encrypted||!w||C||(g.encrypted=!0),function(e,t){return e.size===t.size&&[].concat(u(e)).every((function(e){return t.has(e)}))}(g.keyIds,T)||(g.keyIds=T,g.drmInfos=S,e.h.newDrmInfo(g)),x=rm(e,p,v,y,t.N,t.type),P=x.segments,(R=x.bandwidth)&&(g.bandwidth=R),D=eu(g),O=l(P),L=O.next();!L.done;L=O.next())(M=L.value).Y&&(M.Y.Wc=D);g.segmentIndex.Bd(P,e.l.pb()),P.length&&(N=hv(p.ca,"EXT-X-MEDIA-SEQUENCE",0),B=(U=fv(p.ca,"EXT-X-SKIP"))?Number(sv(U,"SKIPPED-SEGMENTS")):0,F=Wv(N,P),j=F.Ab,H=F.Bb,t.Ab=j+B,t.Bb=H,V=v.get(N),g.segmentIndex.Oa(V)),(G=Kl(g.segmentIndex))&&(t.Bc=G.startTime,K=P[P.length-1],t.Vb=K.endTime),fv(p.ca,"EXT-X-ENDLIST")&&(t.rd=!0),Qv(e,p),nm(e,p.ca,g.type,y,t.N),k(I)}}))}function Pv(e,t,n){n=void 0!==n&&n;for(var r=-1==e.K,i=l(t),a=i.next();!a.done;a=i.next()){var o=(a=a.value).stream.segmentIndex,s=Cv(e,a);if(o=Kl(o))for(var u=(s=l(s)).next();!u.done;u=s.next()){var c=(u=l(u.value)).next().value;if(u.next().value==o.startTime){r&&(e.K=Math.max(e.K,c)),a.qf=c;break}}}if(!(0>e.K))for(r=(t=l(t)).next();!r.done;r=t.next())(Kv(e,(r=r.value).type)||n)&&(i=r.stream.segmentIndex)&&(0<(a=e.K-r.qf)&&(i.g.splice(0,a),i=Kl(i))&&(i=-i.startTime,r.stream.segmentIndex.offset(i),Rv(e,r,i)))}function Rv(e,t,n){if(!(.001>Math.abs(n))){t.Bc+=n,t.Vb+=n;for(var r=l(e=Cv(e,t)),i=r.next();!i.done;i=r.next()){var a=l(i.value);i=a.next().value,a=a.next().value,e.set(i,a+n)}t.N()}}function Iv(e,t,n){var r,i,a,o,s;return I((function(l){switch(l.g){case 1:return t?(r=ya,i=mu(t.N(),t.uc(),t.tc(),e.g.retryParameters),b(l,pm(e,i,r,{type:t instanceof fs?1:0}).promise,2)):l.return({mimeType:null,data:null});case 2:if(a=l.h,o=a.data,!t.aesKey){l.s(3);break}return b(l,vu(o,t.aesKey,n),4);case 4:o=l.h;case 3:return t instanceof fs?t.Kd(o,!0):t.Kd(o),(s=a.headers["content-type"])&&(s=s.split(";")[0].toLowerCase()),l.return({mimeType:s,data:o})}}))}function Dv(e){if(cm(e)){if(e.Ea==Sm){for(var t=1/0,n=1/0,r=l(e.i.values()),i=r.next();!i.done;i=r.next())(i=i.value).stream.segmentIndex&&"text"!=i.stream.type&&!i.stream.isAudioMuxedInVideo&&(t=Math.min(t,i.Vb),n=Math.min(n,i.Bc));t=t-n||0,isNaN(e.g.availabilityWindowOverride)||(t=e.g.availabilityWindowOverride),e.l.Ce(t)}}else e.l.bb(Hv(e));if(!e.l.u)for(n=(t=l(e.i.values())).next();!n.done;n=t.next())!(n=n.value).stream.segmentIndex||"audio"!=n.type&&"video"!=n.type||(n=Kl(n.stream.segmentIndex))&&n.h&&e.l.xh(n.h);e.l.ie()}function Ov(e,t,n){n=new se(n).g;for(var r=new Map,i=(t=l(t)).next();!i.done;i=t.next()){var a=i.value,o=sv(a,"NAME"),s=sv(a,"VALUE");i=sv(a,"QUERYPARAM"),a=sv(a,"IMPORT"),o&&s&&(r.has(o)||r.set(o,s)),i&&(o=n.get(i)[0])&&!r.has(o)&&r.set(i,o),a&&(i=e.A.get(a))&&r.set(a,i)}return r}function Lv(e){var t=new Set([Or(e.mimeType,e.codecs)]);e.segmentIndex&&e.segmentIndex.Eb((function(n){n.mimeType&&t.add(Or(n.mimeType,e.codecs))})),e.fullMimeTypes=t}function Mv(e,t,n){for(var r={audio:[],video:[]},i=new Map,a=[],o=!1,s=!1,c=l(t),d=c.next();!d.done;d=c.next()){var p=d.value;d=sv(p,"AUDIO");var f=sv(p,"VIDEO"),h=d||f;h&&(a.includes(h)||a.push(h),(p=sv(p,"PATHWAY-ID"))&&i.set(h,p),d?o=!0:f&&(s=!0))}a.length&&n.length&&function(e,t,n){t=t.filter((function(e){var t=sv(e,"URI")||"";return"SUBTITLES"!=(e=sv(e,"TYPE"))&&(""!=t||"AUDIO"==e)}));for(var r={},i=(t=l(t)).next();!i.done;i=t.next()){var a=av(i=i.value,!e.j);r[a]?r[a].push(i):r[a]=[i]}for(var o in r)Bv(e,r[o],n,!1)}(e,n=n.filter((function(e){return a.includes(lv(e,"GROUP-ID"))})),i),n=(i=a.sort().join(","))&&e.I.has(i)?e.I.get(i):[],o?r.audio.push.apply(r.audio,u(n)):s&&r.video.push.apply(r.video,u(n)),o=!1;var y=t.map((function(e){return lv(e,"URI")}));return d=r.audio.find((function(e){return e&&e.N().find((function(e){return y.includes(e)}))})),n=Lt("video",s=Nv(e,t[0])),(c=Lt("audio",s))&&!n?(d="audio",o=0<r.audio.length):!r.audio.length&&!r.video.length&&c&&n?(d="video",s=[[n,c].join()]):r.audio.length&&d?(d="audio",o=!0):d=r.video.length&&!r.audio.length?"audio":"video",o||(e=function(e,t,n,r){for(var i=e.F++,a=[],o=l(t),s=o.next();!s.done;s=o.next()){var u=s.value;s=lv(u,"URI"),u=sv(u,"PATHWAY-ID"),e.j&&u&&zy(e.j,i,u,s),a.push(s)}if(o=a.sort().join(",")+n.sort().join(","),e.i.has(o))return e.i.get(o);s=a.join(",");e:{if(t=sv(t[0],"CLOSED-CAPTIONS"),"video"==r){if(e.g.disableText){e.O=!1,t=null;break e}if(t){if("NONE"!=t){t=e.G.get(t);break e}e.O=!1}else if(!t&&e.G.size)for(t=l(e.G.keys()).next();!t.done;){t=e.G.get(t.value);break e}}t=null}return n=Ot(r,n),r=jv(e,i,a,n,r,null,!1,s,null,t,null,!1,null,!1),e.i.set(o,r),r}(e,t,s,d),i&&(e.stream.groupId=i),r[e.stream.type]=[e]),r}function Nv(e,t){return t=sv(t,"CODECS")||"",e.$=0<t.length,e.$||e.g.hls.disableCodecGuessing||(t=[],e.g.disableVideo||t.push(e.g.hls.defaultVideoCodec),e.g.disableAudio||t.push(e.g.hls.defaultAudioCodec),t=t.join(",")),gu(t.split(/\s*,\s*/))}function Uv(e,t,n,r,i,a,o,s,u,c,d,p){for(var f=l(n),h=f.next();!h.done;h=f.next())sm(h.value.stream,i,a,o,s,u,null);for(i=e.g.disableAudio,t.length&&!i||(t=[null]),i=e.g.disableVideo,n.length&&!i||(n=[null]),i=[],a=(t=l(t)).next();!a.done;a=t.next())for(a=a.value,s=(o=l(n)).next();!s.done;s=o.next()){var y=s.value;(s=a?a.stream:null)&&(s.drmInfos=c,s.keyIds=d),(u=y?y.stream:null)&&(u.drmInfos=c,u.keyIds=d,e.g.disableIFrames||Mi(u,p)),u&&!s&&(u.bandwidth=r),!u&&s&&(s.bandwidth=r),f=a?a.stream.drmInfos:null,h=y?y.stream.drmInfos:null,y=y?y.N().sort().join(","):"";var g=a?a.N().sort().join(","):"",v=[];s&&s.codecs&&v.push(s.codecs),u&&u.codecs&&v.push(u.codecs),y=[y,g,v.sort()].join("-"),s&&u&&!Oe(f,h)||e.Na.has(y)||(s={id:e.F++,language:s?s.language:"und",disabledUntilTime:0,primary:!!s&&s.primary||!!u&&u.primary,audio:s,video:u,bandwidth:r,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},i.push(s),e.Na.add(y))}return i}function Bv(e,t,n,r){r=void 0===r||r;for(var i=[],a=[],o=new Map,s=l(t),u=s.next();!u.done;u=s.next()){var c=u.value;u=r?lv(c,"URI"):sv(c,"URI")||"shaka://hls-muxed",c=lv(c,"GROUP-ID"),i.push(u),a.push(c),o.set(c,u)}if(r=a.sort().join(","),u=t[0],t="","subtitles"==(s=lv(u,"TYPE").toLowerCase())&&(s=Nt),s==Nt)t=sv(u,"CODECS")||"";else for(c=(a=l(a)).next();!c.done;c=a.next())if(c=c.value,e.H.has(c)){t=e.H.get(c);break}if(a=i.sort().join(","),e.i.has(a))return e.i.get(a);if(c=e.F++,e.j)for(var d=(o=l(o)).next();!d.done;d=o.next()){var p=l(d.value);d=p.next().value,p=p.next().value,(d=n.get(d))&&zy(e.j,c,d,p)}var f;return n=sv(u,"LANGUAGE"),o=sv(u,"NAME"),d="YES"==sv(u,"DEFAULT"),p="audio"==s&&(p=sv(u,"CHANNELS"))?parseInt(p.split("/")[0],10):null,"audio"==s&&(f=sv(u,"CHANNELS"))?f=2==(f=f.split("/")).length&&("JOC"===f[1]||f[1].includes("ATMOS")):f=!1,(i=jv(e,c,i,t,s,n,d,o,p,null,sv(u,"CHARACTERISTICS"),"YES"==sv(u,"FORCED"),u="audio"==s&&(u=sv(u,"SAMPLE-RATE"))?parseInt(u,10):null,f)).stream&&(i.stream.groupId=r),e.I.has(r)?e.I.get(r).push(i):e.I.set(r,[i]),e.i.set(a,i),i}function Fv(e,t){var n="video",r=lv(t,"URI"),i=sv(t,"CODECS")||"";if("mjpg"==i&&(n="image"),e.i.has(r))return e.i.get(r);var a=sv(t,"LANGUAGE"),o=sv(t,"NAME"),s=sv(t,"CHARACTERISTICS");return n=jv(e,e.F++,[r],i,n,a,!1,o,null,null,s,!1,null,!1),a=l((i=sv(t,"RESOLUTION"))?i.split("x"):[null,null]),i=a.next().value,a=a.next().value,n.stream.width=Number(i)||void 0,n.stream.height=Number(a)||void 0,(t=sv(t,"BANDWIDTH"))&&(n.stream.bandwidth=Number(t)),e.i.set(r,n),n}function jv(e,t,n,r,i,a,o,s,u,c,d,p,f,h){function y(t){var n,y,m,S,w,C,x,P,R,D,O,L,M,N,U,B,F,j,H,V,G;return I((function(I){switch(I.g){case 1:return n=Ut,E(I,2),b(I,t.promise,4);case 4:if(y=I.h,t.aborted)return I.return();if((m=y.uri)!=y.originalUri&&(T.N().includes(m)||T.ve.push(m)),1!=(S=bv(e.Ga,y.data)).type)throw new Re(2,4,4017);return w=dv(S.ca,"EXT-X-DEFINE"),C=Ov(e,w,m),x=!1,(!e.$&&e.g.hls.disableCodecGuessing||e.O&&i==n.la&&!e.g.hls.disableClosedCaptionsDetection)&&0<S.segments.length&&(e.O=!1,x=!0),P=!e.$&&e.g.hls.disableCodecGuessing,R=cm(e),b(I,zv(e,0,C,S,g,r,i,a,o,s,u,c,d,p,f,h,void 0,x,P),5);case 5:if(D=I.h,t.aborted)return I.return();if(O=D.stream,Xv(e,S),cm(e)&&!R&&Jv(e,S),T.Bc=D.Bc,T.Vb=D.Vb,T.Ud=D.Ud,T.Td=D.Td,T.rd=D.rd,T.je=D.je,T.Ab=D.Ab,T.Bb=D.Bb,T.Rf=!0,v.segmentIndex=O.segmentIndex,v.encrypted=O.encrypted,v.drmInfos=O.drmInfos,v.keyIds=O.keyIds,v.mimeType=O.mimeType,v.bandwidth=v.bandwidth||O.bandwidth,v.codecs=v.codecs||O.codecs,v.closedCaptions=v.closedCaptions||O.closedCaptions,v.width=v.width||O.width,v.height=v.height||O.height,v.hdr=v.hdr||O.hdr,v.colorGamut=v.colorGamut||O.colorGamut,v.frameRate=v.frameRate||O.frameRate,"und"==v.language&&"und"!=O.language&&(v.language=O.language),v.language=v.language||O.language,v.channelsCount=v.channelsCount||O.channelsCount,v.audioSamplingRate=v.audioSamplingRate||O.audioSamplingRate,Lv(v),v.drmInfos.length&&e.h.newDrmInfo(v),L=!1,(!c&&v.closedCaptions||c&&v.closedCaptions&&c.size!=v.closedCaptions.size)&&(L=!0),e.m&&L&&e.h.makeTextStreamsForClosedCaptions(e.m),i==n.la||i==n.V)for(M=l(e.i.values()),N=M.next();!N.done;N=M.next())(U=N.value).Rf||U.type!=i||(U.stream.mimeType=O.mimeType,Lv(U.stream));i==n.za&&(B=Kl(O.segmentIndex))&&B.Y&&(v.mimeType="application/mp4",Lv(v)),F=eu(v),v.segmentIndex.Eb((function(e){e.Y&&(e.Y.Wc=F)})),function(e){if(!e.m)return!1;for(var t=[],n=[],r=(e=l(e.m.variants)).next();!r.done;r=e.next())(r=r.value).video&&t.push(r.video),r.audio&&n.push(r.audio);return!(0<t.length&&!t.some((function(e){return e.segmentIndex}))||0<n.length&&!n.some((function(e){return e.segmentIndex})))}(e)&&(e.Ub?Gv(e,[T]):(e.Ub=!0,j=Array.from(e.i.values()),H=j.filter((function(e){return e.stream.segmentIndex})),Gv(e,H),Dv(e),0<(V=e.o)&&e.B.da(V))),nm(e,S.ca,v.type,C,g),e.m&&(e.m.startTime=e.u),_(I,0);break;case 2:if(G=A(I),v.closeSegmentIndex(),7001===G.code)return I.return();if(!e.h.disableStream(v))throw G;k(I)}}))}function g(){return e.j&&1<n.length?Wy(e.j,t):T.ve.concat(gv([e.C],n,e.A))}var v=Yv(e,r,i,a,o,s,u,c,d,p,f,h);n.includes("shaka://hls-muxed")&&(v.isAudioMuxedInVideo=!0,v.mimeType="video/mp2t",Lv(v));var m,T={stream:v,type:i,ve:[],Bc:0,Vb:0,je:new Map,Ud:!1,Td:!1,rd:!1,qf:-1,Ab:-1,Bb:-1,Rf:!1,N:g},S=null;return v.createSegmentIndex=function(){return S||(v.isAudioMuxedInVideo?(v.segmentIndex=new Gl([]),Promise.resolve()):(m=lm(e,T.N(),!0),S=new Promise((function(e){e(y(m))}))))},v.closeSegmentIndex=function(){S&&!v.segmentIndex&&m.abort(),v.segmentIndex&&(v.segmentIndex.release(),v.segmentIndex=null),S=null},T}function Hv(e){for(var t=1/0,n=(e=l(e.i.values())).next();!n.done;n=e.next())(n=n.value).stream.segmentIndex&&"text"!=n.stream.type&&!n.stream.isAudioMuxedInVideo&&(t=Math.min(t,n.Vb));return t}function Vv(e,t){for(var n=[],r=(t=l(t)).next();!r.done;r=t.next())(r=r.value).segmentIndex&&r.segmentIndex.Eb((function(e){n.push(e)}));e.l.Ed(n)}function Gv(e,t){if(!cm(e))for(var n=Hv(e),r=l(t),i=r.next();!i.done;i=r.next())i.value.stream.segmentIndex.Oc(0,n);Vv(e,t.map((function(e){return e.stream}))),n=(r=Array.from(e.i.values()).filter((function(e){return e.stream.segmentIndex}))).some((function(e){return"audio"==e.stream.type})),i=r.some((function(e){return"video"==e.stream.type})),r=cm(e)&&!e.Ma,n=!cm(e)&&e.Ma&&!(n&&i),e.g.hls.ignoreManifestProgramDateTime||r||n?Pv(e,t,r):(function(e,t){if(1/0==e.ea)for(var n=(t=l(t)).next();!n.done;n=t.next())null!=(n=Kl(n.value.stream.segmentIndex))&&null!=n.h&&(e.ea=Math.min(e.ea,n.h));if(1/0!=(t=e.ea))for(var r=(n=l(e.i.values())).next();!r.done;r=n.next())if(!Kv(e,(r=r.value).type)){var i=r.stream.segmentIndex;if(null!=i){var a=Kl(i);if(a)if(null==a.h)W("Missing EXT-X-PROGRAM-DATE-TIME for stream",r.N(),"Expect AV sync issues!");else for(Rv(e,r,a.h-t-a.startTime),i=(r=l(i)).next();!i.done;i=r.next())i.value.qg(t)}}}(e,t),0<e.g.hls.ignoreManifestProgramDateTimeForTypes.length&&Pv(e,t))}function Kv(e,t){return!!e.g.hls.ignoreManifestProgramDateTime||e.g.hls.ignoreManifestProgramDateTimeForTypes.includes(t)}function zv(e,t,n,r,i,a,o,s,u,c,d,p,f,h,y,g,v,m,k){var T,S,w,C,x,P,R,D,O,L,M,N,U,B,F,j,H,V,G,K,z,W,Y,Z,q,X,Q,J,$;return m=void 0===m||m,k=void 0===k||k,I((function(t){switch(t.g){case 1:if(T=r.segments||[],S=T.every((function(e){return!!fv(e.ca,"EXT-X-GAP")})),!T.length||S)throw new Re(2,4,4053);if(function(e,t){var n=fv(t.ca,"EXT-X-PLAYLIST-TYPE");t=fv(t.ca,"EXT-X-ENDLIST"),t=n&&"VOD"==n.value||t,n=n&&"EVENT"==n.value&&!t,n=!t&&!n,dm(e,t?_m:n?Sm:Am)}(e,r),cm(e)&&Qv(e,r),w=cm(e)?e.M.get(o):new Map,C=rm(e,r,w,n,i,o),x=C.segments,P=C.bandwidth,M=L=O=D=R=null,!(0<x.length&&m)){t.s(2);break}return b(t,function(e,t){var n,r,i,a,o,s,u,c,d,p,f,h,y,g,v,m,k;return I((function(E){if(1==E.g)return n=hu(e.g.hls.mediaPlaylistFullMimeType),t.length?(r=om(e,t),i=r.segment,a=r.segmentIndex,o=i.N(),s=o[0],u=new se(s),c=u.ab.split(".").pop(),(d=gm.get(c))?E.return(hu(d)):b(E,Promise.all([Iv(e,i.Y,0),Iv(e,i,a)]),2)):E.return(n);if(p=E.h,f=p[1].mimeType,h=p[0].data,y=p[1].data,g="mp4 mp4a m4s m4i m4a m4f cmfa mp4v m4v cmfv fmp4".split(" "),v=["audio/mp4","video/mp4","video/iso.segment"],Zs(we(y))){var T=y,_=e.g.disableAudio,A=e.g.disableVideo,S=e.g.disableText,w=we(T),C=(new Ks).parse(w),x=C.od();w=C.Kf();var P=[],R=!1,I=!1;if(!_)switch(x.audio){case"aac":case"aac-loas":C.fb().length&&(P.push("mp4a.40.2"),R=!0);break;case"mp3":C.fb().length&&(P.push("mp4a.40.34"),R=!0);break;case"ac3":C.fb().length&&(P.push("ac-3"),R=!0);break;case"ec3":C.fb().length&&(P.push("ec-3"),R=!0);break;case"opus":C.fb().length&&(P.push("opus"),R=!0)}if(!A)switch(x.video){case"avc":w.codec?P.push(w.codec):P.push("avc1.42E01E"),I=!0;break;case"hvc":w.codec?P.push(w.codec):P.push("hvc1.1.6.L93.90"),I=!0;break;case"av1":P.push("av01.0.01M.08"),I=!0}if(P.length){if(_=R&&!I,A=new Map,I&&!S){for((S=new Qt("video/mp2t")).i(T),I=(T=l(S.j())).next();!I.done;I=T.next())I=I.value,A.set(I,I);S.g()}w={type:_?"audio":"video",mimeType:"video/mp2t",codecs:P.join(", "),language:null,height:w.height,width:w.width,channelCount:null,sampleRate:null,closedCaptions:A,Nd:null,colorGamut:null,frameRate:w.frameRate}}else w=null;if(m=w)return E.return(m)}else if((i.Y||g.includes(c)||v.includes(f))&&(k=yu(h,y,e.g.disableText)))return E.return(k);return f?E.return(hu(f)):E.return(n)}))}(e,x),3);case 3:N=t.h,o=N.type,s=N.language,d=N.channelCount,y=N.sampleRate,e.g.disableText||(p=N.closedCaptions),D=N.height,R=N.width,O=N.Nd,L=N.colorGamut,M=N.frameRate,k&&(v=N.mimeType,a=N.codecs);case 2:if(v){t.s(4);break}return b(t,function(e,t,n,r){var i,a,o,s,l,u,c,d,p,f,h,y,g;return I((function(v){switch(v.g){case 1:return i=ya,a=om(e,r),2==(o=a.segment).status?v.return(am(t)):(s=o.N(),l=new se(s[0]),u=l.ab.split(".").pop(),c=Em.get(t),(d=c.get(u))||(d=gm.get(u))||(d=im(t,n))?v.return(d):(f=1,h=ca(s,e.g.retryParameters),E(v,2),h.method="HEAD",b(v,pm(e,h,i,{type:f}).promise,4)));case 4:y=v.h,p=y.headers["content-type"],_(v,3);break;case 2:if(!(g=A(v))||1002!=g.code&&1001!=g.code){v.s(3);break}return h.method="GET",e.g.hls.allowRangeRequestsToGuessMimeType&&(h.headers.Range="bytes=0-0"),b(v,pm(e,h,i,{type:f}).promise,6);case 6:y=v.h,p=y.headers["content-type"];case 3:if(!p){v.s(7);break}if("application/octet-stream"!=(d=p.toLowerCase().split(";")[0])){v.s(8);break}if(y.data.byteLength){v.s(9);break}return h.method="GET",b(v,pm(e,h,i,{type:f}).promise,10);case 10:y=v.h;case 9:Zs(we(y.data))&&(d="video/mp2t");case 8:if("application/octet-stream"!=d)return v.return(d);case 7:return v.return(am(t))}}))}(e,o,a,x),5);case 5:v=t.h,o!=Nt||a||"application/mp4"!=v||!x[0]||x[0].Y||(v="text/vtt");case 4:return b(t,Zv(e,r,v,i,n),6);case 6:if(U=t.h,B=U.drmInfos,F=U.keyIds,j=U.encrypted,H=U.Bg,j&&!B.length&&!H)throw new Re(2,4,4026);return(V=Yv(e,a,o,s,u,c,d,p,f,h,y,g)).encrypted=j&&!H,V.drmInfos=B,V.keyIds=F,V.mimeType=v,P&&(V.bandwidth=P),Lv(V),"video"==o&&(R||D||O||L)&&sm(V,R,D,M,O,null,L),cm(e)&&Qv(e,r),G=x[0].startTime,K=x[x.length-1],z=K.endTime,W=new Gl(x),V.segmentIndex=W,Z=!!(Y=fv(r.ca,"EXT-X-SERVER-CONTROL"))&&null!=ov(Y,"CAN-SKIP-UNTIL"),q=!!Y&&null!=ov(Y,"CAN-BLOCK-RELOAD"),X=hv(r.ca,"EXT-X-MEDIA-SEQUENCE",0),Q=Wv(X,x),J=Q.Ab,$=Q.Bb,t.return({stream:V,type:o,ve:[],N:i,Bc:G,Vb:z,Ud:Z,Td:q,rd:!1,qf:-1,Ab:J,Bb:$,je:w,Rf:!1})}}))}function Wv(e,t){e=e+t.length-1;var n=-1;if(!t.length)return{Ab:++e,Bb:n};var r=(t=t[t.length-1]).g;return t.g.length?(n=r.length-1,r[r.length-1].isPreload()||(e++,n=0),{Ab:e,Bb:n}):(e++,t.m&&(n=0),{Ab:e,Bb:n})}function Yv(e,t,n,r,i,a,o,s,u,c,d,p){var f=im(n,t)||am(n),h=[];if(u)for(var y=(u=l(u.split(","))).next();!y.done;y=u.next())h.push(y.value);return u=void 0,y=null,n==Nt?u=h.includes("public.accessibility.transcribes-spoken-dialog")&&h.includes("public.accessibility.describes-music-and-sound")?"caption":"subtitle":h.includes("public.accessibility.describes-video")&&(y="visually impaired"),h.length||"subtitle"!==u||h.push("subtitle"),Lv(e={id:e.F++,originalId:a,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:f,codecs:t,kind:n==Nt?"subtitle":void 0,encrypted:!1,drmInfos:[],keyIds:new Set,language:si(r||"und"),originalLanguage:r,label:a,type:n,primary:i,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:h,forced:c,channelsCount:o,audioSamplingRate:d,spatialAudio:p,closedCaptions:s,hdr:void 0,colorGamut:void 0,videoLayout:void 0,tilesLayout:void 0,accessibilityPurpose:y,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null}),e}function Zv(e,t,n,r,i){var a,o,s,u,c,d,p,f,h,y,g,v,m,k,E,T,_,A,S,w,C,x,P,R,D,O,L,M,N;return I((function(I){switch(I.g){case 1:if(a=new Map,!e.g.ignoreDrmInfo&&t.segments)for(o=l(t.segments),s=o.next();!s.done;s=o.next())if(u=s.value,c=dv(u.ca,"EXT-X-KEY"),d=null,c.length)for(d=$v(e,t,u.ca,r,i),p=l(c),f=p.next();!f.done;f=p.next())h=f.value,a.set(h,d);g=y=!1,v=[],m=new Set,k=l(a),E=k.next();case 2:if(E.done){I.s(4);break}if(T=E.value,_=l(T),A=_.next().value,S=_.next().value,C=S,"NONE"==(x=lv(w=A,"METHOD"))){I.s(3);break}if(y=!0,P=sv(w,"KEYFORMAT")||"identity",R=null,fm(x)){g=!0,I.s(3);break}if("identity"==P)return b(I,hm(e,w,n,r,C,i),11);if(!(D=e.Sb.get(P))){O=null,I.s(9);break}return b(I,D(w,n,C),10);case 10:O=I.h;case 9:R=O,I.s(6);break;case 11:R=I.h;case 6:if(R){if(R.keyIds)for(L=l(R.keyIds),M=L.next();!M.done;M=L.next())N=M.value,m.add(N);v.push(R)}case 3:E=k.next(),I.s(2);break;case 4:return I.return({drmInfos:v,keyIds:m,encrypted:y,Bg:g})}}))}function qv(t,n,r,i,a){if(!e.crypto||!e.crypto.subtle)throw Y("Web Crypto API is not available to decrypt AES. (Web Crypto only exists in secure origins like https)"),new Re(2,4,4042);var o=0,s=sv(n,"IV","");if(s){var l=Ct(s.substr(2));if(16!=l.byteLength)throw new Re(2,4,4048)}else o=hv(r.ca,"EXT-X-MEDIA-SEQUENCE",0);var u=yv(i(),lv(n,"URI"),a),c=u.sort().join("");if(r=n.toString()+"-"+o+"-"+c,!t.ka.has(r)){var d={bitsKey:128,blockCipherMode:"CBC",iv:l,firstMediaSequenceNumber:o};switch(lv(n,"METHOD")){case"AES-256":d.bitsKey=256;break;case"AES-256-CTR":d.bitsKey=256,d.blockCipherMode="CTR"}d.fetchKey=function(){var n,r,i,a;return I((function(o){if(1==o.g)return t.L.has(c)||(n=ca(u,t.g.retryParameters),r=pm(t,n,6).promise,t.L.set(c,r)),b(o,t.L.get(c),2);if(3!=o.g){if(!(i=o.h).data||i.data.byteLength!=d.bitsKey/8)throw new Re(2,4,4049);return a={name:"CTR"==d.blockCipherMode?"AES-CTR":"AES-CBC",length:d.bitsKey},b(o,e.crypto.subtle.importKey("raw",i.data,a,!0,["decrypt"]),3)}d.cryptoKey=o.h,d.fetchKey=void 0,k(o)}))},t.ka.set(r,d)}return t.ka.get(r)}function Xv(e,t){null==e.u&&(t=fv(t.ca,"EXT-X-START"))&&(e.u=Number(lv(t,"TIME-OFFSET")))}function Qv(e,t){var n=1/0,r=t.segments;if(r.length)for(var i=r.length-1;0<=i;){var a=fv(r[i].ca,"EXTINF");if(a){n=Number(a.value.split(",")[0]);break}i--}if(!(r=fv(t.ca,"EXT-X-TARGETDURATION")))throw new Re(2,4,4024,"EXT-X-TARGETDURATION");r=Number(r.value),(i=fv(t.ca,"EXT-X-PART-INF"))&&(e.P=Number(lv(i,"PART-TARGET"))),t=fv(t.ca,"EXT-X-SERVER-CONTROL"),e.fa&&e.P?(e.o=e.Tb?5*e.P<=n?Math.min(e.P,e.o):Math.min(n,e.o):Math.min(e.P,e.o),e.Fa=t?Number(lv(t,"PART-HOLD-BACK")):0):(e.o=Math.min(n,e.o),n=t?ov(t,"HOLD-BACK"):null,e.Aa=n?Number(n.value):0),e.La=Math.max(r,e.La)}function Jv(e,t){var n=0;if(e.g.defaultPresentationDelay)n=e.g.defaultPresentationDelay;else if(e.Fa)n=e.Fa;else if(e.Aa)n=e.Aa;else{var r=t.segments.length,i=e.g.hls.liveSegmentsDelay;for(i>r-2&&(i=Math.max(1,r-2)),i=r-i;i<r;i++){var a=fv(t.segments[i].ca,"EXTINF");n=a?n+Math.ceil(Number(a.value.split(",")[0])):n+e.La}}e.u&&0>e.u&&(n=Math.min(-e.u,n),e.u+=n),e.l.yh(0),e.l.jg(n),e.l.Gc(!1)}function $v(e,t,n,r,i){var a=fv(n,"EXT-X-MAP");if(!a)return null;var o=lv(a,"URI"),s=yv(r(),o,i);if(o=[s.toString(),sv(a,"BYTERANGE","")].join("-"),!e.sa.has(o)){for(var u=void 0,c=null,d=!1,p=(n=l(n)).next();!p.done;p=n.next())"EXT-X-KEY"==(p=p.value).name?fm(d=lv(p,"METHOD"))&&p.id<a.id?(d=!1,u=qv(e,p,t,r,i)):d="NONE"!=d:"EXT-X-BYTERANGE"==p.name&&p.id<a.id&&(c=p);t=function(e,t,n,r,i){var a=0,o=null;return t=sv(t,"BYTERANGE"),!t&&n&&(t=n.value),t&&(a=t.split("@"),o=Number(a[0]),a=Number(a[1]),o=a+o-1,r&&(n=o+1-a,n%16&&(o+=16-n%16))),new ds((function(){return e}),a,o,null,null,null,r,i)}(s,a,c,u,d),e.sa.set(o,t)}return e.sa.get(o)}function em(t,n,r,i,a,o,s,u,c){function d(e){e=new se(e).ab.split(".").pop();var t=Em.get(s).get(e);return t||(t=gm.get(e)),t}var p=i.ca,f=fv(p,"EXTINF"),h=0,y=0,g=null;i.Jb.length&&(t.m.isLowLatency=!0);var v=null;if(!t.g.hls.ignoreManifestProgramDateTime){var m=fv(p,"EXT-X-PROGRAM-DATE-TIME");m&&m.value&&(v=Mn(m.value),t.Ma=!0)}var b=ys;if(fv(p,"EXT-X-GAP")&&(t.m.gapCount++,b=2),!f){if(0==i.Jb.length)throw new Re(2,4,4024,"EXTINF");if(!t.fa)return null}var k=[];m=!1;var E=null,T=!1,_=!1;if(t.fa&&i.Jb.length){h=n&&e.ReadableStream&&t.g.hls.allowLowLatencyByteRangeOptimization;for(var A=v,S={},w=0;w<i.Jb.length;S={Le:void 0,re:void 0},w++){var C=i.Jb[w],x=0==w?r:k[k.length-1],P=0==w?a:x.endTime,R=Number(sv(C,"DURATION"))||t.P;if(R){var I=P+R,D=0,O=null;if("EXT-X-PRELOAD-HINT"==C.name?(D=(D=sv(C,"BYTERANGE-START"))?Number(D):0,(x=sv(C,"BYTERANGE-LENGTH"))?O=D+Number(x)-1:D&&(O=Number.MAX_SAFE_INTEGER)):(D=(O=l(tm(x,D=sv(C,"BYTERANGE")))).next().value,O=O.next().value),S.re=sv(C,"URI"),S.re){x=ys,"YES"==sv(C,"GAP")&&(t.m.gapCount++,x=2,T=!0),S.Le=null;var L=function(e){return function(){return null==e.Le&&(e.Le=yv(u(),e.re,o)),e.Le}}(S);h&&0<=D&&null!=O&&(E=L,m=!0),P=new fs(P,I,L,D,O,n,0,0,1/0,[],"",null,A,x,c),"EXT-X-PRELOAD-HINT"==C.name&&(P.Sf(),_=!0),"YES"!=sv(C,"INDEPENDENT")&&0<w&&P.Vc(),(S=d(S.re))&&(P.mimeType=S,Tm.has(S)&&(P.Y=null)),k.push(P),A&&(A+=R)}}}}if(f){if(0==(f=Number(f.value.split(",")[0])))return null;h=a+f}else{if(!k.length)return null;h=k[k.length-1].endTime}m&&(T||0!=k[0].Sa?(m=!1,E=null):k=[]),(f=fv(p,"EXT-X-BYTERANGE"))?(y=(g=l(tm(r,f.value))).next().value,g=g.next().value):k.length&&(y=k[0].Sa,g=k[k.length-1].wa),r="",f=null,"image"==s&&(r="1x1",p=fv(p,"EXT-X-TILES"))&&(r=lv(p,"LAYOUT"),(p=sv(p,"DURATION"))&&(f=Number(p)));var M=null;return n=new fs(a,h,(function(){return E?E():(null==M&&(M=yv(u(),i.g,o)),M||[])}),y,g,n,0,0,1/0,k,r,f,v,b,c,0<k.length&&!!i.g),(a=d(i.g))&&(n.mimeType=a,Tm.has(a)&&(n.Y=null)),m&&(t.Tb=!0,n.dh(),_&&n.Sf()),n}function tm(e,t){var n=0,r=null;return t&&(n=t.split("@"),t=Number(n[0]),r=(n=n[1]?Number(n[1]):e.wa+1)+t-1),[n,r]}function nm(e,t,n,r,i){if("video"==n||"audio"==n){var a=e.l.m;if(a&&!Kv(e,n))for(t=(t=dv(t,"EXT-X-DATERANGE")).filter((function(e){return null!=ov(e,"START-DATE")})).sort((function(e,t){return(e=lv(e,"START-DATE"))<(t=lv(t,"START-DATE"))?-1:e>t?1:0})),n=0;n<t.length;n++){var o=t[n];try{var s=lv(o,"ID");if(!e.ya.has(s)){var u=Mn(lv(o,"START-DATE"));if(!isNaN(u)){var c=Math.max(0,u-a),d=null,p=sv(o,"END-DATE");if(p){var f=Mn(p);if(!isNaN(f)&&0>(d=f-a))continue}if(null==d){var h=sv(o,"DURATION")||sv(o,"PLANNED-DURATION");if(h){var y=parseFloat(h);if(isNaN(y)||(d=c+y),0>u-a+y)continue}}var g=sv(o,"CLASS")||"com.apple.quicktime.HLS",v="YES"==sv(o,"END-ON-NEXT");if(null==d&&v){for(var m=n+1;m<t.length;m++){if(g==(sv(t[m],"CLASS")||"com.apple.quicktime.HLS")){var b=Mn(lv(t[m],"START-DATE"));if(!isNaN(b)&&b&&b>u){d=Math.max(0,b-a);break}}}if(null==d)continue}m=["CLASS","START-DATE","END-DATE","DURATION","END-ON-NEXT"];for(var k=[],E=l(o.attributes),T=E.next();!T.done;T=E.next()){var _=T.value;if(!m.includes(_.name)){var A=vv(_.value,r);"X-ASSET-URI"!=_.name&&"X-ASSET-LIST"!=_.name||(A=yv(i(),_.value,r)[0]),k.push({key:_.name,description:"",data:A,mimeType:null,pictureType:null})}}1<k.length&&e.h.onMetadata(g,c,d,k),e.ya.add(s)}}}catch(e){}}}}function rm(e,t,n,r,i,a){var o=t.segments,s=void 0,u=hv(t.ca,"EXT-X-DISCONTINUITY-SEQUENCE",-1),c=hv(t.ca,"EXT-X-MEDIA-SEQUENCE",0),d=fv(t.ca,"EXT-X-SKIP"),p=d?Number(sv(d,"SKIPPED-SEGMENTS")):0,f=c+p,h=0;cm(e)&&n.has(f)&&(h=n.get(f)),0===h&&e.Ea==Sm&&0<n.size&&!n.has(f)&&null!=e.l.i&&(h=e.l.pb());var y=[],g=null;d=[];for(var v=0;v<o.length;v++){var m=o[v],b=0==v?h:g.endTime;f=c+p+v,fv(m.ca,"EXT-X-DISCONTINUITY")&&(u++,g&&g.Y&&(g.Y.g=b));for(var k=l(m.ca),E=k.next();!E.done;E=k.next())"EXT-X-KEY"==(E=E.value).name&&(s=fm(lv(E,"METHOD"))?qv(e,E,t,i,r):void 0);n.set(f,b),(b=em(e,k=$v(e,t,m.ca,i,r),g,m,b,r,a,i,s))&&((g=hv(m.ca,"EXT-X-BITRATE"))?d.push({bitrate:g,duration:b.endTime-b.startTime}):d.length&&((g=d.pop()).duration+=b.endTime-b.startTime,d.push(g)),g=b,b.i=u,Kv(e,a)&&null!=e.K&&f<e.K||y.push(b))}if(t=void 0,d.length&&(t=d.reduce((function(e,t){return e+t.duration}),0),t=Math.round(d.reduce((function(e,t){return e+t.bitrate*t.duration}),0)/t*1e3)),d=y.some((function(e){return null!=e.h})))for(n={},r=0;r<y.length;n={Xd:void 0,Wd:void 0,Qd:void 0,Dc:void 0,Pd:void 0},r++)if(n.Dc=y[r],null==n.Dc.h)for(n.Wd=0,n.Xd=r,i=function(e){return function(){var t=y[e.Xd];if(t){if(null!=t.h)return t.h+e.Wd;e.Wd-=t.endTime-t.startTime,e.Xd+=1}return null}}(n),n.Pd=0,n.Qd=r,o=function(e){return function(){var t=y[e.Qd];if(t){if(t!=e.Dc&&(e.Pd+=t.endTime-t.startTime),null!=t.h)return t.h+e.Pd;--e.Qd}return null}}(n);null==n.Dc.h;)n.Dc.h=o(),null==n.Dc.h&&(n.Dc.h=i());if(d)for(r=(n=l(y)).next();!r.done;r=n.next())for(r=(i=r.value).h,o=(i=l(i.g)).next();!o.done;o=i.next())(o=o.value).h=r,r+=o.endTime-o.startTime;if(n=e.ea,d&&1/0!=n&&!Kv(e,a))for(a=(e=l(y)).next();!a.done;a=e.next())a.value.qg(n);return{segments:y,bandwidth:t}}function im(e,t){if(e==Nt){if("vtt"==t||"wvtt"==t)return"text/vtt";if(t&&""!==t)return"application/mp4"}return"image"!=e||t&&"jpeg"!=t?"audio"==e&&"mp4a.40.34"==t?"audio/mpeg":"mjpg"==t?"application/mp4":null:"image/jpeg"}function am(e){return e==Nt?"text/vtt":Em.get(e).get("mp4")}function om(e,t){for(var n=t[e=cm(e)?Math.trunc((t.length-1)/2):0];2==n.dc()&&e+1<t.length;)n=t[++e];return{segment:n,segmentIndex:e}}function sm(e,t,n,r,i,a,o){e&&(e.width=Number(t)||void 0,e.height=Number(n)||void 0,e.frameRate=Number(r)||void 0,e.hdr=i||void 0,e.videoLayout=a||void 0,e.colorGamut=o||void 0)}function lm(e,t,n){return pm(e,ca(t,e.g.retryParameters),0,{type:n?2:3})}function um(e){var t,n,r,i,a,o;return I((function(s){switch(s.g){case 1:return e.h?(E(s,2),t=Date.now(),b(s,e.update(),4)):s.return();case 4:n=Date.now(),cm(e)&&(r=(n-t)/1e3,e.Pb.sample(1,r),i=0<e.g.updatePeriod?e.g.updatePeriod:e.o,a=Math.max(0,i-G(e.Pb)),e.B.da(a)),_(s,3);break;case 2:if(o=A(s),!e.h)return s.return();if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.h.onError(o),s.return();o.severity=1,e.h.onError(o),e.B.da(.1);case 3:if(!e.h)return s.return();e.h.onManifestUpdated(),k(s)}}))}function cm(e){return e.Ea!=_m}function dm(e,t){e.Ea=t,e.l&&e.l.Gc(!cm(e)),cm(e)||e.B.stop()}function pm(e,t,n,r){if(!e.Z)throw new Re(2,7,7001);return r||(r={}),r.isPreload=e.Qb(),t=e.h.networkingEngine.request(n,t,r),oa(e.Z,t),t}function fm(e){return"AES-128"==e||"AES-256"==e||"AES-256-CTR"==e}function hm(t,n,r,i,a,o){var s,l,u,c,d,p,f,h,y,g,v;return I((function(m){switch(m.g){case 1:if("video/mp2t"==r)throw new Re(2,4,4040);if("apple"===e.shakaMediaKeysPolyfill)throw new Re(2,4,4041);if(s=lv(n,"METHOD"),!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(s))return m.return(null);if((l=yv(i(),lv(n,"URI"),o))[0].startsWith("data:text/plain;base64,")){u=xt(wt(l[0].split("data:text/plain;base64,").pop())),m.s(2);break}return c=l.sort().join(""),t.oa.has(c)||(d=ca(l,t.g.retryParameters),p=pm(t,d,6).promise,t.oa.set(c,p)),b(m,t.oa.get(c),3);case 3:f=m.h,u=xt(f.data);case 2:if(h="00000000000000000000000000000000",!a){m.s(4);break}return b(m,ym(t,a),5);case 5:(y=m.h)&&(h=y);case 4:return(g=new Map).set(h,u),v="cenc","SAMPLE-AES"==s&&(v="cbcs"),m.return(Dt(g,v))}}))}function ym(e,t){var n,r,i;return I((function(a){return 1==a.g?(n=null,e.pa.has(t)?(n=e.pa.get(t),a.s(2)):(r=mu(t.N(),t.uc(),t.tc(),e.g.retryParameters),b(a,pm(e,r,ya,{type:0}).promise,3))):(2!=a.g&&(i=a.h,t.Kd(i.data),n=function(e){var t=null;return(new wa).box("moov",Ca).box("trak",Ca).box("mdia",Ca).box("minf",Ca).box("stbl",Ca).R("stsd",xa).box("encv",Pa).box("enca",Ra).box("sinf",Ca).box("schi",Ca).R("tenc",(function(e){(e=e.reader).X(),e.X(),e.X(),e.X(),t=xt(e.Cb(16))})).parse(e,!0),t}(i.data),e.pa.set(t,n)),a.return(n))}))}F("shaka.net.DataUriPlugin",_v),_v.parse=Av,la("data",Av),(n=wv.prototype).configure=function(e,t){var n=this.h&&e.updatePeriod!=this.g.updatePeriod&&0<=e.updatePeriod;this.g=e,t&&(this.Qb=t),this.j&&this.j.configure(this.g),n&&this.m&&this.m.presentationTimeline.U()&&this.B.sb()},n.start=function(e,t){var n,r=this;return I((function(i){return 1==i.g?(r.h=t,r.fa=t.isLowLatencyMode(),b(i,lm(r,[e]).promise,2)):3!=i.g?(n=i.h,r.C=n.uri,b(i,function(e,t){var n,r,i,a,o,s,c,d,p,f,h,y,g,v,m,T,_,S,w,C,x,P,R,D,O,L,M,N,U,B,F,j,H,V,G,K,z,W,Y,Z,q,X;return I((function(Q){switch(Q.g){case 1:return n=Ut,r=bv(e.Ga,t),i=dv(r.ca,"EXT-X-DEFINE"),a=[],o=[],s=[],e.l=new _l(null,0),e.l.Gc(!0),c=function(){return[e.C]},d=null,p=new Map,1==r.type?(e.O=!1,j=dv(r.ca,"EXT-X-DEFINE"),p=Ov(e,j,e.C),d=n.la,H="",V=new Map,b(Q,zv(e,e.F++,p,r,c,"",d,H,!0,"Media Playlist",null,V,null,!1,null,!1),7)):(function(e,t){for(var n=new se(e.C).g,r=(t=l(t)).next();!r.done;r=t.next()){var i=r.value;r=sv(i,"NAME");var a=sv(i,"VALUE");i=sv(i,"QUERYPARAM"),r&&a&&(e.A.has(r)||e.A.set(r,a)),i&&(r=n.get(i)[0])&&!e.A.has(r)&&e.A.set(i,r)}}(e,i),f=dv(r.ca,"EXT-X-MEDIA"),h=dv(r.ca,"EXT-X-STREAM-INF"),y=dv(r.ca,"EXT-X-IMAGE-STREAM-INF"),g=dv(r.ca,"EXT-X-I-FRAME-STREAM-INF"),v=dv(r.ca,"EXT-X-SESSION-KEY"),m=dv(r.ca,"EXT-X-SESSION-DATA"),T=dv(r.ca,"EXT-X-CONTENT-STEERING"),function(e,t){for(var n=(t=l(t)).next();!n.done;n=t.next()){var r=n.value,i=sv(r,"DATA-ID");n=sv(r,"URI");var a=sv(r,"LANGUAGE");r=sv(r,"VALUE"),i=(new Map).set("id",i),n&&i.set("uri",yv([e.C],n,e.A)[0]),a&&i.set("language",a),r&&i.set("value",r),n=new ta("sessiondata",i),e.h&&e.h.onEvent(n)}}(e,m),b(Q,function(e,t){var n,r,i,a,o,s;return I((function(u){if(!e.h||!e.g)return u.return();for(r=l(t),i=r.next();!i.done;i=r.next())if(a=i.value,o=sv(a,"PATHWAY-ID"),s=sv(a,"SERVER-URI"),o&&s){e.j=new Vy(e.h),e.j.configure(e.g),e.j.i=[e.C],e.j.setManifestType("HLS"),e.j.h=o,n=Gy(e.j,s);break}return b(u,n,0)}))}(e,T),4));case 4:if(!e.g.ignoreSupplementalCodecs){for(_=[],S=l(h),w=S.next(),C={};!w.done;C={Gh:void 0},w=S.next())x=w.value,(P=sv(x,"SUPPLEMENTAL-CODECS"))&&(C.Gh=P.split(/\s*,\s*/).map((function(e){return e.split("/")[0]})),R=x.attributes.map(function(e){return function(t){var n=t.name,r=t.value;return"CODECS"==n&&(r=e.Gh.join(","),1<(t=t.value.split(",")).length&&(t=Lt("audio",t))&&(r+=","+t)),new cv(n,r)}}(C)),_.push(new iv(x.id,x.name,R,null)));for(h.push.apply(h,u(_)),D=[],O=l(g),L=O.next(),M={};!L.done;M={Hh:void 0},L=O.next())N=L.value,(U=sv(N,"SUPPLEMENTAL-CODECS"))&&(M.Hh=U.split(/\s*,\s*/).map((function(e){return e.split("/")[0]})),B=N.attributes.map(function(e){return function(t){var n=t.name;return t=t.value,"CODECS"==n&&(t=e.Hh.join(",")),new cv(n,t)}}(M)),D.push(new iv(N.id,N.name,B,null)));g.push.apply(g,u(D))}return function(e,t){for(var n=(t=l(t)).next();!n.done;n=t.next()){var r=n.value,i=sv(r,"AUDIO");n=sv(r,"VIDEO");var a=sv(r,"SUBTITLES");if(r=Nv(e,r),a){var o=Lt(Nt,r);e.H.set(a,o),sn(r,o)}i&&((a=Lt("audio",r))||(a=e.g.hls.defaultAudioCodec),e.H.set(i,a)),n&&((i=Lt("video",r))||(i=e.g.hls.defaultVideoCodec),e.H.set(n,i))}}(e,h),function(e,t){t=pv(t,"CLOSED-CAPTIONS"),e.O=0==t.length;for(var n=(t=l(t)).next();!n.done;n=t.next()){var r=n.value,i=sv(r,"LANGUAGE");n=si(i||"und"),i||(i=sv(r,"NAME"))&&(n=i),i=lv(r,"GROUP-ID"),r=lv(r,"INSTREAM-ID").replace("SERVICE","svc"),e.G.get(i)||e.G.set(i,new Map),e.G.get(i).set(r,n)}}(e,f),F=function(e,t){return t.map((function(t){return"video"!==(t=Fv(e,t)).stream.type?null:t.stream})).filter((function(e){return e}))}(e,g),b(Q,function(e,t,n,r,i,a,o){var s,c,d,p,f,h,y,g,v,m,k,E,T,_,A,S,w,C,x,P,R,D,O,L,M,N,U,B,F,j,H,V,G,K,z,W;return I((function(I){switch(I.g){case 1:if(s=[],c=new Set,e.g.ignoreDrmInfo||!(0<n.length)){I.s(2);break}d=l(n),p=d.next();case 3:if(p.done){I.s(2);break}if(f=p.value,h=lv(f,"METHOD"),y=sv(f,"KEYFORMAT")||"identity",g=null,"NONE"==h){I.s(4);break}if(fm(h)){v=yv(i(),lv(f,"URI"),a),m=v.sort().join(""),e.L.has(m)||(k=ca(v,e.g.retryParameters),E=pm(e,k,6).promise,e.L.set(m,E)),I.s(4);break}if("identity"==y)return b(I,hm(e,f,"",i,null,a),12);if(!(T=e.Sb.get(y))){_=null,I.s(10);break}return b(I,T(f,"",null),11);case 11:_=I.h;case 10:g=_,I.s(6);break;case 12:g=I.h;case 6:if(g){if(g.keyIds)for(A=l(g.keyIds),S=A.next();!S.done;S=A.next())w=S.value,c.add(w);s.push(g)}case 4:p=d.next(),I.s(3);break;case 2:for(C={},x=l(t),P=x.next();!P.done;P=x.next())R=P.value,D=av(R,!e.j),C[D]?C[D].push(R):C[D]=[R];for(L in O=[],C)M=C[L],N=M[0],U=sv(N,"FRAME-RATE"),B=Number(sv(N,"AVERAGE-BANDWIDTH"))||Number(lv(N,"BANDWIDTH")),F=sv(N,"RESOLUTION"),j=l(F?F.split("x"):[null,null]),H=j.next().value,V=j.next().value,G=sv(N,"VIDEO-RANGE"),(K=sv(N,"REQ-VIDEO-LAYOUT"))&&K.includes(",")&&(z=K.split(",").filter((function(e){return"CH-STEREO"==e||"CH-MONO"==e})),K=z[0]),K=K||"CH-MONO",W=Mv(e,M,r),O.push.apply(O,u(Uv(e,W.audio,W.video,B,H,V,U,G,K,s,c,o)));return I.return(O.filter((function(e){return null!=e})))}}))}(e,h,v,f,c,e.A,F),5);case 5:return a=Q.h,o=function(e,t){var n=pv(t,"SUBTITLES");t=n.map((function(t){if(e.g.disableText)return null;try{return Bv(e,[t],new Map).stream}catch(t){if(e.g.hls.ignoreTextStreamFailures)return null;throw t}}));for(var r=(n=l(n)).next();!r.done;r=n.next()){var i=lv(r.value,"GROUP-ID");if((r=e.H.get(i))&&(i=e.I.get(i)))for(var a=(i=l(i)).next();!a.done;a=i.next())(a=a.value).stream.codecs=r,a.stream.mimeType=im(Nt,r)||am(Nt),Lv(a.stream)}return t.filter((function(e){return e}))}(e,f),b(Q,function(e,t,n){var r,i;return I((function(a){return 1==a.g?(r=t.map((function(t){var n,r;return I((function(i){if(1==i.g)return e.g.disableThumbnails?i.return(null):(E(i,2),b(i,function(e,t){var n,r,i,a,o,s,l,u,c,d;return I((function(p){return 1==p.g?(n=lv(t,"URI"),r=sv(t,"CODECS","jpeg")||"",e.i.has(n)?p.return(e.i.get(n)):(i=sv(t,"LANGUAGE"),a=sv(t,"NAME"),o=sv(t,"CHARACTERISTICS"),s=jv(e,e.F++,[n],r,"image",i,!1,a,null,null,o,!1,null,!1),(l=sv(t,"RESOLUTION"))?b(p,s.stream.createSegmentIndex(),3):p.s(2))):(2!=p.g&&(u=Kl(s.stream.segmentIndex),c=u.tilesLayout)&&(s.stream.width=Number(l.split("x")[0])*Number(c.split("x")[0]),s.stream.height=Number(l.split("x")[1])*Number(c.split("x")[1])),(d=sv(t,"BANDWIDTH"))&&(s.stream.bandwidth=Number(d)),e.i.set(n,s),p.return(s))}))}(e,t),4));if(2!=i.g)return n=i.h,i.return(n.stream);if(r=A(i),e.g.hls.ignoreImageStreamFailures)return i.return(null);throw r}))})).concat(n.map((function(t){if(e.g.disableThumbnails)return null;try{var n=Fv(e,t);return"image"!==n.stream.type?null:n.stream}catch(t){if(e.g.hls.ignoreImageStreamFailures)return null;throw t}}))),b(a,Promise.all(r),2)):(i=a.h,a.return(i.filter((function(e){return e}))))}))}(e,y,g),6);case 6:s=Q.h,Q.s(3);break;case 7:G=Q.h,e.i.set(e.C,G),G.stream&&(K=eu(G.stream),G.stream.segmentIndex.Eb((function(e){e.Y&&(e.Y.Wc=K)}))),d=G.stream.type,a.push({id:0,language:si(H||"und"),disabledUntilTime:0,primary:!0,audio:"audio"==d?G.stream:null,video:"video"==d?G.stream:null,bandwidth:G.stream.bandwidth||0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});case 3:if(!e.h)throw new Re(2,7,7001);if(Xv(e,r),1==r.type&&(cm(e)&&(Jv(e,r),z=e.o,e.B.da(z)),W=Array.from(e.i.values()),Gv(e,W),Dv(e),nm(e,r.ca,d,p,c)),e.m={presentationTimeline:e.l,variants:a,textStreams:o,imageStreams:s,offlineSessionIds:[],sequenceMode:e.g.hls.sequenceMode,ignoreManifestTimestampsInSegmentsMode:e.g.hls.ignoreManifestTimestampsInSegmentsMode,type:"HLS",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:e.u},e.$||!e.g.hls.disableCodecGuessing){Q.s(8);break}for(Y=[],Z=l(e.m.variants),q=Z.next();!q.done;q=Z.next())(X=q.value).audio&&""===X.audio.codecs&&Y.push(X.audio.createSegmentIndex()),X.video&&""===X.video.codecs&&Y.push(X.video.createSegmentIndex());return b(Q,Promise.all(Y),8);case 8:e.h.makeTextStreamsForClosedCaptions(e.m),k(Q)}}))}(r,n.data),3)):i.return(r.m)}))},n.stop=function(){this.B&&(this.B.stop(),this.B=null);var e=[];return this.Z&&(e.push(this.Z.destroy()),this.Z=null),this.g=this.h=null,this.Na.clear(),this.m=null,this.i.clear(),this.I.clear(),this.H.clear(),this.A.clear(),this.sa.clear(),this.ka.clear(),this.L.clear(),this.oa.clear(),this.pa.clear(),this.ya.clear(),this.j&&this.j.destroy(),this.T&&(this.T.release(),this.T=null),Promise.all(e)},n.update=function(){var e,t,n,r,i,a,o,s,c,d,p,f=this;return I((function(h){if(1==h.g){if(!cm(f))return h.return();for(e=[],t=Array.from(f.i.values()),f.o=1/0,f.m.gapCount=0,n=t.filter((function(e){return e.stream.segmentIndex})),r=l(n),i=r.next();!i.done;i=r.next())a=i.value,e.push(xv(f,a));return b(h,Promise.all(e),2)}for(Vv(f,n.map((function(e){return e.stream}))),o=n.some((function(e){return 0==e.rd})),n.length&&!o&&(dm(f,wm.Ph),s=n.map((function(e){return e.Vb})),f.l.bb(Math.min.apply(Math,u(s))),f.h.updateDuration()),o&&Dv(f),c=l(n),d=c.next();!d.done;d=c.next())(p=d.value).stream.isAudioMuxedInVideo||!p.stream.segmentIndex||Kl(p.stream.segmentIndex)||f.h.disableStream(p.stream);k(h)}))},n.onExpirationUpdated=function(){},n.onInitialVariantChosen=function(){},n.banLocation=function(e){this.j&&this.j.banLocation(e)},n.setMediaElement=function(e){this.W=e},F("shaka.hls.HlsParser",wv);var gm=(new Map).set("aac","audio/aac").set("ac3","audio/ac3").set("ec3","audio/ec3").set("mp3","audio/mpeg"),vm=(new Map).set("mp4","audio/mp4").set("mp4a","audio/mp4").set("m4s","audio/mp4").set("m4i","audio/mp4").set("m4a","audio/mp4").set("m4f","audio/mp4").set("cmfa","audio/mp4").set("ts","video/mp2t").set("tsa","video/mp2t"),mm=(new Map).set("mp4","video/mp4").set("mp4v","video/mp4").set("m4s","video/mp4").set("m4i","video/mp4").set("m4v","video/mp4").set("m4f","video/mp4").set("cmfv","video/mp4").set("ts","video/mp2t").set("tsv","video/mp2t"),bm=(new Map).set("mp4","application/mp4").set("m4s","application/mp4").set("m4i","application/mp4").set("m4f","application/mp4").set("cmft","application/mp4").set("vtt","text/vtt").set("webvtt","text/vtt").set("ttml","application/ttml+xml"),km=(new Map).set("jpg","image/jpeg").set("png","image/png").set("svg","image/svg+xml").set("webp","image/webp").set("avif","image/avif"),Em=(new Map).set("audio",vm).set("video",mm).set("text",bm).set("image",km),Tm=new Set(["video/mp2t"].concat(u(zr))),_m="VOD",Am="EVENT",Sm="LIVE",wm={Ph:_m,Zj:Am,gk:Sm};function Cm(e){return sy(e)}Ao("application/x-mpegurl",(function(){return new wv})),Ao("application/vnd.apple.mpegurl",(function(){return new wv}));var xm=(new Map).set("com.microsoft.playready",Cm).set("com.microsoft.playready.recommendation",Cm).set("com.microsoft.playready.software",Cm).set("com.microsoft.playready.hardware",Cm);function Pm(){var e=this;this.h=this.g=null,this.l=[],this.j=null,this.u=1,this.i=null,this.C=new V(5),this.o=new je((function(){!function(e){var t;I((function(n){switch(n.g){case 1:return E(n,2),b(n,Rm(e),4);case 4:_(n,3);break;case 2:t=A(n),e.h&&(t.severity=1,e.h.onError(t));case 3:if(!e.h)return n.return();k(n)}}))}(e)})),this.B=new aa,this.m=new Map,this.A=function(){return!1}}function Rm(e){var t,n,r,i,a,o,s;return I((function(c){if(1==c.g)return t=ca(e.l,e.g.retryParameters),n=e.h.networkingEngine,r=Date.now(),i=n.request(0,t,{type:5,isPreload:e.A()}),oa(e.B,i),b(c,i.promise,2);if(a=c.h,!e.h)return c.return();a.uri&&!e.l.includes(a.uri)&&e.l.unshift(a.uri);var d=a.uri,p=a.data,f=e.g.mss.manifestPreprocessor;if(f!=nc){if(ne("manifest.mss.manifestPreprocessor configuration","Please Use manifest.mss.manifestPreprocessorTXml instead."),!(p=xg(p,"SmoothStreamingMedia")))throw new Re(2,4,4046,d);f(p),p=mt(p.outerHTML)}var h=kn(p,"SmoothStreamingMedia");if(!h)throw new Re(2,4,4046,d);if((d=e.g.mss.manifestPreprocessorTXml)!=rc&&d(h),e.i||(e.i=new _l(null,0)),d=In(h,"IsLive",Vn,!1))throw new Re(2,4,4047);e.i.Gc(!d),f=In(h,"TimeScale",jn,1e7),p=In(h,"DVRWindowLength",jn),d&&(0===p||isNaN(p))&&(p=1/0);var y,g=In(h,"CanSeek",Vn,!1);for(0===p&&g&&(p=1/0),g=null,p&&0<p&&(g=p/f),d&&!isNaN(e.g.availabilityWindowOverride)&&(g=e.g.availabilityWindowOverride),null==g&&(g=1/0),e.i.Ce(g),p=In(h,"Duration",jn,1/0),d||e.i.bb(p/f),d={variants:[],textStreams:[],timescale:f,duration:p/f},g=Sn(h,"Protection"),f=e.g.mss.keySystemsBySystemId,p=[],y=(g=l(g)).next();!y.done;y=g.next())p=p.concat(Sn(y.value,"ProtectionHeader"));if(p.length){for(g=[],y=0;y<p.length;y++){var v=p[y],m=v.attributes.SystemID.toLowerCase(),E=f[m];if(E){var T;e:{if(T=oy(v))for(var _=(T=l(xn(T,"DATA"))).next();!_.done;_=T.next())if(_=Pn(_.value,"KID")){T=wt(wn(_)),T=xt(T=new Uint8Array([T[3],T[2],T[1],T[0],T[5],T[4],T[7],T[6]].concat(u(T.slice(8)))));break e}T=null}m=It(E,"cenc",m=[{initData:Ba(_=wt(wn(v)),m=Ct(m.replace(/-/g,"")),new Set,0),initDataType:"cenc",keyId:T}]),T&&m.keyIds.add(T),(E=xm.get(E))&&(m.licenseServerUri=E(v)),g.push(m)}}f=g}else f=[];for(y=f,g=[],f=[],p=[],v=(h=l(h=Sn(h,"StreamIndex"))).next();!v.done;v=h.next()){E=Sn(v=v.value,"QualityLevel"),m=d.timescale,T=d.duration,_=Sn(v,"c");for(var A=[],S=0,w=0;w<_.length;++w){var C=_[w],x=_[w+1],P=In(C,"t",jn),R=In(C,"d",jn);if(C=In(C,"r",Bn),!R)break;if(P=null!=P?P:S,(C=C||0)&&C--,0>C)if(x){if(null==(x=In(x,"t",jn)))break;if(P>=x)break;C=Math.ceil((x-P)/R)-1}else{if(1/0==T)break;if(P/m>=T)break;C=Math.ceil((T*m-P)/R)-1}for(x=0;x<=C;++x)S=P+R,A.push({start:P/m,end:S/m,xg:P}),P=S}for(m=A,T=(E=l(E)).next();!T.done;T=E.next())(T=Im(e,v,T.value,m,y,d))&&("audio"!=T.type||e.g.disableAudio?"video"!=T.type||e.g.disableVideo?T.type!=Nt||e.g.disableText||p.push(T):f.push(T):g.push(T))}for(h=[],y=(g=l(0<g.length?g:[null])).next();!y.done;y=g.next())for(y=y.value,A=(v=l(0<f.length?f:[null])).next();!A.done;A=v.next())m=(E=h).push,T=e,_=y,A=A.value,w=0,_&&_.bandwidth&&0<_.bandwidth&&(w+=_.bandwidth),A&&A.bandwidth&&0<A.bandwidth&&(w+=A.bandwidth),T={id:T.u++,language:_?_.language:"und",disabledUntilTime:0,primary:!!_&&_.primary||!!A&&A.primary,audio:_,video:A,bandwidth:w,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},m.call(E,T);d.variants=h,d.textStreams=p,e.j?(e.j.variants=d.variants,e.j.textStreams=d.textStreams,e.h.filter(e.j)):(e.j={presentationTimeline:e.i,variants:d.variants,textStreams:d.textStreams,imageStreams:[],offlineSessionIds:[],sequenceMode:e.g.mss.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"MSS",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:null},e.i.ie()),Promise.resolve(),o=Date.now(),s=(o-r)/1e3,e.C.sample(1,s),k(c)}))}function Im(e,t,n,r,i,a){var o=t.attributes.Type;if("audio"!==o&&"video"!==o&&"text"!==o)return Y("Ignoring unrecognized type:",o),null;var s=t.attributes.Language,u=e.u++,c=In(n,"Bitrate",Fn),d=In(n,"MaxWidth",Fn),p=In(n,"MaxHeight",Fn),f=In(n,"Channels",Fn),h=In(n,"SamplingRate",Fn),y=a.duration;r.length&&(y=r[r.length-1].end-r[0].start);var g=e.i.getDuration();e.i.bb(Math.min(y,g));var v={id:u,originalId:t.attributes.Name||String(u),groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:"",codecs:"",frameRate:void 0,pixelAspectRatio:void 0,bandwidth:c||0,width:d||void 0,height:p||void 0,kind:"",encrypted:0<i.length,drmInfos:i,keyIds:new Set,language:si(s||"und"),originalLanguage:s,label:"",type:"",primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:[],roles:[],forced:!1,channelsCount:f,audioSamplingRate:h,spatialAudio:!1,closedCaptions:null,hdr:void 0,colorGamut:void 0,videoLayout:void 0,tilesLayout:void 0,matchedStreams:[],mssPrivateData:{duration:y,timescale:a.timescale,codecPrivateData:null},accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null};if((i=t.attributes.Subtype)&&((i=Om.get(i))&&v.roles.push(i),"main"===i&&(v.primary=!0)),null!==(i=n.attributes.FourCC)&&""!==i||(i=t.attributes.FourCC),!i)if("audio"===o)i="AAC";else if("video"===o)return Y('FourCC is not defined whereas it is required for a QualityLevel element for a StreamIndex of type "video"'),null;if(!Dm.includes(i.toUpperCase()))return Y("Codec not supported:",i),null;switch(n=function(e,t,n,r){if(e=e.attributes.CodecPrivateData)return e;if("audio"!==t)return null;t=r.channelsCount||2,e=r.audioSamplingRate||44100;var i={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12};return r=i[e],"AACH"===n?(n=new Uint8Array(4),e=i[2*e],n[0]=40|r>>1,n[1]=r<<7|t<<3|e>>1,n[2]=e<<7|8,n[3]=0,t=new Uint16Array(2),t[0]=(n[0]<<8)+n[1],t[1]=(n[2]<<8)+n[3],t[0].toString(16)+t[1].toString(16)):(n=new Uint8Array(2),n[0]=16|r>>1,n[1]=r<<7|t<<3,t=new Uint16Array(1),t[0]=(n[0]<<8)+n[1],t[0].toString(16))}(n,o,i,v),v.mssPrivateData.codecPrivateData=n,o){case"audio":if(!n)return Y("Quality unsupported without CodecPrivateData",o),null;v.type="audio",v.mimeType="mss/audio/mp4",v.codecs=function(e,t){var n=0;return"AACH"===e&&(n=5),t?0===n&&(n=(248&parseInt(t.substr(0,2),16))>>3):(n=2,"AACH"===e&&(n=5)),"mp4a.40."+n}(i,n);break;case"video":if(!n)return Y("Quality unsupported without CodecPrivateData",o),null;v.type="video",v.mimeType="mss/video/mp4",v.codecs=function(e){var t=/00000001[0-9]7/.exec(e);return t.length&&e?"avc1."+e.substr(e.indexOf(t[0])+10,6):""}(n);break;case"text":v.type=Nt,v.mimeType="application/mp4",("TTML"===i||"DFXP"===i)&&(v.codecs="stpp")}return v.fullMimeTypes.add(Or(v.mimeType,v.codecs)),v.createSegmentIndex=function(){if(v.segmentIndex)return Promise.resolve();if(e.m.has(v.id))var n=e.m.get(v.id);else n=[],"video"==v.type&&(n=v.mssPrivateData.codecPrivateData.split("00000001").slice(1)),n=No(new Mo([n={id:v.id,type:v.type,codecs:v.codecs,encrypted:v.encrypted,timescale:v.mssPrivateData.timescale,duration:v.mssPrivateData.duration,lb:n,ra:new Uint8Array([]),Ca:new Uint8Array([]),Ia:0,Ka:0,data:null,stream:v}])),e.m.set(v.id,n);return n=function(e,t,n,r,i){var a=r.attributes.Url.replace("{bitrate}",String(n.bandwidth));r=[];for(var o=(i=l(i)).next(),s={};!o.done;s={Fe:void 0},o=i.next())s.Fe=o.value,r.push(new fs(s.Fe.start,s.Fe.end,function(t){return function(){return Rt(e.l,[a.replace("{start time}",String(t.Fe.xg))])}}(s),0,null,t,0,0,n.mssPrivateData.duration));return r}(e,new ds((function(){return[]}),0,null,eu(v),v.mssPrivateData.timescale,n,null,v.encrypted),v,t,r),v.segmentIndex=new Gl(n),Promise.resolve()},v.closeSegmentIndex=function(){v.segmentIndex&&(v.segmentIndex.release(),v.segmentIndex=null)},v}(n=Pm.prototype).configure=function(e,t){this.g=e,t&&(this.A=t)},n.start=function(e,t){var n=this;return I((function(r){if(1==r.g)return n.l=[e],n.h=t,b(r,Rm(n),2);if(!n.h)throw new Re(2,7,7001);return r.return(n.j)}))},n.stop=function(){return this.g=this.h=null,this.l=[],this.j=null,null!=this.o&&(this.o.stop(),this.o=null),this.m.clear(),this.B.destroy()},n.update=function(){var e,t=this;return I((function(n){return 1==n.g?(E(n,2),b(n,Rm(t),4)):2!=n.g?_(n,0):(e=A(n),t.h&&e?(t.h.onError(e),void k(n)):n.return())}))},n.onExpirationUpdated=function(){},n.onInitialVariantChosen=function(){},n.banLocation=function(){},n.setMediaElement=function(){},F("shaka.mss.MssParser",Pm);var Dm="AAC AACL AACH AACP AVC1 H264 TTML DFXP".split(" "),Om=(new Map).set("CAPT","main").set("SUBT","alternate").set("DESC","main");function Lm(e,t,n,r,i,a,o){if(200<=n&&299>=n&&202!=n||304==n)return{uri:i||r,originalUri:r,data:t,status:n,headers:e,fromCache:!!e["x-shaka-from-cache"],originalRequest:a};a=null;try{a=vt(t)}catch(e){}throw new Re(401==n||403==n?2:1,1,1001,r,n,a,e,o,i||r)}function Mm(){}function Nm(e,t,n,r,i,a){var o=new Vm;Ea(t.headers).forEach((function(e,t){o.append(t,e)}));var s=new jm,l={Gg:!1,Jh:!1};if(e=function(e,t,n,r,i,a,o,s,l){var u,c,d,p,f,h,y,g,v,m,T,S,w;return I((function(C){switch(C.g){case 1:return u=Fm,c=Hm,p=new ArrayBuffer(0),h=f=0,y=Date.now(),E(C,2),b(C,u(e,r),4);case 4:if(d=C.h,o(Um(d.headers)),"HEAD"==r.method){C.s(5);break}return v=(g=d.headers.get("Content-Length"))?parseInt(g,10):0,d.body?(m=d.clone().body.getReader(),new c({start:function(e){function t(){var n,r,i,o;return I((function(u){switch(u.g){case 1:return E(u,2),b(u,m.read(),4);case 4:n=u.h,_(u,3);break;case 2:return A(u),u.return();case 3:if(n.done){u.s(5);break}if(f+=n.value.byteLength,!s){u.s(5);break}return b(u,s(n.value),5);case 5:r=Date.now(),i=f-h,(100<r-y&&i>=l||n.done)&&(o=n.done?0:v-f,a(r-y,i,o),h=f,y=r),n.done?e.close():(e.enqueue(n.value),t()),k(u)}}))}t()}}),b(C,d.arrayBuffer(),8)):b(C,d.arrayBuffer(),9);case 8:p=C.h,C.s(5);break;case 9:p=C.h,T=Date.now(),a(T-y,p.byteLength,0);case 5:_(C,3);break;case 2:if(S=A(C),i.Gg)throw new Re(1,1,7001,e,n);if(i.Jh)throw new Re(1,1,1003,e,n);throw new Re(1,1,1002,e,S,n);case 3:return w=Um(d.headers),C.return(Lm(w,p,d.status,e,d.url,t,n))}}))}(e,t,n,{body:t.body||void 0,headers:o,method:t.method,signal:s.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},l,r,i,t.streamDataCallback,a.minBytesForProgressEvents||0),e=new qi(e,(function(){return l.Gg=!0,s.abort(),Promise.resolve()})),t=t.retryParameters.timeout){var u=new je((function(){l.Jh=!0,s.abort()}));u.da(t/1e3),e.finally((function(){u.stop()}))}return e}function Um(e){var t={};return e.forEach((function(e,n){t[n.trim()]=e})),t}function Bm(){if(!e.ReadableStream)return!1;try{new ReadableStream({})}catch(e){return!1}return!!e.Response&&(!!new Response("").body&&!(!e.fetch||"polyfill"in e.fetch||!e.AbortController))}Ao("application/vnd.ms-sstr+xml",(function(){return new Pm})),F("shaka.net.HttpFetchPlugin",Mm),Mm.isSupported=Bm,Mm.parse=Nm;var Fm=e.fetch,jm=e.AbortController,Hm=e.ReadableStream,Vm=e.Headers;function Gm(){}function Km(e,t,n,r,i,a){var o=new Wm,s=Date.now(),l=0;return new qi(new Promise((function(u,c){o.open(t.method,e,!0),o.responseType="arraybuffer",o.timeout=t.retryParameters.timeout,o.withCredentials=t.allowCrossSiteCredentials,o.onabort=function(){c(new Re(1,1,7001,e,n))};var d=!1;for(var p in o.onreadystatechange=function(){if(2==o.readyState&&!d){var e=zm(o);i(e),d=!0}},o.onload=function(i){var a=zm(o),d=o.response;try{r(Date.now()-s,i.loaded-l,0);var p=Lm(a,d,o.status,e,o.responseURL,t,n);u(p)}catch(e){c(e)}},o.onerror=function(t){c(new Re(1,1,1002,e,t,n))},o.ontimeout=function(){c(new Re(1,1,1003,e,n))},o.onprogress=function(e){var t=Date.now(),n=a.minBytesForProgressEvents||0,i=e.loaded-l;(100<t-s&&i>=n||e.lengthComputable&&e.loaded==e.total)&&(r(t-s,i,4==o.readyState?0:e.total-e.loaded),l=e.loaded,s=t)},t.headers)o.setRequestHeader(p.toLowerCase(),t.headers[p]);o.send(t.body)})),(function(){return o.abort(),Promise.resolve()}))}function zm(e){var t=e.getAllResponseHeaders().trim().split("\r\n");e={};for(var n=(t=l(t)).next();!n.done;n=t.next())e[(n=n.value.split(": "))[0].toLowerCase()]=n.slice(1).join(": ");return e}Bm()&&(la("http",Nm,2,!0),la("https",Nm,2,!0),la("blob",Nm,2,!0)),F("shaka.net.HttpXHRPlugin",Gm),Gm.parse=Km;var Wm=e.XMLHttpRequest;function Ym(e,t,n,r,i){this.g=e,this.i=t,this.groupId=n,this.h=r,this.j=i}function Zm(e){var t=e.Ib(!1);return t?St(t):e.N().map((function(e){return"{"+encodeURI(e.split("#xywh=")[0])+"}"})).join("")+":"+e.Sa+":"+e.wa}function qm(e,t){return mu(e.g.N(),e.g.Sa,e.g.wa,t.streaming.retryParameters)}function Xm(){this.g=this.j=this.i=0,this.h=new Map,this.l=0}function Qm(e,t){e.i+=t;var n=e.l;return e.l++,e.h.set(n,t),n}function Jm(e){return 0==e.i?0:e.j/e.i}function $m(e){var t=this;this.u=e,this.i=new Map,this.h=new ma((function(){return eb(t).catch((function(){}))})),this.j=[],this.o=function(){},this.m=function(){},this.g=new Xm,this.l=!1}function eb(e){e.l=!0;var t=e.j.map((function(e){return e()}));return e.j=[],Promise.all(t)}function tb(e,t,n,r,i,a){ba(e.h);var o=(e.i.get(t)||Promise.resolve()).then((function(){var t,o,s,l,u,c,d;return I((function(p){if(1==p.g)return b(p,function(e,t){var n,r,i,a;return I((function(o){return 1==o.g?(n=ya,r=e.u.request(n,t),i=function(){return r.abort()},e.j.push(i),b(o,r.promise,2)):(a=o.h,sn(e.j,i),o.return(a.data))}))}(e,n),2);if(t=p.h,e.h.g)throw new Re(2,9,7001);if(i)for(l in o=we(t),(s=new Ua(o)).data)u=Number(l),c=s.data[u],d=s.g[u],e.m(c,d);return e.g.close(r,t.byteLength),e.o(Jm(e.g),e.g.g),p.return(a(t))}))}));e.i.set(t,o)}function nb(e,t,n,r,i,a){ba(e.h);var o=(e.i.get(t)||Promise.resolve()).then((function(){if(e.h.g)throw new Re(2,9,7001);if(i){var t=we(n);for(var o in(t=new Ua(t)).data){var s=Number(o);e.m(t.data[s],t.g[s])}}return e.g.close(r,n.byteLength),e.o(Jm(e.g),e.g.g),a(n)}));e.i.set(t,o)}function rb(e,t){var n=this;this.i=e,this.h=e.objectStore(t),this.g=new Zi,e.onabort=function(e){e.preventDefault(),n.g.reject()},e.onerror=function(e){e.preventDefault(),n.g.reject()},e.oncomplete=function(){n.g.resolve()}}function ib(e,t){return new Promise((function(n,r){var i=e.h.openCursor();i.onerror=r,i.onsuccess=function(){var e;return I((function(r){if(1==r.g)return null==i.result?(n(),r.return()):(e=i.result,b(r,t(e.key,e.value,e),2));e.continue(),k(r)}))}}))}function ab(e){this.h=e,this.g=[]}function ob(e,t){return sb(e,t,"readwrite")}function sb(e,t,n){var r=new rb(n=e.h.transaction([t],n),t);return e.g.push(r),r.promise().then((function(){sn(e.g,r)}),(function(){sn(e.g,r)})),r}function lb(e,t,n){this.h=new ab(e),this.i=t,this.g=n}function ub(e){return Promise.reject(new Re(2,9,9011,"Cannot add new value to "+e))}function cb(e,t,n,r){t=(e=ob(e.h,t)).store();for(var i=(n=l(n)).next(),a={};!i.done;a={Qf:void 0},i=n.next())a.Qf=i.value,t.delete(a.Qf).onsuccess=function(e){return function(){return r(e.Qf)}}(a);return e.promise()}function db(e,t,n){var r,i,a,o,s,u,c;return I((function(d){if(1==d.g){for(r=sb(e.h,t,"readonly"),i=r.store(),a={},o=[],s=l(n),u=s.next(),c={};!u.done;c={we:void 0,ee:void 0},u=s.next())c.ee=u.value,c.we=i.get(c.ee),c.we.onsuccess=function(e){return function(){null==e.we.result&&o.push(e.ee),a[e.ee]=e.we.result}}(c);return b(d,r.promise(),2)}if(o.length)throw new Re(2,9,9012,"Could not find values for "+o);return d.return(n.map((function(e){return a[e]})))}))}function pb(e){this.g=new ab(e)}function fb(){this.g=new Map}function hb(e){var t=null;if(e.g.forEach((function(e,n){e.getCells().forEach((function(e,r){e.hasFixedKeySpace()||t||(t={path:{zb:n,Ta:r},Ta:e})}))})),t)return t;throw new Re(2,9,9013,"Could not find a cell that supports add-operations")}function yb(e,t,n){if(!(e=e.g.get(t)))throw new Re(2,9,9013,"Could not find mechanism with name "+t);if(!(t=e.getCells().get(n)))throw new Re(2,9,9013,"Could not find cell with name "+n);return t}function gb(e,t){vb.set(e,t)}la("http",Km,1,!0),la("https",Km,1,!0),la("blob",Km,1,!0),Xm.prototype.close=function(e,t){if(this.h.has(e)){var n=this.h.get(e);this.h.delete(e),this.j+=n,this.g+=t}},$m.prototype.destroy=function(){return this.h.destroy()},rb.prototype.abort=function(){var e=this;return I((function(t){if(1==t.g){try{e.i.abort()}catch(e){}return E(t,2),b(t,e.g,4)}if(2!=t.g)return _(t,0);A(t),k(t)}))},rb.prototype.store=function(){return this.h},rb.prototype.promise=function(){return this.g},ab.prototype.destroy=function(){return Promise.all(this.g.map((function(e){return e.abort()})))},(n=lb.prototype).destroy=function(){return this.h.destroy()},n.hasFixedKeySpace=function(){return!0},n.addSegments=function(){return ub(this.i)},n.removeSegments=function(e,t){return cb(this,this.i,e,t)},n.getSegments=function(e){var t,n=this;return I((function(r){return 1==r.g?b(r,db(n,n.i,e),2):(t=r.h,r.return(t.map((function(e){return n.Ig(e)}))))}))},n.addManifests=function(){return ub(this.g)},n.updateManifest=function(){return Promise.reject(new Re(2,9,9016,"Cannot modify values in "+this.g))},n.updateManifestExpiration=function(e,t){var n=ob(this.h,this.g),r=n.store();return r.get(e).onsuccess=function(n){(n=n.target.result)&&(n.expiration=t,r.put(n,e))},n.promise()},n.removeManifests=function(e,t){return cb(this,this.g,e,t)},n.getManifests=function(e){var t,n=this;return I((function(r){return 1==r.g?b(r,db(n,n.g,e),2):(t=r.h,r.return(Promise.all(t.map((function(e){return n.jd(e)})))))}))},n.getAllManifests=function(){var e,t,n=this;return I((function(r){return 1==r.g?(e=sb(n.h,n.g,"readonly"),t=new Map,b(r,ib(e,(function(e,r){var i;return I((function(a){if(1==a.g)return b(a,n.jd(r),2);i=a.h,t.set(e,i),k(a)}))})),2)):3!=r.g?b(r,e.promise(),3):r.return(t)}))},n.Ig=function(e){return e},n.jd=function(e){return Promise.resolve(e)},n.add=function(e,t){var n,r,i,a,o,s,u,c=this;return I((function(d){if(1==d.g){for(n=ob(c.h,e),r=n.store(),i=[],a=l(t),o=a.next(),s={};!o.done;s={cg:void 0},o=a.next())u=o.value,s.cg=r.add(u),s.cg.onsuccess=function(e){return function(){i.push(e.cg.result)}}(s);return b(d,n.promise(),2)}return d.return(i)}))},pb.prototype.destroy=function(){return this.g.destroy()},pb.prototype.getAll=function(){var e,t,n=this;return I((function(r){return 1==r.g?(e=sb(n.g,"session-ids","readonly"),t=[],b(r,ib(e,(function(e,n){t.push(n)})),2)):3!=r.g?b(r,e.promise(),3):r.return(t)}))},pb.prototype.add=function(e){for(var t=ob(this.g,"session-ids"),n=t.store(),r=(e=l(e)).next();!r.done;r=e.next())n.add(r.value);return t.promise()},pb.prototype.remove=function(e){var t,n=this;return I((function(r){return 1==r.g?b(r,ib(t=ob(n.g,"session-ids"),(function(t,n,r){e.includes(n.sessionId)&&r.delete()})),2):b(r,t.promise(),0)}))},fb.prototype.destroy=function(){for(var e=[],t=l(this.g.values()),n=t.next();!n.done;n=t.next())e.push(n.value.destroy());return this.g.clear(),Promise.all(e)},fb.prototype.init=function(){var e=this;vb.forEach((function(t,n){(t=t())&&e.g.set(n,t)}));for(var t=[],n=l(this.g.values()),r=n.next();!r.done;r=n.next())t.push(r.value.init());return Promise.all(t)},F("shaka.offline.StorageMuxer",fb),fb.unregister=function(e){vb.delete(e)},fb.register=gb,fb.prototype.destroy=fb.prototype.destroy;var vb=new Map;function mb(){lb.apply(this,arguments)}function bb(e,t){!function(e){var t=e.streams.filter((function(e){return"audio"==e.contentType}));if(e=e.streams.filter((function(e){return"video"==e.contentType})),!t.every((function(e){return e.variantIds}))||!e.every((function(e){return e.variantIds}))){for(var n=l(t),r=n.next();!r.done;r=n.next())r.value.variantIds=[];for(r=(n=l(e)).next();!r.done;r=n.next())r.value.variantIds=[];if(n=0,e.length&&!t.length){r=n++;for(var i=l(e),a=i.next();!a.done;a=i.next())a.value.variantIds.push(r)}if(!e.length&&t.length)for(r=n++,a=(i=l(t)).next();!a.done;a=i.next())a.value.variantIds.push(r);if(e.length&&t.length)for(r=(t=l(t)).next();!r.done;r=t.next())for(r=r.value,a=(i=l(e)).next();!a.done;a=i.next()){a=a.value;var o=n++;r.variantIds.push(o),a.variantIds.push(o)}}}(e);for(var n=l(e.streams),r=n.next();!r.done;r=n.next());return e.streams.map((function(n){return function(e,t,n){var r=e.initSegmentUri?kb(e.initSegmentUri):null,i=t+e.presentationTimeOffset,a=t+n;return{id:e.id,originalId:null,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:void 0,hdr:void 0,colorGamut:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,initSegmentKey:r,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map((function(e){var n=kb(e.uri);return{startTime:t+e.startTime,endTime:t+e.endTime,dataKey:n,initSegmentKey:r,appendWindowStart:t,appendWindowEnd:a,timestampOffset:i,tilesLayout:"",mimeType:null,codecs:null,thumbnailSprite:null}})),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1}}(n,e.startTime,t)}))}function kb(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new Re(2,9,9004,"Could not parse uri "+e)}function Eb(){lb.apply(this,arguments)}function Tb(e,t,n){return{id:e.id,originalId:e.originalId,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,hdr:void 0,colorGamut:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map((function(r){return{startTime:t+r.startTime,endTime:t+r.endTime,initSegmentKey:e.initSegmentKey,appendWindowStart:t,appendWindowEnd:n,timestampOffset:t-e.presentationTimeOffset,dataKey:r.dataKey,tilesLayout:"",mimeType:null,codecs:null,thumbnailSprite:null}})),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1}}function _b(){lb.apply(this,arguments)}function Ab(){this.m=this.j=this.i=this.h=this.g=this.l=null}function Sb(e,t,n,r){this.g=e,this.i=t,this.h=n,this.l=r,this.j=["offline:",e,"/",t,"/",n,"/",r].join("")}function wb(e){if(null==(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e)))return null;var t=e[1];if("manifest"!=t&&"segment"!=t)return null;var n=e[2];if(!n)return null;var r=e[3];return r&&null!=t?new Sb(t,n,r,Number(e[4])):null}function Cb(e,t){this.h=e,this.g=t}function xb(e,t){var n=new _l(null,0);n.bb(t.duration);var r=t.streams.filter((function(e){return"audio"==e.type})),i=t.streams.filter((function(e){return"video"==e.type}));r=function(e,t,n,r){for(var i=new Set,a=l(t),o=a.next();!o.done;o=a.next())for(var s=(o=l(o.value.variantIds)).next();!s.done;s=o.next())i.add(s.value);for(a=l(n),o=a.next();!o.done;o=a.next())for(o=l(o.value.variantIds),s=o.next();!s.done;s=o.next())i.add(s.value);for(a=new Map,i=l(i),o=i.next();!o.done;o=i.next())o=o.value,a.set(o,{id:o,language:"",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});for(t=l(t),i=t.next();!i.done;i=t.next())for(o=i.value,i=Pb(e,o,r),o=l(o.variantIds),s=o.next();!s.done;s=o.next())(s=a.get(s.value)).language=i.language,s.primary=s.primary||i.primary,s.audio=i;for(n=l(n),t=n.next();!t.done;t=n.next())for(i=t.value,t=Pb(e,i,r),i=l(i.variantIds),o=i.next();!o.done;o=i.next())(o=a.get(o.value)).primary=o.primary||t.primary,o.video=t;return a}(e,r,i,n),i=t.streams.filter((function(e){return e.type==Nt})).map((function(t){return Pb(e,t,n)}));var a=t.streams.filter((function(e){return"image"==e.type})).map((function(t){return Pb(e,t,n)})),o=t.drmInfo?[t.drmInfo]:[];if(t.drmInfo)for(var s=l(r.values()),u=s.next();!u.done;u=s.next())(u=u.value).audio&&u.audio.encrypted&&(u.audio.drmInfos=o),u.video&&u.video.encrypted&&(u.video.drmInfos=o);return{presentationTimeline:n,offlineSessionIds:t.sessionIds,variants:Array.from(r.values()),textStreams:i,imageStreams:a,sequenceMode:t.sequenceMode||!1,ignoreManifestTimestampsInSegmentsMode:!1,type:t.type||"UNKNOWN",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:null}}function Pb(e,t,n){var r=t.segments.map((function(n){return function(e,t,n){var r=new Sb("segment",e.h,e.g,t.dataKey);return e=new fs(t.startTime,t.endTime,(function(){return[r.toString()]}),0,null,null!=t.initSegmentKey?function(e,t){var n=new Sb("segment",e.h,e.g,t);return new ds((function(){return[n.toString()]}),0,null)}(e,t.initSegmentKey):null,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd,[],t.tilesLayout||""),e.mimeType=t.mimeType||n.mimeType||"",e.codecs=t.codecs||n.codecs||"",t.thumbnailSprite&&e.De(t.thumbnailSprite),e}(e,n,t)}));return n.Ed(r),{id:t.id,originalId:t.originalId,groupId:t.groupId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Gl(r),mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,hdr:t.hdr,colorGamut:t.colorGamut,videoLayout:t.videoLayout,kind:t.kind,encrypted:t.encrypted,drmInfos:[],keyIds:t.keyIds,language:t.language,originalLanguage:t.originalLanguage||null,label:t.label,type:t.type,primary:t.primary,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:t.roles,forced:t.forced,channelsCount:t.channelsCount,audioSamplingRate:t.audioSamplingRate,spatialAudio:t.spatialAudio,closedCaptions:t.closedCaptions,tilesLayout:t.tilesLayout,mssPrivateData:t.mssPrivateData,accessibilityPurpose:null,external:t.external,fastSwitching:t.fastSwitching,fullMimeTypes:new Set([Or(t.mimeType,t.codecs)]),isAudioMuxedInVideo:!1,baseOriginalId:null}}function Rb(){this.g=null}function Ib(){}function Db(e,t){var n=wb(e);return n&&"manifest"==n.g?e=Ji(e={uri:e,originalUri:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"},originalRequest:t}):e=n&&"segment"==n.g?function(e,t,n){var r=new fb;return Ji(void 0).Ha((function(){return r.init()})).Ha((function(){return yb(r,t.zb(),t.Ta())})).Ha((function(e){return e.getSegments([t.key()])})).Ha((function(e){return{uri:t,data:e[0].data,headers:{},originalRequest:n}})).finally((function(){return r.destroy()}))}(n.key(),n,t):Xi(new Re(2,1,9004,e)),e}function Ob(e,t,n){var r,i,a,o,s,u;return I((function(c){switch(c.g){case 1:r=[];for(var d=[],p=l(n),f=p.next();!f.done;f=p.next()){f=f.value;for(var h=!1,y=l(d),g=y.next();!g.done;g=y.next())if(Lb((g=g.value).info,f)){g.sessionIds.push(f.sessionId),h=!0;break}h||d.push({info:f,sessionIds:[f.sessionId]})}i=l(d),a=i.next();case 2:if(a.done){c.s(4);break}return o=a.value,s=function(e,t,n){var r,i;return I((function(a){switch(a.g){case 1:return r=new Fa({Xb:t,onError:function(){},pe:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),E(a,2),r.configure(e),b(a,function(e,t,n,r,i,a){var o=new Map;return(i={audioCapabilities:i,videoCapabilities:a,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:t}).drmInfos=[{keySystem:t,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:r,serverCertificateUri:"",initData:null,keyIds:null}],o.set(t,i),Wa(e,o,[])}(r,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:_(a,3);break;case 2:return A(a),b(a,r.destroy(),5);case 5:return a.return([]);case 3:return i=[],b(a,Promise.all(n.sessionIds.map((function(e){return I((function(t){return 1==t.g?(E(t,2),b(t,function(e,t){var n,r,i;return I((function(a){return 1==a.g?b(a,qa(e,t,{initData:null,initDataType:null}),2):3!=a.g?(n=a.h)?(r=[],(i=e.i.get(n))&&(i.ub=new Zi,r.push(i.ub)),r.push(n.remove()),b(a,Promise.all(r),3)):a.return():(e.i.delete(n),void k(a))}))}(r,e),4)):2!=t.g?(i.push(e),_(t,0)):(A(t),void k(t))}))}))),6);case 6:return b(a,r.destroy(),7);case 7:return a.return(i)}}))}(e,t,o),b(c,s,5);case 5:u=c.h,r=r.concat(u),a=i.next(),c.s(2);break;case 4:return c.return(r)}}))}function Lb(e,t){function n(e,t){return e.robustness==t.robustness&&e.contentType==t.contentType}return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&ln(e.audioCapabilities,t.audioCapabilities,n)&&ln(e.videoCapabilities,t.videoCapabilities,n)}function Mb(e,t){var n=xb(new Cb(e.zb(),e.Ta()),t),r=t.appMetadata||{};return n=Nb(n),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,appMetadata:r,isIncomplete:t.isIncomplete||!1}}function Nb(e){for(var t=[],n=Di(e.variants),r=(n=l(n)).next();!r.done;r=n.next())t.push(Ai(r.value));for(n=(e=l(e.textStreams)).next();!n.done;n=e.next())t.push(Si(n.value));return t}function Ub(){this.g=new Map}function Bb(e,t){var n=t.audio,r=t.video;if(n&&!r&&e.g.set(n.id,n.bandwidth||t.bandwidth),!n&&r&&e.g.set(r.id,r.bandwidth||t.bandwidth),n&&r){var i=n.bandwidth||393216,a=r.bandwidth||t.bandwidth-i;0>=a&&(a=t.bandwidth),e.g.set(n.id,i),e.g.set(r.id,a)}}function Fb(e,t){e.g.set(t.id,t.bandwidth||2048)}function jb(e,t){return null==(e=e.g.get(t))&&(e=0),e}function Hb(e){var t=this;if(e&&e.constructor!=dd)throw new Re(2,9,9008);this.g=this.h=null,e?(this.h=e.g,this.g=e.xb()):(this.h=$u(),this.g=new sa),this.i=[],this.l=[];var n=!e;this.j=new ma((function(){var e,r,i,a,o;return I((function(s){switch(s.g){case 1:return b(s,Promise.all(t.l.map((function(e){return eb(e)}))),2);case 2:for(e=function(){},r=[],i=l(t.i),a=i.next();!a.done;a=i.next())o=a.value,r.push(o.then(e,e));return b(s,Promise.all(r),3);case 3:if(!n){s.s(4);break}return b(s,t.g.destroy(),4);case 4:t.h=null,t.g=null,k(s)}}))})),this.m=1e9}function Vb(){if(He())e:{for(var e=l(vb.values()),t=e.next();!t.done;t=e.next())if(t=(t=t.value)()){t.destroy(),e=!0;break e}e=!1}else e=!1;return e}function Gb(e){var t,n,r;return I((function(i){switch(i.g){case 1:return b(i,(t=new fb).init(),2);case 2:return b(i,hb(t),3);case 3:return n=i.h,r=new Sb("manifest",n.path.zb,n.path.Ta,e),b(i,t.destroy(),4);case 4:return b(i,(new Hb).remove(r.toString()),0)}}))}function Kb(e,t,n,r,i,a){var o,s,u,c,d,p,f,h,y,g,v;return I((function(m){switch(m.g){case 1:for(o=!1,E(m,2),s=!0,u=l(n.streams),c=u.next();!c.done;c=u.next())for(d=c.value,p=l(d.segments),f=p.next();!f.done;f=p.next())h=f.value,null!=(y=h.pendingSegmentRefId?r[h.pendingSegmentRefId]:null)&&(h.dataKey=y,h.pendingSegmentRefId=void 0),null!=(y=h.pendingInitSegmentRefId?r[h.pendingInitSegmentRefId]:null)&&(h.initSegmentKey=y,h.pendingInitSegmentRefId=void 0),h.pendingSegmentRefId&&(s=!1),h.pendingInitSegmentRefId&&(s=!1);return n.size+=i,s&&(n.isIncomplete=!1),b(m,e.updateManifest(t,n),4);case 4:o=!0,a(),_(m,0);break;case 2:return g=A(m),b(m,Gb(t),5);case 5:if(o){m.s(6);break}return v=Object.values(r),b(m,e.removeSegments(v,(function(){})),6);case 6:throw g}}))}function zb(e){return e.variants.some((function(e){var t=e.audio&&e.audio.encrypted;return e.video&&e.video.encrypted||t}))}function Wb(e){return e.variants.some((function(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]).some((function(e){return e.initData&&e.initData.length}))}))}function Yb(e,t,n,r){if(t.expiration=n.pd(),n=za(n),t.sessionIds=r?n:[],zb(e)&&r&&!n.length)throw new Re(2,9,9007)}function Zb(e,t){for(var n=[],r=l(e.streams),i=r.next();!i.done;i=r.next())i=i.value,t&&"video"==i.type?n.push({contentType:Or(i.mimeType,i.codecs),robustness:e.drmInfo.videoRobustness}):t||"audio"!=i.type||n.push({contentType:Or(i.mimeType,i.codecs),robustness:e.drmInfo.audioRobustness});return n}function qb(e,t,n){return I((function(r){return b(r,function(e,t,n,r){var i,a,o;return I((function(s){return 1==s.g?r.drmInfo?(i=function(e){var t=Array.from(e.g.keys());if(!t.length)throw new Re(2,9,9e3,"No supported storage mechanisms found");return e.g.get(t[0]).getEmeSessionCell()}(n),a=r.sessionIds.map((function(e){return{sessionId:e,keySystem:r.drmInfo.keySystem,licenseUri:r.drmInfo.licenseServerUri,serverCertificate:r.drmInfo.serverCertificate,audioCapabilities:Zb(r,!1),videoCapabilities:Zb(r,!0)}})),b(s,Ob(t,e,a),2)):s.return():3!=s.g?(o=s.h,b(s,i.remove(o),3)):b(s,i.add(a.filter((function(e){return!o.includes(e.sessionId)}))),0)}))}(e.g,e.h.drm,n,t),0)}))}function Xb(e,t,n){function r(){}var i=function(e){for(var t=new Set,n=(e=l(e.streams)).next();!n.done;n=e.next())for(var r=(n=l(n.value.segments)).next();!r.done;r=n.next())null!=(r=r.value).initSegmentKey&&t.add(r.initSegmentKey),t.add(r.dataKey);return Array.from(t)}(n);return Mb(t,n),Promise.all([e.removeSegments(i,r),e.removeManifests([t.key()],r)])}function Qb(e,t){var n;return I((function(r){switch(r.g){case 1:return E(r,2),b(r,Ec(t,e.g,e.h.streaming.retryParameters),4);case 4:n=r.h,_(r,3);break;case 2:A(r);case 3:if(n)return r.return(n);throw new Re(1,2,2011,t)}}))}function Jb(e,t,n,r,i,a){var o={id:r.id,originalId:r.originalId,groupId:r.groupId,primary:r.primary,type:r.type,mimeType:r.mimeType,codecs:r.codecs,frameRate:r.frameRate,pixelAspectRatio:r.pixelAspectRatio,hdr:r.hdr,colorGamut:r.colorGamut,videoLayout:r.videoLayout,kind:r.kind,language:r.language,originalLanguage:r.originalLanguage,label:r.label,width:r.width||null,height:r.height||null,encrypted:r.encrypted,keyIds:r.keyIds,segments:[],variantIds:[],roles:r.roles,forced:r.forced,channelsCount:r.channelsCount,audioSamplingRate:r.audioSamplingRate,spatialAudio:r.spatialAudio,closedCaptions:r.closedCaptions,tilesLayout:r.tilesLayout,mssPrivateData:r.mssPrivateData,external:r.external,fastSwitching:r.fastSwitching,isAudioMuxedInVideo:r.isAudioMuxedInVideo},s=i.offline.numberOfParallelDownloads,l=0===s?r.id:0;return function(e,t,n){if(t=e.segmentIndex.find(t),null!=t)for(var r=e.segmentIndex.get(t);r;)n(r,t),r=e.segmentIndex.get(++t)}(r,n.presentationTimeline.pb(),(function(n,i){var u=Zm(n),c=void 0;if(!a.has(u)){var d=n.endTime-n.startTime;d=jb(t,r.id)*d,d=Qm(e.g,d),a.set(u,new Ym(n,d,l,!1,i))}n.Y&&(c=Zm(n.Y),a.has(c)||(d=.5*jb(t,r.id),d=Qm(e.g,d),a.set(c,new Ym(n.Y,d,l,!0,i)))),o.segments.push({pendingInitSegmentRefId:c,initSegmentKey:c?0:null,startTime:n.startTime,endTime:n.endTime,appendWindowStart:n.appendWindowStart,appendWindowEnd:n.appendWindowEnd,timestampOffset:n.timestampOffset,tilesLayout:n.tilesLayout,pendingSegmentRefId:u,dataKey:0,mimeType:n.mimeType,codecs:n.codecs,thumbnailSprite:n.thumbnailSprite}),0!==s&&(l=(l+1)%s)})),o}function $b(e){if(e.j.g)throw new Re(2,9,7001)}function ek(){if(!Vb())throw new Re(2,9,9e3)}function tk(e,t){return I((function(n){return 1==n.g?(e.i.push(t),T(n,2),b(n,t,4)):2!=n.g?n.return(n.h):(S(n),sn(e.i,t),w(n,0))}))}function nk(e){for(var t=new Set,n=l(e.variants),r=n.next();!r.done;r=n.next())(r=r.value).audio&&t.add(r.audio),r.video&&t.add(r.video);for(r=(n=l(e.textStreams)).next();!r.done;r=n.next())t.add(r.value);for(n=(e=l(e.imageStreams)).next();!n.done;n=e.next())t.add(n.value);return t}y(mb,lb),mb.prototype.updateManifestExpiration=function(e,t){var n,r,i,a=this;return I((function(o){return n=ob(a.h,a.g),r=n.store(),i=new Zi,r.get(e).onsuccess=function(n){(n=n.target.result)?(n.expiration=t,r.put(n),i.resolve()):i.reject(new Re(2,9,9012,"Could not find values for "+e))},b(o,Promise.all([n.promise(),i]),0)}))},mb.prototype.jd=function(e){var t,n,r,i,a,o;return I((function(s){if(1==s.g){for(t=[],n=0;n<e.periods.length;++n)r=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,i=r-e.periods[n].startTime,a=bb(e.periods[n],i),t.push(a);return b(s,qy(t),2)}return o=s.h,s.return({creationTime:0,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:null==e.expiration?1/0:e.expiration,streams:o,sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata,sequenceMode:!1})}))},mb.prototype.Ig=function(e){return{data:e.data}},y(Eb,lb),Eb.prototype.jd=function(e){var t,n,r,i,a,o;return I((function(s){if(1==s.g){for(t=[],n=0;n<e.periods.length;++n){r=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,i=r-e.periods[n].startTime;for(var u=e.periods[n],c=[],d=l(u.streams),p=d.next();!p.done;p=d.next())0!=(p=p.value).variantIds.length&&c.push(Tb(p,u.startTime,u.startTime+i));a=c,t.push(a)}return b(s,qy(t),2)}return o=s.h,s.return({appMetadata:e.appMetadata,creationTime:0,drmInfo:e.drmInfo,duration:e.duration,expiration:null==e.expiration?1/0:e.expiration,originalManifestUri:e.originalManifestUri,sessionIds:e.sessionIds,size:e.size,streams:o,sequenceMode:!1})}))},y(_b,lb),(n=_b.prototype).hasFixedKeySpace=function(){return!1},n.addSegments=function(e){return this.add(this.i,e)},n.addManifests=function(e){return this.add(this.g,e)},n.updateManifest=function(e,t){return function(e,t,n){var r=(e=ob(e.h,e.g)).store();return r.get(t).onsuccess=function(){r.put(n,t)},e.promise()}(this,e,t)},n.jd=function(e){return null==e.expiration&&(e.expiration=1/0),Promise.resolve(e)},(n=Ab.prototype).init=function(){var t=this,n=new Zi,r=!1,i=new je((function(){r=!0,n.reject(new Re(2,9,9017))}));i.da(5);var a=e.indexedDB.open("shaka_offline_db",5);return a.onsuccess=function(){if(!r){var e=a.result;t.l=e;var o=e.objectStoreNames;o=o.contains("manifest")&&o.contains("segment")?new mb(e,"segment","manifest"):null,t.g=o,o=(o=e.objectStoreNames).contains("manifest-v2")&&o.contains("segment-v2")?new Eb(e,"segment-v2","manifest-v2"):null,t.h=o,o=(o=e.objectStoreNames).contains("manifest-v3")&&o.contains("segment-v3")?new Eb(e,"segment-v3","manifest-v3"):null,t.i=o,o=(o=e.objectStoreNames).contains("manifest-v5")&&o.contains("segment-v5")?new _b(e,"segment-v5","manifest-v5"):null,t.j=o,e=e.objectStoreNames.contains("session-ids")?new pb(e):null,t.m=e,i.stop(),n.resolve()}},a.onupgradeneeded=function(){for(var e=a.result,t=l(["segment-v5","manifest-v5","session-ids"]),n=t.next();!n.done;n=t.next())n=n.value,e.objectStoreNames.contains(n)||e.createObjectStore(n,{autoIncrement:!0})},a.onerror=function(e){r||(n.reject(new Re(2,9,9001,a.error)),i.stop(),e.preventDefault())},n},n.destroy=function(){var e=this;return I((function(t){switch(t.g){case 1:if(!e.g){t.s(2);break}return b(t,e.g.destroy(),2);case 2:if(!e.h){t.s(4);break}return b(t,e.h.destroy(),4);case 4:if(!e.i){t.s(6);break}return b(t,e.i.destroy(),6);case 6:if(!e.j){t.s(8);break}return b(t,e.j.destroy(),8);case 8:if(!e.m){t.s(10);break}return b(t,e.m.destroy(),10);case 10:e.l&&e.l.close(),k(t)}}))},n.getCells=function(){var e=new Map;return this.g&&e.set("v1",this.g),this.h&&e.set("v2",this.h),this.i&&e.set("v3",this.i),this.j&&e.set("v5",this.j),e},n.getEmeSessionCell=function(){return this.m},n.erase=function(){var t=this;return I((function(n){switch(n.g){case 1:if(!t.g){n.s(2);break}return b(n,t.g.destroy(),2);case 2:if(!t.h){n.s(4);break}return b(n,t.h.destroy(),4);case 4:if(!t.i){n.s(6);break}return b(n,t.i.destroy(),6);case 6:if(!t.j){n.s(8);break}return b(n,t.j.destroy(),8);case 8:return t.l&&t.l.close(),b(n,function(){var t=new Zi,n=e.indexedDB.deleteDatabase("shaka_offline_db");return n.onblocked=function(){},n.onsuccess=function(){t.resolve()},n.onerror=function(e){t.reject(new Re(2,9,9001,n.error)),e.preventDefault()},t}(),10);case 10:return t.l=null,t.g=null,t.h=null,t.i=null,t.j=null,b(n,t.init(),0)}}))},gb("idb",(function(){return(!qe()||qe()&&rt())&&!Ke()&&e.indexedDB?new Ab:null})),Sb.prototype.zb=function(){return this.i},Sb.prototype.Ta=function(){return this.h},Sb.prototype.key=function(){return this.l},Sb.prototype.toString=function(){return this.j},(n=Rb.prototype).configure=function(){},n.start=function(e,t){var n,r,i,a,o,s,l=this;return I((function(u){switch(u.g){case 1:if(n=wb(e),l.g=n,null==n||"manifest"!=n.g)throw new Re(2,1,9004,e);return r=new fb,T(u,2),b(u,r.init(),4);case 4:return b(u,yb(r,n.zb(),n.Ta()),5);case 5:return b(u,u.h.getManifests([n.key()]),6);case 6:return i=u.h,a=i[0],o=new Cb(n.zb(),n.Ta()),s=xb(o,a),t.makeTextStreamsForClosedCaptions(s),u.return(s);case 2:return S(u),b(u,r.destroy(),7);case 7:w(u,0)}}))},n.stop=function(){return Promise.resolve()},n.update=function(){},n.onExpirationUpdated=function(e,t){var n,r,i,a,o,s,l,u=this;return I((function(c){switch(c.g){case 1:return n=u.g,r=new fb,E(c,2,3),b(c,r.init(),5);case 5:return b(c,yb(r,n.zb(),n.Ta()),6);case 6:return b(c,(i=c.h).getManifests([n.key()]),7);case 7:if(a=c.h,o=a[0],s=o.sessionIds.includes(e),l=null==o.expiration||o.expiration>t,!s||!l){c.s(3);break}return b(c,i.updateManifestExpiration(n.key(),t),3);case 3:return S(c),b(c,r.destroy(),10);case 10:w(c,0);break;case 2:A(c),c.s(3)}}))},n.onInitialVariantChosen=function(){},n.banLocation=function(){},n.setMediaElement=function(){},Ao("application/x-offline-manifest",(function(){return new Rb})),F("shaka.offline.OfflineScheme",Ib),Ib.plugin=Db,la("offline",Db),(n=Hb.prototype).destroy=function(){return this.j.destroy()},n.configure=function(e,t){return 2==arguments.length&&"string"==typeof e&&(e=Gu(e,t)),tc(this.h,e)},n.getConfiguration=function(){var e=$u();return tc(e,this.h,$u()),e},n.xb=function(){return this.g},n.store=function(e,t,n,r,i){var a=this,o=this.getConfiguration(),s=new $m(this.g);return this.l.push(s),t=function(e,t,n,r,i,a,o,s){var u,c,d,p,f,h,y,g,v,m,T,C,x,P,R,D,O,L,M,N,U,B,F;return I((function(j){switch(j.g){case 1:return ek(),c=u=null,d=new fb,h=f=p=null,E(j,2,3),b(j,a(),5);case 5:return u=j.h,b(j,function(e,t,n,r){var i,a,o,s,l;return I((function(u){if(1==u.g)return i=null,a=e.g,o={networkingEngine:a,filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(e){i=e},isLowLatencyMode:function(){return!1},updateDuration:function(){},newDrmInfo:function(){},onManifestUpdated:function(){},getBandwidthEstimate:function(){return r.abr.defaultBandwidthEstimate},onMetadata:function(){},disableStream:function(){},addFont:function(){}},n.configure(r.manifest),$b(e),b(u,n.start(t,o),2);if(3!=u.g)return s=u.h,$b(e),l=nk(s),b(u,Promise.all(ka(l,(function(e){return e.createSegmentIndex()}))),3);if($b(e),i)throw i;return u.return(s)}))}(e,t,u,o),6);case 6:if(y=j.h,$b(e),!(!y.presentationTimeline.U()&&!y.presentationTimeline.yc()))throw new Re(2,9,9005,t);g=l(r),v=g.next();case 7:if(v.done){j.s(9);break}return m=v.value,b(j,function(e,t,n){var r,i,a,o,s,u,c,d,p,f,h,y,g,v,m;return I((function(k){switch(k.g){case 1:return b(k,Qb(e,t),2);case 2:if("text/vtt"!=(r=k.h))throw new Re(1,2,2017,t);return b(k,function(e,t,n){var r,i,a;return I((function(o){return 1==o.g?(r=ya,(i=ca([e],n)).method="GET",b(o,t.request(r,i).promise,2)):(a=o.h,o.return(a.data))}))}(t,e.g,e.h.streaming.retryParameters),3);case 3:if(i=k.h,!(a=Zr(r)))throw new Re(2,2,2014,r);for(o=a(),s={periodStart:0,segmentStart:0,segmentEnd:n.presentationTimeline.getDuration(),vttOffset:0},u=we(i),c=o.parseMedia(u,s,t,[]),d=[],p=l(c),f=p.next(),h={};!f.done;h={Me:void 0,Nc:void 0},f=p.next())h.Nc=f.value,h.Me=null,y=function(e){return function(){return null==e.Me&&(e.Me=Rt([t],[e.Nc.payload])),e.Me||[]}}(h),g=new fs(h.Nc.startTime,h.Nc.endTime,y,0,null,null,0,0,1/0),h.Nc.payload.includes("#xywh")&&(4===(v=h.Nc.payload.split("#xywh=")[1].split(",")).length&&g.De({height:parseInt(v[3],10),positionX:parseInt(v[0],10),positionY:parseInt(v[1],10),width:parseInt(v[2],10)})),d.push(g);if(m=r,!d.length){k.s(4);break}return b(k,Ec(d[0].N()[0],e.g,e.h.manifest.retryParameters),5);case 5:m=k.h;case 4:return k.return({id:e.m++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Gl(d),mimeType:m||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:"image",primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([Or(m||"","")]),isAudioMuxedInVideo:!1,baseOriginalId:null})}}))}(e,m,y),10);case 10:T=j.h,y.imageStreams.push(T),$b(e),v=g.next(),j.s(7);break;case 9:C=l(i),x=C.next();case 11:return x.done?(io(o.drm.clearKeys,y.variants),D=y.variants.some((function(e){if(e.audio)for(var t=l(e.audio.drmInfos),n=t.next();!n.done;n=t.next())if(n.value.licenseServerUri.startsWith("data:"))return!0;if(e.video)for(t=(e=l(e.video.drmInfos)).next();!t.done;t=e.next())if(t.value.licenseServerUri.startsWith("data:"))return!0;return!1})),O=o.offline.usePersistentLicense,D&&(O=!1),b(j,e.Lc(y,(function(e){h=h||e}),o,O),15)):(P=x.value,b(j,function(e,t,n,r,i,a,o){var s,l;return I((function(u){if(1==u.g)return a?u.s(2):b(u,Qb(e,n),3);if(2!=u.g&&(a=u.h),s={id:e.m++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:zl(0,t.presentationTimeline.getDuration(),[n]),mimeType:a||"",codecs:o||"",kind:i,encrypted:!1,drmInfos:[],keyIds:new Set,language:r,originalLanguage:r,label:null,type:Nt,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([Or(a||"",o||"")]),isAudioMuxedInVideo:!1,baseOriginalId:null},l=Or(s.mimeType,s.codecs),!qr(l))throw new Re(2,2,2014,a);return u.return(s)}))}(e,y,P.uri,P.language,P.kind,P.mime,P.codecs),14));case 14:R=j.h,y.textStreams.push(R),$b(e),x=C.next(),j.s(11);break;case 15:if(c=j.h,$b(e),h)throw h;return b(j,function(e,t,n,r){var i,a,o,s,u,c,d,p,f,h,y,g,v,m,T,S,w,C,x,P,R,D,O,L,M,N,U,B,F;return I((function(I){switch(I.g){case 1:return i={width:1/0,height:1/0},function(e,t,n){e.variants=e.variants.filter((function(e){return yi(e,t,n)}))}(e,n.restrictions,i),b(I,vi(t,e,r,n.drm.preferredKeySystems,n.drm.keySystemsMapping),2);case 2:for(a=[],o=n.preferredDecodingAttributes,s=n.preferredVideoCodecs,u=n.preferredAudioCodecs,c=n.preferredTextFormats,hi(e,s,u,o,c),d=l(e.variants),p=d.next();!p.done;p=d.next())f=p.value,a.push(Ai(f));for(h=l(e.textStreams),y=h.next();!y.done;y=h.next())g=y.value,a.push(Si(g));for(v=l(e.imageStreams),m=v.next();!m.done;m=v.next())T=m.value,a.push(wi(T));return b(I,n.offline.trackSelectionCallback(a),3);case 3:for(S=I.h,w=e.presentationTimeline.getDuration(),C=0,x=l(S),P=x.next();!P.done;P=x.next())R=P.value,D=R.bandwidth*w/8,C+=D;return E(I,4),b(I,n.offline.downloadSizeCallback(C),6);case 6:if(!I.h)throw new Re(2,9,9014);_(I,5);break;case 4:if((O=A(I))instanceof Re)throw O;throw new Re(2,9,9015);case 5:for(L=new Set,M=new Set,N=new Set,U=l(S),B=U.next();!B.done;B=U.next())"variant"==(F=B.value).type&&L.add(F.id),"text"==F.type&&M.add(F.id),"image"==F.type&&N.add(F.id);e.variants=e.variants.filter((function(e){return L.has(e.id)})),e.textStreams=e.textStreams.filter((function(e){return M.has(e.id)})),e.imageStreams=e.imageStreams.filter((function(e){return N.has(e.id)})),function(e){e.variants.map((function(e){return e.video}));var t=new Set(e.variants.map((function(e){return e.audio})));e=e.textStreams;for(var n=l(t),r=n.next();!r.done;r=n.next())for(var i=(r=l(t)).next();!i.done;i=r.next());for(t=l(e),n=t.next();!n.done;n=t.next())for(n=l(e),r=n.next();!r.done;r=n.next());}(e),k(I)}}))}(y,c,o,O),16);case 16:return b(j,d.init(),17);case 17:return $b(e),b(j,hb(d),18);case 18:return p=j.h,$b(e),L=function(e,t,n,r,i,a,o){var s=function(e,t,n){return{offlineUri:null,originalManifestUri:e,duration:t.presentationTimeline.getDuration(),size:0,expiration:1/0,tracks:t=Nb(t),appMetadata:n,isIncomplete:!1}}(n,t,r),u=i.offline.progressCallback;!function(e,t,n){e.o=t,e.m=n}(a,(function(e,t){s.size=t,u(s,e)}),(function(t,n){c&&o&&d==n&&Ka(e,"cenc",t)}));var c=zb(t)&&!Wb(t),d=null;c&&(d=rk.get(e.h.keySystem));for(var p=new Ub,f=l(t.textStreams),h=f.next();!h.done;h=f.next())p.g.set(h.value.id,52);for(f=l(t.imageStreams),h=f.next();!h.done;h=f.next())Fb(p,h.value);for(f=l(t.variants),h=f.next();!h.done;h=f.next())Bb(p,h.value);return a=function(e,t,n,r){for(var i=new Map,a=nk(n),o=new Map,s=(a=l(a)).next();!s.done;s=a.next()){var u=Jb(e,t,n,s=s.value,r,i);o.set(s.id,u)}for(e=l(n.variants),t=e.next();!t.done;t=e.next())(t=t.value).audio&&o.get(t.audio.id).variantIds.push(t.id),t.video&&o.get(t.video.id).variantIds.push(t.id);return{streams:Array.from(o.values()),tg:Array.from(i.values())}}(a,p,t,i),i=a.streams,a=a.tg,(p=e.h)&&o&&(p.initData=[]),{Yi:{creationTime:Date.now(),originalManifestUri:n,duration:t.presentationTimeline.getDuration(),size:0,expiration:e.pd(),streams:i,sessionIds:o?za(e):[],drmInfo:p,appMetadata:r,isIncomplete:!0,sequenceMode:t.sequenceMode,type:t.type},tg:a}}(c,y,t,n,o,s,O),M=L.Yi,N=L.tg,b(j,p.Ta.addManifests([M]),19);case 19:if(U=j.h,$b(e),f=U[0],$b(e),h)throw h;return b(j,function(e,t,n,r,i,a,o,s,u,c){var d,p,f,h,y,g,v,m,T,S,w;return I((function(C){switch(C.g){case 1:if(d={},p=0,f=function(){if(e.j.g||i.l)throw new Re(2,9,7001)},h=function(e,t){var h,y,g,v,m,E,T,_,A;return I((function(S){if(1==S.g){for(h=l(e),y=h.next(),g={};!y.done;g={Nb:void 0},y=h.next())g.Nb=y.value,f(),v=qm(g.Nb,a),m=g.Nb.i,E=g.Nb.h,T=function(e){return function(t){var n,r,i,a;return I((function(s){switch(s.g){case 1:if(n=e.Nb.g,r=n.Ib(!1),!n.aesKey||r){s.s(2);break}return b(s,vu(t,n.aesKey,e.Nb.j),3);case 3:t=s.h;case 2:return i=Zm(n),b(s,o.addSegments([{data:t}]),4);case 4:a=s.h,f(),d[i]=a[0],p+=t.byteLength,k(s)}}))}}(g),_=g.Nb.g,(A=_.Ib(!1))?nb(i,g.Nb.groupId,A,m,E,T):tb(i,g.Nb.groupId,v,m,E,T);return b(S,function(e){return I((function(t){return 1==t.g?b(t,Promise.all(e.i.values()),2):t.return(e.g.g)}))}(i),2)}return f(),!t||i.l?S.s(0):(Yb(s,r,u,c),b(S,o.updateManifest(n,r),0))}))},y=!1,E(C,2),!zb(s)||!y||Wb(s)){C.s(4);break}return b(C,h(t.filter((function(e){return e.h})),!0),5);case 5:return f(),t=t.filter((function(e){return!e.h})),g=d,v=p,d={},p=0,b(C,Kb(o,n,r,g,v,(function(){return $b(e)})),6);case 6:f();case 4:if(y){C.s(7);break}return b(C,h(t,!1),8);case 8:return f(),m=d,T=p,d={},p=0,b(C,Kb(o,n,r,m,T,(function(){return f()})),9);case 9:f();case 7:_(C,0);break;case 2:return S=A(C),w=Object.values(d),b(C,o.removeSegments(w,(function(){})),10);case 10:throw S}}))}(e,N,f,M,s,o,p.Ta,y,c,O),20);case 20:return $b(e),Yb(y,M,c,O),b(j,p.Ta.updateManifest(f,M),21);case 21:return $b(e),B=new Sb("manifest",p.path.zb,p.path.Ta,f),j.return(Mb(B,M));case 3:return S(j),b(j,d.destroy(),22);case 22:if(!u){j.s(23);break}return b(j,u.stop(),23);case 23:if(!c){j.s(25);break}return b(j,c.destroy(),25);case 25:w(j,0);break;case 2:if(F=A(j),null==f){j.s(27);break}return b(j,Gb(f),27);case 27:throw h||F}}))}(this,e,t||{},r||[],i||[],(function(){var t;return I((function(r){return 1==r.g?n?r.s(2):b(r,Ec(e,a.g,o.manifest.retryParameters),3):(2!=r.g&&(n=r.h),t=So(e,n||null),r.return(t()))}))}),o,s),(t=new qi(t,(function(){return eb(s)}))).finally((function(){sn(a.l,s)})),function(e,t){var n=t.promise;return e.i.push(n),t.finally((function(){sn(e.i,n)}))}(this,t)},n.remove=function(e){return tk(this,function(e,t){var n,r,i,a,o,s;return I((function(l){switch(l.g){case 1:if(ek(),null==(n=wb(t))||"manifest"!=n.g)throw new Re(2,9,9004,t);return r=n,i=new fb,T(l,2),b(l,i.init(),4);case 4:return b(l,yb(i,r.zb(),r.Ta()),5);case 5:return b(l,(a=l.h).getManifests([r.key()]),6);case 6:return o=l.h,s=o[0],b(l,Promise.all([qb(e,s,i),Xb(a,r,s)]),2);case 2:return S(l),b(l,i.destroy(),8);case 8:w(l,0)}}))}(this,e))},n.qj=function(){return tk(this,function(e){var t,n,r,i,a,o,s,u,c,d;return I((function(p){switch(p.g){case 1:return ek(),t=e.g,n=e.h.drm,r=new fb,i=!1,T(p,2),b(p,r.init(),4);case 4:a=[],function(e,t){e.g.forEach((function(e){t(e.getEmeSessionCell())}))}(r,(function(e){return a.push(e)})),o=l(a),s=o.next();case 5:if(s.done){p.s(2);break}return b(p,(u=s.value).getAll(),8);case 8:return c=p.h,b(p,Ob(n,t,c),9);case 9:return d=p.h,b(p,u.remove(d),10);case 10:d.length!=c.length&&(i=!0),s=o.next(),p.s(5);break;case 2:return S(p),b(p,r.destroy(),11);case 11:w(p,3);break;case 3:return p.return(!i)}}))}(this))},n.list=function(){return tk(this,I((function(r){switch(r.g){case 1:return ek(),e=[],t=new fb,T(r,2),b(r,t.init(),4);case 4:return n=Promise.resolve(),function(e,t){e.g.forEach((function(e,n){e.getCells().forEach((function(e,r){t({zb:n,Ta:r},e)}))}))}(t,(function(t,r){n=n.then((function(){return I((function(n){if(1==n.g)return b(n,r.getAllManifests(),2);n.h.forEach((function(n,r){n=Mb(new Sb("manifest",t.zb,t.Ta,r),n),e.push(n)})),k(n)}))}))})),b(r,n,2);case 2:return S(r),b(r,t.destroy(),6);case 6:w(r,3);break;case 3:return r.return(e)}})));var e,t,n},n.Lc=function(e,t,n,r){var i,a=this;return I((function(o){return 1==o.g?((i=new Fa({Xb:a.g,onError:t,pe:function(){},onExpirationUpdated:function(){},onEvent:function(){}})).configure(n.drm),b(o,function(e,t,n){return e.ka=!0,e.B=new Map,e.O=n,Ha(e,t,!1)}(i,e.variants,r),2)):3!=o.g?b(o,Ga(i),3):o.return(i)}))},F("shaka.offline.Storage",Hb),Hb.deleteAll=function(){var e;return I((function(t){return 1==t.g?(e=new fb,T(t,2),b(t,function(e){var t,n;return I((function(r){return 1==r.g?(t=Array.from(e.g.values()),(n=0<t.length)||vb.forEach((function(e){(e=e())&&t.push(e)})),b(r,Promise.all(t.map((function(e){return e.erase()}))),2)):n?r.s(0):b(r,Promise.all(t.map((function(e){return e.destroy()}))),0)}))}(e),2)):5!=t.g?(S(t),b(t,e.destroy(),5)):w(t,0)}))},Hb.prototype.list=Hb.prototype.list,Hb.prototype.removeEmeSessions=Hb.prototype.qj,Hb.prototype.remove=Hb.prototype.remove,Hb.prototype.store=Hb.prototype.store,Hb.prototype.getNetworkingEngine=Hb.prototype.xb,Hb.prototype.getConfiguration=Hb.prototype.getConfiguration,Hb.prototype.configure=Hb.prototype.configure,Hb.prototype.destroy=Hb.prototype.destroy,Hb.support=Vb;var rk=(new Map).set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95").set("com.huawei.wiseplay","3d5e6d359b9a41e8b843dd3c6e72c42c");function ik(){}function ak(e,t){for(e={priority:t||0,callback:e},t=0;t<ok.length;t++)if(ok[t].priority<e.priority)return void ok.splice(t,0,e);ok.push(e)}hd("offline",Vb),F("shaka.polyfill",ik),ik.register=ak,ik.installAll=function(){for(var e=l(ok),t=e.next();!t.done;t=e.next()){t=t.value;try{t.callback()}catch(e){Y("Error installing polyfill!",e)}}};var ok=[];function sk(){}function lk(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var e=l(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),t=e.next();!t.done;t=e.next())uk(t.value)}function uk(e){var t="aria-"+e.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,e,{get:function(){return this.getAttribute(t)},set:function(e){null==e||null==e?this.removeAttribute(t):this.setAttribute(t,e)}})}function ck(){}function dk(){$e()||ot("Sky_STB")||v_()}function pk(){}function fk(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,(t=Document.prototype).exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",hk),document.addEventListener("webkitfullscreenerror",hk),document.addEventListener("mozfullscreenchange",hk),document.addEventListener("mozfullscreenerror",hk),document.addEventListener("MSFullscreenChange",hk),document.addEventListener("MSFullscreenError",hk)}}function hk(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),n=document.createEvent("Event");n.initEvent(t,e.bubbles,e.cancelable),e.target.dispatchEvent(n)}function yk(){}function gk(){var e=!0;(qe()&&!rt()&&!it()||Qe()||Je()||$e()||Ye()||ze()||et()||st()&&!Qe())&&(e=!1),e&&navigator.mediaCapabilities||(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),mk=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=vk)}function vk(t){var n,r,i,a,o,s,l;return I((function(u){switch(u.g){case 1:if(n={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:t},r=t.video,i=t.audio,"media-source"!=t.type){if("file"!=t.type)return u.return(n);if(r&&(a=r.contentType,!Ve(a))||i&&(o=i.contentType,!Ve(o)))return u.return(n);u.s(2);break}if(!He())return u.return(n);if(!r){u.s(3);break}return b(u,function(t){var n,r;return I((function(i){return 1==i.g?qe()?b(i,function(t){var n,r,i,a;return I((function(o){if(1==o.g){if(!(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType))return o.return(Kt(t.contentType));switch(n=t.contentType,t.width&&t.height&&1280<t.width&&720<t.height&&(n+="; width="+t.width+"; height="+t.height),t.framerate&&(24>(r=Math.round(t.framerate))||30<r)&&(n+="; framerate="+t.framerate),t.transferFunction||""){case"":case"srgb":break;case"pq":n+="; eotf=smpte2084";break;case"hlg":n+="; eotf=arib-std-b67";break;default:return o.return(!1)}return i=!1,(a=Sk).has(n)?(i=a.get(n),o.s(2)):b(o,cast.__platform__.canDisplayType(n),3)}return 2!=o.g&&(i=o.h,a.set(n,i)),o.return(i)}))}(t),3):ze()?(n=t.contentType,t.width&&t.height&&(n+="; width="+t.width,n+="; height="+t.height),t.framerate&&(n+="; framerate="+t.framerate),t.bitrate&&(n+="; bitrate="+t.bitrate),i.return(Kt(n))):i.s(2):2!=i.g?(r=i.h,i.return(r)):i.return(Kt(t.contentType))}))}(r),4);case 4:if(!u.h)return u.return(n);case 3:if(i){var c=i.contentType;if(qe()&&i.spatialRendering&&(c+="; spatialRendering=true"),!Kt(c))return u.return(n)}case 2:return t.keySystemConfiguration?(s=t.keySystemConfiguration,b(u,function(e,t,n){var r,i,a,o,s,l,u,c,d,p,f;return I((function(h){switch(h.g){case 1:if(r=[],i=[],n.audio&&(a={robustness:n.audio.robustness||"",contentType:t.contentType},ze()&&t.contentType.includes('codecs="ac-3"')&&(a.contentType='audio/mp4; codecs="ec-3"'),n.audio.encryptionScheme&&(a.encryptionScheme=n.audio.encryptionScheme),r.push(a)),n.video&&(o={robustness:n.video.robustness||"",contentType:e.contentType},n.video.encryptionScheme&&(o.encryptionScheme=n.video.encryptionScheme),i.push(o)),s={initDataTypes:[n.initDataType],distinctiveIdentifier:n.distinctiveIdentifier,persistentState:n.persistentState,sessionTypes:n.sessionTypes},r.length&&(s.audioCapabilities=r),i.length&&(s.videoCapabilities=i),l=e?e.contentType:"",u=t?t.contentType:"",c=jr(l)+";"+Fr(l),d=jr(u)+";"+Fr(u),p=n.keySystem,f=null,E(h,2),Be.has(c+"#"+d+"#"+p)){f=Be.get(c+"#"+d+"#"+p)||null,h.s(4);break}return b(h,navigator.requestMediaKeySystemAccess(n.keySystem,[s]),5);case 5:f=h.h,Be.set(c+"#"+d+"#"+p,f);case 4:_(h,3);break;case 2:A(h);case 3:return h.return(f)}}))}(r,i,s),6)):(n.supported=!0,u.return(n));case 6:(l=u.h)&&(n.supported=!0,n.keySystemAccess=l);case 5:return u.return(n)}}))}ik.Aria=sk,sk.install=lk,ak(lk),ik.EncryptionScheme=ck,ck.install=dk,ak(dk,-2),ik.Fullscreen=pk,pk.install=fk,ak(fk),ik.MediaCapabilities=yk,yk.install=gk;var mk=null;yk.originalMcap=mk;var bk,kk,Ek,Tk,_k,Ak,Sk=new Map;function wk(){}function Ck(){var t=tt();(e.MediaSource||e.ManagedMediaSource)&&(t&&e.MediaSource?12>=t?(xk(),Pk()):15>=t&&xk():ot("DT_STB_BCM")?(xk(),Pk()):(ot("Tizen 2")||We()||ot("Tizen 4"))&&function(){var t=MediaSource.isTypeSupported.bind(MediaSource);if(MediaSource.isTypeSupported=function(e){return"opus"!=Fr(e)&&t(e)},e.ManagedMediaSource){var n=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);e.ManagedMediaSource.isTypeSupported=function(e){return"opus"!=Fr(e)&&n(e)}}}()),(e.MediaSource||e.ManagedMediaSource)&&function(){if(e.MediaSource){var t=MediaSource.isTypeSupported.bind(MediaSource);MediaSource.isTypeSupported=function(e){return"mp2t"!=Ur(e)&&t(e)}}if(e.ManagedMediaSource){var n=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);e.ManagedMediaSource.isTypeSupported=function(e){return"mp2t"!=Ur(e)&&n(e)}}}(),e.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&function(){var e=MediaSource.isTypeSupported;Ye()||(MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */),r=n.findIndex((function(e){return e.startsWith("codecs=")}));if(0>r)return e(t);var i=n[r].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),a=i.findIndex((function(e){return e.startsWith("vp09")}));return 0<=a&&(i[a]="vp9",n[r]='codecs="'+i.join(",")+'"',t=n.join("; ")),e(t)})}()}function xk(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var t=e.apply(this,D.apply(0,arguments));return t.abort=function(){},t}}function Pk(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}function Rk(){}function Ik(){screen.orientation&&screen.orientation.unlock||(null!=screen.orientation?(void 0===screen.orientation.lock&&(screen.orientation.lock=function(){return Promise.resolve()}),void 0===screen.orientation.unlock&&(screen.orientation.unlock=function(){})):null!=e.orientation&&function(){function t(){switch(e.orientation){case-90:n.type="landscape-secondary",n.angle=270;break;case 0:n.type="portrait-primary",n.angle=0;break;case 90:n.type="landscape-primary",n.angle=90;break;case 180:n.type="portrait-secondary",n.angle=180}}var n=new Dk;screen.orientation=n,t(),e.addEventListener("orientationchange",(function(){t();var e=new ta("change");n.dispatchEvent(e)}))}())}function Dk(){ia.call(this),this.type="",this.angle=0}function Ok(){}function Lk(t){e.HTMLVideoElement&&e.WebKitMediaKeys&&(void 0!==t&&t&&(bk=!0,kk=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"mediaKeys"),Ek=HTMLMediaElement.prototype.setMediaKeys,Tk=e.MediaKeys,_k=e.MediaKeySystemAccess,Ak=navigator.requestMediaKeySystemAccess),delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Nk,e.MediaKeys=Fk,e.MediaKeySystemAccess=Bk,navigator.requestMediaKeySystemAccess=Mk,e.shakaMediaKeysPolyfill=Kk,Bi.clear(),Be.clear())}function Mk(e,t){try{var n=new Bk(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function Nk(e){var t=this.mediaKeys;return t&&t!=e&&jk(t,null),delete this.mediaKeys,(this.mediaKeys=e)?jk(e,this):Promise.resolve()}function Uk(e){if(xe(e=we(e.initData)).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");e=mt(e=gt(e.subarray(4),!0));var t=new Event("encrypted");t.initDataType="skd",t.initData=Se(e),this.dispatchEvent(t)}function Bk(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(t=(e=l(t)).next();!t.done;t=e.next()){var n=t.value;if("required"==n.persistentState)t=null;else{t={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:n.initDataTypes,sessionTypes:["temporary"],label:n.label};var r=!1,i=!1;if(n.audioCapabilities)for(var a=l(n.audioCapabilities),o=a.next();!o.done;o=a.next())(o=o.value).contentType&&(r=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,o.contentType.split(";")[0])&&(t.audioCapabilities.push(o),i=!0));if(n.videoCapabilities)for(a=(n=l(n.videoCapabilities)).next();!a.done;a=n.next())(a=a.value).contentType&&(r=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,a.contentType.split(";")[0])&&(t.videoCapabilities.push(a),i=!0));r||(i=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),t=i?t:null}if(t)return void(this.g=t)}throw(e=Error("Unsupported keySystem")).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}function Fk(e){this.h=new WebKitMediaKeys(e),this.g=new J}function jk(e,t){if(e.g.Qa(),!t)return Promise.resolve();e.g.D(t,"webkitneedkey",Uk);try{return Pl(t,HTMLMediaElement.HAVE_METADATA,e.g,(function(){t.webkitSetMediaKeys(e.h)})),Promise.resolve()}catch(e){return Promise.reject(e)}}function Hk(e){ia.call(this),this.i=null,this.l=e,this.g=this.h=null,this.j=new J,this.sessionId="",this.expiration=NaN,this.closed=new Zi,this.keyStatuses=new Gk}function Vk(e,t){var n=e.keyStatuses;n.size=null==t?0:1,n.g=t,t=new ta("keystatuseschange"),e.dispatchEvent(t)}function Gk(){this.size=0,this.g=void 0}ak(gk,-1),ik.MediaSource=wk,wk.install=Ck,ak(Ck),ik.Orientation=Rk,Rk.install=Ik,y(Dk,ia),Dk.prototype.lock=function(e){function t(e){return screen.lockOrientation?screen.lockOrientation(e):screen.mozLockOrientation?screen.mozLockOrientation(e):!!screen.msLockOrientation&&screen.msLockOrientation(e)}var n=!1;switch(e){case"natural":n=t("default");break;case"any":n=!0,this.unlock();break;default:n=t(e)}return n?Promise.resolve():((e=Error("screen.orientation.lock() is not available on this device")).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(e))},Dk.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},ak(Ik),ik.PatchedMediaKeysApple=Ok,Ok.uninstall=function(){bk&&(bk=!1,Object.defineProperty(HTMLMediaElement.prototype,"mediaKeys",kk),HTMLMediaElement.prototype.setMediaKeys=Ek,e.MediaKeys=Tk,e.MediaKeySystemAccess=_k,navigator.requestMediaKeySystemAccess=Ak,kk=Ak=Ek=_k=Tk=null,e.shakaMediaKeysPolyfill="",Bi.clear(),Be.clear())},Ok.install=Lk,Bk.prototype.createMediaKeys=function(){var e=new Fk(this.keySystem);return Promise.resolve(e)},Bk.prototype.getConfiguration=function(){return this.g},Fk.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new Hk(this.h,e)},Fk.prototype.setServerCertificate=function(){return Promise.resolve(!1)},Fk.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")},y(Hk,ia),(n=Hk.prototype).generateRequest=function(e,t){var n=this;this.h=new Zi;try{var r=this.l.createSession("video/mp4",we(t));this.i=r,this.sessionId=r.sessionId||"",this.j.D(this.i,"webkitkeymessage",(function(e){n.h&&(n.h.resolve(),n.h=null),e=new ta("message",e=(new Map).set("messageType",null==n.keyStatuses.dc()?"license-request":"license-renewal").set("message",Se(e.message))),n.dispatchEvent(e)})),this.j.D(r,"webkitkeyadded",(function(){n.g&&(Vk(n,"usable"),n.g.resolve(),n.g=null)})),this.j.D(r,"webkitkeyerror",(function(){var e=Error("EME PatchedMediaKeysApple key error");if(e.errorCode=n.i.error,null!=n.h)n.h.reject(e),n.h=null;else if(null!=n.g)n.g.reject(e),n.g=null;else switch(n.i.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:Vk(n,"output-not-allowed");break;default:Vk(n,"internal-error")}})),Vk(this,"status-pending")}catch(e){this.h.reject(e)}return this.h},n.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},n.update=function(e){this.g=new Zi;try{this.i.update(we(e))}catch(e){this.g.reject(e)}return this.g},n.close=function(){try{this.i.close(),this.closed.resolve(),this.j.Qa()}catch(e){this.closed.reject(e)}return this.closed},n.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},(n=Gk.prototype).dc=function(){return this.g},n.forEach=function(e){this.g&&e(this.g,Ue.value())},n.get=function(e){if(this.has(e))return this.g},n.has=function(e){var t=Ue.value();return!(!this.g||!Ae(e,t))},n.entries=function(){},n.keys=function(){},n.values=function(){};var Kk="apple";function zk(){}function Wk(){e.MediaKeys&&(!MediaKeys.prototype.setServerCertificate||We()||ot("Tizen 4")||ot("Tizen 5.0")||Ze())&&(MediaKeys.prototype.setServerCertificate=Yk)}function Yk(){return Promise.resolve(!1)}function Zk(){}function qk(){if(!(!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)lE="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=Qk,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Jk,e.MediaKeys=eE,e.MediaKeySystemAccess=$k,e.shakaMediaKeysPolyfill=uE}}function Xk(e){return lE?lE+e.charAt(0).toUpperCase()+e.slice(1):e}function Qk(e,t){try{var n=new $k(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function Jk(e){var t=this.mediaKeys;return t&&t!=e&&tE(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&tE(e,this),Promise.resolve()}function $k(e,t){this.g=this.keySystem=e;var n=!1;"org.w3.clearkey"==e&&(this.g="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video");for(var a=(t=l(t)).next();!a.done;a=t.next()){var o={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(a=a.value).initDataTypes,sessionTypes:["temporary"],label:a.label},s=!1;if(a.audioCapabilities)for(var u=l(a.audioCapabilities),c=u.next();!c.done;c=u.next())(c=c.value).contentType&&(s=!0,i.canPlayType(c.contentType.split(";")[0],this.g)&&(o.audioCapabilities.push(c),r=!0));if(a.videoCapabilities)for(c=(u=l(a.videoCapabilities)).next();!c.done;c=u.next())(c=c.value).contentType&&(s=!0,i.canPlayType(c.contentType,this.g)&&(o.videoCapabilities.push(c),r=!0));if(s||(r=i.canPlayType("video/mp4",this.g)||i.canPlayType("video/webm",this.g)),"required"==a.persistentState&&(n?(o.persistentState="required",o.sessionTypes=["persistent-license"]):r=!1),r)return void(this.h=o)}throw n="Unsupported keySystem","org.w3.clearkey"!=e&&"com.widevine.alpha"!=e||(n="None of the requested configurations were supported."),(e=Error(n)).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}function eE(e){this.l=e,this.h=null,this.g=new J,this.i=[],this.j=new Map}function tE(e,t){e.h=t,e.g.Qa();var n=lE;t&&(e.g.D(t,n+"needkey",(function(t){var n=new CustomEvent("encrypted");n.initDataType="cenc",n.initData=Se(t.initData),e.h.dispatchEvent(n)})),e.g.D(t,n+"keymessage",(function(t){var n=nE(e,t.sessionId);n&&(t=new ta("message",t=(new Map).set("messageType",null==n.keyStatuses.dc()?"licenserequest":"licenserenewal").set("message",t.message)),n.h&&(n.h.resolve(),n.h=null),n.dispatchEvent(t))})),e.g.D(t,n+"keyadded",(function(t){(t=nE(e,t.sessionId))&&t.ready()})),e.g.D(t,n+"keyerror",(function(t){var n=nE(e,t.sessionId);if(n){var r=Error("EME v0.1b key error"),i=t.errorCode;i.systemCode=t.systemCode,r.errorCode=i,!t.sessionId&&n.h?(45==t.systemCode&&(r.message="Unsupported session type."),n.h.reject(r),n.h=null):t.sessionId&&n.g?(n.g.reject(r),n.g=null):(r=t.systemCode,t.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?oE(n,"output-restricted"):oE(n,1==r?"expired":"internal-error"))}})))}function nE(e,t){var n=e.j.get(t);return n||((n=e.i.shift())?(n.sessionId=t,e.j.set(t,n),n):null)}function rE(e,t,n){ia.call(this),this.j=e,this.m=!1,this.g=this.h=null,this.i=t,this.l=n,this.sessionId="",this.expiration=NaN,this.closed=new Zi,this.keyStatuses=new sE}function iE(e,t,n){if(e.m)return Promise.reject(Error("The session is already initialized."));e.m=!0;try{if("persistent-license"==e.l)if(n)var r=we(mt("LOAD_SESSION|"+n));else{var i=mt("PERSISTENT|");r=Pt(i,t)}else r=we(t)}catch(e){return Promise.reject(e)}e.h=new Zi;var a=Xk("generateKeyRequest");try{e.j[a](e.i,r)}catch(t){if("InvalidStateError"!=t.name)return e.h=null,Promise.reject(t);new je((function(){try{e.j[a](e.i,r)}catch(t){e.h.reject(t),e.h=null}})).da(.01)}return e.h}function aE(e,t,n){if(e.g)e.g.then((function(){return aE(e,t,n)})).catch((function(){return aE(e,t,n)}));else{if(e.g=t,"webkit-org.w3.clearkey"==e.i){var r=yt(n),i=JSON.parse(r);"oct"!=i.keys[0].kty&&(e.g.reject(Error("Response is not a valid JSON Web Key Set.")),e.g=null),r=wt(i.keys[0].k),i=wt(i.keys[0].kid)}else r=we(n),i=null;var a=Xk("addKey");try{e.j[a](e.i,r,i,e.sessionId)}catch(t){e.g.reject(t),e.g=null}}}function oE(e,t){var n=e.keyStatuses;n.size=null==t?0:1,n.g=t,t=new ta("keystatuseschange"),e.dispatchEvent(t)}function sE(){this.size=0,this.g=void 0}ak((function(){e.HTMLVideoElement&&e.WebKitMediaKeys&&(navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||Lk())})),ik.PatchedMediaKeysCert=zk,zk.install=Wk,ak(Wk),ik.PatchedMediaKeysWebkit=Zk,Zk.install=qk,$k.prototype.createMediaKeys=function(){var e=new eE(this.g);return Promise.resolve(e)},$k.prototype.getConfiguration=function(){return this.h},eE.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary")&&"persistent-license"!=e)throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.h||document.createElement("video");return t.src||(t.src="about:blank"),e=new rE(t,this.l,e),this.i.push(e),e},eE.prototype.setServerCertificate=function(){return Promise.resolve(!1)},eE.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")},y(rE,ia),(n=rE.prototype).ready=function(){oE(this,"usable"),this.g&&this.g.resolve(),this.g=null},n.generateRequest=function(e,t){return iE(this,t,null)},n.load=function(e){return"persistent-license"==this.l?iE(this,null,e):Promise.reject(Error("Not a persistent session."))},n.update=function(e){var t=new Zi;return aE(this,t,e),t},n.close=function(){if("persistent-license"!=this.l){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=Xk("cancelKeyRequest");try{this.j[e](this.i,this.sessionId)}catch(e){}}return this.closed.resolve(),this.closed},n.remove=function(){return"persistent-license"!=this.l?Promise.reject(Error("Not a persistent session.")):this.close()},(n=sE.prototype).dc=function(){return this.g},n.forEach=function(e){this.g&&e(this.g,Ue.value())},n.get=function(e){if(this.has(e))return this.g},n.has=function(e){var t=Ue.value();return!(!this.g||!Ae(e,t))},n.entries=function(){},n.keys=function(){},n.values=function(){};var lE="",uE="webkit";function cE(){}function dE(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;t.requestPictureInPicture&&document.exitPictureInPicture||!t.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,t.requestPictureInPicture=fE,Object.defineProperty(t,"disablePictureInPicture",{get:yE,set:gE,enumerable:!0,configurable:!0}),document.exitPictureInPicture=hE,document.addEventListener("webkitpresentationmodechanged",pE,!0))}}function pE(e){if("picture-in-picture"==(e=e.target).webkitPresentationMode){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function fE(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function hE(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function yE(){return!!this.hasAttribute("disablePictureInPicture")||!this.webkitSupportsPresentationMode("picture-in-picture")}function gE(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}function vE(){}function mE(){e.crypto&&("randomUUID"in e.crypto||(e.crypto.randomUUID=bE))}function bE(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.substr(t.lastIndexOf("/")+1)}function kE(){}function EE(){var e=Symbol.prototype;"description"in e||Object.defineProperty(e,"description",{get:TE})}function TE(){var e=/\((.*)\)/.exec(this.toString());return e?e[1]:void 0}function _E(){}function AE(){if(e.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=t.apply(this);return e&&e.catch((function(){})),e}}}function SE(){}function wE(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in t||Ze())&&(t.getVideoPlaybackQuality=CE)}}function CE(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function xE(){}function PE(){if(!e.VTTCue&&e.TextTrackCue){var t=null,n=TextTrackCue.length;if(3==n)t=RE;else if(6==n)t=IE;else{try{var r=!!RE(1,2,"")}catch(e){r=!1}r&&(t=RE)}t&&(e.VTTCue=function(e,n,r){return t(e,n,r)})}}function RE(t,n,r){return new e.TextTrackCue(t,n,r)}function IE(t,n,r){return new e.TextTrackCue(t+"-"+n+"-"+r,t,n,r)}function DE(){}ak(qk),ik.PiPWebkit=cE,cE.install=dE,ak(dE),ik.RandomUUID=vE,vE.install=mE,ak(mE),ik.Symbol=kE,kE.install=EE,ak(EE),ik.VideoPlayPromise=_E,_E.install=AE,ak(AE),ik.VideoPlaybackQuality=SE,SE.install=wE,ak(wE),ik.VTTCue=xE,xE.install=PE,ak(PE),DE.prototype.parseInit=function(){},DE.prototype.setSequenceMode=function(){},DE.prototype.setManifestType=function(){},DE.prototype.parseMedia=function(e,t){for(var n=null,r=[],i=(e=l(e=yt(e).split(/\r?\n/))).next();!i.done;i=e.next())if((i=i.value)&&!/^\s+$/.test(i)&&(i=OE.exec(i))){var a=LE.exec(i[1]);i=new Jn(a=60*parseInt(a[1],10)+parseFloat(a[2].replace(",",".")),t.segmentEnd?t.segmentEnd:a+2,i[2]),n&&(n.endTime=a,r.push(n)),n=i}return n&&r.push(n),r},F("shaka.text.LrcTextParser",DE),DE.prototype.parseMedia=DE.prototype.parseMedia,DE.prototype.setManifestType=DE.prototype.setManifestType,DE.prototype.setSequenceMode=DE.prototype.setSequenceMode,DE.prototype.parseInit=DE.prototype.parseInit;var OE=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,LE=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;function ME(){}function NE(e,t,n,r,i,a,o,s,u,c,d,p,f){var h=c;if(_n(e)){if(!d)return null;var y={tagName:"span",children:[wn(e)],attributes:{},parent:null}}else y=e;for(var g=null,v=l(cT),m=v.next();!m.done&&!(g=KE(y,"backgroundImage",r,"#",m.value)[0]);m=v.next());v=null;var b=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/;if((m=Ln(y,cT,"backgroundImage"))&&b.test(m)){if((v=parseInt(m.split(":").pop(),10)-1)>=f.length)return null;v=f[v]}else p&&m&&!m.startsWith("#")&&(b=new se(p),m=new se(m),(m=b.resolve(m).toString())&&(v=m));if(("p"==e.tagName||g||v)&&(d=!0),e=d,m="default"==(y.attributes["xml:space"]||(s?"default":"preserve")),s=[],!(b=y.children.every(_n)))for(var k=l(y.children),E=k.next();!E.done;E=k.next())(E=NE(E.value,t,n,r,i,a,o,m,u,y,d,p,f))&&s.push(E);if(r=null!=c,p=wn(y),p=y.children.length&&p&&/\S/.test(p),!((k=y.attributes.begin||y.attributes.end||y.attributes.dur)||p||"br"==y.tagName||0!=s.length||r&&!m))return null;for(p=(f=WE(y,n)).start,f=f.end;h&&h.tagName&&"tt"!=h.tagName;)p=(f=zE(h,n,p,f)).start,f=f.end,h=h.parent;if(null==p&&(p=0),p+=t.periodStart,f=null==f?1/0:f+t.periodStart,p=Math.max(p,t.segmentStart),f=Math.min(f,t.segmentEnd),!k&&0<s.length)for(p=1/0,f=0,n=(t=l(s)).next();!n.done;n=t.next())n=n.value,p=Math.min(p,n.startTime),f=Math.max(f,n.endTime);if("br"==y.tagName)return(i=new Jn(p,f,"")).lineBreak=!0,i;if(t="",b&&(t=Et(wn(y)||""),m&&(t=t.replace(/\s+/g," "))),(t=new Jn(p,f,t)).nestedCues=s,d||(t.isContainer=!0),u&&(t.cellResolution=u),u=KE(y,"region",a,"")[0],y.attributes.region&&u&&u.attributes["xml:id"]){var T=u.attributes["xml:id"];t.region=o.filter((function(e){return e.id==T}))[0]}return o=u,c&&r&&!y.attributes.region&&!y.attributes.style&&(o=KE(c,"region",a,"")[0]),function(e,t,n,r,i,a,o,s){o=o||s,"rtl"==jE(t,n,a,"direction",o)&&(e.direction="rtl"),s=jE(t,n,a,"writingMode",o),"tb"==s||"tblr"==s?e.writingMode="vertical-lr":"tbrl"==s?e.writingMode="vertical-rl":"rltb"==s||"rl"==s?e.direction="rtl":s&&(e.direction=cr),(s=jE(t,n,a,"textAlign",!0))?(e.positionAlign=sT.get(s),e.lineAlign=oT.get(s),e.textAlign=sr[s.toUpperCase()]):e.textAlign=or,(s=jE(t,n,a,"displayAlign",!0))&&(e.displayAlign=ur[s.toUpperCase()]);(s=jE(t,n,a,"color",o))&&(e.color=BE(s));(s=jE(t,n,a,"backgroundColor",o))&&(e.backgroundColor=BE(s));(s=jE(t,n,a,"border",o))&&(e.border=s);if(s=jE(t,n,a,"fontFamily",o))switch(s){case"monospaceSerif":e.fontFamily="Courier New,Liberation Mono,Courier,monospace";break;case"proportionalSansSerif":e.fontFamily="Arial,Helvetica,Liberation Sans,sans-serif";break;case"sansSerif":e.fontFamily="sans-serif";break;case"monospaceSansSerif":e.fontFamily="Consolas,monospace";break;case"proportionalSerif":e.fontFamily="serif";break;default:e.fontFamily=s.split(",").filter((function(e){return"default"!=e})).join(",")}(s=jE(t,n,a,"fontWeight",o))&&"bold"==s&&(e.fontWeight=mr),s=jE(t,n,a,"wrapOption",o),e.wrapLine=!s||"noWrap"!=s,(s=jE(t,n,a,"lineHeight",o))&&s.match(JE)&&(e.lineHeight=s),(s=jE(t,n,a,"fontSize",o))&&(s.match(JE)||s.match(QE))&&(e.fontSize=s),(s=jE(t,n,a,"fontStyle",o))&&(e.fontStyle=Er[s.toUpperCase()]);r?(i=r.attributes.imageType||r.attributes.imagetype,s=r.attributes.encoding,r=wn(r).trim(),"PNG"==i&&"Base64"==s&&r&&(e.backgroundImage="data:image/png;base64,"+r)):i&&(e.backgroundImage=i),(r=jE(t,n,a,"textOutline",o))&&(r=r.split(" "),r[0].match(JE)?e.textStrokeColor=e.color:(e.textStrokeColor=BE(r[0]),r.shift()),r[0]&&r[0].match(JE)?e.textStrokeWidth=r[0]:e.textStrokeColor="");(r=jE(t,n,a,"letterSpacing",o))&&r.match(JE)&&(e.letterSpacing=r),(r=jE(t,n,a,"linePadding",o))&&r.match(JE)&&(e.linePadding=r),(r=jE(t,n,a,"opacity",o))&&(e.opacity=parseFloat(r));(r=HE(n,a,"textDecoration"))&&FE(e,r),(r=VE(t,a,"textDecoration"))&&FE(e,r),(r=jE(t,n,a,"textCombine",o))&&(e.textCombineUpright=r);switch(jE(t,n,a,"ruby",o)){case"container":e.rubyTag="ruby";break;case"text":e.rubyTag="rt"}}(t,y,o,g,v,i,e,0==s.length),t}function UE(e,t,n){var r=new nn,i=e.attributes["xml:id"];if(!i)return null;r.id=i,i=null,n&&(i=XE.exec(n)||$E.exec(n)),n=i?Number(i[1]):null,i=i?Number(i[2]):null;var a,o=HE(e,t,"extent");if(o){var s=(a=XE.exec(o))||$E.exec(o);null!=s&&(r.width=Number(s[1]),r.height=Number(s[2]),a||(null!=n&&(r.width=100*r.width/n),null!=i&&(r.height=100*r.height/i)),r.widthUnits=a||null!=n?rn:0,r.heightUnits=a||null!=i?rn:0)}return(e=HE(e,t,"origin"))&&(null!=(s=(a=XE.exec(e))||$E.exec(e))&&(r.viewportAnchorX=Number(s[1]),r.viewportAnchorY=Number(s[2]),a?o||(r.width=100-r.viewportAnchorX,r.widthUnits=rn,r.height=100-r.viewportAnchorY,r.heightUnits=rn):(null!=i&&(r.viewportAnchorY=100*r.viewportAnchorY/i),null!=n&&(r.viewportAnchorX=100*r.viewportAnchorX/n)),r.viewportAnchorUnits=a||null!=n?rn:0)),r}function BE(e){var t=e.match(/rgba\(([^)]+)\)/);return t&&4==(t=t[1].split(",")).length?(t[3]=String(Number(t[3])/255),"rgba("+t.join(",")+")"):e}function FE(e,t){for(var n=(t=l(t.split(" "))).next();!n.done;n=t.next())switch(n.value){case"underline":e.textDecoration.includes(Tr)||e.textDecoration.push(Tr);break;case"noUnderline":e.textDecoration.includes(Tr)&&sn(e.textDecoration,Tr);break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&sn(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&sn(e.textDecoration,"overline")}}function jE(e,t,n,r,i){return i=void 0===i||i,(e=VE(e,n,r))?e:i?HE(t,n,r):null}function HE(e,t,n){if(!e)return null;var r=Ln(e,uT,n);return r||GE(e,t,n)}function VE(e,t,n){var r=Ln(e,uT,n);return r||GE(e,t,n)}function GE(e,t,n){e=KE(e,"style",t,"");for(var r=null,i=0;i<e.length;i++){var a=Dn(e[i],"urn:ebu:tt:style",n);a||(a=Ln(e[i],uT,n)),a||(a=VE(e[i],t,n)),a&&(r=a)}return r}function KE(e,t,n,r,i){var a=[];if(!e||1>n.length)return a;var o=e;for(e=null;!e&&!(e=i?Dn(o,i,t):o.attributes[t])&&(o=o.parent););if(t=e)for(i=(t=l(t.split(" "))).next();!i.done;i=t.next())for(i=i.value,o=(e=l(n)).next();!o.done;o=e.next())if(r+(o=o.value).attributes["xml:id"]==i){a.push(o);break}return a}function zE(e,t,n,r){return e=WE(e,t),null==n?n=e.start:null!=e.start&&(n+=e.start),null==r?r=e.end:null!=e.start&&(r+=e.start),{start:n,end:r}}function WE(e,t){var n=YE(e.attributes.begin,t),r=YE(e.attributes.end,t);return e=YE(e.attributes.dur,t),null==r&&null!=e&&(r=n+e),{start:n,end:r}}function YE(e,t){var n=null;if(eT.test(e)){e=eT.exec(e),n=Number(e[1]);var r=Number(e[2]),i=Number(e[3]),a=Number(e[4]);n=(i+=(a+=(Number(e[5])||0)/t.h)/t.frameRate)+60*r+3600*n}else if(tT.test(e))n=ZE(tT,e);else if(nT.test(e))n=ZE(nT,e);else if(rT.test(e))e=rT.exec(e),n=Number(e[1])/t.frameRate;else if(iT.test(e))e=iT.exec(e),n=Number(e[1])/t.g;else if(aT.test(e))n=ZE(aT,e);else if(e)throw new Re(2,2,2001,"Could not parse cue time range in TTML");return n}function ZE(e,t){return null==(e=e.exec(t))||""==e[0]?null:(Number(e[4])||0)/1e3+(Number(e[3])||0)+60*(Number(e[2])||0)+3600*(Number(e[1])||0)}function qE(e,t,n,r){this.frameRate=Number(e)||30,this.h=Number(t)||1,this.g=Number(r),0==this.g&&(this.g=e?this.frameRate*this.h:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))}Yr("application/x-subtitle-lrc",(function(){return new DE})),ME.prototype.parseInit=function(){},ME.prototype.setSequenceMode=function(){},ME.prototype.setManifestType=function(){},ME.prototype.parseMedia=function(e,t,n,r){var i=yt(e);if(e=[],""==i)return e;var a=En(i,"tt",!0);if(!a)throw new Re(2,2,2005,"Failed to parse TTML.");if(!(i=xn(a,"body")[0]))return[];var o=Ln(a,lT,"frameRate"),s=Ln(a,lT,"subFrameRate"),u=Ln(a,lT,"frameRateMultiplier"),c=Ln(a,lT,"tickRate"),d=Ln(a,lT,"cellResolution"),p=a.attributes["xml:space"]||"default",f=Ln(a,uT,"extent");if("default"!=p&&"preserve"!=p)throw new Re(2,2,2005,"Invalid xml:space value: "+p);p="default"==p,o=new qE(o,s,u,c),d=function(e){return e&&(e=/^(\d+) (\d+)$/.exec(e))?{oc:parseInt(e[1],10),rows:parseInt(e[2],10)}:null}(d),s=((s=xn(a,"metadata")[0])?s.children:[]).filter((function(e){return"\n"!=e})),u=xn(a,"style"),c=[];for(var h=l(a=xn(a,"region")),y=h.next();!y.done;y=h.next())(y=UE(y.value,u,f))&&c.push(y);if(Sn(i,"p").length)throw new Re(2,2,2001,"<p> can only be inside <div> in TTML");for(h=(f=l(Sn(i,"div"))).next();!h.done;h=f.next())if(Sn(h.value,"span").length)throw new Re(2,2,2001,"<span> can only be inside <p> in TTML");return(t=NE(i,t,o,s,u,a,c,p,d,null,!1,n,r))&&(t.backgroundColor||(t.backgroundColor="transparent"),e.push(t)),e},F("shaka.text.TtmlTextParser",ME),ME.prototype.parseMedia=ME.prototype.parseMedia,ME.prototype.setManifestType=ME.prototype.setManifestType,ME.prototype.setSequenceMode=ME.prototype.setSequenceMode,ME.prototype.parseInit=ME.prototype.parseInit;var XE=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,QE=/^(\d{1,4}(?:\.\d+)?|100)%$/,JE=/^(\d+px|\d+em|\d*\.?\d+c)$/,$E=/^(\d+)px (\d+)px$/,eT=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,tT=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,nT=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d+)$/,rT=/^(\d*(?:\.\d*)?)f$/,iT=/^(\d*(?:\.\d*)?)t$/,aT=RegExp("^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$"),oT=(new Map).set("left",fr).set("center","center").set("right","end").set("start",fr).set("end","end"),sT=(new Map).set("left","line-left").set("center","center").set("right","line-right"),lT=["http://www.w3.org/ns/ttml#parameter","http://www.w3.org/2006/10/ttaf1#parameter"],uT=["http://www.w3.org/ns/ttml#styling","http://www.w3.org/2006/10/ttaf1#styling"],cT=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];function dT(){this.g=new ME}function pT(){this.g="UNKNOWN"}function fT(e,t,n){var r;(r=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=r[1],e.textAlign="middle"==t?or:sr[t.toUpperCase()]):(r=/^vertical:(lr|rl)$/.exec(t))?e.writingMode="lr"==r[1]?"vertical-lr":"vertical-rl":(r=/^size:([\d.]+)%$/.exec(t))?e.size=Number(r[1]):(r=/^position:([\d.]+)%(?:,(line-left|line-right|middle|center|start|end|auto))?$/.exec(t))?(e.position=Number(r[1]),r[2]&&(t=r[2],e.positionAlign="line-left"==t||"start"==t?"line-left":"line-right"==t||"end"==t?"line-right":"center"==t||"middle"==t?"center":ar)):(r=/^region:(.*)$/.exec(t))?(t=function(e,t){return e=e.filter((function(e){return e.id==t})),e.length?e[0]:null}(n,r[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=hr[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=pr,e.line=Number(n[1]),n[2]&&(e.lineAlign=hr[n[2].toUpperCase()]))}function hT(){this.g=null}function yT(e,t,n){var r,i,a;return(new wa).box("payl",Ia((function(e){r=yt(e)}))).box("iden",Ia((function(e){i=yt(e)}))).box("sttg",Ia((function(e){a=yt(e)}))).parse(e),r?function(e,t,n,r,i){if(e=new Jn(r,i,e),tr(e),t&&(e.id=t),n)for(t=new cn(n),n=fn(t);n;)fT(e,n,[]),dn(t),n=fn(t);return e}(r,i,a,t,n):null}function gT(){}function vT(){this.g=new pT}function mT(e){var t="WEBVTT\n\n";if(""==e)return t;for(var n=(e=l((e=(e=e.replace(/\r+/g,"")).trim()).split("\n\n"))).next();!n.done;n=e.next())(n=n.value.split(/\n/))[0].match(/\d+/)&&n.shift(),n[0]=n[0].replace(/,/g,"."),t+=n.join("\n").replace(/{b}/g,"<b>").replace(/{\/b}/g,"</b>").replace(/{i}/g,"<i>").replace(/{\/i}/g,"</i>").replace(/{u}/g,"<u>").replace(/{\/u}/g,"</u>")+"\n\n";return t}function bT(){}function kT(e,t){var n=t.Fontname;if(n&&(e.fontFamily=n),(n=t.Fontsize)&&(e.fontSize=n+"px"),(n=t.PrimaryColour)&&(n=ET(n))&&(e.color=n),(n=t.BackColour)&&(n=ET(n))&&(e.backgroundColor=n),t.Bold&&(e.fontWeight=mr),t.Italic&&(e.fontStyle=kr),t.Underline&&e.textDecoration.push(Tr),(n=t.Spacing)&&(e.letterSpacing=n+"px"),n=t.Alignment)switch(parseInt(n,10)){case 1:e.displayAlign=lr,e.textAlign="start";break;case 2:e.displayAlign=lr,e.textAlign=or;break;case 3:e.displayAlign=lr,e.textAlign="end";break;case 5:e.displayAlign="before",e.textAlign="start";break;case 6:e.displayAlign="before",e.textAlign=or;break;case 7:e.displayAlign="before",e.textAlign="end";break;case 9:e.displayAlign="center",e.textAlign="start";break;case 10:e.displayAlign="center",e.textAlign=or;break;case 11:e.displayAlign="center",e.textAlign="end"}(t=t.AlphaLevel)&&(e.opacity=parseFloat(t))}function ET(e){return 0<=(e=parseInt(e.replace("&H",""),16))?"rgba("+(255&e)+","+(e>>8&255)+","+(e>>16&255)+","+(e>>24&255^255)/255+")":null}function TT(e){return 3600*((e=wT.exec(e))[1]?parseInt(e[1].replace(":",""),10):0)+60*parseInt(e[2],10)+parseFloat(e[3])}Yr("application/ttml+xml",(function(){return new ME})),dT.prototype.parseInit=function(e){var t=!1;if((new wa).box("moov",Ca).box("trak",Ca).box("mdia",Ca).box("minf",Ca).box("stbl",Ca).R("stsd",xa).box("stpp",(function(e){t=!0,e.parser.stop()})).parse(e),!t)throw new Re(2,2,2007)},dT.prototype.setSequenceMode=function(){},dT.prototype.setManifestType=function(){},dT.prototype.parseMedia=function(e,t,n){var r=[],i=null,a=[],o=new Map,s=[];if((new wa).box("moof",Ca).box("traf",Ca).R("tfhd",(function(e){i=Co(e.reader,e.flags).md})).R("trun",(function(e){for(var t=(e=l((e=Ro(e.reader,e.version,e.flags)).fg)).next();!t.done;t=e.next())s.push(t.value.sampleSize||i||0)})).R("subs",(function(e){for(var t=e.reader,n=t.S(),r=-1,i=0;i<n;i++){var a=t.S();r+=a,a=t.na();for(var s=[],l=0;l<a;l++)1==e.version?s.push(t.S()):s.push(t.na()),t.X(),t.X(),t.S();o.set(r,s)}})).box("mdat",Ia((function(e){a.push(e)}))).parse(e,!1),0==a.length)throw new Re(2,2,2007);for(var c=Pt.apply(_t,u(a)),d=0,p=0;p<s.length;p++){var f=we(c,d,s[p]);d+=s[p];var h=o.get(p);if(h&&h.length){f=we(f,0,h[0]);for(var y=[],g=h[0],v=1;v<h.length;v++){var m=we(e,g,h[v]);m=At(m),y.push("data:image/png;base64,"+m),g+=h[v]}r=r.concat(this.g.parseMedia(f,t,n,y))}else r=r.concat(this.g.parseMedia(f,t,n,[]))}return r},F("shaka.text.Mp4TtmlParser",dT),dT.prototype.parseMedia=dT.prototype.parseMedia,dT.prototype.setManifestType=dT.prototype.setManifestType,dT.prototype.setSequenceMode=dT.prototype.setSequenceMode,dT.prototype.parseInit=dT.prototype.parseInit,Yr('application/mp4; codecs="stpp"',(function(){return new dT})),Yr('application/mp4; codecs="stpp.ttml"',(function(){return new dT})),Yr('application/mp4; codecs="stpp.ttml.im1i"',(function(){return new dT})),Yr('application/mp4; codecs="stpp.ttml.im1t"',(function(){return new dT})),Yr('application/mp4; codecs="stpp.ttml.im2i"',(function(){return new dT})),Yr('application/mp4; codecs="stpp.ttml.im2t"',(function(){return new dT})),Yr('application/mp4; codecs="stpp.ttml.etd1"',(function(){return new dT})),Yr('application/mp4; codecs="stpp.ttml.etd1|im1t"',(function(){return new dT})),Yr('application/mp4; codecs="stpp.ttml.im1t|etd1"',(function(){return new dT})),Yr('application/mp4; codecs="stpp.TTML.im1t"',(function(){return new dT})),pT.prototype.parseInit=function(){},pT.prototype.setSequenceMode=function(){},pT.prototype.setManifestType=function(e){this.g=e},pT.prototype.parseMedia=function(e,t){var n=(e=(e=yt(e)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new Re(2,2,2e3);if(e=t.vttOffset,"HLS"==this.g)if(n[0].includes("X-TIMESTAMP-MAP")){var r=n[0];if(e=r.match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),r=r.match(/MPEGTS:(\d+)/m),!e||!r)throw new Re(2,2,2e3);if(null==(e=yn(e[1])))throw new Re(2,2,2e3);r=Number(r[1]);for(var i=t.segmentStart-t.periodStart;95443.7176888889<=i;)i-=95443.7176888889,r+=8589934592;e=t.periodStart+r/9e4-e}else t.periodStart&&t.vttOffset==t.periodStart&&(e=0);for(t=[],i=(r=l(n[0].split("\n"))).next();!i.done;i=r.next())if(i=i.value,/^Region:/.test(i)){i=new cn(i);var a=new nn;fn(i),dn(i);for(var o=fn(i);o;){var s=a,u=o;(o=/^id=(.*)$/.exec(u))?s.id=o[1]:(o=/^width=(\d{1,2}|100)%$/.exec(u))?s.width=Number(o[1]):(o=/^lines=(\d+)$/.exec(u))?(s.height=Number(o[1]),s.heightUnits=2):(o=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(u))?(s.regionAnchorX=Number(o[1]),s.regionAnchorY=Number(o[2])):(o=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(u))?(s.viewportAnchorX=Number(o[1]),s.viewportAnchorY=Number(o[2])):/^scroll=up$/.exec(u)&&(s.scroll="up"),dn(i),o=fn(i)}t.push(a)}for(nr(r=new Map),i=[],a=(n=l(n.slice(1))).next();!a.done;a=n.next()){if((1!=(a=a.value.split("\n")).length||a[0])&&!/^NOTE($|[ \t])/.test(a[0])&&"STYLE"==a[0]){for(s=[],o=-1,u=1;u<a.length;u++)a[u].includes("::cue")&&(s.push([]),o=s.length-1),-1!=o&&(s[o].push(a[u]),a[u].includes("}")&&(o=-1));for(o=(s=l(s)).next();!o.done;o=s.next()){var c=o.value;o="global",(u=c[0].match(/\((.*)\)/))&&(o=u.pop()),u=c.slice(1,-1),c[0].includes("}")&&(c=/\{(.*?)\}/.exec(c[0]))&&(u=c[1].split(";")),(c=r.get(o))||(c=new Jn(0,0,""));for(var d=!1,p=0;p<u.length;p++){var f=/^\s*([^:]+):\s*(.*)/.exec(u[p]);if(f){var h=f[2].trim().replace(";","");switch(f[1].trim()){case"background-color":case"background":d=!0,c.backgroundColor=h;break;case"color":d=!0,c.color=h;break;case"font-family":d=!0,c.fontFamily=h;break;case"font-size":d=!0,c.fontSize=h;break;case"font-weight":(700<=parseInt(h,10)||"bold"==h)&&(d=!0,c.fontWeight=mr);break;case"font-style":switch(h){case"normal":d=!0,c.fontStyle=br;break;case"italic":d=!0,c.fontStyle=kr;break;case"oblique":d=!0,c.fontStyle="oblique"}break;case"opacity":d=!0,c.opacity=parseFloat(h);break;case"text-combine-upright":d=!0,c.textCombineUpright=h;break;case"text-shadow":d=!0,c.textShadow=h;break;case"white-space":d=!0,c.wrapLine="noWrap"!=h}}}d&&r.set(o,c)}}if(d=e,1==(c=a).length&&!c[0]||/^NOTE($|[ \t])/.test(c[0])||"STYLE"==c[0]||"REGION"==c[0])a=null;else if(a=null,c[0].includes("--\x3e")||(a=c[0],c.splice(0,1)),o=hn(s=new cn(c[0])),p=pn(s,/[ \t]+--\x3e[ \t]+/g),u=hn(s),null==o||null==p||null==u)Y("Failed to parse VTT time code. Cue skipped:",a,c),a=null;else{for(o+=d,u+=d,d=c.slice(1).join("\n").trim(),r.has("global")?((c=r.get("global").clone()).startTime=o,c.endTime=u,c.payload=d):c=new Jn(o,u,d),dn(s),o=fn(s);o;)fT(c,o,t),dn(s),o=fn(s);tr(c,r),null!=a&&(c.id=a),a=c}a&&i.push(a)}return i},F("shaka.text.VttTextParser",pT),pT.prototype.parseMedia=pT.prototype.parseMedia,pT.prototype.setManifestType=pT.prototype.setManifestType,pT.prototype.setSequenceMode=pT.prototype.setSequenceMode,pT.prototype.parseInit=pT.prototype.parseInit,Yr("text/vtt",(function(){return new pT})),Yr('text/vtt; codecs="vtt"',(function(){return new pT})),Yr('text/vtt; codecs="wvtt"',(function(){return new pT})),hT.prototype.parseInit=function(e){var t=this,n=!1;if((new wa).box("moov",Ca).box("trak",Ca).box("mdia",Ca).R("mdhd",(function(e){e=Po(e.reader,e.version),t.g=e.timescale})).box("minf",Ca).box("stbl",Ca).R("stsd",xa).box("wvtt",(function(){n=!0})).parse(e),!this.g)throw new Re(2,2,2008);if(!n)throw new Re(2,2,2008)},hT.prototype.setSequenceMode=function(){},hT.prototype.setManifestType=function(){},hT.prototype.parseMedia=function(e,t){if(!e.length)return[];if(!this.g)throw new Re(2,2,2008);var n,r=0,i=[],a=[],o=!1,s=!1,u=!1,c=null;if((new wa).box("moof",Ca).box("traf",Ca).R("tfdt",(function(e){o=!0,r=xo(e.reader,e.version).baseMediaDecodeTime})).R("tfhd",(function(e){c=Co(e.reader,e.flags).ld})).R("trun",(function(e){s=!0,i=Ro(e.reader,e.version,e.flags).fg})).box("mdat",Ia((function(e){u=!0,n=e}))).parse(e,!1),!u&&!o&&!s)throw new Re(2,2,2008);e=r;for(var d=new _a(n,0),p=l(i),f=p.next();!f.done;f=p.next()){var h=(f=f.value).gg||c,y=f.ye?r+f.ye:e;e=y+(h||0);var g=0;do{var v=d.S();g+=v;var m=null;"vttc"==Oa(d.S())?8<v&&(m=d.Cb(v-8)):d.skip(v-8),h&&m&&(v=yT(m,t.periodStart+y/this.g,t.periodStart+e/this.g),a.push(v))}while(f.sampleSize&&g<f.sampleSize)}return a.filter(ti)},F("shaka.text.Mp4VttParser",hT),hT.prototype.parseMedia=hT.prototype.parseMedia,hT.prototype.setManifestType=hT.prototype.setManifestType,hT.prototype.setSequenceMode=hT.prototype.setSequenceMode,hT.prototype.parseInit=hT.prototype.parseInit,Yr('application/mp4; codecs="wvtt"',(function(){return new hT})),gT.prototype.parseInit=function(){},gT.prototype.setSequenceMode=function(){},gT.prototype.setManifestType=function(){},gT.prototype.parseMedia=function(e){var t=yt(e).replace(/\r+/g,"");if(e=[],""==(t=t.trim()))return e;for(var n=(t=l(t.split("\n\n"))).next();!n.done;n=t.next()){var r=new cn((n=n.value.split("\n"))[0]),i=hn(r),a=pn(r,/,/g);if(r=hn(r),null==i||null==a||null==r)throw new Re(2,2,2001,"Could not parse cue time range in SubViewer");e.push(new Jn(i,r,n.slice(1).join("\n").trim()))}return e},F("shaka.text.SbvTextParser",gT),gT.prototype.parseMedia=gT.prototype.parseMedia,gT.prototype.setManifestType=gT.prototype.setManifestType,gT.prototype.setSequenceMode=gT.prototype.setSequenceMode,gT.prototype.parseInit=gT.prototype.parseInit,Yr("text/x-subviewer",(function(){return new gT})),vT.prototype.parseInit=function(){},vT.prototype.setSequenceMode=function(){},vT.prototype.setManifestType=function(){},vT.prototype.parseMedia=function(e,t,n){return e=we(mt(e=mT(e=yt(e)))),this.g.parseMedia(e,t,n,[])},F("shaka.text.SrtTextParser",vT),vT.srt2webvtt=mT,vT.prototype.parseMedia=vT.prototype.parseMedia,vT.prototype.setManifestType=vT.prototype.setManifestType,vT.prototype.setSequenceMode=vT.prototype.setSequenceMode,vT.prototype.parseInit=vT.prototype.parseInit,Yr("text/srt",(function(){return new vT})),bT.prototype.parseInit=function(){},bT.prototype.setSequenceMode=function(){},bT.prototype.setManifestType=function(){},bT.prototype.parseMedia=function(e){var t="",n="",r=null,i=null;for(i=(e=l(i=yt(e).split(/\r?\n\s*\r?\n/))).next();!i.done;i=e.next()){var a=i.value;i=a,(a=_T.exec(a))&&(r=a[1],i=a[2]),"V4 Styles"==r||"V4+ Styles"==r?(t=i,t=n?t+"\n"+i:i):"Events"==r&&(n=n?n+"\n"+i:i)}for(r=[],i=null,e=(t=l(t.split(/\r?\n/))).next();!e.done;e=t.next())if(e=e.value,!/^\s*;/.test(e)&&(a=AT.exec(e)))if(e=a[1].trim(),a=a[2].trim(),"Format"==e)i=a.split(ST);else if("Style"==e){e=a.split(ST),a={};for(var o=0;o<i.length&&o<e.length;o++)a[i[o]]=e[o];r.push(a)}for(i=[],t=null,a=(n=l(n.split(/\r?\n/))).next(),e={};!a.done;e={Dh:void 0},a=n.next())if(a=a.value,!/^\s*;/.test(a)&&(o=AT.exec(a)))if(a=o[1].trim(),o=o[2].trim(),"Format"==a)t=o.split(ST);else if("Dialogue"==a){o=o.split(ST),a={};for(var s=0;s<t.length&&s<o.length;s++)a[t[s]]=o[s];o=new Jn(s=TT(a.Start),TT(a.End),o.slice(t.length-1).join(",").replace(/\\N/g,"\n").replace(/\{[^}]+\}/g,"")),e.Dh=a.Style,(e=r.find(function(e){return function(t){return t.Name==e.Dh}}(e)))&&kT(o,e),i.push(o)}return i},F("shaka.text.SsaTextParser",bT),bT.prototype.parseMedia=bT.prototype.parseMedia,bT.prototype.setManifestType=bT.prototype.setManifestType,bT.prototype.setSequenceMode=bT.prototype.setSequenceMode,bT.prototype.parseInit=bT.prototype.parseInit;var _T=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,AT=/^\s*([^:]+):\s*(.*)/,ST=/\s*,\s*/,wT=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;function CT(e,t){var n=1&e[t+1]?7:9;return t+n<=e.length&&0<(e=((3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5)-n)?{ud:n,ia:e}:null}function xT(e,t){var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=(60&e[t+2])>>>2;if(r>n.length-1)return null;var i=1+((192&e[t+2])>>>6),a=(1&e[t+2])<<2;return a|=(192&e[t+3])>>>6,{sampleRate:n[r],channelCount:a,codec:"mp4a.40."+i}}function PT(e,t){if(t+1<e.length&&255===e[t]&&240==(246&e[t+1])){var n=1&e[t+1]?7:9;if(t+n>=e.length)return!1;var r=(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5;return!(r<=n)&&((t+=r)===e.length||t+1<e.length&&255===e[t]&&240==(246&e[t+1]))}return!1}function RT(e){this.j=e,this.h=0,this.g=new Map,this.i=null}function IT(e,t){if(t+8>e.length||11!==e[t]||119!==e[t+1])return null;var n=e[t+4]>>6;if(3<=n)return null;var r=63&e[t+4],i=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*r+n];if(t+i>e.length)return null;var a=e[t+6]>>5,o=0;2===a?o+=2:(1&a&&1!==a&&(o+=2),4&a&&(o+=2)),o=(e[t+6]<<8|e[t+7])>>12-o&1;var s=7&e[t+5];return e=new Uint8Array([n<<6|e[t+5]>>3<<1|s>>2,(3&s)<<6|a<<3|o<<2|r>>4,r<<4&224]),{sampleRate:[48e3,44100,32e3][n],channelCount:[2,1,2,3,3,4,4,5][a]+o,ra:e,ia:i}}function DT(e,t){if(11===e[t]&&119===e[t+1]){var n,r,i=0,a=5;for(t+=a;0<a;){r=e[t];var o=Math.min(a,8),s=8-o;n=(r&(n=4278190080>>>24+s<<s))>>s,i=i?i<<o|n:n,t+=1,a-=o}if(16>i)return!0}return!1}function OT(e){this.j=e,this.h=0,this.g=new Map,this.i=null}function LT(e,t){if(t+8>e.length||2935!=(e[t]<<8|e[t+1]<<0))return null;var n=new Ds(e.subarray(t+2));Ls(n,2),Ls(n,3);var r=Ms(n,11)+1<<1,i=Ms(n,2);if(3==i){i=[24e3,22060,16e3][i=Ms(n,2)];var a=3}else i=[48e3,44100,32e3][i],a=Ms(n,2);var o=Ms(n,3),s=Ms(n,1);return n=Ms(n,5),t+r>e.byteLength?null:(e=Math.floor(r*i/(16*[1,2,3,6][a])),e=new Uint8Array([(8160&e)>>5,(31&e)<<3,i<<6|n<<1|0,0|o<<1|s<<0,0]),{sampleRate:i,channelCount:[2,1,2,3,3,4,4,5][o]+s,ra:e,ia:r})}function MT(e){this.j=e,this.h=0,this.g=new Map,this.i=null}Yr("text/x-ssa",(function(){return new bT})),(n=RT.prototype).destroy=function(){this.g.clear()},n.isSupported=function(e){return"audio/aac"==e.toLowerCase().split(";")[0]&&Kt(this.convertCodecs("audio",e))},n.convertCodecs=function(e,t){return"audio/aac"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="'+(Hr(t)||"mp4a.40.2")+'"':t},n.getOriginalMimeType=function(){return this.j},n.transmux=function(e,t,n,r){for(var i=we(e),a=Is(i),o=a.length;o<i.length&&!PT(i,o);o++);if(e=1e3*n.endTime,(a=Rs(a)).length&&n&&(a=a.find((function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description})))&&(e=a.data),!(a=xT(i,o)))return Promise.reject(new Re(2,3,3018,n?n.N()[0]:null));t.audioSamplingRate=a.sampleRate,t.channelsCount=a.channelCount;for(var s=[];o<i.length;){var l=CT(i,o);if(!l)return Promise.reject(new Re(2,3,3018,n?n.N()[0]:null));var u=l.ud+l.ia;o+u<=i.length&&s.push({data:i.subarray(o+l.ud,o+u),size:l.ia,duration:1024,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),o+=u}return i=a.sampleRate,e=Math.floor(e*i/1e3),r=new Mo([r={id:t.id,type:"audio",codecs:a.codec,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:i,duration:r,lb:[],ra:new Uint8Array([]),Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.h,baseMediaDecodeTime:e,jb:s},stream:t}]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=No(r),this.g.set(n,t)),n=this.i!==t,r=Ho(r),this.i=t,this.h++,n?(t=Pt(t,r),Promise.resolve(t)):Promise.resolve(r)},F("shaka.transmuxer.AacTransmuxer",RT),RT.prototype.transmux=RT.prototype.transmux,RT.prototype.getOriginalMimeType=RT.prototype.getOriginalMimeType,RT.prototype.convertCodecs=RT.prototype.convertCodecs,RT.prototype.isSupported=RT.prototype.isSupported,RT.prototype.destroy=RT.prototype.destroy,Sr("audio/aac",(function(){return new RT("audio/aac")}),xr),(n=OT.prototype).destroy=function(){this.g.clear()},n.isSupported=function(e){return"audio/ac3"==e.toLowerCase().split(";")[0]&&Kt(this.convertCodecs("audio",e))},n.convertCodecs=function(e,t){return"audio/ac3"==t.toLowerCase().split(";")[0]?We()?'audio/mp4; codecs="ec-3"':'audio/mp4; codecs="ac-3"':t},n.getOriginalMimeType=function(){return this.j},n.transmux=function(e,t,n,r){for(var i=Is(e=we(e)),a=i.length;a<e.length&&!DT(e,a);a++);var o=1e3*n.endTime;(i=Rs(i)).length&&n&&(i=i.find((function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description})))&&(o=i.data),i=0;for(var s=new Uint8Array([]),l=[];a<e.length;){var u=IT(e,a);if(!u)return Promise.reject(new Re(2,3,3018,n?n.N()[0]:null));t.audioSamplingRate=u.sampleRate,t.channelsCount=u.channelCount,i=u.sampleRate,s=u.ra,l.push({data:e.subarray(a,a+u.ia),size:u.ia,duration:1536,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),a+=u.ia}return e=Math.floor(o*i/1e3),r=new Mo([r={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:i,duration:r,lb:[],ra:s,Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.h,baseMediaDecodeTime:e,jb:l},stream:t}]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=No(r),this.g.set(n,t)),n=this.i!==t,r=Ho(r),this.i=t,this.h++,n?(t=Pt(t,r),Promise.resolve(t)):Promise.resolve(r)},F("shaka.transmuxer.Ac3Transmuxer",OT),OT.prototype.transmux=OT.prototype.transmux,OT.prototype.getOriginalMimeType=OT.prototype.getOriginalMimeType,OT.prototype.convertCodecs=OT.prototype.convertCodecs,OT.prototype.isSupported=OT.prototype.isSupported,OT.prototype.destroy=OT.prototype.destroy,Sr("audio/ac3",(function(){return new OT("audio/ac3")}),xr),(n=MT.prototype).destroy=function(){this.g.clear()},n.isSupported=function(e){return"audio/ec3"==e.toLowerCase().split(";")[0]&&Kt(this.convertCodecs("audio",e))},n.convertCodecs=function(e,t){return"audio/ec3"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="ec-3"':t},n.getOriginalMimeType=function(){return this.j},n.transmux=function(e,t,n,r){for(var i=Is(e=we(e)),a=i.length;a<e.length&&2935!=(e[a]<<8|e[a+1]<<0);a++);var o=1e3*n.endTime;(i=Rs(i)).length&&n&&(i=i.find((function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description})))&&(o=i.data),i=0;for(var s=new Uint8Array([]),l=[];a<e.length;){var u=LT(e,a);if(!u)return Promise.reject(new Re(2,3,3018,n?n.N()[0]:null));t.audioSamplingRate=u.sampleRate,t.channelsCount=u.channelCount,i=u.sampleRate,s=u.ra,l.push({data:e.subarray(a,a+u.ia),size:u.ia,duration:1536,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),a+=u.ia}return e=Math.floor(o*i/1e3),r=new Mo([r={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:i,duration:r,lb:[],ra:s,Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.h,baseMediaDecodeTime:e,jb:l},stream:t}]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=No(r),this.g.set(n,t)),n=this.i!==t,r=Ho(r),this.i=t,this.h++,n?(t=Pt(t,r),Promise.resolve(t)):Promise.resolve(r)},F("shaka.transmuxer.Ec3Transmuxer",MT),MT.prototype.transmux=MT.prototype.transmux,MT.prototype.getOriginalMimeType=MT.prototype.getOriginalMimeType,MT.prototype.convertCodecs=MT.prototype.convertCodecs,MT.prototype.isSupported=MT.prototype.isSupported,MT.prototype.destroy=MT.prototype.destroy,Sr("audio/ec3",(function(){return new MT("audio/ec3")}),xr);var NT=[100,110,122,244,44,83,86,118,128,138,139,134];function UT(e){if(!e.length)return null;var t=e.find((function(e){return 32==e.type})),n=e.find((function(e){return 33==e.type})),r=e.find((function(e){return 34==e.type}));if(!t||!n||!r)return null;var i=function(e){var t=new Ds(e,!0);return Hs(t),Hs(t),Ms(t,4),Ms(t,2),Ms(t,6),e=Ms(t,3),t=js(t),{Uf:e+1,rg:t}}(t.fullData);e=function(e){e=new Ds(e,!0),Hs(e),Hs(e);var t=0,n=0,r=0,i=0;Ms(e,4);var a=Ms(e,3);js(e);for(var o=Ms(e,2),s=Ms(e,1),l=Ms(e,5),u=Hs(e),c=Hs(e),d=Hs(e),p=Hs(e),f=Hs(e),h=Hs(e),y=Hs(e),g=Hs(e),v=Hs(e),m=Hs(e),b=Hs(e),k=[],E=[],T=0;T<a;T++)k.push(js(e)),E.push(js(e));if(0<a)for(T=a;8>T;T++)Ms(e,2);for(T=0;T<a;T++)k[T]&&Ms(e,88),E[T]&&Hs(e);Bs(e),k=Bs(e),3==k&&Ms(e,1),E=Bs(e),T=Bs(e),js(e)&&(t+=Bs(e),n+=Bs(e),r+=Bs(e),i+=Bs(e));var _=Bs(e),A=Bs(e),S=Bs(e);if(js(e))for(var w=0;w<=a;w++)Bs(e),Bs(e),Bs(e);else Bs(e),Bs(e),Bs(e);if(Bs(e),Bs(e),Bs(e),Bs(e),Bs(e),Bs(e),js(e)&&js(e))for(w=0;4>w;w++)for(var C=0;C<(3===w?2:6);C++)if(js(e)){var x=Math.min(64,1<<4+(w<<1));1<w&&Fs(e);for(var P=0;P<x;P++)Fs(e)}else Bs(e);for(js(e),js(e),js(e)&&(Hs(e),Bs(e),Bs(e),js(e)),w=Bs(e),x=C=0;x<w;x++)if(P=!1,0!==x&&(P=js(e)),P){x===w&&Bs(e),js(e),Bs(e);for(var R=P=0;R<=C;R++){var I=js(e),D=!1;I||(D=js(e)),(I||D)&&P++}C=P}else{for(C=(R=Bs(e))+(P=Bs(e)),I=0;I<R;I++)Bs(e),js(e);for(R=0;R<P;R++)Bs(e),js(e)}if(js(e))for(w=Bs(e),C=0;C<w;C++){for(x=0;x<S+4;x++)Ms(e,1);Ms(e,1)}if(w=S=1,C=0,js(e),js(e),js(e)){if(js(e)&&(P=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],R=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1],0<(x=Hs(e))&&16>=x?(S=P[x-1],w=R[x-1]):255===x&&(S=Ms(e,16),w=Ms(e,16))),js(e)&&js(e),js(e)&&(Ms(e,3),js(e),js(e)&&(Hs(e),Hs(e),Hs(e))),js(e)&&(Bs(e),Bs(e)),js(e),js(e),js(e),(x=js(e))&&(Bs(e),Bs(e),Bs(e),Bs(e)),js(e)&&(Ms(e,32),Ms(e,32),js(e)&&Bs(e),js(e)))for(R=!1,x=js(e),P=js(e),(x||P)&&((R=js(e))&&(Hs(e),Ms(e,5),js(e),Ms(e,5)),Ms(e,4),Ms(e,4),R&&Ms(e,4),Ms(e,5),Ms(e,5),Ms(e,5)),I=0;I<=a;I++){var O=!0;D=1,js(e)||(O=js(e));var L=!1;if(O?Bs(e):L=js(e),L||(D=Bs(e)+1),x){for(O=0;O<D;O++)Bs(e),Bs(e),R&&(Bs(e),Bs(e));js(e)}if(P){for(O=0;O<D;O++)Bs(e),Bs(e),R&&(Bs(e),Bs(e));js(e)}}js(e)&&(js(e),js(e),js(e),C=Bs(e),Bs(e),Bs(e),Bs(e),Bs(e))}return{yf:b,Ef:o,Ff:s,Df:l,zf:u,Af:c,Bf:d,Cf:p,rf:f,tf:h,uf:y,vf:g,wf:v,xf:m,le:C,hf:0,ff:k,ef:_,df:A,width:E-(t+n)*(1===k||2===k?2:1),height:T-(r+i)*(1===k?2:1),vj:S,uj:w}}(n.fullData);var a=function(e){var t=new Ds(e,!0);Hs(t),Hs(t),Bs(t),Bs(t),js(t),js(t),Ms(t,3),js(t),js(t),Bs(t),Bs(t),Fs(t),js(t),js(t),js(t)&&Bs(t),Fs(t),Fs(t),js(t),js(t),js(t),js(t),e=js(t),t=js(t);var n=1;return t&&e?n=0:t?n=3:e&&(n=2),{Wf:n}}(r.fullData);return t=function(e,t,n,r){var i=new Uint8Array(23+(5+e.byteLength)+(5+t.byteLength)+(5+n.byteLength));return i[0]=1,i[1]=(3&r.Ef)<<6|(r.Ff?1:0)<<5|31&r.Df,i[2]=r.zf,i[3]=r.Af,i[4]=r.Bf,i[5]=r.Cf,i[6]=r.rf,i[7]=r.tf,i[8]=r.uf,i[9]=r.vf,i[10]=r.wf,i[11]=r.xf,i[12]=r.yf,i[13]=240|(3840&r.le)>>8,i[14]=255&r.le,i[15]=252|3&r.Wf,i[16]=252|3&r.ff,i[17]=248|7&r.ef,i[18]=248|7&r.df,i[19]=0,i[20]=0,i[21]=(3&r.hf)<<6|(7&r.Uf)<<3|(r.rg?1:0)<<2|3,i[22]=3,i[23]=160,i[24]=0,i[25]=1,i[26]=(65280&e.byteLength)>>8,i[27]=(255&e.byteLength)>>0,i.set(e,28),i[23+(5+e.byteLength)]=161,i[e.byteLength+29]=0,i[e.byteLength+30]=1,i[e.byteLength+31]=(65280&t.byteLength)>>8,i[e.byteLength+32]=(255&t.byteLength)>>0,i.set(t,e.byteLength+33),i[23+(e.byteLength+10+t.byteLength)]=162,i[e.byteLength+10+t.byteLength+24]=0,i[e.byteLength+10+t.byteLength+25]=1,i[e.byteLength+10+t.byteLength+26]=(65280&n.byteLength)>>8,i[e.byteLength+10+t.byteLength+27]=(255&n.byteLength)>>0,i.set(n,e.byteLength+10+t.byteLength+28),i}(t.fullData,n.fullData,r.fullData,{Uf:i.Uf,rg:i.rg,Ef:e.Ef,Ff:e.Ff,yf:e.yf,Df:e.Df,zf:e.zf,Af:e.Af,Bf:e.Bf,Cf:e.Cf,rf:e.rf,tf:e.tf,uf:e.uf,vf:e.vf,wf:e.wf,xf:e.xf,hf:e.hf,le:e.le,ff:e.ff,ef:e.ef,df:e.df,Wf:a.Wf}),{height:e.height,width:e.width,Ca:t,Ia:e.vj,Ka:e.uj}}function BT(e,t){var n=e[t+1]>>3&3,r=e[t+1]>>1&3,i=e[t+2]>>4&15,a=e[t+2]>>2&3;if(1!==n&&0!==i&&15!==i&&3!==a){var o=e[t+3]>>6;i=1e3*HT[14*(3===n?3-r:3===r?3:4)+i-1],a=VT[3*(3===n?0:2===n?1:2)+a],n=GT[n][r];var s=KT[r],l=Math.floor(n*i/a+(e[t+2]>>1&1))*s,u=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);return(u=u?parseInt(u[1],10):0)&&87>=u&&2===r&&224e3<=i&&0===o&&(e[t+3]|=128),{sampleRate:a,channelCount:3===o?1:2,ia:l,tj:8*n*s}}return null}function FT(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])}function jT(e,t){if(t+1<e.length&&FT(e,t)){var n=BT(e,t),r=4;return n&&n.ia&&(r=n.ia),(t+=r)===e.length||t+1<e.length&&FT(e,t)}return!1}var HT=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],VT=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],GT=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],KT=[0,1,1,4];function zT(e){this.j=e,this.h=0,this.g=new Map,this.i=null}function WT(e){this.h=e,this.g=null}function YT(e){this.h=e,(this.g=nv.get("ISOBoxer")())&&function(e){function t(){this._procFullBox(),1&this.flags&&(this._procField("AlgorithmID","uint",24),this._procField("IV_size","uint",8),this._procFieldArray("KID",16,"uint",8)),this._procField("sample_count","uint",32),this._procEntries("entry",this.sample_count,(function(e){this._procEntryField(e,"InitializationVector","data",8),2&this.flags&&(this._procEntryField(e,"NumberOfEntries","uint",16),this._procSubEntries(e,"clearAndCryptedData",e.NumberOfEntries,(function(e){this._procEntryField(e,"BytesOfClearData","uint",16),this._procEntryField(e,"BytesOfEncryptedData","uint",32)})))}))}e.g.addBoxProcessor("saio",(function(){this._procFullBox(),1&this.flags&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("entry_count","uint",32),this._procFieldArray("offset",this.entry_count,"uint",1===this.version?64:32)})),e.g.addBoxProcessor("saiz",(function(){this._procFullBox(),1&this.flags&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("default_sample_info_size","uint",8),this._procField("sample_count","uint",32),0===this.default_sample_info_size&&this._procFieldArray("sample_info_size",this.sample_count,"uint",8)})),e.g.addBoxProcessor("senc",t),e.g.addBoxProcessor("uuid",(function(){for(var e=!0,n=0;16>n;n++)this.usertype[n]!==qT[n]&&(e=!1);e&&(this._parsing&&(this.type="sepiff"),t.call(this))}))}(this)}function ZT(e,t){for(var n=8,r=0;r<e.boxes.length&&e.boxes[r].type!==t;r++)n+=e.boxes[r].size;return n}(n=zT.prototype).destroy=function(){this.g.clear()},n.isSupported=function(e){return"audio/mpeg"==e.toLowerCase().split(";")[0]&&Kt(this.convertCodecs("audio",e))},n.convertCodecs=function(e,t){return"audio/mpeg"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="mp3"':t},n.getOriginalMimeType=function(){return this.j},n.transmux=function(e,t,n,r){for(var i=we(e),a=Is(i).length;a<i.length&&!jT(i,a);a++);var o;for(e=[];a<i.length;){var s=BT(i,a);if(!s)return Promise.reject(new Re(2,3,3018,n?n.N()[0]:null));o||(o=s),a+s.ia<=i.length&&e.push({data:i.subarray(a,a+s.ia),size:s.ia,duration:1152,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),a+=s.ia}return o?(i=9e4*o.tj/o.sampleRate*this.h,r=new Mo([r={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:o.sampleRate,duration:r,lb:[],ra:new Uint8Array([]),Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.h,baseMediaDecodeTime:i,jb:e},stream:t}]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=No(r),this.g.set(n,t)),n=this.i!==t,r=Ho(r),this.i=t,this.h++,n?(t=Pt(t,r),Promise.resolve(t)):Promise.resolve(r)):Promise.reject(new Re(2,3,3018,n?n.N()[0]:null))},F("shaka.transmuxer.Mp3Transmuxer",zT),zT.prototype.transmux=zT.prototype.transmux,zT.prototype.getOriginalMimeType=zT.prototype.getOriginalMimeType,zT.prototype.convertCodecs=zT.prototype.convertCodecs,zT.prototype.isSupported=zT.prototype.isSupported,zT.prototype.destroy=zT.prototype.destroy,Sr("audio/mpeg",(function(){return new zT("audio/mpeg")}),xr),(n=WT.prototype).destroy=function(){},n.isSupported=function(e){if("video/mp2t"!=e.toLowerCase().split(";")[0])return!1;var t=Hr(e).split(","),n=Lt("audio",t);return t=Lt("video",t),!(!n||t||"mp3"!=Br(n))&&Kt(this.convertCodecs("audio",e))},n.convertCodecs=function(e,t){return"video/mp2t"==t.toLowerCase().split(";")[0]?"audio/mpeg":t},n.getOriginalMimeType=function(){return this.h},n.transmux=function(e,t,n,r,i){if(this.g?this.g.clearData():this.g=new Ks,e=we(e),"mp3"!=(e=this.g.parse(e)).od().audio||"audio"!=i)return Promise.reject(new Re(2,3,3018,n?n.N()[0]:null));for(n=new Uint8Array([]),i=l(e.fb()),e=i.next();!e.done;e=i.next())if(e=e.value.data)for(t=0;t<e.length;)(r=BT(e,t))?(t+r.ia<=e.length&&(n=Pt(n,e.subarray(t,t+r.ia))),t+=r.ia):t++;return Promise.resolve(n)},F("shaka.transmuxer.MpegTsTransmuxer",WT),WT.prototype.transmux=WT.prototype.transmux,WT.prototype.getOriginalMimeType=WT.prototype.getOriginalMimeType,WT.prototype.convertCodecs=WT.prototype.convertCodecs,WT.prototype.isSupported=WT.prototype.isSupported,WT.prototype.destroy=WT.prototype.destroy,Sr("video/mp2t",(function(){return new WT("video/mp2t")}),Pr),(n=YT.prototype).destroy=function(){},n.isSupported=function(e,t){var n=e.startsWith("mss/");return!(!this.g||!n)&&(t?Kt(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),Kt(t)||Kt(e)))},n.convertCodecs=function(e,t){return t.replace("mss/","")},n.getOriginalMimeType=function(){return this.h},n.transmux=function(e,t,n){if(!n)return Promise.resolve(we(e));if(!t.mssPrivateData)return Promise.reject(new Re(2,3,3020,n?n.N()[0]:null));try{var r,i=this.g.parseBuffer(e),a=i.fetch("tfhd");a.track_ID=t.id+1;var o=i.fetch("tfdt"),s=i.fetch("traf");null===o&&((o=this.g.createFullBox("tfdt",s,a)).version=1,o.flags=0,o.baseMediaDecodeTime=Math.floor(n.startTime*t.mssPrivateData.timescale));var l=i.fetch("trun"),u=i.fetch("tfxd");u&&u._parent.boxes.splice(u._parent.boxes.indexOf(u),1);var c=i.fetch("tfrf");c&&c._parent.boxes.splice(c._parent.boxes.indexOf(c),1);var d=i.fetch("sepiff");if(null!==d){d.type="senc",d.usertype=void 0;var p=i.fetch("saio");if(null===p){(p=this.g.createFullBox("saio",s)).version=0,p.flags=0,p.entry_count=1,p.offset=[0];var f=this.g.createFullBox("saiz",s);if(f.version=0,f.flags=0,f.sample_count=d.sample_count,f.default_sample_info_size=0,f.sample_info_size=[],2&d.flags)for(r=0;r<d.sample_count;r+=1)f.sample_info_size[r]=10+6*d.entry[r].NumberOfEntries;else f.default_sample_info_size=8}}a.flags&=16777214,a.flags|=131072,l.flags|=1;var h=i.fetch("moof");l.data_offset=h.getLength()+8;var y=i.fetch("saio");null!==y&&(y.offset[0]=ZT(h,"traf")+ZT(s,"senc")+16);var g=we(i.write());return Promise.resolve(g)}catch(e){return e instanceof Re?Promise.reject(e):Promise.reject(new Re(2,3,3022,n?n.N()[0]:null))}},F("shaka.transmuxer.MssTransmuxer",YT),YT.prototype.transmux=YT.prototype.transmux,YT.prototype.getOriginalMimeType=YT.prototype.getOriginalMimeType,YT.prototype.convertCodecs=YT.prototype.convertCodecs,YT.prototype.isSupported=YT.prototype.isSupported,YT.prototype.destroy=YT.prototype.destroy;var qT=new Uint8Array([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]);function XT(e){this.m=e,this.g=0,this.i=new Map,this.l=this.h=this.j=null}Sr("mss/audio/mp4",(function(){return new YT("mss/audio/mp4")}),xr),Sr("mss/video/mp4",(function(){return new YT("mss/video/mp4")}),xr),(n=XT.prototype).destroy=function(){this.i.clear(),this.h&&this.h.destroy()},n.isSupported=function(e,t){if("video/mp2t"!=e.toLowerCase().split(";")[0])return!1;var n=e;t&&(n=this.convertCodecs(t,e));var r=Hr(n).split(",");return n=Lt("audio",r),r=Lt("video",r),!(n&&(n=Br(n),!$T.includes(n))||r&&(n=Br(r),!e_.includes(n)))&&(t?Kt(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),Kt(t)||Kt(e)))},n.convertCodecs=function(e,t){return"video/mp2t"==t.toLowerCase().split(";")[0]?(t=Hr(t).replace("mp4a.40.34","mp3").split(",").map((function(e){return Ti(e,"audio/mp4")})).map(_i).join(","),"audio"==e?'audio/mp4; codecs="'+t+'"':'video/mp4; codecs="'+t+'"'):t},n.getOriginalMimeType=function(){return this.m},n.transmux=function(e,t,n,r,i){var a=we(e);if("audio"==i&&!Zs(a)){for(var o=Is(a),s=o.length;s<a.length;s++)if(jT(a,s))return Promise.reject(new Re(2,3,3018,n?n.N()[0]:null));for(s=o.length;s<a.length;s++)if(PT(a,s))return this.h||(this.h=new RT("audio/aac")),this.h.transmux(e,t,n,r,i);return Promise.reject(new Re(2,3,3018,n?n.N()[0]:null))}this.j?this.j.clearData():this.j=new Ks;var c=this.j.parse(a),d=[],p=c.od();try{var f=null;if("video"==i){switch(p.video){case"avc":var h=[],y=null,g=c.wc(),v=function(e){function t(e){i={data:new Uint8Array([]),frame:!1,isKeyframe:!1,pts:e.pts,dts:e.dts,nalus:[]}}function n(){if(i&&i.nalus.length&&i.frame){for(var e=[],t=l(i.nalus),n=t.next();!n.done;n=t.next()){var a=(n=n.value).fullData.byteLength,o=new Uint8Array(4);o[0]=a>>24&255,o[1]=a>>16&255,o[2]=a>>8&255,o[3]=255&a,e.push(o),e.push(n.fullData)}i.data=Pt.apply(_t,u(e)),r.push(i)}}for(var r=[],i=null,a=!1,o=0;o<e.length;o++){var s=e[o],c=s.nalus,d=!1;i&&c.length&&!a&&(n(),t(s));for(var p=(c=l(s.nalus)).next();!p.done;p=c.next()){var f=!1;switch((p=p.value).type){case 1:var h=!1;f=!0;var y=p.data;d&&4<y.length&&(2===(y=Gs(new Ds(y)))||4===y||7===y||9===y)&&(h=!0),h&&i&&i.frame&&!i.isKeyframe&&(n(),i=null),i||t(s),i.frame=!0,i.isKeyframe=h;break;case 5:f=!0,i&&i.frame&&!i.isKeyframe&&(n(),i=null),i||t(s),i.frame=!0,i.isKeyframe=!0;break;case 6:case 8:case 12:f=!0;break;case 7:d=f=!0;break;case 9:a=f=!0,i&&i.frame&&(n(),i=null),i||t(s);break;default:f=!1}i&&f&&i.nalus.push(p)}}return n(),r}(g);if(!v.length)throw new Re(2,3,3023,n?n.N()[0]:null);for(var m=0;m<v.length;m++){var b=v[m];null==y&&(y=b.dts);var k;k=m+1<v.length?(v[m+1].dts||0)-(b.dts||0):1<v.length?(b.dts||0)-(v[m-1].dts||0):9e4*(n.endTime-n.startTime),h.push({data:b.data,size:b.data.byteLength,duration:k,eb:Math.round((b.pts||0)-(b.dts||0)),flags:{hb:0,$a:0,Za:0,Xa:0,Ya:b.isKeyframe?2:1,ib:b.isKeyframe?0:1}})}for(var E=[],T=l(g),_=T.next();!_.done;_=T.next())E.push.apply(E,u(_.value.nalus));var A=function(e){if(!e.length)return null;var t=e.find((function(e){return 7==e.type}));if(e=e.find((function(e){return 8==e.type})),!t||!e)return null;var n=new Ds(t.data),r=Hs(n);if(Hs(n),Hs(n),Us(n),NT.includes(r)&&(3===(r=Bs(n))&&Ls(n,1),Us(n),Us(n),Ls(n,1),js(n))){r=3!==r?8:12;for(var i=0;i<r;i++)js(n)&&Vs(n,6>i?16:64)}if(Us(n),0===(r=Bs(n)))Bs(n);else if(1===r)for(Ls(n,1),Us(n),Us(n),r=Bs(n),i=0;i<r;i++)Us(n);Us(n),Ls(n,1);var a=Bs(n),o=Bs(n),s=Ms(n,1);0===s&&Ls(n,1),Ls(n,1);var l=0,c=0,d=0,p=0;if(js(n)&&(l=Bs(n),c=Bs(n),d=Bs(n),p=Bs(n)),i=r=1,js(n)&&js(n)){var f=Hs(n);0<f&&16>=f?(r=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][f-1],i=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][f-1]):255===f&&(r=Ms(n,16),i=Ms(n,16))}return n=(2-s)*(o+1)*16-2*d-2*p,a=16*(a+1)-2*l-2*c,l=[],t=t.fullData,l.push(t.byteLength>>>8&255),l.push(255&t.byteLength),l=l.concat.apply(l,u(t)),t=[],e=e.fullData,t.push(e.byteLength>>>8&255),t.push(255&e.byteLength),t=t.concat.apply(t,u(e)),{height:n,width:a,Ca:e=new Uint8Array([1,l[3],l[4],l[5],255,225].concat(l,[1],t)),Ia:r,Ka:i}}(E);if(!A||null==y)throw new Re(2,3,3018,n?n.N()[0]:null);t.height=A.height,t.width=A.width,f={id:t.id,type:"video",codecs:"avc1",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:9e4,duration:r,lb:[],ra:new Uint8Array([]),Ca:A.Ca,Ia:A.Ia,Ka:A.Ka,data:{Db:this.g,baseMediaDecodeTime:y,jb:h},stream:t};break;case"hvc":var S=[],w=null,C=[],x=c.wc();if(!x.length)throw new Re(2,3,3023,n?n.N()[0]:null);for(var P=0;P<x.length;P++){var R=x[P],I=R.nalus;C.push.apply(C,u(I));for(var D=!1,O=[],L=!1,M=l(I),N=M.next();!N.done;N=M.next()){var U=N.value;switch(U.type){case 1:case 0:var B=L=!0;break;case 19:case 20:case 21:D=B=L=!0;break;case 32:case 33:case 34:case 39:case 40:B=!0;break;case 35:L=B=!0;break;default:B=!1}if(L&&B){var F=U.fullData.byteLength,j=new Uint8Array(4);j[0]=F>>24&255,j[1]=F>>16&255,j[2]=F>>8&255,j[3]=255&F,O.push(j),O.push(U.fullData)}}var H=O.length?{data:Pt.apply(_t,u(O)),isKeyframe:D}:null;if(H){null==w&&null!=R.dts&&(w=R.dts);var V;V=P+1<x.length?(x[P+1].dts||0)-(R.dts||0):1<x.length?(R.dts||0)-(x[P-1].dts||0):9e4*(n.endTime-n.startTime),S.push({data:H.data,size:H.data.byteLength,duration:V,eb:Math.round((R.pts||0)-(R.dts||0)),flags:{hb:0,$a:0,Za:0,Xa:0,Ya:H.isKeyframe?2:1,ib:H.isKeyframe?0:1}})}}var G=UT(C);if(!G||null==w)throw new Re(2,3,3018,n?n.N()[0]:null);t.height=G.height,t.width=G.width,f={id:t.id,type:"video",codecs:"hvc1",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:9e4,duration:r,lb:[],ra:new Uint8Array([]),Ca:G.Ca,Ia:G.Ia,Ka:G.Ka,data:{Db:this.g,baseMediaDecodeTime:w,jb:S},stream:t}}f&&(d.push(f),f=null)}if("audio"==i){switch(p.audio){case"aac":for(var K,z=[],W=null,Y=null,Z=null,q=l(c.fb()),X=q.next();!X.done;X=q.next()){var Q=X.value,J=Q.data;if(J){var $=0;if(-1==Y&&Z)J=Pt(Z,Q.data),Y=null;else if(null!=Y&&Z){$=Math.max(0,Y);var ee=Pt(Z,J.subarray(0,$));z.push({data:ee,size:ee.byteLength,duration:1024,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),Y=Z=null}if(!(K=xT(J,$)))throw new Re(2,3,3018,n?n.N()[0]:null);for(t.audioSamplingRate=K.sampleRate,t.channelsCount=K.channelCount,null==W&&null!==Q.pts&&(W=Q.pts);$<J.length;){var te=CT(J,$);if(!te){Z=J.subarray($,J.length),Y=-1;break}var ne=te.ud+te.ia;0!=(Y=Math.max(0,$+ne-J.length))?Z=J.subarray($+te.ud,$+ne):$+ne<=J.length&&z.push({data:J.subarray($+te.ud,$+ne),size:te.ia,duration:1024,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),$+=ne}}}if(!K||null==W){if(!c.wc().length)throw new Re(2,3,3018,n?n.N()[0]:null);W=9e4*n.startTime;var re=Lt("audio",t.codecs.split(","));if(!re||!t.channelsCount||!t.audioSamplingRate)throw new Re(2,3,3018,n?n.N()[0]:null);K={sampleRate:t.audioSamplingRate,channelCount:t.channelsCount,codec:re};var ie=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t||3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}(re,t.channelsCount);if(!ie)throw new Re(2,3,3018,n?n.N()[0]:null);for(var ae=W+9e4*(n.endTime-n.startTime),oe=W;oe<ae;)z.push({data:ie,size:ie.byteLength,duration:1024,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),oe+=1024/K.sampleRate*9e4}var se=K.sampleRate,le=W/9e4*se;f={id:t.id,type:"audio",codecs:K.codec,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:se,duration:r,lb:[],ra:new Uint8Array([]),Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.g,baseMediaDecodeTime:le,jb:z},stream:t};break;case"ac3":for(var ue=[],ce=0,de=new Uint8Array([]),pe=null,fe=l(c.fb()),he=fe.next();!he.done;he=fe.next()){var ye=he.value,ge=ye.data;null==pe&&null!==ye.pts&&(pe=ye.pts);for(var ve=0;ve<ge.length;){var me=IT(ge,ve);me?(t.audioSamplingRate=me.sampleRate,t.channelsCount=me.channelCount,ce=me.sampleRate,de=me.ra,ue.push({data:ge.subarray(ve,ve+me.ia),size:me.ia,duration:1536,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),ve+=me.ia):ve++}}if(0==ce||0==de.byteLength||null==pe)throw new Re(2,3,3018,n?n.N()[0]:null);var be=pe/9e4*ce;f={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:ce,duration:r,lb:[],ra:de,Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.g,baseMediaDecodeTime:be,jb:ue},stream:t};break;case"ec3":for(var ke=[],Ee=0,Te=new Uint8Array([]),_e=null,Ae=l(c.fb()),Se=Ae.next();!Se.done;Se=Ae.next()){var Ce=Se.value,xe=Ce.data;null==_e&&null!==Ce.pts&&(_e=Ce.pts);for(var Pe=0;Pe<xe.length;){var Ie=LT(xe,Pe);Ie?(t.audioSamplingRate=Ie.sampleRate,t.channelsCount=Ie.channelCount,Ee=Ie.sampleRate,Te=Ie.ra,ke.push({data:xe.subarray(Pe,Pe+Ie.ia),size:Ie.ia,duration:1536,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),Pe+=Ie.ia):Pe++}}if(0==Ee||0==Te.byteLength||null==_e)throw new Re(2,3,3018,n?n.N()[0]:null);var De=_e/9e4*Ee;f={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:Ee,duration:r,lb:[],ra:Te,Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.g,baseMediaDecodeTime:De,jb:ke},stream:t};break;case"mp3":for(var Oe,Le=[],Me=null,Ne=l(c.fb()),Ue=Ne.next();!Ue.done;Ue=Ne.next()){var Be=Ue.value,Fe=Be.data;if(Fe){null==Me&&null!==Be.pts&&(Me=Be.pts);for(var je=0;je<Fe.length;){var He=BT(Fe,je);He?(Oe||(Oe=He),je+He.ia<=Fe.length&&Le.push({data:Fe.subarray(je,je+He.ia),size:He.ia,duration:1152,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),je+=He.ia):je++}}}if(!Oe||null==Me)throw new Re(2,3,3018,n?n.N()[0]:null);var Ve=Oe.sampleRate,Ge=Me/9e4*Ve;f={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:Ve,duration:r,lb:[],ra:new Uint8Array([]),Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.g,baseMediaDecodeTime:Ge,jb:Le},stream:t};break;case"opus":var Ke=[],ze=null,We=c.F;if(!We)throw new Re(2,3,3018,n?n.N()[0]:null);var Ye=[];switch(We.Zh){case 1:case 2:Ye=[0];break;case 0:Ye=[255,1,1,0,1];break;case 128:Ye=[255,2,0,0,1];break;case 3:Ye=[1,2,1,0,2,1];break;case 4:Ye=[1,2,2,0,1,2,3];break;case 5:Ye=[1,3,2,0,4,1,2,3];break;case 6:Ye=[1,4,2,0,4,1,2,3,5];break;case 7:Ye=[1,4,2,0,4,1,2,3,5,6];break;case 8:Ye=[1,5,3,0,6,1,2,3,4,5,7];break;case 130:Ye=[1,1,2,0,1];break;case 131:Ye=[1,1,3,0,1,2];break;case 132:Ye=[1,1,4,0,1,2,3];break;case 133:Ye=[1,1,5,0,1,2,3,4];break;case 134:Ye=[1,1,6,0,1,2,3,4,5];break;case 135:Ye=[1,1,7,0,1,2,3,4,5,6];break;case 136:Ye=[1,1,8,0,1,2,3,4,5,6,7]}for(var Ze=new Uint8Array([0,We.channelCount,0,0,We.sampleRate>>>24&255,We.sampleRate>>>17&255,We.sampleRate>>>8&255,We.sampleRate>>>0&255,0,0].concat(u(Ye))),qe=We.sampleRate,Xe=l(c.fb()),Qe=Xe.next();!Qe.done;Qe=Xe.next()){var Je=Qe.value,$e=Je.data;null==ze&&null!==Je.pts&&(ze=Je.pts);for(var et=0;et<$e.length;){for(var tt=0!=(16&$e[et+1]),nt=0!=(8&$e[et+1]),rt=et+2,it=0;255===$e[rt];)it+=255,rt+=1;it+=$e[rt],rt+=1,rt+=tt?2:0,rt+=nt?2:0;var at=$e.slice(rt,rt+it);Ke.push({data:at,size:at.byteLength,duration:960,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),et=rt+it}}if(0==Ze.byteLength||null==ze)throw new Re(2,3,3018,n?n.N()[0]:null);t.audioSamplingRate=We.sampleRate,t.channelsCount=We.channelCount;var ot=ze/9e4*qe;f={id:t.id,type:"audio",codecs:"opus",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:qe,duration:r,lb:[],ra:Ze,Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.g,baseMediaDecodeTime:ot,jb:Ke},stream:t}}f&&(d.push(f),f=null)}}catch(e){return e&&3023==e.code?Promise.resolve(new Uint8Array([])):Promise.reject(e)}if(!d.length)return Promise.reject(new Re(2,3,3018,n?n.N()[0]:null));var st=new Mo(d),lt=t.id+"_"+n.i;if(this.i.has(lt))var ut=this.i.get(lt);else ut=No(st),this.i.set(lt,ut);var ct=this.l!==ut,dt=Ho(st);if(this.l=ut,this.g++,ct){var pt=Pt(ut,dt);return Promise.resolve(pt)}return Promise.resolve(dt)},F("shaka.transmuxer.TsTransmuxer",XT),XT.prototype.transmux=XT.prototype.transmux,XT.prototype.getOriginalMimeType=XT.prototype.getOriginalMimeType,XT.prototype.convertCodecs=XT.prototype.convertCodecs,XT.prototype.isSupported=XT.prototype.isSupported,XT.prototype.destroy=XT.prototype.destroy;var QT,JT,$T=["aac","ac-3","ec-3","mp3","opus"],e_=["avc","hevc"];function t_(){}function n_(){}function r_(){QT||navigator.emeEncryptionSchemePolyfilled?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(QT=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=i_,navigator.emeEncryptionSchemePolyfilled=!0):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function i_(e,t){var n,r=this;return I((function(i){return 1==i.g?(console.assert(r==navigator,'bad "this" for requestMediaKeySystemAccess'),b(i,QT.call(r,e,t),2)):h_(n=i.h)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=QT,i.return(n)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=a_,i.return(a_.call(r,e,t)))}))}function a_(e,t){var n,r,i,a,o,s,u,c,d,p,f,h,y=this;return I((function(g){if(1==g.g){for(console.assert(y==navigator,'bad "this" for requestMediaKeySystemAccess'),n=f_(e),r=[],i=l(t),a=i.next();!a.done;a=i.next())o=a.value,s=o_(o.videoCapabilities,n),u=o_(o.audioCapabilities,n),o.videoCapabilities&&o.videoCapabilities.length&&!s.length||o.audioCapabilities&&o.audioCapabilities.length&&!u.length||((c=Object.assign({},o)).videoCapabilities=s,c.audioCapabilities=u,r.push(c));if(!r.length)throw(d=Error("Unsupported keySystem or supportedConfigurations.")).name="NotSupportedError",d.code=DOMException.NOT_SUPPORTED_ERR,d;return b(g,QT.call(y,e,r),2)}return p=g.h,h=f=null,r[0]&&(r[0].videoCapabilities&&(f=r[0].videoCapabilities[0].encryptionScheme),r[0].audioCapabilities&&(h=r[0].audioCapabilities[0].encryptionScheme)),g.return(new p_(p,f,h))}))}function o_(e,t){return e?e.filter((function(e){return y_(e.encryptionScheme,t)})):e}function s_(){}function l_(){JT||navigator.mediaCapabilitiesEncryptionSchemePolyfilled?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(JT=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=u_,navigator.mediaCapabilitiesEncryptionSchemePolyfilled=!0):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function u_(e){var t,n,r=this;return I((function(i){switch(i.g){case 1:return console.assert(r==navigator.mediaCapabilities,'bad "this" for decodingInfo'),b(i,JT.call(r,e),2);case 2:if(!(t=i.h).supported||!e.keySystemConfiguration)return i.return(t);if((n=t.keySystemAccess)&&h_(n))return console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=JT,i.return(t);if(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=c_,n){i.s(3);break}return b(i,d_(e),4);case 4:return t.keySystemAccess=i.h,i.return(t);case 3:return i.return(c_.call(r,e))}}))}function c_(e){var t,n,r,i,a,o,s,l=this;return I((function(u){switch(u.g){case 1:return console.assert(l==navigator.mediaCapabilities,'bad "this" for decodingInfo'),n=t=null,!e.keySystemConfiguration||(r=e.keySystemConfiguration,i=r.keySystem,n=r.audio&&r.audio.encryptionScheme,t=r.video&&r.video.encryptionScheme,a=f_(i),o={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},y_(n,a)&&y_(t,a))?b(u,JT.call(l,e),2):u.return(o);case 2:if((s=u.h).keySystemAccess){s.keySystemAccess=new p_(s.keySystemAccess,t,n),u.s(3);break}if(!e.keySystemConfiguration){u.s(3);break}return b(u,d_(e),5);case 5:s.keySystemAccess=u.h;case 3:return u.return(s)}}))}function d_(e){var t,n;return I((function(r){if(1==r.g){var i=e.keySystemConfiguration,a=[],o=[];return i.audio&&a.push({robustness:i.audio.robustness||"",contentType:e.audio.contentType,encryptionScheme:i.audio.encryptionScheme}),i.video&&o.push({robustness:i.video.robustness||"",contentType:e.video.contentType,encryptionScheme:i.video.encryptionScheme}),i={initDataTypes:i.initDataType?[i.initDataType]:[],distinctiveIdentifier:i.distinctiveIdentifier,persistentState:i.persistentState,sessionTypes:i.sessionTypes},a.length&&(i.audioCapabilities=a),o.length&&(i.videoCapabilities=o),t=i,b(r,navigator.requestMediaKeySystemAccess(e.keySystemConfiguration.keySystem,[t]),2)}return n=r.h,r.return(n)}))}function p_(e,t,n){this.g=e,this.i=t||null,this.h=n||null,this.keySystem=e.keySystem}function f_(e){return e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.chromecast")||e.startsWith("com.adobe")||e.startsWith("org.w3")?"cenc":e.startsWith("com.apple")?"cbcs":e.startsWith("com.huawei")?"cenc":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",e,"Please contribute!"),null)}function h_(e){var t=(e=e.getConfiguration()).audioCapabilities&&e.audioCapabilities[0];return!(!(e=e.videoCapabilities&&e.videoCapabilities[0]||t)||void 0===e.encryptionScheme)}function y_(e,t){return!e||e==t||!("cbcs"!=e&&"cbcs-1-9"!=e||!(k_||__||b_))}function g_(){}function v_(){r_(),l_()}Sr("video/mp2t",(function(){return new XT("video/mp2t")}),Rr),y(t_,Wu),F("shaka.util.FairPlayUtils",t_),F("EmeEncryptionSchemePolyfill",n_),n_.install=r_,F("McEncryptionSchemePolyfill",s_),s_.install=l_,p_.prototype.getConfiguration=function(){var e=this.g.getConfiguration();if(e.videoCapabilities)for(var t=l(e.videoCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.i;if(e.audioCapabilities)for(n=(t=l(e.audioCapabilities)).next();!n.done;n=t.next())n.value.encryptionScheme=this.h;return e},p_.prototype.createMediaKeys=function(){return this.g.createMediaKeys()},F("EncryptionSchemePolyfills",g_),g_.install=v_;var m_,b_=navigator.userAgent.includes("CrKey"),k_=100<=parseInt(navigator.userAgent.split("Firefox/").pop(),10),E_=navigator.userAgent||"";if(E_.includes("Web0S")){var T_=E_.match(/Chrome\/(\d+)/);m_=!!T_&&79<=parseInt(T_[1],10)}else m_=!1;var __=m_;void 0!==module&&module.exports&&(module.exports=g_)}.call(r,e,e,void 0),r.shaka)t[i]=r.shaka[i]}()},701:module=>{"use strict";var e=[];function t(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function n(n,i){for(var a={},o=[],s=0;s<n.length;s++){var l=n[s],u=i.base?l[0]+i.base:l[0],c=a[u]||0,d="".concat(u," ").concat(c);a[u]=c+1;var p=t(d),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(f);else{var h=r(f,i);i.byIndex=s,e.splice(s,0,{identifier:d,updater:h,references:1})}o.push(d)}return o}function r(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}module.exports=function(r,i){var a=n(r=r||[],i=i||{});return function(r){r=r||[];for(var o=0;o<a.length;o++){var s=t(a[o]);e[s].references--}for(var l=n(r,i),u=0;u<a.length;u++){var c=t(a[u]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}a=l}}},182:module=>{"use strict";module.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},75:module=>{"use strict";module.exports=function(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}},236:module=>{"use strict";module.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},213:module=>{"use strict";module.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var module=t[r]={id:r,exports:{}};return e[r](module,module.exports,n),module.exports}n.n=module=>{var e=module&&module.__esModule?()=>module.default:()=>module;return n.d(e,{a:e}),e},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{Ad:()=>To,AdBreak:()=>wo,BasePlugin:()=>ie,KALTURA_PLAYER_START_TIME_QS:()=>Ht,KalturaPlayer:()=>pa,LocalStorageManager:()=>nt,PLAYER_NAME:()=>Co,PLAYER_TYPE:()=>xo,SessionStorageManager:()=>Et,VERSION:()=>Po,cast:()=>vo,core:()=>h,getPlayer:()=>ya,getPlayers:()=>ha,playlist:()=>mo,providers:()=>g,registerPlugin:()=>de,setup:()=>ba,ui:()=>y});var e=n(701),t=n.n(e),i=n(236),a=n.n(i),o=n(75),s=n.n(o),l=n(182),u=n.n(l),c=n(213),d=n.n(c),p=n(129),f={attributes:{id:"@playkit-js/kaltura-player-js"}};f.styleTagTransform=d(),f.setAttributes=s(),f.insert=function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},f.domAPI=a(),f.insertStyleElement=u();t()(p.Z,f);p.Z&&p.Z.locals&&p.Z.locals;var h=n(109),y=n(79),g=n(859);n(305),n(644);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k(r.key),r)}}function b(e,t,n){return(t=k(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:String(t)}var E=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b(this,"_disabled",!1),this._player=t;var i=n.ui;if(i.disable){this._disabled=!0;var a=document.getElementById(i.targetId);a&&a.appendChild(t.getView())}else this._uiManager=new y.UIManager(t,i),i.customPreset||window.kalturaCustomPresetMap&&window.kalturaCustomPresetMap[i.targetId]?this._uiManager.buildCustomUI(i.customPreset||window.kalturaCustomPresetMap[i.targetId].audioPlayer):this._uiManager.buildDefaultUI(),this._handleVr(n.plugins),this._handleExternalCSS(i);return new Proxy(this,{get:function(e,t){return r._disabled?function(){}:e[t]}})}var t,n,r;return t=e,n=[{key:"destroy",value:function(){this._uiManager.destroy()}},{key:"reset",value:function(){this._resetErrorState()}},{key:"setConfig",value:function(e,t){this._uiManager.setConfig(e,t)}},{key:"addComponent",value:function(e){return this._uiManager.addComponent(e)}},{key:"removeComponent",value:function(e){var t={label:"Remove_".concat(e.removeComponent),get:y.Components.Remove,presets:e.presets,area:e.area||e.container,replaceComponent:e.removeComponent};return this._uiManager.addComponent(t)}},{key:"store",get:function(){return this._uiManager.store}},{key:"registerManager",value:function(e,t){this._player.registerService(e,t)}},{key:"getManager",value:function(e){return this._player.getService(e)}},{key:"hasManager",value:function(e){return this._player.hasService(e)}},{key:"setLoadingSpinnerState",value:function(e){this.setConfig({show:e},"loading")}},{key:"_resetErrorState",value:function(){this.setConfig({hasError:!1},"engine")}},{key:"_handleExternalCSS",value:function(t){t.css&&h.Utils.Dom.loadStyleSheetAsync(t.css).then((function(){e._logger.debug("external css was loaded successfully")}),(function(){e._logger.error("external css failed to load")}))}},{key:"_handleVr",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.vr&&!e.vr.disable&&this._setStereoConfig(e.vr)}},{key:"_setStereoConfig",value:function(e){(e.toggleStereo||(h.Env.isMobile||h.Env.isTablet)&&!1!==e.toggleStereo)&&this.setConfig(h.Utils.Object.mergeDeep({},{vrStereoMode:!!e.startInStereo}),"vrStereo")}}],n&&m(t.prototype,n),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}function A(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T(t)?t:String(t)}b(E,"_logger",(0,h.getLogger)("UIWrapper"));var w=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),A(this,"_prebid",null),this._loadPromise=h.Utils.Object.defer(),this._loadPromise.catch((function(){return e._logger.warn("Prebid SDK failed to load")})),t?(this._config=t,this._loadPrebidSDKLib(this._config.libUrl).then((function(){n._isPrebidSDKLibLoaded()?(n._prebid=window.pbjs,n._loadPromise.resolve()):n._loadPromise.reject()})).catch((function(){n._loadPromise.reject()}))):this._loadPromise.reject()}var t,n,r;return t=e,(n=[{key:"_isPrebidSDKLibLoaded",value:function(){return window.pbjs&&window.pbjs.que}},{key:"_loadPrebidSDKLib",value:function(e){return this._isPrebidSDKLibLoaded()?Promise.resolve():h.Utils.Dom.loadScriptAsync(e)}},{key:"_load",value:function(t){var n=this;return new Promise((function(r,i){n._loadPromise.then((function(){var a=setTimeout(i,t.timeout||4e3);n._prebid.que.push((function(){n._prebid.addAdUnits(t.adUnit),t.options&&n._prebid.setConfig(t.options),n._prebid.requestBids({bidsBackHandler:function(o){if(e._logger.debug("returned bids",o),clearTimeout(a),t.params){var s={};t.adUnit&&(s.adUnit=t.adUnit),s.params=t.params;var l=n._prebid.adServers.dfp.buildVideoUrl(s);r([{vastUrl:l}])}else try{var u=o[t.adUnit.code||Object.keys(o)[0]].bids;r(u)}catch(e){i()}}})}))})).catch(i)}))}},{key:"load",value:function(e){return this._load(e||this._config)}}])&&_(t.prototype,n),r&&_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L(r.key),r)}}function P(e,t,n){return t=I(t),function(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return D(e)}(e,R()?Reflect.construct(t,n||[],I(e).constructor):t.apply(e,n))}function R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(R=function(){return!!e})()}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function L(e){var t=function(e,t){if("object"!=C(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==C(t)?t:String(t)}A(w,"_logger",(0,h.getLogger)("PrebidManager"));var M=function(e){function t(e){var n,r,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=P(this,t),r=D(n),a="AdLayoutMiddleware",(i=L(i="id"))in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,n._context=e,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(t,e),n=t,(r=[{key:"load",value:function(e){var t=this;this._context.prerollReady.then((function(){return t.callNext(e)}))}},{key:"play",value:function(e){var t=this;this._context.prerollReady.then((function(){return t.callNext(e)}))}}])&&x(n.prototype,r),i&&x(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}(h.BaseMiddleware);function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function U(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W(r.key),r)}}function H(e,t,n){return t=G(t),function(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,V()?Reflect.construct(t,n||[],G(e).constructor):t.apply(e,n))}function V(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(V=function(){return!!e})()}function G(e){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},G(e)}function K(e,t){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},K(e,t)}function z(e,t,n){return(t=W(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){var t=function(e,t){if("object"!=N(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==N(t)?t:String(t)}var Y=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=H(this,t))._player=e,r._eventManager=new h.EventManager,r._liveEventManager=new h.EventManager,r._adsPluginControllers=n,r._prebidManager=new w(r._player.config.advertising&&r._player.config.advertising.prebid),r._init(),r}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K(e,t)}(t,e),n=t,r=[{key:"allAdsCompleted",get:function(){return this._allAdsCompleted}},{key:"isAdPlaying",value:function(){return this.isAdBreak()&&this._isAdPlaying}},{key:"isAdBreak",value:function(){return!!this._adBreak}},{key:"getAdBreaksLayout",value:function(){return this._adBreaksLayout}},{key:"getAdBreak",value:function(){return this._adBreak}},{key:"getAd",value:function(){return this._ad}},{key:"skipAd",value:function(){var e=this._adsPluginControllers.find((function(e){return e.active}));e&&e.skipAd()}},{key:"playAdNow",value:function(e){var n=this;if(this.isAdBreak())t._logger.warn("Tried to call playAdNow during an ad break");else{var r=Promise.all(e.map((function(e){return n._getPrebidAds(e)})));this._playAdBreak({position:this._player.currentTime||0,ads:e,played:!1,loadedPromise:r})}}},{key:"getMiddleware",value:function(){return this._middleware?this._middleware:this._middleware=new M(this)}},{key:"_init",value:function(){this._initMembers(),this._addBindings()}},{key:"_initMembers",value:function(){this._allAdsCompleted=!0,this._adBreaksLayout=[],this._adBreak=void 0,this._ad=void 0,this._adPlayed=!1,this._snapback=0,this._adIsLoading=!1,this._isAdPlaying=!1,this._liveSeeking=!1}},{key:"_addBindings",value:function(){var e=this;this._eventManager.listen(this._player,h.CustomEventType.SOURCE_SELECTED,(function(){return e._handleConfiguredAdBreaks()})),this._eventManager.listen(this._player,h.AdEventType.AD_MANIFEST_LOADED,(function(t){return e._onAdManifestLoaded(t)})),this._eventManager.listen(this._player,h.AdEventType.AD_BREAK_START,(function(t){return e._onAdBreakStart(t)})),this._eventManager.listen(this._player,h.AdEventType.AD_LOADED,(function(){return e._onAdLoaded()})),this._eventManager.listen(this._player,h.AdEventType.AD_STARTED,(function(t){return e._onAdStarted(t)})),this._eventManager.listen(this._player,h.AdEventType.AD_COMPLETED,(function(){return e._isAdPlaying=!1})),this._eventManager.listen(this._player,h.AdEventType.AD_BREAK_END,(function(){return e._onAdBreakEnd()})),this._eventManager.listen(this._player,h.AdEventType.ADS_COMPLETED,(function(){return e._onAdsCompleted()})),this._eventManager.listen(this._player,h.AdEventType.AD_ERROR,(function(t){return e._onAdError(t)})),this._eventManager.listen(this._player,h.CustomEventType.PLAYER_RESET,(function(){return e._reset()})),this._eventManager.listen(this._player,h.CustomEventType.PLAYER_DESTROY,(function(){return e._destroy()})),this._eventManager.listenOnce(this._player,h.Html5EventType.ENDED,(function(){return e._onEnded()})),this._eventManager.listenOnce(this._player,h.CustomEventType.PLAYBACK_ENDED,(function(){return e._onPlaybackEnded()})),this._eventManager.listen(this._player,h.AdEventType.AD_RESUMED,(function(){return e._isAdPlaying=!0})),this._eventManager.listen(this._player,h.AdEventType.AD_PAUSED,(function(){return e._isAdPlaying=!1}))}},{key:"_handleConfiguredAdBreaks",value:function(){var e=this,t=this._player.config.advertising.playAdsAfterTime||this._player.config.sources.startTime;this._configAdBreaks=this._player.config.advertising.adBreaks.filter((function(e){return("number"==typeof e.every||"number"==typeof e.position||"number"==typeof e.percentage)&&e.ads.length})).map((function(n){e._validateOneTimeConfig(n);var r=n.position;0===n.percentage&&(r=0),100===n.percentage&&(r=-1),n.every&&(r=n.every);var i=e._player.isLive()?r<t:r<=t;return{position:r,percentage:n.percentage,every:n.every,ads:n.ads.slice(),played:-1<r&&i}})),this._configAdBreaks.length?(this._dispatchAdManifestLoaded(),this._handlePrebidAdConfig(),this._handleConfiguredPreroll(),this._eventManager.listenOnce(this._player,h.Html5EventType.DURATION_CHANGE,(function(){e._player.isLive()?e._eventManager.listenOnce(e._player,h.Html5EventType.SEEKING,(function(){e._pushNextAdsForLive(e._configAdBreaks,(function(t){return e._player.currentTime+t.every})),e._attachLiveSeekedHandler()})):e._handleEveryAndPercentage(),e._configAdBreaks.sort((function(e,t){return e.position-t.position})),e._configAdBreaks.some((function(e){return e.position>0}))&&e._handleConfiguredMidrolls()}))):this.prerollReady=Promise.resolve()}},{key:"_validateOneTimeConfig",value:function(e){"number"==typeof e.position&&("number"==typeof e.percentage&&(t._logger.warn("Validate ad break - ignore percentage ".concat(e.percentage," as position ").concat(e.position," configured")),delete e.percentage),"number"==typeof e.every&&(t._logger.warn("Validate ad break - ignore every ".concat(e.every," as position ").concat(e.position," configured")),delete e.every)),"number"==typeof e.percentage&&"number"==typeof e.every&&(t._logger.warn("Validate ad break - ignore every ".concat(e.every," as percentage ").concat(e.percentage," configured")),delete e.every)}},{key:"_dispatchAdManifestLoaded",value:function(){var e=this,n=Array.from(new Set(this._configAdBreaks.map((function(e){return e.every&&e.every+"s"||"number"==typeof e.percentage&&e.percentage+"%"||e.position}))));t._logger.debug(h.AdEventType.AD_MANIFEST_LOADED,n),this._player.dispatchEvent(new h.FakeEvent(h.AdEventType.AD_MANIFEST_LOADED,{adBreaksPosition:n})),this._player.hasService("timeline")&&this._player.config.advertising.showAdBreakCuePoint&&n.forEach((function(t){e._player.getService("timeline").addCuePoint(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({time:-1!==t?t:1/0},e._player.config.advertising.adBreakCuePointStyle))}))}},{key:"_handlePrebidAdConfig",value:function(){var e=this;this._prebidManager&&this._configAdBreaks.filter((function(e){return!e.played})).map((function(t){var n=Promise.all(t.ads.map((function(t){return e._getPrebidAds(t)})));t.loadedPromise=n,n.then((function(e){return t.ads=e}))}))}},{key:"_getPrebidAds",value:function(e){var t=this;return new Promise((function(n){if(e.prebid&&t._prebidManager){var r=h.Utils.Object.mergeDeep({},e.prebid,t._player.config.advertising.prebid);t._prebidManager.load(r).then((function(t){var r=t.map((function(e){return e&&e.vastUrl}));e.url=r.concat(e.url),n(e)})).catch((function(){n(e)}))}else n(e)}))}},{key:"_handleConfiguredPreroll",value:function(){var e=this._configAdBreaks.filter((function(e){return 0===e.position&&!e.played})),t=this._mergeAdBreaks(e);this.prerollReady=t&&t.loadedPromise?t.loadedPromise:Promise.resolve(),t&&this._playAdBreak(t)}},{key:"_handleEveryAndPercentage",value:function(){var e=this;this._configAdBreaks.forEach((function(t){if(e._player.duration&&t.every)for(var n=2*t.every;n<=e._player.duration;)e._configAdBreaks.push({position:n,ads:t.ads,played:!1,loadedPromise:Promise.resolve()}),n+=t.every;else e._player.duration&&t.percentage&&!t.position&&(t.position=Math.floor(e._player.duration*t.percentage/100))}))}},{key:"_attachLiveSeekedHandler",value:function(){var e=this;this._eventManager.listenOnce(this._player,h.CustomEventType.FIRST_PLAYING,(function(){e._eventManager.listen(e._player,h.Html5EventType.SEEKING,(function(){e._liveSeeking=!0})),e._eventManager.listen(e._player,h.Html5EventType.SEEKED,(function(){e._liveSeeking=!1,e._pushNextAdsForLive(e._configAdBreaks,(function(t){return e._player.currentTime+t.every}))}))}))}},{key:"_pushNextAdsForLive",value:function(e,n){this._liveEventManager.removeAll();var r=[];e.forEach((function(e){if(![-1,0].includes(e.position)){var i=e.every,a=e.ads,o={every:i,position:n(e),ads:a,played:!1,loadedPromise:Promise.resolve()};t._logger.debug("Pushing next ad for live",o),r.push(o)}})),r.length&&(this._configAdBreaks=[].concat(r,U(this._configAdBreaks.filter((function(e){return-1===e.position})))))}},{key:"_handleConfiguredMidrolls",value:function(){var e=this;this._eventManager.listen(this._player,h.Html5EventType.TIME_UPDATE,(function(){if(!e._player.paused&&!e._liveSeeking){var n=e._configAdBreaks.filter((function(t){return!t.played&&e._player.currentTime&&t.position<=e._player.currentTime&&t.position>e._snapback}));if(n.length){var r=n[n.length-1].position,i=n.filter((function(e){return e.position===r}));e._player.isLive()?!e._player.isDvr()||e._player.isOnLiveEdge()&&e._player.config.advertising.returnToLive?e._handleReturnToLive(i):e._pushNextAdsForLive(i,(function(t){return(e._player.isOnLiveEdge()?e._player.currentTime:t.position)+t.every})):(e._snapback=r,t._logger.debug("Set snapback value ".concat(e._snapback)),e._eventManager.listen(e._player,h.Html5EventType.SEEKED,(function(){var n=e._configAdBreaks.findIndex((function(t){return t.played&&"number"==typeof e._player.currentTime&&e._player.currentTime<t.position}));n>0&&!e._configAdBreaks[n-1].played&&(e._snapback=0,t._logger.debug("Reset snapback value"))})));var a=e._mergeAdBreaks(i);a&&e._playAdBreak(a)}}}))}},{key:"_handleReturnToLive",value:function(e){var t=this;this._liveEventManager.listenOnce(this._player,h.AdEventType.AD_ERROR,(function(){t._pushNextAdsForLive(e,(function(e){return(t._player.isOnLiveEdge()?t._player.currentTime:e.position)+e.every}))})),this._liveEventManager.listenOnce(this._player,h.AdEventType.AD_BREAK_END,(function(){t._player.seekToLiveEdge()}))}},{key:"_playAdBreak",value:function(e){var n=this._adsPluginControllers.find((function(e){return"function"==typeof e.playAdNow}));n?(e.played=!0,this._adIsLoading=!0,t._logger.debug("Playing ad break positioned in ".concat(e.position)),e.loadedPromise.then((function(){return n.playAdNow(e.ads)}))):t._logger.warn("No ads plugin registered")}},{key:"_onAdManifestLoaded",value:function(e){this._adBreaksLayout=Array.from(new Set(this._adBreaksLayout.concat(e.payload.adBreaksPosition))).sort(),this._allAdsCompleted=!1}},{key:"_onAdBreakStart",value:function(e){this._adBreak=e.payload.adBreak}},{key:"_onAdLoaded",value:function(){this._adIsLoading=!1}},{key:"_onAdStarted",value:function(e){this._ad=e.payload.ad,this._adPlayed=!0,this._isAdPlaying=!0}},{key:"_onAdBreakEnd",value:function(){this._adBreak=void 0,this._ad=void 0}},{key:"_onAdsCompleted",value:function(){this._adsPluginControllers.every((function(e){return e.done}))&&this._configAdBreaks.every((function(e){return e.played}))&&(this._allAdsCompleted=!0,t._logger.debug(h.AdEventType.ALL_ADS_COMPLETED),this.dispatchEvent(new h.FakeEvent(h.AdEventType.ALL_ADS_COMPLETED)))}},{key:"_onAdError",value:function(e){this._adIsLoading=!1,e.payload.severity===h.Error.Severity.CRITICAL&&(this._isAdPlaying=!1,this._adsPluginControllers.every((function(e){return e.done}))&&this._configAdBreaks.every((function(e){return e.played}))&&(this._allAdsCompleted=!0,this._adPlayed&&(t._logger.debug(h.AdEventType.ALL_ADS_COMPLETED),this.dispatchEvent(new h.FakeEvent(h.AdEventType.ALL_ADS_COMPLETED)))))}},{key:"_isBumper",value:function(e){return"bumper"===e.name}},{key:"_onEnded",value:function(){var e=this;if(!this._adIsLoading){var t=this._adsPluginControllers.find((function(t){return e._isBumper(t)})),n=this._adsPluginControllers.find((function(t){return!e._isBumper(t)&&!t.done})),r=t&&"function"==typeof t.onPlaybackEnded?function(){return t.onPlaybackEnded()}:function(){return Promise.resolve()},i=n&&"function"==typeof n.onPlaybackEnded?function(){return n.onPlaybackEnded()}:function(){return Promise.resolve()};this._adBreaksLayout.includes(-1)||this._adBreaksLayout.includes("100%")||(this._allAdsCompleted=!0),r().finally((function(){i().finally((function(){return e._handleConfiguredPostroll()}))}))}}},{key:"_onPlaybackEnded",value:function(){this._configAdBreaks.forEach((function(e){return e.played=!0}))}},{key:"_handleConfiguredPostroll",value:function(){var e=this._configAdBreaks.filter((function(e){return!e.played&&-1===e.position}));if(e.length){var t=this._mergeAdBreaks(e);t&&this._playAdBreak(t)}this._configAdBreaks.forEach((function(e){return e.played=!0}))}},{key:"_reset",value:function(){this._eventManager.removeAll(),this._liveEventManager.removeAll(),this._init()}},{key:"_destroy",value:function(){this._adsPluginControllers=[],this._eventManager.destroy(),this._liveEventManager.destroy()}},{key:"_mergeAdBreaks",value:function(e){if(e.length)return e.forEach((function(e){return e.played=!0})),{position:e[0].position,ads:e.reduce((function(e,t){return e.concat(t.ads)}),[]),played:!1,loadedPromise:Promise.all(e.map((function(e){return e.loadedPromise})))}}}],r&&j(n.prototype,r),i&&j(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}(h.FakeEventTarget);function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,X(r.key),r)}}function X(e){var t=function(e,t){if("object"!=Z(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Z(t)?t:String(t)}z(Y,"_logger",(0,h.getLogger)("AdsController"));var Q=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._pluginManager=t}var t,n,r;return t=e,(n=[{key:"getAdsControllers",value:function(){return Object.values(this._pluginManager.getAll()).filter((function(e){return"function"==typeof e.getAdsController})).map((function(e){return e.getAdsController()}))}}])&&q(t.prototype,n),r&&q(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,re(r.key),r)}}function ne(e,t,n){return(t=re(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e){var t=function(e,t){if("object"!=J(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==J(t)?t:String(t)}var ie=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.player=n,this.eventManager=new h.EventManager,this.logger=(0,h.getLogger)(h.Utils.String.capitlize(this.name)),this.config=ee(ee({},this.constructor.defaultConfig),r)}var t,n,r;return t=e,n=[{key:"getConfig",value:function(e){return e?h.Utils.Object.copyDeep(this.config[e]):h.Utils.Object.copyDeep(this.config)}},{key:"ready",get:function(){return Promise.resolve()}},{key:"updateConfig",value:function(e){h.Utils.Object.mergeDeep(this.config,e)}},{key:"loadMedia",value:function(){}},{key:"open",value:function(){throw new h.Error(h.Error.Severity.CRITICAL,h.Error.Category.PLAYER,h.Error.Code.RUNTIME_ERROR_METHOD_NOT_IMPLEMENTED,"showOverlay()")}},{key:"destroy",value:function(){this.eventManager.destroy()}},{key:"reset",value:function(){}},{key:"getName",value:function(){return this.name}},{key:"dispatchEvent",value:function(e,t){this.logger.debug("Fire event: "+e,t),this.player.dispatchEvent(new h.FakeEvent(e,t))}}],r=[{key:"isValid",value:function(){throw new h.Error(h.Error.Severity.CRITICAL,h.Error.Category.PLAYER,h.Error.Code.RUNTIME_ERROR_METHOD_NOT_IMPLEMENTED,"isValid()")}}],n&&te(t.prototype,n),r&&te(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,le(r.key),r)}}function se(e,t,n){return(t=le(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e){var t=function(e,t){if("object"!=ae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ae(t)?t:String(t)}ne(ie,"defaultConfig",{});var ue="registeredpluginslistevent",ce=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),se(this,"_plugins",{}),se(this,"_isDisabledPluginMap",new Map)}var t,n,r;return t=e,n=[{key:"load",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e._registry.has(t))throw e._logger.warn("Plugin <".concat(t,"> loading failed, plugin is not registered")),new h.Error(h.Error.Severity.RECOVERABLE,h.Error.Category.PLAYER,h.Error.Code.RUNTIME_ERROR_NOT_REGISTERED_PLUGIN,t);var i=e._registry.get(t);"boolean"==typeof r.disable&&this._isDisabledPluginMap.set(t,r.disable);var a=!!this._isDisabledPluginMap.get(t),o=!!i&&i.isValid();if(i&&o&&!a){try{this._plugins[t]=new i(t,n,r)}catch(e){throw new h.Error(h.Error.Severity.RECOVERABLE,h.Error.Category.PLAYER,h.Error.Code.PLUGIN_LOAD_FAILED,e)}return this._isDisabledPluginMap.set(t,!1),e._logger.debug("Plugin <".concat(t,"> has been loaded")),!0}return e._logger.debug("Plugin <".concat(t,"> isn't loaded, isValid()=").concat(o.toString(),", disabled=").concat(a.toString())),!1}},{key:"getRegisterdPluginsList",value:function(){return Array.from(e._registry.keys())}},{key:"loadMedia",value:function(){var e=this;Object.keys(this._plugins).forEach((function(t){return e._plugins[t].loadMedia()}))}},{key:"destroy",value:function(){var e=this;Object.keys(this._plugins).forEach((function(t){e._plugins[t].destroy(),delete e._plugins[t]}))}},{key:"reset",value:function(){var e=this;Object.keys(this._plugins).forEach((function(t){return e._plugins[t].reset()}))}},{key:"get",value:function(e){return this._plugins[e]}},{key:"getAll",value:function(){return this._plugins}}],r=[{key:"register",value:function(t,n){return"function"==typeof n&&n.prototype instanceof ie?e._registry.has(t)?(e._logger.debug("Plugin <".concat(t,"> is already registered, do not register again")),!1):(e._registry.set(t,n),e._logger.debug("Plugin <".concat(t,"> has been registered successfully")),!0):(e._logger.error("Plugin <".concat(t,"> registration failed, plugin is not an instance of BasePlugin")),!1)}},{key:"unRegister",value:function(t){e._registry.has(t)&&(e._registry.delete(t),e._logger.debug("Unregistered <".concat(t,"> plugin.")))}}],n&&oe(t.prototype,n),r&&oe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();se(ce,"_logger",(0,h.getLogger)("PluginManager")),se(ce,"_registry",new Map);var de=ce.register;function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,he(r.key),r)}}function he(e){var t=function(e,t){if("object"!=pe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pe(t)?t:String(t)}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ve={youbora:{playerVersion:"{{pVersion}}",playerName:"{{pName}}",entryId:"{{entryId}}",entryName:"{{entryName}}",entryType:"{{entryType}}",sessionId:"{{sessionId}}",uiConfId:"{{uiConfId}}"},googleAnalytics:{entryId:"{{entryId}}",entryName:"{{entryName}}",uiConfId:"{{uiConfId}}",partnerId:"{{partnerId}}"},ottAnalytics:{entryId:"{{entryId}}",ks:"{{ks}}",isAnonymous:"{{isAnonymous}}",partnerId:"{{partnerId}}",serviceUrl:"{{serviceUrl}}"},ima:{playerVersion:"{{pVersion}}",playerName:"{{pName}}"},kava:{playerVersion:"{{pVersion}}",playerName:"{{pName}}",partnerId:"{{partnerId}}",playlistId:"{{playlistId}}",entryId:"{{entryId}}",entryType:"{{entryType}}",sessionId:"{{sessionId}}",ks:"{{ks}}",uiConfId:"{{uiConfId}}",referrer:"{{referrer}}",encodedReferrer:"{{encodedReferrer}}",serviceUrl:"{{analyticsServiceUrl}}"},comscore:{playerVersion:"{{pVersion}}"},vr:{rootElement:"{{domRootElementId}}"},share:{partnerId:"{{partnerId}}",uiConfId:"{{uiConfId}}",entryId:"{{entryId}}",embedBaseUrl:"{{embedBaseUrl}}",embedWidth:"{{embedWidth}}",embedHeight:"{{embedHeight}}"}},me=new RegExp("{{.*}}"),be=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(t).reduce((function(t,n){var r=ye(n,2),i=r[0],a=r[1];return h.Utils.Object.isObject(a)?t[i]=e(a):"string"==typeof a&&me.test(a)?t[i]=a:t[i]=void 0,t}),{})},ke=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(t).reduce((function(t,n){var r=ye(n,2),i=r[0],a=r[1];return h.Utils.Object.isObject(a)?t[i]=e(a):a&&(t[i]=a),t}),{})};function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xe(r.key),r)}}function _e(e,t,n){return t=Se(t),function(e,t){if(t&&("object"===Ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return we(e)}(e,Ae()?Reflect.construct(t,n||[],Se(e).constructor):t.apply(e,n))}function Ae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ae=function(){return!!e})()}function Se(e){return Se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Se(e)}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e,t){return Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ce(e,t)}function xe(e){var t=function(e,t){if("object"!=Ee(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ee(t)?t:String(t)}var Pe=function(e){function t(){var e,n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=_e(this,t),n=we(e),i={ottAnalytics:{}},(r=xe(r="_ovpPluginsConfig"))in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,e._config=h.Utils.Object.mergeDeep({},e._basePluginsConfig,e._ovpPluginsConfig),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ce(e,t)}(t,e),n=t,r&&Te(n.prototype,r),i&&Te(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._basePluginsConfig=h.Utils.Object.copyDeep(ve)}var t,n,r;return t=e,(n=[{key:"get",value:function(){return this._config}},{key:"set",value:function(e){if(e){var t=be(e);this._config=ke(h.Utils.Object.mergeDeep(this._config,t))}}},{key:"reset",value:function(){this._config=h.Utils.Object.copyDeep(ve)}}])&&fe(t.prototype,n),r&&fe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());const Re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n,r=e;for(var i in t){var a=void 0!==t[i]&&null!==t[i]?t[i]:"";"string"==typeof a&&a.indexOf('"')>-1&&(a=a.replace(/"/g,'\\"')),n=new RegExp("{{"+i+"}}","g"),r=r.replace(n,a)}return r}catch(e){return""}};function Ie(e,t){var n=function(e){var t=document.createElement("a");return t.href=e,t.hostname},r=n(t),i=!1,a="",o="";return e&&(e.flavors&&Array.isArray(e.flavors)?(a=(i=1===e.flavors.length)&&n(e.flavors[0].url),o=e.flavors[0].url):e.result&&(i=!0,a=n(e.result.url),o=e.result.url)),i&&r!==a?o:t}function De(e,t){var n,r={};if((null==t||null===(n=t.sources)||void 0===n?void 0:n.type)===h.MediaType.LIVE&&("IE"===h.Env.browser.name||"Chromecast"===h.Env.device.model)){var i=h.Utils.Object.getPropertyPath(e,"sources.options.forceRedirectExternalStreams"),a=h.Utils.Object.getPropertyPath(t,"sources.options.forceRedirectExternalStreams");"boolean"!=typeof i&&"boolean"!=typeof a&&h.Utils.Object.mergeDeep(r,{sources:{options:{forceRedirectExternalStreams:!0}}})}return h.Utils.Object.mergeDeep(r,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=h.Utils.Object.getPropertyPath(e,"sources.options.redirectExternalStreamsHandler"),i=h.Utils.Object.getPropertyPath(t,"sources.options.redirectExternalStreamsHandler");return"function"!=typeof r&&"function"!=typeof i&&h.Utils.Object.mergeDeep(n,{sources:{options:{redirectExternalStreamsHandler:Ie}}}),n}(e,t))}var Oe={INITIAL_CONFIG_REQUIRED:"Must provide initial providers config",PARTNER_ID_REQUIRED:"Must provide partner id",TARGET_ID_REQUIRED:"Must provide target id",DOM_ELEMENT_WITH_TARGET_ID_REQUIRED:"Must provide DOM element with id of: ",TARGET_ID_ALREADY_USED:"The target id provided is already in use. Id: "};function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ne(r.key),r)}}function Ne(e){var t=function(e,t){if("object"!=Le(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Le(t)?t:String(t)}var Ue,Be,Fe,je="@playkit-js/kaltura-player-js_",He=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isStorageAvailable",value:function(e){if("undefined"==typeof Storage)return!1;try{return e.setItem("test","test"),e.removeItem("test"),!0}catch(e){return!1}}},{key:"getStorageSize",value:function(e){return Object.keys(e).filter((function(e){return e.startsWith(je)})).length}},{key:"getStorageItems",value:function(e){var t={};return Object.keys(e).forEach((function(n){n.startsWith(je)&&(t[n]=e.getItem(n))})),t}},{key:"setItem",value:function(t,n,r){e._validateKey(t);try{e._logger.debug("Sets item for key: "+t,n),r.setItem(je+t,n)}catch(t){e._isQuotaExceeded(t)?e._logger.error("Quota exceeded: "+t.message):e._logger.error(t.message)}}},{key:"getItem",value:function(t,n){e._validateKey(t);var r=null;try{return"string"==typeof(r=n.getItem(je+t))?JSON.parse(r):null}catch(e){return r}}},{key:"_isQuotaExceeded",value:function(e){var t=!1;if(e)if(e.code)switch(e.code){case 22:t=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===e.name&&(t=!0)}else-2147024882===e.number&&(t=!0);return t}},{key:"_validateKey",value:function(e){if("string"!=typeof e||0===e.length)throw new Error("Invalid key")}}],(n=null)&&Me(t.prototype,n),r&&Me(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,We(r.key),r)}}function ze(e,t,n){return t&&Ke(e.prototype,t),n&&Ke(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function We(e){var t=function(e,t){if("object"!=Ve(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ve(t)?t:String(t)}Ue=He,Be="_logger",Fe=(0,h.getLogger)("StorageWrapper"),(Be=Ne(Be))in Ue?Object.defineProperty(Ue,Be,{value:Fe,enumerable:!0,configurable:!0,writable:!0}):Ue[Be]=Fe;var Ye=function(){function e(){Ge(this,e),this.storageManagers=[]}return ze(e,[{key:"addManager",value:function(e){this.storageManagers.push(e)}}],[{key:"getInstance",value:function(){return null===this.instance&&(this.instance=new e),this.instance}}]),e}();!function(e,t,n){(t=We(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ye,"instance",null);var Ze=function(){function e(){Ge(this,e)}return ze(e,null,[{key:"init",value:function(e){this._logger=(0,h.getLogger)(e),Ye.getInstance().addManager(this)}},{key:"attachAll",value:function(e){Ye.getInstance().storageManagers.forEach((function(t){t.isStorageAvailable()&&t.attach(e)}))}},{key:"setStorageConfig",value:function(e){Ye.getInstance().storageManagers.forEach((function(t){t.isStorageAvailable()&&t.hasStorage()&&h.Utils.Object.mergeDeep(e,t.getStorageConfig())}))}},{key:"isStorageAvailable",value:function(){return He.isStorageAvailable(this.getStorageObject())}},{key:"hasStorage",value:function(){var e=this.getStorageSize(),t=0!==e;return t?this._logger.debug("Storage found with size of ",e):this._logger.debug("No storage found"),t}},{key:"setItem",value:function(e,t){He.setItem(e,t,this.getStorageObject())}},{key:"getItem",value:function(e){return He.getItem(e,this.getStorageObject())}},{key:"getStorageSize",value:function(){return He.getStorageSize(this.getStorageObject())}},{key:"getStorageItems",value:function(){return He.getStorageItems(this.getStorageObject())}},{key:"getStorageConfig",value:function(){var e=this._getExistingValues(),t=this._buildStorageConfig(e);return this._logger.debug("Gets storage config",t),t}},{key:"_getExistingValues",value:function(){var e=this,t={};return Object.keys(this.StorageKeys).forEach((function(n){var r=e.StorageKeys[n],i=e.getItem(r);null!=i&&(t[r]=i)})),t}},{key:"_buildStorageConfig",value:function(e){var t=h.Utils.Object.mergeDeep({},e);return delete t.textStyle,{playback:t}}},{key:"getStorageObject",value:function(){throw new h.Error(h.Error.Severity.CRITICAL,h.Error.Category.PLAYER,h.Error.Code.RUNTIME_ERROR_METHOD_NOT_IMPLEMENTED,"getStorageObject()")}},{key:"attach",value:function(e){throw new h.Error(h.Error.Severity.CRITICAL,h.Error.Category.PLAYER,h.Error.Code.RUNTIME_ERROR_METHOD_NOT_IMPLEMENTED,"attach()")}},{key:"initialize",value:function(){throw new h.Error(h.Error.Severity.CRITICAL,h.Error.Category.PLAYER,h.Error.Code.RUNTIME_ERROR_METHOD_NOT_IMPLEMENTED,"initialize()")}}]),e}();function qe(e){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tt(r.key),r)}}function Qe(e,t,n){return t=$e(t),function(e,t){if(t&&("object"===qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Je()?Reflect.construct(t,n||[],$e(e).constructor):t.apply(e,n))}function Je(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Je=function(){return!!e})()}function $e(e){return $e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$e(e)}function et(e,t){return et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},et(e,t)}function tt(e){var t=function(e,t){if("object"!=qe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qe(t)?t:String(t)}var nt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qe(this,t,arguments)}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&et(e,t)}(t,e),n=t,i=[{key:"initialize",value:function(){this.init(this.name)}},{key:"getStorageObject",value:function(){return localStorage}},{key:"attach",value:function(e){var t=this;this._logger.debug("Attach local storage");var n=new h.EventManager;n.listen(e,e.Event.UI.USER_CLICKED_MUTE,(function(){e.isCasting()||t.setItem(t.StorageKeys.MUTED,e.muted)})),n.listen(e,e.Event.UI.USER_CLICKED_UNMUTE,(function(){e.isCasting()||t.setItem(t.StorageKeys.MUTED,e.muted)})),n.listen(e,e.Event.UI.USER_CHANGED_VOLUME,(function(){e.isCasting()||(t.setItem(t.StorageKeys.MUTED,!e.volume),t.setItem(t.StorageKeys.VOLUME,e.volume))})),n.listen(e,e.Event.UI.USER_SELECTED_AUDIO_TRACK,(function(e){var n=e.payload.audioTrack;t.setItem(t.StorageKeys.AUDIO_LANG,n.language)}));var r=function(e){e&&"off"!==e?(t.setItem(t.StorageKeys.TEXT_LANG,e),t.setItem(t.StorageKeys.CAPTIONS_DISPLAY,!0)):t.setItem(t.StorageKeys.CAPTIONS_DISPLAY,!1)};n.listen(e,e.Event.UI.USER_SELECTED_CAPTION_TRACK,(function(e){var t,n=e.payload;return r(null===(t=n.captionTrack)||void 0===t?void 0:t.language)})),n.listen(e,e.Event.UI.USER_SHOWED_CAPTIONS,(function(e){var t=e.payload;return r(t.language)})),n.listen(e,e.Event.UI.USER_HID_CAPTIONS,(function(){return r("off")})),n.listen(e,e.Event.UI.USER_SELECTED_CAPTIONS_STYLE,(function(e){try{var n=JSON.stringify(e.payload.captionsStyle);t.setItem(t.StorageKeys.TEXT_STYLE,n)}catch(e){t._logger.error(e.message)}})),n.listen(e,e.Event.Core.PLAYER_DESTROY,(function(){return n.destroy()})),n.listen(e,e.Event.UI.USER_CLICKED_ADVANCED_AUDIO_DESCRIPTION,(function(e){var n=e.payload.checked;t.setItem(t.StorageKeys.ADVANCED_AUDIO_DESCRIPTION,n)}))}},{key:"getPlayerTextStyle",value:function(){return this.getItem(this.StorageKeys.TEXT_STYLE)}}],(r=null)&&Xe(n.prototype,r),i&&Xe(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}(Ze);function rt(e){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(e)}function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,st(r.key),r)}}function ot(e,t,n){return t&&at(e.prototype,t),n&&at(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function st(e){var t=function(e,t){if("object"!=rt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rt(t)?t:String(t)}!function(e,t,n){(t=tt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(nt,"StorageKeys",{MUTED:"muted",VOLUME:"volume",AUDIO_LANG:"audioLanguage",TEXT_LANG:"textLanguage",CAPTIONS_DISPLAY:"captionsDisplay",TEXT_STYLE:"textStyle",ADVANCED_AUDIO_DESCRIPTION:"advancedAudioDescription"});var lt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};it(this,e),t.observedThresholds=t.observedThresholds||pt,t.playerThreshold="number"==typeof t.playerThreshold?t.playerThreshold:ft,this._config=t,this._eventManager=new h.EventManager,this._targetsObserved=new h.Utils.MultiMap;var n={threshold:t.observedThresholds.map((function(e){return e/100}))};this._observer=new window.IntersectionObserver(this._intersectionChangedHandler.bind(this),n),this._initTabVisibility()}return ot(e,[{key:"_intersectionChangedHandler",value:function(e){var t=this;e.forEach((function(e){t._targetsObserved.get(e.target).forEach((function(t){var n=e.intersectionRatio>=t.threshold;t.lastIntersectionRatio=e.intersectionRatio,n!==t.lastVisible&&(t.lastVisible=n,t.listener(n,ut.VIEWPORT))}))}))}},{key:"_handleTabVisibilityChange",value:function(){var e=this;this._isTabVisible=!document[this._visibilityTabHiddenAttr],this._targetsObserved.getAll().forEach((function(t){t.lastVisible&&t.listener(e._isTabVisible,ut.TAB)}))}},{key:"_initTabVisibility",value:function(){void 0!==document.hidden&&(this._visibilityTabHiddenAttr="hidden",this._visibilityTabChangeEventName="visibilitychange"),this._visibilityTabHiddenAttr&&this._visibilityTabChangeEventName&&(this._eventManager.listen(document,this._visibilityTabChangeEventName,this._handleTabVisibilityChange.bind(this)),this._isTabVisible=!document[this._visibilityTabHiddenAttr])}},{key:"observe",value:function(e,t,n){if(this._observer){var r="number"==typeof n?n:this._config.playerThreshold,i=new ct(r/100,t);if(e){if(this._targetsObserved.has(e)){var a=this._targetsObserved.get(e)[0].lastIntersectionRatio;void 0!==a&&(i.lastIntersectionRatio=a,i.listener(this._isTabVisible&&a>=i.threshold,ut.VIEWPORT))}else this._observer.observe(e);this._targetsObserved.push(e,i)}}}},{key:"unObserve",value:function(e,t){this._observer&&(this._targetsObserved.remove(e,t),this._targetsObserved.has(e)||this._observer.unobserve(e))}},{key:"destroy",value:function(){this._observer&&(this._eventManager.destroy(),this._observer.disconnect(),this._targetsObserved.clear())}}]),e}(),ut={VIEWPORT:"viewport",TAB:"tab"},ct=ot((function e(t,n){it(this,e),this.threshold=t,this.listener=n})),dt="visibilitychange",pt=[0,10,20,30,40,50,60,70,80,90,100],ft=50;function ht(e){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ht(e)}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kt(r.key),r)}}function gt(e,t,n){return t=mt(t),function(e,t){if(t&&("object"===ht(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vt()?Reflect.construct(t,n||[],mt(e).constructor):t.apply(e,n))}function vt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vt=function(){return!!e})()}function mt(e){return mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mt(e)}function bt(e,t){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bt(e,t)}function kt(e){var t=function(e,t){if("object"!=ht(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ht(t)?t:String(t)}var Et=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gt(this,t,arguments)}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bt(e,t)}(t,e),n=t,i=[{key:"initialize",value:function(){this.init(this.name)}},{key:"getStorageObject",value:function(){return sessionStorage}},{key:"attach",value:function(e){var t=this;this._logger.debug("Attach session storage"),(new h.EventManager).listen(e,e.Event.UI.USER_SELECTED_SPEED,(function(){e.isCasting()||t.setItem(t.StorageKeys.PLAYBACK_RATE,e.playbackRate)}))}}],(r=null)&&yt(n.prototype,r),i&&yt(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}(Ze);function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,At(r.key),r)}}function At(e){var t=function(e,t){if("object"!=Tt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tt(t)?t:String(t)}!function(e,t,n){(t=kt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Et,"StorageKeys",{PLAYBACK_RATE:"playbackRate"});var St=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"init",value:function(){e._value="".concat(h.Utils.Generator.guid(),":").concat(h.Utils.Generator.guid())}},{key:"next",value:function(){if(!e._value)return this.init(),e._value;var t=e._value,n=/:((?:[a-z0-9]|-)*)/i.exec(t);return n&&n[1]&&(e._value=t.replace(n[1],h.Utils.Generator.guid())),t}}],(n=null)&&_t(t.prototype,n),r&&_t(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function wt(e){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wt(e)}function Ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xt(r.key),r)}}function xt(e){var t=function(e,t){if("object"!=wt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wt(t)?t:String(t)}!function(e,t,n){(t=At(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(St,"_value","");var Pt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uiConfId=""}var t,n,r;return t=e,r=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}],(n=[{key:"setUiConfId",value:function(e){this.uiConfId=e}},{key:"getUiConfId",value:function(){return this.uiConfId}}])&&Ct(t.prototype,n),r&&Ct(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function It(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||Ot(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e){return function(e){if(Array.isArray(e))return Lt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ot(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){if(e){if("string"==typeof e)return Lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lt(e,t):void 0}}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){Ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ut(e,t,n){var r;return r=function(e,t){if("object"!=Rt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Rt(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bt=[],Ft="kaltura-player-container",jt="debugKalturaPlayer",Ht="kalturaStartTime",Vt="kalturaEndTime",Gt="kalturaSeekFrom",Kt="kalturaClipTo",zt=2504201,Wt="https://analytics.kaltura.com/api_v3/index.php?service=analytics&action=trackEvent&apiVersion=3.3.0&format=1&eventType=1&partnerId=".concat(zt,"&entryId=1_3bwzbc9o&&eventIndex=1&position=0"),Yt=[],Zt=1e3,qt=[],Xt=function(e,t){Yt.forEach((function(n){n(e,Nt(Nt({},t),{},{level:h.LogLevel.INFO}))}))};function Qt(e){if(!e)throw new Error(Oe.INITIAL_CONFIG_REQUIRED);!function(e){if(!e)throw new Error(Oe.TARGET_ID_REQUIRED);var t=document.getElementById(e);if(!t)throw new Error(Oe.DOM_ELEMENT_WITH_TARGET_ID_REQUIRED+e);if(t.getElementsByClassName(Ft).length>0)throw new Error(Oe.TARGET_ID_ALREADY_USED+e)}(e.targetId)}function Jt(e){function t(e,t){var n=Dt(e).map((function(e){try{return"string"==typeof e?e:JSON.stringify(e)}catch(t){return e}})).join(" ");return"[".concat(t.name,"] ").concat(n)}h.Utils.Object.getPropertyPath(e,"ui.log")||h.Utils.Object.createPropertyPath(e,"ui.log",{}),h.Utils.Object.getPropertyPath(e,"provider.log")||h.Utils.Object.createPropertyPath(e,"provider.log",{}),h.Utils.Object.getPropertyPath(e,"log")||h.Utils.Object.createPropertyPath(e,"log",{}),void 0===h.Utils.Object.getPropertyPath(e,"log.useDebugInfo")&&(e.log.useDebugInfo=!0),Yt.push((function(e,n){console.log(t(e,n))})),e.log&&e.log.useDebugInfo&&Yt.push((function(e,n){var r=t(e,n);qt.length===Zt&&qt.shift(),qt.push("".concat((new Date).toLocaleString()," ").concat(r," \n"))})),e.log&&"function"==typeof e.log.handler&&Yt.push(e.log.handler),(0,h.setLogHandler)(Xt),e.ui.log.handler=e.provider.log.handler=Xt;var n=h.LogLevel.ERROR;!e.log||!0!==window.DEBUG_KALTURA_PLAYER&&""!==$t(jt)?e.log&&e.log.level&&h.LogLevel[e.log.level]&&(n=h.LogLevel[e.log.level]):(n=h.LogLevel.DEBUG,e.log.level=h.LogLevel.DEBUG.name),e.ui.log.level=e.provider.log.level=n.name,(0,h.setLogLevel)(n)}function $t(e){var t;window.URLSearchParams?t=new URLSearchParams(window.location.search).get(e):t=function(e){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search),n=location.search.indexOf(e)>-1;return null===t?n?"":null:decodeURIComponent(t[1].replace(/\+/g," "))}(e);return t}function en(){var e,t=Pt.getInstance().getUiConfId();return""!==t&&window.KalturaPlayers&&null!==(e=window.KalturaPlayers[t])&&void 0!==e&&e.config?window.KalturaPlayers[t].config:window.__kalturaplayerdata||{}}function tn(e){var t=function(e){var t=document.createElement("div");t.id=h.Utils.Generator.uniqueId(5),t.className=Ft,t.setAttribute("tabindex","-1");var n=document.getElementById(e);return n&&t&&n.appendChild(t),t.id}(e.targetId),n={targetId:e.targetId,provider:{partnerId:e.provider.partnerId},ui:{targetId:t},plugins:{},advertising:{adBreaks:[]},viewability:{observedThresholds:pt,playerThreshold:ft}};if(h.Utils.Object.mergeDeep(n,e),!e.provider.ignoreServerConfig){var r=h.Utils.Object.copyDeep(en());delete r.productVersion,n=h.Utils.Object.mergeDeep({},nn(r),n)}return function(e){if(h.Env.isMacOS&&h.Env.isSafari||h.Env.isIOS){"boolean"!=typeof h.Utils.Object.getPropertyPath(e,"playback.preferNative.hls")&&h.Utils.Object.mergeDeep(e,{playback:{preferNative:{hls:!0}}})}}(n),function(e){if(h.Env.isMacOS&&h.Env.isSafari||h.Env.isIOS){"boolean"!=typeof h.Utils.Object.getPropertyPath(e,"text.useNativeTextTrack")&&h.Utils.Object.mergeDeep(e,{text:{useNativeTextTrack:!0}})}}(n),function(e){var t=h.Utils.Object.getPropertyPath(e,"plugins.kava");t||(t=h.Utils.Object.mergeDeep(e,{plugins:{kava:{}}}))}(n),function(e){if(h.Env.isSmartTV){if((0,h.setCapabilities)(h.EngineType.HTML5,{autoplay:!0}),function(e){var t=h.Utils.Object.getPropertyPath(e,"playback.playAdsWithMSE");"boolean"!=typeof t&&(e=h.Utils.Object.createPropertyPath(e,"playback.playAdsWithMSE",!0));var n=h.Utils.Object.getPropertyPath(e,"plugins.ima.disableMediaPreload"),r=h.Utils.Object.getPropertyPath(e,"plugins.bumper.disableMediaPreload");e.plugins&&e.plugins.ima&&"boolean"!=typeof n&&(e=h.Utils.Object.createPropertyPath(e,"plugins.ima.disableMediaPreload",!0));e.plugins&&e.plugins.bumper&&"boolean"!=typeof r&&(e=h.Utils.Object.createPropertyPath(e,"plugins.bumper.disableMediaPreload",!0))}(e),function(e){var t=h.Utils.Object.getPropertyPath(e,"playback.options.html5.hls.liveSyncDurationCount");"boolean"!=typeof t&&h.Env.isSafari&&(e=h.Utils.Object.createPropertyPath(e,"playback.options.html5.hls.liveSyncDurationCount",2))}(e),e.plugins&&e.plugins.ima){var t=h.Utils.Object.getPropertyPath(e,"plugins.ima.forceReloadMediaAfterAds"),n=h.Utils.Object.getPropertyPath(e,"plugins.ima.delayInitUntilSourceSelected");"boolean"!=typeof t&&(e=h.Utils.Object.createPropertyPath(e,"plugins.ima.forceReloadMediaAfterAds",!0)),"boolean"!=typeof n&&(e=h.Utils.Object.createPropertyPath(e,"plugins.ima.delayInitUntilSourceSelected",!0))}if(e.plugins&&e.plugins.youbora)"number"!=typeof h.Utils.Object.getPropertyPath(e,"plugins.youbora.playheadMonitorInterval")&&(e=h.Utils.Object.createPropertyPath(e,"plugins.youbora.playheadMonitorInterval",2e3));"boolean"!=typeof h.Utils.Object.getPropertyPath(e,"streaming.lowLatencyMode")&&(e=h.Utils.Object.createPropertyPath(e,"streaming.lowLatencyMode",!1))}}(n),function(e){if("Edge"===h.Env.browser.name){h.Utils.Object.getPropertyPath(e,"drm.keySystem")||(e="Windows"===h.Env.os.name?h.Utils.Object.createPropertyPath(e,"drm.keySystem",h.DrmScheme.PLAYREADY):h.Utils.Object.createPropertyPath(e,"drm.keySystem",h.DrmScheme.WIDEVINE))}}(n),function(e){if(h.Env.isIOS&&e.plugins&&e.plugins.ima&&!e.plugins.ima.disable){var t=h.Utils.Object.getPropertyPath(e,"playback.playsinline"),n=h.Utils.Object.getPropertyPath(e,"plugins.ima.disableMediaPreload");!1===t&&"boolean"!=typeof n&&h.Utils.Object.createPropertyPath(e,"plugins.ima.disableMediaPreload",!0)}}(n),function(e){if(e.plugins&&e.plugins.imadai&&!e.plugins.imadai.disable){"boolean"!=typeof h.Utils.Object.getPropertyPath(e,"playback.options.html5.hls.autoStartLoad")&&h.Utils.Object.mergeDeep(e,{playback:{options:{html5:{hls:{autoStartLoad:!1}}}}})}}(n),function(e){var t=h.Utils.Object.getPropertyPath(e,"plugins.bumper"),n=h.Utils.Object.getPropertyPath(e,"plugins.imadai");if(t){var r={};"boolean"!=typeof t.playOnMainVideoTag&&(h.Env.isSmartTV||h.Env.isIOS&&e.playback&&!1===e.playback.playsinline)&&(r.playOnMainVideoTag=!0),n&&!n.disable&&(Array.isArray(t.position)||(r.position=[0]),"boolean"!=typeof t.disableMediaPreload&&(r.disableMediaPreload=!0)),h.Utils.Object.mergeDeep(e,{plugins:{bumper:r}})}}(n),function(e){var t=h.Utils.Object.getPropertyPath(e,"plugins.vr");if(t&&!t.disable){"boolean"!=typeof h.Utils.Object.getPropertyPath(e,"playback.inBrowserFullscreen")&&h.Utils.Object.mergeDeep(e,{playback:{inBrowserFullscreen:!0}})}}(n),function(e){if(h.Env.isIOS){var t=!1!==h.Utils.Object.getPropertyPath(e,"playback.playsinline");h.Utils.Object.hasPropertyPath(e,"plugins.airplay")?(0,h.setCapabilities)(h.EngineType.HTML5,{autoplay:!1,mutedAutoPlay:t}):"iPhone"!==h.Env.device.model||t||(0,h.setCapabilities)(h.EngineType.HTML5,{autoplay:!1,mutedAutoPlay:!1})}}(n),n}function nn(e){return function(){if(e.player){Bt.push({level:"warn",msg:"Path config.player will be deprecated soon. Please update your config structure as describe here: ".concat("https://github.com/kaltura/kaltura-player-js/blob/master/docs/configuration.md")});var t=h.Utils.Object.copyDeep(e.player);delete e.player,h.Utils.Object.mergeDeep(e,t)}}(),[["duration","sources.duration"],["type","sources.type"],["dvr","sources.dvr"],["id","sources.id"],["name","metadata.name"],["metadata.poster","sources.poster"],["metadata","sources.metadata"],["logLevel","log.level"],["ui.components.fullscreen.inBrowserFullscreenForIOS","playback.inBrowserFullscreen"],["playback.enableCEA708Captions","text.enableCEA708Captions"],["playback.useNativeTextTrack","text.useNativeTextTrack"],["playback.options.html5.dash.useShakaTextTrackDisplay","text.useShakaTextTrackDisplay"],["playback.captionsTextTrack1Label","text.captionsTextTrack1Label"],["playback.captionsTextTrack1LanguageCode","text.captionsTextTrack1LanguageCode"],["playback.captionsTextTrack2Label","text.captionsTextTrack2Label"],["playback.captionsTextTrack2LanguageCode","text.captionsTextTrack2LanguageCode"],["plugins.visibility.threshold","viewability.playerThreshold"],["plugins.visibility.floating","plugins.floating"],["playback.startTime","sources.startTime"]].forEach((function(t){return function(t,n){if(h.Utils.Object.hasPropertyPath(e,t))if(Bt.push({level:"warn",msg:"Path config.player.".concat(t," will be deprecated soon. Please update your config structure as describe here: ").concat("https://github.com/kaltura/kaltura-player-js/blob/master/docs/configuration.md")}),h.Utils.Object.hasPropertyPath(e,n))h.Utils.Object.deletePropertyPath(e,t);else{var r=h.Utils.Object.getPropertyPath(e,t),i=h.Utils.Object.createPropertyPath({},n,r);h.Utils.Object.mergeDeep(e,i),h.Utils.Object.deletePropertyPath(e,t)}}(t[0],t[1])})),e}function rn(e,t,n){var r=e.config.playback,i=!1;return r.streamPriority.forEach((function(e){e.engine===t&&(i=!0)})),i||r.streamPriority.push({engine:t,format:n}),r}function an(e){var t=e&&e.progressive;return!(!t||!t[0]||"video/youtube"!==t[0].mimetype)}function on(e){var t=e&&e.image;return!(!t||!t[0])}function sn(e){var t=e&&e.document;return!(!t||!t[0])}function ln(e,t){var n={},r={};return h.Utils.Object.isObject(e)&&Object.entries(e).forEach((function(e){var i=It(e,2),a=i[0],o=i[1];n[a]={},r[a]={},Object.entries(o).forEach((function(e){var i=It(e,2),o=i[0],s=i[1],l=h.Utils.Object.getPropertyPath(t[a],o);n[a][o]=l||s,r[a][o]=l}))})),[n,r]}var un="playSessionId=",cn="referrer=",dn="uiConfId=",pn="clientTag=html5:v",fn="kaltura.com",hn="custom_data=",yn="signature=",gn="seekFrom=",vn="clipTo=";function mn(e,t){var n,r,i;e.config.session&&e.config.session.id?function(e,t){var n,r,i=null===(n=t.sources)||void 0===n?void 0:n.id;if(null!=e&&null!==(r=e.playlist)&&void 0!==r&&null!==(r=r.items)&&void 0!==r&&r.length){if(i){var a;if(null!==(a=e.sessionIdCache)&&void 0!==a&&a.get(i)){var o;bn(t,null===(o=e.sessionIdCache)||void 0===o?void 0:o.get(i))}else{var s,l=St.next();null===(s=e.sessionIdCache)||void 0===s||s.set(i,l),bn(t,l)}}}else bn(t,St.next())}(e,t):(function(e){bn(e,St.next())}(t),null!=e&&null!==(n=e.playlist)&&void 0!==n&&null!==(n=n.items)&&void 0!==n&&n.length&&null!==(r=t.sources)&&void 0!==r&&r.id&&(null===(i=e.sessionIdCache)||void 0===i||i.set(t.sources.id,t.session.id)))}function bn(e,t){e.session=e.session||{},e.session.id=t}function kn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:un;if(n){var i,a=new RegExp(r+"((?:[a-z0-9]|-)*:(?:[a-z0-9]|-)*)","i").exec(t);if(a&&a[1])null!=e&&null!==(i=e.playlist)&&void 0!==i&&null!==(i=i.items)&&void 0!==i&&i.length||(t=t.replace(a[1],n));else t+=_n(t)+r+n}return t}function En(){var e;try{if((e=window.parent.document.URL).toLowerCase().includes("kaltura.com"))throw new Error("ignoring referrer:"+e)}catch(t){e=window.originalRequestReferrer||document.referrer}return e}function Tn(e){if(-1===e.indexOf(cn)){var t=btoa(En().substr(0,1e3));e+=_n(e)+cn+t}return e}function _n(e){return-1===e.indexOf("?")?"?":"&"}function An(e,t){return-1===e.indexOf(pn)&&(e+=_n(e)+pn+(t||"3.17.57")),e}function Sn(e,t){var n=h.Utils.Object.getPropertyPath(t,"seekFrom"),r=h.Utils.Object.getPropertyPath(t,"clipTo");return"number"==typeof n&&-1===e.indexOf(gn)&&(e+=_n(e)+gn+Math.floor(1e3*n)),"number"==typeof r&&-1===e.indexOf(vn)&&(e+=_n(e)+vn+Math.floor(1e3*r)),e}function wn(e,t){var n;mn(e,t);var r=t.sources,i=t.session&&t.session.id,a=null===(n=en())||void 0===n?void 0:n.productVersion;Object.values(h.StreamType).forEach((function(n){r[n]&&r[n].forEach((function(n){"string"==typeof n.url&&n.url.toLowerCase().indexOf("playmanifest/")>-1&&!n.localSource&&(n.url=kn(e,n.url,i),n.url=Tn(n.url),n.url=An(n.url,a),n.url=Sn(n.url,r)),n.drmData&&n.drmData.length&&n.drmData.forEach((function(n){"string"==typeof n.licenseUrl&&[fn,hn,yn].every((function(e){return n.licenseUrl.includes(e)}))&&(n.licenseUrl=kn(e,n.licenseUrl,i,"sessionId="),n.licenseUrl=An(n.licenseUrl,a),n.licenseUrl=Tn(n.licenseUrl),n.licenseUrl=function(e,t){var n=h.Utils.Object.getPropertyPath(t,"provider.uiConfId");return-1===e.indexOf(dn)&&"number"==typeof n&&(e+=_n(e)+dn+n),e}(n.licenseUrl,t))}))}))}))}function Cn(e){return Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cn(e)}function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pn(r.key),r)}}function Pn(e){var t=function(e,t){if("object"!=Cn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Cn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Cn(t)?t:String(t)}function Rn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return In(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return In(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function In(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Dn=(0,h.getLogger)("PluginsConfig"),On=function(e){return("number"==typeof e||"function"==typeof e||"string"==typeof e||"boolean"==typeof e||h.Utils.Object.isClassInstance(e))&&!me.test(e.toString())},Ln=function(e){return h.Utils.Object.isObject(e)&&"function"!=typeof e&&!h.Utils.Object.isClassInstance(e)},Mn=function(e){return e.map((function(e){if(Ln(e)){var t=Nn(e);return h.Utils.Object.isEmptyObject(t)?null:t}return On(e)?e:null})).filter((function(e){return null!==e}))},Nn=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(t).reduce((function(t,n){var r=Rn(n,2),i=r[0],a=r[1];return Ln(a)?t[i]=e(a):Array.isArray(a)?t[i]=Mn(a):On(a)&&(t[i]=a),t}),{})};var Un=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._pluginConfigStore=new Pe}var t,n,r;return t=e,n=[{key:"evaluatePluginsConfig",value:function(e,t){if(e){this._pluginConfigStore.set(e);var n=function(e){var t,n={pVersion:(null===(t=en())||void 0===t?void 0:t.productVersion)||"3.17.57",pName:"@playkit-js/kaltura-player-js"};if(e.targetId&&(n.domRootElementId=e.targetId),e.provider&&e.provider.env){n.serviceUrl=e.provider.env.serviceUrl;var r=h.Utils.Object.getPropertyPath(e,"provider.env.analyticsServiceUrl");r&&(n.analyticsServiceUrl="".concat(r,"/api_v3/index.php")),n.serviceUrl&&(n.embedBaseUrl=n.serviceUrl.replace("api_v3",""))}var i,a={referrer:En(),encodedReferrer:(i=En(),encodeURIComponent(i))};e.provider&&h.Utils.Object.mergeDeep(a,{ks:e.provider.ks,uiConfId:e.provider.uiConfId,partnerId:e.provider.partnerId}),e.session&&h.Utils.Object.mergeDeep(a,{sessionId:e.session.id,ks:e.session.ks,isAnonymous:e.session.isAnonymous,uiConfId:e.session.uiConfId,partnerId:e.session.partnerId}),e.sources&&h.Utils.Object.mergeDeep(a,{entryId:e.sources.id,entryName:e.sources.metadata&&e.sources.metadata.name,entryType:e.sources.type}),e.playlist&&h.Utils.Object.mergeDeep(a,{playlistId:e.playlist.id}),Object.keys(a).forEach((function(e){void 0===a[e]&&delete a[e]})),h.Utils.Object.mergeDeep(n,a);var o=e.uiConfData;return o&&(n.embedWidth=o.width,n.embedHeight=o.height),n}(t),r=h.Utils.Object.mergeDeep({},this._pluginConfigStore.get(),e),i=function(e){var t,n;e=(n=e)?n.replace(/\\n/g,"\\n").replace(/\\'/g,"\\'").replace(/\\"/g,'\\"').replace(/\\&/g,"\\&").replace(/\\r/g,"\\r").replace(/\\t/g,"\\t").replace(/\\b/g,"\\b").replace(/\\f/g,"\\f").replace(/[\u0000-\u0019]+/g,""):"";try{t=JSON.parse(e,(function(e){try{return JSON.parse(this[e])}catch(t){return this[e]}}))}catch(e){Dn.error("An error occurred while formatting config string.",e),t={}}return t}(Re(JSON.stringify(r),n));!function(e,t){var n=Nn(t),r=Nn(e);r&&n&&Object.keys(e).forEach((function(t){e&&e[t]&&(e[t]=h.Utils.Object.mergeDeep({},n[t],r[t]))}))}(e,i)}}}],n&&xn(t.prototype,n),r&&xn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Bn(e){return Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(e)}function Fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wn(r.key),r)}}function jn(e,t,n){return t=Vn(t),function(e,t){if(t&&("object"===Bn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gn(e)}(e,Hn()?Reflect.construct(t,n||[],Vn(e).constructor):t.apply(e,n))}function Hn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Hn=function(){return!!e})()}function Vn(e){return Vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vn(e)}function Gn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kn(e,t){return Kn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kn(e,t)}function zn(e,t,n){return(t=Wn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wn(e){var t=function(e,t){if("object"!=Bn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Bn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bn(t)?t:String(t)}var Yn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zn(Gn(n=jn(this,t)),"id","PluginReadinessMiddleware"),n._plugins=e,t._logger.debug("plugins readiness",n._plugins),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kn(e,t)}(t,e),n=t,(r=[{key:"load",value:function(e){this._checkNextSettle(0,e)}},{key:"_checkNextSettle",value:function(e,t){e<this._plugins.length?this._checkSettle(e,t):this.callNext(t)}},{key:"_checkSettle",value:function(e,n){var r=this;(this._plugins[e].ready?this._plugins[e].ready:Promise.resolve()).then((function(){t._logger.debug("plugin ".concat(r._plugins[e].name," ready promise resolved")),r._checkNextSettle(e+1,n)})).catch((function(){t._logger.debug("plugin ".concat(r._plugins[e].name," ready promise rejected")),r._checkNextSettle(e+1,n)}))}},{key:"play",value:function(e){this._checkNextSettle(0,e)}}])&&Fn(n.prototype,r),i&&Fn(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}(h.BaseMiddleware);function Zn(e){return Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zn(e)}function qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(n),!0).forEach((function(t){Jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$n(r.key),r)}}function Jn(e,t,n){return(t=$n(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $n(e){var t=function(e,t){if("object"!=Zn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zn(t)?t:String(t)}zn(Yn,"_logger",(0,h.getLogger)("PluginReadinessMiddleware"));var er={thumbsWidth:164,thumbsHeight:92,thumbsSlices:100},tr=/.*\/p\/\d+\/(?:[a-zA-Z]+\/\d+\/)*thumbnail\/entry_id\/\w+\/.*\d+/,nr=function(){function e(t,n,r){var i=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Jn(this,"_isUsingKalturaThumbnail",(function(){return!(!i._thumbnailConfig||!i._thumbnailConfig.thumbsSprite)})),Jn(this,"_convertKalturaThumbnailToThumbnailInfo",(function(e){if(i._thumbnailConfig){var t=i._thumbnailConfig,n=t.thumbsSprite,r=t.thumbsWidth,a=t.thumbsSlices,o=i._player.duration/a,s={x:Math.floor(e/o)*r,y:0,url:n,height:i._thumbsHeight,width:r};return new h.ThumbnailInfo(s)}return null})),Jn(this,"_buildKalturaThumbnailConfig",(function(e,t){var n,r,a,o=h.Utils.Object.getPropertyPath(e,"components.seekbar"),s=null===(n=t.sources)||void 0===n?void 0:n.rawThumbnailUrl,l=(null===(r=t.sources)||void 0===r?void 0:r.type)===h.MediaType.VOD,u=i._player.shouldAddKs(t)?null===(a=t.session)||void 0===a?void 0:a.ks:"",c=h.Utils.Object.mergeDeep(er,o);return Xn({thumbsSprite:l?i._getThumbSlicesUrl(s,u,c):""},c)})),Jn(this,"_maybeCutThumbnail",(function(e){var t=i._clipData,n=t.seekFrom,r=t.clipTo,a=e;return"number"==typeof n&&(a+="/start_sec/".concat(n)),"number"==typeof r&&(a+="/end_sec/".concat(r)),a})),Jn(this,"_getThumbSlicesUrl",(function(e,t,n){if("string"==typeof e&&tr.test(e))try{var r=Xn({thumbnailUrl:e},n),a=Re("{{thumbnailUrl}}/width/{{thumbsWidth}}/vid_slices/{{thumbsSlices}}",r),o=i._maybeCutThumbnail(a);return t?o+"/ks/".concat(t):o}catch(e){return""}return""})),this._player=t,this._clipData=this._buildClipData(r),this._thumbnailConfig=this._buildKalturaThumbnailConfig(n,r),this._eventManager=new h.EventManager,this._isUsingKalturaThumbnail()){var a,o=new Image;this._eventManager.listenOnce(o,"load",(function(){i._thumbsHeight=o.naturalHeight})),o.src=(null===(a=this._thumbnailConfig)||void 0===a?void 0:a.thumbsSprite)||""}}var t,n,r;return t=e,(n=[{key:"_buildClipData",value:function(e){return{seekFrom:e.sources.seekFrom||h.Utils.Object.getPropertyPath(this._player.config.sources,"seekFrom"),clipTo:e.sources.clipTo||h.Utils.Object.getPropertyPath(this._player.config.sources,"clipTo")}}},{key:"destroy",value:function(){this._eventManager.destroy()}},{key:"getThumbnail",value:function(e){return this._isUsingKalturaThumbnail()?this._convertKalturaThumbnailToThumbnailInfo(e):this._player._localPlayer.getThumbnail(e)}},{key:"getKalturaThumbnailConfig",value:function(){return this._thumbnailConfig}}])&&Qn(t.prototype,n),r&&Qn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function rr(e){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rr(e)}function ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ar(r.key),r)}}function ar(e){var t=function(e,t){if("object"!=rr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rr(t)?t:String(t)}var or=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._player=t}var t,n,r;return t=e,(n=[{key:"_addTextTrack",value:function(){this._textTrack=this._player.addTextTrack(h.PKTextTrack.KIND.METADATA,"CuePoints")}},{key:"_getMetadataTracks",value:function(){return this._player.getNativeTextTracks().filter((function(e){return e.kind===h.PKTextTrack.KIND.METADATA&&e.cues}))}},{key:"_createTextTrackCue",value:function(e){var t=e.startTime,n=e.endTime,r=e.id,i=e.metadata;return(0,h.createTextTrackCue)({startTime:t,endTime:n,id:r,type:h.TimedMetadata.TYPE.CUE_POINT,metadata:i})}},{key:"_cuesSorter",value:function(e,t){return e.startTime-t.startTime}},{key:"getAllCuePoints",value:function(){return this._getMetadataTracks().reduce((function(e,t){return e.concat(Array.from(t.cues).map((function(e){return(0,h.createTimedMetadata)(e)})))}),[]).sort(this._cuesSorter)}},{key:"getActiveCuePoints",value:function(){return this._getMetadataTracks().reduce((function(e,t){return e.concat(Array.from(t.activeCues).map((function(e){return(0,h.createTimedMetadata)(e)})))}),[]).sort(this._cuesSorter)}},{key:"_getTextTrackCueById",value:function(e){var t=null;return this._getMetadataTracks().some((function(n){return t=n.cues.getCueById(e)})),t}},{key:"_removeTextTrackCue",value:function(e){try{var t;null===(t=e.track)||void 0===t||t.removeCue(e)}catch(e){}}},{key:"addCuePoints",value:function(e){var t=this;this._player.ready().then((function(){t._textTrack||t._addTextTrack();var n=[];e.forEach((function(e){var r,i=t._createTextTrackCue(e),a=t._getTextTrackCueById(e.id);a&&t._removeTextTrackCue(a),null===(r=t._textTrack)||void 0===r||r.addCue(i),n.push((0,h.createTimedMetadata)(i))})),t._player.dispatchEvent(new h.FakeEvent(h.EventType.TIMED_METADATA_ADDED,{cues:n}))}))}},{key:"_clearAllTextTrackCues",value:function(){var e=this;this._getMetadataTracks().forEach((function(t){for(;t.cues.length;)e._removeTextTrackCue(t.cues[0])}))}},{key:"reset",value:function(){this._clearAllTextTrackCues()}},{key:"destroy",value:function(){this.reset()}}])&&ir(t.prototype,n),r&&ir(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function sr(e){return sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sr(e)}function lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ur(r.key),r)}}function ur(e){var t=function(e,t){if("object"!=sr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sr(t)?t:String(t)}var cr=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){(t=ur(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"_servicesRegistry",new Map),e._logger=(0,h.getLogger)("ServiceProvider"),this._eventManager=new h.EventManager,this._eventManager.listen(t,t.Event.Core.PLAYER_RESET,(function(){return n.reset()}))}var t,n,r;return t=e,(n=[{key:"register",value:function(t,n){this._servicesRegistry.has(t)?e._logger.debug("".concat(t," service already exists")):(this._servicesRegistry.set(t,n),e._logger.debug("".concat(t," service registered")))}},{key:"get",value:function(e){return this._servicesRegistry.get(e)}},{key:"has",value:function(e){return this._servicesRegistry.has(e)}},{key:"reset",value:function(){this._servicesRegistry.forEach((function(e){return"function"==typeof e.reset&&e.reset()}))}},{key:"destroy",value:function(){this._servicesRegistry.forEach((function(e){return"function"==typeof e.destroy&&e.destroy()})),this._eventManager.removeAll(),this._servicesRegistry.clear()}}])&&lr(t.prototype,n),r&&lr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),dr="kaltura-player",pr={PLAYLIST_LOADED:"".concat(dr,"-playlistloaded"),PLAYLIST_ITEM_CHANGED:"".concat(dr,"-playlistitemchanged"),PLAYLIST_ENDED:"".concat(dr,"-playlistended")};function fr(e){return fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fr(e)}function hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yr(r.key),r)}}function yr(e){var t=function(e,t){if("object"!=fr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fr(t)?t:String(t)}var gr=["hls","dash","progressive","image","document"],vr=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._sources=t,this._config=n,this._index=r}var t,n,r;return t=e,(n=[{key:"updateSources",value:function(e){this._sources=h.Utils.Object.mergeDeep({},e)}},{key:"updatePlugins",value:function(e){this._plugins=h.Utils.Object.copyDeep(e)}},{key:"sources",get:function(){var e=this;return gr.forEach((function(t){e._sources&&e._sources[t]&&0===e._sources[t].length&&delete e._sources[t]})),this._sources}},{key:"config",get:function(){return this._config}},{key:"plugins",get:function(){return this._plugins||{}}},{key:"index",get:function(){return this._index}},{key:"isPlayable",value:function(){var e=this;return!!gr.find((function(t){return e._sources&&e._sources[t]&&e._sources[t].length}))}}])&&hr(t.prototype,n),r&&hr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function mr(e){return mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mr(e)}function br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kr(r.key),r)}}function kr(e){var t=function(e,t){if("object"!=mr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mr(t)?t:String(t)}var Er=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id="",this._metadata={name:"",description:""},this._poster="",this._items=[],this._activeItemIndex=-1}var t,n,r;return t=e,(n=[{key:"configure",value:function(e,t){var n=this;this._id=e.id?e.id:this._id,this._poster=e.poster?e.poster:this._poster,this._metadata=e.metadata?e.metadata:this._metadata,e.items&&(this._items=[],e.items.forEach((function(e,r){if(e.sources){var i=h.Utils.Object.mergeDeep({},t),a=e.sources.options||{};e.sources.options=h.Utils.Object.mergeDeep(i,a)}n._items.push(new vr(e.sources,e.config,r))})))}},{key:"updateItemSources",value:function(e,t){this._items[e].updateSources(t)}},{key:"updateItemPlugins",value:function(e,t){this._items[e].updatePlugins(t)}},{key:"id",get:function(){return this._id}},{key:"items",get:function(){return this._items}},{key:"metadata",get:function(){return this._metadata}},{key:"poster",get:function(){return this._poster}},{key:"current",get:function(){return this._items[this._activeItemIndex]||null}},{key:"getNext",value:function(e){var t=e?(this._activeItemIndex+1)%this._items.length:this._activeItemIndex+1;return this._items[t]||null}},{key:"prev",get:function(){return this._items[this._activeItemIndex-1]||null}},{key:"activeItemIndex",set:function(e){this._activeItemIndex=e}}])&&br(t.prototype,n),r&&br(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Tr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _r(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ar(e){return Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(e)}function Sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wr(r.key),r)}}function wr(e){var t=function(e,t){if("object"!=Ar(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ar(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ar(t)?t:String(t)}var Cr=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._player=t,this._eventManager=new h.EventManager,this._playlist=new Er,this._options={autoContinue:!0,loop:!1,imageDuration:5,documentDuration:10},this._countdown={duration:10,showing:!0},this._mediaInfoList=[],this._playerOptions=n,this._appPluginConfig={}}var t,n,r;return t=e,n=[{key:"configure",value:function(e,t){if(e&&(this._playlist.configure(e,h.Utils.Object.getPropertyPath(this._player.sources,"options")),h.Utils.Object.mergeDeep(this._options,e.options),h.Utils.Object.mergeDeep(this._countdown,e.countdown),e.items&&e.items.find((function(e){return!!e.sources})))){var n;this._mediaInfoList=e.items.map((function(e,n){return t&&t.entries&&"object"===Ar(t.entries[n])?t.entries[n]:{entryId:e.sources.id}})),this._player.dispatchEvent(new h.FakeEvent(pr.PLAYLIST_LOADED,{playlist:this})),this._addBindings();var r=null===(n=e.options)||void 0===n?void 0:n.startAtEntryId,i=!1;if(r&&"string"==typeof r){var a=this._playlist.items.find((function(e){return e.sources.id===r}));a&&(i=!0,this.playItem(a.index))}i||this.playNext()}}},{key:"load",value:function(e,t,n){var r=this._getMergedPlaylistData(e,t);this.configure(r,n)}},{key:"reset",value:function(){this._eventManager.removeAll(),this._playlist=new Er,this._mediaInfoList=[]}},{key:"playNext",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this._player.clearReset(),e._logger.debug("playNext");var t=this._playlist.getNext(!0);t&&this._setItem(t)}},{key:"playPrev",value:function(){e._logger.debug("playPrev");var t=this._playlist.prev;t&&this._setItem(t)}},{key:"playItem",value:function(t){e._logger.debug("playItem(".concat(t,")"));var n=this._playlist.items[t];n&&this._setItem(n)}},{key:"items",get:function(){return this._playlist.items}},{key:"current",get:function(){return this._playlist.current}},{key:"next",get:function(){return this._playlist.getNext(this._options.loop)}},{key:"prev",get:function(){return this._playlist.prev}},{key:"id",get:function(){return this._playlist.id}},{key:"metadata",get:function(){return this._playlist.metadata}},{key:"poster",get:function(){return this._playlist.poster}},{key:"countdown",get:function(){if(this._playlist.current&&this._playlist.current.config){var e={duration:10,showing:!0};return h.Utils.Object.mergeDeep(e,this._countdown,this._playlist.current.config.countdown),e}return this._countdown}},{key:"options",get:function(){return this._options}},{key:"_getMergedPlaylistData",value:function(e,t){var n=this;return{id:e.id,metadata:e.metadata,poster:e.poster,options:t?t.options:this._options,countdown:t?t.countdown:this.countdown,items:e.items.map((function(e,r){var i,a=h.Utils.Object.copyDeep(e);return a.sources.mediaEntryType=null==e||null===(i=e.sources)||void 0===i?void 0:i.type,["sources.dvr","sources.type"].forEach((function(e){h.Utils.Object.deletePropertyPath(a,e)})),h.Utils.Object.mergeDeep(a.sources,t&&t.items&&t.items[r]&&t.items[r].sources),Array.isArray(a.sources.poster)&&n._player.updateKalturaPoster(a.sources,e.sources,n._player.dimensions),{sources:a.sources,config:t&&t.items&&t.items[r]&&t.items[r].config}}))}}},{key:"_addBindings",value:function(){var e=this;this._eventManager.listen(this._player,this._player.Event.Core.PLAYBACK_ENDED,(function(){return e._onPlaybackEnded()})),this._eventManager.listen(this._player,this._player.Event.Core.CHANGE_SOURCE_STARTED,(function(){return e._onChangeSourceStarted()}))}},{key:"_onPlaybackEnded",value:function(){var e=this._playlist.getNext(!1);e||this._player.dispatchEvent(new h.FakeEvent(pr.PLAYLIST_ENDED)),!this._playerOptions.ui.disable&&this.countdown.showing||(e&&this._options.autoContinue||this._options.loop)&&this.playNext()}},{key:"_onChangeSourceStarted",value:function(){this._player.isImage()?this._player.configure({sources:{duration:this._options.imageDuration}}):this._player.isDocument()&&this._player.configure({sources:{duration:this._options.documentDuration}})}},{key:"_setItem",value:function(t){var n=this,r=t.index;e._logger.debug("Playing item number ".concat(r),t);var i={loop:!1};if(this._playlist.current&&(this._player._playbackStart?i.autoplay=!0:i.autoplay=!!this._playerOptions.playback.autoplay),this._player.configure({playback:i}),this._playlist.activeItemIndex=r,Promise.all(this.getEntryPromises([r-1,r+1])).then((function(e){var t,r=[],i=Tr(e);try{for(i.s();!(t=i.n()).done;){var a,o=t.value;null!==(a=o.sources.dash)&&void 0!==a&&a.length&&(r=r.concat(o.sources.dash.map((function(e){return e.url}))))}}catch(e){i.e(e)}finally{i.f()}n._player.setCachedUrls(r)})),t.isPlayable()){var a,o;this._resetProviderPluginsConfig();var s=ln(t.plugins,this._player.config.plugins),l=s[0];this._appPluginConfig=s[1];var u={session:this._player.config.session,plugins:l,sources:t.sources};return this._player.setMedia(u),this._player.dispatchEvent(new h.FakeEvent(pr.PLAYLIST_ITEM_CHANGED,{index:r,activeItem:t,entryId:(null===(a=this._mediaInfoList[r])||void 0===a?void 0:a.entryId)||(null===(o=t.sources)||void 0===o?void 0:o.id)})),Promise.resolve()}if(this._mediaInfoList[r]){this._resetProviderPluginsConfig();var c={sources:t.sources};return this._player.setMedia(c),this._player.loadMedia(this._mediaInfoList[r]).then((function(e){var i;n._playlist.updateItemSources(r,e.sources),n._playlist.updateItemPlugins(r,e.plugins);var a,o=null===(i=n._player.sessionIdCache)||void 0===i?void 0:i.get(e.sources.id);o||(o=St.next(),null===(a=n._player.sessionIdCache)||void 0===a||a.set(e.sources.id,o)),e.sources.dash=e.sources.dash.map((function(t){return t.url=kn(n._player,t.url,o),t.url=Tn(t.url),t.url=An(t.url,e.productVersion),t.url=Sn(t.url,e.sources),t})),n._player.dispatchEvent(new h.FakeEvent(pr.PLAYLIST_ITEM_CHANGED,{index:r,activeItem:t,entryId:n._mediaInfoList[r].entryId}))}))}return Promise.reject()}},{key:"_resetProviderPluginsConfig",value:function(){this._player.configure({plugins:this._appPluginConfig}),this._appPluginConfig={}}},{key:"destroy",value:function(){this._eventManager.destroy()}},{key:"getEntryPromise",value:function(e){var t=this;return this._playlist.items[e].isPlayable()?Promise.resolve({sources:this._playlist.items[e].sources}):this._player.provider.getMediaConfig(this._mediaInfoList[e]).then((function(n){var r,i=h.Utils.Object.copyDeep(n);t._playlist.updateItemSources(e,i.sources),t._playlist.updateItemPlugins(e,i.plugins);var a,o=null===(r=t._player.sessionIdCache)||void 0===r?void 0:r.get(i.sources.id);return o||(o=St.next(),null===(a=t._player.sessionIdCache)||void 0===a||a.set(i.sources.id,o)),i.sources.dash=i.sources.dash.map((function(e){return e.url=kn(t._player,e.url,o),e.url=Tn(e.url),e.url=An(e.url,i.productVersion),e.url=Sn(e.url,i.sources),e})),Promise.resolve(i)}))}},{key:"getEntryPromises",value:function(e){var t,n=[],r=Tr(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=this._playlist.items[i];if(null!=a&&a.sources){var o=a.sources,s=o.type,l=o.mediaEntryType;s!==h.MediaType.VOD&&l!==h.MediaType.VOD||n.push(this.getEntryPromise(i))}}}catch(e){r.e(e)}finally{r.f()}return n}}],n&&Sr(t.prototype,n),r&&Sr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function xr(e){return xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xr(e)}function Pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ir(r.key),r)}}function Rr(e,t,n){return t&&Pr(e.prototype,t),n&&Pr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ir(e){var t=function(e,t){if("object"!=xr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xr(t)?t:String(t)}!function(e,t,n){(t=wr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Cr,"_logger",(0,h.getLogger)("PlaylistManager"));var Dr=Rr((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.textStyle=t.textStyle,this.mediaInfo=t.getMediaInfo(),this.mediaConfig=t.getMediaConfig(),this.advertising=t.config.plugins&&t.config.plugins.ima,this.config=h.Utils.Object.mergeDeep({},t.config,{sources:{startTime:Or(t)},playback:{autoplay:0===t.currentTime||!t.paused,audioLanguage:Lr(h.TrackType.AUDIO,t),textLanguage:Lr(h.TrackType.TEXT,t)}})}));function Or(e){return e.isLive()?e.isDvr()?e.duration-e.currentTime<e.config.cast.dvrThreshold||!e.currentTime?-1:e.currentTime:-1:!e.isCasting()&&!e.currentTime&&e.config.sources.startTime>-1?e.config.sources.startTime:e.currentTime}function Lr(e,t){var n=t.getActiveTracks();if(n[e])return n[e].language;try{return t.config.playback["".concat(e,"Language")]}catch(e){return null}}var Mr="kaltura-player",Nr={CAST_SESSION_START_FAILED:"".concat(Mr,"-castsessionstartfailed"),CAST_SESSION_STARTING:"".concat(Mr,"-castsessionstarting"),CAST_SESSION_STARTED:"".concat(Mr,"-castsessionstarted"),CAST_SESSION_ENDING:"".concat(Mr,"-castsessionending"),CAST_SESSION_ENDED:"".concat(Mr,"-castsessionended"),CAST_AVAILABLE:"".concat(Mr,"-castavailable")};function Ur(e){return Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ur(e)}function Br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jr(r.key),r)}}function Fr(e,t,n){return t&&Br(e.prototype,t),n&&Br(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jr(e){var t=function(e,t){if("object"!=Ur(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ur(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ur(t)?t:String(t)}var Hr=Fr((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getPlayerSnapshot=Zr.bind(t),this.getUIWrapper=Xr.bind(t),this.onRemoteDeviceAvailable=Wr.bind(t),this.onRemoteDeviceConnected=Gr.bind(t),this.onRemoteDeviceDisconnected=zr.bind(t),this.onRemoteDeviceConnecting=Vr.bind(t),this.onRemoteDeviceDisconnecting=Kr.bind(t),this.onRemoteDeviceConnectFailed=Yr.bind(t),this.getPlayerSelectedSource=qr.bind(t)}));function Vr(){Hr._logger.debug("onRemoteDeviceConnecting"),this.dispatchEvent(new h.FakeEvent(Nr.CAST_SESSION_STARTING))}function Gr(e){var t=this;Hr._logger.debug("onRemoteDeviceConnected",e);var n=e.player,r=e.ui,i=e.session;this._eventManager.removeAll(),Object.values(h.EventType).forEach((function(e){return t._eventManager.listen(n,e,(function(e){return t.dispatchEvent(e)}))}));var a=this.config;r&&h.Utils.Object.mergeDeep(a,{ui:{customPreset:r.uis}}),this.configure({playback:{muted:this.muted,volume:this.volume}}),this._localPlayer.reset(),this._uiWrapper.destroy(),this._remotePlayer=n,this._uiWrapper=new E(this,a),this.dispatchEvent(new h.FakeEvent(Nr.CAST_SESSION_STARTED,{session:i}))}function Kr(){Hr._logger.debug("onRemoteDeviceDisconnecting"),this.dispatchEvent(new h.FakeEvent(Nr.CAST_SESSION_ENDING))}function zr(e){var t=this;Hr._logger.debug("onRemoteDeviceDisconnected",e);var n=e.player,r=e.snapshot;if(this._remotePlayer&&this._remotePlayer===n&&(this._eventManager.removeAll(),Qr.call(this,r),r)){this.dispatchEvent(new h.FakeEvent(Nr.CAST_SESSION_ENDED));var i,a=this.config,o=!r.config.playback.autoplay,s=r.mediaInfo,l=r.mediaConfig;r.config.playback.autoplay=!0,Jr.call(this,r.config),this._eventManager.listenOnce(this,this.Event.Core.CHANGE_SOURCE_ENDED,(function(){$r.call(t,r.config.sources)})),s?i=this.loadMedia(s):l&&(i=Promise.resolve(),this.setMedia(l)),i&&i.then((function(){t._eventManager.listenOnce(t,t.Event.Core.FIRST_PLAYING,(function(){t.textStyle=r.textStyle,Jr.call(t,a),ei.call(t,r.config.playback),o&&t.pause()}))}))}}function Wr(e){Hr._logger.debug("onRemoteDeviceAvailable",e);var t=e.player,n=e.available;this.dispatchEvent(new h.FakeEvent(Nr.CAST_AVAILABLE,{type:t.type,available:n}))}function Yr(){Hr._logger.debug("onRemoteDeviceConnectFailed"),this.dispatchEvent(new h.FakeEvent(Nr.CAST_SESSION_START_FAILED))}function Zr(){var e=new Dr(this);return Hr._logger.debug("getPlayerSnapshot",e),e}function qr(){var e=this._sourceSelected,t=null!=e&&e.url?e.url:window.sessionStorage.getItem("sourceUrl");return window.sessionStorage.setItem("sourceUrl",t),Hr._logger.debug("getPlayerSelectedSource",t),t}function Xr(){return Hr._logger.debug("getUIWrapper"),this._uiWrapper}function Qr(e){var t=this;this._uiWrapper.destroy();var n=this._localPlayer.config;if(n.plugins&&n.plugins.ima){var r={};if(n.cast.advertising&&n.cast.advertising.vast){if(e.config.sources.startTime>0){var i=n.plugins.ima.adTagUrl;r={adTagUrl:""},this._eventManager.listen(this,h.EventType.FIRST_PLAYING,(function(){return t.configure({plugins:{ima:{adTagUrl:i}}})}))}}else r={delayInitUntilSourceSelected:!0};h.Utils.Object.mergeDeep(n,{plugins:{ima:r}}),this._localPlayer.destroy(),this._remotePlayer=null,this._localPlayer=(0,h.loadPlayer)(n)}else this._remotePlayer=null;Object.values(h.EventType).forEach((function(e){return t._eventManager.listen(t._localPlayer,e,(function(e){return t.dispatchEvent(e)}))})),this._uiWrapper=new E(this,this.config),this._uiWrapper.setConfig({isCastAvailable:this.isCastAvailable()},"engine")}function Jr(e){var t=e.sources.startTime,n=e.playback.autoplay;this.configure({sources:{startTime:t},playback:{autoplay:n}})}function $r(e){var t;if(null!==(t=e.captions)&&void 0!==t&&t.length){var n=e.captions;this.configure({sources:{captions:n}})}}function ei(e){if(e.audioLanguage){var t=this.getTracks(h.TrackType.AUDIO).find((function(t){return t.language===e.audioLanguage}));this.selectTrack(t)}if(e.textLanguage){var n=this.getTracks(h.TrackType.TEXT).find((function(t){return t.language===e.textLanguage}));this.selectTrack(n)}}function ti(e){return ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ti(e)}function ni(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ii(r.key),r)}}function ri(e,t,n){return(t=ii(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ii(e){var t=function(e,t){if("object"!=ti(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ti(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ti(t)?t:String(t)}!function(e,t,n){(t=jr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Hr,"_logger",(0,h.getLogger)("RemoteControl"));var ai=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ri(this,"_remotePlayers",new Map)}var t,n,r;return t=e,r=[{key:"register",value:function(t,n){"function"==typeof n?e._registry.has(t)?e._logger.debug("Remote player of type ".concat(t," is already registered")):(e._logger.debug("Register remote player of type ".concat(t)),e._registry.set(t,n)):e._logger.debug("remote player must be instance of BaseRemotePlayer")}}],(n=[{key:"load",value:function(t,n){var r=this;e._registry.forEach((function(i,a){e._logger.debug("Load remote player of type ".concat(a));var o=new i(t,new Hr(n),n.config.targetId);r._remotePlayers.set(a,o)}))}},{key:"startCasting",value:function(t){e._logger.debug("Start casting");var n=this._getRemotePlayer(t);return n?n.startCasting():Promise.reject()}},{key:"isCastAvailable",value:function(t){var n=this._getRemotePlayer(t);return!!n&&(e._logger.debug("isCastAvailable: ".concat(n.isCastAvailable())),n.isCastAvailable())}},{key:"destroy",value:function(){var e=this._remotePlayers;Array.from(e.values()).forEach((function(e){return e.destroy()}))}},{key:"setIsCastInitiator",value:function(e,t){var n=this._getRemotePlayer(e);n&&(n.isCastInitiator=t)}},{key:"_getRemotePlayer",value:function(e){var t=this._remotePlayers;return e&&t.get(e)?t.get(e):t.size>0?Array.from(t.values())[0]:void 0}}])&&ni(t.prototype,n),r&&ni(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function oi(e){return oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oi(e)}function si(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||ui(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function li(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ui(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ui(e,t){if(e){if("string"==typeof e)return ci(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ci(e,t):void 0}}function ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function di(){di=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,o=Object.create(a.prototype),s=new R(r||[]);return i(o,"_invoke",{value:w(e,n,s)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var p="suspendedStart",f="suspendedYield",h="executing",y="completed",g={};function v(){}function m(){}function b(){}var k={};u(k,o,(function(){return this}));var E=Object.getPrototypeOf,T=E&&E(E(I([])));T&&T!==n&&r.call(T,o)&&(k=T);var _=b.prototype=v.prototype=Object.create(k);function A(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,s){var l=d(e[i],e,a);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==oi(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(c).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function w(t,n,r){var i=p;return function(a,o){if(i===h)throw new Error("Generator is already running");if(i===y){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var l=C(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?y:f,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=y,r.method="throw",r.arg=u.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(oi(t)+" is not iterable")}return m.prototype=b,i(_,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},A(S.prototype),u(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},A(_),u(_,l,"Generator"),u(_,o,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function pi(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function fi(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){pi(a,r,i,o,s,"next",e)}function s(e){pi(a,r,i,o,s,"throw",e)}o(void 0)}))}}ri(ai,"_registry",new Map),ri(ai,"_logger",(0,h.getLogger)("RemotePlayerManager"));var hi='video/mp4;codecs="avc1.42E01E"',yi=[["widevine","com.widevine.alpha"],["playready","com.microsoft.playready"],["fairplay","com.apple.fps"]],gi='video/mp4; codecs="hvc1.1.6.L150.90"',vi=1920,mi=1080,bi=12e5,ki=30,Ei=(0,h.getLogger)("MediaCapabilities"),Ti={SUPPORTED:1,NOT_SUPPORTED:0,MAYBE_SUPPORTED:-1};function _i(){return(_i=fi(di().mark((function e(t){var n,r,i;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Ei.debug("Starting to get media capabilities..."),e.next=4,wi(t);case 4:return r=e.sent,e.next=7,Ai();case 7:return i=e.sent,n=Object.assign({},r,i),Ei.debug("Finished getting media capabilities ",{mediaCapabilities:n}),e.abrupt("return",n);case 13:return e.prev=13,e.t0=e.catch(0),Ei.debug("There was a problem with getting the media capabilities, ",e.t0.message),n={isHEVCSupported:Ti.NOT_SUPPORTED,isPowerEfficient:Ti.NOT_SUPPORTED,isDRMSupported:Ti.NOT_SUPPORTED,supportedDRMs:[]},Ei.debug("Returning media capabilities defaults ",{mediaCapabilities:n}),e.abrupt("return",n);case 19:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function Ai(){return Si.apply(this,arguments)}function Si(){return(Si=fi(di().mark((function e(){var t,n,r,i,a,o,s,l;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={isDRMSupported:Ti.MAYBE_SUPPORTED,supportedDRMs:[]},navigator.requestMediaKeySystemAccess){e.next=3;break}return e.abrupt("return",t);case 3:n=[{initDataTypes:["cenc"],videoCapabilities:[{contentType:hi}]}],r=new Map(yi),i=li(r),e.prev=6,i.s();case 8:if((a=i.n()).done){e.next=21;break}return o=si(a.value,2),s=o[0],l=o[1],e.prev=10,e.next=13,navigator.requestMediaKeySystemAccess(l,n);case 13:t.supportedDRMs.push(s),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),Ei.debug(l+" not supported ("+e.t0.name+": "+e.t0.message+").");case 19:e.next=8;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(6),i.e(e.t1);case 26:return e.prev=26,i.f(),e.finish(26);case 29:return t.isDRMSupported=t.supportedDRMs.length>0?Ti.SUPPORTED:Ti.NOT_SUPPORTED,e.abrupt("return",t);case 31:case"end":return e.stop()}}),e,null,[[6,23,26,29],[10,16]])})))).apply(this,arguments)}function wi(e){return Ci.apply(this,arguments)}function Ci(){return(Ci=fi(di().mark((function e(t){var n,r,i;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={isHEVCSupported:Ti.MAYBE_SUPPORTED,isPowerEfficient:Ti.MAYBE_SUPPORTED},navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo){e.next=3;break}return e.abrupt("return",n);case 3:return r={type:"media-source",video:{contentType:gi,width:(null==t?void 0:t.width)||vi,height:(null==t?void 0:t.height)||mi,bitrate:(null==t?void 0:t.bitrate)||bi,framerate:(null==t?void 0:t.framerate)||ki}},e.prev=4,e.next=7,navigator.mediaCapabilities.decodingInfo(r);case 7:i=e.sent,n.isHEVCSupported=i.supported?Ti.SUPPORTED:Ti.NOT_SUPPORTED,n.isPowerEfficient=i.powerEfficient?Ti.SUPPORTED:Ti.NOT_SUPPORTED,e.next=17;break;case 12:e.prev=12,e.t0=e.catch(4),Ei.debug("Failed to get the media capabilities from navigator. ("+e.t0.name+": "+e.t0.message+")."),n.isHEVCSupported=Ti.MAYBE_SUPPORTED,n.isPowerEfficient=Ti.MAYBE_SUPPORTED;case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[4,12]])})))).apply(this,arguments)}const xi=function(e){return _i.apply(this,arguments)};function Pi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ri(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ri(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ii=function(e){return 2===e.category},Di=function(e){return 2001===e.code},Oi=function(e){var t,n;return(null===(t=e.data)||void 0===t?void 0:t.messages)&&"COUNTRY_RESTRICTED"===(null===(n=e.data)||void 0===n?void 0:n.messages[0].code)},Li=function(e){var t,n;return(null===(t=e.data)||void 0===t?void 0:t.messages)&&"SESSION_RESTRICTED"===(null===(n=e.data)||void 0===n?void 0:n.messages[0].code)},Mi=function(e){var t,n;return(null===(t=e.data)||void 0===t?void 0:t.messages)&&"IP_RESTRICTED"===(null===(n=e.data)||void 0===n?void 0:n.messages[0].code)},Ni=function(e){var t,n;return(null===(t=e.data)||void 0===t?void 0:t.messages)&&"SITE_RESTRICTED"===(null===(n=e.data)||void 0===n?void 0:n.messages[0].code)},Ui=function(e){var t,n;return(null===(t=e.data)||void 0===t?void 0:t.messages)&&"SCHEDULED_RESTRICTED"===(null===(n=e.data)||void 0===n?void 0:n.messages[0].code)},Bi=[[function(e){return Ii(e)&&Di(e)&&Li(e)},h.Error.Category.MEDIA_UNAVAILABLE],[function(e){return Ii(e)&&Di(e)&&Oi(e)},h.Error.Category.GEO_LOCATION],[function(e){return Ii(e)&&function(e){return 2002===e.code}(e)},h.Error.Category.MEDIA_NOT_READY],[function(e){return Ii(e)&&Di(e)&&Mi(e)},h.Error.Category.IP_RESTRICTED],[function(e){return Ii(e)&&function(e){return 2003===e.code}(e)&&Ui(e)},h.Error.Category.SCHEDULED_RESTRICTED],[function(e){return Ii(e)&&Di(e)&&Ni(e)},h.Error.Category.SITE_RESTRICTED],[function(e){return Ii(e)&&Di(e)&&!Oi(e)&&!Li(e)&&!Mi(e)&&!Ni(e)&&!Ui(e)},h.Error.Category.ACCESS_CONTROL_BLOCKED]];function Fi(e){return Pi(Bi.find((function(t){return t[0](e)}))||[],2)[1]||h.Error.Category.PLAYER}function ji(e){return ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ji(e)}function Hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vi(r.key),r)}}function Vi(e){var t=function(e,t){if("object"!=ji(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ji(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ji(t)?t:String(t)}var Gi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){(t=Vi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"cache",new Map)}var t,n,r;return t=e,n=[{key:"set",value:function(e,t){this.cache.set(e,t)}},{key:"get",value:function(e){return this.cache.get(e)}},{key:"clear",value:function(){this.cache.clear()}}],n&&Hi(t.prototype,n),r&&Hi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ki(e){return Ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ki(e)}function zi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Wi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wi(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Wi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zi(r.key),r)}}function Zi(e){var t=function(e,t){if("object"!=Ki(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ki(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ki(t)?t:String(t)}var qi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"sourceMatches",value:function(t,n){if(n.deliveryProfileId&&n.format){var r=e.FORMATS[n.format];return t.id.endsWith("".concat(n.deliveryProfileId,",").concat(r))}return!1}},{key:"getFallbackOptionsByToSourceFormat",value:function(e){return e.reduce((function(e,t){var n=t.fromSource,r=t.toSource;return e[r.format]||(e[r.format]=[]),e[r.format].push({fromSource:n,toSource:r}),e}),{})}},{key:"splitSources",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={},r={},i=this.getFallbackOptionsByToSourceFormat(t);for(var a in this.FORMATS){var o=e[a]||[];n[a]=[],r[a]=[];var s,l=zi(o);try{for(l.s();!(s=l.n()).done;){var u,c=s.value,d=!1,p=zi(i[a]||[]);try{for(p.s();!(u=p.n()).done;){var f=u.value.toSource;if(this.sourceMatches(c,f)){d=!0;break}}}catch(e){p.e(e)}finally{p.f()}d?r[a].push(c):n[a].push(c)}}catch(e){l.e(e)}finally{l.f()}}return{fallbackSources:r,nonFallbackSources:n}}},{key:"getMatchingFallbackSources",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r={};for(var i in this.FORMATS)r[i]=[];var a,o=zi(n);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=s.fromSource,u=s.toSource;if(t[u.format]&&this.sourceMatches(e,l)){var c,d=zi(t[u.format]);try{for(d.s();!(c=d.n()).done;){var p=c.value;if(this.sourceMatches(p,u))return r[u.format]=[p],r}}catch(e){d.e(e)}finally{d.f()}}}}catch(e){o.e(e)}finally{o.f()}return null}}],(n=null)&&Yi(t.prototype,n),r&&Yi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Xi(e){return Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xi(e)}function Qi(e){return function(e){if(Array.isArray(e))return Ji(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ji(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ji(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ji(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$i(Object(n),!0).forEach((function(t){ca(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ta(){ta=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,o=Object.create(a.prototype),s=new R(r||[]);return i(o,"_invoke",{value:w(e,n,s)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var p="suspendedStart",f="suspendedYield",h="executing",y="completed",g={};function v(){}function m(){}function b(){}var k={};u(k,o,(function(){return this}));var E=Object.getPrototypeOf,T=E&&E(E(I([])));T&&T!==n&&r.call(T,o)&&(k=T);var _=b.prototype=v.prototype=Object.create(k);function A(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,s){var l=d(e[i],e,a);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==Xi(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(c).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function w(t,n,r){var i=p;return function(a,o){if(i===h)throw new Error("Generator is already running");if(i===y){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var l=C(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?y:f,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=y,r.method="throw",r.arg=u.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Xi(t)+" is not iterable")}return m.prototype=b,i(_,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},A(S.prototype),u(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},A(_),u(_,l,"Generator"),u(_,o,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function na(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function ra(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){na(a,r,i,o,s,"next",e)}function s(e){na(a,r,i,o,s,"throw",e)}o(void 0)}))}}function ia(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,da(r.key),r)}}function aa(e,t,n){return t=sa(t),function(e,t){if(t&&("object"===Xi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return la(e)}(e,oa()?Reflect.construct(t,n||[],sa(e).constructor):t.apply(e,n))}function oa(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(oa=function(){return!!e})()}function sa(e){return sa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sa(e)}function la(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ua(e,t){return ua=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ua(e,t)}function ca(e,t,n){return(t=da(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function da(e){var t=function(e,t){if("object"!=Xi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Xi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xi(t)?t:String(t)}!function(e,t,n){(t=Zi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(qi,"FORMATS",{dash:"mpegdash",hls:"applehttp",progressive:"url"});var pa=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ca(la(n=aa(this,t)),"_eventManager",new h.EventManager),ca(la(n),"_mediaInfo",null),ca(la(n),"_remotePlayer",null),ca(la(n),"_pluginManager",new ce),ca(la(n),"_pluginsConfig",{}),ca(la(n),"_reset",!0),ca(la(n),"_firstPlay",!0),ca(la(n),"_sourceSelected",null),ca(la(n),"_appPluginConfig",{}),ca(la(n),"_thumbnailManager",null),ca(la(n),"_isVisible",!1),ca(la(n),"_autoPaused",!1),ca(la(n),"_sessionIdCache",null),ca(la(n),"_isV2ToV7Redirected",!1);var r=e.sources,i=e.plugins;n._sessionIdCache=new Gi,n._configEvaluator=new Un,n._configEvaluator.evaluatePluginsConfig(i,e),n._addCustomPreset(e),n._playbackStart=!1;var a=h.Utils.Object.mergeDeep({},e);delete a.plugins,delete a.sources,n._localPlayer=(0,h.loadPlayer)(a),n._controllerProvider=new Q(n._pluginManager),n._viewabilityManager=new lt(n.config.viewability),n._serviceProvider=new cr(la(n)),n._uiWrapper=new E(la(n),h.Utils.Object.mergeDeep(e,{ui:{logger:{getLogger:h.getLogger,LogLevel:h.LogLevel}}})),n._cuepointManager=new or(la(n)),n._provider=new g.Provider(h.Utils.Object.mergeDeep(e.provider,{logger:{getLogger:h.getLogger,LogLevel:h.LogLevel},referrer:window.originalRequestReferrer}),"3.17.57"),n._playlistManager=new Cr(la(n),e),Object.values(h.EventType).forEach((function(e){return n._eventManager.listen(n._localPlayer,e,(function(e){return n.dispatchEvent(e)}))})),n._addBindings();var o=h.Utils.Object.mergeDeep({},e.playlist,{items:null});return n._playlistManager.configure(o),n.configure({plugins:i}),n._playlistManager.configure({items:e.playlist&&e.playlist.items||[]}),n._remotePlayerManager=new ai,n._localPlayer.setSources(r||{}),n}var n,r,i,a,o,s,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ua(e,t)}(t,e),n=t,r=[{key:"loadMedia",value:(l=ra(ta().mark((function e(n,r){var i,a,o,s,l;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._logger.debug("loadMedia",n),this._mediaInfo=n,this.reset(),this._localPlayer.loadingMedia=!0,this._uiWrapper.setLoadingSpinnerState(!0),e.prev=5,e.next=8,this._provider.getMediaConfig(n);case 8:return i=e.sent,a=h.Utils.Object.copyDeep(i),r&&(a.sources=a.sources||{},a.sources=h.Utils.Object.mergeDeep(a.sources,r)),o=ln(a.plugins,this.config.plugins),a.plugins=o[0],this._appPluginConfig=o[1],this.configure(De({sources:this.sources},a)),this.setMedia(a),e.abrupt("return",a);case 19:throw e.prev=19,e.t0=e.catch(5),s=Fi(e.t0),l=new h.Error(h.Error.Severity.CRITICAL,s,h.Error.Code.LOAD_FAILED,e.t0),this._localPlayer.dispatchEvent(new h.FakeEvent(h.EventType.ERROR,l)),e.t0;case 25:case"end":return e.stop()}}),e,this,[[5,19]])}))),function(e,t){return l.apply(this,arguments)})},{key:"setMedia",value:function(e){var n,r;if(null!==(n=this.config.playback.fallbackSourcesOptions)&&void 0!==n&&n.length&&!this._fallbackSources){var i=qi.splitSources(e.sources,this.config.playback.fallbackSourcesOptions),a=i.fallbackSources,o=i.nonFallbackSources;e.sources=h.Utils.Object.mergeDeep(e.sources,o),this._fallbackSources=a}t._logger.debug("setMedia",e),this.reset(!0);var s=h.Utils.Object.copyDeep(e),l=h.Utils.Object.mergeDeep({},s.sources,this._localPlayer.sources);s.sources.type===h.MediaType.VOD&&(null===(r=this._localPlayer.sources.mediaEntryType)||void 0===r?void 0:r.toString())===h.MediaType.LIVE&&(l.id=s.sources.id,l.duration=s.sources.duration),delete s.sources,h.Utils.Object.mergeDeep(s.session,this._localPlayer.config.session),s.plugins=s.plugins||{},Object.keys(this._pluginsConfig).forEach((function(e){s.plugins[e]=s.plugins[e]||{}})),this.configure({session:e.session}),an(l)||on(l)||sn(l)?this._thumbnailManager=null:this._thumbnailManager=new nr(this,this.config.ui,e),this.updateKalturaPoster(l,e.sources,this._localPlayer.dimensions),wn(this,ea(ea({},s),{},{sources:l}));var u=function(e,t){return t&&an(t)?rn(e,"youtube","progressive"):t&&on(t)?rn(e,"image","image"):t&&sn(t)?rn(e,"document","document"):null}(this,l);u&&(s.playback=u),this.configure(ea(ea({},s),{},{sources:l})),this._configureInformationForDevice(e)}},{key:"loadPlaylist",value:(s=ra(ta().mark((function e(n,r){var i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._logger.debug("loadPlaylist",n),this._uiWrapper.setLoadingSpinnerState(!0),e.prev=2,e.next=5,this._provider.getPlaylistConfig(n);case 5:return i=e.sent,this.setPlaylist(i,r),e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),a=new h.Error(h.Error.Severity.CRITICAL,h.Error.Category.PLAYER,h.Error.Code.LOAD_FAILED,e.t0),this._localPlayer.dispatchEvent(new h.FakeEvent(h.EventType.ERROR,a)),e.t0;case 15:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(e,t){return s.apply(this,arguments)})},{key:"loadPlaylistByEntryList",value:(o=ra(ta().mark((function e(n,r){var i,a;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._logger.debug("loadPlaylistByEntryList",n),this._uiWrapper.setLoadingSpinnerState(!0),e.prev=2,e.next=5,this._provider.getEntryListConfig(n);case 5:return i=e.sent,this.setPlaylist(i,r,n),e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),a=new h.Error(h.Error.Severity.CRITICAL,h.Error.Category.PLAYER,h.Error.Code.LOAD_FAILED,e.t0),this._localPlayer.dispatchEvent(new h.FakeEvent(h.EventType.ERROR,a)),e.t0;case 15:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(e,t){return o.apply(this,arguments)})},{key:"setPlaylist",value:function(e,n,r){t._logger.debug("setPlaylist",e);var i={playlist:e,plugins:{}};Object.keys(this._pluginsConfig).forEach((function(e){i.plugins[e]={}})),this._configEvaluator.evaluatePluginsConfig(i.plugins,i),this._configureOrLoadPlugins(i.plugins),this._playlistManager.load(e,n,r)}},{key:"clearReset",value:function(){this._localPlayer.clearReset()}},{key:"configure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=nn(e);var t=h.Utils.Object.mergeDeep({},this.config,e);this._configEvaluator.evaluatePluginsConfig(e.plugins,t),this._configureOrLoadPlugins(e.plugins);var n=h.Utils.Object.mergeDeep({},e);if(delete n.plugins,n.sources){var r=n.sources;this.handleSourcesTimeRangeUpdate(r.seekFrom,r.clipTo),delete n.sources,this._localPlayer.configure(n),this._localPlayer.setSources(r||{})}else this._localPlayer.configure(n);e.ui&&this._uiWrapper.setConfig(t.ui),e.playlist&&this._playlistManager.configure(e.playlist)}},{key:"updateKalturaPoster",value:function(e,t,n){var r;!function(e,t,n,r){var i=e.poster,a=t.poster,o=n.width,s=n.height,l=t.rawThumbnailUrl;"string"==typeof i&&tr.test(i)&&i===a&&"string"==typeof l&&(e.poster="".concat(l,"/height/").concat(s,"/width/").concat(o).concat(r?"/ks/".concat(r):"")),t.poster=e.poster||""}(e,t,n,this.shouldAddKs()?null===(r=this.config)||void 0===r||null===(r=r.session)||void 0===r?void 0:r.ks:"")}},{key:"shouldAddKs",value:function(e){var t,n;return!(null===(t=this.config)||void 0===t||null===(t=t.provider)||void 0===t||!t.loadThumbnailWithKs||null===(n=e||this.config)||void 0===n||null===(n=n.session)||void 0===n||!n.ks)}},{key:"getMediaInfo",value:function(){return h.Utils.Object.copyDeep(this._mediaInfo)}},{key:"getDrmInfo",value:function(){return this._localPlayer.getDrmInfo()}},{key:"getMediaConfig",value:function(){var e={sources:this._localPlayer.sources,plugins:this._pluginsConfig};return h.Utils.Object.copyDeep(e)}},{key:"setSourcesMetadata",value:function(e){this._localPlayer.setSourcesMetadata(e)}},{key:"ready",value:function(){return this._localPlayer.ready()}},{key:"load",value:function(){this._localPlayer.load()}},{key:"play",value:function(){this._localPlayer.play()}},{key:"pause",value:function(){this._localPlayer.pause()}},{key:"getView",value:function(){return this._localPlayer.getView()}},{key:"getVideoElement",value:function(){return this._localPlayer.getVideoElement()}},{key:"reset",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._reset||(this._reset=!0,this._firstPlay=!0,this._sourceSelected=null,this._fallbackSources=null,this._attachEventManager&&this._attachEventManager.removeAll(),this._uiWrapper.reset(),this._resetProviderPluginsConfig(),this._pluginManager.reset(),this._cuepointManager.reset(),this._localPlayer.reset(t),null===(e=this._thumbnailManager)||void 0===e||e.destroy())}},{key:"destroy",value:function(){var e,t,n=this.config.ui.targetId;this._reset=!0,this._playbackStart=!1,this._firstPlay=!0,this._uiWrapper.destroy(),this._pluginManager.destroy(),this._cuepointManager.destroy(),this._playlistManager.destroy(),this._localPlayer.destroy(),this._eventManager.destroy(),null===(e=this._thumbnailManager)||void 0===e||e.destroy(),this._viewabilityManager.destroy(),this._remotePlayerManager.destroy(),this._pluginsConfig={};var r=document.getElementById(n);r&&r.parentNode&&h.Utils.Dom.removeChild(r.parentNode,r),null===(t=this._sessionIdCache)||void 0===t||t.clear()}},{key:"isLive",value:function(){return this._localPlayer.isLive()}},{key:"isOnLiveEdge",value:function(){return this._localPlayer.isOnLiveEdge()}},{key:"isDvr",value:function(){return this._localPlayer.isDvr()}},{key:"isUntimedImg",value:function(){return on(this.sources)&&!("number"==typeof this.config.sources.duration&&this.config.sources.duration>0)}},{key:"isUntimedDocument",value:function(){return sn(this.sources)&&!("number"==typeof this.config.sources.duration&&this.config.sources.duration>0)}},{key:"isImage",value:function(){return on(this.sources)}},{key:"isDocument",value:function(){return sn(this.sources)}},{key:"isAudio",value:function(){return this._localPlayer.isAudio()}},{key:"seekToLiveEdge",value:function(){this._localPlayer.seekToLiveEdge()}},{key:"getStartTimeOfDvrWindow",value:function(){return this._localPlayer.getStartTimeOfDvrWindow()}},{key:"getTracks",value:function(e){return this._localPlayer.getTracks(e)}},{key:"getActiveTracks",value:function(){return this._localPlayer.getActiveTracks()}},{key:"selectTrack",value:function(e){this._localPlayer.selectTrack(e)}},{key:"hideTextTrack",value:function(){this._localPlayer.hideTextTrack()}},{key:"showTextTrack",value:function(){this._localPlayer.showTextTrack()}},{key:"changeQuality",value:function(e){this._localPlayer.changeQuality(e)}},{key:"enableAdaptiveBitrate",value:function(){this._localPlayer.enableAdaptiveBitrate()}},{key:"isAdaptiveBitrateEnabled",value:function(){return this._localPlayer.isAdaptiveBitrateEnabled()}},{key:"setTextDisplaySettings",value:function(e){this._localPlayer.setTextDisplaySettings(e)}},{key:"textDisplaySetting",get:function(){return this._localPlayer.textDisplaySetting}},{key:"isFullscreen",value:function(){return this._localPlayer.isFullscreen()}},{key:"notifyEnterFullscreen",value:function(){this._localPlayer.notifyEnterFullscreen()}},{key:"notifyExitFullscreen",value:function(){this._localPlayer.notifyExitFullscreen()}},{key:"enterFullscreen",value:function(e){var t=e||this.config.ui.targetId;this._localPlayer.enterFullscreen(t)}},{key:"exitFullscreen",value:function(){this._localPlayer.exitFullscreen()}},{key:"enterPictureInPicture",value:function(){this._localPlayer.enterPictureInPicture()}},{key:"exitPictureInPicture",value:function(){this._localPlayer.exitPictureInPicture()}},{key:"isInPictureInPicture",value:function(){return this._localPlayer.isInPictureInPicture()}},{key:"isPictureInPictureSupported",value:function(){return this._localPlayer.isPictureInPictureSupported()}},{key:"getLogLevel",value:function(e){return this._localPlayer.getLogLevel(e)}},{key:"startCasting",value:function(e){var t=this;return this.setIsCastInitiator(e,!0),new Promise((function(n,r){t.remotePlayerManager.startCasting(e).then(n).catch((function(){t.setIsCastInitiator(e,!1),r()}))}))}},{key:"setIsCastInitiator",value:function(e,t){this._remotePlayerManager.setIsCastInitiator(e,t)}},{key:"isCastAvailable",value:function(e){return this._remotePlayerManager.isCastAvailable(e)}},{key:"getCastSession",value:function(){return null}},{key:"stopCasting",value:function(){}},{key:"isCasting",value:function(){return!1}},{key:"isVr",value:function(){return this._localPlayer.isVr()}},{key:"toggleVrStereoMode",value:function(){var e=this._pluginManager.get("vr");e&&"function"==typeof e.toggleVrStereoMode&&e.toggleVrStereoMode()}},{key:"isInVrStereoMode",value:function(){var e=this._pluginManager.get("vr");return!(!e||"function"!=typeof e.isInStereoMode)&&e.isInStereoMode()}},{key:"setLogLevel",value:function(e,t){this._localPlayer.setLogLevel(e,t)}},{key:"getThumbnail",value:function(e){if(!e){if(isNaN(this.currentTime))return null;e=this.currentTime}return e=this.isLive()?e+this.getStartTimeOfDvrWindow():e,this._thumbnailManager?this._thumbnailManager.getThumbnail(e):null}},{key:"textStyle",get:function(){return this._localPlayer.textStyle},set:function(e){this._localPlayer.textStyle=e}},{key:"buffered",get:function(){return this._localPlayer.buffered}},{key:"stats",get:function(){return this._localPlayer.stats}},{key:"currentTime",get:function(){return this._localPlayer.currentTime},set:function(e){this._localPlayer.currentTime=e}},{key:"duration",get:function(){return this._localPlayer.duration}},{key:"liveDuration",get:function(){return this._localPlayer.liveDuration}},{key:"normalizedCurrentTime",get:function(){return this.isLive()?this.currentTime-this.getStartTimeOfDvrWindow():this.currentTime},set:function(e){this.isLive()?this.currentTime=e+this.getStartTimeOfDvrWindow():this.currentTime=e}},{key:"normalizedDuration",get:function(){return this.isLive()?this.liveDuration-this.getStartTimeOfDvrWindow():this.duration}},{key:"volume",get:function(){return this._localPlayer.volume},set:function(e){this._localPlayer.volume=e}},{key:"paused",get:function(){return this._localPlayer.paused}},{key:"seeking",get:function(){return this._localPlayer.seeking}},{key:"playsinline",get:function(){return this._localPlayer.playsinline},set:function(e){this._localPlayer.playsinline=e}},{key:"muted",get:function(){return this._localPlayer.muted},set:function(e){this._localPlayer.muted=e}},{key:"src",get:function(){return this._localPlayer.src}},{key:"videoHeight",get:function(){return this._localPlayer.videoHeight}},{key:"videoWidth",get:function(){return this._localPlayer.videoWidth}},{key:"dimensions",get:function(){return this._localPlayer.dimensions},set:function(e){this._localPlayer.dimensions=e}},{key:"poster",get:function(){return this._localPlayer.poster}},{key:"ended",get:function(){return this._localPlayer.ended}},{key:"playbackRate",get:function(){return this._localPlayer.playbackRate},set:function(e){this._localPlayer.playbackRate=e}},{key:"playbackRates",get:function(){return this._localPlayer.playbackRates}},{key:"defaultPlaybackRate",get:function(){return this._localPlayer.defaultPlaybackRate}},{key:"engineType",get:function(){return this._localPlayer.engineType}},{key:"streamType",get:function(){return this._localPlayer.streamType}},{key:"env",get:function(){return this._localPlayer.env}},{key:"selectedSource",get:function(){return this._sourceSelected}},{key:"sources",get:function(){return ea({},this._localPlayer.sources)}},{key:"config",get:function(){return ea(ea({},this._localPlayer.config),{},{plugins:this._pluginsConfig,sources:this._localPlayer.sources})}},{key:"hasUserInteracted",get:function(){return this._localPlayer.hasUserInteracted}},{key:"loadingMedia",set:function(e){this._localPlayer.loadingMedia=e}},{key:"ads",get:function(){return this._adsController}},{key:"plugins",get:function(){return this._pluginManager.getAll()}},{key:"provider",get:function(){return this._provider}},{key:"ui",get:function(){return this._uiWrapper}},{key:"playlist",get:function(){return this._playlistManager}},{key:"Event",get:function(){return ea({Cast:Nr,Core:h.EventType,Playlist:pr,UI:y.EventType,VISIBILITY_CHANGE:dt,REGISTERED_PLUGINS_LIST_EVENT:ue},h.EventType)}},{key:"TextStyle",get:function(){return this._localPlayer.TextStyle}},{key:"ViewabilityType",get:function(){return ut}},{key:"State",get:function(){return this._localPlayer.State}},{key:"Track",get:function(){return this._localPlayer.Track}},{key:"LogLevelType",get:function(){return this._localPlayer.LogLevelType}},{key:"LogLevel",get:function(){return this._localPlayer.LogLevel}},{key:"AbrMode",get:function(){return this._localPlayer.AbrMode}},{key:"MediaType",get:function(){return this._localPlayer.MediaType}},{key:"StreamType",get:function(){return this._localPlayer.StreamType}},{key:"EngineType",get:function(){return this._localPlayer.EngineType}},{key:"Error",get:function(){return this._localPlayer.Error}},{key:"_addCustomPreset",value:function(e){e.plugins&&Object.keys(e.plugins).forEach((function(t){window.kalturaCustomPreset&&window.kalturaCustomPreset[t]&&(window.kalturaCustomPresetMap||(window.kalturaCustomPresetMap={}),window.kalturaCustomPresetMap[e.ui.targetId]||(window.kalturaCustomPresetMap[e.ui.targetId]={}),window.kalturaCustomPresetMap[e.ui.targetId][t]=window.kalturaCustomPreset[t])}))}},{key:"_configureInformationForDevice",value:function(e){var t;if(navigator.mediaSession){var n,r="string"==typeof(t=e.sources.poster)?t:Array.isArray(t)&&t.length>0?t[0]:"";navigator.mediaSession.metadata=new MediaMetadata({title:(null===(n=e.sources.metadata)||void 0===n?void 0:n.name)||"",artwork:r?[{src:r}]:[]})}}},{key:"_addBindings",value:function(){var e=this;this._eventManager.listen(this,h.EventType.CHANGE_SOURCE_STARTED,(function(){return e._onChangeSourceStarted()})),this._eventManager.listen(this,h.EventType.CHANGE_SOURCE_ENDED,(function(){return e._onChangeSourceEnded()})),this._eventManager.listen(this,h.EventType.PLAYER_RESET,(function(){return e._onPlayerReset()})),this._eventManager.listen(this,h.EventType.ENDED,(function(){return e._onEnded()})),this._eventManager.listen(this,h.EventType.FIRST_PLAY,(function(){return e._firstPlay=!1})),this._eventManager.listen(this,h.EventType.SOURCE_SELECTED,(function(t){return e._sourceSelected=t.payload.selectedSource[0]})),this._eventManager.listen(this,h.EventType.PLAYBACK_ENDED,(function(){return e._onPlaybackEnded()})),this._eventManager.listen(this,h.EventType.PLAYBACK_START,(function(){e._playbackStart=!0})),this._eventManager.listen(this,h.AdEventType.AD_AUTOPLAY_FAILED,(function(t){return e._onAdAutoplayFailed(t)})),this._eventManager.listen(this,h.AdEventType.AD_STARTED,(function(){return e._onAdStarted()})),this.config.playback.playAdsWithMSE&&(this._attachEventManager=new h.EventManager,this._eventManager.listen(this,h.AdEventType.AD_LOADED,(function(t){var n=t.payload.ad;n&&n.linear&&1===n.position&&!n.inStream&&e.src?(e._attachEventManager.listenOnce(e,h.AdEventType.AD_BREAK_START,(function(){return e.detachMediaSource()})),e._attachEventManager.listenOnce(e,h.AdEventType.AD_BREAK_END,(function(){return e.attachMediaSource()})),e._attachEventManager.listenOnce(e,h.AdEventType.AD_ERROR,(function(){return e.attachMediaSource()}))):e._attachEventManager.removeAll()}))),this._eventManager.listen(this,h.EventType.ERROR,(function(t){var n;(n=t.payload).code<7e3&&n.code>=6e3?e._loadFallbackSources():t.payload.severity===h.Error.Severity.CRITICAL&&(e._reset=!1)}))}},{key:"_loadFallbackSources",value:function(){var e=qi.getMatchingFallbackSources(this._sourceSelected,this._fallbackSources,this.config.playback.fallbackSourcesOptions);if(e){var t={sources:h.Utils.Object.mergeDeep({},this._localPlayer.sources,e),session:this.config.session},n=!this._firstPlay;this.setMedia(t),n&&this.play()}}},{key:"_onChangeSourceEnded",value:function(){h.Utils.Object.getPropertyPath(this.config,"ui.targetId")?this._viewabilityManager.observe(document.getElementById(this.config.ui.targetId),this._handleVisibilityChange.bind(this)):t._logger.warn("Cannot observe visibility change without config.ui.targetId")}},{key:"_onPlayerReset",value:function(){this._playbackStart=!1,h.Utils.Object.getPropertyPath(this.config,"ui.targetId")&&this._viewabilityManager.unObserve(document.getElementById(this.config.ui.targetId),this._handleVisibilityChange.bind(this))}},{key:"_onChangeSourceStarted",value:function(){this._configureOrLoadPlugins(this._pluginsConfig),this.reset(),this._pluginManager.loadMedia(),this._reset=!1,this.dispatchEvent(new h.FakeEvent(ue,this._pluginManager.getRegisterdPluginsList()))}},{key:"_onEnded",value:function(){var e=this;setTimeout((function(){e._adsController&&!e._adsController.allAdsCompleted?e._eventManager.listenOnce(e._adsController,h.AdEventType.ALL_ADS_COMPLETED,(function(){e.dispatchEvent(new h.FakeEvent(h.EventType.PLAYBACK_ENDED))})):e.dispatchEvent(new h.FakeEvent(h.EventType.PLAYBACK_ENDED))}))}},{key:"_onPlaybackEnded",value:function(){this.config.playback.loop&&(this.currentTime=0,this.play())}},{key:"_onAdStarted",value:function(){this._firstPlay&&(this._localPlayer.posterManager.hide(),this._localPlayer.hideBlackCover())}},{key:"_onAdAutoplayFailed",value:function(e){this._firstPlay&&this.config.playback.autoplay&&(this._localPlayer.posterManager.show(),this.dispatchEvent(new h.FakeEvent(h.EventType.AUTOPLAY_FAILED,e.payload)))}},{key:"_configureOrLoadPlugins",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=[],r=[],i=[];Object.keys(t).forEach((function(a){var o=e._pluginManager.get(a);if(o)o.updateConfig(t[a]),t[a]=o.getConfig();else if(e._sourceSelected)delete t[a];else{try{e._pluginManager.load(a,e,t[a])}catch(t){e.dispatchEvent(new h.FakeEvent(h.Error.Code.ERROR,t))}var s=e._pluginManager.get(a);s&&(i.push(s),t[a]=s.getConfig(),"function"==typeof s.getMiddlewareImpl&&("bumper"===s.name?n.push(s.getMiddlewareImpl()):n.unshift(s.getMiddlewareImpl())),"function"==typeof s.getUIComponents&&r.push.apply(r,Qi(s.getUIComponents()||[])),"function"==typeof s.getEngineDecorator&&e._localPlayer.registerEngineDecoratorProvider(new h.EngineDecoratorProvider(s)))}})),r.forEach((function(t){return e._uiWrapper.addComponent(t)})),this._pluginReadinessMiddleware||(this._pluginReadinessMiddleware=new Yn(i),this._localPlayer.playbackMiddleware.use(this._pluginReadinessMiddleware)),this._maybeCreateAdsController(),n.forEach((function(t){return e._localPlayer.playbackMiddleware.use(t)})),h.Utils.Object.mergeDeep(this._pluginsConfig,t)}},{key:"_maybeCreateAdsController",value:function(){var e=this;if(!this._adsController){var t=this._controllerProvider.getAdsControllers();t.length&&(this._adsController=new Y(this,t),this._localPlayer.playbackMiddleware.use(this._adsController.getMiddleware()),this._eventManager.listen(this._adsController,h.AdEventType.ALL_ADS_COMPLETED,(function(t){e.dispatchEvent(t)})))}}},{key:"attachMediaSource",value:function(){this._localPlayer.attachMediaSource()}},{key:"detachMediaSource",value:function(){this._localPlayer.detachMediaSource()}},{key:"_resetProviderPluginsConfig",value:function(){this.configure({plugins:this._appPluginConfig}),this._appPluginConfig={}}},{key:"crossOrigin",get:function(){return this._localPlayer.crossOrigin},set:function(e){this._localPlayer.crossOrigin=e}},{key:"isVisible",get:function(){return this._isVisible}},{key:"viewabilityManager",get:function(){return this._viewabilityManager}},{key:"_handleVisibilityChange",value:function(e){this._isVisible=e,this.dispatchEvent(new h.FakeEvent(dt,{visible:this._isVisible})),this.config.playback.autoplay===h.AutoPlayType.IN_VIEW&&this._isVisible&&!this._playbackStart&&this._localPlayer.play({programmatic:!0}),!0===this.config.playback.autopause&&this._handleAutoPause(e)}},{key:"_handleAutoPause",value:function(e){var t=!this.paused||this._adsController&&this._adsController.isAdPlaying(),n=!this.isInPictureInPicture()&&this._playbackStart&&t;e?this._autoPaused&&(this.paused&&this.play(),this._autoPaused=!1):n&&(this.pause(),this._autoPaused=!0)}},{key:"getService",value:function(e){return this._serviceProvider.get(e)}},{key:"hasService",value:function(e){return this._serviceProvider.has(e)}},{key:"registerService",value:function(e,t){this._serviceProvider.register(e,t)}},{key:"cuePointManager",get:function(){return this._cuepointManager}},{key:"addTextTrack",value:function(e,t){return this._localPlayer.addTextTrack(e,t)}},{key:"getNativeTextTracks",value:function(){return this._localPlayer.getNativeTextTracks()}},{key:"remotePlayerManager",get:function(){return this._remotePlayerManager}},{key:"getMediaCapabilities",value:(a=ra(ta().mark((function e(t){return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xi(t));case 1:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"setCachedUrls",value:function(e){this.config.playback.enableCachedUrls&&this._localPlayer.setCachedUrls(e)}},{key:"sessionIdCache",get:function(){return this._sessionIdCache}},{key:"debugInfo",get:function(){var e,t,n,r,i;if(null===(e=this.config.log)||void 0===e||!e.useDebugInfo)return null;var a=qt.join(""),o=En();return{embedUrl:window.location.href,userAgent:navigator.userAgent,referrer:o,targetId:this.config.targetId,playerVersion:null===(t=window.KalturaPlayer)||void 0===t?void 0:t.VERSION,partnerId:null===(n=this.config.provider)||void 0===n?void 0:n.partnerId,entryId:this.sources.id,playlistId:null===(r=this.playlist)||void 0===r?void 0:r.id,manifestUrl:null===(i=this.selectedSource)||void 0===i?void 0:i.url,plugins:Qi(Object.keys(this.plugins)),localStorage:nt.getStorageItems(),log:a}}},{key:"isV2ToV7Redirected",get:function(){return this._isV2ToV7Redirected},set:function(e){this._isV2ToV7Redirected=e}},{key:"handleSourcesTimeRangeUpdate",value:function(e,t){var n=!1;"number"==typeof e&&(n=!0,this._localPlayer.setSeekFrom(e)),"number"==typeof t&&(n=!0,this._localPlayer.setClipTo(t)),n&&this.configure({playback:{options:{html5:{hls:{subtitleTrackController:null},dash:{manifest:{disableText:!0}}}}}})}}],r&&ia(n.prototype,r),i&&ia(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}(h.FakeEventTarget);ca(pa,"_logger",(0,h.getLogger)("KalturaPlayer"+h.Utils.Generator.uniqueId(5)));var fa={};function ha(){return fa}function ya(e){return fa[e]?fa[e]:null}var ga=["_remotePlayer","_listeners","_uiWrapper"],va={get:function(e,t){if("destroy"===t){var n=e.config.targetId;delete fa[n]}return t in h.FakeEventTarget.prototype||ga.includes(t)?e[t]:e._remotePlayer&&t in e._remotePlayer?e._remotePlayer[t]:e[t]},set:function(e,t,n){return e._remotePlayer&&!ga.includes(t)?t in e._remotePlayer&&(e._remotePlayer[t]=n):e[t]=n,!0}},ma=function(e){var t=new pa(e),n=new Proxy(t,va);return fa[e.targetId]=n,n};function ba(e){!function(e){!1!==h.Utils.Object.getPropertyPath(e,"log.playerVersion")&&((0,h.setLogLevel)(h.LogLevel.INFO),(0,h.getLogger)().log("%c ".concat("@playkit-js/kaltura-player-js"," ").concat("3.17.57"),"color: #ff98f9;  font-size: large"),(0,h.getLogger)().log("%c For more details see ".concat("https://github.com/kaltura/kaltura-player-js"),"color: #ff98f9;"))}(e),Qt(e=nn(e)),function(e){e.provider&&e.provider.uiConfId&&Pt.getInstance().setUiConfId(e.provider.uiConfId.toString())}(e);var t=tn(e);!function(e){var t,n=e.provider,r=null===(t=en())||void 0===t?void 0:t.productVersion;if(!n.partnerId||n.partnerId===zt){var i={url:Wt,mimetype:""};i.url=function(e,t){return t&&(e+="&clientVer=".concat(t)),e}(i.url,r),i.url=Tn(i.url),i.url=An(i.url,r),i.url=kn(null,i.url,St.next()),navigator.sendBeacon&&navigator.sendBeacon(i.url)}}(t),Jt(t),function(e){var t=parseFloat($t(Ht));isNaN(t)||h.Utils.Object.createPropertyPath(e,"sources.startTime",t)}(t),function(e){var t=parseFloat($t(Vt));isNaN(t)||h.Utils.Object.createPropertyPath(e,"sources.endTime",t)}(t),function(e){var t=parseFloat($t(Gt));isNaN(t)||h.Utils.Object.createPropertyPath(e,"sources.seekFrom",t);var n=parseFloat($t(Kt));isNaN(n)||h.Utils.Object.createPropertyPath(e,"sources.clipTo",n)}(t),Bt.forEach((function(e){return(0,h.getLogger)("KalturaPlayer:Setup")[e.level](e.msg)})),nt.initialize(),Et.initialize(),function(e){e.disableUserCache||Ze.setStorageConfig(e)}(t);var n=ma(t);return function(e){var t=e.provider.env,n=t.serviceUrl,r=t.initCallToServer;r&&fetch(n+r+"/format/1").then((function(e){e.json().then((function(e){(0,h.getLogger)().log("Initial server response: ".concat(e))}))}))}(n),function(e){if(!e.config.disableUserCache&&nt.isStorageAvailable()){var t=nt.getPlayerTextStyle();t&&(e.textStyle=h.Utils.Object.mergeDeep(new h.TextStyle,t))}}(n),function(e){Ze.attachAll(e)}(n),function(e,t){e.cast&&t.remotePlayerManager.load(e.cast,t)}(t,n),function(e){if(h.Env.isIOS||h.Env.isIPadOS){var t=function t(){e.removeEventListener(e.Event.UI.UI_CLICKED,t),(0,h.setCapabilities)(h.EngineType.HTML5,{autoplay:!0})};e.addEventListener(e.Event.SOURCE_SELECTED,(function n(){e.removeEventListener(e.Event.SOURCE_SELECTED,n),e.addEventListener(e.Event.UI.UI_CLICKED,t)}))}}(n),n}function ka(e){return ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ka(e)}function Ea(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ta(r.key),r)}}function Ta(e){var t=function(e,t){if("object"!=ka(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ka(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ka(t)?t:String(t)}var _a=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=t,this._friendlyName=n,this._resuming=r}var t,n,r;return t=e,(n=[{key:"deviceFriendlyName",get:function(){return this._friendlyName}},{key:"id",get:function(){return this._id}},{key:"resuming",get:function(){return this._resuming}}])&&Ea(t.prototype,n),r&&Ea(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Aa(e){return Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aa(e)}function Sa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Da(r.key),r)}}function wa(e,t,n){return t=xa(t),function(e,t){if(t&&("object"===Aa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pa(e)}(e,Ca()?Reflect.construct(t,n||[],xa(e).constructor):t.apply(e,n))}function Ca(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ca=function(){return!!e})()}function xa(e){return xa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xa(e)}function Pa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ra(e,t){return Ra=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ra(e,t)}function Ia(e,t,n){return(t=Da(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Da(e){var t=function(e,t){if("object"!=Aa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Aa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Aa(t)?t:String(t)}var Oa=function(e){function t(e,n,r){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ia(Pa(i=wa(this,t)),"_isCastInitiator",!1),i._playerConfig={},t._logger=(0,h.getLogger)(e),i._remoteControl=r,i._castConfig=h.Utils.Object.mergeDeep({},i.constructor.defaultConfig,n),i._eventManager=new h.EventManager,t._logger.debug("Initialized"),i}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ra(e,t)}(t,e),n=t,i=[{key:"isSupported",value:function(){return!0}}],(r=[{key:"loadMedia",value:function(e){return Promise.resolve()}},{key:"setMedia",value:function(e){}},{key:"getMediaInfo",value:function(){}},{key:"getMediaConfig",value:function(){}},{key:"configure",value:function(){}},{key:"ready",value:function(){return Promise.resolve()}},{key:"load",value:function(){}},{key:"play",value:function(){}},{key:"pause",value:function(){}},{key:"reset",value:function(){}},{key:"destroy",value:function(){}},{key:"isLive",value:function(){return!1}},{key:"isDvr",value:function(){return!1}},{key:"seekToLiveEdge",value:function(){}},{key:"getStartTimeOfDvrWindow",value:function(){return 0}},{key:"getTracks",value:function(e){return[]}},{key:"getActiveTracks",value:function(){return{audio:void 0,video:void 0,text:void 0}}},{key:"selectTrack",value:function(e){}},{key:"hideTextTrack",value:function(){}},{key:"enableAdaptiveBitrate",value:function(){}},{key:"isAdaptiveBitrateEnabled",value:function(){return!0}},{key:"setTextDisplaySettings",value:function(e){}},{key:"startCasting",value:function(){return Promise.reject("startCasting method was not overridden")}},{key:"stopCasting",value:function(){}},{key:"isCasting",value:function(){return!0}},{key:"isCastAvailable",value:function(){return!0}},{key:"getCastSession",value:function(){return new _a("","")}},{key:"isVr",value:function(){return!1}},{key:"toggleVrStereoMode",value:function(){}},{key:"isInVrStereoMode",value:function(){return!1}},{key:"ads",get:function(){return null}},{key:"textStyle",get:function(){return new h.TextStyle},set:function(e){}},{key:"buffered",get:function(){return[]}},{key:"currentTime",get:function(){return 0},set:function(e){}},{key:"duration",get:function(){return 0}},{key:"liveDuration",get:function(){return NaN}},{key:"volume",get:function(){return 1},set:function(e){}},{key:"paused",get:function(){return!1}},{key:"ended",get:function(){return!1}},{key:"seeking",get:function(){return!1}},{key:"muted",get:function(){return!1},set:function(e){}},{key:"src",get:function(){return""}},{key:"poster",get:function(){return""}},{key:"playbackRate",get:function(){return 1},set:function(e){}},{key:"engineType",get:function(){return""}},{key:"streamType",get:function(){return""}},{key:"type",get:function(){return t.Type}},{key:"config",get:function(){return this._playerConfig}},{key:"isCastInitiator",get:function(){return this._isCastInitiator},set:function(e){this._isCastInitiator=e}}])&&Sa(n.prototype,r),i&&Sa(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}(h.FakeEventTarget);function La(e,t,n){return t=Na(t),function(e,t){if(t&&("object"===Fa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ma()?Reflect.construct(t,n||[],Na(e).constructor):t.apply(e,n))}function Ma(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ma=function(){return!!e})()}function Na(e){return Na=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Na(e)}function Ua(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ba(e,t)}function Ba(e,t){return Ba=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ba(e,t)}function Fa(e){return Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(e)}function ja(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ha(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ga(r.key),r)}}function Va(e,t,n){return t&&Ha(e.prototype,t),n&&Ha(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ga(e){var t=function(e,t){if("object"!=Fa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fa(t)?t:String(t)}Ia(Oa,"defaultConfig",{}),Ia(Oa,"Type","BaseRemotePlayer");var Ka=function(){function e(t){ja(this,e),this._player=t}return Va(e,[{key:"player",get:function(){return this._player}}]),e}(),za=function(e){function t(e,n,r){var i;return ja(this,t),(i=La(this,t,[e]))._session=n,r&&(i._ui=r),i}return Ua(t,e),Va(t,[{key:"ui",get:function(){return this._ui}},{key:"session",get:function(){return this._session}}]),t}(Ka),Wa=function(e){function t(e,n){var r;return ja(this,t),(r=La(this,t,[e]))._snapshot=n,r}return Ua(t,e),Va(t,[{key:"snapshot",get:function(){return this._snapshot}}]),t}(Ka),Ya=function(e){function t(e,n){var r;return ja(this,t),(r=La(this,t,[e]))._available=n,r}return Ua(t,e),Va(t,[{key:"available",get:function(){return this._available}}]),t}(Ka);function Za(e){return Za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(e)}function qa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xa(r.key),r)}}function Xa(e){var t=function(e,t){if("object"!=Za(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Za(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Za(t)?t:String(t)}var Qa=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){(t=Xa(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"_uis",[{template:function(e){return t.idleUI(e)},condition:function(e){return e.engine.isIdle}},{template:function(e){return t.errorUI(e)},condition:function(e){return e.engine.hasError}},{template:function(e){return t.adsUI(e)},condition:function(e){return e.engine.adBreak}},{template:function(e){return t.liveUI(e)},condition:function(e){return e.engine.isLive}},{template:function(e){return t.playbackUI(e)}}])}var t,n,r;return t=e,(n=[{key:"playbackUI",value:function(e){return y.Presets.playbackUI(e)}},{key:"idleUI",value:function(e){return y.Presets.idleUI(e)}},{key:"adsUI",value:function(e){return y.Presets.adsUI(e)}},{key:"liveUI",value:function(e){return y.Presets.liveUI(e)}},{key:"errorUI",value:function(e){return y.Presets.errorUI(e)}},{key:"uis",get:function(){return this._uis}}])&&qa(t.prototype,n),r&&qa(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ja(e){return Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(e)}function $a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eo(r.key),r)}}function eo(e){var t=function(e,t){if("object"!=Ja(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ja(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ja(t)?t:String(t)}var to=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"toCastTextStyle",value:function(t){if(window.chrome&&window.chrome.cast){var n=new window.chrome.cast.media.TextTrackStyle;return n.fontFamily=t.fontFamily,n.backgroundColor=e.rgbToHex(t.backgroundColor),n.foregroundColor=e.rgbToHex(t.fontColor),n.fontScale=Number.parseFloat(t.fontSize)/100,n}return{}}},{key:"toPlayerTextStyle",value:function(t){var n=new h.TextStyle;return n.fontFamily=t.fontFamily,n.fontSize=100*t.fontScale+"%",n.fontColor=e.hexToRGB(t.foregroundColor),n.backgroundColor=e.hexToRGB(t.backgroundColor),n}},{key:"rgbToHex",value:function(e){var t="#"+("0"+parseInt(e[0],10).toString(16)).slice(-2)+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2);if(e[3]){var n=e[3];n=Math.round(100*n)/100,t+=(Math.round(255*n)+65536).toString(16).substr(-2).toUpperCase()}else t+="FF";return t.toUpperCase()}},{key:"hexToRGB",value:function(e){for(var t=[],n=(e=e.slice(1)).match(/.{1,2}/g),r=0;r<3;r++){var i=n&&n[r];i&&t.push(parseInt(i,16))}return t}}],(n=null)&&$a(t.prototype,n),r&&$a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function no(e){return no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},no(e)}function ro(e,t,n){return t=ao(t),function(e,t){if(t&&("object"===no(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,io()?Reflect.construct(t,n||[],ao(e).constructor):t.apply(e,n))}function io(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(io=function(){return!!e})()}function ao(e){return ao=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ao(e)}function oo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&so(e,t)}function so(e,t){return so=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},so(e,t)}function lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,co(r.key),r)}}function uo(e,t,n){return t&&lo(e.prototype,t),n&&lo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function co(e){var t=function(e,t){if("object"!=no(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=no(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==no(t)?t:String(t)}function po(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var fo={ACTION:"action",EVENT:"event"},ho=uo((function e(t){po(this,e),this.type=t})),yo=function(e){function t(e,n){var r;return po(this,t),(r=ro(this,t,[fo.EVENT])).event=e,r.payload=n,r}return oo(t,e),uo(t)}(ho),go=function(e){function t(e,n){var r;return po(this,t),(r=ro(this,t,[fo.ACTION])).action=e,r.args=n,r}return oo(t,e),uo(t)}(ho),vo={registerRemotePlayer:ai.register,PlayerSnapshot:Dr,RemoteControl:Hr,RemoteSession:_a,BaseRemotePlayer:Oa,RemoteConnectedPayload:za,RemoteDisconnectedPayload:Wa,RemoteAvailablePayload:Ya,RemotePlayerUI:Qa,CastEventType:Nr,RemotePlayerType:{CHROMECAST:"chromecast"},TextStyleConverter:to,CustomEventMessage:yo,CustomActionMessage:go,CustomMessageType:fo,CustomActionType:{SKIP_AD:"skipAd"},CustomMessage:ho},mo={PlaylistEventType:pr};function bo(e){return bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bo(e)}function ko(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Eo(r.key),r)}}function Eo(e){var t=function(e,t){if("object"!=bo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bo(t)?t:String(t)}var To=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=t,this._system=n.system,this._url=n.url,this._contentType=n.contentType,this._title=n.title,this._position=n.position,this._duration=n.duration,this._clickThroughUrl=n.clickThroughUrl,this._posterUrl=n.posterUrl,this._skipOffset=n.skipOffset,this._linear=n.linear,this._width=n.width||0,this._height=n.height||0,this._bitrate=n.bitrate||0,this._bumper=n.bumper,this._inStream=n.inStream||!1,this._vpaid=n.vpaid||!1,this._streamId=n.streamId||"",this._wrapperAdIds=n.wrapperAdIds,this._wrapperCreativeIds=n.wrapperCreativeIds,this._wrapperAdSystems=n.wrapperAdSystems}var t,n,r;return t=e,(n=[{key:"id",get:function(){return this._id}},{key:"system",get:function(){return this._system}},{key:"contentType",get:function(){return this._contentType}},{key:"url",get:function(){return this._url}},{key:"title",get:function(){return this._title}},{key:"position",get:function(){return this._position}},{key:"duration",get:function(){return this._duration}},{key:"clickThroughUrl",get:function(){return this._clickThroughUrl}},{key:"posterUrl",get:function(){return this._posterUrl}},{key:"skipOffset",get:function(){return this._skipOffset}},{key:"linear",get:function(){return this._linear}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"bitrate",get:function(){return this._bitrate}},{key:"bumper",get:function(){return this._bumper}},{key:"inStream",get:function(){return this._inStream}},{key:"skippable",get:function(){return!!(this.skipOffset&&this.skipOffset>0)}},{key:"vpaid",get:function(){return this._vpaid}},{key:"streamId",get:function(){return this._streamId}},{key:"wrapperAdIds",get:function(){return this._wrapperAdIds}},{key:"wrapperCreativeIds",get:function(){return this._wrapperCreativeIds}},{key:"wrapperAdSystems",get:function(){return this._wrapperAdSystems}},{key:"toJSON",value:function(){return{id:this.id,system:this.system,url:this.url,contentType:this.contentType,title:this.title,position:this.position,duration:this.duration,clickThroughUrl:this.clickThroughUrl,posterUrl:this.posterUrl,skipOffset:this.skipOffset,linear:this.linear,skippable:this.skippable,width:this.width,height:this.height,bitrate:this.bitrate,bumper:this.bumper,inStream:this.inStream,vpaid:this.vpaid}}}])&&ko(t.prototype,n),r&&ko(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _o(e){return _o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_o(e)}function Ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,So(r.key),r)}}function So(e){var t=function(e,t){if("object"!=_o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_o(t)?t:String(t)}var wo=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._type=t.type,this._position=t.position,this._numAds=t.numAds}var t,n,r;return t=e,(n=[{key:"type",get:function(){return this._type}},{key:"position",get:function(){return this._position}},{key:"numAds",get:function(){return this._numAds}},{key:"toJSON",value:function(){return{type:this.type,position:this.position,numAds:this.numAds}}}])&&Ao(t.prototype,n),r&&Ao(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();h.Ad=To,h.AdBreak=wo,h.BasePlugin=ie,h.registerPlugin=de;var Co="@playkit-js/kaltura-player-js",xo="ovp",Po="3.17.57"})(),r})()));
//# sourceMappingURL=kaltura-ovp-player.js.map
/*! For license information please see playkit-hotspots.js.LICENSE.txt */
var KalturaPlayer;!function(){var t={1972:function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Button=e.ButtonType=e.ButtonSize=void 0;var a,s,l=n(4522),c=n(42),u=n(2052),p=n(979),_=n(4820),d=n(7538),h=u.ui.Components.Tooltip;!function(t){t.small="small",t.medium="medium",t.large="large"}(a=e.ButtonSize||(e.ButtonSize={})),function(t){t.primary="primary",t.danger="danger",t.translucent="translucent",t.borderless="borderless"}(s=e.ButtonType||(e.ButtonType={}));var A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonRef=(0,l.createRef)(),e.renderButton=function(){var t,n=e.props,o=c(d.button,d[n.size],d[n.type],n.className,((t={})[d.disabled]=n.disabled,t[d.withIcon]=n.children&&n.icon,t[d.iconOnly]=!n.children&&n.icon,t)),r=i(i({ref:e.buttonRef,disabled:n.disabled,"aria-disabled":n.disabled,tabIndex:n.tabIndex,className:o},n.ariaLabel?{"aria-label":n.ariaLabel}:{}),n.testId?{"data-testid":n.testId}:{}),a=(0,l.h)("button",i({},r),(0,l.h)(l.Fragment,null,n.icon&&(0,l.h)(_.Icon,{name:n.icon,size:_.IconSize[n.size]}),n.children&&(0,l.h)("span",null,n.children)));return n.onClick?(0,l.h)(p.A11yWrapper,{onClick:n.onClick},a):a},e}return r(e,t),e.prototype.componentDidMount=function(){var t;this.props.focusOnMount&&(null===(t=this.buttonRef.current)||void 0===t||t.focus())},e.prototype.render=function(t){if(t.tooltip){var e=i(i({label:t.tooltip.label},t.tooltip.type?{type:t.tooltip.type}:{}),t.tooltip.className?{classNames:t.tooltip.className}:{});return(0,l.h)(h,i({},e),this.renderButton())}return this.renderButton()},e}(l.Component);e.Button=A,A.defaultProps={disabled:!1,focusOnMount:!1,tabIndex:0,children:null,size:a.medium,icon:null,type:s.primary}},5454:function(t,e,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,r)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||o(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(1972),e),r(n(178),e)},178:function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.InputField=void 0;var a=n(4522),s=n(979),l=n(7998),c=function(t){function e(e){var n=t.call(this,e)||this;return n.state={active:!1},n._inputRef=null,n.setFocus=function(t){var e;null===(e=n._inputRef)||void 0===e||e.focus(t)},n._handleOnChange=function(t){n.props.onChange(t.target.value)},n._onClear=function(){var t;null===(t=n._inputRef)||void 0===t||t.focus(),n.props.onChange("")},n._onFocus=function(){n.setState({active:!0})},n._onBlur=function(){n.setState({active:!1})},n._goToNextSearchResult=function(){var t=n.props.searchResults,e=t.activeSearchIndex,o=t.totalSearchResults,r=t.onSearchIndexChange;0!==o&&r(e!==o?e+1:1)},n._goToPrevSearchResult=function(){var t=n.props.searchResults,e=t.activeSearchIndex,o=t.totalSearchResults;(0,t.onSearchIndexChange)(1!==e?e-1:o)},n._renderSearchResults=function(){return(0,a.h)(a.Fragment,null,(0,a.h)("div",{className:l.searchResults,"aria-live":"polite","aria-label":n.props.searchResults.searchResultsLabel},"".concat(n.props.searchResults.totalSearchResults>0?"".concat(n.props.searchResults.activeSearchIndex,"/").concat(n.props.searchResults.totalSearchResults):"0/0")),(0,a.h)("div",{className:l.prevNextWrapper},n.props.value&&(0,a.h)(s.A11yWrapper,{onClick:n._goToPrevSearchResult},(0,a.h)("button",{tabIndex:0,className:"".concat(l.prevNextButton," ").concat(0===n.props.searchResults.totalSearchResults?l.disabled:""),"aria-label":n.props.searchResults.prevMatchLabel},(0,a.h)("svg",{width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,a.h)("path",{d:"M0.292893 4.70711C0.653377 5.06759 1.22061 5.09532 1.6129 4.7903L1.70711 4.70711L4 2.415L6.29289 4.70711C6.65338 5.06759 7.22061 5.09532 7.6129 4.7903L7.70711 4.70711C8.06759 4.34662 8.09532 3.77939 7.7903 3.3871L7.70711 3.29289L4.70711 0.292893C4.34662 -0.0675907 3.77939 -0.0953203 3.3871 0.209705L3.29289 0.292893L0.292893 3.29289C-0.0976311 3.68342 -0.0976311 4.31658 0.292893 4.70711Z",fill:"white","fill-opacity":"0.7"})))),n.props.value&&(0,a.h)(s.A11yWrapper,{onClick:n._goToNextSearchResult},(0,a.h)("button",{tabIndex:0,className:"".concat(l.prevNextButton," ").concat(0===n.props.searchResults.totalSearchResults?l.disabled:""),"aria-label":n.props.searchResults.nextMatchLabel},(0,a.h)("svg",{width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,a.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.292893 0.292893C0.683417 -0.0976311 1.31658 -0.0976311 1.70711 0.292893L4 2.58579L6.29289 0.292893C6.68342 -0.0976311 7.31658 -0.0976311 7.70711 0.292893C8.09763 0.683417 8.09763 1.31658 7.70711 1.70711L4.70711 4.70711C4.31658 5.09763 3.68342 5.09763 3.29289 4.70711L0.292893 1.70711C-0.0976311 1.31658 -0.0976311 0.683417 0.292893 0.292893Z",fill:"white","fill-opacity":"0.7"}))))))},n._renderClearSearch=function(){return(0,a.h)(s.A11yWrapper,{onClick:n._onClear},(0,a.h)("button",{className:l.clearIcon,tabIndex:0,"aria-label":n.props.clearSearchLabel},(0,a.h)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,a.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6 12C9.31371 12 12 9.31371 12 6C12 2.68629 9.31371 0 6 0C2.68629 0 0 2.68629 0 6C0 9.31371 2.68629 12 6 12ZM3.38951 2.3502L3.46013 2.41264L5.99548 4.9504L8.53067 2.41264L8.60129 2.3502C8.89537 2.12125 9.32081 2.1418 9.59133 2.41199C9.8844 2.70471 9.88469 3.17958 9.59197 3.47265L7.05523 6.01165L9.59197 8.55189C9.88469 8.84496 9.8844 9.31983 9.59133 9.61255C9.32081 9.88275 8.89537 9.90329 8.60129 9.67434L8.53067 9.61191L5.99548 7.0729L3.46013 9.61191L3.38951 9.67434C3.09543 9.90329 2.66999 9.88275 2.39947 9.61255C2.1064 9.31983 2.10611 8.84496 2.39883 8.55189L4.93498 6.01165L2.39883 3.47265C2.10611 3.17958 2.1064 2.70471 2.39947 2.41199C2.66999 2.1418 3.09543 2.12125 3.38951 2.3502Z",fill:"white","fill-opacity":"0.7"}))))},n.state={active:!1},n}return r(e,t),e.prototype.render=function(){var t=this,e={className:l.inputElement,value:this.props.value,onInput:this._handleOnChange,onFocus:this._onFocus,onBlur:this._onBlur,tabIndex:0,ref:function(e){t._inputRef=e}};return this.props.placeholder&&(e["aria-label"]=this.props.placeholder,e.placeholder=this.props.placeholder),(0,a.h)("div",{className:[l.inputFieldWrapper,this.props.value||this.state.active?l.active:""].join(" ")},(0,a.h)("input",i({},e)),this.props.value&&this.props.clearSearchLabel&&this._renderClearSearch(),this.props.value&&this.props.searchResults&&this._renderSearchResults())},e}(a.Component);e.InputField=c},979:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.A11yWrapper=e.isKeyboardEvent=void 0;var o=n(4522),r=n(2052).ui.utils.KeyMap,i=r.ENTER,a=r.SPACE,s=r.UP,l=r.DOWN,c=r.LEFT,u=r.RIGHT,p=function(t){t.preventDefault(),t.stopPropagation()};e.isKeyboardEvent=function(t){return t instanceof KeyboardEvent||[t.offsetX,t.offsetY].every((function(t){return 0===t}))},e.A11yWrapper=function(t){var n=t.children,r=t.onClick,_=t.onUpKeyPressed,d=t.onDownKeyPressed,h=t.onLeftKeyPressed,A=t.onRightKeyPressed,f=t.role,C=t.type,v={onKeyDown:function(t){t.keyCode===a||t.keyCode===i?(p(t),r(t,!0)):t.keyCode===s&&_?(p(t),_(t)):t.keyCode===l&&d?(p(t),d(t)):t.keyCode===c&&h?(p(t),h(t)):t.keyCode===u&&A&&(p(t),A(t))},onClick:function(t){t.stopPropagation(),r(t,(0,e.isKeyboardEvent)(t))},role:f};return"button"===n.type&&(v.type=C||"button"),(0,o.cloneElement)(n,v)},e.A11yWrapper.defaultProps={role:"button"}},172:function(t,e,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,r)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||o(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(979),e),r(n(8579),e),r(n(3425),e)},8579:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverlayPortal=void 0;var n=KalturaPlayer.ui.redux.useSelector,o=KalturaPlayer.ui.createPortal;e.OverlayPortal=function(t){var e=t.children,r=n((function(t){return t.config.targetId})),i=document.getElementById(r)||document;return o(e,i.querySelector(".overlay-portal"))}},3425:function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScreenReaderProvider=e.ScreenReaderContext=void 0;var i=n(4522),a=n(73);e.ScreenReaderContext=(0,i.createContext)((function(t,e){}));var s=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={textToRead:""},e._setTextToRead=function(t,n){void 0===n&&(n=500),setTimeout((function(){e.setState({textToRead:t})}),n)},e}return r(n,t),n.prototype.render=function(){return(0,i.h)(e.ScreenReaderContext.Provider,{value:this._setTextToRead},this.props.children,(0,i.h)("div",{style:a.srWrapper,"aria-live":"polite","data-testid":"screenReaderWrapper"},(0,i.h)("span",{id:"sr-only","aria-label":this.state.textToRead},this.state.textToRead)))},n}(i.Component);e.ScreenReaderProvider=s},9695:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Add=void 0;var o=n(4522);e.Add=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M21.8083 4C22.4665 4 23 4.55964 23 5.25V18.75C23 19.4404 22.4665 20 21.8083 20H2.19167C1.53353 20 1 19.4404 1 18.75V5.25C1 4.55964 1.53353 4 2.19167 4H21.8083ZM15 6H3V18H15V6ZM12.999 8.967L13 9L12.998 8.94L12.999 8.967L13 9V15C13 15.5523 12.5523 16 12 16C11.4872 16 11.0645 15.614 11.0067 15.1166L11 15V11.414L6.70711 15.7071C6.34662 16.0676 5.77939 16.0953 5.3871 15.7903L5.29289 15.7071C4.93241 15.3466 4.90468 14.7794 5.2097 14.3871L5.29289 14.2929L9.584 10H6C5.48716 10 5.06449 9.61396 5.00673 9.11662L5 9C5 8.44772 5.44772 8 6 8L12.0193 8.00018C12.0427 8.00063 12.066 8.00189 12.0893 8.00397C12.1097 8.00575 12.1294 8.0081 12.149 8.01102C12.1659 8.01363 12.1834 8.0167 12.2007 8.02024C12.2227 8.02464 12.2444 8.02983 12.2658 8.03572C12.2815 8.0401 12.2969 8.04473 12.3121 8.04974C12.3318 8.05612 12.3516 8.06332 12.3711 8.0711L12.4232 8.09367C12.4439 8.10338 12.4643 8.11379 12.4843 8.12488C12.4964 8.1315 12.5086 8.13861 12.5207 8.146C12.5463 8.16172 12.5711 8.17849 12.5952 8.19631L12.6525 8.24221L12.6167 8.21279C12.6802 8.26255 12.7374 8.31982 12.7872 8.38325C12.7927 8.39016 12.7982 8.3974 12.8037 8.40469C12.8215 8.42887 12.8383 8.45372 12.8539 8.47934L12.8753 8.51594C12.8862 8.53571 12.8966 8.55611 12.9063 8.5769L12.9288 8.62866C12.9367 8.64842 12.9439 8.6682 12.9505 8.68826C12.9553 8.70315 12.9599 8.71854 12.9642 8.73401C12.9702 8.75556 12.9754 8.77725 12.9798 8.79921C12.9833 8.81662 12.9864 8.83405 12.989 8.85153L12.9972 8.92482L12.998 8.94L12.999 8.967Z",fill:"white"}))}},5254:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Close=void 0;var o=n(4522);e.Close=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M11.6592 10.245L6.70483 5.29061C6.31701 4.9028 5.68581 4.90476 5.29528 5.29528C4.90204 5.68853 4.90267 6.31688 5.29061 6.70483L10.245 11.6592L5.29061 16.6137C4.9028 17.0015 4.90476 17.6327 5.29528 18.0232C5.68853 18.4165 6.31688 18.4158 6.70483 18.0279L11.6592 13.0735L16.6137 18.0279C17.0015 18.4157 17.6327 18.4137 18.0232 18.0232C18.4165 17.63 18.4158 17.0016 18.0279 16.6137L13.0735 11.6592L18.0279 6.70483C18.4157 6.31701 18.4137 5.68581 18.0232 5.29528C17.63 4.90204 17.0016 4.90267 16.6137 5.29061L11.6592 10.245Z",fill:"white"}))}},1577:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Download=void 0;var o=n(4522);e.Download=function(){return(0,o.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M17.5 6C17.5 5.44772 17.0523 5 16.5 5L16.3834 5.00673C15.886 5.06449 15.5 5.48716 15.5 6L15.4997 17.693L9.71029 12.2702C9.30721 11.8926 8.67439 11.9133 8.29683 12.3164C7.91928 12.7195 7.93998 13.3523 8.34306 13.7298L15.8164 20.7298C15.8212 20.7343 15.826 20.7387 15.8308 20.7431L15.8164 20.7298L15.9035 20.8027C15.9034 20.8026 15.9037 20.8028 15.9035 20.8027C15.9135 20.8101 15.9231 20.817 15.9333 20.824C15.956 20.8397 15.9793 20.8544 16.0038 20.8684C16.0148 20.8747 16.0259 20.8808 16.0366 20.8864C16.0596 20.8984 16.0832 20.9096 16.1077 20.9201C16.1223 20.9263 16.1371 20.9322 16.1515 20.9376C16.1769 20.947 16.2028 20.9555 16.2299 20.963C16.2399 20.9658 16.25 20.9684 16.2595 20.9709C16.3365 20.9899 16.4171 21 16.5 21C16.5804 21 16.6585 20.9905 16.7336 20.9725C16.7521 20.968 16.7706 20.963 16.7889 20.9576C16.8097 20.9514 16.8303 20.9444 16.8507 20.9367C16.8632 20.932 16.8756 20.9271 16.8878 20.922C16.9121 20.9118 16.936 20.9006 16.9596 20.8883C16.9735 20.8812 16.9872 20.8736 17.0007 20.8658C17.0223 20.8533 17.0434 20.84 17.0636 20.8262C17.0764 20.8174 17.0891 20.8083 17.1021 20.7985C17.1224 20.7831 17.1422 20.767 17.161 20.7504C17.1685 20.7437 17.176 20.737 17.1834 20.7301L24.6619 13.7301C25.0651 13.3527 25.086 12.7198 24.7086 12.3166L24.6172 12.2304C24.2352 11.9126 23.6674 11.9215 23.2952 12.2699L17.4997 17.694L17.5 6Z",fill:"white"}),(0,o.h)("path",{d:"M27 26C27 26.5523 26.5523 27 26 27H7C6.44772 27 6 26.5523 6 26C6 25.4477 6.44772 25 7 25H26C26.5523 25 27 25.4477 27 26Z",fill:"white"}))}},2942:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Expand=void 0;var o=n(4522);e.Expand=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M20.997 3.924L20.998 3.945L20.999 3.98L21 4V10C21 10.5523 20.5523 11 20 11C19.4872 11 19.0645 10.614 19.0067 10.1166L19 10V6.416L14.7071 10.7071C14.3466 11.0676 13.7794 11.0953 13.3871 10.7903L13.2929 10.7071C12.9324 10.3466 12.9047 9.77939 13.2097 9.3871L13.2929 9.29289L17.586 5H14C13.4872 5 13.0645 4.61396 13.0067 4.11662L13 4C13 3.48716 13.386 3.06449 13.8834 3.00673L14 3L20.0332 3.00054C20.0503 3.00109 20.0683 3.00216 20.0862 3.0037C20.1079 3.00553 20.1285 3.00797 20.149 3.01102C20.166 3.01363 20.1834 3.0167 20.2007 3.02024C20.2227 3.02464 20.2444 3.02983 20.2658 3.03572C20.2815 3.0401 20.2969 3.04473 20.3121 3.04974C20.3318 3.05612 20.3516 3.06332 20.3711 3.0711L20.4232 3.09367C20.4439 3.10338 20.4643 3.11379 20.4843 3.12488C20.4964 3.1315 20.5086 3.13861 20.5207 3.146C20.5463 3.16172 20.5711 3.17849 20.5952 3.19631L20.6525 3.24221L20.6168 3.21279C20.6802 3.26255 20.7374 3.31982 20.7872 3.38325C20.7927 3.39016 20.7982 3.3974 20.8037 3.40469C20.8215 3.42887 20.8383 3.45373 20.8539 3.47934L20.8753 3.51594C20.8862 3.53571 20.8966 3.55611 20.9063 3.5769L20.9288 3.62866C20.9367 3.64842 20.9439 3.6682 20.9505 3.68826C20.9553 3.70315 20.9599 3.71854 20.9642 3.73401C20.9702 3.75556 20.9754 3.77725 20.9798 3.79921C20.9833 3.81662 20.9864 3.83405 20.989 3.85153L20.996 3.91075L20.996 3.919L20.997 3.921V3.924ZM3.002 20.059V20.071L3.00175 20.0593C3.00122 20.0503 3.00081 20.0413 3.00052 20.0323L3 14C3 13.4477 3.44772 13 4 13C4.51284 13 4.93551 13.386 4.99327 13.8834L5 14V17.586L9.29289 13.2929C9.65338 12.9324 10.2206 12.9047 10.6129 13.2097L10.7071 13.2929C11.0676 13.6534 11.0953 14.2206 10.7903 14.6129L10.7071 14.7071L6.416 19H10C10.5128 19 10.9355 19.386 10.9933 19.8834L11 20C11 20.5128 10.614 20.9355 10.1166 20.9933L10 21H4C3.99354 21 3.98709 20.9999 3.98066 20.9998C3.95732 20.9994 3.93401 20.9981 3.91075 20.996C3.89031 20.9943 3.87058 20.9919 3.85104 20.989C3.83405 20.9864 3.81662 20.9833 3.79927 20.9798C3.77725 20.9754 3.75556 20.9702 3.73416 20.9643C3.71854 20.9599 3.70315 20.9553 3.68786 20.9503C3.6682 20.9439 3.64842 20.9367 3.62894 20.9289L3.57678 20.9063C3.55611 20.8966 3.53571 20.8862 3.51572 20.8751C3.50361 20.8685 3.49139 20.8614 3.47929 20.854C3.45373 20.8383 3.42887 20.8215 3.40484 20.8037L3.34745 20.7578L3.38325 20.7872C3.31982 20.7374 3.26255 20.6802 3.21279 20.6168C3.20728 20.6098 3.20175 20.6026 3.19633 20.5953C3.17849 20.5711 3.16172 20.5463 3.14607 20.5207L3.12467 20.4841C3.11379 20.4643 3.10338 20.4439 3.09365 20.4231L3.07123 20.3713C3.06332 20.3516 3.05612 20.3318 3.04955 20.3117C3.04473 20.2969 3.0401 20.2815 3.03585 20.266C3.02983 20.2444 3.02464 20.2227 3.02017 20.2008C3.0167 20.1834 3.01363 20.1659 3.01102 20.1485L3.0037 20.0862L3.002 20.059Z",fill:"white"}))}},1861:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Icons=void 0;var o=n(5254),r=n(9919),i=n(1577),a=n(7024),s=n(8835),l=n(1223),c=n(7858),u=n(6563),p=n(2489),_=n(9695),d=n(756),h=n(4726),A=n(2942);e.Icons={close:o.Close,print:r.Print,download:i.Download,related:a.Related,message:s.Message,share:l.Share,more:c.More,quiz:u.QuizIcon,switch:p.Switch,add:_.Add,minimizedVideo:d.MinimizedVideo,pictureInPicture:h.PictureInPicture,expand:A.Expand}},8835:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Message=void 0;var o=n(4522);e.Message=function(){return(0,o.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M25 5C27.2091 5 29 6.75035 29 8.90952V18.6833C29 20.8425 27.2091 22.5928 25 22.5928H14.985L10.7019 26.7188C10.546 26.8689 10.3449 26.9641 10.1302 26.9917L10 27C9.44772 27 9 26.5624 9 26.0226V22.5928H7C4.79086 22.5928 3 20.8425 3 18.6833V8.90952C3 6.75035 4.79086 5 7 5H25ZM25 6.95476H7C5.89543 6.95476 5 7.82994 5 8.90952V18.6833C5 19.7629 5.89543 20.6381 7 20.6381H11V23.687L14.1651 20.6381H25C26.1046 20.6381 27 19.7629 27 18.6833V8.90952C27 7.82994 26.1046 6.95476 25 6.95476ZM19 14.7738C19.5523 14.7738 20 15.2114 20 15.7512C20 16.291 19.5523 16.7286 19 16.7286H10C9.44772 16.7286 9 16.291 9 15.7512C9 15.2114 9.44772 14.7738 10 14.7738H19ZM23 10.8643C23.5523 10.8643 24 11.3019 24 11.8417C24 12.3815 23.5523 12.819 23 12.819H10C9.44772 12.819 9 12.3815 9 11.8417C9 11.3019 9.44772 10.8643 10 10.8643H23Z",fill:"white"}))}},756:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimizedVideo=void 0;var o=n(4522);e.MinimizedVideo=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.25 4.5H18.75C19.9926 4.5 21 5.50736 21 6.75V17.25C21 18.4926 19.9926 19.5 18.75 19.5H5.25C4.00736 19.5 3 18.4926 3 17.25V6.75C3 5.50736 4.00736 4.5 5.25 4.5ZM5.25 6C4.83579 6 4.5 6.33579 4.5 6.75V17.25C4.5 17.6642 4.83579 18 5.25 18H18.75C19.1642 18 19.5 17.6642 19.5 17.25V6.75C19.5 6.33579 19.1642 6 18.75 6H5.25ZM13 12C12.4477 12 12 12.4477 12 13V15.5C12 16.0523 12.4477 16.5 13 16.5H17C17.5523 16.5 18 16.0523 18 15.5V13C18 12.4477 17.5523 12 17 12H13Z",fill:"white"}))}},7858:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.More=void 0;var o=n(4522);e.More=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M8 12C8 13.1046 7.10457 14 6 14C4.89543 14 4 13.1046 4 12C4 10.8954 4.89543 10 6 10C7.10457 10 8 10.8954 8 12ZM14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12ZM20 12C20 13.1046 19.1046 14 18 14C16.8954 14 16 13.1046 16 12C16 10.8954 16.8954 10 18 10C19.1046 10 20 10.8954 20 12Z",fill:"white"}))}},4726:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PictureInPicture=void 0;var o=n(4522);e.PictureInPicture=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.75 4.5H5.25C4.00736 4.5 3 5.50736 3 6.75V17.25C3 18.4926 4.00736 19.5 5.25 19.5H18.75C19.9926 19.5 21 18.4926 21 17.25V6.75C21 5.50736 19.9926 4.5 18.75 4.5ZM13 12C12.4477 12 12 12.4477 12 13V15.5C12 16.0523 12.4477 16.5 13 16.5H17C17.5523 16.5 18 16.0523 18 15.5V13C18 12.4477 17.5523 12 17 12H13Z",fill:"white"}))}},9919:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Print=void 0;var o=n(4522);e.Print=function(){return(0,o.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M23 23H26C27.1046 23 28 22.1046 28 21V11C28 9.89543 27.1046 9 26 9H23V5C23 3.89543 22.1046 3 21 3H11C9.89543 3 9 3.89543 9 5V9H6C4.89543 9 4 9.89543 4 11V21C4 22.1046 4.89543 23 6 23H9V28C9 29.1046 9.89543 30 11 30H21C22.1046 30 23 29.1046 23 28V23ZM6 11V21H9V19C8.44772 19 8 18.5523 8 18C8 17.4477 8.44772 17 9 17H23C23.5523 17 24 17.4477 24 18C24 18.5523 23.5523 19 23 19V21H26V11H6ZM21 9V5H11V9H21ZM11 19V28H21V19H11Z",fill:"white"}))}},6563:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuizIcon=void 0;var o=n(4522);e.QuizIcon=function(){return(0,o.h)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.49857 2.11499L12.7442 4.2052C12.9162 4.28987 12.9812 4.48721 12.8895 4.64597C12.8594 4.69807 12.8145 4.74163 12.7597 4.77201L8.54484 7.10634C8.20953 7.29205 7.79063 7.29205 7.45532 7.10634L3.2405 4.77202C3.07335 4.67945 3.01915 4.47933 3.11944 4.32505C3.15235 4.27441 3.19956 4.23299 3.256 4.2052L7.50203 2.11498C7.81345 1.96167 8.18715 1.96168 8.49857 2.11499ZM14 6.02878V10.7642C14 11.1075 13.8049 11.4256 13.486 11.6022L9.24043 13.9536C9.07328 14.0461 8.85649 13.9961 8.7562 13.8418C8.72329 13.7912 8.7059 13.7333 8.7059 13.6742V8.93882C8.7059 8.59551 8.90104 8.27738 9.21997 8.10075L13.4655 5.74942C13.6326 5.65685 13.8494 5.70688 13.9497 5.86116C13.9826 5.91179 14 5.96973 14 6.02878ZM6.5145 8.31192L2.50483 6.04476C2.45303 6.01547 2.39375 6 2.33333 6C2.14924 6 2 6.14064 2 6.31412V10.88C2 11.211 2.1843 11.5178 2.4855 11.6881L6.49517 13.9552C6.54697 13.9845 6.60625 14 6.66667 14C6.85076 14 7 13.8594 7 13.6859V9.12C7 8.78898 6.8157 8.48223 6.5145 8.31192Z",fill:"white"}))}},7024:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Related=void 0;var o=n(4522);e.Related=function(){return(0,o.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 7H12C13.1046 7 14 7.89543 14 9V13C14 14.1046 13.1046 15 12 15H8C6.89543 15 6 14.1046 6 13V9C6 7.89543 6.89543 7 8 7ZM8 13H12V9H8V13Z",fill:"white"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 18H12C13.1046 18 14 18.8954 14 20V24C14 25.1046 13.1046 26 12 26H8C6.89543 26 6 25.1046 6 24V20C6 18.8954 6.89543 18 8 18ZM8 24H12V20H8V24Z",fill:"white"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 7H20C18.8954 7 18 7.89543 18 9V13C18 14.1046 18.8954 15 20 15H24C25.1046 15 26 14.1046 26 13V9C26 7.89543 25.1046 7 24 7ZM24 13H20V9H24V13Z",fill:"white"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20 18H24C25.1046 18 26 18.8954 26 20V24C26 25.1046 25.1046 26 24 26H20C18.8954 26 18 25.1046 18 24V20C18 18.8954 18.8954 18 20 18ZM20 24H24V20H20V24Z",fill:"white"}))}},1223:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Share=void 0;var o=n(4522);e.Share=function(){return(0,o.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22.6667 12.6667C24.5076 12.6667 26 11.1743 26 9.33333C26 7.49238 24.5076 6 22.6667 6C20.8257 6 19.3333 7.49238 19.3333 9.33333C19.3333 9.38882 19.3347 9.44399 19.3374 9.49881L11.9575 13.9443C11.3473 13.1665 10.3987 12.6667 9.33333 12.6667C7.49238 12.6667 6 14.1591 6 16C6 17.8409 7.49238 19.3333 9.33333 19.3333C10.3981 19.3333 11.3462 18.8341 11.9564 18.057L19.3374 22.5013C19.3347 22.5561 19.3333 22.6112 19.3333 22.6667C19.3333 24.5076 20.8257 26 22.6667 26C24.5076 26 26 24.5076 26 22.6667C26 20.8257 24.5076 19.3333 22.6667 19.3333C21.6074 19.3333 20.6636 19.8274 20.053 20.5976L12.864 16.2689L12.8651 15.7324L20.0531 11.4025C20.6637 12.1727 21.6075 12.6667 22.6667 12.6667ZM22.6667 10.6667C21.9303 10.6667 21.3333 10.0697 21.3333 9.33333C21.3333 8.59695 21.9303 8 22.6667 8C23.403 8 24 8.59695 24 9.33333C24 10.0697 23.403 10.6667 22.6667 10.6667ZM9.33333 17.3333C8.59695 17.3333 8 16.7364 8 16C8 15.2636 8.59695 14.6667 9.33333 14.6667C10.0697 14.6667 10.6667 15.2636 10.6667 16C10.6667 16.7364 10.0697 17.3333 9.33333 17.3333ZM21.3333 22.6667C21.3333 23.403 21.9303 24 22.6667 24C23.403 24 24 23.403 24 22.6667C24 21.9303 23.403 21.3333 22.6667 21.3333C21.9303 21.3333 21.3333 21.9303 21.3333 22.6667Z",fill:"white"}))}},2489:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Switch=void 0;var o=n(4522);e.Switch=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M17.6744 9.27934L21.7563 13.3632L21.8282 13.4537L21.887 13.5492L21.9333 13.6489L21.9684 13.7556L21.9824 13.8172L21.9974 13.929L22 14L21.9897 14.1405L21.9824 14.1828L21.9535 14.2949L21.9231 14.3759L21.887 14.4508L21.8281 14.5463L21.7763 14.6137L21.7207 14.6744L17.6744 18.7207C17.3019 19.0931 16.6981 19.0931 16.3256 18.7207C15.9818 18.3769 15.9554 17.8359 16.2463 17.4617L16.3256 17.3719L18.7439 14.9536L12.9537 14.9537C12.4675 14.9537 12.0663 14.5899 12.0074 14.1196L12 14C12 13.5109 12.3682 13.1078 12.8425 13.0527L12.9537 13.0463L18.7426 13.0451L16.3256 10.6281C15.9798 10.2823 15.9551 9.73687 16.2515 9.36252L16.3256 9.27934C16.6981 8.90689 17.3019 8.90689 17.6744 9.27934ZM6.32562 5.27934C6.69807 4.90689 7.30193 4.90689 7.67438 5.27934L7.74849 5.36252C8.04493 5.73687 8.02023 6.28225 7.67438 6.6281L5.2574 9.04508L11.0463 9.04628L11.1575 9.0527C11.6318 9.10779 12 9.5109 12 10L11.9926 10.1196C11.9337 10.5899 11.5325 10.9537 11.0463 10.9537L5.25605 10.9536L7.67438 13.3719L7.75372 13.4617C8.04463 13.8359 8.01818 14.3769 7.67438 14.7207C7.30193 15.0931 6.69807 15.0931 6.32562 14.7207L2.25793 10.6523L2.18664 10.5668L2.12413 10.4708L2.07695 10.3759L2.03697 10.2639L2.01028 10.1405L2 10C2 9.95226 2.00351 9.90534 2.01036 9.85937L2.01758 9.81716L2.04651 9.70514L2.08932 9.59642L2.12415 9.52899L2.18631 9.43351L2.24369 9.36325L6.32562 5.27934Z",fill:"white"}))}},4820:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Icon=e.IconSize=void 0;var o,r=n(4522),i=n(42),a=n(1861),s=n(3278);!function(t){t.small="small",t.medium="medium",t.large="large"}(o=e.IconSize||(e.IconSize={})),e.Icon=function(t){var e=a.Icons[t.name];return e?(0,r.h)("div",{className:i(s.iconWrapper,s[t.size])},(0,r.h)(e,null)):null},e.Icon.defaultProps={size:o.medium}},573:function(t,e,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,r)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||o(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(197),e),r(n(6265),e),r(n(1644),e),r(n(5454),e),r(n(172),e)},2980:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},1644:function(t,e,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,r)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||o(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(2980),e)},1365:function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BannerContainer=void 0;var i=n(4522),a=n(6502),s=n(8482),l=n(334),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(t){var e=this.props.theme,n=e.backgroundColor,o=e.blur;return(0,i.h)("div",{className:a.bannerContainerRoot,"aria-live":"polite"},(0,i.h)("div",{style:"\n                background-color:".concat(n,"; \n                backdrop-filter: blur(").concat(o,");\n             "),className:a.bannerContainer},(0,i.h)("button",{className:a.closeButton,onClick:t.onClose},(0,i.h)(s.CloseSmall,{className:a.small}),(0,i.h)(l.CloseLarge,{className:a.large})),this.props.children))},e}(i.Component);e.BannerContainer=c},334:function(t,e,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.CloseLarge=void 0;var r=n(4522);e.CloseLarge=function(t){return(0,r.h)("svg",o({width:"32px",height:"32px",viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},t),(0,r.h)("g",{id:"Icons/32x32/Menu-Player-Close",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},(0,r.h)("path",{d:"M17.4142136,16 L22.363961,20.9497475 C22.7544853,21.3402718 22.7544853,21.9734367 22.363961,22.363961 C21.9734367,22.7544853 21.3402718,22.7544853 20.9497475,22.363961 L16,17.4142136 L11.0502525,22.363961 C10.6597282,22.7544853 10.0265633,22.7544853 9.63603897,22.363961 C9.24551468,21.9734367 9.24551468,21.3402718 9.63603897,20.9497475 L14.5857864,16 L9.63603897,11.0502525 C9.24551468,10.6597282 9.24551468,10.0265633 9.63603897,9.63603897 C10.0265633,9.24551468 10.6597282,9.24551468 11.0502525,9.63603897 L16,14.5857864 L20.9497475,9.63603897 C21.3402718,9.24551468 21.9734367,9.24551468 22.363961,9.63603897 C22.7544853,10.0265633 22.7544853,10.6597282 22.363961,11.0502525 L17.4142136,16 Z",id:"Path",fill:"#FFFFFF"})))}},8482:function(t,e,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.CloseSmall=void 0;var r=n(4522);e.CloseSmall=function(t){return(0,r.h)("svg",o({xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 10 10"},t),(0,r.h)("path",{fill:"#FFF","fill-rule":"evenodd",d:"M5.956 5l3.348-3.348A.674.674 0 0 0 9.3.7a.672.672 0 0 0-.952-.004L5 4.044 1.652.696A.674.674 0 0 0 .7.7a.672.672 0 0 0-.004.952L4.044 5 .696 8.348A.674.674 0 0 0 .7 9.3c.265.266.69.266.952.004L5 5.956l3.348 3.348c.262.262.689.26.952-.004a.672.672 0 0 0 .004-.952L5.956 5z",opacity:".9"}))}},5827:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BannerContainer=void 0;var o=n(1365);Object.defineProperty(e,"BannerContainer",{enumerable:!0,get:function(){return o.BannerContainer}})},9673:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BannerManager=e.VisibilityMode=void 0;var o,r=n(7720),i=n(4522),a=n(4570),s=n(5827),l=n(7863),c=n(8853);!function(t){t.VISIBLE="VISIBLE",t.HIDDEN="HIDDEN"}(o=e.VisibilityMode||(e.VisibilityMode={}));var u={theme:{backgroundColor:"rgba(0, 0, 0, .7)",blur:"10px"}},p=function(){function t(t){this.options=t,this._floatingItem=null,this._timerSubscription=void 0,this._options=t,this._bannerConfig=(0,c.getContribConfig)(this._options.kalturaPlayer,"ui.banner",u)}return t.prototype.add=function(t){return this._floatingItem&&this.remove(),this._floatingItem=this._options.floatingManager.add({label:"Banner",mode:r.FloatingUIModes.Immediate,position:r.FloatingPositions.InteractiveArea,renderContent:this._createRenderBanner(t,{onClose:this._handleCloseEvent.bind(this),theme:this._bannerConfig.theme})}),t.autoClose&&this._startDurationTimer(t.duration),this._getState()},t.prototype.remove=function(){this._floatingItem&&(this._timerSubscription&&clearTimeout(this._timerSubscription),this._options.floatingManager.remove(this._floatingItem),this._floatingItem=null)},t.prototype.reset=function(){this.remove()},t.prototype._createRenderBanner=function(t,e){var n=t.content,o=t.renderContent,r=e.onClose,l=e.theme;return function(t){return(0,i.h)(s.BannerContainer,{onClose:r,theme:l},o?o(n,t):(0,i.h)(a.Banner,{content:n}))}},t.prototype._handleCloseEvent=function(){this.remove()},t.prototype._startDurationTimer=function(t){void 0===t&&(t=6e4),this._timerSubscription=setTimeout(this.remove.bind(this),Math.max(5e3,t))},t.prototype._getState=function(){var t=(0,l.getPlayerSize)(this._options.kalturaPlayer);return{visibilityMode:!t||t.width<480?o.HIDDEN:o.VISIBLE}},t}();e.BannerManager=p},6797:function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Banner=void 0;var i=n(4522),a=n(9480),s=n(5316),l=n(6339),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(t){var e=t.content,n=e.text,o=e.title,r=void 0===o?"Audience asks:":o,s=e.icon,l=void 0===s?this._defaultIcon():s;return(0,i.h)("div",{className:a.defaultBannerRoot+" "+a.bannerWrapper},(0,i.h)("div",{className:a.iconContainer},(0,i.h)("div",{className:a.iconWrapper},l)),(0,i.h)("div",{className:a.bannerBody},(0,i.h)("div",{className:a.title},r),(0,i.h)("div",{className:a.text},n)))},e.prototype._defaultIcon=function(){return(0,i.h)("div",{className:a.iconImage},(0,i.h)(s.SomeoneAsksLarge,{className:a.large}),(0,i.h)(l.SomeoneAsksSmall,{className:a.small}))},e}(i.Component);e.Banner=c},4570:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Banner=void 0;var o=n(6797);Object.defineProperty(e,"Banner",{enumerable:!0,get:function(){return o.Banner}})},5316:function(t,e,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.SomeoneAsksLarge=void 0;var r=n(4522);e.SomeoneAsksLarge=function(t){return(0,r.h)("svg",o({width:"32px",height:"32px",viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},t),(0,r.h)("g",{id:"Icons/32/Someone-asks",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},(0,r.h)("g",{id:"Group",transform:"translate(4.000000, 5.000000)",fill:"#B2D238"},(0,r.h)("ellipse",{id:"Oval",cx:"12",cy:"5.5",rx:"6",ry:"5.5"}),(0,r.h)("path",{d:"M12,13 C7.995,13 0,15.01 0,19 L0,20.5 C0,21.325 0.675,22 1.5,22 L22.5,22 C23.325,22 24,21.325 24,20.5 L24,19 C24,15.01 16.005,13 12,13 Z",id:"Path"}))))}},6339:function(t,e,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.SomeoneAsksSmall=void 0;var r=n(4522);e.SomeoneAsksSmall=function(t){return(0,r.h)("svg",o({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},t),(0,r.h)("g",{id:"Icons/20/Someone-asks",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},(0,r.h)("g",{id:"Group",transform:"translate(2.000000, 2.000000)",fill:"#B2D238"},(0,r.h)("circle",{id:"Oval",cx:"8",cy:"4",r:"4"}),(0,r.h)("path",{d:"M8,9 C5.33,9 0,10.5633333 0,13.6666667 L0,14.8333333 C0,15.475 0.45,16 1,16 L15,16 C15.55,16 16,15.475 16,14.8333333 L16,13.6666667 C16,10.5633333 10.67,9 8,9 Z",id:"Path"}))))}},6908:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContribServices=e.getPlayerContribRegistry=void 0;var o=n(8717),r=n(3199),i=n(5753),a=n(8529),s=n(9673);function l(t){return o.PlayerContribRegistry.get(t)}e.getPlayerContribRegistry=l;var c=function(){function t(t,e){var n=this;this._playerContribRegistry=t,this._options=e,this._registered=!1,this._addListeners=function(){var t=n._options.kalturaPlayer;t.addEventListener(t.Event.PLAYER_RESET,n.reset),t.addEventListener(t.Event.PLAYER_DESTROY,n._removeListeners)},this._removeListeners=function(){var t=n._options.kalturaPlayer;t.removeEventListener(t.Event.PLAYER_RESET,n.reset),t.removeEventListener(t.Event.PLAYER_DESTROY,n._removeListeners)},this.register=function(){return n._registered?[]:(n._registered=!0,n._presetManager.registerComponents())},this.reset=function(){n._toastManager.reset(),n._floatingManager.reset(),n._bannerManager.reset()},this.destroy=function(){n._registered=!1};var o=this._options.kalturaPlayer,l=new r.PresetManager({kalturaPlayer:o}),c=new a.FloatingManager({kalturaPlayer:o,presetManager:l}),u=new i.ToastManager({floatingManager:c}),p=new s.BannerManager({kalturaPlayer:o,floatingManager:c});this._toastManager=u,this._floatingManager=c,this._presetManager=l,this._bannerManager=p,this._addListeners()}return t.get=function(e){var n=l(e.kalturaPlayer);return n.register("ContribServices",(function(){return new t(n,e)}))},Object.defineProperty(t.prototype,"presetManager",{get:function(){return this._presetManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"floatingManager",{get:function(){return this._floatingManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toastManager",{get:function(){return this._toastManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bannerManager",{get:function(){return this._bannerManager},enumerable:!1,configurable:!0}),t}();e.ContribServices=c},8853:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getContribConfig=void 0;var o=n(5816);e.getContribConfig=function(t,e,n,r){return o.KalturaPlayerUtils.getPlayerConfig(t,"contrib.".concat(e),n,r)}},5092:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(4522);e.default=function(t,e,n){return(0,o.h)("a",{href:t,key:n,target:"_blank",rel:"noopener noreferrer"},e)}},8842:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EventsManager=void 0;var n=function(){function t(){this._eventListeners={},this._wildcardEventListeners=[]}return t.prototype.on=function(t,e){"*"!==t?(this._eventListeners[t]||(this._eventListeners[t]=[])).push(e):this._wildcardEventListeners.push(e)},t.prototype.off=function(t,e){if("*"!==t){var n=this._eventListeners[t];n&&n.splice(n.indexOf(e)>>>0,1)}else this._wildcardEventListeners.splice(this._wildcardEventListeners.indexOf(e)>>>0,1)},t.prototype.emit=function(t){(this._eventListeners[t.type]||[]).slice().map((function(e){e(t)})),this._wildcardEventListeners.slice().map((function(e){e(t)}))},t}();e.EventsManager=n},7720:function(t,e){"use strict";var n,o;Object.defineProperty(e,"__esModule",{value:!0}),e.FloatingPositions=e.FloatingUIModes=void 0,(o=e.FloatingUIModes||(e.FloatingUIModes={})).MediaLoaded="MediaLoaded",o.OnDemand="OnDemand",o.Immediate="Immediate",o.FirstPlay="FirstPlay",(n=e.FloatingPositions||(e.FloatingPositions={})).VideoArea="VideoArea",n.PresetArea="PresetArea",n.InteractiveArea="InteractiveArea"},5921:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FloatingItem=void 0;var o=n(4522),r=n(7720),i=n(9017),a=function(){function t(t){var e=this;this._destroyed=!1,this._isShown=!1,this._componentRef=null,this.remove=function(){e._isShown=!1,e._componentRef&&e._componentRef.update()},this.add=function(){e._isShown=!0,e._componentRef&&e._componentRef.update()},this._handleMediaLoaded=function(){var t=e._options.kalturaPlayer;t.removeEventListener(t.Event.MEDIA_LOADED,e._handleMediaLoaded),e.add()},this._handleFirstPlay=function(){var t=e._options.kalturaPlayer;t.removeEventListener(t.Event.FIRST_PLAY,e._handleFirstPlay),e.add()},this._options=t,this._addPlayerBindings()}return Object.defineProperty(t.prototype,"data",{get:function(){return this._options.data},enumerable:!1,configurable:!0}),t.prototype.update=function(){this._componentRef&&this._componentRef.update()},t.prototype.destroy=function(){this._destroyed=!0,this.remove()},t.prototype.renderFloatingChild=function(t){var e=this,n=this._options.data.label;return(0,o.h)(i.ManagedComponent,{label:n,renderChildren:function(){return e._options.data.renderContent(t)},isShown:function(){return e._isShown},ref:function(t){return e._componentRef=t}})},t.prototype._addPlayerBindings=function(){var t=this._options,e=t.kalturaPlayer,n=t.data;n.mode===r.FloatingUIModes.MediaLoaded&&e.addEventListener(e.Event.MEDIA_LOADED,this._handleMediaLoaded),n.mode===r.FloatingUIModes.FirstPlay&&e.addEventListener(e.Event.FIRST_PLAY,this._handleFirstPlay),n.mode===r.FloatingUIModes.Immediate&&this.add()},t}();e.FloatingItem=a},8529:function(t,e,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},r=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.FloatingManager=void 0;var i=n(5921),a=n(7720),s=n(3199),l=n(4522),c=n(7863),u=n(9017),p=n(7417),_=n(8853),d={presetAreasMapping:{Playback:{VideoArea:"VideoArea",PresetArea:"PresetArea",InteractiveArea:"InteractiveArea"},Live:{VideoArea:"VideoArea",PresetArea:"PresetArea",InteractiveArea:"InteractiveArea"}}},h=["VideoArea","PresetArea","InteractiveArea"],A=function(){function t(t){var e,n,o=this;this._options=t,this._items=((e={})[a.FloatingPositions.VideoArea]=[],e[a.FloatingPositions.InteractiveArea]=[],e[a.FloatingPositions.PresetArea]=[],e),this._componentRef=((n={})[a.FloatingPositions.InteractiveArea]=null,n[a.FloatingPositions.VideoArea]=null,n[a.FloatingPositions.PresetArea]=null,n),this._cache={canvas:{playerSize:{width:0,height:0},videoSize:{width:0,height:0}}},this._renderItems=function(t){var e=o._getRendererProps({});return o._items[t].map((function(t){return t.renderFloatingChild(e)}))},this._renderChild=function(t){return(0,l.h)(u.ManagedComponent,{label:"floating-manager",renderChildren:function(){return o._renderItems(t)},isShown:function(){return!0},ref:function(e){return o._componentRef[t]=e}})},this._floatingConfig=(0,_.getContribConfig)(this._options.kalturaPlayer,"ui.floating",d,{explicitMerge:["presetAreasMapping"]});var r=p.PresetsUtils.groupPresetAreasByType({presetAreasMapping:this._floatingConfig.presetAreasMapping,acceptableTypes:h});Object.keys(r).forEach((function(t){o._options.presetManager.add({label:"floating-manager",presetAreas:r[t],renderChild:function(){return o._renderChild(a.FloatingPositions[t])}})})),this._addPlayerBindings(),this._updateCachedCanvas()}return t.prototype.add=function(t){var e=this._options.presetManager,n=o(o({presetManager:e},this._options),{data:t}),r=new i.FloatingItem(n);return this._items[t.position].push(r),r},t.prototype.remove=function(t){var e=this._items[t.data.position],n=e.indexOf(t);n>-1?(e[n].destroy(),e.splice(n,1)):console.warn("couldn't remove ".concat(t," since it wasn't found"))},t.prototype.reset=function(){r(r(r([],this._items.VideoArea,!0),this._items.InteractiveArea,!0),this._items.PresetArea,!0).forEach((function(t){try{t.destroy()}catch(t){console.warn(t)}})),this._items.VideoArea=[],this._items.PresetArea=[],this._items.InteractiveArea=[]},t.prototype._getRendererProps=function(t){var e=this._options.kalturaPlayer;return{currentTime:void 0!==t.currentTime?t.currentTime:1e3*e.currentTime,canvas:this._cache.canvas}},t.prototype._updateCachedCanvas=function(){this._cache.canvas={playerSize:(0,c.getPlayerSize)(this._options.kalturaPlayer),videoSize:(0,c.getVideoSize)(this._options.kalturaPlayer)}},t.prototype._updateComponents=function(){this._componentRef.InteractiveArea&&this._componentRef.InteractiveArea.update(),this._componentRef.PresetArea&&this._componentRef.PresetArea.update(),this._componentRef.VideoArea&&this._componentRef.VideoArea.update()},t.prototype._addPlayerBindings=function(){var t=this,e=this._options.kalturaPlayer;e.addEventListener(e.Event.TIME_UPDATE,(function(){t._updateComponents()})),e.addEventListener(e.Event.MEDIA_LOADED,(function(){t._updateCachedCanvas(),t._updateComponents()})),e.addEventListener(e.Event.LOADED_DATA,(function(){t._updateCachedCanvas(),t._updateComponents()})),this._options.presetManager.on(s.PresetManagerEventTypes.VideoResizeEvent,(function(){t._updateCachedCanvas(),t._updateComponents()})),this._options.presetManager.on(s.PresetManagerEventTypes.PresetResizeEvent,(function(){t._updateCachedCanvas(),t._updateComponents()}))},t}();e.FloatingManager=A},197:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkifyString=e.VisibilityMode=e.BannerManager=e.FloatingUIModes=e.FloatingPositions=e.FloatingItem=e.ToastSeverity=e.ContribServices=void 0;var o=n(6908);Object.defineProperty(e,"ContribServices",{enumerable:!0,get:function(){return o.ContribServices}});var r=n(5753);Object.defineProperty(e,"ToastSeverity",{enumerable:!0,get:function(){return r.ToastSeverity}});var i=n(5921);Object.defineProperty(e,"FloatingItem",{enumerable:!0,get:function(){return i.FloatingItem}});var a=n(7720);Object.defineProperty(e,"FloatingPositions",{enumerable:!0,get:function(){return a.FloatingPositions}}),Object.defineProperty(e,"FloatingUIModes",{enumerable:!0,get:function(){return a.FloatingUIModes}});var s=n(9673);Object.defineProperty(e,"BannerManager",{enumerable:!0,get:function(){return s.BannerManager}}),Object.defineProperty(e,"VisibilityMode",{enumerable:!0,get:function(){return s.VisibilityMode}});var l=n(8849);Object.defineProperty(e,"LinkifyString",{enumerable:!0,get:function(){return l.LinkifyString}})},5161:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InjectedComponent=void 0;var o=n(413);Object.defineProperty(e,"InjectedComponent",{enumerable:!0,get:function(){return o.InjectedComponent}})},413:function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.InjectedComponent=void 0;var i=n(4522),a=n(4367),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._root=null,e}return r(e,t),e.prototype.shouldComponentUpdate=function(){return!1},e.prototype.componentDidMount=function(){var t=this.props,e=t.onCreate;if(t.label,e){var n=this._root;n&&e({parent:n})}},e.prototype.componentWillUnmount=function(){var t=this.props,e=t.onDestroy,n=(t.label,this._root);n&&e&&e({parent:n})},e.prototype.render=function(){var t=this,e=this.props,n=e.label,o=e.fillContainer?a.fillContainer:"";return(0,i.h)("div",{"data-contrib-injected":n,className:o,ref:function(e){return t._root=e}})},e}(i.Component);e.InjectedComponent=s},5816:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KalturaPlayerUtils=void 0;var o=n(9442),r=function(){function t(){}return t.getPlayerConfig=function(t,e,n,r){var i=o.ObjectUtils.get(t.config,e,{});return o.ObjectUtils.mergeDefaults(i,n,r)},t}();e.KalturaPlayerUtils=r},8849:function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LinkifyString=void 0;var i=n(4522),a=n(3708),s=n(5092),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._linkify=new a,e}return r(e,t),e.prototype._parseString=function(t){var e=this;if(0===(t||"").trim().length)return"";var n=this._linkify.match(t);if(!n)return t;var o=[],r=0;return n.forEach((function(n,i){n.index>r&&o.push(t.substring(r,n.index));var a=n.url,s=n.text,l=e.props.componentRenderer(a,s,i);o.push(l),r=n.lastIndex})),t.length>r&&o.push(t.substring(r)),1===o.length?o[0]:o},e.prototype.render=function(){return(0,i.h)("span",null,this._parseString(this.props.text))},e.defaultProps={componentRenderer:s.default},e}(i.Component);e.LinkifyString=l},9017:function(t,e,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,r)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||o(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(3692),e)},3692:function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ManagedComponent=void 0;var a=n(4522),s=n(4022),l=KalturaPlayer.ui.redux.connect,c=function(t){return{playerSize:t.shell.playerSize}},u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.update=function(){this.setState((function(t){return{toggler:!t.toggler}}))},e.prototype.shouldComponentUpdate=function(t){var e=this.props,n=e.updateOnPlayerSizeChanged,o=e.playerSize;return n&&t.playerSize!==o||t.playerSize===o},e.prototype.componentDidMount=function(){this.setState({toggler:!1})},e.prototype.render=function(){var t=this.props,e=t.fillContainer,n=t.isShown,o=t.playerSize;return n()?(0,a.h)("div",{"data-contrib-item":this.props.label,className:"".concat(e?s.fillContainer:"")},this.props.renderChildren(o)):null},e.defaultProps={fillContainer:!1},i([l(c,null,null,{forwardRef:!0})],e)}(a.Component);e.ManagedComponent=u},9442:function(t,e){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectUtils=void 0;var o=function(){function t(){}return t.copyDeep=function(e){var n;return Array.isArray(e)?(n=e.length>0?e.slice(0):[]).forEach((function(e,o){("object"==typeof e&&e!=={}||Array.isArray(e)&&e.length>0)&&(n[o]=t.copyDeep(e))})):"object"==typeof e?(n=Object.assign({},e),Object.keys(n).forEach((function(e){("object"==typeof n[e]&&n[e]!=={}||Array.isArray(n[e])&&n[e].length>0)&&(n[e]=t.copyDeep(n[e]))}))):n=e,n},t.isObject=function(t){return t&&"object"==typeof t&&!Array.isArray(t)},t.mergeDeep=function(e,n,o){var r,i;if(!n.length)return e;var a=(o?o.explicitMerge:null)||[],s=n.shift();if(t.isObject(e)&&t.isObject(s))for(var l in s)t.isObject(s[l])?(e[l]||Object.assign(e,((r={})[l]={},r)),-1!==a.indexOf(l)?e[l]=t.explicitFlatMerge(e[l],s[l]):t.mergeDeep(e[l],[s[l]],o)):Object.assign(e,((i={})[l]=s[l],i));return t.mergeDeep(e,n,o)},t.mergeDefaults=function(e,n,o){return t.mergeDeep({},[n,e],o)},t.explicitFlatMerge=function(t,e){var o=n({},t);return Object.keys(e).forEach((function(t){null===e[t]||0===Object.keys(e[t]).length?delete o[t]:o[t]=e[t]})),o},t.get=function(t,e,n){for(var o=function(t){var e=[];return t.split(".").forEach((function(t){t.split(/\[([^}]+)\]/g).forEach((function(t){t.length>0&&e.push(t)}))})),e}(e),r=t,i=0;i<o.length;i++){if(!r[o[i]])return n;r=r[o[i]]}return r},t}();e.ObjectUtils=o},8717:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PlayerContribRegistry=void 0;var n=function(){function t(){this._cache={}}return t.get=function(e){return e.__contrib__=e.__contrib__||{},e.__contrib__.services=e.__contrib__.services||new t,e.__contrib__.services},t.prototype.get=function(t){var e=this._cache[t];if(!e)throw new Error("cannot find resource with token ".concat(t));return e},t.prototype.register=function(t,e){var n=this._cache[t];return n||(n=this._cache[t]={instance:e()}),n.instance},t}();e.PlayerContribRegistry=n},7863:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getVideoSize=e.getPlayerSize=void 0,e.getPlayerSize=function(t){return t?t.dimensions:{width:0,height:0}},e.getVideoSize=function(t){if(!t)return{width:0,height:0};var e=t.getActiveTracks().video;return e&&void 0!==e.width&&void 0!==e.height?{width:e.width,height:e.height}:t.getVideoElement()?{width:t.getVideoElement().videoWidth,height:t.getVideoElement().videoHeight}:{width:0,height:0}}},6109:function(t,e){"use strict";var n,o,r;Object.defineProperty(e,"__esModule",{value:!0}),e.RelativeToTypes=e.ReservedPresetAreas=e.ReservedPresetNames=void 0,(r=e.ReservedPresetNames||(e.ReservedPresetNames={})).Playback="Playback",r.Live="Live",(o=e.ReservedPresetAreas||(e.ReservedPresetAreas={})).PresetFloating="PresetFloating",o.BottomBarLeftControls="BottomBarLeftControls",o.BottomBarRightControls="BottomBarRightControls",o.TopBarLeftControls="TopBarLeftControls",o.TopBarRightControls="TopBarRightControls",o.SidePanelTop="SidePanelTop",o.SidePanelLeft="SidePanelLeft",o.SidePanelRight="SidePanelRight",o.SidePanelBottom="SidePanelBottom",o.PresetArea="PresetArea",o.InteractiveArea="InteractiveArea",o.PlayerArea="PlayerArea",o.VideoArea="VideoArea",(n=e.RelativeToTypes||(e.RelativeToTypes={})).Before="Before",n.After="After",n.Replace="Replace"},6513:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PresetItem=void 0;var o=n(4522),r=n(6109),i=n(5161),a=function(){function t(t){var e=this;this._render=function(){if(e._options.data.isolateComponent){var t=e._options.data,n=t.label,r=t.fillContainer;return(0,o.h)(i.InjectedComponent,{label:n,fillContainer:r||!1,onCreate:e._onCreate,onDestroy:e._onDestroy})}return e._options.data.renderChild()},this._onDestroy=function(t){t.parent&&(0,o.render)(null,t.parent)},this._onCreate=function(t){try{if(!t.parent)return;var n=e._options.data.renderChild();if(!n)return;(0,o.render)(n,t.parent)}catch(t){}},this._options=t}return Object.defineProperty(t.prototype,"playerConfig",{get:function(){var t=[];for(var e in this._options.data.presetAreas){var n=this._options.data.presetAreas[e],o=this._options.data.relativeTo;if(n){var i={label:this._options.data.label,presets:[e],container:n,get:this._render};if(o)switch(o.type){case r.RelativeToTypes.After:i.afterComponent=o.name;break;case r.RelativeToTypes.Before:i.beforeComponent=o.name;break;case r.RelativeToTypes.Replace:i.replaceComponent=o.name}t.push(i)}}return t},enumerable:!1,configurable:!0}),t}();e.PresetItem=a},3199:function(t,e,n){"use strict";var o=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.PresetManager=e.PresetManagerEventTypes=void 0;var r,i=n(4522),a=n(6513),s=n(8842),l=n(6227),c=n(7417),u=n(8853);!function(t){t.PresetResizeEvent="PresetResizeEvent",t.VideoResizeEvent="VideoResizeEvent"}(r=e.PresetManagerEventTypes||(e.PresetManagerEventTypes={}));var p=["PlayerArea"],_={presetAreasMapping:{Playback:{PlayerArea:"PlayerArea"},Live:{PlayerArea:"PlayerArea"}}},d=function(){function t(t){var e=this;this._events=new s.EventsManager,this._isLocked=!1,this._items=[],this._pendingItems=[],this._registerToPlayer=function(t){t.addEventListener(KalturaPlayer.ui.EventType.UI_PRESET_RESIZE,e._notifyUIPresetResize),t.addEventListener(KalturaPlayer.ui.EventType.VIDEO_RESIZE,e._notifyVideoResize)},this._notifyVideoResize=function(){e._events.emit({type:r.VideoResizeEvent})},this._notifyUIPresetResize=function(){e._events.emit({type:r.PresetResizeEvent})},this._unregisterToPlayer=function(t){t.removeEventListener(KalturaPlayer.ui.EventType.UI_PRESET_RESIZE,e._notifyUIPresetResize),t.removeEventListener(KalturaPlayer.ui.EventType.VIDEO_RESIZE,e._notifyVideoResize)},this.on=this._events.on.bind(this._events),this.off=this._events.off.bind(this._events),this._options=t,this._presetConfig=(0,u.getContribConfig)(this._options.kalturaPlayer,"ui.preset",_,{explicitMerge:["presetAreasMapping"]});var n=c.PresetsUtils.groupPresetAreasByType({presetAreasMapping:this._presetConfig.presetAreasMapping,acceptableTypes:p});this.add({label:"preset-manager",presetAreas:n.PlayerArea,renderChild:function(){return(0,i.h)(l.UIPlayerAdapter,{onMount:e._registerToPlayer,onUnmount:e._unregisterToPlayer})}})}return t.prototype.add=function(t){if(this._isLocked)return console.warn("cannot add new preset items once player completed its' setup phase"),null;var e=new a.PresetItem({kalturaPlayer:this._options.kalturaPlayer,data:t});this._pendingItems.push(e)},t.prototype.lockManager=function(){this._isLocked=!0},t.prototype.registerComponents=function(){var t=[];return this._pendingItems.forEach((function(e){t=o(o([],t,!0),e.playerConfig,!0)})),this._items=o(o([],this._items,!0),this._pendingItems,!0),this._pendingItems=[],t.filter(Boolean)},t}();e.PresetManager=d},7417:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PresetsUtils=void 0;var n=function(){function t(){}return t.groupPresetAreasByType=function(t){var e=t.presetAreasMapping,n=t.acceptableTypes,o={};return n.forEach((function(t){return o[t]={}})),Object.keys(e).forEach((function(t){Object.keys(e[t]).forEach((function(r){-1===n.indexOf(r)||(o[r][t]=e[t][r])}))})),o},t}();e.PresetsUtils=n},5753:function(t,e,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},r=this&&this.__rest||function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n};Object.defineProperty(e,"__esModule",{value:!0}),e.ToastManager=e.ToastSeverity=void 0;var i,a=n(4144),s=n(7720),l=n(4617),c=n(4522);(i=e.ToastSeverity||(e.ToastSeverity={})).Info="Info",i.Success="Success",i.Warn="Warn",i.Error="Error";var u=function(){function t(t){var e=this;this.options=t,this._toasts=[],this._floatingItem=null,this._remove=function(t){var n=e._findToastIndexById(t);-1!==n&&(clearTimeout(e._toasts[n].timerSubscription),e._toasts.splice(n,1),e._updateToastsUI(),0===e._toasts.length&&e._removeToastsContainer())},this._options=t}return t.prototype.add=function(t){var e=t.duration,n=r(t,["duration"]);this._floatingItem||this._addToastsContainer();var i={toastProps:o(o({},n),{id:a.UUID.uuidV1(),onClose:this._remove}),duration:e,timerSubscription:null};this._toasts.push(i),this._updateToastsUI(),this._startDurationTimer(i)},t.prototype.reset=function(){var t=this;this._toasts.forEach((function(e){t._remove(e.toastProps.id)}))},t.prototype._startDurationTimer=function(t){var e=this;t.timerSubscription=setTimeout((function(){e._remove(t.toastProps.id)}),t.duration)},t.prototype._addToastsContainer=function(){var t=this;this._floatingItem=this._options.floatingManager.add({label:"Toasts",mode:s.FloatingUIModes.Immediate,position:s.FloatingPositions.InteractiveArea,renderContent:function(){return(0,c.h)(l.ToastsContainer,{toasts:t._toasts.map((function(t){return t.toastProps}))})}})},t.prototype._removeToastsContainer=function(){this._floatingItem&&(this._options.floatingManager.remove(this._floatingItem),this._floatingItem=null)},t.prototype._updateToastsUI=function(){this._floatingItem&&this._floatingItem.update()},t.prototype._findToastIndexById=function(t){for(var e=0;e<this._toasts.length;){if(this._toasts[e].toastProps.id===t)return e;e++}return-1},t}();e.ToastManager=u},1569:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CloseIcon=void 0;var o=n(4522);e.CloseIcon=function(){return(0,o.h)("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},(0,o.h)("g",{id:"Icons/16/Close",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},(0,o.h)("path",{d:"M8.8497789,8 L11.824005,10.9742261 C12.058665,11.2088861 12.058665,11.5893451 11.824005,11.824005 C11.5893451,12.058665 11.2088861,12.058665 10.9742261,11.824005 L8,8.8497789 L5.02577387,11.824005 C4.7911139,12.058665 4.41065493,12.058665 4.17599497,11.824005 C3.94133501,11.5893451 3.94133501,11.2088861 4.17599497,10.9742261 L7.1502211,8 L4.17599497,5.02577387 C3.94133501,4.7911139 3.94133501,4.41065493 4.17599497,4.17599497 C4.41065493,3.94133501 4.7911139,3.94133501 5.02577387,4.17599497 L8,7.1502211 L10.9742261,4.17599497 C11.2088861,3.94133501 11.5893451,3.94133501 11.824005,4.17599497 C12.058665,4.41065493 12.058665,4.7911139 11.824005,5.02577387 L8.8497789,8 Z",id:"Path",fill:"#cccccc"})))}},3810:function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Toast=void 0;var i=n(4522),a=n(181),s=n(5753),l=n(1569),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={isShown:!0},e._onClick=function(t){e.props.onClick(),e._onClose(t)},e._onClose=function(t){t.stopPropagation(),e.setState({isShown:!1}),e.props.onClose(e.props.id)},e}return r(e,t),e.prototype._getToastSeverityClass=function(){switch(this.props.severity){case s.ToastSeverity.Success:return a.successToast;case s.ToastSeverity.Warn:return a.warnToast;case s.ToastSeverity.Error:return a.errorToast;default:return a.infoToast}},e.prototype.render=function(){var t=this.props,e=t.text,n=t.title,o=t.icon;return(0,i.h)("div",{className:a.toastWrapper+" "+this._getToastSeverityClass(),onClick:this._onClick},(0,i.h)("button",{className:a.closeButton,onClick:this._onClose},(0,i.h)(l.CloseIcon,null)),(0,i.h)("div",{className:a.title},n),(0,i.h)("div",{className:a.toastBody},(0,i.h)("div",{className:a.iconContainer},(0,i.h)("div",{className:a.iconWrapper},o)),(0,i.h)("div",{className:a.text},e)))},e}(i.Component);e.Toast=c},4617:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToastsContainer=void 0;var o=n(7371);Object.defineProperty(e,"ToastsContainer",{enumerable:!0,get:function(){return o.ToastsContainer}})},7371:function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ToastsContainer=void 0;var a=n(4522),s=n(3810),l=n(5579),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){return(0,a.h)("div",{className:l.toastsContainer,"aria-live":"polite"},this.props.toasts.map((function(t){return(0,a.h)("div",{className:l.toastRow,key:t.id},(0,a.h)(s.Toast,i({},t)))})))},e}(a.Component);e.ToastsContainer=c},6227:function(t,e,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,r)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||o(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(9873),e)},9873:function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.UIPlayerAdapter=void 0;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.componentDidMount=function(){this.props.onMount(this.props.player)},e.prototype.componentWillUnmount=function(){this.props.onUnmount(this.props.player)},e.prototype.render=function(t){return null},e.defaultProps={player:null},i([KalturaPlayer.ui.components.withPlayer],e)}(n(4522).Component);e.UIPlayerAdapter=a},4144:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UUID=void 0;var n=function(){function t(){}return t.uuidV1=function(){return"".concat(Date.now(),"-").concat(Math.random())},t}();e.UUID=n},1123:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EventsManager=void 0;var n=function(){function t(){this._eventListeners={},this._wildcardEventListeners=[]}return t.prototype.on=function(t,e){"*"!==t?(this._eventListeners[t]||(this._eventListeners[t]=[])).push(e):this._wildcardEventListeners.push(e)},t.prototype.off=function(t,e){if("*"!==t){var n=this._eventListeners[t];n&&n.splice(n.indexOf(e)>>>0,1)}else this._wildcardEventListeners.splice(this._wildcardEventListeners.indexOf(e)>>>0,1)},t.prototype.emit=function(t){(this._eventListeners[t.type]||[]).slice().map((function(e){e(t)})),this._wildcardEventListeners.slice().map((function(e){e(t)}))},t}();e.EventsManager=n},6265:function(t,e,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,r)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||o(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(1123),e),r(n(4300),e)},4300:function(t,e){"use strict";function n(){return"undefined"==typeof Storage?o():((t=localStorage.getItem("anonymousUserId"))||(t=o(),localStorage.setItem("anonymousUserId",t)),t);var t}function o(){return"##".concat("Guest").concat("HashSeparator").concat(function(){for(var t=(0,e.generateId)(),n="",o=0;o<t.length;o++){var r=t.charAt(o);n+=Number.isNaN(+r)?r.charCodeAt(0):r}return n}(),"##")}Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=e.getQnaUserId=e.getUserId=e.generateId=void 0,e.generateId=function(){return(new Date).getTime().toString(36)+Math.random().toString(36).slice(2)},e.getUserId=n,e.getQnaUserId=function(t){var e,o,r,i,a=t,s=a.config,l=a.plugins,c=(null==s?void 0:s.session)||{},u=(null===(o=null===(e=null==l?void 0:l.qna)||void 0===e?void 0:e.config)||void 0===o?void 0:o.userRole)||c.userRole;return u&&"anonymousRole"!==u?(null===(i=null===(r=null==l?void 0:l.qna)||void 0===r?void 0:r.config)||void 0===i?void 0:i.userId)||c.userId:n()},e.debounce=function(t,e,n){var o;return void 0===e&&(e=50),void 0===n&&(n={isImmediate:!1}),function(){for(var r=this,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=function(){o=void 0,n.isImmediate||t.apply(r,i)},l=n.isImmediate&&void 0===o;void 0!==o&&clearTimeout(o),o=setTimeout(s,e),l&&t.apply(this,i)}}},42:function(t,e){var n;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var i=typeof n;if("string"===i||"number"===i)t.push(n);else if(Array.isArray(n)){if(n.length){var a=r.apply(null,n);a&&t.push(a)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){t.push(n.toString());continue}for(var s in n)o.call(n,s)&&n[s]&&t.push(s)}}}return t.join(" ")}t.exports?(r.default=r,t.exports=r):void 0===(n=function(){return r}.apply(e,[]))||(t.exports=n)}()},6298:function(t,e,n){"use strict";n.r(e);var o=n(559),r=n.n(o),i=n(3476),a=n.n(i)()(r());a.push([t.id,".Button__button___NM3Vl{display:flex;justify-content:center;align-items:center;flex-wrap:nowrap;font-weight:700;border:1px solid rgba(0,0,0,0);border-radius:4px;cursor:pointer}.Button__button___NM3Vl.Button__primary___vkWyL{background-color:var(--playkit-primary-color);color:var(--playkit-primary-text-contrast-color)}.Button__button___NM3Vl.Button__primary___vkWyL:not(.Button__disabled___j4KjS):hover{background-color:var(--playkit-primary-darker-color)}.Button__button___NM3Vl.Button__primary___vkWyL:not(.Button__disabled___j4KjS):focus{background-color:var(--playkit-primary-brighter-color)}.Button__button___NM3Vl.Button__danger___lCKPq{background-color:var(--playkit-danger-color);color:var(--playkit-danger-text-contrast-color)}.Button__button___NM3Vl.Button__danger___lCKPq:not(.Button__disabled___j4KjS):hover{background-color:var(--playkit-danger-darker-color)}.Button__button___NM3Vl.Button__danger___lCKPq:not(.Button__disabled___j4KjS):focus{background-color:var(--playkit-danger-brighter-color)}.Button__button___NM3Vl.Button__translucent___nSc5h{background-color:rgba(0,0,0,.6);color:var(--playkit-primary-text-contrast-color)}.Button__button___NM3Vl.Button__borderless___sov7o{background-color:rgba(0,0,0,0);color:var(--playkit-tone-1-color)}.Button__button___NM3Vl.Button__borderless___sov7o:not(.Button__disabled___j4KjS):hover{background-color:var(--playkit-tone-4-color)}.Button__button___NM3Vl.Button__borderless___sov7o:not(.Button__disabled___j4KjS):focus{background-color:var(--playkit-tone-6-color)}.Button__button___NM3Vl.Button__small____SSTu{height:24px;font-size:13px;line-height:16px;padding:0 4px}.Button__button___NM3Vl.Button__small____SSTu.Button__withIcon___c3vxV{padding-right:8px}.Button__button___NM3Vl.Button__small____SSTu.Button__withIcon___c3vxV>span{margin-left:2px}.Button__button___NM3Vl.Button__small____SSTu.Button__iconOnly___dISNi{padding:0 3px}.Button__button___NM3Vl.Button__medium___psqY1{height:32px;font-size:14px;line-height:17px;padding:0 8px}.Button__button___NM3Vl.Button__medium___psqY1.Button__withIcon___c3vxV{padding-right:12px}.Button__button___NM3Vl.Button__medium___psqY1.Button__withIcon___c3vxV>span{margin-left:4px}.Button__button___NM3Vl.Button__medium___psqY1.Button__iconOnly___dISNi{padding:0 3px}.Button__button___NM3Vl.Button__large___ftsNW{height:40px;font-size:16px;line-height:19px;padding:0 16px}.Button__button___NM3Vl.Button__large___ftsNW.Button__withIcon___c3vxV{padding-left:12px}.Button__button___NM3Vl.Button__large___ftsNW.Button__withIcon___c3vxV>span{margin-left:4px}.Button__button___NM3Vl.Button__large___ftsNW.Button__iconOnly___dISNi{padding:0 3px}.Button__button___NM3Vl.Button__disabled___j4KjS{background-color:rgba(0,0,0,0);color:var(--playkit-tone-4-color);border-color:var(--playkit-tone-4-color);cursor:default}","",{version:3,sources:["webpack://./../node_modules/@playkit-js/common/dist/components/button/Button.scss","webpack://./../node_modules/@playkit-js/common/dist/components/variables.scss","webpack://./../node_modules/@playkit-js/playkit-js-ui/src/styles/exported.scss"],names:[],mappings:"AAGA,wBACE,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,gBAAA,CACA,eAAA,CACA,8BAAA,CACA,iBCPY,CDQZ,cAAA,CACA,gDACE,6CEVY,CFWZ,gDER0B,CFUxB,qFACE,oDEbe,CFejB,qFACE,sDEfiB,CFmBvB,+CACE,4CENW,CFOX,+CEJyB,CFMvB,oFACE,mDETc,CFWhB,oFACE,qDEXgB,CFetB,oDACE,+BAAA,CACA,gDEhC0B,CFkC5B,mDACE,8BAAA,CACA,iCEZW,CFcT,wFACE,4CEZO,CFcT,wFACE,4CEbO,CFiBb,8CACE,WAAA,CACA,cAAA,CACA,gBAAA,CACA,aAAA,CACA,uEACE,iBAAA,CACA,4EACE,eAAA,CAGJ,uEACE,aAAA,CAGJ,+CACE,WAAA,CACA,cAAA,CACA,gBAAA,CACA,aAAA,CACA,wEACE,kBAAA,CACA,6EACE,eAAA,CAGJ,wEACE,aAAA,CAGJ,8CACE,WAAA,CACA,cAAA,CACA,gBAAA,CACA,cAAA,CACA,uEACE,iBAAA,CACA,4EACE,eAAA,CAGJ,uEACE,aAAA,CAGJ,iDACE,8BAAA,CACA,iCElEW,CFmEX,wCEnEW,CFoEX,cAAA",sourcesContent:["@import '../variables.scss';\n\n// https://www.figma.com/file/GYMv1jsthckOnKmCrdQJY3/%E2%8F%AF-Player-v7-(Guidelines)?node-id=21%3A1943&t=ywdMo875C6kzd7pN-0\n.button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: nowrap;\n  font-weight: 700;\n  border: 1px solid transparent;\n  border-radius: $roundness-1;\n  cursor: pointer;\n  &.primary {\n    background-color: $primary-color;\n    color: $primary-text-contrast-color;\n    &:not(.disabled) {\n      &:hover {\n        background-color: $primary-darker-color;\n      }\n      &:focus {\n        background-color: $primary-brighter-color;\n      }\n    }\n  }\n  &.danger {\n    background-color: $danger-color;\n    color: $danger-text-contrast-color;\n    &:not(.disabled) {\n      &:hover {\n        background-color: $danger-darker-color;\n      }\n      &:focus {\n        background-color: $danger-brighter-color;\n      }\n    }\n  }\n  &.translucent {\n    background-color: rgba(0, 0, 0, 0.6);\n    color: $primary-text-contrast-color;\n  }\n  &.borderless {\n    background-color: transparent;\n    color: $tone-1-color;\n    &:not(.disabled) {\n      &:hover {\n        background-color: $tone-4-color;\n      }\n      &:focus {\n        background-color: $tone-6-color;\n      }\n    }\n  }\n  &.small {\n    height: 24px;\n    font-size: 13px;\n    line-height: 16px;\n    padding: 0 4px;\n    &.withIcon {\n      padding-right: 8px;\n      > span {\n        margin-left: 2px;\n      }\n    }\n    &.iconOnly {\n      padding: 0 3px;\n    }\n  }\n  &.medium {\n    height: 32px;\n    font-size: 14px;\n    line-height: 17px;\n    padding: 0 8px;\n    &.withIcon {\n      padding-right: 12px;\n      > span {\n        margin-left: 4px;\n      }\n    }\n    &.iconOnly {\n      padding: 0 3px;\n    }\n  }\n  &.large {\n    height: 40px;\n    font-size: 16px;\n    line-height: 19px;\n    padding: 0 16px;\n    &.withIcon {\n      padding-left: 12px;\n      > span {\n        margin-left: 4px;\n      }\n    }\n    &.iconOnly {\n      padding: 0 3px;\n    }\n  }\n  &.disabled {\n    background-color: transparent;\n    color: $tone-4-color;\n    border-color: $tone-4-color;\n    cursor: default;\n  }\n}\n","@import '~@playkit-js/playkit-js-ui';\n\n// border radius\n$roundness-1: 4px;\n$roundness-2: 8px;\n\n// colors\n$white: #ffffff;\n","// Sass variables exported using the npm package for plugins usage\n\n// Accent Colors\n$primary-color: var(--playkit-primary-color);\n$primary-darker-color: var(--playkit-primary-darker-color);\n$primary-brighter-color: var(--playkit-primary-brighter-color);\n$primary-text-contrast-color: var(--playkit-primary-text-contrast-color);\n\n$secondary-color: var(--playkit-secondary-color);\n$secondary-darker-color: var(--playkit-secondary-darker-color);\n$secondary-brighter-color: var(--playkit-secondary-brighter-color);\n$secondary-text-contrast-color: var(--playkit-secondary-text-contrast-color);\n\n// Acknowledgement Colors\n$success-color: var(--playkit-success-color);\n$success-darker-color: var(--playkit-success-darker-color);\n$success-brighter-color: var(--playkit-success-brighter-color);\n$success-text-contrast-color: var(--playkit-success-text-contrast-color);\n\n$danger-color: var(--playkit-danger-color);\n$danger-darker-color: var(--playkit-danger-darker-color);\n$danger-brighter-color: var(--playkit-danger-brighter-color);\n$danger-text-contrast-color: var(--playkit-danger-text-contrast-color);\n\n$warning-color: var(--playkit-warning-color);\n$warning-darker-color: var(--playkit-warning-darker-color);\n$warning-brighter-color: var(--playkit-warning-brighter-color);\n$warning-text-contrast-color: var(--playkit-warning-text-contrast-color);\n\n// Tone Ramp\n$tone-1-color: var(--playkit-tone-1-color);\n$tone-2-color: var(--playkit-tone-2-color);\n$tone-3-color: var(--playkit-tone-3-color);\n$tone-4-color: var(--playkit-tone-4-color);\n$tone-5-color: var(--playkit-tone-5-color);\n$tone-6-color: var(--playkit-tone-6-color);\n$tone-7-color: var(--playkit-tone-7-color);\n$tone-8-color: var(--playkit-tone-8-color);\n\n$live-color: var(--playkit-live-color);\n$player-background-color: var(--playkit-player-background-color);\n$tab-focus-color: var(--playkit-tab-focus-color);\n$tooltip-background-color: var(--playkit-tooltip-background-color);\n$tooltip-color: var(--playkit-tooltip-color);\n$ads-color: var(--playkit-ads-color);\n"],sourceRoot:""}]),a.locals={button:"Button__button___NM3Vl",primary:"Button__primary___vkWyL",disabled:"Button__disabled___j4KjS",danger:"Button__danger___lCKPq",translucent:"Button__translucent___nSc5h",borderless:"Button__borderless___sov7o",small:"Button__small____SSTu",withIcon:"Button__withIcon___c3vxV",iconOnly:"Button__iconOnly___dISNi",medium:"Button__medium___psqY1",large:"Button__large___ftsNW"},e.default=a},2707:function(t,e,n){"use strict";n.r(e);var o=n(559),r=n.n(o),i=n(3476),a=n.n(i)()(r());a.push([t.id,".InputField__input-field-wrapper___K1QeS{display:flex;align-items:center;flex-grow:1;width:100%;max-width:599px;padding-right:8px;height:32px;border:solid 1px rgba(255,255,255,.4);border-radius:4px}.InputField__input-field-wrapper___K1QeS ::-moz-placeholder{opacity:1}.InputField__input-field-wrapper___K1QeS .InputField__search-results___PBRGr{display:flex;justify-content:flex-end;align-items:center;flex-shrink:0;margin:0 8px 0 6px;font-size:12px;text-overflow:ellipsis}.InputField__input-field-wrapper___K1QeS .InputField__prev-next-wrapper___zAxBA{display:flex;flex-direction:column;justify-content:space-around;max-height:100%;height:100%;width:8px;flex:0 0 8px}.InputField__input-field-wrapper___K1QeS .InputField__prev-next-wrapper___zAxBA .InputField__prev-next-button___HP7Me{display:flex;align-items:center;height:50%;padding:0;background-color:rgba(0,0,0,0);border:none;cursor:pointer}.InputField__input-field-wrapper___K1QeS .InputField__prev-next-wrapper___zAxBA .InputField__prev-next-button___HP7Me.InputField__disabled___GVLcH{opacity:.4;cursor:default}.InputField__input-field-wrapper___K1QeS .InputField__input-element___BAphE{width:100%;flex-grow:1;flex-shrink:1;font-size:15px;padding:0 6px 1px 6px;color:var(--playkit-tone-1-color);background:rgba(0,0,0,0);border:none;overflow:hidden;text-overflow:ellipsis}.InputField__input-field-wrapper___K1QeS .InputField__input-element___BAphE::placeholder{color:var(--playkit-tone-2-color)}.InputField__input-field-wrapper___K1QeS .InputField__input-element___BAphE::selection{background-color:var(--playkit-primary-brighter-color)}.InputField__input-field-wrapper___K1QeS .InputField__clear-icon___eTi3X{padding:0;flex:0 0 12px;max-width:12px;max-height:12px;background-color:rgba(0,0,0,0);width:12px;height:12px;outline-offset:4px;border:none;cursor:pointer}.InputField__input-field-wrapper___K1QeS:hover{border-color:#fff}.InputField__input-field-wrapper___K1QeS.InputField__active____D1qS{color:var(--playkit-tone-2-color);background:var(--playkit-tone-8-color);border-color:#fff}","",{version:3,sources:["webpack://./../node_modules/@playkit-js/common/dist/components/input-field/InputField.scss","webpack://./../node_modules/@playkit-js/common/dist/components/variables.scss","webpack://./../node_modules/@playkit-js/playkit-js-ui/src/styles/exported.scss"],names:[],mappings:"AAEA,yCAKE,YAAA,CACA,kBAAA,CACA,WAAA,CACA,UAAA,CACA,eAAA,CACA,iBAAA,CACA,WAAA,CACA,qCAAA,CACA,iBCZY,CAAA,4DDCV,SAAA,CAYF,6EACE,YAAA,CACA,wBAAA,CACA,kBAAA,CACA,aAAA,CACA,kBAAA,CACA,cAAA,CACA,sBAAA,CAEF,gFACE,YAAA,CACA,qBAAA,CACA,4BAAA,CACA,eAAA,CACA,WAAA,CACA,SAAA,CACA,YAAA,CACA,sHACE,YAAA,CACA,kBAAA,CACA,UAAA,CACA,SAAA,CACA,8BAAA,CACA,WAAA,CACA,cAAA,CACA,mJACE,UAAA,CACA,cAAA,CAIN,4EACE,UAAA,CACA,WAAA,CACA,aAAA,CACA,cAAA,CACA,qBAAA,CACA,iCEvBW,CFwBX,wBAAA,CACA,WAAA,CACA,eAAA,CACA,sBAAA,CACA,yFACE,iCE5BS,CF8BX,uFACE,sDEzDmB,CF4DvB,yEACE,SAAA,CACA,aAAA,CACA,cAAA,CACA,eAAA,CACA,8BAAA,CACA,UAAA,CACA,WAAA,CACA,kBAAA,CACA,WAAA,CACA,cAAA,CAEF,+CACE,iBCvEI,CDyEN,oEACE,iCElDW,CFmDX,sCE7CW,CF8CX,iBC5EI",sourcesContent:["@import '../variables.scss';\n\n.input-field-wrapper {\n  ::-moz-placeholder {\n    opacity: 1;\n  }\n\n  display: flex;\n  align-items: center;\n  flex-grow: 1;\n  width: 100%;\n  max-width: 599px;\n  padding-right: 8px;\n  height: 32px;\n  border: solid 1px rgba(255, 255, 255, 0.4);\n  border-radius: $roundness-1;\n  .search-results {\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    flex-shrink: 0;\n    margin: 0 8px 0 6px;\n    font-size: 12px;\n    text-overflow: ellipsis;\n  }\n  .prev-next-wrapper {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    max-height: 100%;\n    height: 100%;\n    width: 8px;\n    flex: 0 0 8px;\n    .prev-next-button {\n      display: flex;\n      align-items: center;\n      height: 50%;\n      padding: 0;\n      background-color: transparent;\n      border: none;\n      cursor: pointer;\n      &.disabled {\n        opacity: 0.4;\n        cursor: default;\n      }\n    }\n  }\n  .input-element {\n    width: 100%;\n    flex-grow: 1;\n    flex-shrink: 1;\n    font-size: 15px;\n    padding: 0 6px 1px 6px;\n    color: $tone-1-color;\n    background: transparent;\n    border: none;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    &::placeholder {\n      color: $tone-2-color;\n    }\n    &::selection {\n      background-color: $primary-brighter-color;\n    }\n  }\n  .clear-icon {\n    padding: 0;\n    flex: 0 0 12px;\n    max-width: 12px;\n    max-height: 12px;\n    background-color: transparent;\n    width: 12px;\n    height: 12px;\n    outline-offset: 4px;\n    border: none;\n    cursor: pointer;\n  }\n  &:hover {\n    border-color: $white;\n  }\n  &.active {\n    color: $tone-2-color;\n    background: $tone-8-color;\n    border-color: $white;\n  }\n}\n","@import '~@playkit-js/playkit-js-ui';\n\n// border radius\n$roundness-1: 4px;\n$roundness-2: 8px;\n\n// colors\n$white: #ffffff;\n","// Sass variables exported using the npm package for plugins usage\n\n// Accent Colors\n$primary-color: var(--playkit-primary-color);\n$primary-darker-color: var(--playkit-primary-darker-color);\n$primary-brighter-color: var(--playkit-primary-brighter-color);\n$primary-text-contrast-color: var(--playkit-primary-text-contrast-color);\n\n$secondary-color: var(--playkit-secondary-color);\n$secondary-darker-color: var(--playkit-secondary-darker-color);\n$secondary-brighter-color: var(--playkit-secondary-brighter-color);\n$secondary-text-contrast-color: var(--playkit-secondary-text-contrast-color);\n\n// Acknowledgement Colors\n$success-color: var(--playkit-success-color);\n$success-darker-color: var(--playkit-success-darker-color);\n$success-brighter-color: var(--playkit-success-brighter-color);\n$success-text-contrast-color: var(--playkit-success-text-contrast-color);\n\n$danger-color: var(--playkit-danger-color);\n$danger-darker-color: var(--playkit-danger-darker-color);\n$danger-brighter-color: var(--playkit-danger-brighter-color);\n$danger-text-contrast-color: var(--playkit-danger-text-contrast-color);\n\n$warning-color: var(--playkit-warning-color);\n$warning-darker-color: var(--playkit-warning-darker-color);\n$warning-brighter-color: var(--playkit-warning-brighter-color);\n$warning-text-contrast-color: var(--playkit-warning-text-contrast-color);\n\n// Tone Ramp\n$tone-1-color: var(--playkit-tone-1-color);\n$tone-2-color: var(--playkit-tone-2-color);\n$tone-3-color: var(--playkit-tone-3-color);\n$tone-4-color: var(--playkit-tone-4-color);\n$tone-5-color: var(--playkit-tone-5-color);\n$tone-6-color: var(--playkit-tone-6-color);\n$tone-7-color: var(--playkit-tone-7-color);\n$tone-8-color: var(--playkit-tone-8-color);\n\n$live-color: var(--playkit-live-color);\n$player-background-color: var(--playkit-player-background-color);\n$tab-focus-color: var(--playkit-tab-focus-color);\n$tooltip-background-color: var(--playkit-tooltip-background-color);\n$tooltip-color: var(--playkit-tooltip-color);\n$ads-color: var(--playkit-ads-color);\n"],sourceRoot:""}]),a.locals={"input-field-wrapper":"InputField__input-field-wrapper___K1QeS",inputFieldWrapper:"InputField__input-field-wrapper___K1QeS","search-results":"InputField__search-results___PBRGr",searchResults:"InputField__search-results___PBRGr","prev-next-wrapper":"InputField__prev-next-wrapper___zAxBA",prevNextWrapper:"InputField__prev-next-wrapper___zAxBA","prev-next-button":"InputField__prev-next-button___HP7Me",prevNextButton:"InputField__prev-next-button___HP7Me",disabled:"InputField__disabled___GVLcH","input-element":"InputField__input-element___BAphE",inputElement:"InputField__input-element___BAphE","clear-icon":"InputField__clear-icon___eTi3X",clearIcon:"InputField__clear-icon___eTi3X",active:"InputField__active____D1qS"},e.default=a},3861:function(t,e,n){"use strict";n.r(e);var o=n(559),r=n.n(o),i=n(3476),a=n.n(i)()(r());a.push([t.id,".sr-wrapper__sr-wrapper___GwVLr{position:absolute;height:1px;width:1px;overflow:hidden;padding:0;margin:-1px;border:0}","",{version:3,sources:["webpack://./../node_modules/@playkit-js/common/dist/hoc/sr-wrapper/sr-wrapper.scss"],names:[],mappings:"AAAA,gCACE,iBAAA,CACA,UAAA,CACA,SAAA,CACA,eAAA,CACA,SAAA,CACA,WAAA,CACA,QAAA",sourcesContent:[".sr-wrapper {\n  position: absolute;\n  height: 1px;\n  width: 1px;\n  overflow: hidden;\n  padding: 0;\n  margin: -1px;\n  border: 0;\n}"],sourceRoot:""}]),a.locals={"sr-wrapper":"sr-wrapper__sr-wrapper___GwVLr",srWrapper:"sr-wrapper__sr-wrapper___GwVLr"},e.default=a},6469:function(t,e,n){"use strict";n.r(e);var o=n(559),r=n.n(o),i=n(3476),a=n.n(i)()(r());a.push([t.id,".icon__iconWrapper___O5uqn.icon__small___IddLg{width:16px;height:16px}.icon__iconWrapper___O5uqn.icon__medium___llFxB{width:24px;height:24px}.icon__iconWrapper___O5uqn.icon__large___Q96VN{width:32px;height:32px}.icon__iconWrapper___O5uqn>svg{width:100%;height:100%}","",{version:3,sources:["webpack://./../node_modules/@playkit-js/common/dist/icon/icon.scss"],names:[],mappings:"AACE,+CACE,UAAA,CACA,WAAA,CAEF,gDACE,UAAA,CACA,WAAA,CAEF,+CACE,UAAA,CACA,WAAA,CAEF,+BACE,UAAA,CACA,WAAA",sourcesContent:[".iconWrapper {\n  &.small {\n    width: 16px;\n    height: 16px;\n  }\n  &.medium {\n    width: 24px;\n    height: 24px;\n  }\n  &.large {\n    width: 32px;\n    height: 32px;\n  }\n  > svg {\n    width: 100%;\n    height: 100%;\n  }\n}\n"],sourceRoot:""}]),a.locals={iconWrapper:"icon__iconWrapper___O5uqn",small:"icon__small___IddLg",medium:"icon__medium___llFxB",large:"icon__large___Q96VN"},e.default=a},5588:function(t,e,n){"use strict";n.r(e);var o=n(559),r=n.n(o),i=n(3476),a=n.n(i)()(r());a.push([t.id,"._banner-container__bannerContainerRoot___xakgR{position:absolute;max-width:100%;min-width:270px;padding:0 16px 8px;height:88px;bottom:0;left:0;transition:all .5s ease}._banner-container__bannerContainer___Qm02i{position:relative;width:100%;height:100%;border-radius:4px;transition:all .5s ease}._banner-container__closeButton___WVWto{position:absolute;background-color:rgba(0,0,0,0);padding:0;border:none;top:0;right:0;width:32px;height:32px;padding:0}._banner-container__closeButton___WVWto ._banner-container__small___Tgp11{display:none}._banner-container__closeButton___WVWto:hover,._banner-container__closeButton___WVWto:active{cursor:pointer}.playkit-size-md ._banner-container__bannerContainerRoot___xakgR{height:68px;min-width:230px}.playkit-size-md ._banner-container__closeButton___WVWto{top:8px;right:8px;width:10px;height:10px}.playkit-size-md ._banner-container__closeButton___WVWto ._banner-container__large___aw4QR{display:none}.playkit-size-md ._banner-container__closeButton___WVWto ._banner-container__small___Tgp11{display:block}.playkit-size-sm ._banner-container__bannerContainerRoot___xakgR,.playkit-size-xs ._banner-container__bannerContainerRoot___xakgR,.playkit-size-ty ._banner-container__bannerContainerRoot___xakgR{display:none;width:0;height:0}","",{version:3,sources:["webpack://./../node_modules/@playkit-js/common/dist/ui-common/banner-container/_banner-container.scss"],names:[],mappings:"AAAA,gDACE,iBAAA,CACA,cAAA,CACA,eAAA,CACA,kBAAA,CACA,WAAA,CACA,QAAA,CACA,MAAA,CACA,uBAAA,CAGF,4CACE,iBAAA,CACA,UAAA,CACA,WAAA,CACA,iBAAA,CACA,uBAAA,CAGF,wCACE,iBAAA,CACA,8BAAA,CACA,SAAA,CACA,WAAA,CACA,KAAA,CACA,OAAA,CACA,UAAA,CACA,WAAA,CACA,SAAA,CACA,0EACE,YAAA,CAIJ,6FAEE,cAAA,CAMI,iEACE,WAAA,CACA,eAAA,CAEF,yDACE,OAAA,CACA,SAAA,CACA,UAAA,CACA,WAAA,CACA,2FACE,YAAA,CAEF,2FACE,aAAA,CAWN,mMACE,YAAA,CACA,OAAA,CACA,QAAA",sourcesContent:[".bannerContainerRoot {\n  position: absolute;\n  max-width: 100%;\n  min-width: 270px;\n  padding: 0 16px 8px;\n  height: 88px;\n  bottom: 0;\n  left: 0;\n  transition: all 0.5s ease;\n}\n\n.bannerContainer {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 4px;\n  transition: all 0.5s ease;\n}\n\n.closeButton {\n  position: absolute;\n  background-color: transparent;\n  padding: 0;\n  border: none;\n  top: 0;\n  right: 0;\n  width: 32px;\n  height: 32px;\n  padding: 0;\n  .small {\n    display: none;\n  }\n}\n\n.closeButton:hover,\n.closeButton:active {\n  cursor: pointer;\n}\n\n:global {\n  .playkit-size-md {\n    :local {\n      .bannerContainerRoot {\n        height: 68px;\n        min-width: 230px;\n      }\n      .closeButton {\n        top: 8px;\n        right: 8px;\n        width: 10px;\n        height: 10px;\n        .large {\n          display: none;\n        }\n        .small {\n          display: block;\n        }\n      }\n    }\n  }\n}\n\n:global {\n  .playkit-size-sm,\n  .playkit-size-xs,\n  .playkit-size-ty {\n    :local .bannerContainerRoot {\n      display: none;\n      width: 0;\n      height: 0;\n    }\n  }\n}\n"],sourceRoot:""}]),a.locals={bannerContainerRoot:"_banner-container__bannerContainerRoot___xakgR",bannerContainer:"_banner-container__bannerContainer___Qm02i",closeButton:"_banner-container__closeButton___WVWto",small:"_banner-container__small___Tgp11",large:"_banner-container__large___aw4QR"},e.default=a},9882:function(t,e,n){"use strict";n.r(e);var o=n(559),r=n.n(o),i=n(3476),a=n.n(i)()(r());a.push([t.id,"._banner__defaultBannerRoot___NepFO{display:flex;max-width:100%;height:100%;transition:all .5s ease;text-align:left}._banner__bannerWrapper___Rs8hK{padding:18px 17px 17px 16px}._banner__iconContainer___wyKRN{height:100%;width:64px}._banner__iconWrapper___duGbT{position:relative;height:48px;width:48px;background-color:rgba(255,255,255,.14);border-radius:50%;transition:all .5s ease}._banner__iconImage___I0LAA{position:absolute;width:32px;height:32px;left:calc(50% - 16px);top:calc(50% - 16px);transition:all .5s ease;padding:0}._banner__iconImage___I0LAA ._banner__small___mrxMV{display:none}._banner__bannerBody___ISEP1{height:100%;flex:1 1 auto;overflow:hidden}._banner__title___LCkfF{opacity:.9;font-size:14px;font-weight:normal;font-style:normal;font-stretch:normal;line-height:1;letter-spacing:normal;color:#ebebeb}._banner__text___UyS4n{opacity:.9;font-size:24px;font-weight:normal;font-style:normal;font-stretch:normal;line-height:1.21;letter-spacing:normal;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:all .5s ease}.playkit-size-md ._banner__bannerWrapper___Rs8hK{padding:14px 16px 14px}.playkit-size-md ._banner__iconContainer___wyKRN{width:44px}.playkit-size-md ._banner__iconWrapper___duGbT{height:32px;width:32px}.playkit-size-md ._banner__iconImage___I0LAA{width:20px;height:20px;left:calc(50% - 10px);top:calc(50% - 10px)}.playkit-size-md ._banner__iconImage___I0LAA ._banner__small___mrxMV{display:block}.playkit-size-md ._banner__iconImage___I0LAA ._banner__large___q5r6u{display:none}.playkit-size-md ._banner__bannerBody___ISEP1{flex:1 1 auto}.playkit-size-md ._banner__title___LCkfF{font-size:12px;font-weight:bold;line-height:1.17}.playkit-size-md ._banner__text___UyS4n{font-size:15px;line-height:1.27}","",{version:3,sources:["webpack://./../node_modules/@playkit-js/common/dist/ui-common/banner/_banner.scss"],names:[],mappings:"AAAA,oCACE,YAAA,CACA,cAAA,CACA,WAAA,CACA,uBAAA,CACA,eAAA,CAGF,gCACE,2BAAA,CAGF,gCACE,WAAA,CACA,UAAA,CAGF,8BACE,iBAAA,CACA,WAAA,CACA,UAAA,CACA,sCAAA,CACA,iBAAA,CACA,uBAAA,CAGF,4BACE,iBAAA,CACA,UAAA,CACA,WAAA,CACA,qBAAA,CACA,oBAAA,CACA,uBAAA,CACA,SAAA,CACA,oDACE,YAAA,CAIJ,6BACE,WAAA,CACA,aAAA,CACA,eAAA,CAGF,wBACE,UAAA,CACA,cAAA,CACA,kBAAA,CACA,iBAAA,CACA,mBAAA,CACA,aAAA,CACA,qBAAA,CACA,aAAA,CAGF,uBACE,UAAA,CACA,cAAA,CACA,kBAAA,CACA,iBAAA,CACA,mBAAA,CACA,gBAAA,CACA,qBAAA,CACA,UAAA,CACA,kBAAA,CACA,eAAA,CACA,sBAAA,CACA,uBAAA,CAMI,iDACE,sBAAA,CAEF,iDACE,UAAA,CAEF,+CACE,WAAA,CACA,UAAA,CAEF,6CACE,UAAA,CACA,WAAA,CACA,qBAAA,CACA,oBAAA,CACA,qEACE,aAAA,CAEF,qEACE,YAAA,CAGJ,8CACE,aAAA,CAEF,yCACE,cAAA,CACA,gBAAA,CACA,gBAAA,CAEF,wCACE,cAAA,CACA,gBAAA",sourcesContent:[".defaultBannerRoot {\n  display: flex;\n  max-width: 100%;\n  height: 100%;\n  transition: all 0.5s ease;\n  text-align: left;\n}\n\n.bannerWrapper {\n  padding: 18px 17px 17px 16px;\n}\n\n.iconContainer {\n  height: 100%;\n  width: 64px;\n}\n\n.iconWrapper {\n  position: relative;\n  height: 48px;\n  width: 48px;\n  background-color: rgba(255, 255, 255, 0.14);\n  border-radius: 50%;\n  transition: all 0.5s ease;\n}\n\n.iconImage {\n  position: absolute;\n  width: 32px;\n  height: 32px;\n  left: calc(50% - 16px);\n  top: calc(50% - 16px);\n  transition: all 0.5s ease;\n  padding: 0;\n  .small {\n    display: none;\n  }\n}\n\n.bannerBody {\n  height: 100%;\n  flex: 1 1 auto;\n  overflow: hidden;\n}\n\n.title {\n  opacity: 0.9;\n  font-size: 14px;\n  font-weight: normal;\n  font-style: normal;\n  font-stretch: normal;\n  line-height: 1;\n  letter-spacing: normal;\n  color: #ebebeb;\n}\n\n.text {\n  opacity: 0.9;\n  font-size: 24px;\n  font-weight: normal;\n  font-style: normal;\n  font-stretch: normal;\n  line-height: 1.21;\n  letter-spacing: normal;\n  color: #ffffff;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  transition: all 0.5s ease;\n}\n\n:global {\n  .playkit-size-md {\n    :local {\n      .bannerWrapper {\n        padding: 14px 16px 14px;\n      }\n      .iconContainer {\n        width: 44px;\n      }\n      .iconWrapper {\n        height: 32px;\n        width: 32px;\n      }\n      .iconImage {\n        width: 20px;\n        height: 20px;\n        left: calc(50% - 10px);\n        top: calc(50% - 10px);\n        .small {\n          display: block;\n        }\n        .large {\n          display: none;\n        }\n      }\n      .bannerBody {\n        flex: 1 1 auto;\n      }\n      .title {\n        font-size: 12px;\n        font-weight: bold;\n        line-height: 1.17;\n      }\n      .text {\n        font-size: 15px;\n        line-height: 1.27;\n      }\n    }\n  }\n}\n"],sourceRoot:""}]),a.locals={defaultBannerRoot:"_banner__defaultBannerRoot___NepFO",bannerWrapper:"_banner__bannerWrapper___Rs8hK",iconContainer:"_banner__iconContainer___wyKRN",iconWrapper:"_banner__iconWrapper___duGbT",iconImage:"_banner__iconImage___I0LAA",small:"_banner__small___mrxMV",bannerBody:"_banner__bannerBody___ISEP1",title:"_banner__title___LCkfF",text:"_banner__text___UyS4n",large:"_banner__large___q5r6u"},e.default=a},1355:function(t,e,n){"use strict";n.r(e);var o=n(559),r=n.n(o),i=n(3476),a=n.n(i)()(r());a.push([t.id,".injected-component__fill-container___mNczr{width:100%;height:100%;overflow:hidden}","",{version:3,sources:["webpack://./../node_modules/@playkit-js/common/dist/ui-common/injected-component/injected-component.scss"],names:[],mappings:"AAAA,4CACE,UAAA,CACA,WAAA,CACA,eAAA",sourcesContent:[".fill-container {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n"],sourceRoot:""}]),a.locals={"fill-container":"injected-component__fill-container___mNczr",fillContainer:"injected-component__fill-container___mNczr"},e.default=a},8931:function(t,e,n){"use strict";n.r(e);var o=n(559),r=n.n(o),i=n(3476),a=n.n(i)()(r());a.push([t.id,"._managed-component__fill-container___BZ9jB{width:100%;height:100%}","",{version:3,sources:["webpack://./../node_modules/@playkit-js/common/dist/ui-common/managed-component/_managed-component.scss"],names:[],mappings:"AAAA,4CACE,UAAA,CACA,WAAA",sourcesContent:[".fill-container {\n  width: 100%;\n  height: 100%;\n}\n"],sourceRoot:""}]),a.locals={"fill-container":"_managed-component__fill-container___BZ9jB",fillContainer:"_managed-component__fill-container___BZ9jB"},e.default=a},9318:function(t,e,n){"use strict";n.r(e);var o=n(559),r=n.n(o),i=n(3476),a=n.n(i)()(r());a.push([t.id,"._toast__toastWrapper___WvdiK{position:relative;min-width:120px;max-width:310px;height:100%;border-radius:4px;background-color:#222;border-left-style:solid;border-left-width:4px;text-align:left}._toast__infoToast___GSdk1{border-left-color:#01accd}._toast__successToast___dyb3J{border-left-color:#009e48}._toast__warnToast___vCnBw{border-left-color:#f9a71b}._toast__errorToast___GAr1R{border-left-color:#e7585d}._toast__closeButton___kXqZM{position:absolute;background-color:rgba(0,0,0,0);top:0;right:0;width:16px;height:16px;object-fit:contain;background-repeat:no-repeat;border:none;padding:0}._toast__closeButton___kXqZM:hover{cursor:pointer}._toast__title___aQCgz{font-size:12px;font-weight:normal;font-style:normal;font-stretch:normal;line-height:1.17;letter-spacing:normal;color:#ccc;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-top:4px;padding-right:16px;padding-left:12px}._toast__toastBody___aP3ij{position:relative;width:100%;padding:2px 16px 5px 12px}._toast__iconContainer___S5hMD{position:relative;height:16px;width:16px;float:left;margin-right:7px}._toast__iconWrapper___kqam1{height:16px;width:16px}._toast__text___EdqX7{font-size:14px;font-weight:bold;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;color:#ccc;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}","",{version:3,sources:["webpack://./../node_modules/@playkit-js/common/dist/ui-common/toast/_toast.scss"],names:[],mappings:"AAAA,8BACE,iBAAA,CACA,eAAA,CACA,eAAA,CACA,WAAA,CACA,iBAAA,CACA,qBAAA,CACA,uBAAA,CACA,qBAAA,CACA,eAAA,CAGF,2BACE,yBAAA,CAGF,8BACE,yBAAA,CAGF,2BACE,yBAAA,CAGF,4BACE,yBAAA,CAGF,6BACE,iBAAA,CACA,8BAAA,CACA,KAAA,CACA,OAAA,CACA,UAAA,CACA,WAAA,CACA,kBAAA,CACA,2BAAA,CACA,WAAA,CACA,SAAA,CAEA,mCACE,cAAA,CAIJ,uBACE,cAAA,CACA,kBAAA,CACA,iBAAA,CACA,mBAAA,CACA,gBAAA,CACA,qBAAA,CACA,UAAA,CACA,kBAAA,CACA,eAAA,CACA,sBAAA,CACA,eAAA,CACA,kBAAA,CACA,iBAAA,CAGF,2BACE,iBAAA,CACA,UAAA,CACA,yBAAA,CAGF,+BACE,iBAAA,CACA,WAAA,CACA,UAAA,CACA,UAAA,CACA,gBAAA,CAGF,6BACE,WAAA,CACA,UAAA,CAGF,sBACE,cAAA,CACA,gBAAA,CACA,iBAAA,CACA,mBAAA,CACA,kBAAA,CACA,qBAAA,CACA,UAAA,CACA,kBAAA,CACA,eAAA,CACA,sBAAA",sourcesContent:[".toastWrapper {\n  position: relative;\n  min-width: 120px;\n  max-width: 310px;\n  height: 100%;\n  border-radius: 4px;\n  background-color: #222222;\n  border-left-style: solid;\n  border-left-width: 4px;\n  text-align: left;\n}\n\n.infoToast {\n  border-left-color: #01ACCD;\n}\n\n.successToast {\n  border-left-color: #009E48;\n}\n\n.warnToast {\n  border-left-color: #F9A71B;\n}\n\n.errorToast {\n  border-left-color: #E7585D;\n}\n\n.closeButton {\n  position: absolute;\n  background-color: transparent;\n  top: 0;\n  right: 0;\n  width: 16px;\n  height: 16px;\n  object-fit: contain;\n  background-repeat: no-repeat;\n  border: none;\n  padding: 0;\n\n  &:hover {\n    cursor: pointer;\n  }\n}\n\n.title {\n  font-size: 12px;\n  font-weight: normal;\n  font-style: normal;\n  font-stretch: normal;\n  line-height: 1.17;\n  letter-spacing: normal;\n  color: #cccccc;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 4px;\n  padding-right: 16px;\n  padding-left: 12px;\n}\n\n.toastBody {\n  position: relative;\n  width: 100%;\n  padding: 2px 16px 5px 12px;\n}\n\n.iconContainer {\n  position: relative;\n  height: 16px;\n  width: 16px;\n  float: left;\n  margin-right: 7px;\n}\n\n.iconWrapper {\n  height: 16px;\n  width: 16px;\n}\n\n.text {\n  font-size: 14px;\n  font-weight: bold;\n  font-style: normal;\n  font-stretch: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  color: #cccccc;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n"],sourceRoot:""}]),a.locals={toastWrapper:"_toast__toastWrapper___WvdiK",infoToast:"_toast__infoToast___GSdk1",successToast:"_toast__successToast___dyb3J",warnToast:"_toast__warnToast___vCnBw",errorToast:"_toast__errorToast___GAr1R",closeButton:"_toast__closeButton___kXqZM",title:"_toast__title___aQCgz",toastBody:"_toast__toastBody___aP3ij",iconContainer:"_toast__iconContainer___S5hMD",iconWrapper:"_toast__iconWrapper___kqam1",text:"_toast__text___EdqX7"},e.default=a},3346:function(t,e,n){"use strict";n.r(e);var o=n(559),r=n.n(o),i=n(3476),a=n.n(i)()(r());a.push([t.id,"._toasts-container__toastsContainer___ep0ad{position:absolute;right:0;top:0;padding:8px 16px 0;min-width:120px;max-width:310px;display:flex;flex-direction:column}._toasts-container__toastRow___J1NQa{height:42px;min-width:120px;max-width:310px;margin-bottom:8px;overflow:hidden;overflow-wrap:break-word;text-overflow:ellipsis;align-self:flex-end}","",{version:3,sources:["webpack://./../node_modules/@playkit-js/common/dist/ui-common/toasts-container/_toasts-container.scss"],names:[],mappings:"AAAA,4CACE,iBAAA,CACA,OAAA,CACA,KAAA,CACA,kBAAA,CACA,eAAA,CACA,eAAA,CACA,YAAA,CACA,qBAAA,CAGF,qCACE,WAAA,CACA,eAAA,CACA,eAAA,CACA,iBAAA,CACA,eAAA,CACA,wBAAA,CACA,sBAAA,CACA,mBAAA",sourcesContent:[".toastsContainer {\n  position: absolute;\n  right: 0;\n  top: 0;\n  padding: 8px 16px 0;\n  min-width: 120px;\n  max-width: 310px;\n  display: flex;\n  flex-direction: column;\n}\n\n.toastRow {\n  height: 42px;\n  min-width: 120px;\n  max-width: 310px;\n  margin-bottom: 8px;\n  overflow: hidden;\n  overflow-wrap: break-word;\n  text-overflow: ellipsis;\n  align-self: flex-end;\n}\n"],sourceRoot:""}]),a.locals={toastsContainer:"_toasts-container__toastsContainer___ep0ad",toastRow:"_toasts-container__toastRow___J1NQa"},e.default=a},3476:function(t){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,o,r,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(o)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<t.length;c++){var u=[].concat(t[c]);o&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),e.push(u))}},e}},559:function(t){"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),i="/*# ".concat(r," */"),a=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[e].concat(a).concat([i]).join("\n")}return[e].join("\n")}},3708:function(t,e,n){"use strict";function o(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach((function(e){e&&Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t}function r(t){return Object.prototype.toString.call(t)}function i(t){return"[object Function]"===r(t)}function a(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},l={"http:":{validate:function(t,e,n){var o=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(o)?o.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){var o=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(o)?e>=3&&":"===t[e-3]||e>=3&&"/"===t[e-3]?0:o.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){var o=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(o)?o.match(n.re.mailto)[0].length:0}}},c="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function u(t){var e=t.re=n(2596)(t.__opts__),o=t.__tlds__.slice();function s(t){return t.replace("%TLDS%",e.src_tlds)}t.onCompile(),t.__tlds_replaced__||o.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),o.push(e.src_xn),e.src_tlds=o.join("|"),e.email_fuzzy=RegExp(s(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(s(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(s(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(s(e.tpl_host_fuzzy_test),"i");var l=[];function c(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}t.__compiled__={},Object.keys(t.__schemas__).forEach((function(e){var n=t.__schemas__[e];if(null!==n){var o={validate:null,link:null};if(t.__compiled__[e]=o,"[object Object]"===r(n))return"[object RegExp]"!==r(n.validate)?i(n.validate)?o.validate=n.validate:c(e,n):o.validate=function(t){return function(e,n){var o=e.slice(n);return t.test(o)?o.match(t)[0].length:0}}(n.validate),void(i(n.normalize)?o.normalize=n.normalize:n.normalize?c(e,n):o.normalize=function(t,e){e.normalize(t)});!function(t){return"[object String]"===r(t)}(n)?c(e,n):l.push(e)}})),l.forEach((function(e){t.__compiled__[t.__schemas__[e]]&&(t.__compiled__[e].validate=t.__compiled__[t.__schemas__[e]].validate,t.__compiled__[e].normalize=t.__compiled__[t.__schemas__[e]].normalize)})),t.__compiled__[""]={validate:null,normalize:function(t,e){e.normalize(t)}};var u=Object.keys(t.__compiled__).filter((function(e){return e.length>0&&t.__compiled__[e]})).map(a).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+u+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+u+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),function(t){t.__index__=-1,t.__text_cache__=""}(t)}function p(t,e){var n=t.__index__,o=t.__last_index__,r=t.__text_cache__.slice(n,o);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=o+e,this.raw=r,this.text=r,this.url=r}function _(t,e){var n=new p(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function d(t,e){if(!(this instanceof d))return new d(t,e);var n;e||(n=t,Object.keys(n||{}).reduce((function(t,e){return t||s.hasOwnProperty(e)}),!1)&&(e=t,t={})),this.__opts__=o({},s,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=o({},l,t),this.__compiled__={},this.__tlds__=c,this.__tlds_replaced__=!1,this.re={},u(this)}d.prototype.add=function(t,e){return this.__schemas__[t]=e,u(this),this},d.prototype.set=function(t){return this.__opts__=o(this.__opts__,t),this},d.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var e,n,o,r,i,a,s,l;if(this.re.schema_test.test(t))for((s=this.re.schema_search).lastIndex=0;null!==(e=s.exec(t));)if(r=this.testSchemaAt(t,e[2],s.lastIndex)){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+r;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=t.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||l<this.__index__)&&null!==(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=n.index+n[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&t.indexOf("@")>=0&&null!==(o=t.match(this.re.email_fuzzy))&&(i=o.index+o[1].length,a=o.index+o[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=a)),this.__index__>=0},d.prototype.pretest=function(t){return this.re.pretest.test(t)},d.prototype.testSchemaAt=function(t,e,n){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,n,this):0},d.prototype.match=function(t){var e=0,n=[];this.__index__>=0&&this.__text_cache__===t&&(n.push(_(this,e)),e=this.__last_index__);for(var o=e?t.slice(e):t;this.test(o);)n.push(_(this,e)),o=o.slice(this.__last_index__),e+=this.__last_index__;return n.length?n:null},d.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;var e=this.re.schema_at_start.exec(t);if(!e)return null;var n=this.testSchemaAt(t,e[2],e[0].length);return n?(this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+n,_(this,0)):null},d.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter((function(t,e,n){return t!==n[e-1]})).reverse(),u(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,u(this),this)},d.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},d.prototype.onCompile=function(){},t.exports=d},2596:function(t,e,n){"use strict";t.exports=function(t){var e={};return t=t||{},e.src_Any=n(8287).source,e.src_Cc=n(699).source,e.src_Z=n(9338).source,e.src_P=n(6924).source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|"),e.src_pseudo_letter="(?:(?![><｜]|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|[><｜]|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|[><｜]|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy='(^|[><｜]|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}},7538:function(t,e,n){var o=n(1892),r=n(6298);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.id,r,""]]);o(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},7998:function(t,e,n){var o=n(1892),r=n(2707);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.id,r,""]]);o(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},73:function(t,e,n){var o=n(1892),r=n(3861);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.id,r,""]]);o(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},3278:function(t,e,n){var o=n(1892),r=n(6469);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.id,r,""]]);o(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},6502:function(t,e,n){var o=n(1892),r=n(5588);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.id,r,""]]);o(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},9480:function(t,e,n){var o=n(1892),r=n(9882);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.id,r,""]]);o(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},4367:function(t,e,n){var o=n(1892),r=n(1355);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.id,r,""]]);o(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},4022:function(t,e,n){var o=n(1892),r=n(8931);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.id,r,""]]);o(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},181:function(t,e,n){var o=n(1892),r=n(9318);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.id,r,""]]);o(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},5579:function(t,e,n){var o=n(1892),r=n(3346);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.id,r,""]]);o(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},1892:function(t,e,n){"use strict";var o,r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),i=[];function a(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},o=[],r=0;r<t.length;r++){var s=t[r],l=e.base?s[0]+e.base:s[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var p=a(u),_={css:s[1],media:s[2],sourceMap:s[3]};-1!==p?(i[p].references++,i[p].updater(_)):i.push({identifier:u,updater:A(_,e),references:1}),o.push(u)}return o}function l(t){var e=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var i=n.nc;i&&(o.nonce=i)}if(Object.keys(o).forEach((function(t){e.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(e);else{var a=r(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var c,u=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function p(t,e,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=u(e,r);else{var i=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function _(t,e,n){var o=n.css,r=n.media,i=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var d=null,h=0;function A(t,e){var n,o,r;if(e.singleton){var i=h++;n=d||(d=l(e)),o=p.bind(null,n,i,!1),r=p.bind(null,n,i,!0)}else n=l(e),o=_.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var o=0;o<n.length;o++){var r=a(n[o]);i[r].references--}for(var l=s(t,e),c=0;c<n.length;c++){var u=a(n[c]);0===i[u].references&&(i[u].updater(),i.splice(u,1))}n=l}}}},5360:function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a=n(4522),s=n(573),l=n(2230),c={position:"absolute",display:"table",boxSizing:"border-box"},u={position:"relative",width:"100%",height:"inherit",appearance:"none",border:"none",display:"flex",cursor:"pointer",wordBreak:"break-all",textRendering:"geometricPrecision",overflow:"hidden",textOverflow:"ellipsis",padding:"3px",alignItems:"center",justifyContent:"center",outline:0,lineHeight:"normal"},p={styles:{}};function _(t){return t.startsWith("mailto:")||t.match(/^https?:\/\//i)||(t="http://"+t),t}var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hotspotRef=null,e.state={disableClick:!0,isReady:!1},e.isClickable=function(){var t=e.props.hotspot.onClick;if(!t)return!1;switch(t.type){case"jumpToTime":return void 0!==t.jumpToTime;case"openUrl":case"openUrlInNewTab":return!!t.url;default:return!1}},e.handleClick=function(){var t=e.props,n=t.hotspot,o=t.dispatcher,r=e.state.disableClick,i=n.id,a=n.label;if(o(l.HotspotsEvents.HOTSPOT_CLICK,{id:i,label:a}),n.onClick&&!r)switch(n.onClick.type){case"jumpToTime":if(void 0===n.onClick.jumpToTime)return;e.props.seekTo(n.onClick.jumpToTime/1e3);break;case"openUrl":if(!n.onClick.url)return;var s=_(n.onClick.url);window.open(s,"_top"),e.props.sendAnalytics({eventNumber:47,target:s,hotspotId:n.id});break;case"openUrlInNewTab":if(!n.onClick.url)return;e.props.pauseVideo(),s=_(n.onClick.url);try{window.open(s,"_blank"),e.props.sendAnalytics({eventNumber:47,target:s,hotspotId:n.id})}catch(t){}}},e}return r(e,t),e.prototype.componentDidMount=function(){var t=this.props,e=t.hotspot,n=t.dispatcher;if(e&&e.onClick){this.setState({isReady:!0,disableClick:!this.isClickable()});var o=e.id,r=e.label;n(l.HotspotsEvents.HOTSPOT_DISPLAYED,{id:o,label:r})}else this.setState({isReady:!0})},e.prototype.render=function(){var t=this,e=this.props.hotspot,n=e.layout,o=e.label,r=this.state,l=r.isReady,p=r.disableClick;if(!l||!this.props.visible)return null;var _=i(i({},c),{top:n.y,left:n.x,height:n.height,width:n.width}),d=i(i(i({},u),e.styles),{cursor:p?"default":"pointer",maxWidth:"".concat(n.width,"px"),fontSize:"".concat(e.relativeStyle.fontSize,"px"),borderRadius:"".concat(e.relativeStyle.radiusBorder,"px")});return(0,a.h)(s.A11yWrapper,{onClick:this.handleClick,role:"alert","aria-live":"polite"},(0,a.h)("div",{ref:function(e){return t.hotspotRef=e},tabIndex:0,role:"button","aria-label":o,"aria-disabled":p,style:_,"data-testid":"hotspots_hotspot"},(0,a.h)("div",{style:d},o)))},e.defaultProps=p,e}(a.Component);e.default=d},6658:function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(4522),a=n(6912),s=n(5360),l={position:"absolute",display:"block",overflow:"visible",top:0,left:0,width:0,height:0},c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderHotspots=function(t){if(!t)return null;var n=e.props,o=n.seekTo,r=n.pauseVideo,a=n.sendAnalytics,l=n.dispatcher;return t.map((function(t){return(0,i.h)(s.default,{dispatcher:l,pauseVideo:r,seekTo:o,key:t.id,visible:!0,hotspot:t,sendAnalytics:a})}))},e}return r(e,t),e.prototype.shouldComponentUpdate=function(t){return!(0,a.shallowCompareHotspots)(this.props.hotspots,t.hotspots)},e.prototype.render=function(){var t=this.props.hotspots,e=this.renderHotspots(t);return(0,i.h)("div",{style:l,"data-testid":"hotspots_hotspotsContainer"},e)},e}(i.Component);e.default=c},2230:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HotspotsEvents=void 0,e.HotspotsEvents={HOTSPOT_CLICK:"hotspot_click",HOTSPOT_DISPLAYED:"hotspot_displayed"}},1624:function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.HotspotsPlugin=void 0;var a=n(4522),s=n(6658),l=n(8263),c=function(t){function e(e,n,o){var r=t.call(this,e,n,o)||this;return r._hotspots=[],r._floatingItem=null,r._canvas=null,r._isHotspotType=function(t){var e=t.metadata,n=r.cuePointManager,o=n.KalturaCuePointType,i=n.KalturaCuePointTags;return(null==e?void 0:e.cuePointType)===o.ANNOTATION&&(null==e?void 0:e.tags)===i.HOTSPOT},r._filterHotspotCues=function(t){return t.filter(r._isHotspotType)},r._prepareHotspots=function(t){var e=[];return t.forEach((function(t){var n=t.metadata.partnerData;n&&n.schemaVersion&&e.push({id:t.id,startTime:t.startTime,endTime:t.endTime,label:t.metadata.text,styles:n.styles,onClick:n.onClick,rawLayout:i({},n.layout)})})),e},r._recalculateCuepointLayout=function(t){var e,n;if(r.logger.debug("calculating cuepoint layout based on video/player sizes"),!(null===(e=r._canvas)||void 0===e?void 0:e.playerSize)||!(null===(n=r._canvas)||void 0===n?void 0:n.videoSize))return r.logger.warn("missing video/player sizes, hide all cuepoint"),[];var o=r._canvas.playerSize,a=o.width,s=o.height,c=r._canvas.videoSize,u=c.width,p=c.height;if(!(a&&s&&u&&p))return r.logger.warn("missing video/player sizes, hide all cuepoint"),[];var _=(0,l.scaleVideo)(u,p,a,s,!0);return r.logger.debug("recalculate cuepoint layout based on new sizes"),t.map((function(t){return i(i({},t),{layout:r._calculateLayout(t,_),relativeStyle:r._calculateStyle(t,_)})}))},r._onTimedMetadataChange=function(t){var e=t.payload,n=r._filterHotspotCues(e.cues);if(n.length||r._hotspots.length){var o=r._prepareHotspots(n);r._hotspots=r._recalculateCuepointLayout(o),r._updateHotspotsContainer()}},r._pauseVideo=function(){r._player.pause()},r._seekTo=function(t){r._player.currentTime=t},r._checkIfResizeHappened=function(t){if(!r._canvas)return r._canvas=t,!0;var e=r._canvas.playerSize,n=r._canvas.videoSize,o=t.playerSize,i=t.videoSize;return(e.width!==o.width||e.height!==o.height||n.width!==i.width||n.height!==i.height)&&(r._canvas=t,!0)},r._renderRoot=function(t){return r._checkIfResizeHappened(t.canvas)&&(r._hotspots=r._recalculateCuepointLayout(r._hotspots)),(0,a.h)(s.default,{dispatcher:function(t,e){return r.dispatchEvent(t,e)},key:"hotspotWrapper",hotspots:r._hotspots,pauseVideo:r._pauseVideo,seekTo:r._seekTo,sendAnalytics:function(){}})},r._player=n,r}return r(e,t),e.isValid=function(){return!0},Object.defineProperty(e.prototype,"floatingManager",{get:function(){return this.player.getService("floatingManager")||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cuePointManager",{get:function(){return this._player.getService("kalturaCuepoints")},enumerable:!1,configurable:!0}),e.prototype.loadMedia=function(){this.cuePointManager?(this._addHotspotsContainer(),this.cuePointManager.registerTypes([this.cuePointManager.CuepointType.HOTSPOT]),this.eventManager.listen(this._player,this._player.Event.TIMED_METADATA_CHANGE,this._onTimedMetadataChange)):this.logger.warn("kalturaCuepoints haven't registered")},e.prototype._calculateLayout=function(t,e){var n=t.rawLayout;return{x:e.left+n.relativeX*e.width,y:e.top+n.relativeY*e.height,width:n.relativeWidth*e.width,height:n.relativeHeight*e.height}},e.prototype._calculateStyle=function(t,e){var n=t.rawLayout,o=t.styles;return{fontSize:parseInt(o["font-size"])/n.stageWidth*e.width,radiusBorder:parseInt(o["border-radius"])/n.stageWidth*e.width}},e.prototype._addHotspotsContainer=function(){this._floatingItem=this.floatingManager.add({label:"Hotspots",mode:"MediaLoaded",position:"VideoArea",renderContent:this._renderRoot})},e.prototype._updateHotspotsContainer=function(){this._floatingItem&&this._floatingItem.update()},e.prototype.reset=function(){this.eventManager.removeAll(),this._hotspots=[],this._canvas=null,this._floatingItem&&(this.floatingManager.remove(this._floatingItem),this._floatingItem=null)},e.prototype.destroy=function(){},e.defaultConfig={},e}(KalturaPlayer.core.BasePlugin);e.HotspotsPlugin=c},6912:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shallowCompareHotspots=void 0,e.shallowCompareHotspots=function(t,e){var n=t.length;if(e.length!==n)return!1;for(var o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}},8263:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scaleVideo=void 0,e.scaleVideo=function(t,e,n,o,r){var i={width:0,height:0,left:0,top:0,scaleToTargetWidth:!0};if(t<=0||e<=0||n<=0||o<=0)return i;var a=n,s=e*n/t,l=t*o/e,c=o,u=l>n;return(u=u?r:!r)?(i.width=Math.abs(a),i.height=Math.abs(s),i.scaleToTargetWidth=!0):(i.width=Math.abs(l),i.height=Math.abs(c),i.scaleToTargetWidth=!1),i.left=Math.abs((n-i.width)/2),i.top=Math.abs((o-i.height)/2),i}},699:function(t){t.exports=/[\0-\x1F\x7F-\x9F]/},6924:function(t){t.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},9338:function(t){t.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},8287:function(t){t.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},2052:function(t){"use strict";t.exports=KalturaPlayer},4522:function(t){"use strict";t.exports=KalturaPlayer.ui.preact}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nc=void 0;var o={};!function(){"use strict";var t=o;Object.defineProperty(t,"__esModule",{value:!0}),t.HotspotsEvents=t.NAME=t.VERSION=t.Plugin=void 0;var e=n(1624);Object.defineProperty(t,"Plugin",{enumerable:!0,get:function(){return e.HotspotsPlugin}}),t.VERSION="3.2.21",t.NAME="@playkit-js/hotspots";var r=n(2230);Object.defineProperty(t,"HotspotsEvents",{enumerable:!0,get:function(){return r.HotspotsEvents}}),KalturaPlayer.core.registerPlugin("playkit-js-hotspots",e.HotspotsPlugin)}(),((KalturaPlayer=void 0===KalturaPlayer?{}:KalturaPlayer).plugins=KalturaPlayer.plugins||{}).hotspots=o}();
//# sourceMappingURL=playkit-hotspots.js.map
/*! For license information please see playkit-ivq.js.LICENSE.txt */
var KalturaPlayer;(()=>{var e={1972:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Button=t.ButtonType=t.ButtonSize=void 0;var a,s,l=n(4522),u=n(42),c=n(2052),d=n(979),_=n(4820),p=n(741),A=c.ui.Components.Tooltip;!function(e){e.small="small",e.medium="medium",e.large="large"}(a=t.ButtonSize||(t.ButtonSize={})),function(e){e.primary="primary",e.danger="danger",e.translucent="translucent",e.borderless="borderless",e.borderlessTranslucent="borderlessTranslucent",e.secondary="secondary"}(s=t.ButtonType||(t.ButtonType={}));var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buttonRef=(0,l.createRef)(),t.renderChildren=function(){var e=t.props;return e.loading?(0,l.h)("span",null,(0,l.h)(_.Icon,{name:"spinner",size:_.IconSize[e.size]})):e.children?(0,l.h)("span",null,e.children):null},t.renderButton=function(){var e,n=t.props,r=u(p.button,p[n.size],p[n.type],n.className,((e={})[p.disabled]=n.disabled,e[p.loading]=n.loading,e[p.withIcon]=n.children&&n.icon,e[p.iconOnly]=!n.children&&n.icon,e)),i=o(o(o(o({ref:t.buttonRef,disabled:n.disabled,"aria-disabled":n.disabled,"aria-busy":n.loading,tabIndex:n.tabIndex,className:r},n.ariaLabel?{"aria-label":n.ariaLabel}:{}),n.testId?{"data-testid":n.testId}:{}),n.onFocus?{onFocus:n.onFocus}:{}),n.onBlur?{onBlur:n.onBlur}:{}),a=(0,l.h)("button",o({},i),(0,l.h)(l.Fragment,null,n.icon&&(0,l.h)(_.Icon,{name:n.icon,size:_.IconSize[n.size]}),t.renderChildren()));return n.onClick?(0,l.h)(d.A11yWrapper,{onClick:n.onClick},a):a},t}return i(t,e),t.prototype.componentDidMount=function(){var e;this.props.setRef&&this.props.setRef(this.buttonRef.current),this.props.focusOnMount&&(null===(e=this.buttonRef.current)||void 0===e||e.focus())},t.prototype.render=function(e){if(e.tooltip){var t=o(o(o({label:e.tooltip.label},e.tooltip.type?{type:e.tooltip.type}:{}),e.tooltip.className?{classNames:e.tooltip.className}:{}),e.tooltip.strictPosition?{strictPosition:!0}:{});return(0,l.h)(A,o({},t),this.renderButton())}return this.renderButton()},t}(l.Component);t.Button=h,h.defaultProps={disabled:!1,focusOnMount:!1,tabIndex:0,children:null,size:a.medium,icon:null,type:s.primary}},9547:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FocusTrap=void 0;var r=n(4522),i=n(5792),o=n(2052).ui.Event.withEventManager;t.FocusTrap=o((function(e){var t=e.children,n=e.active,o=e.eventManager,a=(0,i.useRef)(null),s=(0,i.useCallback)((function(){if(n){var e=a.current;if(e){var t=e.querySelectorAll('a, button, input, select, textarea, [tabindex]:not([tabindex="-1"])');if(0!==t.length){var r=t[0],i=t[t.length-1],s=function(e){"Tab"===e.key&&(e.shiftKey&&document.activeElement===r?(e.preventDefault(),i.focus()):e.shiftKey||document.activeElement!==i||(e.preventDefault(),r.focus()))};null==o||o.unlisten(document,"keydown",s),null==o||o.listen(document,"keydown",s)}}}}),[n]);return(0,i.useEffect)((function(){if(n){var e=new MutationObserver((function(){s()})),t=a.current;return t&&e.observe(t,{childList:!0,subtree:!0}),s(),function(){t&&e.disconnect()}}}),[n,s]),(0,r.h)("div",{ref:a},t)}))},979:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.A11yWrapper=t.isKeyboardEvent=void 0;var r=n(4522),i=n(2052).ui.utils.KeyMap,o=i.ENTER,a=i.SPACE,s=i.UP,l=i.DOWN,u=i.LEFT,c=i.RIGHT,d=function(e){e.preventDefault(),e.stopPropagation()};t.isKeyboardEvent=function(e){return e instanceof KeyboardEvent||e instanceof PointerEvent&&([e.offsetX,e.offsetY].every((function(e){return 0===e}))||!e.pointerType)},t.A11yWrapper=function(e){var n=e.children,i=e.onClick,_=e.onUpKeyPressed,p=e.onDownKeyPressed,A=e.onLeftKeyPressed,h=e.onRightKeyPressed,f=e.role,v=e.type,g={onKeyDown:function(e){e.keyCode===a||e.keyCode===o?(d(e),i(e,!0)):e.keyCode===s&&_?(d(e),_(e)):e.keyCode===l&&p?(d(e),p(e)):e.keyCode===u&&A?(d(e),A(e)):e.keyCode===c&&h&&(d(e),h(e))},onClick:function(e){i(e,(0,t.isKeyboardEvent)(e))}};return"button"===(null==n?void 0:n.type)&&(g.type=v||"button"),null!==f&&(g.role=f),(0,r.cloneElement)(n,g)},t.A11yWrapper.defaultProps={role:"button"}},8579:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.OverlayPortal=void 0;var a=n(4522),s=KalturaPlayer.ui,l=s.redux.connect,u=s.reducers,c=u.shell,d=u.overlay,_=KalturaPlayer.ui.createPortal,p=".overlay-portal",A=function(e){return{targetId:e.config.targetId}},h=function(e){return{addPlayerClass:function(){return e(c.actions.addPlayerClass("playkit-overlay-active"))},removeOverlay:function(){return e(d.actions.updateOverlay(!1))}}},f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerContainer=document.getElementById(t.props.targetId)||document,t}return i(t,e),t.prototype.componentWillUnmount=function(){var e=this;setTimeout((function(){e.playerContainer.querySelector("".concat(p," > ").concat(".playkit-overlay"))?e.props.addPlayerClass():e.props.removeOverlay()}),0)},t.prototype.render=function(){return _(this.props.children,this.playerContainer.querySelector(p))},o([l(A,h)],t)}(a.Component);t.OverlayPortal=f},9695:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Add=void 0;var r=n(4522);t.Add=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{d:"M21.8083 4C22.4665 4 23 4.55964 23 5.25V18.75C23 19.4404 22.4665 20 21.8083 20H2.19167C1.53353 20 1 19.4404 1 18.75V5.25C1 4.55964 1.53353 4 2.19167 4H21.8083ZM15 6H3V18H15V6ZM12.999 8.967L13 9L12.998 8.94L12.999 8.967L13 9V15C13 15.5523 12.5523 16 12 16C11.4872 16 11.0645 15.614 11.0067 15.1166L11 15V11.414L6.70711 15.7071C6.34662 16.0676 5.77939 16.0953 5.3871 15.7903L5.29289 15.7071C4.93241 15.3466 4.90468 14.7794 5.2097 14.3871L5.29289 14.2929L9.584 10H6C5.48716 10 5.06449 9.61396 5.00673 9.11662L5 9C5 8.44772 5.44772 8 6 8L12.0193 8.00018C12.0427 8.00063 12.066 8.00189 12.0893 8.00397C12.1097 8.00575 12.1294 8.0081 12.149 8.01102C12.1659 8.01363 12.1834 8.0167 12.2007 8.02024C12.2227 8.02464 12.2444 8.02983 12.2658 8.03572C12.2815 8.0401 12.2969 8.04473 12.3121 8.04974C12.3318 8.05612 12.3516 8.06332 12.3711 8.0711L12.4232 8.09367C12.4439 8.10338 12.4643 8.11379 12.4843 8.12488C12.4964 8.1315 12.5086 8.13861 12.5207 8.146C12.5463 8.16172 12.5711 8.17849 12.5952 8.19631L12.6525 8.24221L12.6167 8.21279C12.6802 8.26255 12.7374 8.31982 12.7872 8.38325C12.7927 8.39016 12.7982 8.3974 12.8037 8.40469C12.8215 8.42887 12.8383 8.45372 12.8539 8.47934L12.8753 8.51594C12.8862 8.53571 12.8966 8.55611 12.9063 8.5769L12.9288 8.62866C12.9367 8.64842 12.9439 8.6682 12.9505 8.68826C12.9553 8.70315 12.9599 8.71854 12.9642 8.73401C12.9702 8.75556 12.9754 8.77725 12.9798 8.79921C12.9833 8.81662 12.9864 8.83405 12.989 8.85153L12.9972 8.92482L12.998 8.94L12.999 8.967Z",fill:"white"}))}},3697:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnswerOnAir=void 0;var r=n(4522);t.AnswerOnAir=function(){return(0,r.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.99999 10C7.72605 10 11.1196 10.84 11.3237 12.5079L11.3333 12.6667V13.3333C11.3333 13.6667 11.0854 13.9449 10.7648 13.9927L10.6667 14H1.33332C0.99999 14 0.721753 13.7521 0.673919 13.4315L0.666656 13.3333V12.6667C0.666656 10.8933 4.21999 10 5.99999 10ZM13.9533 1.99333C15.7933 4.42667 15.7867 7.64667 13.9533 10.0067C13.6967 10.3428 13.2103 10.3932 12.8794 10.1476L12.7933 10.0733L12.7733 10.0533C12.5133 9.79333 12.4667 9.38 12.68 9.08C14.0067 7.18667 14.0133 4.74 12.7 2.91333C12.48 2.60667 12.52 2.19333 12.7867 1.92667C13.1133 1.6 13.6733 1.62667 13.9533 1.99333ZM5.99999 3.33333C7.47275 3.33333 8.66666 4.52724 8.66666 6C8.66666 7.47276 7.47275 8.66667 5.99999 8.66667C4.52723 8.66667 3.33332 7.47276 3.33332 6C3.33332 4.52724 4.52723 3.33333 5.99999 3.33333ZM11.7867 4.46C12.3067 5.46667 12.3067 6.6 11.8 7.56667C11.5635 8.02089 10.9728 8.12086 10.5808 7.8178L10.5 7.74667L10.48 7.72667C10.24 7.48667 10.1867 7.13333 10.3133 6.82C10.5267 6.29333 10.5267 5.70667 10.3133 5.18C10.2025 4.90583 10.2295 4.59594 10.3898 4.36643L10.4667 4.27333L10.4733 4.26667C10.8667 3.87333 11.5333 3.96667 11.7867 4.46Z",fill:"white"}))}},6389:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrowClose=void 0;var r=n(4522);t.ArrowClose=function(){return(0,r.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.5 21C5.01472 21 3 18.9853 3 16.5L3 7.5C3 5.01472 5.01472 3 7.5 3L16.5 3C18.9853 3 21 5.01472 21 7.5V16.5C21 18.9853 18.9853 21 16.5 21H7.5ZM8.625 17.625L14.25 17.625L14.3812 17.6174C14.9407 17.5524 15.375 17.0769 15.375 16.5C15.375 15.8787 14.8713 15.375 14.25 15.375L10.218 15.375L17.2955 8.2955L17.3891 8.18951C17.7322 7.74819 17.701 7.11005 17.2955 6.70451C16.8562 6.26517 16.1438 6.26517 15.7045 6.70451L8.625 13.7843L8.625 9.75L8.61743 9.6188C8.55245 9.0593 8.07694 8.625 7.5 8.625C6.87868 8.625 6.375 9.12868 6.375 9.75L6.375 15.375L6.38117 15.5429C6.46706 16.7071 7.43884 17.625 8.625 17.625Z",fill:"white"}))}},3029:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrowOpen=void 0;var r=n(4522);t.ArrowOpen=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.5 3C18.9853 3 21 5.01472 21 7.5V16.5C21 18.9853 18.9853 21 16.5 21H7.5C5.01472 21 3 18.9853 3 16.5V7.5C3 5.01472 5.01472 3 7.5 3H16.5ZM15.375 6.375H9.75L9.6188 6.38257C9.0593 6.44755 8.625 6.92306 8.625 7.5C8.625 8.12132 9.12868 8.625 9.75 8.625H13.782L6.7045 15.7045L6.61092 15.8105C6.26776 16.2518 6.29896 16.89 6.7045 17.2955C7.14384 17.7348 7.85616 17.7348 8.2955 17.2955L15.375 10.2158V14.25L15.3826 14.3812C15.4476 14.9407 15.9231 15.375 16.5 15.375C17.1213 15.375 17.625 14.8713 17.625 14.25V8.625L17.6188 8.45708C17.5329 7.29286 16.5612 6.375 15.375 6.375Z",fill:"white"}))}},7817:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Attach=void 0;var r=n(4522);t.Attach=function(){return(0,r.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.657 9.34254L21.657 9.34254C22.2093 9.34254 22.657 9.79026 22.657 10.3425L22.657 19.3425C22.657 19.8948 22.2093 20.3425 21.657 20.3425C21.1047 20.3425 20.657 19.8948 20.657 19.3425L20.657 12.7568L11.0504 22.3634C10.6599 22.7539 10.0267 22.7539 9.63618 22.3634C9.24566 21.9728 9.24566 21.3397 9.63618 20.9491L19.2428 11.3425L12.657 11.3425C12.1047 11.3425 11.657 10.8948 11.657 10.3425C11.657 9.79026 12.1047 9.34254 12.657 9.34254Z",fill:"white"}))}},8806:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Audio=void 0;var r=n(4522);t.Audio=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.5 4.5C10.5 3.67157 11.1716 3 12 3C12.8284 3 13.5 3.67157 13.5 4.5V19.5C13.5 20.3284 12.8284 21 12 21C11.1716 21 10.5 20.3284 10.5 19.5V4.5ZM4.5 9C4.5 8.17157 5.17157 7.5 6 7.5C6.82843 7.5 7.5 8.17157 7.5 9V15C7.5 15.8284 6.82843 16.5 6 16.5C5.17157 16.5 4.5 15.8284 4.5 15V9ZM18 7.5C17.1716 7.5 16.5 8.17157 16.5 9V15C16.5 15.8284 17.1716 16.5 18 16.5C18.8284 16.5 19.5 15.8284 19.5 15V9C19.5 8.17157 18.8284 7.5 18 7.5Z",fill:"white"}))}},960:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoScroll=void 0;var r=n(4522);t.AutoScroll=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},(0,r.h)("path",{d:"M6.29289 15.2929C6.65338 14.9324 7.22061 14.9047 7.6129 15.2097L7.70711 15.2929L12 19.585L16.2929 15.2929C16.6534 14.9324 17.2206 14.9047 17.6129 15.2097L17.7071 15.2929C18.0676 15.6534 18.0953 16.2206 17.7903 16.6129L17.7071 16.7071L12.7071 21.7071C12.3466 22.0676 11.7794 22.0953 11.3871 21.7903L11.2929 21.7071L6.29289 16.7071C5.90237 16.3166 5.90237 15.6834 6.29289 15.2929Z",fill:"white"}),(0,r.h)("path",{d:"M17.7071 8.70711C17.3466 9.06759 16.7794 9.09532 16.3871 8.7903L16.2929 8.70711L12 4.415L7.70711 8.70711C7.34662 9.06759 6.77939 9.09532 6.3871 8.79029L6.29289 8.70711C5.93241 8.34662 5.90468 7.77939 6.2097 7.3871L6.29289 7.29289L11.2929 2.29289C11.6534 1.93241 12.2206 1.90468 12.6129 2.2097L12.7071 2.29289L17.7071 7.29289C18.0976 7.68342 18.0976 8.31658 17.7071 8.70711Z",fill:"white"}),(0,r.h)("rect",{x:"10",y:"10",width:"4",height:"4",rx:"2",fill:"white"}))}},4953:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chapter=void 0;var r=n(4522);t.Chapter=function(){return(0,r.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 4C4 3.44772 4.44772 3 5 3H11C11.5523 3 12 3.44772 12 4V13C12 13.824 11.0592 14.2944 10.4 13.8L8.6 12.45C8.24444 12.1833 7.75556 12.1833 7.4 12.45L5.6 13.8C4.94076 14.2944 4 13.824 4 13V4Z",fill:"white"}))}},5982:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Check=void 0;var r=n(4522);t.Check=function(){return(0,r.h)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.6402 4.2318C13.0645 4.58537 13.1218 5.21593 12.7682 5.64021L7.76822 11.6402C7.58835 11.856 7.32599 11.9863 7.04531 11.999C6.76464 12.0117 6.49156 11.9058 6.29289 11.7071L4.29289 9.70713C3.90237 9.31661 3.90237 8.68344 4.29289 8.29292C4.68342 7.90239 5.31658 7.90239 5.70711 8.29292L6.9328 9.51861L11.2318 4.35984C11.5853 3.93556 12.2159 3.87824 12.6402 4.2318Z",fill:"white"}))}},5109:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChevronRight=void 0;var r=n(4522);t.ChevronRight=function(){return(0,r.h)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.29289 11.7071C5.90237 11.3166 5.90237 10.6834 6.29289 10.2929L8.58579 8L6.29289 5.70711C5.90237 5.31658 5.90237 4.68342 6.29289 4.29289C6.68342 3.90237 7.31658 3.90237 7.70711 4.29289L10.7071 7.29289C11.0976 7.68342 11.0976 8.31658 10.7071 8.70711L7.70711 11.7071C7.31658 12.0976 6.68342 12.0976 6.29289 11.7071Z",fill:"white"}))}},5254:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Close=void 0;var r=n(4522);t.Close=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{d:"M11.6592 10.245L6.70483 5.29061C6.31701 4.9028 5.68581 4.90476 5.29528 5.29528C4.90204 5.68853 4.90267 6.31688 5.29061 6.70483L10.245 11.6592L5.29061 16.6137C4.9028 17.0015 4.90476 17.6327 5.29528 18.0232C5.68853 18.4165 6.31688 18.4158 6.70483 18.0279L11.6592 13.0735L16.6137 18.0279C17.0015 18.4157 17.6327 18.4137 18.0232 18.0232C18.4165 17.63 18.4158 17.0016 18.0279 16.6137L13.0735 11.6592L18.0279 6.70483C18.4157 6.31701 18.4137 5.68581 18.0232 5.29528C17.63 4.90204 17.0016 4.90267 16.6137 5.29061L11.6592 10.245Z",fill:"white"}))}},6432:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClosedCaptions=void 0;var r=n(4522);t.ClosedCaptions=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.53616 4C2.68845 4 2 4.68038 2 5.51967V18.4803C2 19.3125 2.68776 20 3.53616 20H20.4638C21.3116 20 22 19.3196 22 18.4803V5.51967C22 4.6875 21.3122 4 20.4638 4H3.53616ZM11.4852 13.4164C11.4852 13.6096 11.4297 13.8161 11.3186 14.0358C11.2074 14.2555 11.0381 14.4648 10.8104 14.6637C10.5827 14.8626 10.2958 15.0227 9.94978 15.1439C9.60371 15.2652 9.21394 15.3258 8.78045 15.3258C7.85882 15.3258 7.13938 15.0464 6.6221 14.4876C6.10483 13.9288 5.84619 13.1796 5.84619 12.2401C5.84619 11.6036 5.96458 11.041 6.20136 10.5523C6.43814 10.0636 6.78056 9.68567 7.22863 9.41858C7.67669 9.15149 8.21217 9.01794 8.83509 9.01794C9.22123 9.01794 9.57548 9.07667 9.89787 9.19411C10.2203 9.31155 10.4935 9.46309 10.7175 9.64873C10.9415 9.83436 11.1127 10.0323 11.2311 10.2426C11.3495 10.4528 11.4087 10.6489 11.4087 10.8307C11.4087 11.0164 11.3422 11.1736 11.2093 11.3024C11.0763 11.4312 10.9151 11.4956 10.7257 11.4956C10.6018 11.4956 10.4989 11.4625 10.417 11.3962C10.335 11.3299 10.243 11.2228 10.141 11.0751C9.95889 10.7872 9.76855 10.5712 9.57002 10.4273C9.37149 10.2833 9.11923 10.2113 8.81323 10.2113C8.37246 10.2113 8.01729 10.3903 7.74772 10.7483C7.47815 11.1064 7.34337 11.596 7.34337 12.2173C7.34337 12.509 7.37798 12.7771 7.44719 13.0214C7.51641 13.2658 7.61658 13.4742 7.74772 13.6465C7.87886 13.8189 8.03732 13.9496 8.2231 14.0386C8.40889 14.1277 8.61288 14.1722 8.83509 14.1722C9.1338 14.1722 9.3897 14.1002 9.60281 13.9562C9.81591 13.8123 10.0044 13.5925 10.1683 13.297C10.2594 13.1228 10.3578 12.9864 10.4634 12.8879C10.5691 12.7894 10.6984 12.7401 10.8514 12.7401C11.0335 12.7401 11.1847 12.8121 11.3049 12.9561C11.4251 13.1 11.4852 13.2535 11.4852 13.4164ZM18.1351 13.4164C18.1351 13.6096 18.0796 13.8161 17.9684 14.0358C17.8573 14.2555 17.688 14.4648 17.4603 14.6637C17.2326 14.8626 16.9457 15.0227 16.5997 15.1439C16.2536 15.2652 15.8638 15.3258 15.4303 15.3258C14.5087 15.3258 13.7893 15.0464 13.272 14.4876C12.7547 13.9288 12.4961 13.1796 12.4961 12.2401C12.4961 11.6036 12.6145 11.041 12.8513 10.5523C13.088 10.0636 13.4305 9.68567 13.8785 9.41858C14.3266 9.15149 14.8621 9.01794 15.485 9.01794C15.8711 9.01794 16.2254 9.07667 16.5478 9.19411C16.8702 9.31155 17.1434 9.46309 17.3674 9.64873C17.5914 9.83436 17.7626 10.0323 17.881 10.2426C17.9994 10.4528 18.0586 10.6489 18.0586 10.8307C18.0586 11.0164 17.9921 11.1736 17.8592 11.3024C17.7262 11.4312 17.565 11.4956 17.3756 11.4956C17.2517 11.4956 17.1488 11.4625 17.0669 11.3962C16.9849 11.3299 16.8929 11.2228 16.7909 11.0751C16.6088 10.7872 16.4184 10.5712 16.2199 10.4273C16.0214 10.2833 15.7691 10.2113 15.4631 10.2113C15.0223 10.2113 14.6672 10.3903 14.3976 10.7483C14.128 11.1064 13.9933 11.596 13.9933 12.2173C13.9933 12.509 14.0279 12.7771 14.0971 13.0214C14.1663 13.2658 14.2665 13.4742 14.3976 13.6465C14.5288 13.8189 14.6872 13.9496 14.873 14.0386C15.0588 14.1277 15.2628 14.1722 15.485 14.1722C15.7837 14.1722 16.0396 14.1002 16.2527 13.9562C16.4658 13.8123 16.6543 13.5925 16.8182 13.297C16.9093 13.1228 17.0077 12.9864 17.1133 12.8879C17.2189 12.7894 17.3483 12.7401 17.5013 12.7401C17.6834 12.7401 17.8346 12.8121 17.9548 12.9561C18.075 13.1 18.1351 13.2535 18.1351 13.4164Z",fill:"white"}))}},3235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Detach=void 0;var r=n(4522);t.Detach=function(){return(0,r.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 6C6.89543 6 6 6.89543 6 8V14C6 15.1046 6.89543 16 8 16L8 23C8 24.6569 9.34315 26 11 26H23C24.6569 26 26 24.6569 26 23V11C26 9.34315 24.6569 8 23 8H16C16 6.89543 15.1046 6 14 6H8ZM10 16H14C15.1046 16 16 15.1046 16 14V10H23C23.5523 10 24 10.4477 24 11V23C24 23.5523 23.5523 24 23 24H11C10.4477 24 10 23.5523 10 23V16Z",fill:"white"}))}},9398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Document=void 0;var r=n(4522);t.Document=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6 2H9.82843H14.1716H18C19.1046 2 20 2.89543 20 4V7.82843V20C20 21.1046 19.1046 22 18 22H6C4.89543 22 4 21.1046 4 20V7.82843V4C4 2.89543 4.89543 2 6 2ZM13 16C13 15.4477 12.5523 15 12 15H8C7.44772 15 7 15.4477 7 16C7 16.5523 7.44772 17 8 17H12C12.5523 17 13 16.5523 13 16ZM17 12C17 11.4477 16.5523 11 16 11H8C7.44772 11 7 11.4477 7 12C7 12.5523 7.44772 13 8 13H16C16.5523 13 17 12.5523 17 12ZM17 8C17 7.44772 16.5523 7 16 7H8C7.44772 7 7 7.44772 7 8C7 8.55228 7.44772 9 8 9H16C16.5523 9 17 8.55228 17 8Z",fill:"white"}))}},1577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Download=void 0;var r=n(4522);t.Download=function(){return(0,r.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{d:"M17.5 6C17.5 5.44772 17.0523 5 16.5 5L16.3834 5.00673C15.886 5.06449 15.5 5.48716 15.5 6L15.4997 17.693L9.71029 12.2702C9.30721 11.8926 8.67439 11.9133 8.29683 12.3164C7.91928 12.7195 7.93998 13.3523 8.34306 13.7298L15.8164 20.7298C15.8212 20.7343 15.826 20.7387 15.8308 20.7431L15.8164 20.7298L15.9035 20.8027C15.9034 20.8026 15.9037 20.8028 15.9035 20.8027C15.9135 20.8101 15.9231 20.817 15.9333 20.824C15.956 20.8397 15.9793 20.8544 16.0038 20.8684C16.0148 20.8747 16.0259 20.8808 16.0366 20.8864C16.0596 20.8984 16.0832 20.9096 16.1077 20.9201C16.1223 20.9263 16.1371 20.9322 16.1515 20.9376C16.1769 20.947 16.2028 20.9555 16.2299 20.963C16.2399 20.9658 16.25 20.9684 16.2595 20.9709C16.3365 20.9899 16.4171 21 16.5 21C16.5804 21 16.6585 20.9905 16.7336 20.9725C16.7521 20.968 16.7706 20.963 16.7889 20.9576C16.8097 20.9514 16.8303 20.9444 16.8507 20.9367C16.8632 20.932 16.8756 20.9271 16.8878 20.922C16.9121 20.9118 16.936 20.9006 16.9596 20.8883C16.9735 20.8812 16.9872 20.8736 17.0007 20.8658C17.0223 20.8533 17.0434 20.84 17.0636 20.8262C17.0764 20.8174 17.0891 20.8083 17.1021 20.7985C17.1224 20.7831 17.1422 20.767 17.161 20.7504C17.1685 20.7437 17.176 20.737 17.1834 20.7301L24.6619 13.7301C25.0651 13.3527 25.086 12.7198 24.7086 12.3166L24.6172 12.2304C24.2352 11.9126 23.6674 11.9215 23.2952 12.2699L17.4997 17.694L17.5 6Z",fill:"white"}),(0,r.h)("path",{d:"M27 26C27 26.5523 26.5523 27 26 27H7C6.44772 27 6 26.5523 6 26C6 25.4477 6.44772 25 7 25H26C26.5523 25 27 25.4477 27 26Z",fill:"white"}))}},4263:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Excel=void 0;var r=n(4522);t.Excel=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22 6C22 4.89543 21.1046 4 20 4H4C2.89543 4 2 4.89543 2 6V18C2 19.1046 2.89543 20 4 20H20C21.1046 20 22 19.1046 22 18V6ZM8 16C8 15.4477 7.55228 15 7 15H5C4.44772 15 4 15.4477 4 16C4 16.5523 4.44772 17 5 17H7C7.55228 17 8 16.5523 8 16ZM14 16C14 15.4477 13.5523 15 13 15H11C10.4477 15 10 15.4477 10 16C10 16.5523 10.4477 17 11 17H13C13.5523 17 14 16.5523 14 16ZM8 12C8 11.4477 7.55228 11 7 11H5C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13H7C7.55228 13 8 12.5523 8 12ZM14 12C14 11.4477 13.5523 11 13 11H11C10.4477 11 10 11.4477 10 12C10 12.5523 10.4477 13 11 13H13C13.5523 13 14 12.5523 14 12ZM8 8C8 7.44772 7.55228 7 7 7H5C4.44772 7 4 7.44772 4 8C4 8.55228 4.44772 9 5 9H7C7.55228 9 8 8.55228 8 8ZM14 8C14 7.44772 13.5523 7 13 7H11C10.4477 7 10 7.44772 10 8C10 8.55228 10.4477 9 11 9H13C13.5523 9 14 8.55228 14 8ZM19 17H17C16.4477 17 16 16.5523 16 16C16 15.4477 16.4477 15 17 15H19C19.5523 15 20 15.4477 20 16C20 16.5523 19.5523 17 19 17ZM17 13H19C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11H17C16.4477 11 16 11.4477 16 12C16 12.5523 16.4477 13 17 13ZM19 9H17C16.4477 9 16 8.55228 16 8C16 7.44772 16.4477 7 17 7H19C19.5523 7 20 7.44772 20 8C20 8.55228 19.5523 9 19 9Z",fill:"white"}))}},2942:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Expand=void 0;var r=n(4522);t.Expand=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{d:"M20.997 3.924L20.998 3.945L20.999 3.98L21 4V10C21 10.5523 20.5523 11 20 11C19.4872 11 19.0645 10.614 19.0067 10.1166L19 10V6.416L14.7071 10.7071C14.3466 11.0676 13.7794 11.0953 13.3871 10.7903L13.2929 10.7071C12.9324 10.3466 12.9047 9.77939 13.2097 9.3871L13.2929 9.29289L17.586 5H14C13.4872 5 13.0645 4.61396 13.0067 4.11662L13 4C13 3.48716 13.386 3.06449 13.8834 3.00673L14 3L20.0332 3.00054C20.0503 3.00109 20.0683 3.00216 20.0862 3.0037C20.1079 3.00553 20.1285 3.00797 20.149 3.01102C20.166 3.01363 20.1834 3.0167 20.2007 3.02024C20.2227 3.02464 20.2444 3.02983 20.2658 3.03572C20.2815 3.0401 20.2969 3.04473 20.3121 3.04974C20.3318 3.05612 20.3516 3.06332 20.3711 3.0711L20.4232 3.09367C20.4439 3.10338 20.4643 3.11379 20.4843 3.12488C20.4964 3.1315 20.5086 3.13861 20.5207 3.146C20.5463 3.16172 20.5711 3.17849 20.5952 3.19631L20.6525 3.24221L20.6168 3.21279C20.6802 3.26255 20.7374 3.31982 20.7872 3.38325C20.7927 3.39016 20.7982 3.3974 20.8037 3.40469C20.8215 3.42887 20.8383 3.45373 20.8539 3.47934L20.8753 3.51594C20.8862 3.53571 20.8966 3.55611 20.9063 3.5769L20.9288 3.62866C20.9367 3.64842 20.9439 3.6682 20.9505 3.68826C20.9553 3.70315 20.9599 3.71854 20.9642 3.73401C20.9702 3.75556 20.9754 3.77725 20.9798 3.79921C20.9833 3.81662 20.9864 3.83405 20.989 3.85153L20.996 3.91075L20.996 3.919L20.997 3.921V3.924ZM3.002 20.059V20.071L3.00175 20.0593C3.00122 20.0503 3.00081 20.0413 3.00052 20.0323L3 14C3 13.4477 3.44772 13 4 13C4.51284 13 4.93551 13.386 4.99327 13.8834L5 14V17.586L9.29289 13.2929C9.65338 12.9324 10.2206 12.9047 10.6129 13.2097L10.7071 13.2929C11.0676 13.6534 11.0953 14.2206 10.7903 14.6129L10.7071 14.7071L6.416 19H10C10.5128 19 10.9355 19.386 10.9933 19.8834L11 20C11 20.5128 10.614 20.9355 10.1166 20.9933L10 21H4C3.99354 21 3.98709 20.9999 3.98066 20.9998C3.95732 20.9994 3.93401 20.9981 3.91075 20.996C3.89031 20.9943 3.87058 20.9919 3.85104 20.989C3.83405 20.9864 3.81662 20.9833 3.79927 20.9798C3.77725 20.9754 3.75556 20.9702 3.73416 20.9643C3.71854 20.9599 3.70315 20.9553 3.68786 20.9503C3.6682 20.9439 3.64842 20.9367 3.62894 20.9289L3.57678 20.9063C3.55611 20.8966 3.53571 20.8862 3.51572 20.8751C3.50361 20.8685 3.49139 20.8614 3.47929 20.854C3.45373 20.8383 3.42887 20.8215 3.40484 20.8037L3.34745 20.7578L3.38325 20.7872C3.31982 20.7374 3.26255 20.6802 3.21279 20.6168C3.20728 20.6098 3.20175 20.6026 3.19633 20.5953C3.17849 20.5711 3.16172 20.5463 3.14607 20.5207L3.12467 20.4841C3.11379 20.4643 3.10338 20.4439 3.09365 20.4231L3.07123 20.3713C3.06332 20.3516 3.05612 20.3318 3.04955 20.3117C3.04473 20.2969 3.0401 20.2815 3.03585 20.266C3.02983 20.2444 3.02464 20.2227 3.02017 20.2008C3.0167 20.1834 3.01363 20.1659 3.01102 20.1485L3.0037 20.0862L3.002 20.059Z",fill:"white"}))}},8358:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericFile=void 0;var r=n(4522);t.GenericFile=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6 2C4.89543 2 4 2.89543 4 4V20C4 21.1046 4.89543 22 6 22H18C19.1046 22 20 21.1046 20 20V7.82843C20 7.29799 19.7893 6.78929 19.4142 6.41421L15.5858 2.58579C15.2107 2.21071 14.702 2 14.1716 2H6ZM14.3657 4.36569C13.8617 3.86171 13 4.21865 13 4.93137V8.2C13 8.64183 13.3582 9 13.8 9H17.0686C17.7814 9 18.1383 8.13829 17.6343 7.63431L14.3657 4.36569Z",fill:"white"}))}},3057:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hotspot=void 0;var r=n(4522);t.Hotspot=function(){return(0,r.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.5 2C6.11537 2 5.79837 2.28953 5.75505 2.66253L5.75 2.75V3.5C5.75 3.91421 6.08579 4.25 6.5 4.25C6.88463 4.25 7.20163 3.96047 7.24495 3.58747L7.25 3.5V2.75C7.25 2.33579 6.91421 2 6.5 2ZM11.7955 3.8295C11.5235 3.55753 11.0946 3.53811 10.8003 3.77123L10.7348 3.8295L10.2045 4.35984C9.91161 4.65273 9.91161 5.1276 10.2045 5.4205C10.4765 5.69247 10.9054 5.71189 11.1997 5.47878L11.2652 5.4205L11.7955 4.89016C12.0884 4.59727 12.0884 4.1224 11.7955 3.8295ZM3.4545 12.1705C3.72648 12.4425 4.15536 12.4619 4.44975 12.2288L4.51516 12.1705L5.0455 11.6402C5.33839 11.3473 5.33839 10.8724 5.0455 10.5795C4.77352 10.3075 4.34464 10.2881 4.05025 10.5212L3.98484 10.5795L3.4545 11.1098C3.16161 11.4027 3.16161 11.8776 3.4545 12.1705ZM6.53592 6.98358C6.65797 6.61718 7.05316 6.41577 7.4186 6.53371L13.5234 8.50394C13.6272 8.53745 13.7214 8.59497 13.7983 8.67186C14.0693 8.94255 14.0669 9.38382 13.793 9.65748L12.8998 10.5499C12.7787 10.6708 12.7713 10.8642 12.8828 10.9915L13.6084 11.8185C14.0177 12.3362 13.9793 13.0939 13.4958 13.5769L13.4659 13.6069C12.9452 14.127 12.1056 14.1316 11.5906 13.6171L10.9802 12.9207C10.8554 12.7952 10.6516 12.7959 10.525 12.9224L9.66058 13.786C9.58277 13.8638 9.48795 13.9223 9.38376 13.957C9.01702 14.0789 8.624 13.8818 8.50593 13.5167L6.53356 7.41792C6.48802 7.27709 6.48885 7.12492 6.53592 6.98358ZM3.5 5.75C3.91421 5.75 4.25 6.08579 4.25 6.5C4.25 6.91421 3.91421 7.25 3.5 7.25H2.75C2.33579 7.25 2 6.91421 2 6.5C2 6.08579 2.33579 5.75 2.75 5.75H3.5Z",fill:"white"}))}},8934:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Image=void 0;var r=n(4522);t.Image=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20 4C21.1046 4 22 4.89543 22 6V18C22 19.1046 21.1046 20 20 20H4C2.89543 20 2 19.1046 2 18V6C2 4.89543 2.89543 4 4 4H20ZM13.4658 9.8483C13.739 9.41452 14.1763 9.3854 14.4736 9.76788L14.5351 9.85614L18.2077 15.7324C18.6176 16.3882 18.3599 16.9391 17.6281 16.9953L17.5018 17H6.49825C5.71856 17 5.40843 16.498 5.77171 15.8584L5.83853 15.7506L8.44382 11.8687C8.72793 11.4454 9.26701 11.3331 9.6897 11.5934L9.785 11.6602L10.696 12.3798C11.1046 12.7026 11.6375 12.6332 11.9477 12.2465L12.0152 12.1517L13.4658 9.8483ZM9 8.5C9 7.672 8.328 7 7.5 7C6.672 7 6 7.672 6 8.5C6 9.329 6.672 10 7.5 10C8.328 10 9 9.329 9 8.5Z",fill:"white"}))}},1861:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Icons=void 0;var r=n(5254),i=n(9919),o=n(1577),a=n(7024),s=n(8835),l=n(1223),u=n(7858),c=n(6563),d=n(2489),_=n(9695),p=n(756),A=n(4726),h=n(2942),f=n(3029),v=n(6389),g=n(4953),b=n(3057),m=n(3697),y=n(9209),C=n(960),w=n(8255),k=n(6432),E=n(8358),x=n(6150),T=n(8934),q=n(9398),S=n(4263),O=n(6044),I=n(3319),D=n(7016),P=n(2084),B=n(8177),M=n(3235),R=n(7817),L=n(8806),N=n(5109),z=n(5982);t.Icons={close:r.Close,print:i.Print,download:o.Download,related:a.Related,message:s.Message,share:l.Share,more:u.More,quiz:c.QuizIcon,switch:d.Switch,add:_.Add,minimizedVideo:p.MinimizedVideo,pictureInPicture:A.PictureInPicture,expand:h.Expand,arrowOpen:f.ArrowOpen,arrowClose:v.ArrowClose,chapter:g.Chapter,hotspot:b.Hotspot,answerOnAir:m.AnswerOnAir,screenRotation:y.ScreenRotation,autoScroll:C.AutoScroll,replay:w.ReplayIcon,closedCaptions:k.ClosedCaptions,genericFile:E.GenericFile,presentation:x.Presentation,image:T.Image,document:q.Document,excel:S.Excel,pdf:O.PDF,zip:I.Zip,volumeOn:D.VolumeOn,volumeMute:P.VolumeMute,spinner:B.Spinner,detach:M.Detach,attach:R.Attach,audio:L.Audio,chevronRight:N.ChevronRight,check:z.Check}},8835:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Message=void 0;var r=n(4522);t.Message=function(){return(0,r.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M25 5C27.2091 5 29 6.75035 29 8.90952V18.6833C29 20.8425 27.2091 22.5928 25 22.5928H14.985L10.7019 26.7188C10.546 26.8689 10.3449 26.9641 10.1302 26.9917L10 27C9.44772 27 9 26.5624 9 26.0226V22.5928H7C4.79086 22.5928 3 20.8425 3 18.6833V8.90952C3 6.75035 4.79086 5 7 5H25ZM25 6.95476H7C5.89543 6.95476 5 7.82994 5 8.90952V18.6833C5 19.7629 5.89543 20.6381 7 20.6381H11V23.687L14.1651 20.6381H25C26.1046 20.6381 27 19.7629 27 18.6833V8.90952C27 7.82994 26.1046 6.95476 25 6.95476ZM19 14.7738C19.5523 14.7738 20 15.2114 20 15.7512C20 16.291 19.5523 16.7286 19 16.7286H10C9.44772 16.7286 9 16.291 9 15.7512C9 15.2114 9.44772 14.7738 10 14.7738H19ZM23 10.8643C23.5523 10.8643 24 11.3019 24 11.8417C24 12.3815 23.5523 12.819 23 12.819H10C9.44772 12.819 9 12.3815 9 11.8417C9 11.3019 9.44772 10.8643 10 10.8643H23Z",fill:"white"}))}},756:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MinimizedVideo=void 0;var r=n(4522);t.MinimizedVideo=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.25 4.5H18.75C19.9926 4.5 21 5.50736 21 6.75V17.25C21 18.4926 19.9926 19.5 18.75 19.5H5.25C4.00736 19.5 3 18.4926 3 17.25V6.75C3 5.50736 4.00736 4.5 5.25 4.5ZM5.25 6C4.83579 6 4.5 6.33579 4.5 6.75V17.25C4.5 17.6642 4.83579 18 5.25 18H18.75C19.1642 18 19.5 17.6642 19.5 17.25V6.75C19.5 6.33579 19.1642 6 18.75 6H5.25ZM13 12C12.4477 12 12 12.4477 12 13V15.5C12 16.0523 12.4477 16.5 13 16.5H17C17.5523 16.5 18 16.0523 18 15.5V13C18 12.4477 17.5523 12 17 12H13Z",fill:"white"}))}},7858:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.More=void 0;var r=n(4522);t.More=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},(0,r.h)("path",{d:"M8 12C8 13.1046 7.10457 14 6 14C4.89543 14 4 13.1046 4 12C4 10.8954 4.89543 10 6 10C7.10457 10 8 10.8954 8 12ZM14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12ZM20 12C20 13.1046 19.1046 14 18 14C16.8954 14 16 13.1046 16 12C16 10.8954 16.8954 10 18 10C19.1046 10 20 10.8954 20 12Z",fill:"white"}))}},6044:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDF=void 0;var r=n(4522);t.PDF=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{d:"M16.2428 13.7325C17.4357 13.7542 18.6185 13.8543 19.7692 14.1927C20.2755 14.3415 20.7634 14.5301 21.1919 14.8459C22.0863 15.5045 22.2575 16.5466 21.6176 17.4515C20.9502 18.3952 19.8553 18.72 18.699 18.3321C17.8678 18.0533 17.1473 17.5995 16.5083 17.0166C15.915 16.4753 15.3392 15.9159 14.7469 15.3728C14.6746 15.3069 14.5482 15.2591 14.4503 15.2645C13.1247 15.3448 11.8091 15.509 10.5119 15.7995C10.0065 15.9123 9.50577 16.0458 9.00867 16.1884C8.9162 16.2146 8.82374 16.3138 8.77522 16.4031C8.07579 17.6978 7.33425 18.9672 6.42427 20.1329C5.98118 20.7004 5.49231 21.2273 4.87985 21.6261C3.70346 22.3912 2.4932 21.9482 2.10595 20.6075C1.88074 19.828 2.01715 19.1098 2.49045 18.4458C3.25945 17.3658 4.29212 16.5917 5.46301 15.998C6.15878 15.6453 6.89849 15.3755 7.61256 15.0561C7.72516 15.0056 7.84509 14.9081 7.89911 14.8017C8.68916 13.2489 9.37486 11.6511 9.98182 10.0199C10.0386 9.86741 10.023 9.75825 9.93879 9.62562C9.17254 8.42205 8.68001 7.12375 8.59212 5.69644C8.52987 4.68865 8.64431 3.71155 9.23845 2.84631C9.8207 1.99822 10.8058 1.74831 11.6059 2.27611C12.2705 2.71459 12.6788 3.33712 12.7594 4.13649C12.8656 5.19209 12.6788 6.22063 12.4216 7.23743C12.2357 7.97275 12.0087 8.69813 11.7899 9.42532C11.7487 9.56246 11.7643 9.659 11.8494 9.77629C12.8399 11.1441 13.9632 12.4018 15.147 13.608C15.2156 13.6784 15.341 13.7217 15.4427 13.7289C15.7081 13.7434 15.9755 13.7325 16.2428 13.7325ZM9.79415 14.3894C10.9486 14.1981 12.0792 14.0104 13.2171 13.8219C12.5168 13.0017 11.8155 12.1798 11.1069 11.3507C10.6648 12.3738 10.2327 13.3735 9.79415 14.3894ZM10.7133 7.76704C10.7591 7.60103 10.8058 7.43592 10.8497 7.26901C11.0777 6.4101 11.3029 5.54937 11.2855 4.65347C11.2809 4.40716 11.2141 4.14551 11.1079 3.92176C11.0319 3.76207 10.8424 3.65471 10.7041 3.52388C10.5833 3.67095 10.4267 3.80267 10.3471 3.96868C10.1137 4.45588 10.0834 4.98458 10.1127 5.51329C10.1576 6.29912 10.3379 7.05428 10.7133 7.76704ZM6.60279 17.0942C5.92899 17.4163 5.3083 17.7592 4.77915 18.2283C4.40197 18.563 4.06233 18.942 3.73642 19.3272C3.48832 19.6204 3.46452 19.9696 3.62931 20.3242C3.70438 20.4866 3.80233 20.5461 3.96071 20.427C4.11817 20.3088 4.28662 20.2015 4.42852 20.068C5.31471 19.2334 5.95097 18.2148 6.58356 17.1944C6.59546 17.1763 6.59272 17.152 6.60279 17.0942ZM16.8937 15.2762C17.54 15.9394 18.2166 16.5529 19.1055 16.8678C19.3087 16.9399 19.5358 16.9715 19.7518 16.9724C20.0594 16.9742 20.4055 16.6792 20.4503 16.3842C20.497 16.0792 20.2233 15.9998 20.0237 15.9033C19.0396 15.426 17.9685 15.3484 16.8937 15.2762Z",fill:"white"}))}},4726:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PictureInPicture=void 0;var r=n(4522);t.PictureInPicture=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.75 4.5H5.25C4.00736 4.5 3 5.50736 3 6.75V17.25C3 18.4926 4.00736 19.5 5.25 19.5H18.75C19.9926 19.5 21 18.4926 21 17.25V6.75C21 5.50736 19.9926 4.5 18.75 4.5ZM13 12C12.4477 12 12 12.4477 12 13V15.5C12 16.0523 12.4477 16.5 13 16.5H17C17.5523 16.5 18 16.0523 18 15.5V13C18 12.4477 17.5523 12 17 12H13Z",fill:"white"}))}},6150:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Presentation=void 0;var r=n(4522);t.Presentation=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6 4C4.34315 4 3 5.34315 3 7V17C3 18.6569 4.34315 20 6 20H18C19.6569 20 21 18.6569 21 17V7C21 5.34315 19.6569 4 18 4H6ZM18 8H6V16H18V8Z",fill:"white"}))}},9919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Print=void 0;var r=n(4522);t.Print=function(){return(0,r.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M23 23H26C27.1046 23 28 22.1046 28 21V11C28 9.89543 27.1046 9 26 9H23V5C23 3.89543 22.1046 3 21 3H11C9.89543 3 9 3.89543 9 5V9H6C4.89543 9 4 9.89543 4 11V21C4 22.1046 4.89543 23 6 23H9V28C9 29.1046 9.89543 30 11 30H21C22.1046 30 23 29.1046 23 28V23ZM6 11V21H9V19C8.44772 19 8 18.5523 8 18C8 17.4477 8.44772 17 9 17H23C23.5523 17 24 17.4477 24 18C24 18.5523 23.5523 19 23 19V21H26V11H6ZM21 9V5H11V9H21ZM11 19V28H21V19H11Z",fill:"white"}))}},6563:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuizIcon=void 0;var r=n(4522);t.QuizIcon=function(){return(0,r.h)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.49857 2.11499L12.7442 4.2052C12.9162 4.28987 12.9812 4.48721 12.8895 4.64597C12.8594 4.69807 12.8145 4.74163 12.7597 4.77201L8.54484 7.10634C8.20953 7.29205 7.79063 7.29205 7.45532 7.10634L3.2405 4.77202C3.07335 4.67945 3.01915 4.47933 3.11944 4.32505C3.15235 4.27441 3.19956 4.23299 3.256 4.2052L7.50203 2.11498C7.81345 1.96167 8.18715 1.96168 8.49857 2.11499ZM14 6.02878V10.7642C14 11.1075 13.8049 11.4256 13.486 11.6022L9.24043 13.9536C9.07328 14.0461 8.85649 13.9961 8.7562 13.8418C8.72329 13.7912 8.7059 13.7333 8.7059 13.6742V8.93882C8.7059 8.59551 8.90104 8.27738 9.21997 8.10075L13.4655 5.74942C13.6326 5.65685 13.8494 5.70688 13.9497 5.86116C13.9826 5.91179 14 5.96973 14 6.02878ZM6.5145 8.31192L2.50483 6.04476C2.45303 6.01547 2.39375 6 2.33333 6C2.14924 6 2 6.14064 2 6.31412V10.88C2 11.211 2.1843 11.5178 2.4855 11.6881L6.49517 13.9552C6.54697 13.9845 6.60625 14 6.66667 14C6.85076 14 7 13.8594 7 13.6859V9.12C7 8.78898 6.8157 8.48223 6.5145 8.31192Z",fill:"white"}))}},7024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Related=void 0;var r=n(4522);t.Related=function(){return(0,r.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 7H12C13.1046 7 14 7.89543 14 9V13C14 14.1046 13.1046 15 12 15H8C6.89543 15 6 14.1046 6 13V9C6 7.89543 6.89543 7 8 7ZM8 13H12V9H8V13Z",fill:"white"}),(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 18H12C13.1046 18 14 18.8954 14 20V24C14 25.1046 13.1046 26 12 26H8C6.89543 26 6 25.1046 6 24V20C6 18.8954 6.89543 18 8 18ZM8 24H12V20H8V24Z",fill:"white"}),(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 7H20C18.8954 7 18 7.89543 18 9V13C18 14.1046 18.8954 15 20 15H24C25.1046 15 26 14.1046 26 13V9C26 7.89543 25.1046 7 24 7ZM24 13H20V9H24V13Z",fill:"white"}),(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20 18H24C25.1046 18 26 18.8954 26 20V24C26 25.1046 25.1046 26 24 26H20C18.8954 26 18 25.1046 18 24V20C18 18.8954 18.8954 18 20 18ZM20 24H24V20H20V24Z",fill:"white"}))}},8255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReplayIcon=void 0;var r=n(4522);t.ReplayIcon=function(){return(0,r.h)("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("g",{opacity:"0.8"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.5 7.50049C8.73858 7.50049 6.5 9.73906 6.5 12.5005V16.5005C6.5 19.2619 8.73858 21.5005 11.5 21.5005H13.0858L11.7929 22.7934C11.4024 23.1839 11.4024 23.8171 11.7929 24.2076C12.1834 24.5981 12.8166 24.5981 13.2071 24.2076L16.2071 21.2076C16.5976 20.8171 16.5976 20.1839 16.2071 19.7934L13.2071 16.7934C12.8166 16.4029 12.1834 16.4029 11.7929 16.7934C11.4024 17.1839 11.4024 17.8171 11.7929 18.2076L13.0858 19.5005H11.5C9.84315 19.5005 8.5 18.1573 8.5 16.5005V12.5005C8.5 10.8436 9.84315 9.50049 11.5 9.50049H21.5C23.1569 9.50049 24.5 10.8436 24.5 12.5005V16.5005C24.5 18.1573 23.1569 19.5005 21.5 19.5005H20C19.4477 19.5005 19 19.9482 19 20.5005C19 21.0528 19.4477 21.5005 20 21.5005H21.5C24.2614 21.5005 26.5 19.2619 26.5 16.5005V12.5005C26.5 9.73906 24.2614 7.50049 21.5 7.50049H11.5Z",fill:"white"})))}},9209:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenRotation=void 0;var r=n(4522);t.ScreenRotation=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 3C12 2.44772 12.4477 2 13 2C17.9706 2 22 6.02944 22 11C22 11.5523 21.5523 12 21 12C20.4477 12 20 11.5523 20 11C20 7.13401 16.866 4 13 4C12.4477 4 12 3.55228 12 3ZM10.6569 7.82843L7.82843 10.6569L13.4853 16.3137L16.3137 13.4853L10.6569 7.82843ZM12.0711 6.41421C11.29 5.63317 10.0237 5.63317 9.24265 6.41421L6.41422 9.24264C5.63317 10.0237 5.63317 11.29 6.41422 12.0711L12.0711 17.7279C12.8521 18.509 14.1185 18.509 14.8995 17.7279L17.7279 14.8995C18.509 14.1184 18.509 12.8521 17.7279 12.0711L12.0711 6.41421ZM11 22C11.5523 22 12 21.5523 12 21C12 20.4477 11.5523 20 11 20C7.13401 20 4 16.866 4 13C4 12.4477 3.55228 12 3 12C2.44771 12 2 12.4477 2 13C2 17.9706 6.02944 22 11 22Z",fill:"white"}))}},1223:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Share=void 0;var r=n(4522);t.Share=function(){return(0,r.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22.6667 12.6667C24.5076 12.6667 26 11.1743 26 9.33333C26 7.49238 24.5076 6 22.6667 6C20.8257 6 19.3333 7.49238 19.3333 9.33333C19.3333 9.38882 19.3347 9.44399 19.3374 9.49881L11.9575 13.9443C11.3473 13.1665 10.3987 12.6667 9.33333 12.6667C7.49238 12.6667 6 14.1591 6 16C6 17.8409 7.49238 19.3333 9.33333 19.3333C10.3981 19.3333 11.3462 18.8341 11.9564 18.057L19.3374 22.5013C19.3347 22.5561 19.3333 22.6112 19.3333 22.6667C19.3333 24.5076 20.8257 26 22.6667 26C24.5076 26 26 24.5076 26 22.6667C26 20.8257 24.5076 19.3333 22.6667 19.3333C21.6074 19.3333 20.6636 19.8274 20.053 20.5976L12.864 16.2689L12.8651 15.7324L20.0531 11.4025C20.6637 12.1727 21.6075 12.6667 22.6667 12.6667ZM22.6667 10.6667C21.9303 10.6667 21.3333 10.0697 21.3333 9.33333C21.3333 8.59695 21.9303 8 22.6667 8C23.403 8 24 8.59695 24 9.33333C24 10.0697 23.403 10.6667 22.6667 10.6667ZM9.33333 17.3333C8.59695 17.3333 8 16.7364 8 16C8 15.2636 8.59695 14.6667 9.33333 14.6667C10.0697 14.6667 10.6667 15.2636 10.6667 16C10.6667 16.7364 10.0697 17.3333 9.33333 17.3333ZM21.3333 22.6667C21.3333 23.403 21.9303 24 22.6667 24C23.403 24 24 23.403 24 22.6667C24 21.9303 23.403 21.3333 22.6667 21.3333C21.9303 21.3333 21.3333 21.9303 21.3333 22.6667Z",fill:"white"}))}},8177:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Spinner=void 0;var r=n(4522),i=n(5312);t.Spinner=function(){return(0,r.h)("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i.spinner},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.5 18C15.8137 18 18.5 15.3137 18.5 12C18.5 8.68629 15.8137 6 12.5 6C9.18629 6 6.5 8.68629 6.5 12C6.5 15.3137 9.18629 18 12.5 18ZM12.5 22C18.0228 22 22.5 17.5228 22.5 12C22.5 6.47715 18.0228 2 12.5 2C6.97715 2 2.5 6.47715 2.5 12C2.5 17.5228 6.97715 22 12.5 22Z",fill:"white","fill-opacity":"0.2"}),(0,r.h)("path",{d:"M18.5 12H22.5C22.5 6.47715 18.0228 2 12.5 2V6C15.8137 6 18.5 8.68629 18.5 12Z",fill:"white"}))}},2489:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Switch=void 0;var r=n(4522);t.Switch=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{d:"M17.6744 9.27934L21.7563 13.3632L21.8282 13.4537L21.887 13.5492L21.9333 13.6489L21.9684 13.7556L21.9824 13.8172L21.9974 13.929L22 14L21.9897 14.1405L21.9824 14.1828L21.9535 14.2949L21.9231 14.3759L21.887 14.4508L21.8281 14.5463L21.7763 14.6137L21.7207 14.6744L17.6744 18.7207C17.3019 19.0931 16.6981 19.0931 16.3256 18.7207C15.9818 18.3769 15.9554 17.8359 16.2463 17.4617L16.3256 17.3719L18.7439 14.9536L12.9537 14.9537C12.4675 14.9537 12.0663 14.5899 12.0074 14.1196L12 14C12 13.5109 12.3682 13.1078 12.8425 13.0527L12.9537 13.0463L18.7426 13.0451L16.3256 10.6281C15.9798 10.2823 15.9551 9.73687 16.2515 9.36252L16.3256 9.27934C16.6981 8.90689 17.3019 8.90689 17.6744 9.27934ZM6.32562 5.27934C6.69807 4.90689 7.30193 4.90689 7.67438 5.27934L7.74849 5.36252C8.04493 5.73687 8.02023 6.28225 7.67438 6.6281L5.2574 9.04508L11.0463 9.04628L11.1575 9.0527C11.6318 9.10779 12 9.5109 12 10L11.9926 10.1196C11.9337 10.5899 11.5325 10.9537 11.0463 10.9537L5.25605 10.9536L7.67438 13.3719L7.75372 13.4617C8.04463 13.8359 8.01818 14.3769 7.67438 14.7207C7.30193 15.0931 6.69807 15.0931 6.32562 14.7207L2.25793 10.6523L2.18664 10.5668L2.12413 10.4708L2.07695 10.3759L2.03697 10.2639L2.01028 10.1405L2 10C2 9.95226 2.00351 9.90534 2.01036 9.85937L2.01758 9.81716L2.04651 9.70514L2.08932 9.59642L2.12415 9.52899L2.18631 9.43351L2.24369 9.36325L6.32562 5.27934Z",fill:"white"}))}},2084:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VolumeMute=void 0;var r=n(4522);t.VolumeMute=function(){return(0,r.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 11L14.2433 6.97588C15.2135 6.43689 16 6.89817 16 7.99076V24.0092C16 25.1087 15.2171 25.565 14.2433 25.024L7 21H3.00293C2.44903 21 2 20.5443 2 20.0046V11.9954C2 11.4456 2.43788 11 3.00293 11H7ZM9 12.1768V19.8232L14 22.6009V9.39899L9 12.1768ZM7 13H4V19H7V13Z",fill:"white"}),(0,r.h)("path",{d:"M20.4645 12.4644C20.0739 12.855 20.0739 13.4881 20.4645 13.8786L22.5858 16L20.4645 18.1213C20.0739 18.5118 20.0739 19.145 20.4645 19.5355C20.855 19.926 21.4882 19.926 21.8787 19.5355L24 17.4142L26.1213 19.5355C26.5118 19.926 27.145 19.926 27.5355 19.5355C27.9261 19.145 27.9261 18.5118 27.5355 18.1213L25.4142 16L27.5355 13.8786C27.9261 13.4881 27.9261 12.855 27.5355 12.4644C27.145 12.0739 26.5118 12.0739 26.1213 12.4644L24 14.5857L21.8787 12.4644C21.4882 12.0739 20.855 12.0739 20.4645 12.4644Z",fill:"white"}))}},7016:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VolumeOn=void 0;var r=n(4522);t.VolumeOn=function(){return(0,r.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{d:"M25.063 26.1618C27.6367 23.4547 29.1 19.8564 29.1 16.0287C29.1 12.1544 27.6007 8.51592 24.971 5.79967C24.5869 5.40288 23.9538 5.39263 23.557 5.77678C23.1602 6.16093 23.15 6.79402 23.5341 7.19081C25.8057 9.53719 27.1 12.6782 27.1 16.0287C27.1 19.339 25.8368 22.4453 23.6136 24.7838C23.233 25.184 23.249 25.817 23.6493 26.1975C24.0495 26.5781 24.6825 26.5621 25.063 26.1618Z",fill:"white"}),(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 11L14.2433 6.97595C15.2135 6.43696 16 6.89824 16 7.99082V24.0092C16 25.1087 15.2171 25.5651 14.2433 25.0241L7 21H3.00293C2.44903 21 2 20.5444 2 20.0046V11.9954C2 11.4457 2.43788 11 3.00293 11H7ZM9 12.1768V19.8232L14 22.601V9.39906L9 12.1768ZM7 13H4V19H7V13Z",fill:"white"}),(0,r.h)("path",{d:"M24.2097 15.6872C24.2097 18.6042 22.9749 21.3231 20.8574 23.2257C20.4466 23.5948 19.8143 23.561 19.4452 23.1502C19.076 22.7394 19.1098 22.1071 19.5207 21.738C21.2197 20.2114 22.2097 18.0316 22.2097 15.6872C22.2097 13.4938 21.344 11.4424 19.8323 9.93166C19.4417 9.54127 19.4414 8.9081 19.8318 8.51745C20.2222 8.12679 20.8554 8.12657 21.246 8.51697C23.1299 10.3996 24.2097 12.9585 24.2097 15.6872Z",fill:"white"}))}},3319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Zip=void 0;var r=n(4522);t.Zip=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6 2C4.89543 2 4 2.89543 4 4V20C4 21.1046 4.89543 22 6 22H18C19.1046 22 20 21.1046 20 20V7.82843C20 7.29799 19.7893 6.78929 19.4142 6.41421L15.5858 2.58579C15.2107 2.21071 14.702 2 14.1716 2H6ZM14.3657 4.36569C13.8617 3.86171 13 4.21865 13 4.93137V8.2C13 8.64183 13.3582 9 13.8 9H17.0686C17.7814 9 18.1383 8.13829 17.6343 7.63431L14.3657 4.36569ZM7 5H9V7H7V5ZM9 9H7V11H9V9ZM7 13H9V15H7V13ZM10 17H6V19H10V17Z",fill:"white"}))}},4820:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Icon=t.IconSize=void 0;var r,i=n(4522),o=n(42),a=n(1861),s=n(5141);!function(e){e.small="small",e.medium="medium",e.large="large"}(r=t.IconSize||(t.IconSize={})),t.Icon=function(e){var t=a.Icons[e.name];return t?(0,i.h)("div",{className:o(s.iconWrapper,s[e.size])},(0,i.h)(t,null)):null},t.Icon.defaultProps={size:r.medium}},4130:e=>{window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){var r;!function(i,o){"use strict";var a="model",s="name",l="type",u="vendor",c="version",d="mobile",_="tablet",p="smarttv",A=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},h=function(e,t){return"string"==typeof e&&-1!==f(t).indexOf(f(e))},f=function(e){return e.toLowerCase()},v=function(e,t){if("string"==typeof e)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),void 0===t?e:e.substring(0,255)},g=function(e,t){for(var n,r,i,o,a,s,l=0;l<t.length&&!a;){var u=t[l],c=t[l+1];for(n=r=0;n<u.length&&!a;)if(a=u[n++].exec(e))for(i=0;i<c.length;i++)s=a[++r],"object"==typeof(o=c[i])&&o.length>0?2===o.length?"function"==typeof o[1]?this[o[0]]=o[1].call(this,s):this[o[0]]=o[1]:3===o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?this[o[0]]=s?s.replace(o[1],o[2]):void 0:this[o[0]]=s?o[1].call(this,s,o[2]):void 0:4===o.length&&(this[o[0]]=s?o[3].call(this,s.replace(o[1],o[2])):void 0):this[o]=s||void 0;l+=2}},b=function(e,t){for(var n in t)if("object"==typeof t[n]&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(h(t[n][r],e))return"?"===n?void 0:n}else if(h(t[n],e))return"?"===n?void 0:n;return e},m={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},y={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[c,[s,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[c,[s,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[s,c],[/opios[\/ ]+([\w\.]+)/i],[c,[s,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[c,[s,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[s,c],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[c,[s,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[c,[s,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[c,[s,"WeChat"]],[/konqueror\/([\w\.]+)/i],[c,[s,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[c,[s,"IE"]],[/yabrowser\/([\w\.]+)/i],[c,[s,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[s,/(.+)/,"$1 Secure Browser"],c],[/\bfocus\/([\w\.]+)/i],[c,[s,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[c,[s,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[c,[s,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[c,[s,"Dolphin"]],[/coast\/([\w\.]+)/i],[c,[s,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[c,[s,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[c,[s,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[s,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[s,/(.+)/,"$1 Browser"],c],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],c],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[s,c],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[s],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[s,"Facebook"],c],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[s,c],[/\bgsa\/([\w\.]+) .*safari\//i],[c,[s,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[c,[s,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[s,"Chrome WebView"],c],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[c,[s,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[s,c],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[c,[s,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[c,s],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[s,[c,b,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[s,c],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[s,"Netscape"],c],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[c,[s,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[s,c]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",f]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[["architecture","arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[["architecture","armhf"]],[/windows (ce|mobile); ppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[["architecture",/ower/,"",f]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[["architecture",f]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[a,[u,"Samsung"],[l,_]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[a,[u,"Samsung"],[l,d]],[/\((ip(?:hone|od)[\w ]*);/i],[a,[u,"Apple"],[l,d]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[a,[u,"Apple"],[l,_]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[a,[u,"Huawei"],[l,_]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[a,[u,"Huawei"],[l,d]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[a,/_/g," "],[u,"Xiaomi"],[l,d]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[a,/_/g," "],[u,"Xiaomi"],[l,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[a,[u,"OPPO"],[l,d]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[a,[u,"Vivo"],[l,d]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[a,[u,"Realme"],[l,d]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[a,[u,"Motorola"],[l,d]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[a,[u,"Motorola"],[l,_]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[a,[u,"LG"],[l,_]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[a,[u,"LG"],[l,d]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[a,[u,"Lenovo"],[l,_]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[a,/_/g," "],[u,"Nokia"],[l,d]],[/(pixel c)\b/i],[a,[u,"Google"],[l,_]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[a,[u,"Google"],[l,d]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[a,[u,"Sony"],[l,d]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[a,"Xperia Tablet"],[u,"Sony"],[l,_]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[a,[u,"OnePlus"],[l,d]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[a,[u,"Amazon"],[l,_]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[a,/(.+)/g,"Fire Phone $1"],[u,"Amazon"],[l,d]],[/(playbook);[-\w\),; ]+(rim)/i],[a,u,[l,_]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[a,[u,"BlackBerry"],[l,d]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[a,[u,"ASUS"],[l,_]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[a,[u,"ASUS"],[l,d]],[/(nexus 9)/i],[a,[u,"HTC"],[l,_]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[u,[a,/_/g," "],[l,d]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[a,[u,"Acer"],[l,_]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[a,[u,"Meizu"],[l,d]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[a,[u,"Sharp"],[l,d]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[u,a,[l,d]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[u,a,[l,_]],[/(surface duo)/i],[a,[u,"Microsoft"],[l,_]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[a,[u,"Fairphone"],[l,d]],[/(u304aa)/i],[a,[u,"AT&T"],[l,d]],[/\bsie-(\w*)/i],[a,[u,"Siemens"],[l,d]],[/\b(rct\w+) b/i],[a,[u,"RCA"],[l,_]],[/\b(venue[\d ]{2,7}) b/i],[a,[u,"Dell"],[l,_]],[/\b(q(?:mv|ta)\w+) b/i],[a,[u,"Verizon"],[l,_]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[a,[u,"Barnes & Noble"],[l,_]],[/\b(tm\d{3}\w+) b/i],[a,[u,"NuVision"],[l,_]],[/\b(k88) b/i],[a,[u,"ZTE"],[l,_]],[/\b(nx\d{3}j) b/i],[a,[u,"ZTE"],[l,d]],[/\b(gen\d{3}) b.+49h/i],[a,[u,"Swiss"],[l,d]],[/\b(zur\d{3}) b/i],[a,[u,"Swiss"],[l,_]],[/\b((zeki)?tb.*\b) b/i],[a,[u,"Zeki"],[l,_]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[u,"Dragon Touch"],a,[l,_]],[/\b(ns-?\w{0,9}) b/i],[a,[u,"Insignia"],[l,_]],[/\b((nxa|next)-?\w{0,9}) b/i],[a,[u,"NextBook"],[l,_]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[u,"Voice"],a,[l,d]],[/\b(lvtel\-)?(v1[12]) b/i],[[u,"LvTel"],a,[l,d]],[/\b(ph-1) /i],[a,[u,"Essential"],[l,d]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[a,[u,"Envizen"],[l,_]],[/\b(trio[-\w\. ]+) b/i],[a,[u,"MachSpeed"],[l,_]],[/\btu_(1491) b/i],[a,[u,"Rotor"],[l,_]],[/(shield[\w ]+) b/i],[a,[u,"Nvidia"],[l,_]],[/(sprint) (\w+)/i],[u,a,[l,d]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[u,"Microsoft"],[l,d]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[a,[u,"Zebra"],[l,_]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[a,[u,"Zebra"],[l,d]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[u,a,[l,"console"]],[/droid.+; (shield) bui/i],[a,[u,"Nvidia"],[l,"console"]],[/(playstation [345portablevi]+)/i],[a,[u,"Sony"],[l,"console"]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[a,[u,"Microsoft"],[l,"console"]],[/smart-tv.+(samsung)/i],[u,[l,p]],[/hbbtv.+maple;(\d+)/i],[[a,/^/,"SmartTV"],[u,"Samsung"],[l,p]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[u,"LG"],[l,p]],[/(apple) ?tv/i],[u,[a,"Apple TV"],[l,p]],[/crkey/i],[[a,"Chromecast"],[u,"Google"],[l,p]],[/droid.+aft(\w)( bui|\))/i],[a,[u,"Amazon"],[l,p]],[/\(dtv[\);].+(aquos)/i],[a,[u,"Sharp"],[l,p]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[u,v],[a,v],[l,p]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[l,p]],[/((pebble))app/i],[u,a,[l,"wearable"]],[/droid.+; (glass) \d/i],[a,[u,"Google"],[l,"wearable"]],[/droid.+; (wt63?0{2,3})\)/i],[a,[u,"Zebra"],[l,"wearable"]],[/(quest( 2)?)/i],[a,[u,"Facebook"],[l,"wearable"]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[u,[l,"embedded"]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[a,[l,d]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[a,[l,_]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[l,_]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[l,d]],[/(android[-\w\. ]{0,9});.+buil/i],[a,[u,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[c,[s,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[c,[s,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[s,c],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[c,s]],os:[[/microsoft (windows) (vista|xp)/i],[s,c],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[s,[c,b,m]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[s,"Windows"],[c,b,m]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[c,/_/g,"."],[s,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[s,"Mac OS"],[c,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[c,s],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[s,c],[/\(bb(10);/i],[c,[s,"BlackBerry"]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[c,[s,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[c,[s,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[c,[s,"webOS"]],[/crkey\/([\d\.]+)/i],[c,[s,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[s,"Chromium OS"],c],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[s,c],[/(sunos) ?([\w\.\d]*)/i],[[s,"Solaris"],c],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[s,c]]},C=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof C))return new C(e,t).getResult();var n=e||(void 0!==i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(y,t):y;return this.getBrowser=function(){var e,t={name:void 0,version:void 0};return g.call(t,n,r.browser),t.major="string"==typeof(e=t.version)?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0,t},this.getCPU=function(){var e={architecture:void 0};return g.call(e,n,r.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return g.call(e,n,r.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return g.call(e,n,r.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return g.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n="string"==typeof e&&e.length>255?v(e,255):e,this},this.setUA(n),this};C.VERSION="1.0.2",C.BROWSER=A([s,c,"major"]),C.CPU=A(["architecture"]),C.DEVICE=A([a,u,l,"console",d,p,_,"wearable","embedded"]),C.ENGINE=C.OS=A([s,c]),void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=C),t.UAParser=C):n(4)?void 0===(r=function(){return C}.call(t,n,t,e))||(e.exports=r):void 0!==i&&(i.UAParser=C);var w=void 0!==i&&(i.jQuery||i.Zepto);if(w&&!w.ua){var k=new C;w.ua=k.getResult(),w.ua.get=function(){return k.getUA()},w.ua.set=function(e){k.setUA(e);var t=k.getResult();for(var n in t)w.ua[n]=t[n]}}}("object"==typeof window?window:this)},function(e,t,n){var r,i;!function(o){"use strict";var a,s={VERSION:"1.6.0"},l={},u=function(e,t){return function(){return t.apply(e,arguments)}},c=function(){var e,t,n=arguments,r=n[0];for(t=1;t<n.length;t++)for(e in n[t])!(e in r)&&n[t].hasOwnProperty(e)&&(r[e]=n[t][e]);return r},d=function(e,t){return{value:e,name:t}};s.TRACE=d(1,"TRACE"),s.DEBUG=d(2,"DEBUG"),s.INFO=d(3,"INFO"),s.TIME=d(4,"TIME"),s.WARN=d(5,"WARN"),s.ERROR=d(8,"ERROR"),s.OFF=d(99,"OFF");var _=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};_.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},trace:function(){this.invoke(s.TRACE,arguments)},debug:function(){this.invoke(s.DEBUG,arguments)},info:function(){this.invoke(s.INFO,arguments)},warn:function(){this.invoke(s.WARN,arguments)},error:function(){this.invoke(s.ERROR,arguments)},time:function(e){"string"==typeof e&&e.length>0&&this.invoke(s.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&e.length>0&&this.invoke(s.TIME,[e,"end"])},invoke:function(e,t){a&&this.enabledFor(e)&&a(t,c({level:e},this.context))}};var p,A=new _({filterLevel:s.OFF});(p=s).enabledFor=u(A,A.enabledFor),p.trace=u(A,A.trace),p.debug=u(A,A.debug),p.time=u(A,A.time),p.timeEnd=u(A,A.timeEnd),p.info=u(A,A.info),p.warn=u(A,A.warn),p.error=u(A,A.error),p.log=p.info,s.setHandler=function(e){a=e},s.setLevel=function(e){for(var t in A.setLevel(e),l)l.hasOwnProperty(t)&&l[t].setLevel(e)},s.getLevel=function(){return A.getLevel()},s.get=function(e){return l[e]||(l[e]=new _(c({name:e},A.context)))},s.createDefaultHandler=function(e){(e=e||{}).formatter=e.formatter||function(e,t){t.name&&e.unshift("["+t.name+"]")};var t={},n=function(e,t){Function.prototype.apply.call(e,console,t)};return"undefined"==typeof console?function(){}:function(r,i){r=Array.prototype.slice.call(r);var o,a=console.log;i.level===s.TIME?(o=(i.name?"["+i.name+"] ":"")+r[0],"start"===r[1]?console.time?console.time(o):t[o]=(new Date).getTime():console.timeEnd?console.timeEnd(o):n(a,[o+": "+((new Date).getTime()-t[o])+"ms"])):(i.level===s.WARN&&console.warn?a=console.warn:i.level===s.ERROR&&console.error?a=console.error:i.level===s.INFO&&console.info?a=console.info:i.level===s.DEBUG&&console.debug?a=console.debug:i.level===s.TRACE&&console.trace&&(a=console.trace),e.formatter(r,i),n(a,r))}},s.useDefaults=function(e){s.setLevel(e&&e.defaultLevel||s.DEBUG),s.setHandler(s.createDefaultHandler(e))},void 0===(i="function"==typeof(r=s)?r.call(t,n,t,e):r)||(e.exports=i)}()},function(e){e.exports=JSON.parse('{"heartbeatTimeout":30000}')},function(e){e.exports=JSON.parse('{"a":"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE="}')},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){var r=n(6),i=n(7);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){"use strict";var r,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function a(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],i=0;i<e.length;i++){var s=e[i],l=t.base?s[0]+t.base:s[0],u=n[l]||0,c="".concat(l," ").concat(u);n[l]=u+1;var d=a(c),_={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(o[d].references++,o[d].updater(_)):o.push({identifier:c,updater:h(_,t),references:1}),r.push(c)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,c=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=c(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function _(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,A=0;function h(e,t){var n,r,i;if(t.singleton){var o=A++;n=p||(p=l(t)),r=d.bind(null,n,o,!1),i=d.bind(null,n,o,!0)}else n=l(t),r=_.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=a(n[r]);o[i].references--}for(var l=s(e,t),u=0;u<n.length;u++){var c=a(n[u]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=l}}}},function(e,t,n){(t=n(8)(!1)).push([e.i,".playkit-container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  color: #fff;\n  outline: none;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.playkit-engine {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  object-fit: contain;\n}\n\n.playkit-engine video::-webkit-media-controls-panel,\n.playkit-engine video::-webkit-media-controls-panel-container,\n.playkit-engine video::-webkit-media-controls-start-playback-button,\n.playkit-engine video::-webkit-media-controls-play-button {\n  display: none;\n  -webkit-appearance: none;\n}\n\n.playkit-poster {\n  position: absolute;\n  display: block;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-size: contain;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-color: #000;\n  pointer-events: none;\n}\n\n.playkit-subtitles {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  pointer-events: none;\n  margin-bottom: 5px;\n}\n\n.playkit-black-cover {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: black;\n  pointer-events: none;\n}\n\n.playkit-size-iframe {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  border: 0;\n  z-index: -100;\n}\n\n.playkit-in-browser-fullscreen-mode {\n  width: 100% !important;\n  height: 100% !important;\n  position: fixed !important;\n  top: 0 !important;\n  left: 0 !important;\n  /*added for blocking element with fixed position which could be on the top of the player */\n  z-index: 999999 !important;\n}\n",""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r,i,o=e[1]||"",a=e[3];if(!a)return o;if(t&&"function"==typeof btoa){var s=(n=a,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(i," */")),l=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[o].concat(l).concat([s]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){"use strict";n.r(t),n.d(t,"loadPlayer",(function(){return Wn})),n.d(t,"registerMediaSourceAdapter",(function(){return Bt})),n.d(t,"BaseMediaSourceAdapter",(function(){return ft})),n.d(t,"BaseMiddleware",(function(){return rt})),n.d(t,"Track",(function(){return re})),n.d(t,"VideoTrack",(function(){return oe})),n.d(t,"AudioTrack",(function(){return ae})),n.d(t,"TextTrack",(function(){return Ye})),n.d(t,"ImageTrack",(function(){return dt})),n.d(t,"TextStyle",(function(){return fe})),n.d(t,"Cue",(function(){return We})),n.d(t,"TimedMetadata",(function(){return Mt})),n.d(t,"createTextTrackCue",(function(){return Rt})),n.d(t,"createTimedMetadata",(function(){return Lt})),n.d(t,"Utils",(function(){return r})),n.d(t,"utils",(function(){return r})),n.d(t,"Error",(function(){return B})),n.d(t,"FakeEvent",(function(){return g})),n.d(t,"FakeEventTarget",(function(){return T})),n.d(t,"EventManager",(function(){return I})),n.d(t,"VERSION",(function(){return Nn})),n.d(t,"NAME",(function(){return zn})),n.d(t,"Env",(function(){return h})),n.d(t,"State",(function(){return X})),n.d(t,"getCapabilities",(function(){return jn})),n.d(t,"setCapabilities",(function(){return Fn})),n.d(t,"EngineDecoratorProvider",(function(){return Rn})),n.d(t,"registerEngine",(function(){return Xt})),n.d(t,"unRegisterEngine",(function(){return Jt})),n.d(t,"AdBreakType",(function(){return an})),n.d(t,"AdTagType",(function(){return sn})),n.d(t,"AdEventType",(function(){return Q})),n.d(t,"filterTracksByRestriction",(function(){return gt})),n.d(t,"Html5EventType",(function(){return $})),n.d(t,"CustomEventType",(function(){return V})),n.d(t,"EventType",(function(){return G})),n.d(t,"StateType",(function(){return J})),n.d(t,"TrackType",(function(){return Ze})),n.d(t,"EngineType",(function(){return Je})),n.d(t,"MediaType",(function(){return et})),n.d(t,"StreamType",(function(){return Xe})),n.d(t,"AbrMode",(function(){return tt})),n.d(t,"LogLevelType",(function(){return y})),n.d(t,"CorsType",(function(){return nt})),n.d(t,"DrmScheme",(function(){return bt})),n.d(t,"MimeType",(function(){return Ln})),n.d(t,"RequestType",(function(){return ut})),n.d(t,"ScreenOrientationType",(function(){return at})),n.d(t,"AutoPlayType",(function(){return gn})),n.d(t,"ThumbnailInfo",(function(){return pt})),n.d(t,"getLogger",(function(){return x})),n.d(t,"LogLevel",(function(){return m})),n.d(t,"getLogLevel",(function(){return k})),n.d(t,"setLogLevel",(function(){return E})),n.d(t,"setLogHandler",(function(){return C}));var r={};n.r(r),n.d(r,"Number",(function(){return R})),n.d(r,"String",(function(){return L})),n.d(r,"Object",(function(){return N})),n.d(r,"Generator",(function(){return z})),n.d(r,"Dom",(function(){return W})),n.d(r,"Http",(function(){return j})),n.d(r,"VERSION",(function(){return F})),n.d(r,"ResizeWatcher",(function(){return ln})),n.d(r,"MultiMap",(function(){return v})),n.d(r,"binarySearch",(function(){return cn}));var i=n(0),o=n.n(i),a=/^.*(web0s).*(smarttv).*$/i,s=/^.*(smart-tv).*(tizen).*$/i,l=/^.*(vidaa).*(smarttv).*$/i,u=[[s],[[o.a.BROWSER.NAME,"SAMSUNG_TV_BROWSER"],[o.a.BROWSER.MAJOR,""],[o.a.BROWSER.VERSION,""]]],c=[[a],[o.a.OS.NAME],[l],[o.a.OS.NAME]],d=[[a],[[o.a.DEVICE.VENDOR,"LG"],[o.a.DEVICE.TYPE,o.a.DEVICE.SMARTTV]],[s],[[o.a.DEVICE.VENDOR,"SAMSUNG"],[o.a.DEVICE.TYPE,o.a.DEVICE.SMARTTV]],[l],[[o.a.DEVICE.VENDOR,"HISENSE"],[o.a.DEVICE.TYPE,o.a.DEVICE.SMARTTV]],[/^.*(smart-tv|smarttv).*$/i],[[o.a.DEVICE.TYPE,o.a.DEVICE.SMARTTV]]],_=[[/(edg)\/((\d+)?[\w.]+)/i],[[o.a.BROWSER.NAME,"Edge"],o.a.BROWSER.VERSION,o.a.BROWSER.MAJOR]],p=[].concat(_,u),A=new o.a(void 0,{browser:p,device:d,os:c}).getResult();A.isConsole=A.device.type===o.a.DEVICE.CONSOLE,A.isSmartTV=A.device.type===o.a.DEVICE.SMARTTV,A.isMobile=A.device.type===o.a.DEVICE.MOBILE,A.isTablet=A.device.type===o.a.DEVICE.TABLET,A.isWearable=A.device.type===o.a.DEVICE.WEARABLE,A.isEmbedded=A.device.type===o.a.DEVICE.EMBEDDED,A.isIPadOS="Mac OS"===A.os.name&&"ontouchend"in document,A.isSafari=A.browser.name.includes("Safari"),A.isIOS="iOS"===A.os.name,A.isMacOS="Mac OS"===A.os.name;var h=A;function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(){function e(){this._map=new Map}var t=e.prototype;return t.push=function(e,t){if(this._map.has(e)){var n=this._map.get(e);Array.isArray(n)&&(n.push(t),this._map.set(e,n))}else this._map.set(e,[t])},t.set=function(e,t){this._map.set(e,t)},t.has=function(e){return this._map.has(e)},t.get=function(e){var t=this._map.get(e);return t?t.slice():[]},t.getAll=function(){for(var e,t=[],n=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(this._map.values());!(e=n()).done;){var r=e.value;t=t.concat(r)}return t},t.remove=function(e,t){if(this._map.has(e)){var n=this._map.get(e);if(Array.isArray(n)){for(var r=0;r<n.length;++r)n[r]==t&&(n.splice(r,1),--r);0===n.length&&this._map.delete(e)}}},t.keys=function(){return this._map.keys()},t.clear=function(){this._map.clear()},e}(),g=function(){function e(e,t){this.bubbles=!1,this.cancelable=!1,this.defaultPrevented=!1,this.timeStamp=window.performance?window.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.currentTarget=null,this.target=null,this.stopped=!1,this.payload=t}var t=e.prototype;return t.preventDefault=function(){},t.stopImmediatePropagation=function(){this.stopped=!0},t.stopPropagation=function(){},e}(),b=n(1),m={DEBUG:b.DEBUG,INFO:b.INFO,TIME:b.TIME,WARN:b.WARN,ERROR:b.ERROR,OFF:b.OFF},y={};function C(e){b.setHandler((function(t,n){return e(t,n)}))}function w(e){return e?b.get(e):b}function k(e){return w(e).getLevel()}function E(e,t){w(t).setLevel(e)}Object.keys(m).forEach((function(e){y[e]=e})),b.useDefaults({defaultLevel:b.ERROR});var x=w,T=function(){function e(){this._listeners=new v,this.dispatchTarget=this,this.__logger=x("FakeEventTarget")}var t=e.prototype;return t.addEventListener=function(e,t){this._listeners.push(e,t)},t.removeEventListener=function(e,t){this._listeners.remove(e,t)},t.dispatchEvent=function(e){for(var t=this._listeners.get(e.type)||[],n=0;n<t.length;++n){e.target=this.dispatchTarget,e.currentTarget=this.dispatchTarget;var r=t[n];try{r.handleEvent?r.handleEvent(e):r.call(this,e)}catch(t){this.__logger.error("Error occurred when handling event: "+e.type+".",t)}if(e.stopped)break}return e.defaultPrevented},e}();function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=function(){function e(){this._bindingMap=new v}var t=e.prototype;return t.destroy=function(){return this.removeAll(),this._bindingMap=null,Promise.resolve()},t.listenOnce=function(e,t,n,r){var i=this;this.listen(e,t,(function r(o){i.unlisten(e,t,r),n.call(i,o)}),r)},t.listen=function(e,t,n,r){var i=new O(e,t,n,r);this._bindingMap&&this._bindingMap.push(t,i)},t.unlisten=function(e,t,n){if(this._bindingMap)for(var r=this._bindingMap.get(t),i=0;i<r.length;++i){var o=r[i];o.target!==e||o.listener!==n&&n||(o.unlisten(),this._bindingMap&&this._bindingMap.remove(t,o))}},t.removeAll=function(){if(this._bindingMap){for(var e,t=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(this._bindingMap.getAll());!(e=t()).done;)e.value.unlisten();this._bindingMap&&this._bindingMap.clear()}},e}(),O=function(){function e(e,t,n,r){this.target=e,this.type=t,this.listener=n,this.options=r,this.target.addEventListener(t,n,!1)}return e.prototype.unlisten=function(){this.target&&(this.target.removeEventListener(this.type,this.listener,this.options),this.target=null,this.listener=null,this.options=null)},e}(),I=S,D={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,LIVE_MANIFEST_REFRESH_ERROR:1008,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_CREATE_TEXT_CUE:2009,DASH_ADAPTER_ERROR_PARSE_ISSUE:2010,UNKNOWN_FILE_TYPE:2011,UNKNOWN_LANGUAGE:2012,INVALID_VTT_THUMBNAILS_FILE:2013,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,HLS_FATAL_MEDIA_ERROR:3018,HLS_FRAG_PARSING_ERROR:3019,HLS_BUFFER_APPEND_ISSUE:3020,HLS_BUFFER_APPENDING_ISSUE:3021,NATIVE_ADAPTER_LOAD_FAILED:3022,HLS_BUFFER_STALLED_ERROR:3023,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_LIVE_CONTENT_NOT_SUPPORTED:4029,HLSJS_CANNOT_PARSE:4030,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,BAD_FAIRPLAY_RESPONSE:6015,COULD_NOT_CREATE_MEDIA_KEYS:6016,COULD_NOT_CREATE_KEY_SESSION:6017,LOAD_INTERRUPTED:7e3,BITRATE_SWITCH_ISSUE:7001,LOAD_FAILED:7002,RUNTIME_ERROR_NOT_REGISTERED_PLUGIN:7003,RUNTIME_ERROR_METHOD_NOT_IMPLEMENTED:7004,RUNTIME_ERROR_NOT_VALID_HANDLER:7005,NO_SOURCE_PROVIDED:7006,NO_ENGINE_FOUND_TO_PLAY_THE_SOURCE:7007,ENTER_PICTURE_IN_PICTURE_FAILED:7008,EXIT_PICTURE_IN_PICTURE_FAILED:7009,PLUGIN_LOAD_FAILED:7010,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,CONTENT_UNSUPPORTED_BY_BROWSER:9009,CANNOT_ADD_ITEM:9010,DOWNLOAD_FAILED:9011,COULD_NOT_GET_INFO_FROM_MEDIA_PROVIDER:9012,ENTRY_DOES_NOT_EXIST:9013,PAUSE_FAILED:9014,RESUME_FAILED:9015,RENEW_LICENSE_FAILED:9016,ENTRY_ALREADY_EXISTS:9017,REMOVE_FAILED:9018,CAST_LOAD_MEDIA_FAILED:10001,CAST_CUSTOM_MESSAGE_PARSING_ERROR:10002,CAST_EDIT_TRACKS_INFO_ERROR:10003,VR_NOT_SUPPORTED:11e3};function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.assign(D,{XML_PARSING_ERROR:8100,VAST_SCHEMA_VALIDATION_ERROR:8101,VAST_RESPONSE_VERSION_NOT_SUPPORTED:8102,TRAFFICKING_ERROR:8200,VAST_UNEXPECTED_LINEARITY:8201,VAST_UNEXPECTED_DURATION_ERROR:8202,VAST_UNEXPECTED_SIZE_ERROR:8203,VAST_WRAPPER_ERROR:8300,VAST_URI_ERROR:8301,VAST_TOO_MANY_REDIRECTS:8302,NO_ADS_VAST_RESPONSE:8303,GENERAL_LINEAR_ERROR:8400,FILE_NOT_FOUND:8401,VAST_MEDIA_LOAD_TIMEOUT:8402,MEDIA_FILE_NOT_FOUND:8403,MEDIA_FILE_DISPLAY_ERROR:8405,MEZZANINE_FILE_NOT_PROVIDED:8406,MEZZANINE_DOWNLOADED_FOR_THE_FIRST_TIME:8407,VAST_RESPONSE_AD_REJECTED:8408,CREATIVE_WAS_NOT_EXECUTED:8409,CODE_REFERENCED_NOT_EXECUTED:8410,GENERAL_NON_LINEAR_AD_ERROR:8500,NON_LINEAR_CREATIVE_DIMENSIONS_NOT_ALIGN_ERROR:8501,NON_LINEAR_FETCH_ERROR:8502,NON_LINEAR_RESOURCE_NOT_FOUND:8503,GENERAL_COMPANION_ADS_ERROR:8600,COMPANION_DIMENSIONS_NOT_FIT:8601,COMPANION_CANNOT_BE_DISPLAY:8602,COMPANION_CANNOT_BE_FETCHED:8603,COMPANION_TYPE_NOT_FOUND:8604,AD_UNDEFINED_ERROR:8900,GENERAL_VPAID_ERROR:8901});var B=function e(t,n,r,i){void 0===i&&(i={}),this.severity=t,this.category=n,this.code=r,this.data=i,k("Error")!==m.OFF&&e._logger.error("Category:"+n+" | Code:"+r+" |",i)};function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}P(B,"Severity",{RECOVERABLE:1,CRITICAL:2}),P(B,"Category",{NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,ADS:8,STORAGE:9,CAST:10,VR:11}),P(B,"Code",D),P(B,"_logger",x("Error"));var R={isNumber:function(e){return Number(e)===e},isInt:function(e){return this.isNumber(e)&&e%1==0},isFloat:function(e){return this.isNumber(e)&&e%1!=0}},L={capitlize:function(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)},endsWith:function(e,t){return"string"==typeof e&&"string"==typeof t&&-1!=e.indexOf(t,e.length-t.length)}},N={merge:function(e){for(var t,n={},r=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(e);!(t=r()).done;){var i=t.value;Object.assign(n,i)}return n},isObject:function(e){return e&&"object"==typeof e&&!Array.isArray(e)},isClassInstance:function(e){return e&&e.constructor&&e.constructor.name&&"Object"!==e.constructor.name},mergeDeep:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;var i=n.shift();if(this.isObject(e)&&this.isObject(i))for(var o in i){var a,s;this.isObject(i[o])&&!this.isClassInstance(i[o])?(e[o]||Object.assign(e,((a={})[o]={},a)),this.mergeDeep(e[o],i[o])):Object.assign(e,((s={})[o]=i[o],s))}return this.mergeDeep.apply(this,[e].concat(n))},copyDeep:function(e){var t,n=this;return Array.isArray(e)?(t=e.length>0?e.slice(0):[]).forEach((function(e,r){("object"==typeof e&&e!=={}||Array.isArray(e)&&e.length>0)&&(t[r]=n.copyDeep(e))})):null!==e&&"object"==typeof e?e.clone&&"function"==typeof e.clone?t=e.clone():(t=Object.assign({__proto__:e.__proto__},e),Object.keys(t).forEach((function(e){("object"==typeof t[e]&&t[e]!=={}||Array.isArray(t[e])&&t[e].length>0)&&(t[e]=n.copyDeep(t[e]))}))):t=e,t},isEmptyObject:function(e){for(var t in e)if(window.Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},getPropertyPath:function(e,t){return t.split(".").reduce((function(e,t){return null==e?e:e[t]}),e)},hasPropertyPath:function(e,t){if(!t)return!1;for(var n=t.split("."),r=0;r<n.length;r++){var i=n[r];if(!e||!window.Object.prototype.hasOwnProperty.call(e,i))return!1;e=e[i]}return!0},createPropertyPath:function(e,t,n){void 0===n&&(n=null);for(var r=t.split("."),i=e;r.length>1;){var o=r,a=o[0];r=o.slice(1),void 0===i[a]&&(i[a]={}),i=i[a]}return i[r[0]]=n,e},deletePropertyPath:function(e,t){if(e&&t){for(var n=t.split("."),r=0;r<n.length-1;r++)if(void 0===(e=e[n[r]]))return;delete e[n.pop()]}},defer:function(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n},bind:function(e,t){return function(){t.apply(e,arguments)}}},z={uniqueId:function(e){var t=2+(!e||e<0?0:e-2);return"_"+Math.random().toString(36).substr(2,t)},guid:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},W={addClassName:function(e,t){e&&(e.classList?e.classList.add(t):W.hasClassName(e,t)||(e.className+=t))},removeClassName:function(e,t){e&&(e.classList?e.classList.remove(t):W.hasClassName(e,t)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," ").replace(/^\s+|\s+$/g,"")))},hasClassName:function(e,t){return e&&e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},setAttribute:function(e,t,n){e.setAttribute(t,n)},removeAttribute:function(e,t){e.removeAttribute(t)},setStyle:function(e,t,n){void 0!==e.style.getPropertyValue(t)&&e.style.setProperty(t,n)},appendChild:function(e,t){e&&t&&e.appendChild&&e.appendChild(t)},removeChild:function(e,t){e&&t&&e.removeChild&&e.removeChild(t)},prependTo:function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},getElementById:function(e){return document.getElementById(e)},getElementsByTagName:function(e){return document.getElementsByTagName(e)},createElement:function(e){return document.createElement(e)},loadStyleSheetAsync:function(e){var t=this;return new Promise((function(n,r){var i=!1,o=t.createElement("link");o.type="text/css",o.rel="stylesheet",o.href=e,o.async=!0,o.onload=o.onreadystatechange=function(){i||this.readyState&&"complete"!==this.readyState||(i=!0,n(this))},o.onerror=o.onabort=r,W.appendChild(document.head,o)}))},loadScriptAsync:function(e){var t=this;return new Promise((function(n,r){var i=!1,o=document.getElementsByTagName("script")[0],a=t.createElement("script");a.type="text/javascript",a.src=e,a.async=!0,a.onload=a.onreadystatechange=function(){i||this.readyState&&"complete"!==this.readyState||(i=!0,n(this))},a.onerror=a.onabort=r,o&&o.parentNode&&o.parentNode.insertBefore(a,o)}))},getElementBySelector:function(e){try{return document.querySelector(e)}catch(e){return}},insertBefore:function(e,t,n){try{return e.insertBefore(t,n)}catch(e){return null}}},j={protocol:/^(https?:)/i.test(document.location.protocol)?document.location.protocol:"https:",execute:function(e,t,n,r,i,o){void 0===n&&(n="POST");var a=new XMLHttpRequest;return new Promise((function(s,l){a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status)try{var e=JSON.parse(a.responseText);s(e)}catch(e){s(a.responseText)}else l(a.responseText)},a.open(n,e),r&&r.forEach((function(e,t){a.setRequestHeader(t,e)})),i&&(a.timeout=i),o&&(a.ontimeout=function(e){o(),l(e)}),a.send(t)}))},jsonp:function(e,t,n){var r,i=(n=n||{}).timeout?n.timeout:5e3,o=document.createElement("script"),a="jsonpcallback"+Math.round(Date.now()+1000001*Math.random()),s=e,l=function(){o&&o.parentNode&&o.parentNode.removeChild(o),window[a]=function(){},r&&clearTimeout(r)};return new Promise((function(n,u){i&&(r=setTimeout((function(){l(),u(new B(B.Severity.CRITICAL,B.Category.NETWORK,B.Code.TIMEOUT,e))}),i)),window[a]=function(r){var i=t(r,e);l(),n(i)},s.match(/\?/)?s+="&responseFormat=jsonp&callback="+a:s+="?responseFormat=jsonp&callback="+a,o.type="text/javascript",o.src=s,document.getElementsByTagName("head")[0].appendChild(o)}))},convertHeadersToDictionary:function(e){var t={};try{e.trim().split(/[\r\n]+/).forEach((function(e){var n=e.split(": "),r=n.shift().toLowerCase(),i=n.join(": ");t[r]=i}))}catch(e){}return t}},F={compare:function(e,t,n){void 0===n&&(n={});var r=(n=N.merge([{lexicographical:!1,zeroExtend:!0},n])).lexicographical,i=n.zeroExtend,o=(e||"0").split("."),a=(t||"0").split("."),s=function(e){return(r?/^\d+[A-Za-zαß]*$/:/^\d+[A-Za-zαß]?$/).test(e)},l=function(e){return e.map((function(e){var t=/[A-Za-zαß]/.exec(e);return Number(t?e.replace(t[0],"."+e.charCodeAt(t.index)):e)}))};if(!o.every(s)||!a.every(s))return NaN;if(i){for(;o.length<a.length;)o.push("0");for(;a.length<o.length;)a.push("0")}r||(o=l(o),a=l(a));for(var u=0;u<o.length;++u){if(a.length===u)return 1;if(o[u]!==a[u])return o[u]>a[u]?1:-1}return o.length!==a.length?-1:0}};function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var H=function(){function e(){this._createEl()}var t,n,r=e.prototype;return r.setSrc=function(e){e&&(this._posterUrl=e,W.setStyle(this._el,"background-image",'url("'+this._posterUrl+'")'),this.hide())},r.getElement=function(){return this._el},r._createEl=function(){if(!this._el){var e=this._el=W.createElement("div");W.setAttribute(e,"id",z.uniqueId(5)),W.setAttribute(e,"tabindex","-1")}},r._removeEl=function(){this._el&&W.removeChild(this._el.parentNode,this._el)},r.show=function(){W.setStyle(this._el,"display","")},r.hide=function(){W.setStyle(this._el,"display","none")},r.reset=function(){this._posterUrl="",W.setStyle(this._el,"background-image","")},r.destroy=function(){this.reset(),this._removeEl()},t=e,(n=[{key:"src",get:function(){return this._posterUrl}}])&&U(t.prototype,n),e}(),Q={AD_CAN_SKIP:"adcanskip",AD_MANIFEST_LOADED:"admanifestloaded",AD_LOADED:"adloaded",AD_STARTED:"adstarted",AD_RESUMED:"adresumed",AD_PAUSED:"adpaused",AD_CLICKED:"adclicked",AD_SKIPPED:"adskipped",AD_COMPLETED:"adcompleted",AD_ERROR:"aderror",ADS_COMPLETED:"adscompleted",ALL_ADS_COMPLETED:"alladscompleted",AD_BREAK_START:"adbreakstart",AD_BREAK_END:"adbreakend",AD_FIRST_QUARTILE:"adfirstquartile",AD_MIDPOINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",USER_CLOSED_AD:"userclosedad",AD_VOLUME_CHANGED:"advolumechanged",AD_MUTED:"admuted",AD_PROGRESS:"adprogress",AD_BUFFERING:"adbuffering",AD_WATERFALLING:"adwaterfalling",AD_WATERFALLING_FAILED:"adwaterfallingfailed",AD_AUTOPLAY_FAILED:"adautoplayfailed"},$={ABORT:"abort",CAN_PLAY:"canplay",CAN_PLAY_THROUGH:"canplaythrough",DURATION_CHANGE:"durationchange",EMPTIED:"emptied",ENDED:"ended",ERROR:"error",LOADED_DATA:"loadeddata",LOADED_METADATA:"loadedmetadata",LOAD_START:"loadstart",PAUSE:"pause",PLAY:"play",PLAYING:"playing",PROGRESS:"progress",RATE_CHANGE:"ratechange",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",SUSPEND:"suspend",TIME_UPDATE:"timeupdate",VOLUME_CHANGE:"volumechange",WAITING:"waiting",ENTER_PICTURE_IN_PICTURE:"enterpictureinpicture",LEAVE_PICTURE_IN_PICTURE:"leavepictureinpicture",PRESENTATION_MODE_CHANGED:"webkitpresentationmodechanged"},V={MEDIA_LOADED:"medialoaded",PLAYER_RESET:"playerreset",PLAYER_DESTROY:"playerdestroy",ENTER_FULLSCREEN:"enterfullscreen",EXIT_FULLSCREEN:"exitfullscreen",PLAY_FAILED:"playfailed",AUTOPLAY_FAILED:"autoplayfailed",FALLBACK_TO_MUTED_AUTOPLAY:"fallbacktomutedautoplay",CHANGE_SOURCE_STARTED:"changesourcestarted",CHANGE_SOURCE_ENDED:"changesourceended",MUTE_CHANGE:"mutechange",VIDEO_TRACK_CHANGED:"videotrackchanged",AUDIO_TRACK_CHANGED:"audiotrackchanged",TEXT_TRACK_CHANGED:"texttrackchanged",IMAGE_TRACK_CHANGED:"imagetrackchanged",TEXT_TRACK_ADDED:"texttrackadded",TEXT_CUE_CHANGED:"textcuechanged",TRACKS_CHANGED:"trackschanged",ABR_MODE_CHANGED:"abrmodechanged",PLAYER_STATE_CHANGED:"playerstatechanged",PLAYBACK_START:"playbackstart",FIRST_PLAY:"firstplay",FIRST_PLAYING:"firstplaying",PLAYBACK_ENDED:"playbackended",SOURCE_SELECTED:"sourceselected",TEXT_STYLE_CHANGED:"textstylechanged",MEDIA_RECOVERED:"mediarecovered",VR_STEREO_MODE_CHANGED:"vrstereomodechanged",FPS_DROP:"fpsdrop",BOOKMARK_ERROR:"bookmarkerror",CONCURRENCY_LIMIT:"concurrencylimit",RESIZE:"resize",TIMED_METADATA:"timedmetadata",TIMED_METADATA_CHANGE:"timedmetadatachange",TIMED_METADATA_ADDED:"timedmetadataadded",FRAG_LOADED:"fragloaded",MANIFEST_LOADED:"manifestloaded",USER_GESTURE:"usergesture",DRM_LICENSE_LOADED:"drmlicenseloaded",SOURCE_URL_SWITCHED:"sourceurlswitched"},G=N.merge([$,V,Q]);function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Y=function(){function e(){}var t,n;return t=e,n=[{key:"language",get:function(){var e;return(e=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.userLanguage?navigator.userLanguage:navigator.language)&&e.match("-")&&(e=e.split("-")[0]),e}}],null&&K(t.prototype,null),n&&K(t,n),e}();function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var X=function(){function e(e){this.type=e,this._duration=0,this._timestamp=Date.now()/1e3}var t,n;return t=e,(n=[{key:"duration",get:function(){return this._duration},set:function(e){this._duration=e-this._timestamp}}])&&Z(t.prototype,n),e}(),J={IDLE:"idle",LOADING:"loading",PLAYING:"playing",PAUSED:"paused",BUFFERING:"buffering"};function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var te=function(){function e(e){var t,n,r,i,o,a,s,l,u,c=this;s=this,l="_transitions",(a={})[J.IDLE]=((t={})[$.LOAD_START]=function(){return c._updateState(J.LOADING)},t[$.PLAY]=function(){return c._updateState(J.BUFFERING)},t[$.SEEKED]=function(){return c._updateState(J.PAUSED)},t),a[J.LOADING]=((n={})[$.LOADED_METADATA]=function(){return c._updateState(J.PAUSED)},n[$.ERROR]=function(e){return e.payload.severity===B.Severity.CRITICAL&&c._updateState(J.IDLE)},n[$.SEEKED]=function(){c._prevState&&c._prevState.type===J.PLAYING&&c._updateState(J.PLAYING)},n),a[J.PAUSED]=((r={})[$.PLAY]=function(){return c._updateState(J.PLAYING)},r[$.PLAYING]=function(){return c._updateState(J.PLAYING)},r[$.ENDED]=function(){return c._updateState(J.IDLE)},r),a[J.PLAYING]=((i={})[$.PAUSE]=function(){return c._updateState(J.PAUSED)},i[$.WAITING]=function(){c._player.seeking?c._updateState(J.LOADING):(c._updateState(J.BUFFERING),c._lastWaitingTime=c._player.currentTime)},i[$.ENDED]=function(){return c._updateState(J.IDLE)},i[$.ERROR]=function(e){return e.payload.severity===B.Severity.CRITICAL&&c._updateState(J.IDLE)},i),a[J.BUFFERING]=((o={})[$.PLAYING]=function(){return c._updateState(J.PLAYING)},o[$.PAUSE]=function(){return c._updateState(J.PAUSED)},o[$.TIME_UPDATE]=function(){"IE"===h.browser.name&&c._player.currentTime!==c._lastWaitingTime&&c._prevState&&c._prevState.type===J.PLAYING&&(c._lastWaitingTime=null,c._updateState(J.PLAYING))},o),u=a,l in s?Object.defineProperty(s,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[l]=u,this._player=e,this._logger=x("StateManager"),this._eventManager=new I,this._history=[],this._prevState=null,this._curState=new X(J.IDLE),this._attachListeners()}var t,n,r=e.prototype;return r._attachListeners=function(){this._eventManager.listen(this._player,$.ERROR,this._doTransition.bind(this)),this._eventManager.listen(this._player,$.ENDED,this._doTransition.bind(this)),this._eventManager.listen(this._player,$.PLAY,this._doTransition.bind(this)),this._eventManager.listen(this._player,$.LOAD_START,this._doTransition.bind(this)),this._eventManager.listen(this._player,$.PLAYING,this._doTransition.bind(this)),this._eventManager.listen(this._player,$.LOADED_METADATA,this._doTransition.bind(this)),this._eventManager.listen(this._player,$.PAUSE,this._doTransition.bind(this)),this._eventManager.listen(this._player,$.WAITING,this._doTransition.bind(this)),this._eventManager.listen(this._player,$.SEEKED,this._doTransition.bind(this)),this._eventManager.listen(this._player,$.TIME_UPDATE,this._doTransition.bind(this))},r._doTransition=function(e){(e.type!==$.TIME_UPDATE||this._curState===J.BUFFERING&&e.type===$.TIME_UPDATE)&&this._logger.debug("Do transition request",e.type);var t=this._transitions[this._curState.type];"function"==typeof t[e.type]&&t[e.type](e)},r._updateState=function(e){this._curState.type!==e&&(this._curState.duration=Date.now()/1e3,this._history.push(this._curState),this._prevState=this._curState,this._curState=new X(e),this._logger.debug("Switch player state: from "+this._prevState.type+" to "+this._curState.type),this._dispatchEvent())},r._dispatchEvent=function(){var e=new g(V.PLAYER_STATE_CHANGED,{oldState:this._prevState,newState:this._curState});this._player.dispatchEvent(e)},r.destroy=function(){this._history=[],this._eventManager.destroy()},r.reset=function(){this._history=[]},t=e,(n=[{key:"currentState",get:function(){return this._curState}},{key:"previousState",get:function(){return this._prevState}},{key:"history",get:function(){return this._history}}])&&ee(t.prototype,n),e}();function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var re=function(){var e,t;function n(e){void 0===e&&(e={}),this._id=e.id,this._active=e.active,this._label=e.label,this._language=e.language,this._index=e.index,this._available="boolean"!=typeof e.available||e.available,this.clone=n.clone.bind(null,this)}return n.langComparer=function(e,t,n,r){try{return e=e.toLowerCase(),t=t.toLowerCase(),n&&(n=n.toLowerCase()),r?e===t||n===t:!!e&&(e.startsWith(t)||t.startsWith(e))}catch(e){return!1}},n.clone=function(e){return Object.assign(Object.create(Object.getPrototypeOf(e)),e)},e=n,(t=[{key:"id",get:function(){return this._id}},{key:"active",get:function(){return this._active},set:function(e){this._active=e}},{key:"label",get:function(){return this._label},set:function(e){this._label=e}},{key:"language",get:function(){return this._language}},{key:"index",get:function(){return this._index},set:function(e){this._index=e}},{key:"available",get:function(){return this._available},set:function(e){this._available=e}}])&&ne(e.prototype,t),n}();function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var oe=function(e){var t,n,r,i;function o(t){var n;return void 0===t&&(t={}),(n=e.call(this,t)||this)._bandwidth=t.bandwidth,n._width=t.width,n._height=t.height,n._label=t.label?t.label:n._height?n._height+"p":void 0,n}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r=o,(i=[{key:"bandwidth",get:function(){return this._bandwidth}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}}])&&ie(r.prototype,i),o}(re),ae=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(re);function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ue={"":!0,up:!0};function ce(e){return"number"==typeof e&&e>=0&&e<=100}var de,_e=function(){function e(){le(this,"_width",100),le(this,"_lines",3),le(this,"_regionAnchorX",0),le(this,"_regionAnchorY",100),le(this,"_viewportAnchorX",0),le(this,"_viewportAnchorY",100),le(this,"_scroll","")}var t,n;return t=e,(n=[{key:"width",get:function(){return this._width},set:function(e){if(!ce(e))throw new Error("Width must be between 0 and 100.");this._width=e}},{key:"scroll",get:function(){return this._scroll},set:function(e){var t=function(e){return"string"==typeof e&&!!ue[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");this._scroll=t}},{key:"viewportAnchorY",get:function(){return this._viewportAnchorY},set:function(e){if(!ce(e))throw new Error("ViewportAnchorY must be between 0 and 100.");this._viewportAnchorY=e}},{key:"viewportAnchorX",get:function(){return this._viewportAnchorX},set:function(e){if(!ce(e))throw new Error("ViewportAnchorX must be between 0 and 100.");this._viewportAnchorX=e}},{key:"regionAnchorX",get:function(){return this._regionAnchorX},set:function(e){if(!ce(e))throw new Error("RegionAnchorY must be between 0 and 100.");this._regionAnchorX=e}},{key:"lines",get:function(){return this._lines},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");this._lines=e}},{key:"regionAnchorY",get:function(){return this._regionAnchorY},set:function(e){if(!ce(e))throw new Error("RegionAnchorX must be between 0 and 100.");this._regionAnchorY=e}}])&&se(t.prototype,n),e}();function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}de="undefined"!=typeof window&&window.VTTRegion?window.VTTRegion:_e;var he=function(){function e(){Ae(this,"_fontSizeIndex",2),Ae(this,"fontFamily",e.FontFamily.SANS_SERIF),Ae(this,"fontColor",e.StandardColors.WHITE),Ae(this,"fontOpacity",e.StandardOpacities.OPAQUE),Ae(this,"backgroundColor",e.StandardColors.BLACK),Ae(this,"backgroundOpacity",e.StandardOpacities.OPAQUE),Ae(this,"fontEdge",e.EdgeStyles.NONE)}e.toRGBA=function(e,t){return"rgba("+e.concat(t).join(",")+")"},e.fromJson=function(t){var n=function(e,t){return null!=e?e:t},r=new e;return r.fontEdge=n(t.fontEdge,r.fontEdge),r.fontSize=n(t.fontSize,r.fontSize),r.fontScale=n(t.fontScale,r.fontScale),r.fontColor=n(t.fontColor,r.fontColor),r.fontOpacity=n(t.fontOpacity,r.fontOpacity),r.backgroundColor=n(t.backgroundColor,r.backgroundColor),r.backgroundOpacity=n(t.backgroundOpacity,r.backgroundOpacity),r.fontFamily=n(t.fontFamily,r.fontFamily),r},e.toJson=function(e){return{fontEdge:e.fontEdge,fontSize:e.fontSize,fontScale:e.fontScale,fontColor:e.fontColor,fontOpacity:e.fontOpacity,backgroundColor:e.backgroundColor,backgroundOpacity:e.backgroundOpacity,fontFamily:e.fontFamily}};var t,n,r=e.prototype;return r.getTextShadow=function(){for(var t=[],n=0;n<this.fontEdge.length;n++){var r=this.fontEdge[n].slice(0,3),i=this.fontEdge[n].slice(3,6);t.push(e.toRGBA(r,this.fontOpacity)+" "+i.join("px ")+"px")}return t.join(",")},r.toCSS=function(){var t=[];return t.push("font-family: "+this.fontFamily),t.push("color: "+e.toRGBA(this.fontColor,this.fontOpacity)),t.push("background-color: "+e.toRGBA(this.backgroundColor,this.backgroundOpacity)),t.push("text-shadow: "+this.getTextShadow()),t.join("!important; ")},r.clone=function(){return e.fromJson(e.toJson(this))},r.isEqual=function(t){return JSON.stringify(e.toJson(this))===JSON.stringify(e.toJson(t))},t=e,(n=[{key:"fontSize",set:function(t){var n=e.FontSizes.findIndex((function(e){return e.label===t}));-1!==n&&(this._fontSizeIndex=n)},get:function(){return e.FontSizes[this._fontSizeIndex].label}},{key:"fontScale",set:function(t){var n=e.FontSizes.findIndex((function(e){return e.value===t}));-1!==n&&(this._fontSizeIndex=n)},get:function(){return e.FontSizes[this._fontSizeIndex].value}},{key:"implicitFontScale",get:function(){return.25*e.FontSizes[this._fontSizeIndex].value+1}}])&&pe(t.prototype,n),e}();Ae(he,"FontFamily",{ARIAL:"Arial",HELVETICA:"Helvetica",VERDANA:"Verdana",SANS_SERIF:"sans-serif"}),Ae(he,"StandardColors",{WHITE:[255,255,255],BLACK:[0,0,0],RED:[255,0,0],GREEN:[0,255,0],BLUE:[0,0,255],YELLOW:[255,255,0],MAGENTA:[255,0,255],CYAN:[0,255,255]}),Ae(he,"StandardOpacities",{OPAQUE:1,SEMI_HIGH:.75,SEMI_LOW:.25,TRANSPARENT:0}),Ae(he,"EdgeStyles",{NONE:[],RAISED:[[34,34,34,1,1,0],[34,34,34,2,2,0],[34,34,34,3,3,0]],DEPRESSED:[[204,204,204,1,1,0],[204,204,204,0,1,0],[34,34,34,-1,-1,0],[34,34,34,0,-1,0]],UNIFORM:[[34,34,34,0,0,4],[34,34,34,0,0,4],[34,34,34,0,0,4],[34,34,34,0,0,4]],DROP:[[34,34,34,2,2,3],[34,34,34,2,2,4],[34,34,34,2,2,5]]}),Ae(he,"FontSizes",[{value:-2,label:"50%"},{value:-1,label:"75%"},{value:0,label:"100%"},{value:2,label:"200%"},{value:3,label:"300%"},{value:4,label:"400%"}]);var fe=he;function ve(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}var ge={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},be={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},me={v:"title",lang:"lang"},ye={rt:"ruby"};function Ce(){this.values=Pe(null)}function we(e,t,n,r){var i=r?e.split(r):[e];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(n);2===a.length&&t(a[0],a[1])}}function ke(e,t,n){var r=e;function i(){var t=ve(e);if(null===t)throw new Be(Be.Errors.BadTimeStamp,"Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function o(){e=e.replace(/^\s+/,"")}if(o(),t.startTime=i(),o(),"--\x3e"!==e.substr(0,3))throw new Be(Be.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),o(),t.endTime=i(),o(),function(e,t){var r=new Ce;we(e,(function(e,t){switch(e){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===t){r.set(e,n[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];r.integer(e,a),r.percent(e,a)&&r.set("snapToLines",!1),r.alt(e,a,["auto"]),2===o.length&&r.alt("lineAlign",o[1],["start","center","end"]);break;case"position":o=t.split(","),r.percent(e,o[0]),2===o.length&&r.alt("positionAlign",o[1],["start","center","end"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start","center","end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical",""),t.line=r.get("line",t.line||"auto"),t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100);try{t.align=r.get("align","center")}catch(e){t.align=r.get("align","middle")}t.position=r.get("position",t.position||"auto"),t.positionAlign=r.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}function Ee(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]+>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}function r(e){return ge[e]}function i(e){for(var t;t=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(t[0],r);return e}function o(e,t){return!ye[t.localName]||ye[t.localName]===e.localName}function a(t,n){var r=be[t];if(!r)return null;var i=e.document.createElement(r),o=me[t];return o&&n&&(i[o]=n.trim()),i}for(var s,l=e.document.createElement("div"),u=l,c=[];null!==(s=n());)if("<"!==s[0])u.appendChild(e.document.createTextNode(i(s)));else{if("/"===s[1]){c.length&&c[c.length-1]===s.substr(2).replace(">","")&&(c.pop(),u=u.parentNode);continue}var d=ve(s.substr(1,s.length-2)),_=void 0;if(d){_=e.document.createProcessingInstruction("timestamp",d),u.appendChild(_);continue}var p=s.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!p)continue;if(!(_=a(p[1],p[3])))continue;if(!o(u,_))continue;p[2]&&(_.className=p[2].substr(1).replace("."," ")),c.push(p[1]),u.appendChild(_),u=_}return l}Ce.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var xe=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function Te(e){for(var t=0;t<xe.length;t++){var n=xe[t];if(e>=n[0]&&e<=n[1])return!0}return!1}var qe=function(e){var t,n;function r(t,n,r){var i;i=e.call(this)||this;var o="undefined"!=typeof navigator&&/MSIE\s8\.0/.test(navigator.userAgent);"undefined"!=typeof WebVTTSet&&(WebVTTSet.fontSet,WebVTTSet.backgroundSet,WebVTTSet.edgeSet),i.cue=n,i.cueDiv=Ee(t,n.text);var a={color:r.color,backgroundColor:r.backgroundColor,textShadow:r.textShadow,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};o||(a.writingMode=""===n.vertical?"horizontal-tb":"lr"===n.vertical?"vertical-lr":"vertical-rl",a.unicodeBidi="plaintext"),i.applyStyles(a,i.cueDiv),i.div=t.document.createElement("div"),a={textAlign:"middle"===n.align?"center":n.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},o||(a.direction=function(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function r(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function i(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var o=n.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):n}return"ruby"===t.tagName?i(e):t.childNodes?(r(e,t),i(e)):void 0}for(r(t,e);n=i(t);)for(var o=0;o<n.length;o++)if(Te(n.charCodeAt(o)))return"rtl";return"ltr"}(i.cueDiv),a.writingMode=""===n.vertical?"horizontal-tb":"lr"===n.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),i.applyStyles(a),i.div.appendChild(i.cueDiv);var s=0;switch(n.positionAlign||n.align){case"start":case"left":case"line-left":s=n.position;break;case"center":s=n.position-n.size/2;break;case"end":case"right":case"line-right":s=n.position-n.size}return""===n.vertical?i.applyStyles({left:i.formatStyle(s,"%"),width:i.formatStyle(Math.min(n.size,100-s)||n.size,"%")}):i.applyStyles({top:i.formatStyle(s,"%"),height:i.formatStyle(Math.min(n.size,100-s)||n.size,"%")}),i.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})},i}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(function(){function e(){}var t=e.prototype;return t.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},t.formatStyle=function(e,t){return 0===e?0:e+t},e}()),Se=function(){function e(e){var t,n,r,i;if(function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"overlaps",(function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top})),e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=t||e.lineHeight||13}var t=e.prototype;return t.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},t.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},t.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},t.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},t.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},t.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},e.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n}},e}();function Oe(e,t,n,r){var i=new Se(t),o=t.cue,a=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)n[i].mode===Ye.MODE.SHOWING&&r++;return-1*++r}(o),s=[];if(o.snapToLines){var l;switch(o.vertical){case"":s=["+y","-y"],l="height";break;case"rl":s=["+x","-x"],l="width";break;case"lr":s=["-x","+x"],l="width"}var u=i.lineHeight,c=u*Math.round(a),d=n[l]+u,_=s[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/u)*u),a<0&&(c+=""===o.vertical?n.height:n.width,s=s.reverse()),i.move(_,c)}else{var p=i.lineHeight/n.height*100;switch(o.lineAlign){case"center":a-=p/2;break;case"end":a-=p}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],i=new Se(t)}var A=function(e,t){for(var i,o=new Se(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(n))return e;var l=e.intersectPercentage(n);a>l&&(i=new Se(e),a=l),e=new Se(o)}return i||o}(i,s);t.move(A.toCSSCompatValues(n))}var Ie=function(e,t){this.window=e,this.state="INITIAL",this.buffer="",this.decoder=t||new TextDecoder("utf8"),this.regionList=[]},De=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},Pe=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function Be(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Be.prototype=Pe(Error.prototype),Be.prototype.constructor=Be,Be.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Ie.prototype={reportOrThrowError:function(e){if(!(e instanceof Be))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function n(){for(var e=t.buffer,n=0;n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),r}function r(e){we(e,(function(e,n){"Region"===e&&function(e){var n=new Ce;if(we(e,(function(e,t){switch(e){case"id":n.set(e,t);break;case"width":n.percent(e,t);break;case"lines":n.integer(e,t);break;case"regionanchor":case"viewportanchor":var r=t.split(",");if(2!==r.length)break;var i=new Ce;if(i.percent("x",r[0]),i.percent("y",r[1]),!i.has("x")||!i.has("y"))break;n.set(e+"X",i.get("x")),n.set(e+"Y",i.get("y"));break;case"scroll":n.alt(e,t,["up"])}}),/=/,/\s/),n.has("id")){var r=new de;r.width=n.get("width",100),r.lines=n.get("lines",3),r.regionAnchorX=n.get("regionanchorX",0),r.regionAnchorY=n.get("regionanchorY",100),r.viewportAnchorX=n.get("viewportanchorX",0),r.viewportAnchorY=n.get("viewportanchorY",100),r.scroll=n.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:n.get("id"),region:r})}}(n)}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var i;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var o=(i=n()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Be(Be.Errors.BadSignature);t.state="HEADER"}for(var a=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:i=n(),t.state){case"HEADER":/:/.test(i)?r(i):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;if(t.cue=new We(0,0,""),t.state="CUE",-1===i.indexOf("--\x3e")){t.cue.id=i;continue}case"CUE":try{ke(i,t.cue,t.regionList)}catch(e){t.reportOrThrowError(e),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var s=-1!==i.indexOf("--\x3e");if(!i||s&&(a=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=i;continue;case"BADCUE":i||(t.state="ID");continue}}}catch(e){t.reportOrThrowError(e),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Be(Be.Errors.BadSignature)}catch(e){this.reportOrThrowError(e)}return this.onflush&&this.onflush(),this}};var Le={"":!0,lr:!0,rl:!0},Ne={start:!0,center:!0,end:!0,left:!0,right:!0};function ze(e){return"string"==typeof e&&!!Ne[e.toLowerCase()]&&e.toLowerCase()}var We,je,Fe,Ue=function(){function e(e,t,n){Re(this,"hasBeenReset",!1),Re(this,"displayState",void 0),Re(this,"_id",""),Re(this,"_pauseOnExit",!1),Re(this,"_region",null),Re(this,"_vertical",""),Re(this,"_snapToLines",!0),Re(this,"_line","auto"),Re(this,"_lineAlign","start"),Re(this,"_position",50),Re(this,"_positionAlign","center"),Re(this,"_size",50),Re(this,"_align","center"),this._startTime=e,this._endTime=t,this._text=n}var t,n,r=e.prototype;return r.resetCue=function(){this.hasBeenReset=!0},r.getCueAsHTML=function(){return function(e,t){return e&&t?Ee(e,t):null}(window,this.text)},t=e,(n=[{key:"id",get:function(){return this._id},set:function(e){this._id=""+e}},{key:"pauseOnExit",get:function(){return this._pauseOnExit},set:function(e){this._pauseOnExit=e}},{key:"startTime",get:function(){return this._startTime},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");this._startTime=e,this.resetCue()}},{key:"endTime",get:function(){return this._endTime},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");this._endTime=e,this.resetCue()}},{key:"text",get:function(){return this._text},set:function(e){this._text=""+e,this.resetCue()}},{key:"region",get:function(){return this._region},set:function(e){this._region=e,this.resetCue()}},{key:"vertical",get:function(){return this._vertical},set:function(e){var t=function(e){return"string"==typeof e&&!!Le[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");"string"==typeof t&&(this._vertical=t,this.resetCue())}},{key:"snapToLines",get:function(){return this._snapToLines},set:function(e){this._snapToLines=e,this.resetCue()}},{key:"line",get:function(){return this._line},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");this._line=e,this.resetCue()}},{key:"lineAlign",get:function(){return this._lineAlign},set:function(e){var t=ze(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");"string"==typeof t&&(this._lineAlign=t,this.resetCue())}},{key:"position",get:function(){return this._position},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");this._position=e,this.resetCue()}},{key:"positionAlign",get:function(){return this._positionAlign},set:function(e){var t=ze(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");"string"==typeof t&&(this._positionAlign=t,this.resetCue())}},{key:"size",get:function(){return this._size},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");this._size=e,this.resetCue()}},{key:"align",get:function(){return this._align},set:function(e){var t=ze(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");"string"==typeof t&&(this._align=t,this.resetCue())}}])&&Me(t.prototype,n),e}();function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}We="undefined"!=typeof window&&window.VTTCue?window.VTTCue:Ue;var $e,Ve,Ge=(Fe=je=function(e){var t,n,r,i;function o(t){var n;return void 0===t&&(t={}),(n=e.call(this,t)||this)._label=n.label||n.language,n._kind=t.kind,n._external=t.external,n._index=o._generateIndex(),n._default=t.default||!1,n}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,o._generateIndex=function(){return o._tracksCount++},o.reset=function(){o._tracksCount=0},r=o,(i=[{key:"kind",get:function(){return this._kind}},{key:"external",get:function(){return this._external}},{key:"default",get:function(){return this._default}}])&&Qe(r.prototype,i),o}(re),0,(Ve="_tracksCount")in($e=je)?Object.defineProperty($e,Ve,{value:0,enumerable:!0,configurable:!0,writable:!0}):$e[Ve]=0,Fe);function Ke(e){for(var t,n=[],r=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?He(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(e);!(t=r()).done;){var i=t.value;if(window.VTTCue&&i instanceof window.VTTCue||window.DataCue&&i instanceof window.DataCue)n.push(i);else if(window.TextTrackCue&&i instanceof window.TextTrackCue)try{n.push(new We(i.startTime,i.endTime,i.text))}catch(e){new B(B.Severity.RECOVERABLE,B.Category.TEXT,B.Code.UNABLE_TO_CREATE_TEXT_CUE,e)}}return n}Ge.MODE={DISABLED:"disabled",SHOWING:"showing",HIDDEN:"hidden"},Ge.KIND={METADATA:"metadata",SUBTITLES:"subtitles",CAPTIONS:"captions"},Ge.EXTERNAL_TRACK_ID="playkit-external-track",Ge.isMetaDataTrack=function(e){return e&&e.kind===Ge.KIND.METADATA},Ge.isNativeTextTrack=function(e){return e&&[Ge.KIND.SUBTITLES,Ge.KIND.CAPTIONS].includes(e.kind)},Ge.isExternalTrack=function(e){return e&&[e.language,e.label].includes(Ge.EXTERNAL_TRACK_ID)};var Ye=Ge,Ze=Object.freeze({VIDEO:"video",AUDIO:"audio",TEXT:"text",IMAGE:"image"}),Xe={DASH:"dash",HLS:"hls",PROGRESSIVE:"progressive",IMAGE:"image"},Je={HTML5:"html5",FLASH:"flash",SILVERLIGHT:"silverlight",CAST:"cast",YOUTUBE:"youtube",IMAGE:"image"},et={VOD:"Vod",LIVE:"Live",AUDIO:"Audio",IMAGE:"Image",UNKNOWN:"Unknown"},tt={MANUAL:"manual",AUTO:"auto"},nt={ANONYMOUS:"anonymous",USE_CREDENTIALS:"use-credentials"},rt=function(){function e(){}return e.prototype.callNext=function(e){e&&e()},e}(),it=function(){function e(e){this._actions=e,this._middlewares=new v,this._logger=x("Middleware")}var t=e.prototype;return t.use=function(e){for(var t in this._actions){var n=this._actions[t];"function"==typeof e[n]&&(this._logger.debug("Register <"+e.id+"> for action "+n),this._middlewares.push(n,e[n].bind(e)))}},t.run=function(e,t){var n=this;this._logger.debug("Start middleware chain for action "+e);for(var r=this._middlewares.get(e),i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];this._executeMiddleware(r,(function(){n._logger.debug("Finish middleware chain for action "+e),t.apply(void 0,arguments)}),o)},t._executeMiddleware=function(e,t,n){var r=n,i=function(e,t,n){var i;(null==t?void 0:t.length)&&(r=t),(null==(i=r)?void 0:i.length)?e.apply(void 0,r.concat([n])):e(n)};e.reduceRight((function(e,t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];i(t,r,e)}}),(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];i(t,n)}))()},e}(),ot=function(){function e(){this._middleware=new it(e.Actions)}var t=e.prototype;return t.use=function(e){this._middleware.use(e)},t.load=function(t){this._middleware.run(e.Actions.LOAD,t)},t.play=function(t){this._middleware.run(e.Actions.PLAY,t)},t.pause=function(t){this._middleware.run(e.Actions.PAUSE,t)},t.setCurrentTime=function(t,n){this._middleware.run(e.Actions.SET_CURRENT_TIME,n,t)},e}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ot,"Actions",{LOAD:"load",PLAY:"play",PAUSE:"pause",SET_CURRENT_TIME:"setCurrentTime"});var at={NONE:"none",ANY:"any",NATURAL:"natural",LANDSCAPE:"landscape",PORTRAIT:"portrait",PORTRAIT_PRIMARY:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary",LANDSCAPE_PRIMARY:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary"},st={log:{level:"ERROR"},text:{enableCEA708Captions:!0,useNativeTextTrack:!1,forceCenter:!1,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es"},playback:{audioLanguage:"",textLanguage:"",volume:1,playsinline:!0,preload:"none",autoplay:!1,loop:!1,autopause:!1,allowMutedAutoPlay:!0,muted:!1,pictureInPicture:!0,options:{html5:{hls:{},dash:{},native:{}}},preferNative:{hls:!1,dash:!1},inBrowserFullscreen:!1,screenLockOrientionMode:at.NONE,playAdsWithMSE:!1,streamPriority:[{engine:"html5",format:"hls"},{engine:"html5",format:"dash"},{engine:"html5",format:"progressive"},{engine:"flash",format:"hls"}]},streaming:{forceBreakStall:!1},abr:{enabled:!0,fpsDroppedFramesInterval:5e3,fpsDroppedMonitoringThreshold:.2,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,restrictions:{minHeight:0,maxHeight:1/0,minWidth:0,maxWidth:1/0,minBitrate:0,maxBitrate:1/0}},drm:{keySystem:""},network:{maxStaleLevelReloads:20}},lt={options:{},metadata:{}},ut=(n(5),{MANIFEST:0,SEGMENT:1,LICENSE:2});function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var dt=function(e){var t,n,r,i;function o(t){var n;n=e.call(this,t)||this;var r=t.url,i=t.width,o=t.height,a=t.duration,s=t.rows,l=t.cols,u=t.customData;return n._url=r,n._width=i,n._height=o,n._duration=a,n._customData=u,n._rows=s||1,n._cols=l||1,n}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r=o,(i=[{key:"url",get:function(){return this._url}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"duration",get:function(){return this._duration}},{key:"rows",get:function(){return this._rows}},{key:"cols",get:function(){return this._cols}},{key:"customData",get:function(){return this._customData}},{key:"sliceWidth",get:function(){return this._width/this._cols}},{key:"sliceHeight",get:function(){return this._height/this._rows}}])&&ct(r.prototype,i),o}(re);function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var pt=function(){function e(e){var t=e.url,n=e.width,r=e.height,i=e.x,o=e.y;this._url=t,this._width=n,this._height=r,this._x=i,this._y=o}var t,n;return t=e,(n=[{key:"url",get:function(){return this._url}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}}])&&_t(t.prototype,n),e}();function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ft=function(e){var t,n;function r(t,n,r){var i;return void 0===r&&(r={}),ht(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i=e.call(this)||this),"_capabilities",{fpsControl:!1}),i._videoElement=t,i._sourceObj=n,i._config=r,i._onDurationChanged=function(){i.isLive()&&i._videoElement.paused&&i._trigger($.TIME_UPDATE)},i._eventManager=new I,i._handleLiveTimeUpdate(),i}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.isSupported=function(){return!0},r.isMSESupported=function(){var e=window.MediaSource||window.WebKitMediaSource;return!!e&&"function"==typeof e.isTypeSupported};var i,o,a=r.prototype;return a.destroy=function(){return this._sourceObj=null,this._config={},this.disableNativeTextTracks(),this._videoElement.removeEventListener($.DURATION_CHANGE,this._onDurationChanged),this._eventManager.destroy(),Promise.resolve()},a._onTrackChanged=function(e){e instanceof oe?(r._logger.debug("Video track changed",e),this._trigger(V.VIDEO_TRACK_CHANGED,{selectedVideoTrack:e})):e instanceof ae?(r._logger.debug("Audio track changed",e),this._trigger(V.AUDIO_TRACK_CHANGED,{selectedAudioTrack:e})):e instanceof Ye?(r._logger.debug("Text track changed",e),this._trigger(V.TEXT_TRACK_CHANGED,{selectedTextTrack:e})):e instanceof dt&&(r._logger.debug("Image track changed",e),this._trigger(V.IMAGE_TRACK_CHANGED,{selectedImageTrack:e}))},a._trigger=function(e,t){this.dispatchEvent(new g(e,t))},r.canPlayType=function(e,t){return r._throwNotImplementedError("static canPlayType")},a.load=function(){return r._throwNotImplementedError("load")},a.selectVideoTrack=function(e){return r._throwNotImplementedError("selectVideoTrack")},a.selectAudioTrack=function(e){r._throwNotImplementedError("selectAudioTrack")},a.selectTextTrack=function(e){r._throwNotImplementedError("selectTextTrack")},a.selectImageTrack=function(e){},a.hideTextTrack=function(){r._throwNotImplementedError("hideTextTrack")},a.enableAdaptiveBitrate=function(){r._throwNotImplementedError("enableAdaptiveBitrate")},a.isAdaptiveBitrateEnabled=function(){return r._throwNotImplementedError("isAdaptiveBitrateEnabled")},a.applyABRRestriction=function(e){return r._throwNotImplementedError("applyABRRestriction")},a._getLiveEdge=function(){return r._throwNotImplementedError("_getLiveEdge")},a.seekToLiveEdge=function(){r._throwNotImplementedError("seekToLiveEdge")},a.isLive=function(){return r._throwNotImplementedError("isLive")},a.isOnLiveEdge=function(){return this.liveDuration-this._videoElement.currentTime<=2*this.getSegmentDuration()},a.setMaxBitrate=function(e){},a.attachMediaSource=function(){},a.detachMediaSource=function(){},a._handleLiveTimeUpdate=function(){this._videoElement.addEventListener($.DURATION_CHANGE,this._onDurationChanged)},a.disableNativeTextTracks=function(){Array.from(this._videoElement.textTracks).forEach((function(e){Ye.isNativeTextTrack(e)&&!Ye.isExternalTrack(e)&&(e.mode=Ye.MODE.DISABLED)}))},a.handleMediaError=function(e){return!1},a.getStartTimeOfDvrWindow=function(){return r._throwNotImplementedError("getStartTimeOfDvrWindow")},a.getThumbnail=function(e){return null},a.getSegmentDuration=function(){return r._throwNotImplementedError("getSegmentDuration")},r._throwNotImplementedError=function(e){throw new B(B.Severity.CRITICAL,B.Category.PLAYER,B.Code.RUNTIME_ERROR_METHOD_NOT_IMPLEMENTED,e)},a.getDrmInfo=function(){return null},i=r,(o=[{key:"liveDuration",get:function(){return r._throwNotImplementedError("liveDuration")}},{key:"src",get:function(){return this._loadPromise&&this._sourceObj?this._sourceObj.url:""},set:function(e){!this._loadPromise&&this._sourceObj&&(this._sourceObj.url=e)}},{key:"capabilities",get:function(){return this._capabilities}},{key:"targetBuffer",get:function(){return NaN}}])&&At(i.prototype,o),r}(T);function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gt(e,t){var n=function(e,t){var n=function(e,t,n){return e>=(t||0)&&e<=(n||1/0)},r=t.maxHeight,i=t.minHeight,o=t.maxWidth,a=t.minWidth;if(0!==i||0!==a||r!==1/0||o!==1/0)return e.filter((function(e){return n(e.height,i,r)})).filter((function(e){return n(e.width,a,o)}));var s=t.maxBitrate,l=t.minBitrate;return 0!==l||s!==1/0?e.filter((function(e){return n(e.bandwidth,l,s)})):e}(e,t);return n.length?n:[]}ht(ft,"id","BaseAdapter"),ht(ft,"getLogger",x),ht(ft,"_logger",ft.getLogger(ft.id));var bt={WIDEVINE:"com.widevine.alpha",PLAYREADY:"com.microsoft.playready",FAIRPLAY:"com.apple.fairplay"},mt=x("FairPlay"),yt=function(){function e(){}return e.isConfigured=function(e,t){return bt.FAIRPLAY===t.keySystem&&!!e.find((function(e){return e.scheme===t.keySystem}))},e.canPlayDrm=function(e){var t=e.some((function(e){return e.scheme===bt.FAIRPLAY}))&&!!window.WebKitMediaKeys;return mt.debug("Can play DRM scheme of: "+bt.FAIRPLAY+" is "+t.toString()),t},e.setDrmPlayback=function(e,t){mt.debug("Sets drm playback");var n=t.find((function(e){return e.scheme===bt.FAIRPLAY}));n&&(e.licenseUrl=n.licenseUrl,e.certificate=n.certificate)},e}(),Ct=n(2);function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kt={NEED_KEY:"webkitneedkey",KEY_MESSAGE:"webkitkeymessage",KEY_ADDED:"webkitkeyadded",KEY_ERROR:"webkitkeyerror"},Et=function(){function e(t,n,r,i){var o=this;wt(this,"_logger",x("FairPlayDrmHandler")),wt(this,"_retryLicenseRequest",4),wt(this,"_defaultConfig",{licenseUrl:"",certificate:"",network:{responseFilter:function(t,n){var r={};try{var i=new DataView(n.data),a=(new TextDecoder).decode(i).trim();r=JSON.parse(a)}catch(e){return void o._onError(B.Code.BAD_FAIRPLAY_RESPONSE,{error:e,responseText:n.data})}var s=e._validateResponse(r);s.valid?n.data=e._base64DecodeUint8Array(r.ckc):o._onError(B.Code.BAD_FAIRPLAY_RESPONSE,s)}}}),this._config=N.mergeDeep({},this._defaultConfig,n),this._errorCallback=r,this._drmResponseCallback=i,this._videoElement=t,this._onWebkitNeedKeyHandler=function(e){return o._onWebkitNeedKey(e)},this._eventManager=new I,this._eventManager.listen(this._videoElement,kt.NEED_KEY,this._onWebkitNeedKeyHandler)}var t=e.prototype;return t._onWebkitNeedKey=function(t){var n=this;this._logger.debug("Webkit need key triggered");var r=t.target,i=t.initData,o=e._extractContentId(i),a=e._base64DecodeUint8Array(this._config.certificate);if(i=e._concatInitDataIdAndCertificate(i,o,a),!r.webkitKeys){var s=this._selectKeySystem();this._logger.debug("Sets media keys"),r.webkitSetMediaKeys(new window.WebKitMediaKeys(s))}r.webkitKeys||this._onError(B.Code.COULD_NOT_CREATE_MEDIA_KEYS),this._logger.debug("Creates session"),this._keySession=r.webkitKeys.createSession("video/mp4",i),this._keySession||this._onError(B.Code.COULD_NOT_CREATE_KEY_SESSION),this._keySession.contentId=o,this._eventManager.listen(this._keySession,kt.KEY_MESSAGE,(function(e){return n._onWebkitKeyMessage(e)})),this._eventManager.listen(this._keySession,kt.KEY_ADDED,(function(){return n._onWebkitKeyAdded()})),this._eventManager.listen(this._keySession,kt.KEY_ERROR,(function(e){return n._onWebkitKeyError(e)}))},t.getDrmInfo=function(){var e=this._config;return{certificate:e.certificate,licenseUrl:e.licenseUrl,scheme:bt.FAIRPLAY}},t.destroy=function(){this._eventManager.destroy(),this._keySession.close(),this._keySession=null},t._onWebkitKeyMessage=function(t){var n=this;this._logger.debug("Webkit key message triggered");var r=t.message,i=new XMLHttpRequest;i.responseType="arraybuffer",this._eventManager.listenOnce(i,"load",(function(e){return n._licenseRequestLoaded(e)}));var o,a={url:this._config.licenseUrl,body:e._base64EncodeUint8Array(r),headers:{}},s=this._config.network.requestFilter;if(s){this._logger.debug("Apply request filter");try{o=s(ut.LICENSE,a)}catch(e){o=Promise.reject(e)}}(o=o||Promise.resolve(a)).then((function(e){i.open("POST",e.url,!0);var t=!0;e.headers&&Object.entries(e.headers).forEach((function(e){var n=e[0],r=e[1];"string"==typeof r&&i.setRequestHeader(n,r),t&&(t="content-type"!==n.toLowerCase())})),"boolean"==typeof e.withCredentials&&(i.withCredentials=e.withCredentials),t&&i.setRequestHeader("Content-type","application/json"),n._logger.debug("Ready for license request"),i.onerror=function(){n._onError(B.Code.LICENSE_REQUEST_FAILED,{status:i.status,responseText:i.responseText})},n._licenseRequestTime=Date.now(),i.send(e.body)})).catch((function(e){n._errorCallback(new B(B.Severity.CRITICAL,B.Category.NETWORK,B.Code.REQUEST_FILTER_ERROR,e)),n.destroy()}))},t._onWebkitKeyAdded=function(){this._logger.debug("Decryption key was added to session")},t._onWebkitKeyError=function(e){this._logger.error("A decryption key error was encountered",e),this._retryLicenseRequest<=0&&this._onError(B.Code.LICENSE_REQUEST_FAILED,e.target.error),this._retryLicenseRequest--},t._licenseRequestLoaded=function(e){var t=this;this._logger.debug("License request loaded");var n=e.target;if(n.status>299)this._onError(B.Code.LICENSE_REQUEST_FAILED,{status:n.status,error:n.responseText});else{if(this._drmResponseCallback){var r=Date.now()-this._licenseRequestTime;this._drmResponseCallback({licenseTime:r/1e3,scheme:bt.FAIRPLAY})}var i,o=n.responseURL,a=n.response,s={url:o,originalUrl:this._config.licenseUrl,data:a,headers:j.convertHeadersToDictionary(n.getAllResponseHeaders())};this._logger.debug("Apply response filter");try{i=this._config.network.responseFilter(ut.LICENSE,s)}catch(e){i=Promise.reject(e)}(i=i||Promise.resolve(s)).then((function(e){t._keySession.update(e.data)})).catch((function(e){t._errorCallback(new B(B.Severity.CRITICAL,B.Category.NETWORK,B.Code.RESPONSE_FILTER_ERROR,e)),t.destroy()}))}},t._onError=function(e,t){this._errorCallback(new B(B.Severity.CRITICAL,B.Category.DRM,e,t))},e._validateResponse=function(e){return e.message&&e.message.indexOf("error")>0||null===e.reference||500===e.status_code?{valid:!1,details:"internal server error"}:""===e.ckc?{valid:!1,details:"ckc is missing"}:{valid:!0}},t._selectKeySystem=function(){var e=null;return window.WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0","video/mp4")?e="com.apple.fps.1_0":this._logger.warn("Key System not supported"),e},e._extractContentId=function(t){var n=document.createElement("a");return n.href=e._arrayToString(t),n.hostname},e._arrayToString=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},e._base64DecodeUint8Array=function(e){for(var t=window.atob(e),n=t.length,r=new Uint8Array(new ArrayBuffer(n)),i=0;i<n;i++)r[i]=t.charCodeAt(i);return r},e._concatInitDataIdAndCertificate=function(t,n,r){"string"==typeof n&&(n=e._stringToArray(n));var i=0,o=new ArrayBuffer(t.byteLength+4+n.byteLength+4+r.byteLength),a=new DataView(o);new Uint8Array(o,i,t.byteLength).set(t),i+=t.byteLength,a.setUint32(i,n.byteLength,!0),i+=4;var s=new Uint8Array(o,i,n.byteLength);return s.set(n),i+=s.byteLength,a.setUint32(i,r.byteLength,!0),i+=4,new Uint8Array(o,i,r.byteLength).set(r),new Uint8Array(o,0,o.byteLength)},e._stringToArray=function(e){for(var t=new ArrayBuffer(2*e.length),n=new Uint16Array(t),r=0,i=e.length;r<i;r++)n[r]=e.charCodeAt(r);return n},e._base64EncodeUint8Array=function(e){for(var t,n,r,i,o,a,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",c=0;c<e.length;)i=(t=e[c++])>>2,o=(3&t)<<4|(n=c<e.length?e[c++]:Number.NaN)>>4,a=(15&n)<<2|(r=c<e.length?e[c++]:Number.NaN)>>6,s=63&r,isNaN(n)?a=s=64:isNaN(r)&&(s=64),u+=l.charAt(i)+l.charAt(o)+l.charAt(a)+l.charAt(s);return u},e}();function xt(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function St(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}wt(Et,"WebkitEvents",kt),Et.WebkitEvents=kt;var It=function(e){var t,n;function r(t,n,i){var o;return r._logger.debug("Creating adapter"),Ot(St(o=e.call(this,t,n,i)||this),"_lastTimeUpdate",0),Ot(St(o),"_waitingEventTriggered",!1),Ot(St(o),"_segmentDuration",0),Ot(St(o),"_mediaErrorRecoveryAttempts",0),Ot(St(o),"_lastTimeDetach",NaN),Ot(St(o),"_startTimeAttach",NaN),Ot(St(o),"_nativeTextTracksMap",{}),Ot(St(o),"_captionsHidden",!1),o._config=N.mergeDeep({},Ct,o._config),o._progressiveSources=i.progressiveSources,o._liveEdge=0,o}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.canPlayType=function(e){var t=!1;return"string"==typeof e&&(t=!!r.TEST_VIDEO.canPlayType(e.toLowerCase())),r._logger.debug("canPlayType result for mimeType:"+e+" is "+t.toString()),t},r.canPlayDrm=function(e,t){r._drmProtocol=null;for(var n,i=xt(r._drmProtocols);!(n=i()).done;){var o=n.value;if(o.isConfigured(e,t)){r._drmProtocol=o;break}}if(!r._drmProtocol)for(var a,s=xt(r._drmProtocols);!(a=s()).done;){var l=a.value;l.canPlayDrm(e)&&(r._drmProtocol=l)}return!!r._drmProtocol},r.createAdapter=function(e,t,n){r._logger.debug("createAdapter");var i={displayTextTrack:!1,progressiveSources:[]};if(N.hasPropertyPath(n,"text.useNativeTextTrack")&&(i.displayTextTrack=N.getPropertyPath(n,"text.useNativeTextTrack")),N.hasPropertyPath(n,"sources.progressive")&&(i.progressiveSources=N.getPropertyPath(n,"sources.progressive")),N.hasPropertyPath(n,"text")&&(i.enableCEA708Captions=n.text.enableCEA708Captions,i.captionsTextTrack1Label=n.text.captionsTextTrack1Label,i.captionsTextTrack1LanguageCode=n.text.captionsTextTrack1LanguageCode,i.captionsTextTrack2Label=n.text.captionsTextTrack2Label,i.captionsTextTrack2LanguageCode=n.text.captionsTextTrack2LanguageCode),N.hasPropertyPath(n,"playback")&&N.hasPropertyPath(n.playback,"options.html5.native")&&N.mergeDeep(i,n.playback.options.html5.native),N.hasPropertyPath(n,"abr")){var o=n.abr;o.restrictions&&N.createPropertyPath(i,"abr.restrictions",o.restrictions)}return i.network=n.network,new this(e,t,i)};var i,o,a=r.prototype;return a._dispatchErrorCallback=function(e){this._trigger($.ERROR,e)},a._dispatchDRMLicenseLoaded=function(e){this._trigger(V.DRM_LICENSE_LOADED,e)},a._maybeSetDrmPlayback=function(){var e=this;if(r._drmProtocol&&this._sourceObj&&this._sourceObj.drmData){var t={licenseUrl:"",certificate:"",network:this._config.network};r._drmProtocol.setDrmPlayback(t,this._sourceObj.drmData),this._drmHandler=new Et(this._videoElement,t,(function(t){return e._dispatchErrorCallback(t)}),(function(t){return e._dispatchDRMLicenseLoaded(t)}))}},a._setProgressiveSource=function(){var e=function(e,t,n){var r=null;if(n&&e){for(var i,o=[],a=1/0,s=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(e);!(i=s()).done;){var l=i.value,u=Math.abs(l.width-t);u<a?(a=u,o=[l]):u===a&&o.push(l)}for(var c=t/n,d=o,_=1/0,p=0,A=o;p<A.length;p++){var h=A[p];if(h.height){var f=Math.abs(h.width/h.height-c);f<_?(_=f,d=[h]):f===_&&d.push(h)}}for(var v=0,g=0,b=d;g<b.length;g++){var m=b[g];(m.bandwidth>v||!m.bandwidth)&&(v=m.bandwidth||v,r=m)}}return r}(this._progressiveSources,this._videoElement.offsetWidth,this._videoElement.offsetHeight);e&&(this._sourceObj=e)},a._isProgressivePlayback=function(){return!!this._sourceObj&&r._progressiveMimeTypes.includes(this._sourceObj.mimetype.toLowerCase())},a.load=function(e){var t=this;return this._wasCurrentTimeSetSuccessfully=!1,this._maybeSetDrmPlayback(),this._loadPromise||(this._loadPromise=new Promise((function(n,r){t._lastTimeUpdate=e||0;var i=t._startTimeAttach||e||0;t._loadPromiseReject=r,t._eventManager.listenOnce(t._videoElement,$.LOADED_DATA,(function(){return t._onLoadedData(n,i)})),t._eventManager.listenOnce(t._videoElement,$.PLAYING,(function(){return t._onPlaying(i)})),t._eventManager.listen(t._videoElement,$.TIME_UPDATE,(function(){return t._onTimeUpdate()})),t._eventManager.listen(t._videoElement,$.PLAY,(function(){return t._resetHeartbeatTimeout()})),t._eventManager.listen(t._videoElement,$.PAUSE,(function(){return t._clearHeartbeatTimeout()})),t._eventManager.listen(t._videoElement,$.ENDED,(function(){return t._clearHeartbeatTimeout()})),t._eventManager.listen(t._videoElement,$.ABORT,(function(){return t._clearHeartbeatTimeout()})),t._eventManager.listen(t._videoElement,$.SEEKED,(function(){return t._syncCurrentTime()})),t._eventManager.listen(t._videoElement,$.WAITING,(function(){return t._waitingEventTriggered=!0})),t._eventManager.listen(t._videoElement,$.PLAYING,(function(){return t._waitingEventTriggered=!1})),t._eventManager.listen(window,"focus",(function(){setTimeout((function(){h.isIOS&&(t._videoElement.currentTime=t._videoElement.currentTime>.1?t._videoElement.currentTime-.1:0),t._syncCurrentTime()}),1e3)})),t._isProgressivePlayback()&&t._setProgressiveSource(),t._sourceObj&&t._sourceObj.url?t._setSrc().then((function(){t._trigger(V.ABR_MODE_CHANGED,{mode:t._isProgressivePlayback()?"manual":"auto"}),t._videoElement.load()})):t._videoElement.load()}))),this._loadPromise},a._handleDecodeError=function(e){var t=this;r._logger.debug("handleDecodeError",e);var n=this._videoElement.currentTime,i=this._getActivePKAudioTrack(),o=this._getActivePKTextTrack();this._videoElement.load(),this._eventManager.listenOnce(this._videoElement,$.PLAYING,(function(){t._mediaErrorRecoveryAttempts=0})),this._eventManager.listenOnce(this._videoElement,$.CAN_PLAY,(function(){r._logger.debug("CAN_PLAY"),t._videoElement.currentTime=n,t._videoElement.play(),t._videoElement.pause(),i&&t.selectAudioTrack(i),o?t.selectTextTrack(o):t.disableNativeTextTracks()}))},a.handleMediaError=function(e){return this._loadPromiseReject?(this._loadPromiseReject(new B(B.Severity.CRITICAL,B.Category.MEDIA,B.Code.NATIVE_ADAPTER_LOAD_FAILED,e)),!0):!!(e&&e.code===window.MediaError.MEDIA_ERR_DECODE&&(this._mediaErrorRecoveryAttempts++,this._mediaErrorRecoveryAttempts<=3))&&(this._handleDecodeError(e),!0)},a.attachMediaSource=function(){this._startTimeAttach=this._lastTimeDetach,this._lastTimeDetach=NaN},a.detachMediaSource=function(){this._lastTimeDetach=this._videoElement.currentTime,this._videoElement&&this._videoElement.src&&(W.setAttribute(this._videoElement,"src",""),W.removeAttribute(this._videoElement,"src")),this._loadPromise=null},a._setSrc=function(){var e,t=this,n={url:this._sourceObj?this._sourceObj.url:"",body:null,headers:{}};if("function"==typeof N.getPropertyPath(this._config,"network.requestFilter"))try{r._logger.debug("Apply request filter"),e=this._config.network.requestFilter(ut.MANIFEST,n)}catch(t){e=Promise.reject(t)}return(e=e||Promise.resolve(n)).then((function(e){t._videoElement.src=e.url})).catch((function(e){t._trigger($.ERROR,new B(B.Severity.CRITICAL,B.Category.NETWORK,B.Code.REQUEST_FILTER_ERROR,e))})),e},a._onPlaying=function(e){this.isLive()&&this._setStartTime(e)},a._onLoadedData=function(e,t){var n=this,i=function(){n._playerTracks=n._getParsedTracks(),n._addNativeAudioTrackChangeListener(),n._addNativeTextTrackChangeListener(),n._addNativeTextTrackAddedListener(),r._logger.debug("The source has been loaded successfully"),n._loadPromiseReject=null,e({tracks:n._playerTracks}),n.isLive()&&n._handleLiveDurationChange()};this.isLive()||this._setStartTime(t),this._videoElement.textTracks.length>0?i():this._eventManager.listenOnce(this._videoElement,$.CAN_PLAY,i.bind(this)),this._startTimeAttach=NaN},a._setStartTime=function(e){e&&e>-1&&(this._videoElement.currentTime=e),this._wasCurrentTimeSetSuccessfully=!0},a._onTimeUpdate=function(){this._videoElement.paused||(this._videoElement.currentTime>this._lastTimeUpdate?(this._waitingEventTriggered&&(this._waitingEventTriggered=!1,this._trigger($.PLAYING)),this._resetHeartbeatTimeout()):this._videoElement.currentTime<this._lastTimeUpdate?this._syncCurrentTime():(this._waitingEventTriggered=!0,this._trigger($.WAITING))),this._handleVideoTracksChange()},a._syncCurrentTime=function(){this._lastTimeUpdate=this._videoElement.currentTime},a._resetHeartbeatTimeout=function(){var e=this;this._lastTimeUpdate=this._videoElement.currentTime,this._clearHeartbeatTimeout(),this._heartbeatTimeoutId=setTimeout((function(){e._clearHeartbeatTimeout(),e._trigger($.ERROR,new B(B.Severity.CRITICAL,B.Category.NETWORK,B.Code.TIMEOUT,"The player exceeded max buffer time of "+e._config.heartbeatTimeout+" ms. No progress has been done during this time."))}),this._config.heartbeatTimeout)},a._clearHeartbeatTimeout=function(){this._heartbeatTimeoutId&&(clearTimeout(this._heartbeatTimeoutId),this._heartbeatTimeoutId=null)},a._handleVideoTracksChange=function(){if(!this._isProgressivePlayback()){var e=this._videoElement,t=e.videoHeight,n=e.videoWidth,r=e.videoTracks;if(!this._videoDimensions||t!==this._videoDimensions.videoHeight||n!==this._videoDimensions.videoWidth){this._videoDimensions={videoHeight:t,videoWidth:n};var i={language:"",height:t,width:n,active:!0,index:Array.from(r).findIndex((function(e){return e.selected}))};this._onTrackChanged(new oe(i))}}},a.destroy=function(){var t=this;return r._logger.debug("destroy"),new Promise((function(n,r){e.prototype.destroy.call(t).then((function(){t._drmHandler&&t._drmHandler.destroy(),t._waitingEventTriggered=!1,t._progressiveSources=[],t._loadPromise=null,t._nativeTextTracksMap={},t._loadPromiseReject=null,t._liveEdge=0,t._lastTimeUpdate=0,t._lastTimeDetach=NaN,t._startTimeAttach=NaN,t._videoDimensions=null,t._clearHeartbeatTimeout(),t._liveDurationChangeInterval&&(clearInterval(t._liveDurationChangeInterval),t._liveDurationChangeInterval=null),n()}),(function(){return r}))}))},a._getParsedTracks=function(){var e=this._getParsedVideoTracks(),t=this._getParsedAudioTracks(),n=this._getParsedTextTracks();return e.concat(t).concat(n)},a._getParsedVideoTracks=function(){return this._isProgressivePlayback()?this._getParsedProgressiveVideoTracks():this._getParsedAdaptiveVideoTracks()},a._getParsedProgressiveVideoTracks=function(){var e=this._progressiveSources,t=[];if(e)for(var n=0;n<e.length;n++){var r={id:e[n].id,bandwidth:e[n].bandwidth,width:e[n].width,height:e[n].height,active:!!this._sourceObj&&e[n].id===this._sourceObj.id,index:n};t.push(new oe(r))}return t},a._getParsedAdaptiveVideoTracks=function(){var e=this._videoElement.videoTracks,t=[];if(e)for(var n=0;n<e.length;n++){var r={id:e[n].id,active:e[n].selected,label:e[n].label,language:e[n].language,index:n};t.push(new oe(r))}return t},a._getParsedAudioTracks=function(){var e=this._videoElement.audioTracks,t=[];if(e)for(var n=0;n<e.length;n++){var r={id:e[n].id,active:e[n].enabled,label:e[n].label,language:e[n].language,index:n};t.push(new ae(r))}return t},a._getParsedTextTracks=function(){var e=[this._config.captionsTextTrack1Label,this._config.captionsTextTrack2Label],t=[this._config.captionsTextTrack1LanguageCode,this._config.captionsTextTrack2LanguageCode],n=this._videoElement.textTracks,r=[];if(n){for(var i=0;i<n.length;i++)if(!Ye.isExternalTrack(n[i])){var o={kind:n[i].kind,active:n[i].mode===Ye.MODE.SHOWING,label:n[i].label,language:n[i].language,available:!0};if(o.kind===Ye.KIND.SUBTITLES){var a=new Ye(o);r.push(a),this._nativeTextTracksMap[a.index]=n[i]}else if(o.kind===Ye.KIND.CAPTIONS&&this._config.enableCEA708Captions){o.label=o.label||e.shift(),o.language=o.language||t.shift(),o.available=this._captionsHidden;var s=new Ye(o);r.push(s),this._nativeTextTracksMap[s.index]=n[i]}}this._captionsHidden||this._maybeShow708Captions()}return r},a._maybeShow708Captions=function(){var e=this,t=Array.from(this._videoElement.textTracks).filter((function(e){return e.kind===Ye.KIND.CAPTIONS})),n=t.find((function(e){return e.mode===Ye.MODE.SHOWING||e.mode===Ye.MODE.HIDDEN}))||t[0];n&&(n.mode=Ye.MODE.HIDDEN,this._captionsHidden=!0,this._eventManager.listenOnce(n,"cuechange",(function(){e._getPKTextTracks().forEach((function(e){return(e.available=!0)&&(e.mode=Ye.MODE.DISABLED)})),e._trigger(V.TRACKS_CHANGED,{tracks:e._playerTracks})})))},a.selectVideoTrack=function(e){this._isProgressivePlayback()?this._selectProgressiveVideoTrack(e):this.selectAdaptiveVideoTrack(e)},a._selectProgressiveVideoTrack=function(e){var t=this,n=this._progressiveSources;if(e instanceof oe&&n&&n[e.index]){var r=this._videoElement.currentTime,i=this._videoElement.paused;e.active=!0,this._sourceObj=n[e.index],this._eventManager.listenOnce(this._videoElement,$.LOADED_DATA,(function(){"Android Browser"===h.browser.name?(t._eventManager.listenOnce(t._videoElement,$.DURATION_CHANGE,(function(){t._videoElement.currentTime=r})),t._eventManager.listenOnce(t._videoElement,$.SEEKED,(function(){t._onTrackChanged(e),i&&t._videoElement.pause()})),t._videoElement.play()):(t._eventManager.listenOnce(t._videoElement,$.SEEKED,(function(){t._onTrackChanged(e)})),t._videoElement.currentTime=r,i||t._videoElement.play())})),this._setSrc()}},a.selectAdaptiveVideoTrack=function(e){var t=this._videoElement.videoTracks;e instanceof oe&&t&&t[e.index]&&(this._disableVideoTracks(),t[e.index].selected=!0,this._onTrackChanged(e))},a.selectAudioTrack=function(e){r._logger.debug("selectAudioTrack");var t=this._videoElement.audioTracks;e instanceof ae&&t&&t[e.index]&&(this._removeNativeAudioTrackChangeListener(),this._switchAudioTrack(e.index),this._onTrackChanged(e),this._addNativeAudioTrackChangeListener())},a._removeNativeAudioTrackChangeListener=function(){this._videoElement.audioTracks&&this._eventManager.unlisten(this._videoElement.audioTracks,"change")},a._addNativeAudioTrackChangeListener=function(){var e=this;this._videoElement.audioTracks&&this._eventManager.listen(this._videoElement.audioTracks,"change",(function(){return e._onNativeAudioTrackChange()}))},a._getPKAudioTracks=function(){return this._playerTracks.filter((function(e){return e instanceof ae}))},a._getActivePKAudioTrack=function(){return this._getPKAudioTracks().find((function(e){return!0===e.active}))},a._onNativeAudioTrackChange=function(){var e=this,t=function(){for(var t=0;t<e._videoElement.audioTracks.length;t++)if(e._videoElement.audioTracks[t].enabled)return t;return-1}(),n=this._getActivePKAudioTrack(),i=n?n.index:-1;if(t!==i){var o=this._getPKAudioTracks().find((function(e){return e.index===t}));o&&(r._logger.debug("Native selection of track, update the player audio track ("+i+" -> "+t+")"),this._onTrackChanged(o))}},a.selectTextTrack=function(e){if(e instanceof Ye&&Ye.isNativeTextTrack(e)){this._removeNativeTextTrackChangeListener();var t=this._nativeTextTracksMap[e.index];t&&(this.disableNativeTextTracks(),t.mode=this._getDisplayTextTrackModeString(),this._onTrackChanged(e),this._addNativeTextTrackChangeListener())}},a._removeNativeTextTrackChangeListener=function(){this._videoElement.textTracks&&this._eventManager.unlisten(this._videoElement.textTracks,"change")},a._addNativeTextTrackChangeListener=function(){var e=this;this._videoElement.textTracks&&this._eventManager.listen(this._videoElement.textTracks,"change",(function(){return e._onNativeTextTrackChange()}))},a._getPKTextTracks=function(){return this._playerTracks.filter((function(e){return e instanceof Ye}))},a._getActivePKTextTrack=function(){return this._getPKTextTracks().find((function(e){return!0===e.active}))},a._onNativeTextTrackChange=function(){var e=this,t=this._getPKTextTracks(),n=t.find((function(e){return"off"===e.language})),i=function(){for(var t in e._nativeTextTracksMap)if(e._getDisplayTextTrackModeString()===e._nativeTextTracksMap[t].mode)return Number(t);return-1}(),o=this._getActivePKTextTrack(),a=o?o.index:-1;if(i!==a)if(-1==i)n&&(r._logger.debug("Native selection of track, update the player text track ("+a+" -> off)"),this._onTrackChanged(n));else{var s=t.find((function(e){return e.index===i}));s&&(r._logger.debug("Native selection of track, update the player text track ("+a+" -> "+i+")"),this._onTrackChanged(s))}},a._getDisplayTextTrackModeString=function(){return this._config.displayTextTrack?Ye.MODE.SHOWING:Ye.MODE.HIDDEN},a._addNativeTextTrackAddedListener=function(){var e=this;!this._config.displayTextTrack&&this._videoElement.textTracks&&this._eventManager.listen(this._videoElement.textTracks,"addtrack",(function(){return e._onNativeTextTrackAdded()}))},a._onNativeTextTrackAdded=function(){this._playerTracks=this._getParsedTracks(),this._trigger(V.TRACKS_CHANGED,{tracks:this._playerTracks})},a.hideTextTrack=function(){this.disableNativeTextTracks()},a.enableAdaptiveBitrate=function(){r._logger.warn("Enabling adaptive bitrate is not supported for native playback")},a.isAdaptiveBitrateEnabled=function(){return!this._isProgressivePlayback()},a.applyABRRestriction=function(e){N.createPropertyPath(this._config,"abr.restrictions",e),this._maybeApplyAbrRestrictions(e)},a._maybeApplyAbrRestrictions=function(e){if(this._isProgressivePlayback()){var t=gt(this._playerTracks.filter((function(e){return e instanceof oe})),e);!t.find((function(e){return e.active}))&&t.length?this.selectVideoTrack(t[0]):r._logger.warn("Invalid restrictions, there are not tracks within the restriction range")}},a._disableVideoTracks=function(){var e=this._videoElement.videoTracks;if(e)for(var t=0;t<e.length;t++)e[t].selected=!1},a._switchAudioTrack=function(e){r._logger.debug("_switchAudioTracks");var t=this._videoElement.audioTracks;if(t)for(var n=0;n<t.length;n++)t[n].enabled=n==e},a._getLiveEdge=function(){return this._videoElement.seekable.length?this._videoElement.seekable.end(this._videoElement.seekable.length-1):this._videoElement.buffered.length?this._videoElement.buffered.end(this._videoElement.buffered.length-1):this._videoElement.duration},a.seekToLiveEdge=function(){try{this._videoElement.currentTime=this._getLiveEdge()}catch(e){return}},a.getSegmentDuration=function(){return this._segmentDuration},a.isLive=function(){return this._videoElement.duration===1/0},a.isOnLiveEdge=function(){return!!this._wasCurrentTimeSetSuccessfully&&e.prototype.isOnLiveEdge.call(this)},a._handleLiveDurationChange=function(){var e=this;this._liveDurationChangeInterval=setInterval((function(){e._calculateSegmentDuration();var t=e._getLiveEdge();e._liveEdge!==t&&(e._liveEdge=t,e._videoElement.dispatchEvent(new window.Event($.DURATION_CHANGE)))}),1e3)},a._calculateSegmentDuration=function(){if(0===this._videoElement.seekable.start(0)){var e=this._videoElement,t=e.buffered,n=e.seekable;t.length&&n.length&&(this._segmentDuration=(t.end(t.length-1)-n.end(n.length-1))/3)}else{var r=this._getLiveEdge();this._liveEdge&&this._liveEdge!==r&&(this._segmentDuration=r-this._liveEdge)}},a.getStartTimeOfDvrWindow=function(){return this.isLive()&&this._videoElement.seekable.length?this._videoElement.seekable.start(0):0},a.getDrmInfo=function(){return this._drmHandler?this._drmHandler.getDrmInfo():null},i=r,(o=[{key:"liveDuration",get:function(){return this._getLiveEdge()}}])&&qt(i.prototype,o),r}(ft);function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ot(It,"id","NativeAdapter"),Ot(It,"_logger",ft.getLogger(It.id)),Ot(It,"TEST_VIDEO",W.createElement("video")),Ot(It,"_drmProtocols",[yt]),Ot(It,"_drmProtocol",null),Ot(It,"_progressiveMimeTypes",["video/mp4","audio/mp3"]);var Pt=function(){function e(){}return e.register=function(t){t&&(e._mediaSourceAdapters.includes(t)?e._logger.debug("Adapter <"+t.id+"> is already registered, do not register again"):(e._logger.debug("Adapter <"+t.id+"> has been registered successfully"),e._mediaSourceAdapters.push(t)))},e.unRegister=function(t){var n=e._mediaSourceAdapters.indexOf(t);n>-1&&(e._logger.debug("Unregistered <"+t.id+"> adapter"),e._mediaSourceAdapters.splice(n,1))},e.canPlaySource=function(t,n,r){void 0===n&&(n=!0),e._orderMediaSourceAdapters(n);var i=e._mediaSourceAdapters;if(t&&t.mimetype)for(var o=0;o<i.length;o++)if(i[o].canPlayType(t.mimetype)&&(!t.drmData||i[o].canPlayDrm(t.drmData,r)))return e._selectedAdapter=i[o],e._logger.debug("Selected adapter is <"+e._selectedAdapter.id+">"),!0;return!1},e._orderMediaSourceAdapters=function(t){e._mediaSourceAdapters=e._mediaSourceAdapters.filter((function(e){return"NativeAdapter"!==e.id})),t?e._mediaSourceAdapters.unshift(It):e._mediaSourceAdapters.push(It)},e.getMediaSourceAdapter=function(t,n,r){return t&&n&&r?(e._selectedAdapter||e.canPlaySource(n,!0,r.drm),e._selectedAdapter?e._selectedAdapter.createAdapter(t,n,r):null):null},e.destroy=function(){e._selectedAdapter=null},e}();Dt(Pt,"_logger",x("MediaSourceProvider")),Dt(Pt,"_mediaSourceAdapters",[It]),Dt(Pt,"_selectedAdapter",null);var Bt=Pt.register,Mt=function(e,t,n,r,i){this.startTime=e,this.endTime=t,this.id=n,this.type=r,this.metadata=i};function Rt(e){try{var t=e.startTime,n=e.endTime,r=e.id,i=e.type,o=e.metadata,a={};window.VTTCue?a=new window.VTTCue(t,n,""):window.TextTrackCue&&(a=new window.TextTrackCue(t,n,""));var s={key:i,data:o};return a.id=r,a.value=s,a}catch(e){return null}}function Lt(e){if(e){var t=e.startTime,n=e.endTime,r=e.id;if(Nt(e)){var i=Nt(e),o=i.type,a=i.metadata;return new Mt(t,n,r,o,a)}}return null}function Nt(e){if(e){var t=e.type,n=e.value,r=e.track;if(n){var i=n.key,o=n.data,a="org.id3"===t||"id3"===(r&&r.label),s=Object.values(Mt.TYPE).find((function(e){return e===i}));return s||(s=a?Mt.TYPE.ID3:Mt.TYPE.CUSTOM),{type:s,metadata:a||!o?n:o}}}return null}Mt.TYPE={ID3:"id3",EMSG:"emsg",CUE_POINT:"cuepoint",CUSTOM:"custom"};var zt,Wt,jt=n(3);function Ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ut=(Wt=zt=function(){function e(){}return e.runCapability=function(){e._capabilities.autoplay||"boolean"==typeof e._capabilities.autoplay&&"boolean"==typeof e._capabilities.mutedAutoPlay?e._playPromiseResult=Promise.resolve(e._capabilities):(e._vid||(e._vid=W.createElement("video"),e._vid.src=jt.a,e._vid.setAttribute("playsinline","")),e._playPromiseResult=new Promise((function(t){e._setMuted(!1),e._getPlayPromise().then((function(){return t({autoplay:!0,mutedAutoPlay:!0})})).catch((function(){e._setMuted(!0),e._getPlayPromise().then((function(){return t({autoplay:!1,mutedAutoPlay:!0})})).catch((function(){return t({autoplay:!1,mutedAutoPlay:!1})}))}))})))},e.getCapability=function(){return e._playPromiseResult.then((function(t){var n;return t.autoplay?n=Promise.resolve(t):(e.runCapability(),n=e._playPromiseResult),n.then((function(t){return N.mergeDeep(t,e._capabilities)}))}))},e.setCapabilities=function(t){e._logger.debug("Set player capabilities",t);var n=t.autoplay,r=t.mutedAutoPlay;"boolean"==typeof n&&(e._capabilities.autoplay=n),"boolean"==typeof r&&(e._capabilities.mutedAutoPlay=r)},e._getPlayPromise=function(){return e._vid.play()||e._forcePromiseReturnValue()},e._setMuted=function(t){t?(e._vid.muted=!0,e._vid.setAttribute("muted","")):(e._vid.muted=!1,e._vid.removeAttribute("muted"))},e._forcePromiseReturnValue=function(){return new Promise((function(t,n){e._vid.addEventListener($.ERROR,(function(){n()}));var r=setTimeout((function(){e._logger.debug("Timeout 500 ms has been reached"),n()}),500);!0===e._vid.paused?(clearTimeout(r),n()):(clearTimeout(r),t())}))},e}(),Ft(zt,"_logger",x("Html5AutoPlayCapability")),Ft(zt,"_capabilities",{}),Wt);function Ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $t=function(e){var t,n;function r(t,n,i){var o;return Qt(Ht(o=e.call(this)||this),"_droppedFramesInterval",null),Qt(Ht(o),"_lastDroppedFrames",0),Qt(Ht(o),"_lastDecodedFrames",0),Qt(Ht(o),"_lastTime",0),Qt(Ht(o),"_currentBitrate",0),o._eventManager=new I,o._mediaSourceAdapter=t,o._config=n,o._videoElement=i,o._mediaSourceAdapter.capabilities.fpsControl?(o._eventManager.listen(o._mediaSourceAdapter,V.FPS_DROP,(function(e){return o._triggerFPSDrop(e.payload.data)})),Ht(o)):(-1===o._getDroppedAndDecodedFrames()[0]?r._logger.debug("Dropped frame watcher is not supported"):o._config.capLevelOnFPSDrop?(r._logger.debug("Initialized capLevelOnFPSDrop = true"),o._init()):r._logger.debug("Not Initialized"),o)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i._init=function(){var e=this;this._eventManager.listen(this._mediaSourceAdapter,V.VIDEO_TRACK_CHANGED,(function(t){return e._currentBitrate=t.payload.selectedVideoTrack.bandwidth})),this._droppedFramesInterval=setInterval((function(){return e._checkFPS()}),this._config.fpsDroppedFramesInterval)},i._triggerFPSDrop=function(e){this.dispatchEvent(new g(V.FPS_DROP,e))},i._getDroppedAndDecodedFrames=function(){if("function"==typeof this._videoElement.getVideoPlaybackQuality){var e=this._videoElement.getVideoPlaybackQuality();return[e.droppedVideoFrames,e.totalVideoFrames]}return"number"==typeof this._videoElement.webkitDroppedFrameCount&&"number"==typeof this._videoElement.webkitDecodedFrameCount?[this._videoElement.webkitDroppedFrameCount,this._videoElement.webkitDecodedFrameCount]:[-1,-1]},i._checkFPS=function(){var e=this._getDroppedAndDecodedFrames(),t=e[0],n=e[1];try{var i=performance.now();if(n){if(this._lastTime){var o=i-this._lastTime,a=t-this._lastDroppedFrames,s=n-this._lastDecodedFrames,l=1e3*a/o;l>0&&(r._logger.debug("checkFPS : droppedFPS/decodedFPS:"+l/(1e3*s/o)),a>this._config.fpsDroppedMonitoringThreshold*s&&(this._mediaSourceAdapter.setMaxBitrate(this._currentBitrate-1),this._triggerFPSDrop({currentDropped:a,currentDecoded:s,totalDroppedFrames:l})))}this._lastTime=i,this._lastDroppedFrames=t,this._lastDecodedFrames=n}}catch(e){r._logger.error("Error occur while trying to check dropFrames: ",e)}},i.destroy=function(){this._droppedFramesInterval&&clearInterval(this._droppedFramesInterval),this._droppedFramesInterval=null,this._eventManager.destroy()},r}(T);function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Qt($t,"_logger",x("droppedFramesWatcher"));var Kt=function(e){var t,n;function r(t,n,r){var i;return Gt(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i=e.call(this)||this),"_reset",!1),i._eventManager=new I,i._canLoadMediaSourceAdapterPromise=Promise.resolve(),i._createVideoElement(r),i._init(t,n),i}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.isSupported=function(){try{var e=W.createElement("video");return e.volume=.5,!!e.canPlayType}catch(e){return!1}},r.createEngine=function(e,t,n){return new this(e,t,n)},r.canPlaySource=function(e,t,n){return Pt.canPlaySource(e,t,n)},r.runCapabilities=function(){r._capabilities.forEach((function(e){return e.runCapability()}))},r.getCapabilities=function(){var e=[];return r._capabilities.forEach((function(t){return e.push(t.getCapability())})),Promise.all(e).then((function(e){var t,n={};return e.forEach((function(e){return Object.assign(n,e)})),(t={})[r.id]=n,t}))},r.setCapabilities=function(e){r._capabilities.forEach((function(t){return t.setCapabilities(e)}))},r.prepareVideoElement=function(e){if(!r.videoElementStore[e]){r._logger.debug("Create the video element for playing "+e);var t=W.createElement("video");r.videoElementStore[e]=t}r._logger.debug("Prepare the video element for playing "+e),r.videoElementStore[e].load()};var i,o,a=r.prototype;return a.restore=function(e,t){this.reset(),this._init(e,t)},a.reset=function(){var e=this;this._reset||(this._reset=!0,this._eventManager.removeAll(),this._droppedFramesWatcher&&(this._droppedFramesWatcher.destroy(),this._droppedFramesWatcher=null),this._canLoadMediaSourceAdapterPromise=new Promise((function(t,n){var r=e._mediaSourceAdapter?e._mediaSourceAdapter.destroy():Promise.resolve();e._el&&e._el.src?r.then((function(){W.setAttribute(e._el,"src",""),W.removeAttribute(e._el,"src"),t()}),n):r.then(t,n)})),this._mediaSourceAdapter=null)},a.destroy=function(){this.detach(),this._el&&(this.pause(),W.removeAttribute(this._el,"src"),W.removeChild(this._el.parentNode,this._el)),this._eventManager.destroy(),Pt.destroy(),this._droppedFramesWatcher&&(this._droppedFramesWatcher.destroy(),this._droppedFramesWatcher=null),this._mediaSourceAdapter&&(this._mediaSourceAdapter.destroy(),this._mediaSourceAdapter=null)},a.attachMediaSource=function(){this._mediaSourceAdapter&&this._mediaSourceAdapter.attachMediaSource()},a.detachMediaSource=function(){this._mediaSourceAdapter&&this._mediaSourceAdapter.detachMediaSource()},a.attach=function(){var e=this;Object.keys($).forEach((function(t){[$.ERROR,$.WAITING].includes($[t])||e._eventManager.listen(e._el,$[t],(function(){return e.dispatchEvent(new g($[t]))}))})),this._eventManager.listen(this._el,$.ERROR,(function(){return e._handleVideoError()})),this._eventManager.listen(this._el,$.WAITING,(function(){return e._handleWaiting()})),this._handleMetadataTrackEvents(),this._eventManager.listen(this._el.textTracks,"addtrack",(function(t){Ye.isNativeTextTrack(t.track)&&e.dispatchEvent(new g(V.TEXT_TRACK_ADDED,{track:t.track}))}));var t=this._mediaSourceAdapter;t&&(this._eventManager.listen(t,V.VIDEO_TRACK_CHANGED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,V.AUDIO_TRACK_CHANGED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,V.TEXT_TRACK_CHANGED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,V.IMAGE_TRACK_CHANGED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,V.ABR_MODE_CHANGED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,V.TEXT_CUE_CHANGED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,V.TRACKS_CHANGED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,V.FRAG_LOADED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,V.DRM_LICENSE_LOADED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,V.MANIFEST_LOADED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,$.ERROR,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,$.TIME_UPDATE,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,$.PLAYING,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,$.WAITING,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,V.MEDIA_RECOVERED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,V.TIMED_METADATA_ADDED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(t,"hlsFragParsingMetadata",(function(t){return e.dispatchEvent(t)})),this._droppedFramesWatcher&&this._eventManager.listen(this._droppedFramesWatcher,V.FPS_DROP,(function(t){return e.dispatchEvent(t)})))},a.detach=function(){var e=this;Object.keys($).forEach((function(t){e._eventManager.unlisten(e._el,$[t])})),this._mediaSourceAdapter&&(this._eventManager.unlisten(this._mediaSourceAdapter,V.VIDEO_TRACK_CHANGED),this._eventManager.unlisten(this._mediaSourceAdapter,V.AUDIO_TRACK_CHANGED),this._eventManager.unlisten(this._mediaSourceAdapter,V.TEXT_TRACK_CHANGED),this._eventManager.unlisten(this._mediaSourceAdapter,V.TEXT_CUE_CHANGED))},a.getVideoElement=function(){return this._el},a.selectVideoTrack=function(e){this._mediaSourceAdapter&&this._mediaSourceAdapter.selectVideoTrack(e)},a.selectAudioTrack=function(e){this._mediaSourceAdapter&&this._mediaSourceAdapter.selectAudioTrack(e)},a.selectTextTrack=function(e){this._removeCueChangeListeners(),this._mediaSourceAdapter&&this._mediaSourceAdapter.selectTextTrack(e),this.resetAllCues(),this._addCueChangeListener()},a.selectImageTrack=function(e){this._mediaSourceAdapter&&this._mediaSourceAdapter.selectImageTrack(e)},a.hideTextTrack=function(){this._mediaSourceAdapter&&this._mediaSourceAdapter.hideTextTrack(),this._removeCueChangeListeners()},a.enableAdaptiveBitrate=function(){this._mediaSourceAdapter&&this._mediaSourceAdapter.enableAdaptiveBitrate()},a.isAdaptiveBitrateEnabled=function(){return!!this._mediaSourceAdapter&&this._mediaSourceAdapter.isAdaptiveBitrateEnabled()},a.applyABRRestriction=function(e){if(this._mediaSourceAdapter)return this._mediaSourceAdapter.applyABRRestriction(e)},a.seekToLiveEdge=function(){this._mediaSourceAdapter&&this._mediaSourceAdapter.seekToLiveEdge()},a.isOnLiveEdge=function(){return!!this._mediaSourceAdapter&&this._mediaSourceAdapter.isOnLiveEdge()},a.getStartTimeOfDvrWindow=function(){return this._mediaSourceAdapter?this._mediaSourceAdapter.getStartTimeOfDvrWindow():0},a.isLive=function(){return!!this._mediaSourceAdapter&&this._mediaSourceAdapter.isLive()},a.play=function(){var e=this,t=this._el.play();return t&&t.catch((function(t){return e.dispatchEvent(new g(V.PLAY_FAILED,{error:t}))})),t},a.pause=function(){return this._el.pause()},a.load=function(e){var t=this;return this._el.load(),this._canLoadMediaSourceAdapterPromise.then((function(){return t._mediaSourceAdapter?t._mediaSourceAdapter.load(e):Promise.resolve({})})).catch((function(e){return t.dispatchEvent(new g($.ERROR,e)),Promise.reject(e)}))},a.enterPictureInPicture=function(){var e=this;try{document.pictureInPictureEnabled&&"function"==typeof this._el.requestPictureInPicture?this._el.requestPictureInPicture().catch((function(t){e.dispatchEvent(new g($.ERROR,new B(B.Severity.RECOVERABLE,B.Category.PLAYER,B.Code.ENTER_PICTURE_IN_PICTURE_FAILED,t)))})):"function"==typeof this._el.webkitSetPresentationMode&&(this._el.webkitSetPresentationMode("picture-in-picture"),setTimeout((function(){return e.dispatchEvent(new g($.ENTER_PICTURE_IN_PICTURE))}),0))}catch(e){this.dispatchEvent(new g($.ERROR,new B(B.Severity.RECOVERABLE,B.Category.PLAYER,B.Code.ENTER_PICTURE_IN_PICTURE_FAILED,e)))}},a.exitPictureInPicture=function(){var e=this;try{document.pictureInPictureEnabled&&"function"==typeof document.exitPictureInPicture&&this._el===document.pictureInPictureElement?document.exitPictureInPicture().catch((function(t){e.dispatchEvent(new g($.ERROR,new B(B.Severity.RECOVERABLE,B.Category.PLAYER,B.Code.EXIT_PICTURE_IN_PICTURE_FAILED,t)))})):"function"==typeof this._el.webkitSetPresentationMode&&this._el.webkitSetPresentationMode("inline")}catch(e){this.dispatchEvent(new g($.ERROR,new B(B.Severity.RECOVERABLE,B.Category.PLAYER,B.Code.EXIT_PICTURE_IN_PICTURE_FAILED,e)))}},a.isPictureInPictureSupported=function(){return"function"==typeof this._el.webkitSupportsPresentationMode?this._el.webkitSupportsPresentationMode("picture-in-picture"):!!document.pictureInPictureEnabled},a.getThumbnail=function(e){if(this._mediaSourceAdapter)return this._mediaSourceAdapter.getThumbnail(e)},a._init=function(e,t){this._config=t,this._reset=!1,this._loadMediaSourceAdapter(e),this.attach()},a._createVideoElement=function(e){this._el=r.videoElementStore[e]||W.createElement("video"),this._el.id=z.uniqueId(5),this._el.controls=!1},a._loadMediaSourceAdapter=function(e){this._mediaSourceAdapter=Pt.getMediaSourceAdapter(this.getVideoElement(),e,this._config),this._mediaSourceAdapter&&(this._droppedFramesWatcher=new $t(this._mediaSourceAdapter,this._config.abr,this._el))},a._addCueChangeListener=function(){var e=this,t=Array.from(this._el.textTracks).find((function(e){return Ye.isNativeTextTrack(e)&&e.mode!==Ye.MODE.DISABLED}));t&&this._eventManager.listen(t,"cuechange",(function(t){return e._onCueChange(t)}))},a._removeCueChangeListeners=function(){var e=this;Array.from(this._el.textTracks).filter((function(e){return!Ye.isMetaDataTrack(e)})).forEach((function(t){e._eventManager.unlisten(t,"cuechange")}))},a._onCueChange=function(e){var t=Ke(e.currentTarget.activeCues);this.dispatchEvent(new g(V.TEXT_CUE_CHANGED,{cues:t}))},a.resetAllCues=function(){var e=Array.from(this._el.textTracks).find((function(e){return Ye.isNativeTextTrack(e)&&e.mode!==Ye.MODE.DISABLED}));if(e)for(var t=0;t<e.cues.length;t++)e.cues[t].hasBeenReset=!0},a._handleVideoError=function(){if(this._el.error){var e=this._el.error.code;if(e!==window.MediaError.MEDIA_ERR_ABORTED){var t=this._getMsExtendedError(),n=this._el.error.message;if(this._mediaSourceAdapter&&!this._mediaSourceAdapter.handleMediaError(this._el.error)){var r=new B(B.Severity.CRITICAL,B.Category.MEDIA,B.Code.VIDEO_ERROR,{code:e,extended:t,message:n});this.dispatchEvent(new g($.ERROR,r))}}}},a._handleWaiting=function(){var e=this,t=!1;this._eventManager.listenOnce(this._el,$.PLAYING,(function(){return t=!0})),setTimeout((function(){t||e.dispatchEvent(new g($.WAITING))}),200)},a._getMsExtendedError=function(){var e=this._el.error.msExtendedCode;return e&&(e<0&&(e+=Math.pow(2,32)),e=e.toString(16)),e},a._handleMetadataTrackEvents=function(){var e=this,t=function(t){t.mode=Ye.MODE.HIDDEN,e._eventManager.listen(t,"cuechange",(function(){var t=[];Array.from(e._el.textTracks).forEach((function(e){Ye.isMetaDataTrack(e)&&(t=t.concat(Ke(e.activeCues)))})),t=t.sort((function(e,t){return e.startTime-t.startTime})),e.dispatchEvent(new g(V.TIMED_METADATA,{cues:t})),e.dispatchEvent(new g(V.TIMED_METADATA_CHANGE,{cues:t.map((function(e){return Lt(e)}))}))}))};Array.from(this._el.textTracks).forEach((function(e){Ye.isMetaDataTrack(e)&&t(e)})),this._eventManager.listen(this._el.textTracks,"addtrack",(function(e){Ye.isMetaDataTrack(e.track)&&t(e.track)})),this._eventManager.listen(this._el.textTracks,"change",(function(){Array.from(e._el.textTracks).forEach((function(e){Ye.isMetaDataTrack(e)&&e.mode!==Ye.MODE.HIDDEN&&(e.mode=Ye.MODE.HIDDEN)}))}))},a.addTextTrack=function(e,t,n){return this._el.addTextTrack(e,t,n)},a.getNativeTextTracks=function(){return Array.from(this._el.textTracks)},a.getDrmInfo=function(){var e;return null==(e=this._mediaSourceAdapter)?void 0:e.getDrmInfo()},i=r,(o=[{key:"id",get:function(){return r.id}},{key:"src",set:function(e){this._mediaSourceAdapter&&(this._mediaSourceAdapter.src=e)},get:function(){return this._mediaSourceAdapter?this._mediaSourceAdapter.src:""}},{key:"currentTime",get:function(){return this._el?this._el.currentTime:0},set:function(e){this._el&&(this._el.currentTime=e)}},{key:"duration",get:function(){return this._el.duration}},{key:"liveDuration",get:function(){return this._mediaSourceAdapter?this._mediaSourceAdapter.liveDuration:-1}},{key:"volume",set:function(e){this._el.volume=e},get:function(){return this._el.volume}},{key:"paused",get:function(){return this._el.paused}},{key:"seeking",get:function(){return this._el.seeking}},{key:"seekable",get:function(){return this._el.seekable}},{key:"played",get:function(){return this._el.played}},{key:"buffered",get:function(){return this._el.buffered}},{key:"muted",set:function(e){this._el.muted=e},get:function(){return this._el.muted}},{key:"defaultMuted",get:function(){return this._el.defaultMuted}},{key:"poster",set:function(e){this._el.poster=e},get:function(){return this._el.poster}},{key:"preload",set:function(e){this._el.preload=e},get:function(){return this._el.preload}},{key:"autoplay",set:function(e){this._el.autoplay=e},get:function(){return this._el.autoplay}},{key:"loop",set:function(e){this._el.loop=e},get:function(){return this._el.loop}},{key:"controls",set:function(e){this._el.controls=e},get:function(){return this._el.controls}},{key:"playbackRate",set:function(e){this._el.playbackRate=e},get:function(){return this._el.playbackRate}},{key:"defaultPlaybackRate",set:function(e){this._el.defaultPlaybackRate=e},get:function(){return this._el.defaultPlaybackRate}},{key:"ended",get:function(){return this._el.ended}},{key:"error",get:function(){return this._el.error}},{key:"networkState",get:function(){return this._el.networkState}},{key:"readyState",get:function(){return this._el.readyState}},{key:"videoHeight",get:function(){return this._el.videoHeight}},{key:"videoWidth",get:function(){return this._el.videoWidth}},{key:"playsinline",set:function(e){e?this._el.setAttribute("playsinline",""):this._el.removeAttribute("playsinline")},get:function(){return""===this._el.getAttribute("playsinline")}},{key:"crossOrigin",set:function(e){"string"==typeof e?this._el.setAttribute("crossorigin",e):this._el.removeAttribute("crossorigin")},get:function(){return this._el.getAttribute("crossorigin")}},{key:"playbackRates",get:function(){return r.PLAYBACK_RATES}},{key:"isInPictureInPicture",get:function(){return!!document.pictureInPictureElement&&null!=document.pictureInPictureElement&&this._el===document.pictureInPictureElement||!!this._el.webkitPresentationMode&&"picture-in-picture"===this._el.webkitPresentationMode}},{key:"targetBuffer",get:function(){return this._mediaSourceAdapter?this._mediaSourceAdapter.targetBuffer:NaN}},{key:"availableBuffer",get:function(){var e=0;if(this.buffered)for(var t=0;t<this.buffered.length;t++)this.buffered.start(t)<=this._el.currentTime&&this._el.currentTime<=this.buffered.end(t)&&(e=this.buffered.end(t)-this._el.currentTime);return e}}])&&Vt(i.prototype,o),r}(T);function Yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Gt(Kt,"_logger",x("Html5")),Gt(Kt,"_capabilities",[Ut]),Gt(Kt,"id","html5"),Gt(Kt,"videoElementStore",{}),Gt(Kt,"PLAYBACK_RATES",[.5,1,1.5,2]);var Zt=function(){function e(){}return e.register=function(t,n){t&&!e._engineProviders[t]?(e._logger.debug("Engine <"+t+"> has been registered successfully"),e._engineProviders[t]=n):e._logger.debug("Engine <"+t+"> is already registered, do not register again")},e.unRegister=function(t){e._engineProviders[t]&&(e._logger.debug("Unregistered <"+t+"> Engine"),delete e._engineProviders[t])},e.getEngines=function(){return Object.keys(e._engineProviders).map((function(t){return e._engineProviders[t]}))},e.destroy=function(){e._engineProviders={}},e}();Yt(Zt,"_logger",x("EngineProvider")),Yt(Zt,"_engineProviders",{}),Kt.isSupported()&&Zt.register(Kt.id,Kt);var Xt=Zt.register,Jt=Zt.unRegister;function en(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nn="srt",rn="vtt",on=function(e){var t,n;function r(t){var n;return tn(en(n=e.call(this)||this),"_externalCueIndex",0),tn(en(n),"_textTrackModel",{}),tn(en(n),"_activeTextCues",[]),tn(en(n),"_isTextTrackActive",!1),tn(en(n),"_lastTimeUpdate",0),n._player=t,n._eventManager=new I,n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.hideTextTrack=function(){this._player.config.text.useNativeTextTrack?(this._removeCueChangeListeners(),this._resetExternalNativeTextTrack()):this._isTextTrackActive&&(this._eventManager.unlisten(this._player,$.TIME_UPDATE),this.dispatchEvent(new g(V.TEXT_CUE_CHANGED,{cues:[]})),this._resetCurrentTrack())},i.getExternalTracks=function(e){var t=this,n=this._player.sources.captions;if(!n)return[];this._player.config.text.useNativeTextTrack&&this._addNativeTextTrack();var r=e.filter((function(e){return e instanceof Ye})),i=[];return n.forEach((function(e){if(e.language){var n=t._createTextTrack(e);t._maybeAddTrack(n,e,r,i)}else{var o=new B(B.Severity.RECOVERABLE,B.Category.TEXT,B.Code.UNKNOWN_LANGUAGE,{caption:e});t.dispatchEvent(new g($.ERROR,o))}})),i},i._maybeAddTrack=function(e,t,n,i){var o=n.find((function(e){return e.available&&re.langComparer(t.language,e.language)}));o?r._logger.warn("duplicated language, taking the inband option. Language: ",o.language):(i.push(e),this._updateTextTracksModel(t))},i._createTextTrack=function(e){return new Ye({active:!!e.default,kind:Ye.KIND.SUBTITLES,label:e.label,language:e.language,external:!0})},i._updateTextTracksModel=function(e){this._textTrackModel[e.language]={cuesStatus:1,cues:[],url:e.url,type:e.type}},i.selectTextTrack=function(e){var t=this;this._textTrackModel[e.language]&&(3===this._textTrackModel[e.language].cuesStatus?this._selectTextTrack(e):1===this._textTrackModel[e.language].cuesStatus&&this._downloadAndParseCues(e).then((function(){t._textTrackModel[e.language].cuesStatus=3,t._selectTextTrack(e)})).catch((function(e){return t.dispatchEvent(new g($.ERROR,e))})))},i._selectTextTrack=function(e){this.hideTextTrack(),this._player.config.text.useNativeTextTrack?(this._addCuesToNativeTextTrack(this._textTrackModel[e.language].cues),this._addCueChangeListener()):this._setTextTrack(e),e.active=!0,this.dispatchEvent(new g(V.TEXT_TRACK_CHANGED,{selectedTextTrack:e}))},i.resetAllCues=function(){for(var e in this._textTrackModel)this._textTrackModel[e].cues.forEach((function(e){e.hasBeenReset=!0}))},i._addCueChangeListener=function(){var e=this,t=this._player.getVideoElement();if(t&&t.textTracks){var n=Array.from(t.textTracks).find((function(e){return Ye.isNativeTextTrack(e)&&e.mode===Ye.MODE.SHOWING}));n&&this._eventManager.listen(n,"cuechange",(function(t){return e._onCueChange(t)}))}},i._removeCueChangeListeners=function(){var e=this._player.getVideoElement();if(e&&e.textTracks)for(var t=0;t<e.textTracks.length;t++)this._eventManager.unlisten(e.textTracks[t],"cuechange")},i._onCueChange=function(e){var t=Ke(e.currentTarget.activeCues);this.dispatchEvent(new g(V.TEXT_CUE_CHANGED,{cues:t}))},i.reset=function(){this._resetCurrentTrack(),this._textTrackModel={},this._resetExternalNativeTextTrack(),this._eventManager.removeAll()},i.destroy=function(){this._textTrackModel={},this._eventManager.destroy(),this._activeTextCues=[]},i._resetCurrentTrack=function(){this._activeTextCues=[],this._isTextTrackActive=!1,this._maybeSetExternalCueIndex()},i._getCuesString=function(e){var t=this;return new Promise((function(n,r){var i=t._textTrackModel[e.language],o=i.type||t._getFileType(i.url);[nn,rn].includes(o)||(t._textTrackModel[e.language].cuesStatus=1,r(new B(B.Severity.RECOVERABLE,B.Category.TEXT,B.Code.UNKNOWN_FILE_TYPE,{captionType:o}))),j.execute(i.url,{},"GET").then((function(e){n(o===nn?t._convertSrtToVtt(e):e)})).catch((function(){t._textTrackModel[e.language].cuesStatus=1,r(new B(B.Severity.RECOVERABLE,B.Category.TEXT,B.Code.HTTP_ERROR,{url:i.url}))}))}))},i._parseCues=function(e){return new Promise((function(t,n){var i=new Ie(window,De()),o=[];i.oncue=function(e){return o.push(e)},i.onflush=function(){r._logger.debug("finished parsing external cues"),t(o)},i.parse(e),i.flush(),i.onparsingerror((function(e){return n(e)}))}))},i._convertSrtToVtt=function(e){return"WEBVTT\n\n"+e.replace(/(\d\d:\d\d:\d\d),(\d\d\d) --> (\d\d:\d\d:\d\d),(\d\d\d)/g,(function(e,t,n,r,i){return t+"."+n+" --\x3e "+r+"."+i}))},i._downloadAndParseCues=function(e){var t=this;return this._textTrackModel[e.language].cuesStatus=2,new Promise((function(n,r){t._getCuesString(e).then((function(e){return t._parseCues(e)})).then((function(r){t._textTrackModel[e.language].cues=r,n()})).catch((function(e){return r(e)}))}))},i._getFileType=function(e){return e.split(/[#?]/)[0].split(".").pop().trim()},i._handleCaptionOnTimeUpdate=function(e){var t=this._player.currentTime;if(t){var n=!1;this._hadSeeked()&&(this._activeTextCues=[],n=this._maybeSetExternalCueIndex());var r=this._maybeRemoveActiveCues(),i=this._maybeAddToActiveCues(e);(n||i||r)&&this.dispatchEvent(new g(V.TEXT_CUE_CHANGED,{cues:this._activeTextCues})),this._lastTimeUpdate=t}},i._hadSeeked=function(){return!!this._player.currentTime&&Math.abs(this._player.currentTime-this._lastTimeUpdate)>1},i._maybeRemoveActiveCues=function(){var e=this._player.currentTime;if(!e)return!1;var t=this._activeTextCues.filter((function(t){return t.startTime<e&&e<t.endTime})),n=this._activeTextCues.length!==t.length;return this._activeTextCues=t,n},i._maybeAddToActiveCues=function(e){var t=this._player.currentTime;if(!t)return!1;for(var n=!1,r=this._textTrackModel[e.language].cues;this._externalCueIndex<r.length&&t>r[this._externalCueIndex].startTime;)t<r[this._externalCueIndex].endTime&&this._activeTextCues.push(r[this._externalCueIndex]),this._externalCueIndex++,n=!0;return n},i._maybeSetExternalCueIndex=function(){var e=this._player._getTextTracks().find((function(e){return e.active&&e.external}));if(e&&e.external){for(var t=this._textTrackModel[e.language]?this._textTrackModel[e.language].cues:[],n=0;n<t.length&&!(t[n].startTime<this._player.currentTime&&this._player.currentTime<t[n].endTime)&&!(t[n].endTime>this._player.currentTime&&t[n].startTime>this._player.currentTime);n++);return this._externalCueIndex=n,!0}return!1},i._resetExternalNativeTextTrack=function(){var e=this._player.getVideoElement();if(e&&e.textTracks){var t=Array.from(e.textTracks).find((function(e){return!!e&&Ye.isExternalTrack(e)}));t&&(t.cues&&Object.values(t.cues).forEach((function(e){return t.removeCue(e)})),t.mode=Ye.MODE.DISABLED)}},i._addCuesToNativeTextTrack=function(e){var t=this._player.getVideoElement();if(t&&t.textTracks){var n=Array.from(t.textTracks).find((function(e){return!!e&&Ye.isExternalTrack(e)}));n&&(n.mode=Ye.MODE.SHOWING,void 0===window.VTTCue?this._convertCues(e).forEach((function(e){return n.addCue(e)})):e.forEach((function(e){return n.addCue(e)})))}},i._convertCues=function(e){return e.map((function(e){return new window.TextTrackCue(e.startTime,e.endTime,e.text)}))},i._addNativeTextTrack=function(){var e=this._player.getVideoElement();e&&e.textTracks&&(Array.from(e.textTracks).findIndex((function(e){return!!e&&Ye.isExternalTrack(e)}))>-1?this._resetExternalNativeTextTrack():e.addTextTrack(Ye.KIND.SUBTITLES,Ye.EXTERNAL_TRACK_ID,Ye.EXTERNAL_TRACK_ID))},i._setTextTrack=function(e){var t=this;this._player.config.text.useNativeTextTrack||(this._isTextTrackActive=!0,r._logger.debug("External text track changed",e),this._activeTextCues=[],this._externalCueIndex=0,this.dispatchEvent(new g(V.TEXT_CUE_CHANGED,{cues:this._activeTextCues})),this._eventManager.listen(this._player,$.TIME_UPDATE,(function(){return t._handleCaptionOnTimeUpdate(e)})))},r}(T);tn(on,"_logger",x("ExternalCaptionsHandler"));var an={PRE:"preroll",MID:"midroll",POST:"postroll",OVERLAY:"overlay"},sn={VAST:"vast",VMAP:"vmap"},ln=function(e){var t,n;function r(){return e.call(this)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.destroy=function(){this._observer&&this._observer.disconnect(),this._observer=null,this._el=null},i.init=function(e){this._observer||(this._el=e,window.ResizeObserver?this._createNativeObserver():this._createIframeObserver(),this._el instanceof HTMLElement&&this._observer&&this._observer.observe(this._el))},i._createNativeObserver=function(){var e=this;this._observer=new window.ResizeObserver((function(t){t.forEach((function(){e._triggerResize()}))}))},i._createIframeObserver=function(){this._observer=new un(this._triggerResize.bind(this))},i._triggerResize=function(){this.dispatchEvent(new g(V.RESIZE))},r}(T),un=function(){function e(e){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"_observersStore",{}),this._onChangeCallback=e}var t=e.prototype;return t.observe=function(e){var t=this,n=this._createIframe(),r=e.getAttribute("id");this._observersStore[r]=n,e.appendChild(n),n.contentWindow.onresize=function(){return t._onChangeCallback()}},t.disconnect=function(){for(var e in this._observersStore){var t=document.getElementById(e),n=this._observersStore[e];n.onresize=null,t&&(t.removeChild(n),delete this._observersStore[t.getAttribute("id")])}},t._createIframe=function(){var e=document.createElement("iframe");return e.className="playkit-size-iframe",e},e}();function cn(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=function(){return 1}),0===e.length||1===e.length&&0!==t(e[0]))return null;var n=Math.floor(e.length/2);return 0===t(e[n])?e[n]:t(e[n])>0?cn(e.slice(0,n),t):cn(e.slice(n+1),t)}function dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _n=function(){function e(e){dn(this,"_isElementInFullscreen",!1),dn(this,"_isScreenLocked",!1),dn(this,"_isScreenOrientationSupport",!!screen&&!!screen.orientation&&"function"==typeof screen.orientation.unlock&&"function"==typeof screen.orientation.lock),dn(this,"_isFullscreenEventDispatched",!1),this._player=e,this._isInBrowserFullscreen=!1,this._eventManager=new I}var t=e.prototype;return t._isNativeDocumentFullscreen=function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)},t._isIOSFullscreen=function(){var e="function"==typeof this._player.getVideoElement?this._player.getVideoElement():null;return"iOS"===this._player.env.os.name&&!!e&&("fullscreen"===e.webkitPresentationMode||!e.webkitPresentationMode&&e.webkitDisplayingFullscreen)},t.isFullscreen=function(){return this._isNativeDocumentFullscreen()&&this._isElementInFullscreen||this._isIOSFullscreen()||this._isInBrowserFullscreen},t.enterFullscreen=function(e){if(!this.isFullscreen()){this.registerFullScreenEvents();var t=e&&W.getElementById(e),n=this._player.config.playback;if(t||(t=this._player.getView()),"iOS"===this._player.env.os.name)if(n.inBrowserFullscreen&&n.playsinline||this._player._engineType===Je.YOUTUBE)this._enterInBrowserFullscreen(t);else{var r=this._player.getVideoElement();r&&"function"==typeof r.webkitEnterFullScreen&&(this._player.isInPictureInPicture()?(setTimeout((function(){return r.webkitEnterFullScreen()}),1e3),this._player.exitPictureInPicture()):r.webkitEnterFullScreen())}else this._requestFullscreen(t)}},t.exitFullscreen=function(){if(this.isFullscreen())if("iOS"===this._player.env.os.name)if(this._isInBrowserFullscreen||this._player._engineType===Je.YOUTUBE)this._exitInBrowserFullscreen();else{var e=this._player.getVideoElement();e&&"function"==typeof e.webkitExitFullscreen&&e.webkitExitFullscreen()}else this._requestExitFullscreen()},t._nativeEnterFullScreen=function(e){return"function"==typeof e.requestFullscreen?e.requestFullscreen():"function"==typeof e.mozRequestFullScreen?e.mozRequestFullScreen():"function"==typeof e.webkitRequestFullScreen?e.webkitRequestFullScreen():"function"==typeof e.msRequestFullscreen?e.msRequestFullscreen():void 0},t._requestFullscreen=function(e){var t=this;this._player.isInPictureInPicture()&&this._player.exitPictureInPicture(),Promise.resolve(this._nativeEnterFullScreen(e)).then((function(){t._isElementInFullscreen=!0;var e=N.getPropertyPath(t._player,"config.playback.screenLockOrientionMode"),n=e!==at.NONE&&Object.values(at).includes(e);t._isScreenOrientationSupport&&n&&screen.orientation.lock(e).then((function(){return t._isScreenLocked=!0})).catch((function(){return t._isScreenLocked=!1}))}),(function(){}))},t._nativeExitFullScreen=function(){return"function"==typeof document.exitFullscreen?document.exitFullscreen():"function"==typeof document.webkitExitFullscreen?document.webkitExitFullscreen():"function"==typeof document.mozCancelFullScreen?document.mozCancelFullScreen():"function"==typeof document.msExitFullscreen?document.msExitFullscreen():void 0},t._requestExitFullscreen=function(){var e=this;Promise.resolve(this._nativeExitFullScreen()).then((function(){e._isElementInFullscreen=!1,e._isScreenOrientationSupport&&e._isScreenLocked&&(screen.orientation.unlock(),e._isScreenLocked=!1)}),(function(){}))},t._enterInBrowserFullscreen=function(e){this._player.isInPictureInPicture()&&this._player.exitPictureInPicture(),W.addClassName(e,"playkit-in-browser-fullscreen-mode"),this._isInBrowserFullscreen=!0,this._fullscreenEnterHandler(),this._player.dispatchEvent(new g(this._player.Event.RESIZE))},t._exitInBrowserFullscreen=function(){var e=W.getElementBySelector(".playkit-in-browser-fullscreen-mode");e&&W.removeClassName(e,"playkit-in-browser-fullscreen-mode"),this._isInBrowserFullscreen=!1,this._fullscreenExitHandler(),this._player.dispatchEvent(new g(this._player.Event.RESIZE))},t.registerFullScreenEvents=function(){var e=this;"iOS"===this._player.env.os.name?this._handleIosFullscreen():(this._eventManager.listen(document,"webkitfullscreenchange",(function(){return e._fullscreenChangeHandler()})),this._eventManager.listen(document,"mozfullscreenchange",(function(){return e._fullscreenChangeHandler()})),this._eventManager.listen(document,"fullscreenchange",(function(){return e._fullscreenChangeHandler()})),this._eventManager.listen(document,"MSFullscreenChange",(function(){return e._fullscreenChangeHandler()})))},t._handleIosFullscreen=function(){var e=this,t=function(){var t=e._player.getVideoElement();t&&(e._eventManager.listen(t,"webkitbeginfullscreen",(function(){return e._fullscreenEnterHandler()})),e._eventManager.listen(t,"webkitendfullscreen",(function(){return e._fullscreenExitHandler()})))};this._player.getVideoElement()?t():this._eventManager.listenOnce(this._player,this._player.Event.SOURCE_SELECTED,(function(){return t()}))},t._fullscreenChangeHandler=function(){this.isFullscreen()?this._fullscreenEnterHandler():this._fullscreenExitHandler()},t._fullscreenEnterHandler=function(){this.isFullscreen()&&!this._isFullscreenEventDispatched&&(this._isFullscreenEventDispatched=!0,this._player.dispatchEvent(new g(this._player.Event.ENTER_FULLSCREEN)))},t._fullscreenExitHandler=function(){!this.isFullscreen()&&this._isFullscreenEventDispatched&&(this._isFullscreenEventDispatched=!1,this._eventManager.removeAll(),this._player.dispatchEvent(new g(this._player.Event.EXIT_FULLSCREEN)))},t.destroy=function(){this._eventManager.destroy()},e}();function pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var An=function(){function e(){pn(this,"_decoratorProviders",new Map),pn(this,"_logger",x("EngineDecoratorManager"))}var t=e.prototype;return t.register=function(e){this._decoratorProviders.has(e.getName())?this._logger.warn("decorator already registered for "+e.getName()):this._decoratorProviders.set(e.getName(),e)},t.createDecorators=function(e,t){return this._logger.debug("decorators created for "+Array.from(this._decoratorProviders.keys()).toString()),Array.from(this._decoratorProviders.values(),(function(n){return n.getEngineDecorator(e,t)}))},t.destroy=function(){this._logger.debug("decorators destroyed"),this._decoratorProviders.clear()},e}();function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var vn=function(e){var t,n;function r(t,n){var r;return(r=e.call(this)||this)._eventManager=new I,r._pluginDecorators=n.createDecorators(t,e.prototype.dispatchEvent.bind(fn(r))),Object.values(G).forEach((function(e){return r._eventManager.listen(t,e,(function(e){return r.dispatchEvent(e)}))})),new Proxy(t,{get:function(e,t){"destroy"===t&&r._destroy();var n,i=r._pluginDecorators.find((function(e){return e.active}));return(n="addEventListener"===t||"removeEventListener"===t?fn(r):i&&t in i?i:e)[t]&&"function"==typeof n[t].bind?n[t].bind(n):n[t]},set:function(e,t,n){var i=r._pluginDecorators.find((function(e){return t in e&&e.active}));return i&&t in i?i[t]=n:e[t]=n,!0}})||fn(r)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i,o,a=r.prototype;return a.dispatchEvent=function(t){var n=this._pluginDecorators.find((function(e){return e.active}));return n&&n.dispatchEvent?n.dispatchEvent(t):e.prototype.dispatchEvent.call(this,t)},a._destroy=function(){this._pluginDecorators=[],this._eventManager.destroy()},i=r,(o=[{key:"active",get:function(){return!0}}])&&hn(i.prototype,o),r}(T),gn={TRUE:!0,FALSE:!1,IN_VIEW:"inview"};function bn(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yn(){return(yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Cn(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function wn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Cn(o,r,i,a,s,"next",e)}function s(e){Cn(o,r,i,a,s,"throw",e)}a(void 0)}))}}function kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var En=/#wh=/i,xn=/#xywh=/i,Tn=new RegExp("^/[^/].+"),qn=function(e){var t,n;function r(){var t;return kn(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t=e.call(this)||this),"_cues",[]),t._eventManager=new I,t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.load=function(){var e=wn(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r._logger.debug("start loading the vtt thumbnails"),e.next=5,this._downloadAndParseCues(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.getThumbnail=function(e){var t=this._findCue(e,this._cues);if(t){var n=t.size,r=t.coordinates,i=yn({url:t.imgUrl},n=n||this._naturalImgSize,r=r||{x:0,y:0});return new pt(i)}return null},i.isUsingVttThumbnails=function(){var e;return!!(null==(e=this._cues)?void 0:e.length)},i._downloadAndParseCues=function(){var e=wn(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._downloadVttFile(t);case 3:return n=e.sent,e.next=6,this._processVtt(n);case 6:return r=e.sent,e.next=9,this._formatIntoThumbnailCues(r,t);case 9:this._cues=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.dispatchEvent(new g($.ERROR,e.t0));case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),i._downloadVttFile=function(){var e=wn(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.execute(t.vttUrl,{},"GET");case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new B(B.Severity.RECOVERABLE,B.Category.TEXT,B.Code.HTTP_ERROR,e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),i._processVtt=function(){var e=wn(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var i=new Ie(window,De()),o=[];i.oncue=function(e){return o.push(e)},i.onflush=function(){r._logger.debug("finished parsing thumbnails cues"),e(o)},i.parse(t),i.flush(),i.onparsingerror((function(e){return n(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i._formatIntoThumbnailCues=function(){var e=wn(regeneratorRuntime.mark((function e(t,n){var r,i,o,a,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validateThumbnailsVTTFormat(t)){e.next=4;break}throw new B(B.Severity.RECOVERABLE,B.Category.TEXT,B.Code.INVALID_VTT_THUMBNAILS_FILE,{message:"invalid thumbnail vtt format",vttUrl:n.vttUrl});case 4:return r=this._extractCueMetadata(t[0],n),e.next=7,this.validateImgUrl(r.imgUrl);case 7:if(e.sent){e.next=11;break}throw new B(B.Severity.RECOVERABLE,B.Category.TEXT,B.Code.INVALID_VTT_THUMBNAILS_FILE,{message:"failed loading the image - invalid image url",imgUrl:r.imgUrl});case 11:return e.next=13,this.extractImgNaturalDimensions(r.imgUrl);case 13:for(this._naturalImgSize=e.sent,i=[],o=bn(t);!(a=o()).done;)s=a.value,l=this._extractCueMetadata(s,n),i.push(l);return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),i.validateThumbnailsVTTFormat=function(e){return e.length&&e[0]instanceof We},i.extractImgNaturalDimensions=function(e){var t=this;return new Promise((function(n){var r=new Image;r.src=e,t._eventManager.listenOnce(r,"load",(function(){n({height:r.naturalHeight,width:r.naturalWidth})})),t._eventManager.listenOnce(r,"error",(function(){return n(null)}))}))},i.validateImgUrl=function(e){var t=this;return new Promise((function(n){var r=new Image;r.src=e,t._eventManager.listenOnce(r,"load",(function(){n(!0)})),t._eventManager.listenOnce(r,"error",(function(){return n(!1)}))}))},i._extractCueMetadata=function(e,t){var n,i=e.startTime,o=e.endTime,a=e.text,s=t.vttUrl.substring(0,t.vttUrl.lastIndexOf("/")),l=En.test(a),u=xn.test(a),c=!1,d=null,_=null;if(l)n=a.split(En)[0],r._logger.warn('vtt thumbnails in "'+En+'" form - is supported but the width and height options are ignored and The images will be displayed in their natural dimensions'),c=void 0!==n;else if(u){var p=a.split(xn);n=p[0];var A=p[1].split(",").map(Number),h=A[0],f=A[1],v=A[2],g=A[3];d={x:h,y:f},_={width:v,height:g},c=[h,f,v,g,n].every((function(e){return void 0!==e}))}else n=a,c=!!a;if(0!==n.indexOf("http://")&&0!==n.indexOf("https://")&&(n=s+"/"+(n=Tn.test(n)?n.substring(1):n)),c)return{startTime:i,endTime:o,imgUrl:n,size:_,coordinates:d};throw new B(B.Severity.RECOVERABLE,B.Category.TEXT,B.Code.INVALID_VTT_THUMBNAILS_FILE,{message:"error while parsing the vtt cues - invalid cue",parsedCue:{startTime:i,endTime:o,options:a}})},i._findCue=function(e,t){for(var n=0,r=t.length-1;n<=r;){var i=Math.floor((n+r)/2),o=t[i];if(e>=o.startTime&&e<o.endTime)return t[i];e<o.startTime?r=i-1:n=i+1}return null},i.reset=function(){this._cues=[],this._eventManager.removeAll(),this._naturalImgSize={}},i.destroy=function(){this.reset(),this._eventManager.destroy()},r}(T);function Sn(){return(Sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function In(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}kn(qn,"_logger",x("ExternalThumbnailsHandler"));var Bn="off",Mn=function(e){var t,n;function r(t){var n;return void 0===t&&(t={}),Pn(Dn(n=e.call(this)||this),"_sources",{}),Pn(Dn(n),"_activeTextCues",[]),Pn(Dn(n),"_textDisplaySettings",{}),Pn(Dn(n),"_playbackAttributesState",{muted:void 0,volume:void 0,rate:void 0,videoTrack:void 0,audioLanguage:"",textLanguage:""}),Pn(Dn(n),"_hasUserInteracted",!1),Pn(Dn(n),"_isOnLiveEdge",!1),Pn(Dn(n),"_shouldLoadAfterAttach",!1),n._setConfigLogLevel(t),n._playerId=z.uniqueId(5),n._prepareVideoElement(),r.runCapabilities(),n._env=h,n._tracks=[],n._firstPlay=!0,n._loadingMedia=!1,n._loading=!1,n._playbackStart=!1,n._firstPlaying=!1,n._reset=!0,n._destroyed=!1,n._fallbackToMutedAutoPlay=!1,n._config=r._defaultConfig,n._sources=N.copyDeep(lt),n._eventManager=new I,n._posterManager=new H,n._stateManager=new te(Dn(n)),n._resizeWatcher=new ln,n._playbackMiddleware=new ot,n._textStyle=new fe,n._createReadyPromise(),n._createPlayerContainer(),n._appendDomElements(),n._externalCaptionsHandler=new on(Dn(n)),n._externalThumbnailsHandler=new qn,n._fullscreenController=new _n(Dn(n)),n.configure(t),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.runCapabilities=function(){r._logger.debug("Running player capabilities"),Zt.getEngines().forEach((function(e){return e.runCapabilities()}))},r.getCapabilities=function(e){r._logger.debug("Get player capabilities",e);var t=[];return Zt.getEngines().forEach((function(e){return t.push(e.getCapabilities())})),Promise.all(t).then((function(t){var n={};return t.forEach((function(e){return Object.assign(n,e)})),e?n[e]:n}))},r.setCapabilities=function(e,t){r._logger.debug("Set player capabilities",e,t);var n=Zt.getEngines().find((function(t){return t.id===e}));n&&n.setCapabilities(t)};var i,o,a,s=r.prototype;return s.configure=function(e){void 0===e&&(e={}),this._setConfigLogLevel(e),N.mergeDeep(this._config,e),this._applyTextTrackConfig(e),this._applyABRRestriction(e)},s.setSourcesMetadata=function(e){this._sources&&(this._sources.metadata||(this._sources.metadata={}),N.mergeDeep(this._sources.metadata,e))},s.setSources=function(e){this._hasSources(e)?(this.reset(),N.mergeDeep(this._sources,e),this._resizeWatcher.init(W.getElementById(this._playerId)),r._logger.debug("Change source started"),this.dispatchEvent(new g(V.CHANGE_SOURCE_STARTED)),this._reset=!1,this._selectEngineByPriority()?(this.dispatchEvent(new g(V.SOURCE_SELECTED,{selectedSource:this._sources[this._streamType]})),this._attachMedia(),this._handlePlaybackOptions(),this._posterManager.setSrc(this._sources.poster),this._handleDimensions(),this._handlePreload(),this._handleAutoPlay(),r._logger.debug("Change source ended"),this.dispatchEvent(new g(V.CHANGE_SOURCE_ENDED))):(r._logger.warn("No playable engines was found to play the given sources"),this.dispatchEvent(new g($.ERROR,new B(B.Severity.CRITICAL,B.Category.PLAYER,B.Code.NO_ENGINE_FOUND_TO_PLAY_THE_SOURCE,"No Engine Found To Play The Source"))))):N.mergeDeep(this._sources,e)},s.ready=function(){return this._readyPromise?this._readyPromise:Promise.resolve()},s.load=function(){var e=this;this.src?r._logger.debug("The source has already been loaded. load request ignored"):this._playbackMiddleware.load((function(){e._engine?e._load():e._eventManager.listenOnce(e,V.SOURCE_SELECTED,(function(){return e._load()}))}))},s.play=function(e){var t=this;e&&e.programmatic?this._autoPlay():(this._playbackStart||(this._playbackStart=!0,this.dispatchEvent(new g(V.PLAYBACK_START)),this.src||this._prepareVideoElement(),this.load()),this._engine?this._playbackMiddleware.play((function(){return t._play()})):this._loadingMedia?this._playbackMiddleware.play((function(){return t._playAfterAsyncMiddleware()})):this.dispatchEvent(new g($.ERROR,new B(B.Severity.CRITICAL,B.Category.PLAYER,B.Code.NO_SOURCE_PROVIDED,"No Source Provided"))))},s.pause=function(){this._engine&&this._playbackMiddleware.pause(this._pause.bind(this))},s.getView=function(){return this._el},s.getVideoElement=function(){if(this._engine)return this._engine.getVideoElement()},s.reset=function(e){void 0===e&&(e=!1),this._reset||(this.pause(),this._externalCaptionsHandler.reset(),this._externalThumbnailsHandler.reset(),this._posterManager.reset(),this._stateManager.reset(),this._sources=N.copyDeep(lt),this._activeTextCues=[],this._updateTextDisplay([]),this._tracks=[],Ye.reset(),this._resetStateFlags(),this._engineType="",this._streamType="",this._pendingSelectedVideoTrack=null,this._engine&&this._engine.reset(),this.showBlackCover(),this._reset=!0,this.dispatchEvent(new g(V.PLAYER_RESET,{isChangeMedia:e})),this._eventManager.removeAll(),this._resizeWatcher.init(W.getElementById(this._playerId)),this._createReadyPromise(),this._isOnLiveEdge=!1,this._shouldLoadAfterAttach=!1)},s.destroy=function(){this._destroyed||(this._externalCaptionsHandler.destroy(),this._posterManager.destroy(),this._stateManager.destroy(),this._fullscreenController.destroy(),this._activeTextCues=[],this._textDisplaySettings={},this._config={},this._tracks=[],this._engineType="",this._streamType="",this._readyPromise=null,this._pendingSelectedVideoTrack=null,this._resetStateFlags(),this._playbackAttributesState={},this._engine&&this._engine.destroy(),this._engineDecoratorManager&&this._engineDecoratorManager.destroy(),this._resizeWatcher.destroy(),this._el&&W.removeChild(this._el.parentNode,this._el),this._destroyed=!0,this.dispatchEvent(new g(V.PLAYER_DESTROY)),this._eventManager.destroy())},s.hideBlackCover=function(){this._blackCoverEl&&(this._blackCoverEl.style.visibility="hidden")},s.showBlackCover=function(){this._blackCoverEl&&(this._blackCoverEl.style.visibility="visible")},s.attachMediaSource=function(){var e=this;this._engine&&(this._shouldLoadAfterAttach=!0,this._engine.attachMediaSource(),this._eventManager.listenOnce(this,$.CAN_PLAY,(function(){"number"==typeof e._playbackAttributesState.rate&&(e.playbackRate=e._playbackAttributesState.rate)})))},s.detachMediaSource=function(){this._engine&&(this.pause(),this.hideTextTrack(),this._shouldLoadAfterAttach=!1,this._createReadyPromise(),this._engine.detachMediaSource())},s.registerEngineDecoratorProvider=function(e){this._engineDecoratorManager||(this._engineDecoratorManager=new An),e&&this._engineDecoratorManager.register(e)},s._getTargetElement=function(){return W.getElementById(this._config.targetId)},s.isLive=function(){return!(this._sources.type===et.VOD||!(this._sources.type===et.LIVE||this._engine&&this._engine.isLive()))},s.isAudio=function(){return this._sources.type===et.AUDIO},s.isOnLiveEdge=function(){return this._engine&&"function"==typeof this._engine.isOnLiveEdge?this._engine.isOnLiveEdge():this._isOnLiveEdge},s.isDvr=function(){return this.isLive()&&this._sources.dvr},s.seekToLiveEdge=function(){this._engine&&this.isLive()&&(this._engine.seekToLiveEdge(),this._isOnLiveEdge=!0)},s.getStartTimeOfDvrWindow=function(){return this._engine?this._engine.getStartTimeOfDvrWindow():0},s.getTracks=function(e){switch(e){case Ze.VIDEO:return N.copyDeep(this._getVideoTracks());case Ze.AUDIO:return N.copyDeep(this._getAudioTracks());case Ze.TEXT:return N.copyDeep(this._getTextTracks());case Ze.IMAGE:return N.copyDeep(this._getImageTracks());default:return N.copyDeep(this._tracks)}},s.getActiveTracks=function(){return N.copyDeep({video:this._getVideoTracks().find((function(e){return e.active})),audio:this._getAudioTracks().find((function(e){return e.active})),text:this._getTextTracks().find((function(e){return e.active}))})},s.selectTrack=function(e){this._engine&&(e instanceof oe?(this._playbackAttributesState.videoTrack=e,this._stateManager.currentState.type===J.IDLE?this._pendingSelectedVideoTrack=e:this._engine.selectVideoTrack(e)):e instanceof ae?this._engine.selectAudioTrack(e):e instanceof Ye?(this._resetTextDisplay(),e.language===Bn?(this.hideTextTrack(),this._externalCaptionsHandler.hideTextTrack(),this._playbackAttributesState.textLanguage=Bn):e.external?(this._engine.hideTextTrack(),this._externalCaptionsHandler.selectTextTrack(e)):(this._externalCaptionsHandler.hideTextTrack(),this._engine.selectTextTrack(e))):e instanceof dt&&this._engine.selectImageTrack(e))},s.hideTextTrack=function(){if(this._engine){this._engine.hideTextTrack(),this._resetTextDisplay();var e=this._getTextTracks(),t=e.find((function(e){return!0===e.active}));t&&t.external&&this._externalCaptionsHandler.hideTextTrack(),e.map((function(e){return e.active=!1}));var n=e.find((function(e){return e.language===Bn}));n&&(n.active=!0,this.dispatchEvent(new g(V.TEXT_TRACK_CHANGED,{selectedTextTrack:n}))),this._playbackAttributesState.textLanguage=Bn}},s.showTextTrack=function(){var e=this._getTextTracks(),t=this._playbackAttributesState.textLanguage!==Bn&&this._playbackAttributesState.textLanguage||this._getLanguage(e,"auto",e.find((function(e){return e.default})));this._setDefaultTrack(e,t)},s.addTextTrack=function(e,t,n){if(this._engine&&"function"==typeof this._engine.addTextTrack)return this._engine.addTextTrack(e,t,n)},s.getNativeTextTracks=function(){return this._engine&&"function"==typeof this._engine.getNativeTextTracks?this._engine.getNativeTextTracks():[]},s.enableAdaptiveBitrate=function(){this._engine&&this._engine.enableAdaptiveBitrate(),this._playbackAttributesState.videoTrack=void 0},s.isAdaptiveBitrateEnabled=function(){return!!this._engine&&this._engine.isAdaptiveBitrateEnabled()},s._applyABRRestriction=function(e){if(N.hasPropertyPath(e,"abr.restrictions")&&this._engine&&this._tracks.length){var t=this._config.abr.restrictions,n=gt(this._tracks.filter((function(e){return e instanceof oe})),t);if(n.length){var i=this._tracks.filter((function(e){return e instanceof oe&&e.available}));(i.length!==n.length||!i.every((function(e,t){return e.bandwidth===n[t].bandwidth})))&&(this._engine.applyABRRestriction(t),this._tracks.forEach((function(e){!n.includes(e)&&e instanceof oe?(e.available=!1,e.active=!1):e.available=!0})),this.getActiveTracks().video||(n[0].active=!0),this.dispatchEvent(new g(V.TRACKS_CHANGED,{tracks:this._tracks.filter((function(e){return e.available}))})))}else r._logger.warn("Invalid restriction, Nothing has changed values do not meet the restriction")}},s._applyTextTrackConfig=function(e){if(N.hasPropertyPath(e,"text.textTrackDisplaySetting")||N.getPropertyPath(e,"text.forceCenter")){var t={};N.hasPropertyPath(this._config,"text.textTrackDisplaySetting")&&(t=N.mergeDeep(t,this._config.text.textTrackDisplaySetting)),N.getPropertyPath(this._config,"text.forceCenter")&&(t=N.mergeDeep(t,{position:"auto",align:"center",size:"100"})),this.setTextDisplaySettings(t)}try{N.hasPropertyPath(e,"text.textStyle")&&(this.textStyle=fe.fromJson(this._config.text.textStyle))}catch(e){r._logger.warn(e)}},s.getThumbnail=function(e){return this._externalThumbnailsHandler.isUsingVttThumbnails()?this._externalThumbnailsHandler.getThumbnail(e):this._engine?this._engine.getThumbnail(e):null},s.setTextDisplaySettings=function(e){this._textDisplaySettings=N.mergeDeep(this._textDisplaySettings,e),this._updateCueDisplaySettings();for(var t=0;t<this._activeTextCues.length;t++)this._activeTextCues[t].hasBeenReset=!0;this._updateTextDisplay(this._activeTextCues)},s.isFullscreen=function(){return this._fullscreenController.isFullscreen()},s.notifyEnterFullscreen=function(){this.isFullscreen()&&this.dispatchEvent(new g(V.ENTER_FULLSCREEN))},s.notifyExitFullscreen=function(){this.isFullscreen()||this.dispatchEvent(new g(V.EXIT_FULLSCREEN))},s.enterFullscreen=function(e){this._fullscreenController.enterFullscreen(e)},s.exitFullscreen=function(){this._fullscreenController.exitFullscreen()},s.enterPictureInPicture=function(){this.isFullscreen()&&this.exitFullscreen(),this._engine&&!this._engine.isInPictureInPicture&&this._engine.enterPictureInPicture()},s.exitPictureInPicture=function(){this._engine&&this._engine.isInPictureInPicture&&this._engine.exitPictureInPicture()},s.isInPictureInPicture=function(){return!!this._engine&&this._engine.isInPictureInPicture},s.isPictureInPictureSupported=function(){return!!this._config.playback.pictureInPicture&&this._engine.isPictureInPictureSupported()},s.isVr=function(){return!!this._sources.vr},s.getLogLevel=function(e){return k(e)},s.setLogLevel=function(e,t){E(e,t)},s.getDrmInfo=function(){var e;return null==(e=this._engine)?void 0:e.getDrmInfo()},s._resetTextDisplay=function(){this._activeTextCues=[],this._updateTextDisplay([])},s._prepareVideoElement=function(){var e=this;Zt.getEngines().forEach((function(t){t.prepareVideoElement(e._playerId)}))},s._setConfigLogLevel=function(e){e.log&&e.log.level&&m[e.log.level]&&E(m[e.log.level]),e.log&&"function"==typeof e.log.handler&&C(e.log.handler)},s._hasSources=function(e){return!!e&&!!Object.values(Xe).find((function(t){return e[t]&&e[t].length>0}))},s._createPlayerContainer=function(){var e=this._el=W.createElement("div");W.addClassName(e,"playkit-container"),W.setAttribute(e,"id",this._playerId),W.setAttribute(e,"tabindex","-1")},s._appendEngineEl=function(){if(this._el){var e=this._engine.getVideoElement();W.addClassName(e,"playkit-engine");var t="playkit-engine-"+this._engine.id;W.addClassName(e,t),W.prependTo(e,this._el),"youtube"===this._engine.id&&(this._el.style.zIndex=1)}},s._appendDomElements=function(){this._blackCoverEl=W.createElement("div"),W.addClassName(this._blackCoverEl,"playkit-black-cover"),W.appendChild(this._el,this._blackCoverEl);var e=this._posterManager.getElement();W.addClassName(e,"playkit-poster"),W.appendChild(this._el,e),this._textDisplayEl=W.createElement("div"),W.addClassName(this._textDisplayEl,"playkit-subtitles"),W.appendChild(this._el,this._textDisplayEl)},s._createReadyPromise=function(){var e=this;this._readyPromise=new Promise((function(t,n){e._eventManager.listenOnce(e,V.TRACKS_CHANGED,(function(){e.dispatchEvent(new g(V.MEDIA_LOADED)),t()})),e._eventManager.listen(e,$.ERROR,(function(e){e.payload.severity===B.Severity.CRITICAL&&n()}))})).catch((function(){}))},s._selectEngineByPriority=function(){for(var e,t=this,n=this._config.playback.streamPriority,i=this._config.playback.preferNative,o=this._sources,a=function(){var n=e.value,a="string"==typeof n.engine?n.engine.toLowerCase():"",s="string"==typeof n.format?n.format.toLowerCase():"",l=Zt.getEngines().find((function(e){return e.id===a}));if(l){var u=o[s];if(u&&u.length>0){var c=u[0];if(l.canPlaySource(c,i[s],t._config.drm))return r._logger.debug("Source selected: ",u),t._loadEngine(l,c),t._engineType=a,t._streamType=s,{v:!0}}}},s=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return On(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?On(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(n);!(e=s()).done;){var l=a();if("object"==typeof l)return l.v}return!1},s._loadEngine=function(e,t){this._engine?this._engine.id===e.id?this._engine.restore(t,Sn({},this._config,{sources:this._sources})):(this._engine.destroy(),this._createEngine(e,t),this._appendEngineEl()):(this._createEngine(e,t),this._appendEngineEl())},s._createEngine=function(e,t){var n=e.createEngine(t,Sn({},this._config,{sources:this._sources}),this._playerId);this._engine=this._engineDecoratorManager?new vn(n,this._engineDecoratorManager):n},s._attachMedia=function(){var e=this;if(this._engine){Object.keys($).forEach((function(t){e._eventManager.listen(e._engine,$[t],(function(t){return e.dispatchEvent(t)}))})),this._eventManager.listen(this._engine,$.SEEKING,(function(){e.isLive()&&(e._isOnLiveEdge=!(!e.duration||!e.currentTime)&&e.currentTime>=e.duration-1&&!e.paused)})),this._eventManager.listen(this._engine,$.SEEKED,(function(){var t=e._env.browser.name;"Edge"!==t&&"IE"!==t||e._removeTextCuePatch()})),this._eventManager.listen(this._engine,V.MEDIA_RECOVERED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(this._engine,V.IMAGE_TRACK_CHANGED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(this._engine,V.TEXT_TRACK_ADDED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(this._engine,V.VIDEO_TRACK_CHANGED,(function(t){return e._markActiveTrack(t.payload.selectedVideoTrack),e.dispatchEvent(t)})),this._eventManager.listen(this._engine,V.AUDIO_TRACK_CHANGED,(function(t){e.ready().then((function(){return e._playbackAttributesState.audioLanguage=t.payload.selectedAudioTrack.language})),e._markActiveTrack(t.payload.selectedAudioTrack),e.dispatchEvent(t)})),this._eventManager.listen(this._engine,V.TEXT_TRACK_CHANGED,(function(t){return e._onTextTrackChanged(t)})),this._eventManager.listen(this._engine,V.TRACKS_CHANGED,(function(t){return e._onTracksChanged(t)})),this._eventManager.listen(this._engine,V.TEXT_CUE_CHANGED,(function(t){return e._onCueChange(t)})),this._eventManager.listen(this._engine,V.ABR_MODE_CHANGED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(this._engine,V.TIMED_METADATA,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(this._engine,V.TIMED_METADATA_CHANGE,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(this._engine,V.TIMED_METADATA_ADDED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(this._engine,V.PLAY_FAILED,(function(t){e._onPlayFailed(t),e.dispatchEvent(t)})),this._eventManager.listen(this._engine,V.FPS_DROP,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(this._engine,V.FRAG_LOADED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(this._engine,V.DRM_LICENSE_LOADED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(this._engine,V.MANIFEST_LOADED,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(this._engine,V.MEDIA_RECOVERED,(function(){return e._handleRecovered()})),this._eventManager.listen(this,$.PLAY,this._onPlay.bind(this)),this._eventManager.listen(this,$.PAUSE,this._onPause.bind(this)),this._eventManager.listen(this,$.PLAYING,this._onPlaying.bind(this)),this._eventManager.listen(this,$.ENDED,this._onEnded.bind(this)),this._eventManager.listen(this,V.MUTE_CHANGE,(function(){e._playbackAttributesState.muted=e.muted})),this._eventManager.listen(this,$.VOLUME_CHANGE,(function(){e._playbackAttributesState.volume=e.volume})),this._eventManager.listen(this,$.RATE_CHANGE,(function(){e._playbackAttributesState.rate=e.playbackRate})),this._eventManager.listen(this,V.ENTER_FULLSCREEN,(function(){return e._resetTextCuesAndReposition()})),this._eventManager.listen(this,V.EXIT_FULLSCREEN,(function(){return e._resetTextCuesAndReposition()})),this._eventManager.listen(this._resizeWatcher,V.RESIZE,(function(t){e._resetTextCuesAndReposition(),e.dispatchEvent(t)})),this._eventManager.listen(this._externalCaptionsHandler,V.TEXT_CUE_CHANGED,(function(t){return e._onCueChange(t)})),this._eventManager.listen(this._externalCaptionsHandler,V.TEXT_TRACK_CHANGED,(function(t){return e._onTextTrackChanged(t)})),this._eventManager.listen(this._externalCaptionsHandler,$.ERROR,(function(t){return e.dispatchEvent(t)})),this._eventManager.listen(this._externalThumbnailsHandler,$.ERROR,(function(t){return e.dispatchEvent(t)}));var t=W.getElementBySelector("#"+this.config.targetId);t&&this._eventManager.listen(t,"click",(function(){e._hasUserInteracted=!0,e.dispatchEvent(new g(V.USER_GESTURE))}),{capture:!0})}},s._handleRecovered=function(){this._stateManager.currentState.type===J.PLAYING&&this.play()},s._onTextTrackChanged=function(e){var t=this;this.ready().then((function(){return t._playbackAttributesState.textLanguage=e.payload.selectedTextTrack.language})),this._markActiveTrack(e.payload.selectedTextTrack),this.dispatchEvent(e)},s._resetTextCuesAndReposition=function(){this._engine.resetAllCues(),this._externalCaptionsHandler.resetAllCues(),this._updateTextDisplay([]);for(var e=0;e<this._activeTextCues.length;e++)this._activeTextCues[e].hasBeenReset=!0;this._updateTextDisplay(this._activeTextCues)},s._removeTextCuePatch=function(){var e=this,t=this._activeTextCues.filter((function(t){var n=t._endTime,r=t._startTime,i=e.currentTime;if(i<n&&i>r)return t}));this._updateTextDisplay(t)},s._handlePlaybackOptions=function(){if(this._config.playback=this._config.playback||{},"boolean"==typeof this._playbackAttributesState.muted?this.muted=this._playbackAttributesState.muted:"boolean"==typeof this._config.playback.muted&&(this.muted=this._config.playback.muted),"number"==typeof this._playbackAttributesState.volume?this.volume=this._playbackAttributesState.volume:"number"==typeof this._config.playback.volume&&(this.volume=this._config.playback.volume),"boolean"==typeof this._config.playback.playsinline&&(this.playsinline=this._config.playback.playsinline),"string"==typeof this._config.playback.crossOrigin&&(this.crossOrigin=this._config.playback.crossOrigin),Array.isArray(this._config.playback.playbackRates)){var e=this._config.playback.playbackRates.filter((function(e,t,n){return e>0&&e<=16&&n.indexOf(e)===t})).sort((function(e,t){return e-t}));e&&(this._playbackRates=e)}},s._handlePreload=function(){"auto"!==this._config.playback.preload||this._config.playback.autoplay||this.load()},s._autoPlay=function(){var e=this,t=this._config.playback.allowMutedAutoPlay;r.getCapabilities(this.engineType).then((function(r){r.autoplay?n():r.mutedAutoPlay?e.muted&&!e._fallbackToMutedAutoPlay?i():t?o():a():a()}));var n=function(){r._logger.debug("Start autoplay"),e._fallbackToMutedAutoPlay&&(e._fallbackToMutedAutoPlay=!1,e.muted=!1),e.play()},i=function(){r._logger.debug("Start muted autoplay"),e.play()},o=function(){r._logger.debug("Fallback to muted autoplay"),e._fallbackToMutedAutoPlay=!0,e.muted=!0,e.dispatchEvent(new g(V.FALLBACK_TO_MUTED_AUTOPLAY)),e.play()},a=function(){r._logger.warn("Autoplay failed, pause player"),e._posterManager.show(),e.load(),e.dispatchEvent(new g(V.AUTOPLAY_FAILED))}},s._handleAutoPlay=function(){(this.isAudio()||this._config.playback.autoplay!==gn.TRUE)&&this._posterManager.show(),this._config.playback.autoplay===gn.TRUE&&this._autoPlay()},s._playAfterAsyncMiddleware=function(){var e=this;this._engine?this._play():this._eventManager.listenOnce(this,V.SOURCE_SELECTED,(function(){return e._play()}))},s._load=function(){var e=this;if(this._engine&&!this.src&&!this._loading){this._loading=!0;var t=this._sources.startTime;this._engine.load(t).then((function(n){e.isLive()&&(-1===t||Number(t)>=Number(e.duration))&&(e._isOnLiveEdge=!0),e._updateTracks(n.tracks),e.dispatchEvent(new g(V.TRACKS_CHANGED,{tracks:e._tracks})),e._externalThumbnailsHandler.load(e.sources.thumbnails)})).finally((function(){e._loading=!1,e._reset=!1}))}},s._handleDimensions=function(){var e=this.config.dimensions;N.isObject(e)&&!N.isEmptyObject(e)&&(this.dimensions=e)},s._play=function(){var e=this;this._shouldLoadAfterAttach&&(this._load(),this._shouldLoadAfterAttach=!1),this.ready().then((function(){e._shouldPlayerSeekToLiveEdge()&&e.seekToLiveEdge(),e._engine.play()}))},s._shouldPlayerSeekToLiveEdge=function(){if(this.isLive()){var e=!this.isDvr()||"number"==typeof this.currentTime&&this.currentTime<0;return this._firstPlay?!!this.src&&!this.isOnLiveEdge():e}return!1},s._pause=function(){this._engine.pause()},s._setCurrentTime=function(e){if(this._engine&&R.isNumber(e)){var t=e;e<0&&(t=0);var n=this.isLive()?this._engine.duration:this._engine.duration-.1;t>n&&(t=n),this._engine.currentTime=t}},s._onPause=function(){this._isOnLiveEdge=!1},s._onPlay=function(){this._firstPlay&&(this._firstPlay=!1,this.dispatchEvent(new g(V.FIRST_PLAY)),this.hideBlackCover(),"number"==typeof this._playbackAttributesState.rate&&(this.playbackRate=this._playbackAttributesState.rate))},s._onPlaying=function(){this._firstPlaying||(this._firstPlaying=!0,this.isAudio()||this._posterManager.hide(),this.dispatchEvent(new g(V.FIRST_PLAYING))),this._engine&&this._pendingSelectedVideoTrack&&(this._engine.selectVideoTrack(this._pendingSelectedVideoTrack),this._pendingSelectedVideoTrack=null)},s._onPlayFailed=function(e){this._firstPlay&&this._config.playback.autoplay&&(this._posterManager.show(),this.dispatchEvent(new g(V.AUTOPLAY_FAILED,e.payload)))},s._onEnded=function(){this.paused||this._pause()},s._resetStateFlags=function(){this._loading=!1,this._firstPlay=!0,this._loadingMedia=!1,this._playbackStart=!1,this._firstPlaying=!1},s._calcRatio=function(e,t){if(void 0!==t.ratio&&(this._aspectRatio=t.ratio),this._aspectRatio){var n=this._aspectRatio.split(":").map((function(e){return Number(e)})),r=n[0],i=n[1];if(t.width||!t.width&&!t.height){var o=i/r*e.clientWidth;e.style.height=o+"px"}else if(t.height&&!t.width){var a=r/i*e.clientHeight;e.style.width=a+"px"}}},s._onTracksChanged=function(e){this._updateTracks(e.payload.tracks),this.dispatchEvent(e)},s._updateTracks=function(e){r._logger.debug("Tracks changed",e),this._tracks=e.concat(this._externalCaptionsHandler.getExternalTracks(e)),this._applyABRRestriction(this._config),this._addTextTrackOffOption(),this._maybeSetTracksLabels(),this._setDefaultTracks()},s._getTracksByType=function(e){return this._tracks.reduce((function(t,n){return n instanceof e&&n.available&&t.push(n),t}),[])},s._getImageTracks=function(){return this._getTracksByType(dt)},s._getTextTracks=function(){return this._getTracksByType(Ye)},s._getVideoTracks=function(){return this._getTracksByType(oe)},s._getAudioTracks=function(){return this._getTracksByType(ae)},s._markActiveTrack=function(e){var t;if(e instanceof oe?t=this._getVideoTracks():e instanceof ae?t=this._getAudioTracks():e instanceof Ye&&(t=this._getTextTracks()),t)for(var n=0;n<t.length;n++)t[n].active=e.index===t[n].index},s._onCueChange=function(e){r._logger.debug("Text cue changed",e.payload.cues);try{this._activeTextCues=e.payload.cues.filter((function(e,t,n){var r=n[t-1];return!r||!(e.startTime===r.startTime&&e.endTime===r.endTime&&e.text.trim()===r.text.trim())}))}catch(t){this._activeTextCues=e.payload.cues}this._updateCueDisplaySettings(),this._updateTextDisplay(this._activeTextCues),this.dispatchEvent(e)},s._updateCueDisplaySettings=function(){for(var e=this._activeTextCues,t=this._textDisplaySettings,n=0;n<e.length;n++){var r=e[n];for(var i in t)t[i]&&(r[i]=t[i])}},s._updateTextDisplay=function(e){this._config.text.useNativeTextTrack||this._config.text.useShakaTextTrackDisplay||function(e,t,n,r){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var o=[],a=Se.getSimpleBoxPosition(i),s=a.height<a.width?a.height:a.width,l={font:Math.round(.058*s*100)/100*1*r.implicitFontScale+"px "+r.fontFamily,color:fe.toRGBA(r.fontColor,r.fontOpacity),backgroundColor:fe.toRGBA(r.backgroundColor,r.backgroundOpacity),textShadow:r.getTextShadow()};!function(){for(var n,r,s=0;s<t.length;s++)r=t[s],n=new qe(e,r,l),i.appendChild(n.div),Oe(0,n,a,o),r.displayState=n.div,o.push(Se.getSimpleBoxPosition(n))}()}else for(var u=0;u<t.length;u++)i.appendChild(t[u].displayState)}(window,e,this._textDisplayEl,this._textStyle)},s._addTextTrackOffOption=function(){var e=this._getTextTracks();e&&e.length&&this._tracks.push(new Ye({active:!1,kind:Ye.KIND.SUBTITLES,label:"Off",language:Bn}))},s._setDefaultTracks=function(){var e=this.getActiveTracks(),t=this._getTextTracks().find((function(e){return e.default})),n=this.config.playback,r=this._getTextTracks().find((function(e){return Ye.langComparer(Bn,e.language)})),i=this._getLanguage(this._getTextTracks(),n.textLanguage,t),o=this._playbackAttributesState.textLanguage&&this._playbackAttributesState.textLanguage!==Bn?this._playbackAttributesState.textLanguage:i,a=this._playbackAttributesState.audioLanguage||this._getLanguage(this._getAudioTracks(),n.audioLanguage,e.audio);o===n.textLanguage?this._setDefaultTrack(this._getTextTracks(),o,r,n.additionalTextLanguage):this._setDefaultTrack(this._getTextTracks(),o,r),a===n.audioLanguage?this._setDefaultTrack(this._getAudioTracks(),a,e.audio,n.additionalAudioLanguage):this._setDefaultTrack(this._getAudioTracks(),a,e.audio),this._setDefaultVideoTrack()},s._getLanguage=function(e,t,n){var r=t;if("auto"===r){var i=e.find((function(e){return re.langComparer(Y.language,e.language)}));i?r=i.language:n&&n.language!==Bn?r=n.language:e&&e.length>0&&(r=e[0].language)}return r},s._setDefaultTrack=function(e,t,n,r){var i=this,o=function(e){i.selectTrack(e),i._markActiveTrack(e)},a=e.find((function(e){return re.langComparer(t,e.language,r,!0)}));if(a)o(a);else{var s=e.find((function(e){return re.langComparer(t,e.language,r,!1)}));s?o(s):n&&!n.active&&this.selectTrack(n)}},s._setDefaultVideoTrack=function(){var e=this,t=this._getVideoTracks().sort((function(e,t){return t.bandwidth-e.bandwidth})),n=t.find((function(t){var n;return t.label&&t.label===(null==(n=e._playbackAttributesState.videoTrack)?void 0:n.label)}));n||(n=t.find((function(t){var n;return t.height&&t.height===(null==(n=e._playbackAttributesState.videoTrack)?void 0:n.height)}))),n&&this.selectTrack(n)},s._maybeSetTracksLabels=function(){var e=this._config.customLabels;if(e)for(var t in e){if(!Object.prototype.hasOwnProperty.call(e,t))return;switch(t){case"qualities":this._setTracksCustomLabels(this._getVideoTracks(),e[t]);break;case"audio":this._setTracksCustomLabels(this._getAudioTracks(),e[t]);break;case"captions":this._setTracksCustomLabels(this._getTextTracks(),e[t])}}},s._setTracksCustomLabels=function(e,t){e.forEach((function(e){var n=t(N.copyDeep(e));n&&(e.label=n)}))},i=r,a=[{key:"_defaultConfig",get:function(){return N.copyDeep(st)}}],(o=[{key:"videoHeight",get:function(){return this._engine?this._engine.videoHeight:null}},{key:"videoWidth",get:function(){return this._engine?this._engine.videoWidth:null}},{key:"buffered",get:function(){return this._engine?this._engine.buffered:null}},{key:"stats",get:function(){var e={targetBuffer:NaN,availableBuffer:NaN};return this._engine&&(e.targetBuffer=this._engine.targetBuffer,e.availableBuffer=this._engine.availableBuffer),e}},{key:"currentTime",set:function(e){this._playbackMiddleware.setCurrentTime(e,this._setCurrentTime.bind(this))},get:function(){return this._engine?this._engine.currentTime:null}},{key:"duration",get:function(){return this._engine?this._engine.duration:null}},{key:"liveDuration",get:function(){return this._engine?this._engine.liveDuration:null}},{key:"volume",set:function(e){if(this._engine&&(R.isFloat(e)||0===e||1===e)){var t=e;t<0&&(t=0),t>1&&(t=1),this._engine.volume=t}},get:function(){return this._engine?this._engine.volume:null}},{key:"paused",get:function(){return this._engine?this._engine.paused:null}},{key:"seeking",get:function(){return this._engine?this._engine.seeking:null}},{key:"playsinline",set:function(e){this._engine&&(this._engine.playsinline=e)},get:function(){return this._engine?this._engine.playsinline:null}},{key:"muted",set:function(e){this._engine&&(this._engine.muted=e,this.dispatchEvent(new g(V.MUTE_CHANGE,{mute:e})),!1===e&&(this._fallbackToMutedAutoPlay=e))},get:function(){return this._engine?this._engine.muted:null}},{key:"src",get:function(){return this._engine?this._engine.src:null}},{key:"dimensions",set:function(e){var t=this._getTargetElement();if(!e||N.isEmptyObject(e))this._aspectRatio=null,t.style.width=null,t.style.height=null;else{var n=N.mergeDeep(this.dimensions,e),r=n.height,i=n.width;t.style.width="number"==typeof i?i+"px":i,t.style.height="number"==typeof r?r+"px":r,this._calcRatio(t,e)}},get:function(){return{width:this._el.clientWidth,height:this._el.clientHeight}}},{key:"poster",get:function(){return this._posterManager.src}},{key:"playbackRate",set:function(e){this._engine&&(this._engine.playbackRate=e)},get:function(){return this._engine?this._engine.playbackRate:null}},{key:"playbackRates",get:function(){return this._playbackRates?this._playbackRates:this._engine?this._engine.playbackRates:[]}},{key:"defaultPlaybackRate",get:function(){return this._engine?this._engine.defaultPlaybackRate:1}},{key:"engineType",get:function(){return this._engineType}},{key:"streamType",get:function(){return this._streamType}},{key:"env",get:function(){return this._env}},{key:"config",get:function(){return N.mergeDeep({},this._config)}},{key:"sources",get:function(){return N.mergeDeep({},this._sources)}},{key:"hasUserInteracted",get:function(){return this._hasUserInteracted}},{key:"loadingMedia",set:function(e){this._loadingMedia=e}},{key:"crossOrigin",set:function(e){this._engine&&(this._engine.crossOrigin=e)},get:function(){return this._engine?this._engine.crossOrigin:null}},{key:"ended",get:function(){return this._engine?this._engine.ended:null}},{key:"playbackMiddleware",get:function(){return this._playbackMiddleware}},{key:"posterManager",get:function(){return this._posterManager}},{key:"textDisplaySetting",get:function(){return N.copyDeep(this._textDisplaySettings)}},{key:"textStyle",set:function(e){if(!(e instanceof fe))throw new Error("Style must be instance of TextStyle");var t=W.getElementBySelector("."+this._playerId+".playkit-subtitles-style");t||(t=W.createElement("style"),W.addClassName(t,this._playerId),W.addClassName(t,"playkit-subtitles-style"),W.appendChild(document.head,t));for(var n=t.sheet;n.cssRules.length;)n.deleteRule(0);try{this._textStyle=e,this._config.text.useNativeTextTrack?n.insertRule("#"+this._playerId+" video.playkit-engine::cue { "+e.toCSS()+" }",0):this._engine&&(this._engine.resetAllCues(),this._externalCaptionsHandler.resetAllCues(),this._updateTextDisplay(this._activeTextCues)),this.dispatchEvent(new g(V.TEXT_STYLE_CHANGED))}catch(e){r._logger.error(e.message)}},get:function(){return this._textStyle.clone()}},{key:"Event",get:function(){return G}},{key:"TextStyle",get:function(){return fe}},{key:"State",get:function(){return J}},{key:"Track",get:function(){return Ze}},{key:"LogLevelType",get:function(){return y}},{key:"LogLevel",get:function(){return m}},{key:"AbrMode",get:function(){return tt}},{key:"MediaType",get:function(){return et}},{key:"StreamType",get:function(){return Xe}},{key:"EngineType",get:function(){return Je}},{key:"CorsType",get:function(){return nt}},{key:"AdBreakType",get:function(){return an}},{key:"AdTagType",get:function(){return sn}},{key:"Error",get:function(){return B}}])&&In(i.prototype,o),a&&In(i,a),r}(T);Pn(Mn,"_logger",x("Player"));var Rn=function(){function e(e){this._name=e.getName(),this._getEngineDecorator=e.getEngineDecorator.bind(e)}var t=e.prototype;return t.getEngineDecorator=function(e,t){return this._getEngineDecorator(e,t)},t.getName=function(){return this._name},e}(),Ln={HLS:["application/x-mpegurl","application/vnd.apple.mpegurl"],DASH:["application/dash+xml"],PROGRESSIVE:["video/mp4"],SMOOTH_STREAMING:["application/vnd.ms-sstr+xml"]},Nn="0.82.2",zn="@playkit-js/playkit-js";function Wn(e){return new Mn(e||{})}var jn=Mn.getCapabilities,Fn=Mn.setCapabilities;t.default=Wn}])},42:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},6298:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(559),i=n.n(r),o=n(3476),a=n.n(o)()(i());a.push([e.id,".Button__button___NM3Vl{display:flex;justify-content:center;align-items:center;flex-wrap:nowrap;font-weight:700;border:1px solid rgba(0,0,0,0);border-radius:4px;cursor:pointer}.Button__button___NM3Vl.Button__primary___vkWyL{background-color:var(--playkit-primary-color);color:var(--playkit-primary-text-contrast-color)}.Button__button___NM3Vl.Button__primary___vkWyL:not(.Button__disabled___j4KjS):hover{background-color:var(--playkit-primary-darker-color)}.Button__button___NM3Vl.Button__primary___vkWyL:not(.Button__disabled___j4KjS):focus{background-color:var(--playkit-primary-darker-color)}.Button__button___NM3Vl.Button__danger___lCKPq{background-color:var(--playkit-danger-color);color:var(--playkit-danger-text-contrast-color)}.Button__button___NM3Vl.Button__danger___lCKPq:not(.Button__disabled___j4KjS):hover{background-color:var(--playkit-danger-darker-color)}.Button__button___NM3Vl.Button__danger___lCKPq:not(.Button__disabled___j4KjS):focus{background-color:var(--playkit-danger-brighter-color)}.Button__button___NM3Vl.Button__translucent___nSc5h{background-color:rgba(0,0,0,.6);color:#fff}.Button__button___NM3Vl.Button__borderless___sov7o{background-color:rgba(0,0,0,0);color:var(--playkit-tone-1-color)}.Button__button___NM3Vl.Button__borderless___sov7o:not(.Button__disabled___j4KjS):hover{background-color:var(--playkit-tone-4-color)}.Button__button___NM3Vl.Button__borderless___sov7o:not(.Button__disabled___j4KjS):focus{background-color:var(--playkit-tone-6-color)}.Button__button___NM3Vl.Button__borderlessTranslucent___L8tFt{background-color:rgba(0,0,0,0);color:var(--playkit-tone-1-color)}.Button__button___NM3Vl.Button__borderlessTranslucent___L8tFt:not(.Button__disabled___j4KjS):hover{background-color:rgba(0,0,0,.7)}.Button__button___NM3Vl.Button__borderlessTranslucent___L8tFt:not(.Button__disabled___j4KjS):focus{background-color:rgba(0,0,0,.4)}.Button__button___NM3Vl.Button__secondary___ChhYF{background-color:var(--playkit-tone-6-color);color:var(--playkit-primary-text-contrast-color)}.Button__button___NM3Vl.Button__secondary___ChhYF:not(.Button__disabled___j4KjS):hover{background-color:var(--playkit-tone-5-color)}.Button__button___NM3Vl.Button__secondary___ChhYF:not(.Button__disabled___j4KjS):focus{background-color:var(--playkit-tone-5-color)}.Button__button___NM3Vl.Button__small____SSTu{height:24px;font-size:13px;line-height:16px;padding:0 4px}.Button__button___NM3Vl.Button__small____SSTu.Button__withIcon___c3vxV{padding-right:8px}.Button__button___NM3Vl.Button__small____SSTu.Button__withIcon___c3vxV>span{margin-left:2px}.Button__button___NM3Vl.Button__small____SSTu.Button__iconOnly___dISNi{padding:0 3px}.Button__button___NM3Vl.Button__medium___psqY1{height:32px;font-size:14px;line-height:17px;padding:0 8px}.Button__button___NM3Vl.Button__medium___psqY1.Button__withIcon___c3vxV{padding-right:12px}.Button__button___NM3Vl.Button__medium___psqY1.Button__withIcon___c3vxV>span{margin-left:4px}.Button__button___NM3Vl.Button__medium___psqY1.Button__iconOnly___dISNi{padding:0 3px}.Button__button___NM3Vl.Button__large___ftsNW{height:40px;font-size:16px;line-height:19px;padding:0 16px}.Button__button___NM3Vl.Button__large___ftsNW.Button__withIcon___c3vxV{padding-left:12px}.Button__button___NM3Vl.Button__large___ftsNW.Button__withIcon___c3vxV>span{margin-left:4px}.Button__button___NM3Vl.Button__large___ftsNW.Button__iconOnly___dISNi{padding:0 3px}.Button__button___NM3Vl.Button__disabled___j4KjS{background-color:rgba(0,0,0,0);color:var(--playkit-tone-4-color);border-color:var(--playkit-tone-4-color);cursor:default}.Button__button___NM3Vl.Button__loading___Q2l_S{cursor:default;pointer-events:none}","",{version:3,sources:["webpack://./../node_modules/@playkit-js/common/dist/components/button/Button.scss","webpack://./../node_modules/@playkit-js/common/dist/components/variables.scss"],names:[],mappings:"AAGA,wBACE,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,gBAAA,CACA,eAAA,CACA,8BAAA,CACA,iBCTY,CDUZ,cAAA,CACA,gDACE,6CAAA,CACA,gDAAA,CAEE,qFACE,oDAAA,CAEF,qFACE,oDAAA,CAIN,+CACE,4CAAA,CACA,+CAAA,CAEE,oFACE,mDAAA,CAEF,oFACE,qDAAA,CAIN,oDACE,+BAAA,CACA,UCjCI,CDmCN,mDACE,8BAAA,CACA,iCAAA,CAEE,wFACE,4CAAA,CAEF,wFACE,4CAAA,CAIN,8DACE,8BAAA,CACA,iCAAA,CAEE,mGACE,+BAAA,CAEF,mGACE,+BAAA,CAIN,kDACE,4CAAA,CACA,gDAAA,CAEE,uFACE,4CAAA,CAEF,uFACE,4CAAA,CAIN,8CACE,WAAA,CACA,cAAA,CACA,gBAAA,CACA,aAAA,CACA,uEACE,iBAAA,CACA,4EACE,eAAA,CAGJ,uEACE,aAAA,CAGJ,+CACE,WAAA,CACA,cAAA,CACA,gBAAA,CACA,aAAA,CACA,wEACE,kBAAA,CACA,6EACE,eAAA,CAGJ,wEACE,aAAA,CAGJ,8CACE,WAAA,CACA,cAAA,CACA,gBAAA,CACA,cAAA,CACA,uEACE,iBAAA,CACA,4EACE,eAAA,CAGJ,uEACE,aAAA,CAGJ,iDACE,8BAAA,CACA,iCAAA,CACA,wCAAA,CACA,cAAA,CAEF,gDACE,cAAA,CACA,mBAAA",sourcesContent:["@import '../variables.scss';\n\n// https://www.figma.com/file/GYMv1jsthckOnKmCrdQJY3/%E2%8F%AF-Player-v7-(Guidelines)?node-id=21%3A1943&t=ywdMo875C6kzd7pN-0\n.button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: nowrap;\n  font-weight: 700;\n  border: 1px solid transparent;\n  border-radius: $roundness-1;\n  cursor: pointer;\n  &.primary {\n    background-color: var(--playkit-primary-color);\n    color: var(--playkit-primary-text-contrast-color);\n    &:not(.disabled) {\n      &:hover {\n        background-color: var(--playkit-primary-darker-color);\n      }\n      &:focus {\n        background-color: var(--playkit-primary-darker-color);\n      }\n    }\n  }\n  &.danger {\n    background-color: var(--playkit-danger-color);\n    color: var(--playkit-danger-text-contrast-color);\n    &:not(.disabled) {\n      &:hover {\n        background-color: var(--playkit-danger-darker-color);\n      }\n      &:focus {\n        background-color: var(--playkit-danger-brighter-color);\n      }\n    }\n  }\n  &.translucent {\n    background-color: rgba(0, 0, 0, 0.6);\n    color: $white;\n  }\n  &.borderless {\n    background-color: transparent;\n    color: var(--playkit-tone-1-color);\n    &:not(.disabled) {\n      &:hover {\n        background-color: var(--playkit-tone-4-color);\n      }\n      &:focus {\n        background-color: var(--playkit-tone-6-color);\n      }\n    }\n  }\n  &.borderlessTranslucent {\n    background-color: transparent;\n    color: var(--playkit-tone-1-color);\n    &:not(.disabled) {\n      &:hover {\n        background-color: rgba(0, 0, 0, 0.7);\n      }\n      &:focus {\n        background-color: rgba(0, 0, 0, 0.4);\n      }\n    }\n  }\n  &.secondary {\n    background-color: var(--playkit-tone-6-color);\n    color: var(--playkit-primary-text-contrast-color);\n    &:not(.disabled) {\n      &:hover {\n        background-color: var(--playkit-tone-5-color);\n      }\n      &:focus {\n        background-color: var(--playkit-tone-5-color);\n      }\n    }\n  }\n  &.small {\n    height: 24px;\n    font-size: 13px;\n    line-height: 16px;\n    padding: 0 4px;\n    &.withIcon {\n      padding-right: 8px;\n      > span {\n        margin-left: 2px;\n      }\n    }\n    &.iconOnly {\n      padding: 0 3px;\n    }\n  }\n  &.medium {\n    height: 32px;\n    font-size: 14px;\n    line-height: 17px;\n    padding: 0 8px;\n    &.withIcon {\n      padding-right: 12px;\n      > span {\n        margin-left: 4px;\n      }\n    }\n    &.iconOnly {\n      padding: 0 3px;\n    }\n  }\n  &.large {\n    height: 40px;\n    font-size: 16px;\n    line-height: 19px;\n    padding: 0 16px;\n    &.withIcon {\n      padding-left: 12px;\n      > span {\n        margin-left: 4px;\n      }\n    }\n    &.iconOnly {\n      padding: 0 3px;\n    }\n  }\n  &.disabled {\n    background-color: transparent;\n    color: var(--playkit-tone-4-color);\n    border-color: var(--playkit-tone-4-color);\n    cursor: default;\n  }\n  &.loading {\n    cursor: default;\n    pointer-events: none;\n  }\n}\n","// border radius\n$roundness-1: 4px;\n$roundness-2: 8px;\n\n// colors\n$white: #ffffff;\n"],sourceRoot:""}]),a.locals={button:"Button__button___NM3Vl",primary:"Button__primary___vkWyL",disabled:"Button__disabled___j4KjS",danger:"Button__danger___lCKPq",translucent:"Button__translucent___nSc5h",borderless:"Button__borderless___sov7o",borderlessTranslucent:"Button__borderlessTranslucent___L8tFt",secondary:"Button__secondary___ChhYF",small:"Button__small____SSTu",withIcon:"Button__withIcon___c3vxV",iconOnly:"Button__iconOnly___dISNi",medium:"Button__medium___psqY1",large:"Button__large___ftsNW",loading:"Button__loading___Q2l_S"};const s=a},6469:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(559),i=n.n(r),o=n(3476),a=n.n(o)()(i());a.push([e.id,".icon__iconWrapper___O5uqn.icon__small___IddLg{width:16px;height:16px}.icon__iconWrapper___O5uqn.icon__medium___llFxB{width:24px;height:24px}.icon__iconWrapper___O5uqn.icon__large___Q96VN{width:32px;height:32px}.icon__iconWrapper___O5uqn>svg{width:100%;height:100%}","",{version:3,sources:["webpack://./../node_modules/@playkit-js/common/dist/icon/icon.scss"],names:[],mappings:"AACE,+CACE,UAAA,CACA,WAAA,CAEF,gDACE,UAAA,CACA,WAAA,CAEF,+CACE,UAAA,CACA,WAAA,CAEF,+BACE,UAAA,CACA,WAAA",sourcesContent:[".iconWrapper {\n  &.small {\n    width: 16px;\n    height: 16px;\n  }\n  &.medium {\n    width: 24px;\n    height: 24px;\n  }\n  &.large {\n    width: 32px;\n    height: 32px;\n  }\n  > svg {\n    width: 100%;\n    height: 100%;\n  }\n}\n"],sourceRoot:""}]),a.locals={iconWrapper:"icon__iconWrapper___O5uqn",small:"icon__small___IddLg",medium:"icon__medium___llFxB",large:"icon__large___Q96VN"};const s=a},5726:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(559),i=n.n(r),o=n(3476),a=n.n(o)()(i());a.push([e.id,".spinner__spinner___NHbzR{animation:spinner__spinner-animation___FVrgH 1s linear infinite}@keyframes spinner__spinner-animation___FVrgH{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}","",{version:3,sources:["webpack://./../node_modules/@playkit-js/common/dist/icon/icons/spinner.scss"],names:[],mappings:"AAAA,0BACE,+DAAA,CAEF,8CACE,GACE,sBAAA,CAEF,KACE,wBAAA,CAAA",sourcesContent:[".spinner {\n  animation: spinner-animation 1s linear infinite;\n}\n@keyframes spinner-animation {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n"],sourceRoot:""}]),a.locals={spinner:"spinner__spinner___NHbzR","spinner-animation":"spinner__spinner-animation___FVrgH",spinnerAnimation:"spinner__spinner-animation___FVrgH"};const s=a},7269:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(559),i=n.n(r),o=n(3476),a=n.n(o)()(i());a.push([e.id,".ivq-bottom-bar__ivqBottomBar___OgD7M{position:relative;height:100%;max-height:60px;padding:0 16px 4px;flex-shrink:0}.ivq-bottom-bar__ivqBottomBar___OgD7M>.playkit-seek-bar{pointer-events:none}.ivq-bottom-bar__ivqBottomBar___OgD7M .ivq-bottom-bar__ivqNavigationWrapper___sPiXy{width:100%;height:32px;display:flex;justify-content:center;align-items:center;margin-top:-2px}.ivq-bottom-bar__ivqBottomBar___OgD7M .ivq-bottom-bar__ivqNavigationWrapper___sPiXy .ivq-bottom-bar__navigationButton___mhHQ4{background:rgba(0,0,0,0);padding:0;margin:0 12px;border:none;width:20px;height:32px;text-align:center}.ivq-bottom-bar__ivqBottomBar___OgD7M .ivq-bottom-bar__ivqNavigationWrapper___sPiXy .ivq-bottom-bar__navigationButton___mhHQ4:hover:not(.ivq-bottom-bar__disabled___UIHkq){cursor:pointer}.ivq-bottom-bar__ivqBottomBar___OgD7M .ivq-bottom-bar__ivqNavigationWrapper___sPiXy .ivq-bottom-bar__navigationButton___mhHQ4.ivq-bottom-bar__disabled___UIHkq{opacity:.4}.ivq-bottom-bar__ivqBottomBar___OgD7M .ivq-bottom-bar__ivqNavigationWrapper___sPiXy .ivq-bottom-bar__questionIndex___HSjdH{padding-bottom:1px;margin-right:8px;line-height:18px;font-size:14px;text-align:center;color:#fff}","",{version:3,sources:["webpack://./components/ivq-bottom-bar/ivq-bottom-bar.scss","webpack://./theme.scss"],names:[],mappings:"AAEA,sCACE,iBAAA,CACA,WAAA,CACA,eCqJkB,CDpJlB,kBAAA,CACA,aAAA,CAEA,wDACE,mBAAA,CAGF,oFACE,UAAA,CACA,WAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,eAAA,CACA,8HACE,wBAAA,CACA,SAAA,CACA,aAAA,CACA,WAAA,CACA,UAAA,CACA,WAAA,CACA,iBAAA,CACA,2KACE,cAAA,CAEF,+JACE,UAAA,CAGJ,2HACE,kBAAA,CACA,gBAAA,CACA,gBAAA,CACA,cAAA,CACA,iBAAA,CACA,UAAA",sourcesContent:["@import '../../theme.scss';\n\n.ivqBottomBar {\n  position: relative;\n  height: 100%;\n  max-height: $bottom-bar-height;\n  padding: 0 16px 4px;\n  flex-shrink: 0;\n\n  > :global(.playkit-seek-bar) {\n    pointer-events: none;\n  }\n\n  .ivqNavigationWrapper {\n    width: 100%;\n    height: 32px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-top: -2px;\n    .navigationButton {\n      background: transparent;\n      padding: 0;\n      margin: 0 12px;\n      border: none;\n      width: 20px;\n      height: 32px;\n      text-align: center;\n      &:hover:not(.disabled) {\n        cursor: pointer;\n      }\n      &.disabled {\n        opacity: 0.4;\n      }\n    }\n    .questionIndex {\n      padding-bottom: 1px;\n      margin-right: 8px;\n      line-height: 18px;\n      font-size: 14px;\n      text-align: center;\n      color: #ffffff;\n    }\n  }\n}\n","@import '~@playkit-js/playkit-js-ui';\n\n$roundness-1: 4px;\n\n$button-background: rgba(255, 255, 255, 0.12);\n$button-background-active: rgba(255, 255, 255, 0.2);\n$selection-border-width: 2px;\n\n@mixin ivq-text {\n  font-style: normal;\n  line-height: normal;\n  font-size: 18px;\n  color: #ffffff;\n  overflow: auto;\n}\n\n@mixin ivq-question-content {\n  flex-shrink: 0;\n  font-weight: bold;\n  line-height: normal;\n  overflow-wrap: break-word;\n  &:focus {\n    outline: none !important; // overwride player styles\n  }\n}\n\n@mixin ivq-button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 4px 8px;\n  height: 32px;\n  border-radius: $roundness-1;\n  border-width: 1px;\n  border-color: transparent;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 14px;\n  line-height: 17px;\n  text-align: left;\n  color: #ffffff;\n  box-sizing: border-box;\n  &:hover:not(.disabled) {\n    cursor: pointer;\n  }\n}\n\n@mixin ivq-primary-button {\n  @include ivq-button;\n  color: $primary-text-contrast-color;\n  background: $primary-color;\n  &:hover:not(.disabled) {\n    background: $primary-darker-color;\n  }\n  &:focus:not(.disabled) {\n    background: $primary-brighter-color;\n  }\n  &.disabled {\n    border-width: 1px;\n    border-style: solid;\n    border-color: $tone-4-color;\n    color: $tone-4-color;\n    background: transparent;\n  }\n}\n\n@mixin ivq-secondary-button {\n  @include ivq-button;\n  color: $tone-1-color;\n  background: transparent;\n  &:hover:not(.disabled) {\n    background: $tone-4-color;\n  }\n  &:focus:not(.disabled) {\n    background: $tone-6-color;\n  }\n  &.disabled {\n    color: $tone-4-color;\n  }\n}\n\n@mixin optional-answer {\n  display: flex;\n  flex-shrink: 0;\n  height: 32px;\n  align-items: center;\n  padding: 5px 16px;\n  margin: 4px;\n\n  background: $button-background;\n  border-style: solid;\n  border-width: $selection-border-width;\n  border-radius: $roundness-1;\n  border-color: transparent;\n  font-size: 16px;\n  line-height: normal;\n  color: #ffffff;\n  cursor: pointer;\n  box-sizing: border-box;\n  outline-offset: -1px;\n  &:hover:not(.disabled) {\n    background: $button-background-active;\n  }\n  &.active {\n    border-color: $tone-1-color;\n    background: $button-background-active;\n  }\n  &.disabled {\n    cursor: default;\n  }\n}\n\n@mixin without-scrollbar {\n  /* Hide scrollbar for Chrome, Safari and Opera */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  /* Hide scrollbar for IE, Edge and Firefox */\n  -ms-overflow-style: none; /* IE and Edge */\n  scrollbar-width: none; /* Firefox */\n}\n\n@mixin ivq-scrollbar {\n  &::-webkit-scrollbar {\n    width: 4px;\n  }\n  &::-webkit-scrollbar-track {\n    background: rgba(33, 33, 33, 0.9);\n  }\n  &::-webkit-scrollbar-thumb {\n    border-radius: 3px;\n    background-color: rgba(255, 255, 255, 0.3);\n  }\n}\n\n@mixin outline-fix {\n  &:focus {\n    outline: none !important; // overwrite player !important styles\n  }\n}\n\n// solution taken from bootstrap lib (https://github.com/twbs/bootstrap/blob/v5.0.2/site/content/docs/5.0/helpers/visually-hidden.md)\n@mixin visually-hidden() {\n  position: absolute !important;\n  width: 1px !important;\n  height: 1px !important;\n  padding: 0 !important;\n  margin: -1px !important;\n  overflow: hidden !important;\n  clip: rect(0, 0, 0, 0) !important;\n  white-space: nowrap !important;\n  border: 0 !important;\n}\n\n$bottom-bar-height: 60px;\n\n@mixin reset-css {\n  div,\n  span,\n  applet,\n  object,\n  iframe,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  abbr,\n  acronym,\n  address,\n  big,\n  cite,\n  code,\n  del,\n  dfn,\n  em,\n  img,\n  ins,\n  kbd,\n  q,\n  s,\n  samp,\n  small,\n  strike,\n  strong,\n  sub,\n  sup,\n  tt,\n  var,\n  b,\n  u,\n  i,\n  center,\n  dl,\n  dt,\n  dd,\n  ol,\n  ul,\n  li,\n  fieldset,\n  form,\n  label,\n  legend,\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  figcaption,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  output,\n  ruby,\n  section,\n  summary,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section {\n    display: block;\n  }\n  ol,\n  ul {\n    list-style: none;\n  }\n  blockquote,\n  q {\n    quotes: none;\n  }\n  blockquote:before,\n  blockquote:after,\n  q:before,\n  q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n}\n"],sourceRoot:""}]),a.locals={ivqBottomBar:"ivq-bottom-bar__ivqBottomBar___OgD7M",ivqNavigationWrapper:"ivq-bottom-bar__ivqNavigationWrapper___sPiXy",navigationButton:"ivq-bottom-bar__navigationButton___mhHQ4",disabled:"ivq-bottom-bar__disabled___UIHkq",questionIndex:"ivq-bottom-bar__questionIndex___HSjdH"};const s=a},3688:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(559),i=n.n(r),o=n(3476),a=n.n(o)()(i());a.push([e.id,'.ivq div,.ivq span,.ivq applet,.ivq object,.ivq iframe,.ivq h1,.ivq h2,.ivq h3,.ivq h4,.ivq h5,.ivq h6,.ivq p,.ivq blockquote,.ivq pre,.ivq a,.ivq abbr,.ivq acronym,.ivq address,.ivq big,.ivq cite,.ivq code,.ivq del,.ivq dfn,.ivq em,.ivq img,.ivq ins,.ivq kbd,.ivq q,.ivq s,.ivq samp,.ivq small,.ivq strike,.ivq strong,.ivq sub,.ivq sup,.ivq tt,.ivq var,.ivq b,.ivq u,.ivq i,.ivq center,.ivq dl,.ivq dt,.ivq dd,.ivq ol,.ivq ul,.ivq li,.ivq fieldset,.ivq form,.ivq label,.ivq legend,.ivq table,.ivq caption,.ivq tbody,.ivq tfoot,.ivq thead,.ivq tr,.ivq th,.ivq td,.ivq article,.ivq aside,.ivq canvas,.ivq details,.ivq embed,.ivq figure,.ivq figcaption,.ivq footer,.ivq header,.ivq hgroup,.ivq menu,.ivq nav,.ivq output,.ivq ruby,.ivq section,.ivq summary,.ivq time,.ivq mark,.ivq audio,.ivq video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}.ivq article,.ivq aside,.ivq details,.ivq figcaption,.ivq figure,.ivq footer,.ivq header,.ivq hgroup,.ivq menu,.ivq nav,.ivq section{display:block}.ivq ol,.ivq ul{list-style:none}.ivq blockquote,.ivq q{quotes:none}.ivq blockquote:before,.ivq blockquote:after,.ivq q:before,.ivq q:after{content:"";content:none}.ivq table{border-collapse:collapse;border-spacing:0}.ivq-overlay__ivqOverlay___Xq8Nh{z-index:1;position:absolute;width:100%;height:100%;top:0;left:0}.ivq-overlay__ivqOverlay___Xq8Nh>.playkit-overlay .playkit-overlay-contents{display:flex;flex-direction:column;padding:0 !important;overflow:hidden}.ivq-overlay__ivqOverlay___Xq8Nh :focus{outline:2px solid var(--playkit-tab-focus-color) !important;outline-offset:2px !important;box-shadow:0 0 0 2px #fff,0 0 0 4px var(--playkit-tab-focus-color);border-radius:4px}.playkit-player.has-ivq-plugin-overlay .playkit-playlist-next-screen-overlay{display:none}',"",{version:3,sources:["webpack://./theme.scss","webpack://./components/ivq-overlay/ivq-overlay.scss"],names:[],mappings:"AA6JE,4xBA+EE,QAAA,CACA,SAAA,CACA,QAAA,CACA,cAAA,CACA,YAAA,CACA,uBAAA,CAGF,qIAWE,aAAA,CAEF,gBAEE,eAAA,CAEF,uBAEE,WAAA,CAEF,wEAIE,UAAA,CACA,YAAA,CAEF,WACE,wBAAA,CACA,gBAAA,CC5QJ,iCACE,SAAA,CACA,iBAAA,CACA,UAAA,CACA,WAAA,CACA,KAAA,CACA,MAAA,CACA,4EACE,YAAA,CACA,qBAAA,CACA,oBAAA,CACA,eAAA,CAEF,wCACE,2DAAA,CACA,6BAAA,CACA,kEAAA,CACA,iBAAA,CAIJ,6EACE,YAAA",sourcesContent:["@import '~@playkit-js/playkit-js-ui';\n\n$roundness-1: 4px;\n\n$button-background: rgba(255, 255, 255, 0.12);\n$button-background-active: rgba(255, 255, 255, 0.2);\n$selection-border-width: 2px;\n\n@mixin ivq-text {\n  font-style: normal;\n  line-height: normal;\n  font-size: 18px;\n  color: #ffffff;\n  overflow: auto;\n}\n\n@mixin ivq-question-content {\n  flex-shrink: 0;\n  font-weight: bold;\n  line-height: normal;\n  overflow-wrap: break-word;\n  &:focus {\n    outline: none !important; // overwride player styles\n  }\n}\n\n@mixin ivq-button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 4px 8px;\n  height: 32px;\n  border-radius: $roundness-1;\n  border-width: 1px;\n  border-color: transparent;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 14px;\n  line-height: 17px;\n  text-align: left;\n  color: #ffffff;\n  box-sizing: border-box;\n  &:hover:not(.disabled) {\n    cursor: pointer;\n  }\n}\n\n@mixin ivq-primary-button {\n  @include ivq-button;\n  color: $primary-text-contrast-color;\n  background: $primary-color;\n  &:hover:not(.disabled) {\n    background: $primary-darker-color;\n  }\n  &:focus:not(.disabled) {\n    background: $primary-brighter-color;\n  }\n  &.disabled {\n    border-width: 1px;\n    border-style: solid;\n    border-color: $tone-4-color;\n    color: $tone-4-color;\n    background: transparent;\n  }\n}\n\n@mixin ivq-secondary-button {\n  @include ivq-button;\n  color: $tone-1-color;\n  background: transparent;\n  &:hover:not(.disabled) {\n    background: $tone-4-color;\n  }\n  &:focus:not(.disabled) {\n    background: $tone-6-color;\n  }\n  &.disabled {\n    color: $tone-4-color;\n  }\n}\n\n@mixin optional-answer {\n  display: flex;\n  flex-shrink: 0;\n  height: 32px;\n  align-items: center;\n  padding: 5px 16px;\n  margin: 4px;\n\n  background: $button-background;\n  border-style: solid;\n  border-width: $selection-border-width;\n  border-radius: $roundness-1;\n  border-color: transparent;\n  font-size: 16px;\n  line-height: normal;\n  color: #ffffff;\n  cursor: pointer;\n  box-sizing: border-box;\n  outline-offset: -1px;\n  &:hover:not(.disabled) {\n    background: $button-background-active;\n  }\n  &.active {\n    border-color: $tone-1-color;\n    background: $button-background-active;\n  }\n  &.disabled {\n    cursor: default;\n  }\n}\n\n@mixin without-scrollbar {\n  /* Hide scrollbar for Chrome, Safari and Opera */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  /* Hide scrollbar for IE, Edge and Firefox */\n  -ms-overflow-style: none; /* IE and Edge */\n  scrollbar-width: none; /* Firefox */\n}\n\n@mixin ivq-scrollbar {\n  &::-webkit-scrollbar {\n    width: 4px;\n  }\n  &::-webkit-scrollbar-track {\n    background: rgba(33, 33, 33, 0.9);\n  }\n  &::-webkit-scrollbar-thumb {\n    border-radius: 3px;\n    background-color: rgba(255, 255, 255, 0.3);\n  }\n}\n\n@mixin outline-fix {\n  &:focus {\n    outline: none !important; // overwrite player !important styles\n  }\n}\n\n// solution taken from bootstrap lib (https://github.com/twbs/bootstrap/blob/v5.0.2/site/content/docs/5.0/helpers/visually-hidden.md)\n@mixin visually-hidden() {\n  position: absolute !important;\n  width: 1px !important;\n  height: 1px !important;\n  padding: 0 !important;\n  margin: -1px !important;\n  overflow: hidden !important;\n  clip: rect(0, 0, 0, 0) !important;\n  white-space: nowrap !important;\n  border: 0 !important;\n}\n\n$bottom-bar-height: 60px;\n\n@mixin reset-css {\n  div,\n  span,\n  applet,\n  object,\n  iframe,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  abbr,\n  acronym,\n  address,\n  big,\n  cite,\n  code,\n  del,\n  dfn,\n  em,\n  img,\n  ins,\n  kbd,\n  q,\n  s,\n  samp,\n  small,\n  strike,\n  strong,\n  sub,\n  sup,\n  tt,\n  var,\n  b,\n  u,\n  i,\n  center,\n  dl,\n  dt,\n  dd,\n  ol,\n  ul,\n  li,\n  fieldset,\n  form,\n  label,\n  legend,\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  figcaption,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  output,\n  ruby,\n  section,\n  summary,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section {\n    display: block;\n  }\n  ol,\n  ul {\n    list-style: none;\n  }\n  blockquote,\n  q {\n    quotes: none;\n  }\n  blockquote:before,\n  blockquote:after,\n  q:before,\n  q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n}\n","@import '../../theme.scss';\n\n:global(.ivq) {\n  @include reset-css();\n}\n\n.ivqOverlay {\n  z-index: 1;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  > :global(.playkit-overlay .playkit-overlay-contents) {\n    display: flex;\n    flex-direction: column;\n    padding: 0 !important; // overwrite responsive overlay styles\n    overflow: hidden;\n  }\n  :focus {\n    outline: 2px solid var(--playkit-tab-focus-color) !important;\n    outline-offset: 2px !important;\n    box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px var(--playkit-tab-focus-color);\n    border-radius: 4px;\n  }\n}\n\n:global(.playkit-player.has-ivq-plugin-overlay .playkit-playlist-next-screen-overlay) {\n  display: none;\n}\n"],sourceRoot:""}]),a.locals={ivqOverlay:"ivq-overlay__ivqOverlay___Xq8Nh"};const s=a},5546:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(559),i=n.n(r),o=n(3476),a=n.n(o)()(i());a.push([e.id,".ivq-pupup__popupRoot___QPeBt{position:absolute;display:block;right:0;bottom:0;padding:16px;background:rgba(0,0,0,.7);backdrop-filter:blur(8px);border-radius:4px;font-style:normal;line-height:normal;font-size:18px;color:#fff;overflow:auto;z-index:2}.ivq-pupup__popupRoot___QPeBt.ivq-pupup__submit___FMXFH{width:282px;height:148px}.ivq-pupup__popupRoot___QPeBt.ivq-pupup__completed___JZnvG{width:282px;height:78px}.ivq-pupup__popupRoot___QPeBt.ivq-pupup__almostDone___pAjl7{width:282px;height:114px}.ivq-pupup__popupRoot___QPeBt .ivq-pupup__closeButton___eD0EC{position:absolute;width:32px;height:32px;right:0px;top:0px;border-radius:4px;outline-offset:-1px;cursor:pointer}.ivq-pupup__popupRoot___QPeBt .ivq-pupup__closeButton___eD0EC:hover{background:rgba(0,0,0,.7)}.ivq-pupup__popupRoot___QPeBt .ivq-pupup__title___ULnft{width:100%;font-weight:700;font-size:18px;line-height:20px}.ivq-pupup__popupRoot___QPeBt .ivq-pupup__description___ZNWIT{width:100%;margin-top:8px;font-weight:400;font-size:14px;line-height:18px}.ivq-pupup__popupRoot___QPeBt .ivq-pupup__buttonsWrapper___Wjoje{width:100%;margin-top:16px;display:flex;justify-content:flex-start}.ivq-pupup__popupRoot___QPeBt .ivq-pupup__buttonsWrapper___Wjoje .ivq-pupup__ivqPopupButtons___J_YFr{width:100%}.ivq-pupup__popupRoot___QPeBt .ivq-pupup__buttonsWrapper___Wjoje .ivq-pupup__ivqPopupButtons___J_YFr.ivq-pupup__primaryButton___dMQXc{margin-left:8px}","",{version:3,sources:["webpack://./components/ivq-popup/ivq-pupup.scss","webpack://./theme.scss"],names:[],mappings:"AAEA,8BACE,iBAAA,CACA,aAAA,CACA,OAAA,CACA,QAAA,CACA,YAAA,CACA,yBAAA,CACA,yBAAA,CACA,iBAAA,CCDA,iBAAA,CACA,kBAAA,CACA,cAAA,CACA,UAAA,CACA,aAAA,CDDA,SAAA,CACA,wDACE,WAAA,CACA,YAAA,CAEF,2DACE,WAAA,CACA,WAAA,CAEF,4DACE,WAAA,CACA,YAAA,CAEF,8DACE,iBAAA,CACA,UAAA,CACA,WAAA,CACA,SAAA,CACA,OAAA,CACA,iBAAA,CACA,mBAAA,CACA,cAAA,CACA,oEACE,yBAAA,CAGJ,wDACE,UAAA,CACA,eAAA,CACA,cAAA,CACA,gBAAA,CAEF,8DACE,UAAA,CACA,cAAA,CACA,eAAA,CACA,cAAA,CACA,gBAAA,CAEF,iEACE,UAAA,CACA,eAAA,CACA,YAAA,CACA,0BAAA,CACA,qGACE,UAAA,CACA,sIACE,eAAA",sourcesContent:["@import '../../theme.scss';\n\n.popupRoot {\n  position: absolute;\n  display: block;\n  right: 0;\n  bottom: 0;\n  padding: 16px;\n  background: rgba(0, 0, 0, 0.7);\n  backdrop-filter: blur(8px);\n  border-radius: 4px;\n  @include ivq-text;\n  z-index: 2;\n  &.submit {\n    width: 282px;\n    height: 148px;\n  }\n  &.completed {\n    width: 282px;\n    height: 78px;\n  }\n  &.almostDone {\n    width: 282px;\n    height: 114px;\n  }\n  .closeButton {\n    position: absolute;\n    width: 32px;\n    height: 32px;\n    right: 0px;\n    top: 0px;\n    border-radius: 4px;\n    outline-offset: -1px;\n    cursor: pointer;\n    &:hover {\n      background: rgba(0, 0, 0, 0.7);\n    }\n  }\n  .title {\n    width: 100%;\n    font-weight: 700;\n    font-size: 18px;\n    line-height: 20px;\n  }\n  .description {\n    width: 100%;\n    margin-top: 8px;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 18px;\n  }\n  .buttonsWrapper {\n    width: 100%;\n    margin-top: 16px;\n    display: flex;\n    justify-content: flex-start;\n    .ivqPopupButtons {\n      width: 100%;\n      &.primaryButton {\n        margin-left: 8px;\n      }\n    }\n  }\n}\n","@import '~@playkit-js/playkit-js-ui';\n\n$roundness-1: 4px;\n\n$button-background: rgba(255, 255, 255, 0.12);\n$button-background-active: rgba(255, 255, 255, 0.2);\n$selection-border-width: 2px;\n\n@mixin ivq-text {\n  font-style: normal;\n  line-height: normal;\n  font-size: 18px;\n  color: #ffffff;\n  overflow: auto;\n}\n\n@mixin ivq-question-content {\n  flex-shrink: 0;\n  font-weight: bold;\n  line-height: normal;\n  overflow-wrap: break-word;\n  &:focus {\n    outline: none !important; // overwride player styles\n  }\n}\n\n@mixin ivq-button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 4px 8px;\n  height: 32px;\n  border-radius: $roundness-1;\n  border-width: 1px;\n  border-color: transparent;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 14px;\n  line-height: 17px;\n  text-align: left;\n  color: #ffffff;\n  box-sizing: border-box;\n  &:hover:not(.disabled) {\n    cursor: pointer;\n  }\n}\n\n@mixin ivq-primary-button {\n  @include ivq-button;\n  color: $primary-text-contrast-color;\n  background: $primary-color;\n  &:hover:not(.disabled) {\n    background: $primary-darker-color;\n  }\n  &:focus:not(.disabled) {\n    background: $primary-brighter-color;\n  }\n  &.disabled {\n    border-width: 1px;\n    border-style: solid;\n    border-color: $tone-4-color;\n    color: $tone-4-color;\n    background: transparent;\n  }\n}\n\n@mixin ivq-secondary-button {\n  @include ivq-button;\n  color: $tone-1-color;\n  background: transparent;\n  &:hover:not(.disabled) {\n    background: $tone-4-color;\n  }\n  &:focus:not(.disabled) {\n    background: $tone-6-color;\n  }\n  &.disabled {\n    color: $tone-4-color;\n  }\n}\n\n@mixin optional-answer {\n  display: flex;\n  flex-shrink: 0;\n  height: 32px;\n  align-items: center;\n  padding: 5px 16px;\n  margin: 4px;\n\n  background: $button-background;\n  border-style: solid;\n  border-width: $selection-border-width;\n  border-radius: $roundness-1;\n  border-color: transparent;\n  font-size: 16px;\n  line-height: normal;\n  color: #ffffff;\n  cursor: pointer;\n  box-sizing: border-box;\n  outline-offset: -1px;\n  &:hover:not(.disabled) {\n    background: $button-background-active;\n  }\n  &.active {\n    border-color: $tone-1-color;\n    background: $button-background-active;\n  }\n  &.disabled {\n    cursor: default;\n  }\n}\n\n@mixin without-scrollbar {\n  /* Hide scrollbar for Chrome, Safari and Opera */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  /* Hide scrollbar for IE, Edge and Firefox */\n  -ms-overflow-style: none; /* IE and Edge */\n  scrollbar-width: none; /* Firefox */\n}\n\n@mixin ivq-scrollbar {\n  &::-webkit-scrollbar {\n    width: 4px;\n  }\n  &::-webkit-scrollbar-track {\n    background: rgba(33, 33, 33, 0.9);\n  }\n  &::-webkit-scrollbar-thumb {\n    border-radius: 3px;\n    background-color: rgba(255, 255, 255, 0.3);\n  }\n}\n\n@mixin outline-fix {\n  &:focus {\n    outline: none !important; // overwrite player !important styles\n  }\n}\n\n// solution taken from bootstrap lib (https://github.com/twbs/bootstrap/blob/v5.0.2/site/content/docs/5.0/helpers/visually-hidden.md)\n@mixin visually-hidden() {\n  position: absolute !important;\n  width: 1px !important;\n  height: 1px !important;\n  padding: 0 !important;\n  margin: -1px !important;\n  overflow: hidden !important;\n  clip: rect(0, 0, 0, 0) !important;\n  white-space: nowrap !important;\n  border: 0 !important;\n}\n\n$bottom-bar-height: 60px;\n\n@mixin reset-css {\n  div,\n  span,\n  applet,\n  object,\n  iframe,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  abbr,\n  acronym,\n  address,\n  big,\n  cite,\n  code,\n  del,\n  dfn,\n  em,\n  img,\n  ins,\n  kbd,\n  q,\n  s,\n  samp,\n  small,\n  strike,\n  strong,\n  sub,\n  sup,\n  tt,\n  var,\n  b,\n  u,\n  i,\n  center,\n  dl,\n  dt,\n  dd,\n  ol,\n  ul,\n  li,\n  fieldset,\n  form,\n  label,\n  legend,\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  figcaption,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  output,\n  ruby,\n  section,\n  summary,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section {\n    display: block;\n  }\n  ol,\n  ul {\n    list-style: none;\n  }\n  blockquote,\n  q {\n    quotes: none;\n  }\n  blockquote:before,\n  blockquote:after,\n  q:before,\n  q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n}\n"],sourceRoot:""}]),a.locals={popupRoot:"ivq-pupup__popupRoot___QPeBt",submit:"ivq-pupup__submit___FMXFH",completed:"ivq-pupup__completed___JZnvG",almostDone:"ivq-pupup__almostDone___pAjl7",closeButton:"ivq-pupup__closeButton___eD0EC",title:"ivq-pupup__title___ULnft",description:"ivq-pupup__description___ZNWIT",buttonsWrapper:"ivq-pupup__buttonsWrapper___Wjoje",ivqPopupButtons:"ivq-pupup__ivqPopupButtons___J_YFr",primaryButton:"ivq-pupup__primaryButton___dMQXc"};const s=a},5039:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(559),i=n.n(r),o=n(3476),a=n.n(o)()(i());a.push([e.id,".multi-choice__multiChoiceWrapper___FcYR_{display:flex;flex-direction:column;text-align:left;width:100%;max-height:100%}.multi-choice__multiChoiceWrapper___FcYR_ .multi-choice__questionText___g3ED0{font-style:normal;line-height:normal;font-size:18px;color:#fff;overflow:auto;flex-shrink:0;font-weight:bold;line-height:normal;overflow-wrap:break-word;overflow:initial}.multi-choice__multiChoiceWrapper___FcYR_ .multi-choice__questionText___g3ED0:focus{outline:none !important}.multi-choice__multiChoiceWrapper___FcYR_ .multi-choice__questionText___g3ED0 .multi-choice__visuallyHidden___QZiSC{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important}.multi-choice__multiChoiceWrapper___FcYR_ .multi-choice__optionalAnswersWrapper___qBdk9{display:flex;flex-direction:row;overflow:hidden;margin-top:16px}.multi-choice__multiChoiceWrapper___FcYR_ .multi-choice__optionalAnswersWrapper___qBdk9::-webkit-scrollbar{width:4px}.multi-choice__multiChoiceWrapper___FcYR_ .multi-choice__optionalAnswersWrapper___qBdk9::-webkit-scrollbar-track{background:rgba(33,33,33,.9)}.multi-choice__multiChoiceWrapper___FcYR_ .multi-choice__optionalAnswersWrapper___qBdk9::-webkit-scrollbar-thumb{border-radius:3px;background-color:rgba(255,255,255,.3)}.multi-choice__multiChoiceWrapper___FcYR_ .multi-choice__optionalAnswersWrapper___qBdk9:hover{overflow:auto}.multi-choice__multiChoiceWrapper___FcYR_ .multi-choice__optionalAnswersWrapper___qBdk9 .multi-choice__optionalAnswersContainer___yfPx9{display:flex;flex-direction:column;max-width:100%;margin:4px}.multi-choice__multiChoiceWrapper___FcYR_ .multi-choice__optionalAnswersWrapper___qBdk9 .multi-choice__optionalAnswersContainer___yfPx9 .multi-choice__multiSelectAnswer___CE8k9{display:flex;flex-shrink:0;height:32px;align-items:center;padding:5px 16px;margin:4px;background:rgba(255,255,255,.12);border-style:solid;border-width:2px;border-radius:4px;border-color:rgba(0,0,0,0);font-size:16px;line-height:normal;color:#fff;cursor:pointer;box-sizing:border-box;outline-offset:-1px;height:auto;min-height:32px;margin:4px 0;padding:0;background:rgba(0,0,0,0);overflow:hidden}.multi-choice__multiChoiceWrapper___FcYR_ .multi-choice__optionalAnswersWrapper___qBdk9 .multi-choice__optionalAnswersContainer___yfPx9 .multi-choice__multiSelectAnswer___CE8k9:hover:not(.multi-choice__disabled___U8ody){background:rgba(255,255,255,.2)}.multi-choice__multiChoiceWrapper___FcYR_ .multi-choice__optionalAnswersWrapper___qBdk9 .multi-choice__optionalAnswersContainer___yfPx9 .multi-choice__multiSelectAnswer___CE8k9.multi-choice__active___yVgSe{border-color:var(--playkit-tone-1-color);background:rgba(255,255,255,.2)}.multi-choice__multiChoiceWrapper___FcYR_ .multi-choice__optionalAnswersWrapper___qBdk9 .multi-choice__optionalAnswersContainer___yfPx9 .multi-choice__multiSelectAnswer___CE8k9.multi-choice__disabled___U8ody{cursor:default}.multi-choice__multiChoiceWrapper___FcYR_ .multi-choice__optionalAnswersWrapper___qBdk9 .multi-choice__optionalAnswersContainer___yfPx9 .multi-choice__multiSelectAnswer___CE8k9:first-child{margin-top:0}.multi-choice__multiChoiceWrapper___FcYR_ .multi-choice__optionalAnswersWrapper___qBdk9 .multi-choice__optionalAnswersContainer___yfPx9 .multi-choice__multiSelectAnswer___CE8k9:last-child{margin-bottom:0}.multi-choice__multiChoiceWrapper___FcYR_ .multi-choice__optionalAnswersWrapper___qBdk9 .multi-choice__optionalAnswersContainer___yfPx9 .multi-choice__multiSelectAnswer___CE8k9>div{height:100%}.multi-choice__multiChoiceWrapper___FcYR_ .multi-choice__optionalAnswersWrapper___qBdk9 .multi-choice__optionalAnswersContainer___yfPx9 .multi-choice__multiSelectAnswer___CE8k9:not(.multi-choice__active___yVgSe)>div{background:rgba(255,255,255,.12)}.multi-choice__multiChoiceWrapper___FcYR_ .multi-choice__optionalAnswersWrapper___qBdk9 .multi-choice__optionalAnswersContainer___yfPx9 .multi-choice__multiSelectAnswer___CE8k9:not(.multi-choice__active___yVgSe) .multi-choice__questionLabel___a3dC4{border-right-width:1px;border-right-color:rgba(0,0,0,0);background-clip:padding-box}.multi-choice__multiChoiceWrapper___FcYR_ .multi-choice__optionalAnswersWrapper___qBdk9 .multi-choice__optionalAnswersContainer___yfPx9 .multi-choice__multiSelectAnswer___CE8k9 .multi-choice__questionLabel___a3dC4{display:flex;justify-content:center;align-items:flex-start;flex-shrink:0;flex-basis:32px;padding:5px 8px;border-right-style:solid;border-right-width:2px;border-right-color:var(--playkit-tone-1-color)}.multi-choice__multiChoiceWrapper___FcYR_ .multi-choice__optionalAnswersWrapper___qBdk9 .multi-choice__optionalAnswersContainer___yfPx9 .multi-choice__multiSelectAnswer___CE8k9 .multi-choice__questionContent___aJGAi{flex-grow:1;padding:5px 16px 5px 8px;min-width:0}","",{version:3,sources:["webpack://./components/quiz-question/multi-choice/multi-choice.scss","webpack://./theme.scss","webpack://./../node_modules/@playkit-js/playkit-js-ui/src/styles/exported.scss"],names:[],mappings:"AAEA,0CACE,YAAA,CACA,qBAAA,CACA,eAAA,CACA,UAAA,CACA,eAAA,CACA,8ECCA,iBAAA,CACA,kBAAA,CACA,cAAA,CACA,UAAA,CACA,aAAA,CAIA,aAAA,CACA,gBAAA,CACA,kBAAA,CACA,wBAAA,CDTE,gBAAA,CCUF,oFACE,uBAAA,CDVA,oHCmIF,4BAAA,CACA,oBAAA,CACA,qBAAA,CACA,oBAAA,CACA,sBAAA,CACA,0BAAA,CACA,gCAAA,CACA,6BAAA,CACA,mBAAA,CDtIA,wFACE,YAAA,CACA,kBAAA,CACA,eAAA,CACA,eAAA,CCsGF,2GACE,SAAA,CAEF,iHACE,4BAAA,CAEF,iHACE,iBAAA,CACA,qCAAA,CD5GA,8FACE,aAAA,CAGF,wIACE,YAAA,CACA,qBAAA,CACA,cAAA,CACA,UAAA,CACA,iLCkDJ,YAAA,CACA,aAAA,CACA,WAAA,CACA,kBAAA,CACA,gBAAA,CACA,UAAA,CAEA,gCArFkB,CAsFlB,kBAAA,CACA,gBArFuB,CAsFvB,iBA1FY,CA2FZ,0BAAA,CACA,cAAA,CACA,kBAAA,CACA,UAAA,CACA,cAAA,CACA,qBAAA,CACA,mBAAA,CDjEM,WAAA,CACA,eAAA,CACA,YAAA,CACA,SAAA,CACA,wBAAA,CACA,eAAA,CC6DN,4NACE,+BAhGuB,CAkGzB,8MACE,wCC1EW,CD2EX,+BApGuB,CAsGzB,gNACE,cAAA,CDpEI,6LACE,YAAA,CAEF,4LACE,eAAA,CAEF,qLACE,WAAA,CAGA,wNACE,gCC/CQ,CDiDV,yPACE,sBAAA,CACA,gCAAA,CACA,2BAAA,CAGJ,sNACE,YAAA,CACA,sBAAA,CACA,sBAAA,CACA,aAAA,CACA,eAAA,CACA,eAAA,CACA,wBAAA,CACA,sBC7De,CD8Df,8CEtCK,CFwCP,wNACE,WAAA,CACA,wBAAA,CACA,WAAA",sourcesContent:["@import '../../../theme.scss';\n\n.multiChoiceWrapper {\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n  width: 100%;\n  max-height: 100%;\n  .questionText {\n    @include ivq-text;\n    @include ivq-question-content;\n    overflow: initial;\n    .visuallyHidden {\n      @include visually-hidden;\n    }\n  }\n\n  .optionalAnswersWrapper {\n    display: flex;\n    flex-direction: row;\n    overflow: hidden;\n    margin-top: 16px;\n    @include ivq-scrollbar;\n    &:hover {\n      overflow: auto;\n    }\n\n    .optionalAnswersContainer {\n      display: flex;\n      flex-direction: column;\n      max-width: 100%;\n      margin: 4px;\n      .multiSelectAnswer {\n        @include optional-answer;\n        height: auto;\n        min-height: 32px;\n        margin: 4px 0;\n        padding: 0;\n        background: transparent;\n        overflow: hidden;\n        &:first-child {\n          margin-top: 0;\n        }\n        &:last-child {\n          margin-bottom: 0;\n        }\n        > div {\n          height: 100%;\n        }\n        &:not(.active) {\n          > div {\n            background: $button-background;\n          }\n          .questionLabel {\n            border-right-width: 1px;\n            border-right-color: transparent;\n            background-clip: padding-box;\n          }\n        }\n        .questionLabel {\n          display: flex;\n          justify-content: center;\n          align-items: flex-start;\n          flex-shrink: 0;\n          flex-basis: 32px;\n          padding: 5px 8px;\n          border-right-style: solid;\n          border-right-width: $selection-border-width;\n          border-right-color: $tone-1-color;\n        }\n        .questionContent {\n          flex-grow: 1;\n          padding: 5px 16px 5px 8px;\n          min-width: 0;\n        }\n      }\n    }\n  }\n}\n","@import '~@playkit-js/playkit-js-ui';\n\n$roundness-1: 4px;\n\n$button-background: rgba(255, 255, 255, 0.12);\n$button-background-active: rgba(255, 255, 255, 0.2);\n$selection-border-width: 2px;\n\n@mixin ivq-text {\n  font-style: normal;\n  line-height: normal;\n  font-size: 18px;\n  color: #ffffff;\n  overflow: auto;\n}\n\n@mixin ivq-question-content {\n  flex-shrink: 0;\n  font-weight: bold;\n  line-height: normal;\n  overflow-wrap: break-word;\n  &:focus {\n    outline: none !important; // overwride player styles\n  }\n}\n\n@mixin ivq-button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 4px 8px;\n  height: 32px;\n  border-radius: $roundness-1;\n  border-width: 1px;\n  border-color: transparent;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 14px;\n  line-height: 17px;\n  text-align: left;\n  color: #ffffff;\n  box-sizing: border-box;\n  &:hover:not(.disabled) {\n    cursor: pointer;\n  }\n}\n\n@mixin ivq-primary-button {\n  @include ivq-button;\n  color: $primary-text-contrast-color;\n  background: $primary-color;\n  &:hover:not(.disabled) {\n    background: $primary-darker-color;\n  }\n  &:focus:not(.disabled) {\n    background: $primary-brighter-color;\n  }\n  &.disabled {\n    border-width: 1px;\n    border-style: solid;\n    border-color: $tone-4-color;\n    color: $tone-4-color;\n    background: transparent;\n  }\n}\n\n@mixin ivq-secondary-button {\n  @include ivq-button;\n  color: $tone-1-color;\n  background: transparent;\n  &:hover:not(.disabled) {\n    background: $tone-4-color;\n  }\n  &:focus:not(.disabled) {\n    background: $tone-6-color;\n  }\n  &.disabled {\n    color: $tone-4-color;\n  }\n}\n\n@mixin optional-answer {\n  display: flex;\n  flex-shrink: 0;\n  height: 32px;\n  align-items: center;\n  padding: 5px 16px;\n  margin: 4px;\n\n  background: $button-background;\n  border-style: solid;\n  border-width: $selection-border-width;\n  border-radius: $roundness-1;\n  border-color: transparent;\n  font-size: 16px;\n  line-height: normal;\n  color: #ffffff;\n  cursor: pointer;\n  box-sizing: border-box;\n  outline-offset: -1px;\n  &:hover:not(.disabled) {\n    background: $button-background-active;\n  }\n  &.active {\n    border-color: $tone-1-color;\n    background: $button-background-active;\n  }\n  &.disabled {\n    cursor: default;\n  }\n}\n\n@mixin without-scrollbar {\n  /* Hide scrollbar for Chrome, Safari and Opera */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  /* Hide scrollbar for IE, Edge and Firefox */\n  -ms-overflow-style: none; /* IE and Edge */\n  scrollbar-width: none; /* Firefox */\n}\n\n@mixin ivq-scrollbar {\n  &::-webkit-scrollbar {\n    width: 4px;\n  }\n  &::-webkit-scrollbar-track {\n    background: rgba(33, 33, 33, 0.9);\n  }\n  &::-webkit-scrollbar-thumb {\n    border-radius: 3px;\n    background-color: rgba(255, 255, 255, 0.3);\n  }\n}\n\n@mixin outline-fix {\n  &:focus {\n    outline: none !important; // overwrite player !important styles\n  }\n}\n\n// solution taken from bootstrap lib (https://github.com/twbs/bootstrap/blob/v5.0.2/site/content/docs/5.0/helpers/visually-hidden.md)\n@mixin visually-hidden() {\n  position: absolute !important;\n  width: 1px !important;\n  height: 1px !important;\n  padding: 0 !important;\n  margin: -1px !important;\n  overflow: hidden !important;\n  clip: rect(0, 0, 0, 0) !important;\n  white-space: nowrap !important;\n  border: 0 !important;\n}\n\n$bottom-bar-height: 60px;\n\n@mixin reset-css {\n  div,\n  span,\n  applet,\n  object,\n  iframe,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  abbr,\n  acronym,\n  address,\n  big,\n  cite,\n  code,\n  del,\n  dfn,\n  em,\n  img,\n  ins,\n  kbd,\n  q,\n  s,\n  samp,\n  small,\n  strike,\n  strong,\n  sub,\n  sup,\n  tt,\n  var,\n  b,\n  u,\n  i,\n  center,\n  dl,\n  dt,\n  dd,\n  ol,\n  ul,\n  li,\n  fieldset,\n  form,\n  label,\n  legend,\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  figcaption,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  output,\n  ruby,\n  section,\n  summary,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section {\n    display: block;\n  }\n  ol,\n  ul {\n    list-style: none;\n  }\n  blockquote,\n  q {\n    quotes: none;\n  }\n  blockquote:before,\n  blockquote:after,\n  q:before,\n  q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n}\n","// Sass variables exported using the npm package for plugins usage\n\n// Accent Colors\n$primary-color: var(--playkit-primary-color);\n$primary-darker-color: var(--playkit-primary-darker-color);\n$primary-brighter-color: var(--playkit-primary-brighter-color);\n$primary-text-contrast-color: var(--playkit-primary-text-contrast-color);\n\n$secondary-color: var(--playkit-secondary-color);\n$secondary-darker-color: var(--playkit-secondary-darker-color);\n$secondary-brighter-color: var(--playkit-secondary-brighter-color);\n$secondary-text-contrast-color: var(--playkit-secondary-text-contrast-color);\n\n// Acknowledgement Colors\n$success-color: var(--playkit-success-color);\n$success-darker-color: var(--playkit-success-darker-color);\n$success-brighter-color: var(--playkit-success-brighter-color);\n$success-text-contrast-color: var(--playkit-success-text-contrast-color);\n\n$danger-color: var(--playkit-danger-color);\n$danger-darker-color: var(--playkit-danger-darker-color);\n$danger-brighter-color: var(--playkit-danger-brighter-color);\n$danger-text-contrast-color: var(--playkit-danger-text-contrast-color);\n\n$warning-color: var(--playkit-warning-color);\n$warning-darker-color: var(--playkit-warning-darker-color);\n$warning-brighter-color: var(--playkit-warning-brighter-color);\n$warning-text-contrast-color: var(--playkit-warning-text-contrast-color);\n\n// Tone Ramp\n$tone-1-color: var(--playkit-tone-1-color);\n$tone-2-color: var(--playkit-tone-2-color);\n$tone-3-color: var(--playkit-tone-3-color);\n$tone-4-color: var(--playkit-tone-4-color);\n$tone-5-color: var(--playkit-tone-5-color);\n$tone-6-color: var(--playkit-tone-6-color);\n$tone-7-color: var(--playkit-tone-7-color);\n$tone-8-color: var(--playkit-tone-8-color);\n\n$live-color: var(--playkit-live-color);\n$player-background-color: var(--playkit-player-background-color);\n$tab-focus-color: var(--playkit-tab-focus-color);\n$tooltip-background-color: var(--playkit-tooltip-background-color);\n$tooltip-color: var(--playkit-tooltip-color);\n$ads-color: var(--playkit-ads-color);\n"],sourceRoot:""}]),a.locals={multiChoiceWrapper:"multi-choice__multiChoiceWrapper___FcYR_",questionText:"multi-choice__questionText___g3ED0",visuallyHidden:"multi-choice__visuallyHidden___QZiSC",optionalAnswersWrapper:"multi-choice__optionalAnswersWrapper___qBdk9",optionalAnswersContainer:"multi-choice__optionalAnswersContainer___yfPx9",multiSelectAnswer:"multi-choice__multiSelectAnswer___CE8k9",disabled:"multi-choice__disabled___U8ody",active:"multi-choice__active___yVgSe",questionLabel:"multi-choice__questionLabel___a3dC4",questionContent:"multi-choice__questionContent___aJGAi"};const s=a},7291:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(559),i=n.n(r),o=n(3476),a=n.n(o)()(i());a.push([e.id,".open-question__openQuestionWrapper___heMx2{display:flex;flex-direction:column;text-align:left;width:100%;max-height:100%}.open-question__openQuestionWrapper___heMx2 .open-question__questionText___g9DLv{font-style:normal;line-height:normal;font-size:18px;color:#fff;overflow:auto;flex-shrink:0;font-weight:bold;line-height:normal;overflow-wrap:break-word}.open-question__openQuestionWrapper___heMx2 .open-question__questionText___g9DLv:focus{outline:none !important}.open-question__openQuestionWrapper___heMx2 .open-question__questionText___g9DLv .open-question__visuallyHidden___mL8t0{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important}.open-question__openQuestionWrapper___heMx2 .open-question__textAreaWrapper____DIdm{position:relative;flex-shrink:0;width:100%;margin-top:16px}.open-question__openQuestionWrapper___heMx2 .open-question__textAreaWrapper____DIdm .open-question__questionAnswer___oitjK{width:100%;resize:vertical;padding:8px;border-width:1px;border-style:solid;border-color:var(--playkit-tone-4-color);border-radius:4px;box-sizing:border-box;background:rgba(0,0,0,.3);color:var(--playkit-tone-1-color);font-family:inherit;min-height:80px;max-height:120px;font-size:14px;line-height:18px;outline-offset:-1px}.open-question__openQuestionWrapper___heMx2 .open-question__textAreaWrapper____DIdm .open-question__questionAnswer___oitjK::-webkit-scrollbar{width:4px}.open-question__openQuestionWrapper___heMx2 .open-question__textAreaWrapper____DIdm .open-question__questionAnswer___oitjK::-webkit-scrollbar-track{background:rgba(33,33,33,.9)}.open-question__openQuestionWrapper___heMx2 .open-question__textAreaWrapper____DIdm .open-question__questionAnswer___oitjK::-webkit-scrollbar-thumb{border-radius:3px;background-color:rgba(255,255,255,.3)}.open-question__openQuestionWrapper___heMx2 .open-question__textAreaWrapper____DIdm .open-question__charCounter___RAQ5A{font-style:normal;line-height:normal;font-size:18px;color:#fff;overflow:auto;position:relative;text-align:right;margin-top:4px;font-size:14px}.open-question__openQuestionWrapper___heMx2 .open-question__textAreaWrapper____DIdm ::selection{background-color:var(--playkit-primary-brighter-color)}","",{version:3,sources:["webpack://./components/quiz-question/open-question/open-question.scss","webpack://./theme.scss","webpack://./../node_modules/@playkit-js/playkit-js-ui/src/styles/exported.scss"],names:[],mappings:"AAEA,4CACE,YAAA,CACA,qBAAA,CACA,eAAA,CACA,UAAA,CACA,eAAA,CACA,iFCCA,iBAAA,CACA,kBAAA,CACA,cAAA,CACA,UAAA,CACA,aAAA,CAIA,aAAA,CACA,gBAAA,CACA,kBAAA,CACA,wBAAA,CACA,uFACE,uBAAA,CDXA,wHCoIF,4BAAA,CACA,oBAAA,CACA,qBAAA,CACA,oBAAA,CACA,sBAAA,CACA,0BAAA,CACA,gCAAA,CACA,6BAAA,CACA,mBAAA,CDxIA,oFACE,iBAAA,CACA,aAAA,CACA,UAAA,CACA,eAAA,CACA,2HACE,UAAA,CACA,eAAA,CACA,WAAA,CACA,gBAAA,CACA,kBAAA,CACA,wCEOS,CFNT,iBCzBQ,CD0BR,qBAAA,CACA,yBAAA,CACA,iCAAA,CACA,mBAAA,CACA,eAAA,CACA,gBAAA,CACA,cAAA,CACA,gBAAA,CACA,mBAAA,CCuFJ,8IACE,SAAA,CAEF,oJACE,4BAAA,CAEF,oJACE,iBAAA,CACA,qCAAA,CD5FA,wHC9BF,iBAAA,CACA,kBAAA,CACA,cAAA,CACA,UAAA,CACA,aAAA,CD4BI,iBAAA,CACA,gBAAA,CACA,cAAA,CACA,cAAA,CAEF,gGACE,sDE1CmB",sourcesContent:["@import '../../../theme.scss';\n\n.openQuestionWrapper {\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n  width: 100%;\n  max-height: 100%;\n  .questionText {\n    @include ivq-text;\n    @include ivq-question-content;\n    .visuallyHidden {\n      @include visually-hidden;\n    }\n  }\n  .textAreaWrapper {\n    position: relative;\n    flex-shrink: 0;\n    width: 100%;\n    margin-top: 16px;\n    .questionAnswer {\n      width: 100%;\n      resize: vertical;\n      padding: 8px;\n      border-width: 1px;\n      border-style: solid;\n      border-color: $tone-4-color;\n      border-radius: $roundness-1;\n      box-sizing: border-box;\n      background: rgba(0, 0, 0, 0.3);\n      color: $tone-1-color;\n      font-family: inherit;\n      min-height: 80px;\n      max-height: 120px;\n      font-size: 14px;\n      line-height: 18px;\n      outline-offset: -1px;\n      @include ivq-scrollbar;\n    }\n    .charCounter {\n      @include ivq-text;\n      position: relative;\n      text-align: right;\n      margin-top: 4px;\n      font-size: 14px;\n    }\n    ::selection {\n      background-color: $primary-brighter-color;\n    }\n  }\n}\n","@import '~@playkit-js/playkit-js-ui';\n\n$roundness-1: 4px;\n\n$button-background: rgba(255, 255, 255, 0.12);\n$button-background-active: rgba(255, 255, 255, 0.2);\n$selection-border-width: 2px;\n\n@mixin ivq-text {\n  font-style: normal;\n  line-height: normal;\n  font-size: 18px;\n  color: #ffffff;\n  overflow: auto;\n}\n\n@mixin ivq-question-content {\n  flex-shrink: 0;\n  font-weight: bold;\n  line-height: normal;\n  overflow-wrap: break-word;\n  &:focus {\n    outline: none !important; // overwride player styles\n  }\n}\n\n@mixin ivq-button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 4px 8px;\n  height: 32px;\n  border-radius: $roundness-1;\n  border-width: 1px;\n  border-color: transparent;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 14px;\n  line-height: 17px;\n  text-align: left;\n  color: #ffffff;\n  box-sizing: border-box;\n  &:hover:not(.disabled) {\n    cursor: pointer;\n  }\n}\n\n@mixin ivq-primary-button {\n  @include ivq-button;\n  color: $primary-text-contrast-color;\n  background: $primary-color;\n  &:hover:not(.disabled) {\n    background: $primary-darker-color;\n  }\n  &:focus:not(.disabled) {\n    background: $primary-brighter-color;\n  }\n  &.disabled {\n    border-width: 1px;\n    border-style: solid;\n    border-color: $tone-4-color;\n    color: $tone-4-color;\n    background: transparent;\n  }\n}\n\n@mixin ivq-secondary-button {\n  @include ivq-button;\n  color: $tone-1-color;\n  background: transparent;\n  &:hover:not(.disabled) {\n    background: $tone-4-color;\n  }\n  &:focus:not(.disabled) {\n    background: $tone-6-color;\n  }\n  &.disabled {\n    color: $tone-4-color;\n  }\n}\n\n@mixin optional-answer {\n  display: flex;\n  flex-shrink: 0;\n  height: 32px;\n  align-items: center;\n  padding: 5px 16px;\n  margin: 4px;\n\n  background: $button-background;\n  border-style: solid;\n  border-width: $selection-border-width;\n  border-radius: $roundness-1;\n  border-color: transparent;\n  font-size: 16px;\n  line-height: normal;\n  color: #ffffff;\n  cursor: pointer;\n  box-sizing: border-box;\n  outline-offset: -1px;\n  &:hover:not(.disabled) {\n    background: $button-background-active;\n  }\n  &.active {\n    border-color: $tone-1-color;\n    background: $button-background-active;\n  }\n  &.disabled {\n    cursor: default;\n  }\n}\n\n@mixin without-scrollbar {\n  /* Hide scrollbar for Chrome, Safari and Opera */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  /* Hide scrollbar for IE, Edge and Firefox */\n  -ms-overflow-style: none; /* IE and Edge */\n  scrollbar-width: none; /* Firefox */\n}\n\n@mixin ivq-scrollbar {\n  &::-webkit-scrollbar {\n    width: 4px;\n  }\n  &::-webkit-scrollbar-track {\n    background: rgba(33, 33, 33, 0.9);\n  }\n  &::-webkit-scrollbar-thumb {\n    border-radius: 3px;\n    background-color: rgba(255, 255, 255, 0.3);\n  }\n}\n\n@mixin outline-fix {\n  &:focus {\n    outline: none !important; // overwrite player !important styles\n  }\n}\n\n// solution taken from bootstrap lib (https://github.com/twbs/bootstrap/blob/v5.0.2/site/content/docs/5.0/helpers/visually-hidden.md)\n@mixin visually-hidden() {\n  position: absolute !important;\n  width: 1px !important;\n  height: 1px !important;\n  padding: 0 !important;\n  margin: -1px !important;\n  overflow: hidden !important;\n  clip: rect(0, 0, 0, 0) !important;\n  white-space: nowrap !important;\n  border: 0 !important;\n}\n\n$bottom-bar-height: 60px;\n\n@mixin reset-css {\n  div,\n  span,\n  applet,\n  object,\n  iframe,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  abbr,\n  acronym,\n  address,\n  big,\n  cite,\n  code,\n  del,\n  dfn,\n  em,\n  img,\n  ins,\n  kbd,\n  q,\n  s,\n  samp,\n  small,\n  strike,\n  strong,\n  sub,\n  sup,\n  tt,\n  var,\n  b,\n  u,\n  i,\n  center,\n  dl,\n  dt,\n  dd,\n  ol,\n  ul,\n  li,\n  fieldset,\n  form,\n  label,\n  legend,\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  figcaption,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  output,\n  ruby,\n  section,\n  summary,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section {\n    display: block;\n  }\n  ol,\n  ul {\n    list-style: none;\n  }\n  blockquote,\n  q {\n    quotes: none;\n  }\n  blockquote:before,\n  blockquote:after,\n  q:before,\n  q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n}\n","// Sass variables exported using the npm package for plugins usage\n\n// Accent Colors\n$primary-color: var(--playkit-primary-color);\n$primary-darker-color: var(--playkit-primary-darker-color);\n$primary-brighter-color: var(--playkit-primary-brighter-color);\n$primary-text-contrast-color: var(--playkit-primary-text-contrast-color);\n\n$secondary-color: var(--playkit-secondary-color);\n$secondary-darker-color: var(--playkit-secondary-darker-color);\n$secondary-brighter-color: var(--playkit-secondary-brighter-color);\n$secondary-text-contrast-color: var(--playkit-secondary-text-contrast-color);\n\n// Acknowledgement Colors\n$success-color: var(--playkit-success-color);\n$success-darker-color: var(--playkit-success-darker-color);\n$success-brighter-color: var(--playkit-success-brighter-color);\n$success-text-contrast-color: var(--playkit-success-text-contrast-color);\n\n$danger-color: var(--playkit-danger-color);\n$danger-darker-color: var(--playkit-danger-darker-color);\n$danger-brighter-color: var(--playkit-danger-brighter-color);\n$danger-text-contrast-color: var(--playkit-danger-text-contrast-color);\n\n$warning-color: var(--playkit-warning-color);\n$warning-darker-color: var(--playkit-warning-darker-color);\n$warning-brighter-color: var(--playkit-warning-brighter-color);\n$warning-text-contrast-color: var(--playkit-warning-text-contrast-color);\n\n// Tone Ramp\n$tone-1-color: var(--playkit-tone-1-color);\n$tone-2-color: var(--playkit-tone-2-color);\n$tone-3-color: var(--playkit-tone-3-color);\n$tone-4-color: var(--playkit-tone-4-color);\n$tone-5-color: var(--playkit-tone-5-color);\n$tone-6-color: var(--playkit-tone-6-color);\n$tone-7-color: var(--playkit-tone-7-color);\n$tone-8-color: var(--playkit-tone-8-color);\n\n$live-color: var(--playkit-live-color);\n$player-background-color: var(--playkit-player-background-color);\n$tab-focus-color: var(--playkit-tab-focus-color);\n$tooltip-background-color: var(--playkit-tooltip-background-color);\n$tooltip-color: var(--playkit-tooltip-color);\n$ads-color: var(--playkit-ads-color);\n"],sourceRoot:""}]),a.locals={openQuestionWrapper:"open-question__openQuestionWrapper___heMx2",questionText:"open-question__questionText___g9DLv",visuallyHidden:"open-question__visuallyHidden___mL8t0",textAreaWrapper:"open-question__textAreaWrapper____DIdm",questionAnswer:"open-question__questionAnswer___oitjK",charCounter:"open-question__charCounter___RAQ5A"};const s=a},1727:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(559),i=n.n(r),o=n(3476),a=n.n(o)()(i());a.push([e.id,".question-addons__questionAddonsWrapper___ZG6HT{margin-top:6px}.question-addons__questionAddonsWrapper___ZG6HT .question-addons__questionAddonsButton___aofj5{display:flex;width:fit-content;font-style:normal;line-height:normal;font-size:18px;color:#fff;overflow:auto;font-style:italic;font-size:14px;outline-offset:-1px;cursor:pointer}.question-addons__questionAddonsWrapper___ZG6HT .question-addons__questionAddonsButton___aofj5 .question-addons__iconWrapper___TOyqa{width:16px;height:16px;margin-left:4px;line-height:10px;display:none}.question-addons__questionAddonsWrapper___ZG6HT .question-addons__questionAddonsButton___aofj5 .question-addons__iconWrapper___TOyqa.question-addons__active___setXE{display:inline-block}.question-addons__questionAddonsWrapper___ZG6HT .question-addons__questionAddonsContent___N4AT5{font-style:normal;line-height:normal;font-size:18px;color:#fff;overflow:auto;margin-top:6px;font-style:italic;font-size:14px}","",{version:3,sources:["webpack://./components/quiz-question/question-addons/question-addons.scss","webpack://./theme.scss"],names:[],mappings:"AAEA,gDACE,cAAA,CACA,+FACE,YAAA,CACA,iBAAA,CCGF,iBAAA,CACA,kBAAA,CACA,cAAA,CACA,UAAA,CACA,aAAA,CDLE,iBAAA,CACA,cAAA,CACA,mBAAA,CACA,cAAA,CACA,qIACE,UAAA,CACA,WAAA,CACA,eAAA,CACA,gBAAA,CACA,YAAA,CACA,qKACE,oBAAA,CAIN,gGCdA,iBAAA,CACA,kBAAA,CACA,cAAA,CACA,UAAA,CACA,aAAA,CDYE,cAAA,CACA,iBAAA,CACA,cAAA",sourcesContent:["@import '../../../theme.scss';\n\n.questionAddonsWrapper {\n  margin-top: 6px;\n  .questionAddonsButton {\n    display: flex;\n    width: fit-content;\n    @include ivq-text;\n    font-style: italic;\n    font-size: 14px;\n    outline-offset: -1px;\n    cursor: pointer;\n    .iconWrapper {\n      width: 16px;\n      height: 16px;\n      margin-left: 4px;\n      line-height: 10px;\n      display: none;\n      &.active {\n        display: inline-block;\n      }\n    }\n  }\n  .questionAddonsContent {\n    @include ivq-text;\n    margin-top: 6px;\n    font-style: italic;\n    font-size: 14px;\n  }\n}\n","@import '~@playkit-js/playkit-js-ui';\n\n$roundness-1: 4px;\n\n$button-background: rgba(255, 255, 255, 0.12);\n$button-background-active: rgba(255, 255, 255, 0.2);\n$selection-border-width: 2px;\n\n@mixin ivq-text {\n  font-style: normal;\n  line-height: normal;\n  font-size: 18px;\n  color: #ffffff;\n  overflow: auto;\n}\n\n@mixin ivq-question-content {\n  flex-shrink: 0;\n  font-weight: bold;\n  line-height: normal;\n  overflow-wrap: break-word;\n  &:focus {\n    outline: none !important; // overwride player styles\n  }\n}\n\n@mixin ivq-button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 4px 8px;\n  height: 32px;\n  border-radius: $roundness-1;\n  border-width: 1px;\n  border-color: transparent;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 14px;\n  line-height: 17px;\n  text-align: left;\n  color: #ffffff;\n  box-sizing: border-box;\n  &:hover:not(.disabled) {\n    cursor: pointer;\n  }\n}\n\n@mixin ivq-primary-button {\n  @include ivq-button;\n  color: $primary-text-contrast-color;\n  background: $primary-color;\n  &:hover:not(.disabled) {\n    background: $primary-darker-color;\n  }\n  &:focus:not(.disabled) {\n    background: $primary-brighter-color;\n  }\n  &.disabled {\n    border-width: 1px;\n    border-style: solid;\n    border-color: $tone-4-color;\n    color: $tone-4-color;\n    background: transparent;\n  }\n}\n\n@mixin ivq-secondary-button {\n  @include ivq-button;\n  color: $tone-1-color;\n  background: transparent;\n  &:hover:not(.disabled) {\n    background: $tone-4-color;\n  }\n  &:focus:not(.disabled) {\n    background: $tone-6-color;\n  }\n  &.disabled {\n    color: $tone-4-color;\n  }\n}\n\n@mixin optional-answer {\n  display: flex;\n  flex-shrink: 0;\n  height: 32px;\n  align-items: center;\n  padding: 5px 16px;\n  margin: 4px;\n\n  background: $button-background;\n  border-style: solid;\n  border-width: $selection-border-width;\n  border-radius: $roundness-1;\n  border-color: transparent;\n  font-size: 16px;\n  line-height: normal;\n  color: #ffffff;\n  cursor: pointer;\n  box-sizing: border-box;\n  outline-offset: -1px;\n  &:hover:not(.disabled) {\n    background: $button-background-active;\n  }\n  &.active {\n    border-color: $tone-1-color;\n    background: $button-background-active;\n  }\n  &.disabled {\n    cursor: default;\n  }\n}\n\n@mixin without-scrollbar {\n  /* Hide scrollbar for Chrome, Safari and Opera */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  /* Hide scrollbar for IE, Edge and Firefox */\n  -ms-overflow-style: none; /* IE and Edge */\n  scrollbar-width: none; /* Firefox */\n}\n\n@mixin ivq-scrollbar {\n  &::-webkit-scrollbar {\n    width: 4px;\n  }\n  &::-webkit-scrollbar-track {\n    background: rgba(33, 33, 33, 0.9);\n  }\n  &::-webkit-scrollbar-thumb {\n    border-radius: 3px;\n    background-color: rgba(255, 255, 255, 0.3);\n  }\n}\n\n@mixin outline-fix {\n  &:focus {\n    outline: none !important; // overwrite player !important styles\n  }\n}\n\n// solution taken from bootstrap lib (https://github.com/twbs/bootstrap/blob/v5.0.2/site/content/docs/5.0/helpers/visually-hidden.md)\n@mixin visually-hidden() {\n  position: absolute !important;\n  width: 1px !important;\n  height: 1px !important;\n  padding: 0 !important;\n  margin: -1px !important;\n  overflow: hidden !important;\n  clip: rect(0, 0, 0, 0) !important;\n  white-space: nowrap !important;\n  border: 0 !important;\n}\n\n$bottom-bar-height: 60px;\n\n@mixin reset-css {\n  div,\n  span,\n  applet,\n  object,\n  iframe,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  abbr,\n  acronym,\n  address,\n  big,\n  cite,\n  code,\n  del,\n  dfn,\n  em,\n  img,\n  ins,\n  kbd,\n  q,\n  s,\n  samp,\n  small,\n  strike,\n  strong,\n  sub,\n  sup,\n  tt,\n  var,\n  b,\n  u,\n  i,\n  center,\n  dl,\n  dt,\n  dd,\n  ol,\n  ul,\n  li,\n  fieldset,\n  form,\n  label,\n  legend,\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  figcaption,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  output,\n  ruby,\n  section,\n  summary,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section {\n    display: block;\n  }\n  ol,\n  ul {\n    list-style: none;\n  }\n  blockquote,\n  q {\n    quotes: none;\n  }\n  blockquote:before,\n  blockquote:after,\n  q:before,\n  q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n}\n"],sourceRoot:""}]),a.locals={questionAddonsWrapper:"question-addons__questionAddonsWrapper___ZG6HT",questionAddonsButton:"question-addons__questionAddonsButton___aofj5",iconWrapper:"question-addons__iconWrapper___TOyqa",active:"question-addons__active___setXE",questionAddonsContent:"question-addons__questionAddonsContent___N4AT5"};const s=a},6957:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(559),i=n.n(r),o=n(3476),a=n.n(o)()(i());a.push([e.id,".quiz-question-wrapper__ivqQuestionContainer___ooMEe{display:flex;flex-direction:column;justify-content:center;flex-grow:1;max-height:calc(100% - 60px);padding:32px 32px 12px 32px}.quiz-question-wrapper__ivqQuestionContainer___ooMEe .quiz-question-wrapper__ivqQuestionWrapper___Tig55{display:flex;flex-direction:column;justify-content:center;width:100%;overflow:hidden}.quiz-question-wrapper__ivqQuestionContainer___ooMEe .quiz-question-wrapper__ivqQuestionWrapper___Tig55:focus{outline:none !important}.quiz-question-wrapper__ivqQuestionContainer___ooMEe .quiz-question-wrapper__ivqQuestionWrapper___Tig55::-webkit-scrollbar{width:4px}.quiz-question-wrapper__ivqQuestionContainer___ooMEe .quiz-question-wrapper__ivqQuestionWrapper___Tig55::-webkit-scrollbar-track{background:rgba(33,33,33,.9)}.quiz-question-wrapper__ivqQuestionContainer___ooMEe .quiz-question-wrapper__ivqQuestionWrapper___Tig55::-webkit-scrollbar-thumb{border-radius:3px;background-color:rgba(255,255,255,.3)}.quiz-question-wrapper__ivqQuestionContainer___ooMEe .quiz-question-wrapper__ivqQuestionWrapper___Tig55:hover{overflow:auto}.quiz-question-wrapper__ivqQuestionContainer___ooMEe .quiz-question-wrapper__ivqButtonsWrapper___i5AlZ{display:flex;width:100%;margin-top:16px}.quiz-question-wrapper__ivqQuestionContainer___ooMEe .quiz-question-wrapper__ivqButtonsWrapper___i5AlZ .quiz-question-wrapper__continueButton___LScEl{display:flex;justify-content:center;align-items:center;padding:4px 8px;height:32px;border-radius:4px;border-width:1px;border-color:rgba(0,0,0,0);font-style:normal;font-weight:bold;font-size:14px;line-height:17px;text-align:left;color:#fff;box-sizing:border-box;color:var(--playkit-primary-text-contrast-color);background:var(--playkit-primary-color);min-width:80px;margin-right:8px}.quiz-question-wrapper__ivqQuestionContainer___ooMEe .quiz-question-wrapper__ivqButtonsWrapper___i5AlZ .quiz-question-wrapper__continueButton___LScEl:hover:not(.quiz-question-wrapper__disabled___SQMW6){cursor:pointer}.quiz-question-wrapper__ivqQuestionContainer___ooMEe .quiz-question-wrapper__ivqButtonsWrapper___i5AlZ .quiz-question-wrapper__continueButton___LScEl:hover:not(.quiz-question-wrapper__disabled___SQMW6){background:var(--playkit-primary-darker-color)}.quiz-question-wrapper__ivqQuestionContainer___ooMEe .quiz-question-wrapper__ivqButtonsWrapper___i5AlZ .quiz-question-wrapper__continueButton___LScEl:focus:not(.quiz-question-wrapper__disabled___SQMW6){background:var(--playkit-primary-brighter-color)}.quiz-question-wrapper__ivqQuestionContainer___ooMEe .quiz-question-wrapper__ivqButtonsWrapper___i5AlZ .quiz-question-wrapper__continueButton___LScEl.quiz-question-wrapper__disabled___SQMW6{border-width:1px;border-style:solid;border-color:var(--playkit-tone-4-color);color:var(--playkit-tone-4-color);background:rgba(0,0,0,0)}.quiz-question-wrapper__ivqQuestionContainer___ooMEe .quiz-question-wrapper__ivqButtonsWrapper___i5AlZ .quiz-question-wrapper__skipButton___KKLzN{display:flex;justify-content:center;align-items:center;padding:4px 8px;height:32px;border-radius:4px;border-width:1px;border-color:rgba(0,0,0,0);font-style:normal;font-weight:bold;font-size:14px;line-height:17px;text-align:left;color:#fff;box-sizing:border-box;color:var(--playkit-tone-1-color);background:rgba(0,0,0,0)}.quiz-question-wrapper__ivqQuestionContainer___ooMEe .quiz-question-wrapper__ivqButtonsWrapper___i5AlZ .quiz-question-wrapper__skipButton___KKLzN:hover:not(.quiz-question-wrapper__disabled___SQMW6){cursor:pointer}.quiz-question-wrapper__ivqQuestionContainer___ooMEe .quiz-question-wrapper__ivqButtonsWrapper___i5AlZ .quiz-question-wrapper__skipButton___KKLzN:hover:not(.quiz-question-wrapper__disabled___SQMW6){background:var(--playkit-tone-4-color)}.quiz-question-wrapper__ivqQuestionContainer___ooMEe .quiz-question-wrapper__ivqButtonsWrapper___i5AlZ .quiz-question-wrapper__skipButton___KKLzN:focus:not(.quiz-question-wrapper__disabled___SQMW6){background:var(--playkit-tone-6-color)}.quiz-question-wrapper__ivqQuestionContainer___ooMEe .quiz-question-wrapper__ivqButtonsWrapper___i5AlZ .quiz-question-wrapper__skipButton___KKLzN.quiz-question-wrapper__disabled___SQMW6{color:var(--playkit-tone-4-color)}","",{version:3,sources:["webpack://./components/quiz-question/quiz-question-wrapper.scss","webpack://./theme.scss","webpack://./../node_modules/@playkit-js/playkit-js-ui/src/styles/exported.scss"],names:[],mappings:"AAEA,qDACE,YAAA,CACA,qBAAA,CACA,sBAAA,CACA,WAAA,CACA,4BAAA,CACA,2BAAA,CAEA,wGACE,YAAA,CACA,qBAAA,CACA,sBAAA,CACA,UAAA,CACA,eAAA,CCyHF,8GACE,uBAAA,CAdF,2HACE,SAAA,CAEF,iIACE,4BAAA,CAEF,iIACE,iBAAA,CACA,qCAAA,CDjHA,8GACE,aAAA,CAIJ,uGACE,YAAA,CACA,UAAA,CACA,eAAA,CACA,sJAAA,YAAA,CCCF,sBAAA,CACA,kBAAA,CACA,eAAA,CACA,WAAA,CACA,iBA9BY,CA+BZ,gBAAA,CACA,0BAAA,CACA,iBAAA,CACA,gBAAA,CACA,cAAA,CACA,gBAAA,CACA,eAAA,CACA,UAAA,CACA,qBAAA,CAQA,gDC3C4B,CD4C5B,uCC/Cc,CF0BV,cAAA,CACA,gBAAA,CCYJ,0MACE,cAAA,CAQF,0MACE,8CChDmB,CDkDrB,0MACE,gDClDqB,CDoDvB,8LACE,gBAAA,CACA,kBAAA,CACA,wCC3BW,CD4BX,iCC5BW,CD6BX,wBAAA,CD9BA,kJCLF,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,eAAA,CACA,WAAA,CACA,iBA9BY,CA+BZ,gBAAA,CACA,0BAAA,CACA,iBAAA,CACA,gBAAA,CACA,cAAA,CACA,gBAAA,CACA,eAAA,CACA,UAAA,CACA,qBAAA,CA2BA,iCCtCa,CDuCb,wBAAA,CA3BA,sMACE,cAAA,CA2BF,sMACE,sCCtCW,CDwCb,sMACE,sCCvCW,CDyCb,0LACE,iCC5CW",sourcesContent:["@import '../../theme.scss';\n\n.ivqQuestionContainer {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  flex-grow: 1;\n  max-height: calc(100% - #{$bottom-bar-height});\n  padding: 32px 32px 12px 32px;\n\n  .ivqQuestionWrapper {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: 100%;\n    overflow: hidden;\n    @include outline-fix;\n    @include ivq-scrollbar;\n    &:hover {\n      overflow: auto;\n    }\n  }\n\n  .ivqButtonsWrapper {\n    display: flex;\n    width: 100%;\n    margin-top: 16px;\n    .continueButton {\n      @include ivq-primary-button;\n      min-width: 80px;\n      margin-right: 8px;\n    }\n    .skipButton {\n      @include ivq-secondary-button;\n    }\n  }\n}\n","@import '~@playkit-js/playkit-js-ui';\n\n$roundness-1: 4px;\n\n$button-background: rgba(255, 255, 255, 0.12);\n$button-background-active: rgba(255, 255, 255, 0.2);\n$selection-border-width: 2px;\n\n@mixin ivq-text {\n  font-style: normal;\n  line-height: normal;\n  font-size: 18px;\n  color: #ffffff;\n  overflow: auto;\n}\n\n@mixin ivq-question-content {\n  flex-shrink: 0;\n  font-weight: bold;\n  line-height: normal;\n  overflow-wrap: break-word;\n  &:focus {\n    outline: none !important; // overwride player styles\n  }\n}\n\n@mixin ivq-button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 4px 8px;\n  height: 32px;\n  border-radius: $roundness-1;\n  border-width: 1px;\n  border-color: transparent;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 14px;\n  line-height: 17px;\n  text-align: left;\n  color: #ffffff;\n  box-sizing: border-box;\n  &:hover:not(.disabled) {\n    cursor: pointer;\n  }\n}\n\n@mixin ivq-primary-button {\n  @include ivq-button;\n  color: $primary-text-contrast-color;\n  background: $primary-color;\n  &:hover:not(.disabled) {\n    background: $primary-darker-color;\n  }\n  &:focus:not(.disabled) {\n    background: $primary-brighter-color;\n  }\n  &.disabled {\n    border-width: 1px;\n    border-style: solid;\n    border-color: $tone-4-color;\n    color: $tone-4-color;\n    background: transparent;\n  }\n}\n\n@mixin ivq-secondary-button {\n  @include ivq-button;\n  color: $tone-1-color;\n  background: transparent;\n  &:hover:not(.disabled) {\n    background: $tone-4-color;\n  }\n  &:focus:not(.disabled) {\n    background: $tone-6-color;\n  }\n  &.disabled {\n    color: $tone-4-color;\n  }\n}\n\n@mixin optional-answer {\n  display: flex;\n  flex-shrink: 0;\n  height: 32px;\n  align-items: center;\n  padding: 5px 16px;\n  margin: 4px;\n\n  background: $button-background;\n  border-style: solid;\n  border-width: $selection-border-width;\n  border-radius: $roundness-1;\n  border-color: transparent;\n  font-size: 16px;\n  line-height: normal;\n  color: #ffffff;\n  cursor: pointer;\n  box-sizing: border-box;\n  outline-offset: -1px;\n  &:hover:not(.disabled) {\n    background: $button-background-active;\n  }\n  &.active {\n    border-color: $tone-1-color;\n    background: $button-background-active;\n  }\n  &.disabled {\n    cursor: default;\n  }\n}\n\n@mixin without-scrollbar {\n  /* Hide scrollbar for Chrome, Safari and Opera */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  /* Hide scrollbar for IE, Edge and Firefox */\n  -ms-overflow-style: none; /* IE and Edge */\n  scrollbar-width: none; /* Firefox */\n}\n\n@mixin ivq-scrollbar {\n  &::-webkit-scrollbar {\n    width: 4px;\n  }\n  &::-webkit-scrollbar-track {\n    background: rgba(33, 33, 33, 0.9);\n  }\n  &::-webkit-scrollbar-thumb {\n    border-radius: 3px;\n    background-color: rgba(255, 255, 255, 0.3);\n  }\n}\n\n@mixin outline-fix {\n  &:focus {\n    outline: none !important; // overwrite player !important styles\n  }\n}\n\n// solution taken from bootstrap lib (https://github.com/twbs/bootstrap/blob/v5.0.2/site/content/docs/5.0/helpers/visually-hidden.md)\n@mixin visually-hidden() {\n  position: absolute !important;\n  width: 1px !important;\n  height: 1px !important;\n  padding: 0 !important;\n  margin: -1px !important;\n  overflow: hidden !important;\n  clip: rect(0, 0, 0, 0) !important;\n  white-space: nowrap !important;\n  border: 0 !important;\n}\n\n$bottom-bar-height: 60px;\n\n@mixin reset-css {\n  div,\n  span,\n  applet,\n  object,\n  iframe,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  abbr,\n  acronym,\n  address,\n  big,\n  cite,\n  code,\n  del,\n  dfn,\n  em,\n  img,\n  ins,\n  kbd,\n  q,\n  s,\n  samp,\n  small,\n  strike,\n  strong,\n  sub,\n  sup,\n  tt,\n  var,\n  b,\n  u,\n  i,\n  center,\n  dl,\n  dt,\n  dd,\n  ol,\n  ul,\n  li,\n  fieldset,\n  form,\n  label,\n  legend,\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  figcaption,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  output,\n  ruby,\n  section,\n  summary,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section {\n    display: block;\n  }\n  ol,\n  ul {\n    list-style: none;\n  }\n  blockquote,\n  q {\n    quotes: none;\n  }\n  blockquote:before,\n  blockquote:after,\n  q:before,\n  q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n}\n","// Sass variables exported using the npm package for plugins usage\n\n// Accent Colors\n$primary-color: var(--playkit-primary-color);\n$primary-darker-color: var(--playkit-primary-darker-color);\n$primary-brighter-color: var(--playkit-primary-brighter-color);\n$primary-text-contrast-color: var(--playkit-primary-text-contrast-color);\n\n$secondary-color: var(--playkit-secondary-color);\n$secondary-darker-color: var(--playkit-secondary-darker-color);\n$secondary-brighter-color: var(--playkit-secondary-brighter-color);\n$secondary-text-contrast-color: var(--playkit-secondary-text-contrast-color);\n\n// Acknowledgement Colors\n$success-color: var(--playkit-success-color);\n$success-darker-color: var(--playkit-success-darker-color);\n$success-brighter-color: var(--playkit-success-brighter-color);\n$success-text-contrast-color: var(--playkit-success-text-contrast-color);\n\n$danger-color: var(--playkit-danger-color);\n$danger-darker-color: var(--playkit-danger-darker-color);\n$danger-brighter-color: var(--playkit-danger-brighter-color);\n$danger-text-contrast-color: var(--playkit-danger-text-contrast-color);\n\n$warning-color: var(--playkit-warning-color);\n$warning-darker-color: var(--playkit-warning-darker-color);\n$warning-brighter-color: var(--playkit-warning-brighter-color);\n$warning-text-contrast-color: var(--playkit-warning-text-contrast-color);\n\n// Tone Ramp\n$tone-1-color: var(--playkit-tone-1-color);\n$tone-2-color: var(--playkit-tone-2-color);\n$tone-3-color: var(--playkit-tone-3-color);\n$tone-4-color: var(--playkit-tone-4-color);\n$tone-5-color: var(--playkit-tone-5-color);\n$tone-6-color: var(--playkit-tone-6-color);\n$tone-7-color: var(--playkit-tone-7-color);\n$tone-8-color: var(--playkit-tone-8-color);\n\n$live-color: var(--playkit-live-color);\n$player-background-color: var(--playkit-player-background-color);\n$tab-focus-color: var(--playkit-tab-focus-color);\n$tooltip-background-color: var(--playkit-tooltip-background-color);\n$tooltip-color: var(--playkit-tooltip-color);\n$ads-color: var(--playkit-ads-color);\n"],sourceRoot:""}]),a.locals={ivqQuestionContainer:"quiz-question-wrapper__ivqQuestionContainer___ooMEe",ivqQuestionWrapper:"quiz-question-wrapper__ivqQuestionWrapper___Tig55",ivqButtonsWrapper:"quiz-question-wrapper__ivqButtonsWrapper___i5AlZ",continueButton:"quiz-question-wrapper__continueButton___LScEl",disabled:"quiz-question-wrapper__disabled___SQMW6",skipButton:"quiz-question-wrapper__skipButton___KKLzN"};const s=a},1569:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(559),i=n.n(r),o=n(3476),a=n.n(o)()(i());a.push([e.id,".reflection-point__reflectionPointWrapper___WRnWb{display:flex;flex-direction:column;text-align:left;width:100%;max-height:100%}.reflection-point__reflectionPointWrapper___WRnWb .reflection-point__reflectionText___OHjbd{font-style:normal;line-height:normal;font-size:18px;color:#fff;overflow:auto;flex-shrink:0;font-weight:bold;line-height:normal;overflow-wrap:break-word;font-size:16px;font-weight:normal}.reflection-point__reflectionPointWrapper___WRnWb .reflection-point__reflectionText___OHjbd:focus{outline:none !important}.reflection-point__reflectionPointWrapper___WRnWb .reflection-point__reflectionText___OHjbd .reflection-point__visuallyHidden___uZVVM{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important}","",{version:3,sources:["webpack://./components/quiz-question/reflection-point/reflection-point.scss","webpack://./theme.scss"],names:[],mappings:"AAEA,kDACE,YAAA,CACA,qBAAA,CACA,eAAA,CACA,UAAA,CACA,eAAA,CACA,4FCCA,iBAAA,CACA,kBAAA,CACA,cAAA,CACA,UAAA,CACA,aAAA,CAIA,aAAA,CACA,gBAAA,CACA,kBAAA,CACA,wBAAA,CDTE,cAAA,CACA,kBAAA,CCSF,kGACE,uBAAA,CDTA,sICkIF,4BAAA,CACA,oBAAA,CACA,qBAAA,CACA,oBAAA,CACA,sBAAA,CACA,0BAAA,CACA,gCAAA,CACA,6BAAA,CACA,mBAAA",sourcesContent:["@import '../../../theme.scss';\n\n.reflectionPointWrapper {\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n  width: 100%;\n  max-height: 100%;\n  .reflectionText {\n    @include ivq-text;\n    @include ivq-question-content;\n    font-size: 16px;\n    font-weight: normal;\n    .visuallyHidden {\n      @include visually-hidden;\n    }\n  }\n}\n","@import '~@playkit-js/playkit-js-ui';\n\n$roundness-1: 4px;\n\n$button-background: rgba(255, 255, 255, 0.12);\n$button-background-active: rgba(255, 255, 255, 0.2);\n$selection-border-width: 2px;\n\n@mixin ivq-text {\n  font-style: normal;\n  line-height: normal;\n  font-size: 18px;\n  color: #ffffff;\n  overflow: auto;\n}\n\n@mixin ivq-question-content {\n  flex-shrink: 0;\n  font-weight: bold;\n  line-height: normal;\n  overflow-wrap: break-word;\n  &:focus {\n    outline: none !important; // overwride player styles\n  }\n}\n\n@mixin ivq-button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 4px 8px;\n  height: 32px;\n  border-radius: $roundness-1;\n  border-width: 1px;\n  border-color: transparent;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 14px;\n  line-height: 17px;\n  text-align: left;\n  color: #ffffff;\n  box-sizing: border-box;\n  &:hover:not(.disabled) {\n    cursor: pointer;\n  }\n}\n\n@mixin ivq-primary-button {\n  @include ivq-button;\n  color: $primary-text-contrast-color;\n  background: $primary-color;\n  &:hover:not(.disabled) {\n    background: $primary-darker-color;\n  }\n  &:focus:not(.disabled) {\n    background: $primary-brighter-color;\n  }\n  &.disabled {\n    border-width: 1px;\n    border-style: solid;\n    border-color: $tone-4-color;\n    color: $tone-4-color;\n    background: transparent;\n  }\n}\n\n@mixin ivq-secondary-button {\n  @include ivq-button;\n  color: $tone-1-color;\n  background: transparent;\n  &:hover:not(.disabled) {\n    background: $tone-4-color;\n  }\n  &:focus:not(.disabled) {\n    background: $tone-6-color;\n  }\n  &.disabled {\n    color: $tone-4-color;\n  }\n}\n\n@mixin optional-answer {\n  display: flex;\n  flex-shrink: 0;\n  height: 32px;\n  align-items: center;\n  padding: 5px 16px;\n  margin: 4px;\n\n  background: $button-background;\n  border-style: solid;\n  border-width: $selection-border-width;\n  border-radius: $roundness-1;\n  border-color: transparent;\n  font-size: 16px;\n  line-height: normal;\n  color: #ffffff;\n  cursor: pointer;\n  box-sizing: border-box;\n  outline-offset: -1px;\n  &:hover:not(.disabled) {\n    background: $button-background-active;\n  }\n  &.active {\n    border-color: $tone-1-color;\n    background: $button-background-active;\n  }\n  &.disabled {\n    cursor: default;\n  }\n}\n\n@mixin without-scrollbar {\n  /* Hide scrollbar for Chrome, Safari and Opera */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  /* Hide scrollbar for IE, Edge and Firefox */\n  -ms-overflow-style: none; /* IE and Edge */\n  scrollbar-width: none; /* Firefox */\n}\n\n@mixin ivq-scrollbar {\n  &::-webkit-scrollbar {\n    width: 4px;\n  }\n  &::-webkit-scrollbar-track {\n    background: rgba(33, 33, 33, 0.9);\n  }\n  &::-webkit-scrollbar-thumb {\n    border-radius: 3px;\n    background-color: rgba(255, 255, 255, 0.3);\n  }\n}\n\n@mixin outline-fix {\n  &:focus {\n    outline: none !important; // overwrite player !important styles\n  }\n}\n\n// solution taken from bootstrap lib (https://github.com/twbs/bootstrap/blob/v5.0.2/site/content/docs/5.0/helpers/visually-hidden.md)\n@mixin visually-hidden() {\n  position: absolute !important;\n  width: 1px !important;\n  height: 1px !important;\n  padding: 0 !important;\n  margin: -1px !important;\n  overflow: hidden !important;\n  clip: rect(0, 0, 0, 0) !important;\n  white-space: nowrap !important;\n  border: 0 !important;\n}\n\n$bottom-bar-height: 60px;\n\n@mixin reset-css {\n  div,\n  span,\n  applet,\n  object,\n  iframe,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  abbr,\n  acronym,\n  address,\n  big,\n  cite,\n  code,\n  del,\n  dfn,\n  em,\n  img,\n  ins,\n  kbd,\n  q,\n  s,\n  samp,\n  small,\n  strike,\n  strong,\n  sub,\n  sup,\n  tt,\n  var,\n  b,\n  u,\n  i,\n  center,\n  dl,\n  dt,\n  dd,\n  ol,\n  ul,\n  li,\n  fieldset,\n  form,\n  label,\n  legend,\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  figcaption,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  output,\n  ruby,\n  section,\n  summary,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section {\n    display: block;\n  }\n  ol,\n  ul {\n    list-style: none;\n  }\n  blockquote,\n  q {\n    quotes: none;\n  }\n  blockquote:before,\n  blockquote:after,\n  q:before,\n  q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n}\n"],sourceRoot:""}]),a.locals={reflectionPointWrapper:"reflection-point__reflectionPointWrapper___WRnWb",reflectionText:"reflection-point__reflectionText___OHjbd",visuallyHidden:"reflection-point__visuallyHidden___uZVVM"};const s=a},4071:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(559),i=n.n(r),o=n(3476),a=n.n(o)()(i());a.push([e.id,".true-false__trueFalseWrapper___kfIY9{display:flex;flex-direction:column;text-align:left;width:100%;max-height:100%}.true-false__trueFalseWrapper___kfIY9 .true-false__questionText___GvKWd{font-style:normal;line-height:normal;font-size:18px;color:#fff;overflow:auto;flex-shrink:0;font-weight:bold;line-height:normal;overflow-wrap:break-word}.true-false__trueFalseWrapper___kfIY9 .true-false__questionText___GvKWd:focus{outline:none !important}.true-false__trueFalseWrapper___kfIY9 .true-false__questionText___GvKWd .true-false__visuallyHidden___L9EEz{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important}.true-false__trueFalseWrapper___kfIY9 .true-false__optionalAnswersWrapper___rtapO{display:flex;margin-top:16px}.true-false__trueFalseWrapper___kfIY9 .true-false__optionalAnswersWrapper___rtapO .true-false__trueFalseAnswer___n4a6B{display:flex;flex-shrink:0;height:32px;align-items:center;padding:5px 16px;margin:4px;background:rgba(255,255,255,.12);border-style:solid;border-width:2px;border-radius:4px;border-color:rgba(0,0,0,0);font-size:16px;line-height:normal;color:#fff;cursor:pointer;box-sizing:border-box;outline-offset:-1px;flex-shrink:1;width:100%;max-width:300px}.true-false__trueFalseWrapper___kfIY9 .true-false__optionalAnswersWrapper___rtapO .true-false__trueFalseAnswer___n4a6B:hover:not(.true-false__disabled___kx2gp){background:rgba(255,255,255,.2)}.true-false__trueFalseWrapper___kfIY9 .true-false__optionalAnswersWrapper___rtapO .true-false__trueFalseAnswer___n4a6B.true-false__active___iBhfA{border-color:var(--playkit-tone-1-color);background:rgba(255,255,255,.2)}.true-false__trueFalseWrapper___kfIY9 .true-false__optionalAnswersWrapper___rtapO .true-false__trueFalseAnswer___n4a6B.true-false__disabled___kx2gp{cursor:default}.true-false__trueFalseWrapper___kfIY9 .true-false__optionalAnswersWrapper___rtapO .true-false__trueFalseAnswer___n4a6B:first-child{margin-right:8px}","",{version:3,sources:["webpack://./components/quiz-question/true-false/true-false.scss","webpack://./theme.scss","webpack://./../node_modules/@playkit-js/playkit-js-ui/src/styles/exported.scss"],names:[],mappings:"AAEA,sCACE,YAAA,CACA,qBAAA,CACA,eAAA,CACA,UAAA,CACA,eAAA,CACA,wECCA,iBAAA,CACA,kBAAA,CACA,cAAA,CACA,UAAA,CACA,aAAA,CAIA,aAAA,CACA,gBAAA,CACA,kBAAA,CACA,wBAAA,CACA,8EACE,uBAAA,CDXA,4GCoIF,4BAAA,CACA,oBAAA,CACA,qBAAA,CACA,oBAAA,CACA,sBAAA,CACA,0BAAA,CACA,gCAAA,CACA,6BAAA,CACA,mBAAA,CDxIA,kFACE,YAAA,CACA,eAAA,CACA,uHCgEF,YAAA,CACA,aAAA,CACA,WAAA,CACA,kBAAA,CACA,gBAAA,CACA,UAAA,CAEA,gCArFkB,CAsFlB,kBAAA,CACA,gBArFuB,CAsFvB,iBA1FY,CA2FZ,0BAAA,CACA,cAAA,CACA,kBAAA,CACA,UAAA,CACA,cAAA,CACA,qBAAA,CACA,mBAAA,CD/EI,aAAA,CACA,UAAA,CACA,eAAA,CC8EJ,gKACE,+BAhGuB,CAkGzB,kJACE,wCC1EW,CD2EX,+BApGuB,CAsGzB,oJACE,cAAA,CDrFE,mIACE,gBAAA",sourcesContent:["@import '../../../theme.scss';\n\n.trueFalseWrapper {\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n  width: 100%;\n  max-height: 100%;\n  .questionText {\n    @include ivq-text;\n    @include ivq-question-content;\n    .visuallyHidden {\n      @include visually-hidden;\n    }\n  }\n  .optionalAnswersWrapper {\n    display: flex;\n    margin-top: 16px;\n    .trueFalseAnswer {\n      @include optional-answer;\n      flex-shrink: 1;\n      width: 100%;\n      max-width: 300px;\n      &:first-child {\n        margin-right: 8px;\n      }\n    }\n  }\n}\n","@import '~@playkit-js/playkit-js-ui';\n\n$roundness-1: 4px;\n\n$button-background: rgba(255, 255, 255, 0.12);\n$button-background-active: rgba(255, 255, 255, 0.2);\n$selection-border-width: 2px;\n\n@mixin ivq-text {\n  font-style: normal;\n  line-height: normal;\n  font-size: 18px;\n  color: #ffffff;\n  overflow: auto;\n}\n\n@mixin ivq-question-content {\n  flex-shrink: 0;\n  font-weight: bold;\n  line-height: normal;\n  overflow-wrap: break-word;\n  &:focus {\n    outline: none !important; // overwride player styles\n  }\n}\n\n@mixin ivq-button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 4px 8px;\n  height: 32px;\n  border-radius: $roundness-1;\n  border-width: 1px;\n  border-color: transparent;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 14px;\n  line-height: 17px;\n  text-align: left;\n  color: #ffffff;\n  box-sizing: border-box;\n  &:hover:not(.disabled) {\n    cursor: pointer;\n  }\n}\n\n@mixin ivq-primary-button {\n  @include ivq-button;\n  color: $primary-text-contrast-color;\n  background: $primary-color;\n  &:hover:not(.disabled) {\n    background: $primary-darker-color;\n  }\n  &:focus:not(.disabled) {\n    background: $primary-brighter-color;\n  }\n  &.disabled {\n    border-width: 1px;\n    border-style: solid;\n    border-color: $tone-4-color;\n    color: $tone-4-color;\n    background: transparent;\n  }\n}\n\n@mixin ivq-secondary-button {\n  @include ivq-button;\n  color: $tone-1-color;\n  background: transparent;\n  &:hover:not(.disabled) {\n    background: $tone-4-color;\n  }\n  &:focus:not(.disabled) {\n    background: $tone-6-color;\n  }\n  &.disabled {\n    color: $tone-4-color;\n  }\n}\n\n@mixin optional-answer {\n  display: flex;\n  flex-shrink: 0;\n  height: 32px;\n  align-items: center;\n  padding: 5px 16px;\n  margin: 4px;\n\n  background: $button-background;\n  border-style: solid;\n  border-width: $selection-border-width;\n  border-radius: $roundness-1;\n  border-color: transparent;\n  font-size: 16px;\n  line-height: normal;\n  color: #ffffff;\n  cursor: pointer;\n  box-sizing: border-box;\n  outline-offset: -1px;\n  &:hover:not(.disabled) {\n    background: $button-background-active;\n  }\n  &.active {\n    border-color: $tone-1-color;\n    background: $button-background-active;\n  }\n  &.disabled {\n    cursor: default;\n  }\n}\n\n@mixin without-scrollbar {\n  /* Hide scrollbar for Chrome, Safari and Opera */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  /* Hide scrollbar for IE, Edge and Firefox */\n  -ms-overflow-style: none; /* IE and Edge */\n  scrollbar-width: none; /* Firefox */\n}\n\n@mixin ivq-scrollbar {\n  &::-webkit-scrollbar {\n    width: 4px;\n  }\n  &::-webkit-scrollbar-track {\n    background: rgba(33, 33, 33, 0.9);\n  }\n  &::-webkit-scrollbar-thumb {\n    border-radius: 3px;\n    background-color: rgba(255, 255, 255, 0.3);\n  }\n}\n\n@mixin outline-fix {\n  &:focus {\n    outline: none !important; // overwrite player !important styles\n  }\n}\n\n// solution taken from bootstrap lib (https://github.com/twbs/bootstrap/blob/v5.0.2/site/content/docs/5.0/helpers/visually-hidden.md)\n@mixin visually-hidden() {\n  position: absolute !important;\n  width: 1px !important;\n  height: 1px !important;\n  padding: 0 !important;\n  margin: -1px !important;\n  overflow: hidden !important;\n  clip: rect(0, 0, 0, 0) !important;\n  white-space: nowrap !important;\n  border: 0 !important;\n}\n\n$bottom-bar-height: 60px;\n\n@mixin reset-css {\n  div,\n  span,\n  applet,\n  object,\n  iframe,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  abbr,\n  acronym,\n  address,\n  big,\n  cite,\n  code,\n  del,\n  dfn,\n  em,\n  img,\n  ins,\n  kbd,\n  q,\n  s,\n  samp,\n  small,\n  strike,\n  strong,\n  sub,\n  sup,\n  tt,\n  var,\n  b,\n  u,\n  i,\n  center,\n  dl,\n  dt,\n  dd,\n  ol,\n  ul,\n  li,\n  fieldset,\n  form,\n  label,\n  legend,\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  figcaption,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  output,\n  ruby,\n  section,\n  summary,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section {\n    display: block;\n  }\n  ol,\n  ul {\n    list-style: none;\n  }\n  blockquote,\n  q {\n    quotes: none;\n  }\n  blockquote:before,\n  blockquote:after,\n  q:before,\n  q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n}\n","// Sass variables exported using the npm package for plugins usage\n\n// Accent Colors\n$primary-color: var(--playkit-primary-color);\n$primary-darker-color: var(--playkit-primary-darker-color);\n$primary-brighter-color: var(--playkit-primary-brighter-color);\n$primary-text-contrast-color: var(--playkit-primary-text-contrast-color);\n\n$secondary-color: var(--playkit-secondary-color);\n$secondary-darker-color: var(--playkit-secondary-darker-color);\n$secondary-brighter-color: var(--playkit-secondary-brighter-color);\n$secondary-text-contrast-color: var(--playkit-secondary-text-contrast-color);\n\n// Acknowledgement Colors\n$success-color: var(--playkit-success-color);\n$success-darker-color: var(--playkit-success-darker-color);\n$success-brighter-color: var(--playkit-success-brighter-color);\n$success-text-contrast-color: var(--playkit-success-text-contrast-color);\n\n$danger-color: var(--playkit-danger-color);\n$danger-darker-color: var(--playkit-danger-darker-color);\n$danger-brighter-color: var(--playkit-danger-brighter-color);\n$danger-text-contrast-color: var(--playkit-danger-text-contrast-color);\n\n$warning-color: var(--playkit-warning-color);\n$warning-darker-color: var(--playkit-warning-darker-color);\n$warning-brighter-color: var(--playkit-warning-brighter-color);\n$warning-text-contrast-color: var(--playkit-warning-text-contrast-color);\n\n// Tone Ramp\n$tone-1-color: var(--playkit-tone-1-color);\n$tone-2-color: var(--playkit-tone-2-color);\n$tone-3-color: var(--playkit-tone-3-color);\n$tone-4-color: var(--playkit-tone-4-color);\n$tone-5-color: var(--playkit-tone-5-color);\n$tone-6-color: var(--playkit-tone-6-color);\n$tone-7-color: var(--playkit-tone-7-color);\n$tone-8-color: var(--playkit-tone-8-color);\n\n$live-color: var(--playkit-live-color);\n$player-background-color: var(--playkit-player-background-color);\n$tab-focus-color: var(--playkit-tab-focus-color);\n$tooltip-background-color: var(--playkit-tooltip-background-color);\n$tooltip-color: var(--playkit-tooltip-color);\n$ads-color: var(--playkit-ads-color);\n"],sourceRoot:""}]),a.locals={trueFalseWrapper:"true-false__trueFalseWrapper___kfIY9",questionText:"true-false__questionText___GvKWd",visuallyHidden:"true-false__visuallyHidden___L9EEz",optionalAnswersWrapper:"true-false__optionalAnswersWrapper___rtapO",trueFalseAnswer:"true-false__trueFalseAnswer___n4a6B",disabled:"true-false__disabled___kx2gp",active:"true-false__active___iBhfA"};const s=a},5037:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(559),i=n.n(r),o=n(3476),a=n.n(o)()(i());a.push([e.id,"div.question-icon__questionIcon___ivH7Z{width:32px;height:32px;display:flex;padding:8px;flex-shrink:0;justify-content:center;align-items:center;color:var(--playkit-primary-text-contrast-color)}div.question-icon__questionIcon___ivH7Z.question-icon__defaultIcon___AeZmK{background:rgba(68,68,68,.5)}div.question-icon__questionIcon___ivH7Z.question-icon__correctAnswer___UXBSD{background:rgba(0,135,101,.5)}div.question-icon__questionIcon___ivH7Z.question-icon__incorrectAnswer___JG9Aa{background:rgba(225,36,55,.5)}","",{version:3,sources:["webpack://./components/quiz-review/question-icon/question-icon.scss","webpack://./../node_modules/@playkit-js/playkit-js-ui/src/styles/exported.scss"],names:[],mappings:"AAEA,wCACE,UAAA,CACA,WAAA,CACA,YAAA,CACA,WAAA,CACA,aAAA,CACA,sBAAA,CACA,kBAAA,CACA,gDCJ4B,CDK5B,2EACE,4BAAA,CAEF,6EACE,6BAAA,CAEF,+EACE,6BAAA",sourcesContent:["@import '../../../theme.scss';\n\ndiv.questionIcon {\n  width: 32px;\n  height: 32px;\n  display: flex;\n  padding: 8px;\n  flex-shrink: 0;\n  justify-content: center;\n  align-items: center;\n  color: $primary-text-contrast-color;\n  &.defaultIcon {\n    background: rgba(68, 68, 68, 0.5);\n  }\n  &.correctAnswer {\n    background: rgba(0, 135, 101, 0.5);\n  }\n  &.incorrectAnswer {\n    background: rgba(225, 36, 55, 0.5);\n  }\n}\n","// Sass variables exported using the npm package for plugins usage\n\n// Accent Colors\n$primary-color: var(--playkit-primary-color);\n$primary-darker-color: var(--playkit-primary-darker-color);\n$primary-brighter-color: var(--playkit-primary-brighter-color);\n$primary-text-contrast-color: var(--playkit-primary-text-contrast-color);\n\n$secondary-color: var(--playkit-secondary-color);\n$secondary-darker-color: var(--playkit-secondary-darker-color);\n$secondary-brighter-color: var(--playkit-secondary-brighter-color);\n$secondary-text-contrast-color: var(--playkit-secondary-text-contrast-color);\n\n// Acknowledgement Colors\n$success-color: var(--playkit-success-color);\n$success-darker-color: var(--playkit-success-darker-color);\n$success-brighter-color: var(--playkit-success-brighter-color);\n$success-text-contrast-color: var(--playkit-success-text-contrast-color);\n\n$danger-color: var(--playkit-danger-color);\n$danger-darker-color: var(--playkit-danger-darker-color);\n$danger-brighter-color: var(--playkit-danger-brighter-color);\n$danger-text-contrast-color: var(--playkit-danger-text-contrast-color);\n\n$warning-color: var(--playkit-warning-color);\n$warning-darker-color: var(--playkit-warning-darker-color);\n$warning-brighter-color: var(--playkit-warning-brighter-color);\n$warning-text-contrast-color: var(--playkit-warning-text-contrast-color);\n\n// Tone Ramp\n$tone-1-color: var(--playkit-tone-1-color);\n$tone-2-color: var(--playkit-tone-2-color);\n$tone-3-color: var(--playkit-tone-3-color);\n$tone-4-color: var(--playkit-tone-4-color);\n$tone-5-color: var(--playkit-tone-5-color);\n$tone-6-color: var(--playkit-tone-6-color);\n$tone-7-color: var(--playkit-tone-7-color);\n$tone-8-color: var(--playkit-tone-8-color);\n\n$live-color: var(--playkit-live-color);\n$player-background-color: var(--playkit-player-background-color);\n$tab-focus-color: var(--playkit-tab-focus-color);\n$tooltip-background-color: var(--playkit-tooltip-background-color);\n$tooltip-color: var(--playkit-tooltip-color);\n$ads-color: var(--playkit-ads-color);\n"],sourceRoot:""}]),a.locals={questionIcon:"question-icon__questionIcon___ivH7Z",defaultIcon:"question-icon__defaultIcon___AeZmK",correctAnswer:"question-icon__correctAnswer___UXBSD",incorrectAnswer:"question-icon__incorrectAnswer___JG9Aa"};const s=a},862:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(559),i=n.n(r),o=n(3476),a=n.n(o)()(i());a.push([e.id,".question-list-review__quizReviewWrapper___DtXAD{display:flex;flex-direction:column;justify-content:center;text-align:left;width:100%;height:100%;padding:48px 64px}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__quizScore___uJql1{flex-shrink:0;font-style:normal;line-height:normal;font-size:18px;color:#fff;overflow:auto;font-size:32px;margin-bottom:24px}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__questionsWrapper___yJqrq{display:flex;flex-direction:row;overflow:hidden;width:100%}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__questionsWrapper___yJqrq::-webkit-scrollbar{width:4px}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__questionsWrapper___yJqrq::-webkit-scrollbar-track{background:rgba(33,33,33,.9)}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__questionsWrapper___yJqrq::-webkit-scrollbar-thumb{border-radius:3px;background-color:rgba(255,255,255,.3)}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__questionsWrapper___yJqrq:hover{overflow:auto}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__questionsWrapper___yJqrq .question-list-review__questionsContainer___cMpIk{display:flex;flex-direction:column;width:100%;margin:4px}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__questionsWrapper___yJqrq .question-list-review__questionsContainer___cMpIk:focus{outline:none !important}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__questionsWrapper___yJqrq .question-list-review__questionsContainer___cMpIk .question-list-review__reviewAnswer___p7epM{display:flex;flex-shrink:0;height:32px;align-items:center;padding:5px 16px;margin:4px;background:rgba(255,255,255,.12);border-style:solid;border-width:2px;border-radius:4px;border-color:rgba(0,0,0,0);font-size:16px;line-height:normal;color:#fff;cursor:pointer;box-sizing:border-box;outline-offset:-1px;min-height:32px;margin:4px 0;padding:0;background:rgba(0,0,0,0);overflow:hidden}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__questionsWrapper___yJqrq .question-list-review__questionsContainer___cMpIk .question-list-review__reviewAnswer___p7epM:hover:not(.question-list-review__disabled___vR2bj){background:rgba(255,255,255,.2)}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__questionsWrapper___yJqrq .question-list-review__questionsContainer___cMpIk .question-list-review__reviewAnswer___p7epM.question-list-review__active___Wk0_P{border-color:var(--playkit-tone-1-color);background:rgba(255,255,255,.2)}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__questionsWrapper___yJqrq .question-list-review__questionsContainer___cMpIk .question-list-review__reviewAnswer___p7epM.question-list-review__disabled___vR2bj{cursor:default}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__questionsWrapper___yJqrq .question-list-review__questionsContainer___cMpIk .question-list-review__reviewAnswer___p7epM:first-child{margin-top:0}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__questionsWrapper___yJqrq .question-list-review__questionsContainer___cMpIk .question-list-review__reviewAnswer___p7epM:last-child{margin-bottom:0}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__questionsWrapper___yJqrq .question-list-review__questionsContainer___cMpIk .question-list-review__reviewAnswer___p7epM .question-list-review__questionLabel___fHnIo,.question-list-review__quizReviewWrapper___DtXAD .question-list-review__questionsWrapper___yJqrq .question-list-review__questionsContainer___cMpIk .question-list-review__reviewAnswer___p7epM .question-list-review__questionContent___RDRY3{height:100%;background:rgba(255,255,255,.12)}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__questionsWrapper___yJqrq .question-list-review__questionsContainer___cMpIk .question-list-review__reviewAnswer___p7epM .question-list-review__questionLabel___fHnIo{display:flex;justify-content:center;align-items:flex-start;flex-shrink:0;flex-basis:32px;padding:5px 8px;border-right-style:solid;border-right-width:1px;border-right-color:rgba(0,0,0,0);background-clip:padding-box}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__questionsWrapper___yJqrq .question-list-review__questionsContainer___cMpIk .question-list-review__reviewAnswer___p7epM .question-list-review__questionContent___RDRY3{flex-grow:1;padding:5px 16px 5px 8px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__questionsWrapper___yJqrq .question-list-review__questionsContainer___cMpIk .question-list-review__reviewAnswer___p7epM .question-list-review__visuallyHidden___dmDjQ{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__buttonWrapper___DKhyb{display:flex;margin-top:24px}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__buttonWrapper___DKhyb .question-list-review__primaryButton___hEgwe{display:flex;justify-content:center;align-items:center;padding:4px 8px;height:32px;border-radius:4px;border-width:1px;border-color:rgba(0,0,0,0);font-style:normal;font-weight:bold;font-size:14px;line-height:17px;text-align:left;color:#fff;box-sizing:border-box;color:var(--playkit-primary-text-contrast-color);background:var(--playkit-primary-color);min-width:64px;margin-right:16px}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__buttonWrapper___DKhyb .question-list-review__primaryButton___hEgwe:hover:not(.question-list-review__disabled___vR2bj){cursor:pointer}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__buttonWrapper___DKhyb .question-list-review__primaryButton___hEgwe:hover:not(.question-list-review__disabled___vR2bj){background:var(--playkit-primary-darker-color)}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__buttonWrapper___DKhyb .question-list-review__primaryButton___hEgwe:focus:not(.question-list-review__disabled___vR2bj){background:var(--playkit-primary-brighter-color)}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__buttonWrapper___DKhyb .question-list-review__primaryButton___hEgwe.question-list-review__disabled___vR2bj{border-width:1px;border-style:solid;border-color:var(--playkit-tone-4-color);color:var(--playkit-tone-4-color);background:rgba(0,0,0,0)}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__buttonWrapper___DKhyb .question-list-review__secondaryButton___jk1ti{display:flex;justify-content:center;align-items:center;padding:4px 8px;height:32px;border-radius:4px;border-width:1px;border-color:rgba(0,0,0,0);font-style:normal;font-weight:bold;font-size:14px;line-height:17px;text-align:left;color:#fff;box-sizing:border-box;color:var(--playkit-tone-1-color);background:rgba(0,0,0,0)}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__buttonWrapper___DKhyb .question-list-review__secondaryButton___jk1ti:hover:not(.question-list-review__disabled___vR2bj){cursor:pointer}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__buttonWrapper___DKhyb .question-list-review__secondaryButton___jk1ti:hover:not(.question-list-review__disabled___vR2bj){background:var(--playkit-tone-4-color)}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__buttonWrapper___DKhyb .question-list-review__secondaryButton___jk1ti:focus:not(.question-list-review__disabled___vR2bj){background:var(--playkit-tone-6-color)}.question-list-review__quizReviewWrapper___DtXAD .question-list-review__buttonWrapper___DKhyb .question-list-review__secondaryButton___jk1ti.question-list-review__disabled___vR2bj{color:var(--playkit-tone-4-color)}","",{version:3,sources:["webpack://./components/quiz-review/question-list-review/question-list-review.scss","webpack://./theme.scss","webpack://./../node_modules/@playkit-js/playkit-js-ui/src/styles/exported.scss"],names:[],mappings:"AAEA,iDACE,YAAA,CACA,qBAAA,CACA,sBAAA,CACA,eAAA,CACA,UAAA,CACA,WAAA,CACA,iBAAA,CACA,0FACE,aAAA,CCFF,iBAAA,CACA,kBAAA,CACA,cAAA,CACA,UAAA,CACA,aAAA,CAAA,cAAA,CDCE,kBAAA,CAEF,iGACE,YAAA,CACA,kBAAA,CACA,eAAA,CACA,UAAA,CCuGF,oHACE,SAAA,CAEF,0HACE,4BAAA,CAEF,0HACE,iBAAA,CACA,qCAAA,CD7GA,uGACE,aAAA,CAGF,mJACE,YAAA,CACA,qBAAA,CACA,UAAA,CACA,UAAA,CC0GJ,yJACE,uBAAA,CDzGE,+LCkDJ,YAAA,CACA,aAAA,CACA,WAAA,CACA,kBAAA,CACA,gBAAA,CACA,UAAA,CAEA,gCArFkB,CAsFlB,kBAAA,CACA,gBArFuB,CAsFvB,iBA1FY,CA2FZ,0BAAA,CACA,cAAA,CACA,kBAAA,CACA,UAAA,CACA,cAAA,CACA,qBAAA,CACA,mBAAA,CDjEM,eAAA,CACA,YAAA,CACA,SAAA,CACA,wBAAA,CACA,eAAA,CC8DN,kPACE,+BAhGuB,CAkGzB,oOACE,wCC1EW,CD2EX,+BApGuB,CAsGzB,sOACE,cAAA,CDrEI,2MACE,YAAA,CAEF,0MACE,eAAA,CAEF,0dAEE,WAAA,CACA,gCC5CU,CD8CZ,4OACE,YAAA,CACA,sBAAA,CACA,sBAAA,CACA,aAAA,CACA,eAAA,CACA,eAAA,CACA,wBAAA,CACA,sBAAA,CACA,gCAAA,CACA,2BAAA,CAEF,8OACE,WAAA,CACA,wBAAA,CACA,eAAA,CACA,kBAAA,CACA,sBAAA,CAEF,6OC0EN,4BAAA,CACA,oBAAA,CACA,qBAAA,CACA,oBAAA,CACA,sBAAA,CACA,0BAAA,CACA,gCAAA,CACA,6BAAA,CACA,mBAAA,CD5EA,8FACE,YAAA,CACA,eAAA,CACA,2ICnDF,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,eAAA,CACA,WAAA,CACA,iBA9BY,CA+BZ,gBAAA,CACA,0BAAA,CACA,iBAAA,CACA,gBAAA,CACA,cAAA,CACA,gBAAA,CACA,eAAA,CACA,UAAA,CACA,qBAAA,CAQA,gDC3C4B,CD4C5B,uCC/Cc,CF6EV,cAAA,CACA,iBAAA,CCvCJ,8LACE,cAAA,CAQF,8LACE,8CChDmB,CDkDrB,8LACE,gDClDqB,CDoDvB,kLACE,gBAAA,CACA,kBAAA,CACA,wCC3BW,CD4BX,iCC5BW,CD6BX,wBAAA,CDqBA,6ICxDF,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,eAAA,CACA,WAAA,CACA,iBA9BY,CA+BZ,gBAAA,CACA,0BAAA,CACA,iBAAA,CACA,gBAAA,CACA,cAAA,CACA,gBAAA,CACA,eAAA,CACA,UAAA,CACA,qBAAA,CA2BA,iCCtCa,CDuCb,wBAAA,CA3BA,gMACE,cAAA,CA2BF,gMACE,sCCtCW,CDwCb,gMACE,sCCvCW,CDyCb,oLACE,iCC5CW",sourcesContent:["@import '../../../theme.scss';\n\n.quizReviewWrapper {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  text-align: left;\n  width: 100%;\n  height: 100%;\n  padding: 48px 64px;\n  .quizScore {\n    flex-shrink: 0;\n    @include ivq-text;\n    font-size: 32px;\n    margin-bottom: 24px;\n  }\n  .questionsWrapper {\n    display: flex;\n    flex-direction: row;\n    overflow: hidden;\n    width: 100%;\n    @include ivq-scrollbar;\n    &:hover {\n      overflow: auto;\n    }\n\n    .questionsContainer {\n      display: flex;\n      flex-direction: column;\n      width: 100%;\n      margin: 4px;\n      @include outline-fix;\n      .reviewAnswer {\n        @include optional-answer;\n        min-height: 32px;\n        margin: 4px 0;\n        padding: 0;\n        background: transparent;\n        overflow: hidden;\n        &:first-child {\n          margin-top: 0;\n        }\n        &:last-child {\n          margin-bottom: 0;\n        }\n        .questionLabel,\n        .questionContent {\n          height: 100%;\n          background: $button-background;\n        }\n        .questionLabel {\n          display: flex;\n          justify-content: center;\n          align-items: flex-start;\n          flex-shrink: 0;\n          flex-basis: 32px;\n          padding: 5px 8px;\n          border-right-style: solid;\n          border-right-width: 1px;\n          border-right-color: transparent;\n          background-clip: padding-box;\n        }\n        .questionContent {\n          flex-grow: 1;\n          padding: 5px 16px 5px 8px;\n          overflow: hidden;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n        }\n        .visuallyHidden {\n          @include visually-hidden;\n        }\n      }\n    }\n  }\n  .buttonWrapper {\n    display: flex;\n    margin-top: 24px;\n    .primaryButton {\n      @include ivq-primary-button;\n      min-width: 64px;\n      margin-right: 16px;\n    }\n    .secondaryButton {\n      @include ivq-secondary-button;\n    }\n  }\n}\n","@import '~@playkit-js/playkit-js-ui';\n\n$roundness-1: 4px;\n\n$button-background: rgba(255, 255, 255, 0.12);\n$button-background-active: rgba(255, 255, 255, 0.2);\n$selection-border-width: 2px;\n\n@mixin ivq-text {\n  font-style: normal;\n  line-height: normal;\n  font-size: 18px;\n  color: #ffffff;\n  overflow: auto;\n}\n\n@mixin ivq-question-content {\n  flex-shrink: 0;\n  font-weight: bold;\n  line-height: normal;\n  overflow-wrap: break-word;\n  &:focus {\n    outline: none !important; // overwride player styles\n  }\n}\n\n@mixin ivq-button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 4px 8px;\n  height: 32px;\n  border-radius: $roundness-1;\n  border-width: 1px;\n  border-color: transparent;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 14px;\n  line-height: 17px;\n  text-align: left;\n  color: #ffffff;\n  box-sizing: border-box;\n  &:hover:not(.disabled) {\n    cursor: pointer;\n  }\n}\n\n@mixin ivq-primary-button {\n  @include ivq-button;\n  color: $primary-text-contrast-color;\n  background: $primary-color;\n  &:hover:not(.disabled) {\n    background: $primary-darker-color;\n  }\n  &:focus:not(.disabled) {\n    background: $primary-brighter-color;\n  }\n  &.disabled {\n    border-width: 1px;\n    border-style: solid;\n    border-color: $tone-4-color;\n    color: $tone-4-color;\n    background: transparent;\n  }\n}\n\n@mixin ivq-secondary-button {\n  @include ivq-button;\n  color: $tone-1-color;\n  background: transparent;\n  &:hover:not(.disabled) {\n    background: $tone-4-color;\n  }\n  &:focus:not(.disabled) {\n    background: $tone-6-color;\n  }\n  &.disabled {\n    color: $tone-4-color;\n  }\n}\n\n@mixin optional-answer {\n  display: flex;\n  flex-shrink: 0;\n  height: 32px;\n  align-items: center;\n  padding: 5px 16px;\n  margin: 4px;\n\n  background: $button-background;\n  border-style: solid;\n  border-width: $selection-border-width;\n  border-radius: $roundness-1;\n  border-color: transparent;\n  font-size: 16px;\n  line-height: normal;\n  color: #ffffff;\n  cursor: pointer;\n  box-sizing: border-box;\n  outline-offset: -1px;\n  &:hover:not(.disabled) {\n    background: $button-background-active;\n  }\n  &.active {\n    border-color: $tone-1-color;\n    background: $button-background-active;\n  }\n  &.disabled {\n    cursor: default;\n  }\n}\n\n@mixin without-scrollbar {\n  /* Hide scrollbar for Chrome, Safari and Opera */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  /* Hide scrollbar for IE, Edge and Firefox */\n  -ms-overflow-style: none; /* IE and Edge */\n  scrollbar-width: none; /* Firefox */\n}\n\n@mixin ivq-scrollbar {\n  &::-webkit-scrollbar {\n    width: 4px;\n  }\n  &::-webkit-scrollbar-track {\n    background: rgba(33, 33, 33, 0.9);\n  }\n  &::-webkit-scrollbar-thumb {\n    border-radius: 3px;\n    background-color: rgba(255, 255, 255, 0.3);\n  }\n}\n\n@mixin outline-fix {\n  &:focus {\n    outline: none !important; // overwrite player !important styles\n  }\n}\n\n// solution taken from bootstrap lib (https://github.com/twbs/bootstrap/blob/v5.0.2/site/content/docs/5.0/helpers/visually-hidden.md)\n@mixin visually-hidden() {\n  position: absolute !important;\n  width: 1px !important;\n  height: 1px !important;\n  padding: 0 !important;\n  margin: -1px !important;\n  overflow: hidden !important;\n  clip: rect(0, 0, 0, 0) !important;\n  white-space: nowrap !important;\n  border: 0 !important;\n}\n\n$bottom-bar-height: 60px;\n\n@mixin reset-css {\n  div,\n  span,\n  applet,\n  object,\n  iframe,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  abbr,\n  acronym,\n  address,\n  big,\n  cite,\n  code,\n  del,\n  dfn,\n  em,\n  img,\n  ins,\n  kbd,\n  q,\n  s,\n  samp,\n  small,\n  strike,\n  strong,\n  sub,\n  sup,\n  tt,\n  var,\n  b,\n  u,\n  i,\n  center,\n  dl,\n  dt,\n  dd,\n  ol,\n  ul,\n  li,\n  fieldset,\n  form,\n  label,\n  legend,\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  figcaption,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  output,\n  ruby,\n  section,\n  summary,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section {\n    display: block;\n  }\n  ol,\n  ul {\n    list-style: none;\n  }\n  blockquote,\n  q {\n    quotes: none;\n  }\n  blockquote:before,\n  blockquote:after,\n  q:before,\n  q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n}\n","// Sass variables exported using the npm package for plugins usage\n\n// Accent Colors\n$primary-color: var(--playkit-primary-color);\n$primary-darker-color: var(--playkit-primary-darker-color);\n$primary-brighter-color: var(--playkit-primary-brighter-color);\n$primary-text-contrast-color: var(--playkit-primary-text-contrast-color);\n\n$secondary-color: var(--playkit-secondary-color);\n$secondary-darker-color: var(--playkit-secondary-darker-color);\n$secondary-brighter-color: var(--playkit-secondary-brighter-color);\n$secondary-text-contrast-color: var(--playkit-secondary-text-contrast-color);\n\n// Acknowledgement Colors\n$success-color: var(--playkit-success-color);\n$success-darker-color: var(--playkit-success-darker-color);\n$success-brighter-color: var(--playkit-success-brighter-color);\n$success-text-contrast-color: var(--playkit-success-text-contrast-color);\n\n$danger-color: var(--playkit-danger-color);\n$danger-darker-color: var(--playkit-danger-darker-color);\n$danger-brighter-color: var(--playkit-danger-brighter-color);\n$danger-text-contrast-color: var(--playkit-danger-text-contrast-color);\n\n$warning-color: var(--playkit-warning-color);\n$warning-darker-color: var(--playkit-warning-darker-color);\n$warning-brighter-color: var(--playkit-warning-brighter-color);\n$warning-text-contrast-color: var(--playkit-warning-text-contrast-color);\n\n// Tone Ramp\n$tone-1-color: var(--playkit-tone-1-color);\n$tone-2-color: var(--playkit-tone-2-color);\n$tone-3-color: var(--playkit-tone-3-color);\n$tone-4-color: var(--playkit-tone-4-color);\n$tone-5-color: var(--playkit-tone-5-color);\n$tone-6-color: var(--playkit-tone-6-color);\n$tone-7-color: var(--playkit-tone-7-color);\n$tone-8-color: var(--playkit-tone-8-color);\n\n$live-color: var(--playkit-live-color);\n$player-background-color: var(--playkit-player-background-color);\n$tab-focus-color: var(--playkit-tab-focus-color);\n$tooltip-background-color: var(--playkit-tooltip-background-color);\n$tooltip-color: var(--playkit-tooltip-color);\n$ads-color: var(--playkit-ads-color);\n"],sourceRoot:""}]),a.locals={quizReviewWrapper:"question-list-review__quizReviewWrapper___DtXAD",quizScore:"question-list-review__quizScore___uJql1",questionsWrapper:"question-list-review__questionsWrapper___yJqrq",questionsContainer:"question-list-review__questionsContainer___cMpIk",reviewAnswer:"question-list-review__reviewAnswer___p7epM",disabled:"question-list-review__disabled___vR2bj",active:"question-list-review__active___Wk0_P",questionLabel:"question-list-review__questionLabel___fHnIo",questionContent:"question-list-review__questionContent___RDRY3",visuallyHidden:"question-list-review__visuallyHidden___dmDjQ",buttonWrapper:"question-list-review__buttonWrapper___DKhyb",primaryButton:"question-list-review__primaryButton___hEgwe",secondaryButton:"question-list-review__secondaryButton___jk1ti"};const s=a},485:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(559),i=n.n(r),o=n(3476),a=n.n(o)()(i());a.push([e.id,".question-review__questionReviewWrapper___FOTbA{display:flex;flex-direction:column;flex-grow:1;max-height:calc(100% - 60px);padding:32px 32px 12px 32px}.question-review__questionReviewWrapper___FOTbA .question-review__backButtonContainer___Zwube{display:flex;justify-content:flex-start}.question-review__questionReviewWrapper___FOTbA .question-review__backButtonContainer___Zwube .question-review__backButton___VkTfr{display:flex;align-items:center;background:rgba(0,0,0,0);padding:0 12px;border:none;width:fit-content;height:32px;cursor:pointer;font-style:normal;line-height:normal;font-size:18px;color:#fff;overflow:auto;font-size:14px;font-weight:700}.question-review__questionReviewWrapper___FOTbA .question-review__backButtonContainer___Zwube .question-review__backButton___VkTfr .question-review__iconContainer___OUM6D{width:24px;height:24px;padding:3px}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU{display:flex;flex-direction:column;justify-content:center;width:100%;height:100%;overflow:hidden;text-align:left}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU::-webkit-scrollbar{width:4px}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU::-webkit-scrollbar-track{background:rgba(33,33,33,.9)}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU::-webkit-scrollbar-thumb{border-radius:3px;background-color:rgba(255,255,255,.3)}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU:hover{overflow:auto}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__questionText___pONFe{font-style:normal;line-height:normal;font-size:18px;color:#fff;overflow:auto;flex-shrink:0;overflow-wrap:break-word;font-weight:bold;margin-bottom:4px}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__questionText___pONFe .question-review__visuallyHidden___wey_h{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__correctAnswerIs___M2jQr{font-style:normal;line-height:normal;font-size:18px;color:#fff;overflow:auto;flex-shrink:0;font-size:16px;margin-bottom:10px}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__yourAnswer___0Njea,.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__openQuestionAnswer___mg4hy{font-style:normal;line-height:normal;font-size:18px;color:#fff;overflow:auto;flex-shrink:0;overflow-wrap:break-word;font-size:14px}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__yourAnswer___0Njea{margin-top:16px;margin-bottom:4px}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__yourAnswer___0Njea .question-review__visuallyHidden___wey_h{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__openQuestionAnswer___mg4hy{margin-top:12px;margin-bottom:10px}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__trueFalseAnswerWrapper___xXB0x{display:flex;margin-top:4px}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__trueFalseAnswerWrapper___xXB0x .question-review__trueFalseAnswer___Gmj5V{display:flex;flex-shrink:0;height:32px;align-items:center;padding:5px 16px;margin:4px;background:rgba(255,255,255,.12);border-style:solid;border-width:2px;border-radius:4px;border-color:rgba(0,0,0,0);font-size:16px;line-height:normal;color:#fff;cursor:pointer;box-sizing:border-box;outline-offset:-1px;justify-content:space-between;padding-right:0;flex-shrink:1;width:100%;max-width:300px}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__trueFalseAnswerWrapper___xXB0x .question-review__trueFalseAnswer___Gmj5V:hover:not(.question-review__disabled___I02Zu){background:rgba(255,255,255,.2)}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__trueFalseAnswerWrapper___xXB0x .question-review__trueFalseAnswer___Gmj5V.question-review__active___fhVw1{border-color:var(--playkit-tone-1-color);background:rgba(255,255,255,.2)}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__trueFalseAnswerWrapper___xXB0x .question-review__trueFalseAnswer___Gmj5V.question-review__disabled___I02Zu{cursor:default}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__trueFalseAnswerWrapper___xXB0x .question-review__trueFalseAnswer___Gmj5V:first-child{margin-right:8px}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__multiAnswersWrapper___ILSTp{display:flex;flex-direction:row;overflow:hidden;margin-top:4px}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__multiAnswersWrapper___ILSTp::-webkit-scrollbar{width:4px}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__multiAnswersWrapper___ILSTp::-webkit-scrollbar-track{background:rgba(33,33,33,.9)}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__multiAnswersWrapper___ILSTp::-webkit-scrollbar-thumb{border-radius:3px;background-color:rgba(255,255,255,.3)}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__multiAnswersWrapper___ILSTp:hover{overflow:auto}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__multiAnswersWrapper___ILSTp .question-review__multiAnswersContainer___vKoOw{display:flex;flex-direction:column;flex-grow:1;flex-shrink:0;max-width:100%;overflow:hidden}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__multiAnswersWrapper___ILSTp .question-review__multiAnswersContainer___vKoOw .question-review__multiSelectAnswer___tu4gF{display:flex;flex-shrink:0;height:32px;align-items:center;padding:5px 16px;margin:4px;background:rgba(255,255,255,.12);border-style:solid;border-width:2px;border-radius:4px;border-color:rgba(0,0,0,0);font-size:16px;line-height:normal;color:#fff;cursor:pointer;box-sizing:border-box;outline-offset:-1px;height:auto;min-height:32px;margin:4px 0;padding:0;background:rgba(0,0,0,0)}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__multiAnswersWrapper___ILSTp .question-review__multiAnswersContainer___vKoOw .question-review__multiSelectAnswer___tu4gF:hover:not(.question-review__disabled___I02Zu){background:rgba(255,255,255,.2)}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__multiAnswersWrapper___ILSTp .question-review__multiAnswersContainer___vKoOw .question-review__multiSelectAnswer___tu4gF.question-review__active___fhVw1{border-color:var(--playkit-tone-1-color);background:rgba(255,255,255,.2)}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__multiAnswersWrapper___ILSTp .question-review__multiAnswersContainer___vKoOw .question-review__multiSelectAnswer___tu4gF.question-review__disabled___I02Zu{cursor:default}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__multiAnswersWrapper___ILSTp .question-review__multiAnswersContainer___vKoOw .question-review__multiSelectAnswer___tu4gF:first-child{margin-top:0}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__multiAnswersWrapper___ILSTp .question-review__multiAnswersContainer___vKoOw .question-review__multiSelectAnswer___tu4gF:last-child{margin-bottom:0}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__multiAnswersWrapper___ILSTp .question-review__multiAnswersContainer___vKoOw .question-review__multiSelectAnswer___tu4gF .question-review__questionLabel___xsnZq,.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__multiAnswersWrapper___ILSTp .question-review__multiAnswersContainer___vKoOw .question-review__multiSelectAnswer___tu4gF .question-review__questionContent___kjK83,.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__multiAnswersWrapper___ILSTp .question-review__multiAnswersContainer___vKoOw .question-review__multiSelectAnswer___tu4gF .question-review__iconPlaceholder___p8Q_W{background:rgba(255,255,255,.12)}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__multiAnswersWrapper___ILSTp .question-review__multiAnswersContainer___vKoOw .question-review__multiSelectAnswer___tu4gF .question-review__questionLabel___xsnZq{display:flex;justify-content:center;align-items:flex-start;height:100%;flex-shrink:0;flex-basis:32px;padding:5px 8px;border-right-style:solid;border-right-width:1px;border-right-color:rgba(0,0,0,0);background-clip:padding-box}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__multiAnswersWrapper___ILSTp .question-review__multiAnswersContainer___vKoOw .question-review__multiSelectAnswer___tu4gF .question-review__questionContent___kjK83{min-width:0;max-width:calc(100% - 64px);height:100%;width:max-content;flex-grow:1;flex-shrink:0;padding:5px 16px 5px 8px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__multiAnswersWrapper___ILSTp .question-review__multiAnswersContainer___vKoOw .question-review__multiSelectAnswer___tu4gF .question-review__iconPlaceholder___p8Q_W{height:100%;flex-basis:32px;flex-shrink:0}.question-review__questionReviewWrapper___FOTbA .question-review__quizQuestionContainer___b9WwU .question-review__multiAnswersWrapper___ILSTp .question-review__rightDivider___Vmcyg{flex-grow:50}","",{version:3,sources:["webpack://./components/quiz-review/question-review/question-review.scss","webpack://./theme.scss","webpack://./../node_modules/@playkit-js/playkit-js-ui/src/styles/exported.scss"],names:[],mappings:"AAEA,gDACE,YAAA,CACA,qBAAA,CACA,WAAA,CACA,4BAAA,CACA,2BAAA,CACA,8FACE,YAAA,CACA,0BAAA,CACA,mIACE,YAAA,CACA,kBAAA,CACA,wBAAA,CACA,cAAA,CACA,WAAA,CACA,iBAAA,CACA,WAAA,CACA,cAAA,CCVJ,iBAAA,CACA,kBAAA,CACA,cAAA,CACA,UAAA,CACA,aAAA,CDQI,cAAA,CACA,eAAA,CACA,2KACE,UAAA,CACA,WAAA,CACA,WAAA,CAIN,gGACE,YAAA,CACA,qBAAA,CACA,sBAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CACA,eAAA,CCsFF,mHACE,SAAA,CAEF,yHACE,4BAAA,CAEF,yHACE,iBAAA,CACA,qCAAA,CD5FA,sGACE,aAAA,CAGF,uIClCF,iBAAA,CACA,kBAAA,CACA,cAAA,CACA,UAAA,CACA,aAAA,CDgCI,aAAA,CACA,wBAAA,CACA,gBAAA,CACA,iBAAA,CACA,gLC8FJ,4BAAA,CACA,oBAAA,CACA,qBAAA,CACA,oBAAA,CACA,sBAAA,CACA,0BAAA,CACA,gCAAA,CACA,6BAAA,CACA,mBAAA,CDlGE,0IC5CF,iBAAA,CACA,kBAAA,CACA,cAAA,CACA,UAAA,CACA,aAAA,CD0CI,aAAA,CACA,cAAA,CACA,kBAAA,CAGF,kRCnDF,iBAAA,CACA,kBAAA,CACA,cAAA,CACA,UAAA,CACA,aAAA,CDkDI,aAAA,CACA,wBAAA,CACA,cAAA,CAGF,qIACE,eAAA,CACA,iBAAA,CACA,8KCwEJ,4BAAA,CACA,oBAAA,CACA,qBAAA,CACA,oBAAA,CACA,sBAAA,CACA,0BAAA,CACA,gCAAA,CACA,6BAAA,CACA,mBAAA,CD3EE,6IACE,eAAA,CACA,kBAAA,CAGF,iJACE,YAAA,CACA,cAAA,CACA,2LCFJ,YAAA,CACA,aAAA,CACA,WAAA,CACA,kBAAA,CACA,gBAAA,CACA,UAAA,CAEA,gCArFkB,CAsFlB,kBAAA,CACA,gBArFuB,CAsFvB,iBA1FY,CA2FZ,0BAAA,CACA,cAAA,CACA,kBAAA,CACA,UAAA,CACA,cAAA,CACA,qBAAA,CACA,mBAAA,CDbM,6BAAA,CACA,eAAA,CACA,aAAA,CACA,UAAA,CACA,eAAA,CCUN,yOACE,+BAhGuB,CAkGzB,2NACE,wCC1EW,CD2EX,+BApGuB,CAsGzB,6NACE,cAAA,CDjBI,uMACE,gBAAA,CAKN,8IACE,YAAA,CACA,kBAAA,CACA,eAAA,CACA,cAAA,CCsBJ,iKACE,SAAA,CAEF,uKACE,4BAAA,CAEF,uKACE,iBAAA,CACA,qCAAA,CD5BE,oJACE,aAAA,CAGF,8LACE,YAAA,CACA,qBAAA,CACA,WAAA,CACA,aAAA,CACA,cAAA,CACA,eAAA,CACA,0OChCN,YAAA,CACA,aAAA,CACA,WAAA,CACA,kBAAA,CACA,gBAAA,CACA,UAAA,CAEA,gCArFkB,CAsFlB,kBAAA,CACA,gBArFuB,CAsFvB,iBA1FY,CA2FZ,0BAAA,CACA,cAAA,CACA,kBAAA,CACA,UAAA,CACA,cAAA,CACA,qBAAA,CACA,mBAAA,CDiBQ,WAAA,CACA,eAAA,CACA,YAAA,CACA,SAAA,CACA,wBAAA,CCpBR,wRACE,+BAhGuB,CAkGzB,0QACE,wCC1EW,CD2EX,+BApGuB,CAsGzB,4QACE,cAAA,CDaM,sPACE,YAAA,CAEF,qPACE,eAAA,CAEF,0zBAGE,gCC9HQ,CDgIV,kRACE,YAAA,CACA,sBAAA,CACA,sBAAA,CACA,WAAA,CACA,aAAA,CACA,eAAA,CACA,eAAA,CACA,wBAAA,CACA,sBAAA,CACA,gCAAA,CACA,2BAAA,CAEF,oRACE,WAAA,CACA,2BAAA,CACA,WAAA,CACA,iBAAA,CACA,WAAA,CACA,aAAA,CACA,wBAAA,CACA,eAAA,CACA,kBAAA,CACA,sBAAA,CAEF,oRACE,WAAA,CACA,eAAA,CACA,aAAA,CAIN,qLACE,YAAA",sourcesContent:["@import '../../../theme.scss';\n\n.questionReviewWrapper {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  max-height: calc(100% - #{$bottom-bar-height});\n  padding: 32px 32px 12px 32px;\n  .backButtonContainer {\n    display: flex;\n    justify-content: flex-start;\n    .backButton {\n      display: flex;\n      align-items: center;\n      background: transparent;\n      padding: 0 12px;\n      border: none;\n      width: fit-content;\n      height: 32px;\n      cursor: pointer;\n      @include ivq-text;\n      font-size: 14px;\n      font-weight: 700;\n      .iconContainer {\n        width: 24px;\n        height: 24px;\n        padding: 3px;\n      }\n    }\n  }\n  .quizQuestionContainer {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    text-align: left;\n    @include ivq-scrollbar;\n    &:hover {\n      overflow: auto;\n    }\n\n    .questionText {\n      @include ivq-text;\n      flex-shrink: 0;\n      overflow-wrap: break-word;\n      font-weight: bold;\n      margin-bottom: 4px;\n      .visuallyHidden {\n        @include visually-hidden;\n      }\n    }\n    .correctAnswerIs {\n      @include ivq-text;\n      flex-shrink: 0;\n      font-size: 16px;\n      margin-bottom: 10px;\n    }\n\n    .yourAnswer,\n    .openQuestionAnswer {\n      @include ivq-text;\n      flex-shrink: 0;\n      overflow-wrap: break-word;\n      font-size: 14px;\n    }\n\n    .yourAnswer {\n      margin-top: 16px;\n      margin-bottom: 4px;\n      .visuallyHidden {\n        @include visually-hidden;\n      }\n    }\n\n    .openQuestionAnswer {\n      margin-top: 12px;\n      margin-bottom: 10px;\n    }\n\n    .trueFalseAnswerWrapper {\n      display: flex;\n      margin-top: 4px;\n      .trueFalseAnswer {\n        @include optional-answer;\n        justify-content: space-between;\n        padding-right: 0;\n        flex-shrink: 1;\n        width: 100%;\n        max-width: 300px;\n        &:first-child {\n          margin-right: 8px;\n        }\n      }\n    }\n\n    .multiAnswersWrapper {\n      display: flex;\n      flex-direction: row;\n      overflow: hidden;\n      margin-top: 4px;\n      @include ivq-scrollbar;\n      &:hover {\n        overflow: auto;\n      }\n\n      .multiAnswersContainer {\n        display: flex;\n        flex-direction: column;\n        flex-grow: 1;\n        flex-shrink: 0;\n        max-width: 100%;\n        overflow: hidden;\n        .multiSelectAnswer {\n          @include optional-answer;\n          height: auto;\n          min-height: 32px;\n          margin: 4px 0;\n          padding: 0;\n          background: transparent;\n          &:first-child {\n            margin-top: 0;\n          }\n          &:last-child {\n            margin-bottom: 0;\n          }\n          .questionLabel,\n          .questionContent,\n          .iconPlaceholder {\n            background: $button-background;\n          }\n          .questionLabel {\n            display: flex;\n            justify-content: center;\n            align-items: flex-start;\n            height: 100%;\n            flex-shrink: 0;\n            flex-basis: 32px;\n            padding: 5px 8px;\n            border-right-style: solid;\n            border-right-width: 1px;\n            border-right-color: transparent;\n            background-clip: padding-box;\n          }\n          .questionContent {\n            min-width: 0;\n            max-width: calc(100% - 64px); // question label + icon or placeholder\n            height: 100%;\n            width: max-content;\n            flex-grow: 1;\n            flex-shrink: 0;\n            padding: 5px 16px 5px 8px;\n            overflow: hidden;\n            white-space: nowrap;\n            text-overflow: ellipsis;\n          }\n          .iconPlaceholder {\n            height: 100%;\n            flex-basis: 32px;\n            flex-shrink: 0;\n          }\n        }\n      }\n      .rightDivider {\n        flex-grow: 50;\n      }\n    }\n  }\n}\n","@import '~@playkit-js/playkit-js-ui';\n\n$roundness-1: 4px;\n\n$button-background: rgba(255, 255, 255, 0.12);\n$button-background-active: rgba(255, 255, 255, 0.2);\n$selection-border-width: 2px;\n\n@mixin ivq-text {\n  font-style: normal;\n  line-height: normal;\n  font-size: 18px;\n  color: #ffffff;\n  overflow: auto;\n}\n\n@mixin ivq-question-content {\n  flex-shrink: 0;\n  font-weight: bold;\n  line-height: normal;\n  overflow-wrap: break-word;\n  &:focus {\n    outline: none !important; // overwride player styles\n  }\n}\n\n@mixin ivq-button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 4px 8px;\n  height: 32px;\n  border-radius: $roundness-1;\n  border-width: 1px;\n  border-color: transparent;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 14px;\n  line-height: 17px;\n  text-align: left;\n  color: #ffffff;\n  box-sizing: border-box;\n  &:hover:not(.disabled) {\n    cursor: pointer;\n  }\n}\n\n@mixin ivq-primary-button {\n  @include ivq-button;\n  color: $primary-text-contrast-color;\n  background: $primary-color;\n  &:hover:not(.disabled) {\n    background: $primary-darker-color;\n  }\n  &:focus:not(.disabled) {\n    background: $primary-brighter-color;\n  }\n  &.disabled {\n    border-width: 1px;\n    border-style: solid;\n    border-color: $tone-4-color;\n    color: $tone-4-color;\n    background: transparent;\n  }\n}\n\n@mixin ivq-secondary-button {\n  @include ivq-button;\n  color: $tone-1-color;\n  background: transparent;\n  &:hover:not(.disabled) {\n    background: $tone-4-color;\n  }\n  &:focus:not(.disabled) {\n    background: $tone-6-color;\n  }\n  &.disabled {\n    color: $tone-4-color;\n  }\n}\n\n@mixin optional-answer {\n  display: flex;\n  flex-shrink: 0;\n  height: 32px;\n  align-items: center;\n  padding: 5px 16px;\n  margin: 4px;\n\n  background: $button-background;\n  border-style: solid;\n  border-width: $selection-border-width;\n  border-radius: $roundness-1;\n  border-color: transparent;\n  font-size: 16px;\n  line-height: normal;\n  color: #ffffff;\n  cursor: pointer;\n  box-sizing: border-box;\n  outline-offset: -1px;\n  &:hover:not(.disabled) {\n    background: $button-background-active;\n  }\n  &.active {\n    border-color: $tone-1-color;\n    background: $button-background-active;\n  }\n  &.disabled {\n    cursor: default;\n  }\n}\n\n@mixin without-scrollbar {\n  /* Hide scrollbar for Chrome, Safari and Opera */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  /* Hide scrollbar for IE, Edge and Firefox */\n  -ms-overflow-style: none; /* IE and Edge */\n  scrollbar-width: none; /* Firefox */\n}\n\n@mixin ivq-scrollbar {\n  &::-webkit-scrollbar {\n    width: 4px;\n  }\n  &::-webkit-scrollbar-track {\n    background: rgba(33, 33, 33, 0.9);\n  }\n  &::-webkit-scrollbar-thumb {\n    border-radius: 3px;\n    background-color: rgba(255, 255, 255, 0.3);\n  }\n}\n\n@mixin outline-fix {\n  &:focus {\n    outline: none !important; // overwrite player !important styles\n  }\n}\n\n// solution taken from bootstrap lib (https://github.com/twbs/bootstrap/blob/v5.0.2/site/content/docs/5.0/helpers/visually-hidden.md)\n@mixin visually-hidden() {\n  position: absolute !important;\n  width: 1px !important;\n  height: 1px !important;\n  padding: 0 !important;\n  margin: -1px !important;\n  overflow: hidden !important;\n  clip: rect(0, 0, 0, 0) !important;\n  white-space: nowrap !important;\n  border: 0 !important;\n}\n\n$bottom-bar-height: 60px;\n\n@mixin reset-css {\n  div,\n  span,\n  applet,\n  object,\n  iframe,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  abbr,\n  acronym,\n  address,\n  big,\n  cite,\n  code,\n  del,\n  dfn,\n  em,\n  img,\n  ins,\n  kbd,\n  q,\n  s,\n  samp,\n  small,\n  strike,\n  strong,\n  sub,\n  sup,\n  tt,\n  var,\n  b,\n  u,\n  i,\n  center,\n  dl,\n  dt,\n  dd,\n  ol,\n  ul,\n  li,\n  fieldset,\n  form,\n  label,\n  legend,\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  figcaption,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  output,\n  ruby,\n  section,\n  summary,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section {\n    display: block;\n  }\n  ol,\n  ul {\n    list-style: none;\n  }\n  blockquote,\n  q {\n    quotes: none;\n  }\n  blockquote:before,\n  blockquote:after,\n  q:before,\n  q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n}\n","// Sass variables exported using the npm package for plugins usage\n\n// Accent Colors\n$primary-color: var(--playkit-primary-color);\n$primary-darker-color: var(--playkit-primary-darker-color);\n$primary-brighter-color: var(--playkit-primary-brighter-color);\n$primary-text-contrast-color: var(--playkit-primary-text-contrast-color);\n\n$secondary-color: var(--playkit-secondary-color);\n$secondary-darker-color: var(--playkit-secondary-darker-color);\n$secondary-brighter-color: var(--playkit-secondary-brighter-color);\n$secondary-text-contrast-color: var(--playkit-secondary-text-contrast-color);\n\n// Acknowledgement Colors\n$success-color: var(--playkit-success-color);\n$success-darker-color: var(--playkit-success-darker-color);\n$success-brighter-color: var(--playkit-success-brighter-color);\n$success-text-contrast-color: var(--playkit-success-text-contrast-color);\n\n$danger-color: var(--playkit-danger-color);\n$danger-darker-color: var(--playkit-danger-darker-color);\n$danger-brighter-color: var(--playkit-danger-brighter-color);\n$danger-text-contrast-color: var(--playkit-danger-text-contrast-color);\n\n$warning-color: var(--playkit-warning-color);\n$warning-darker-color: var(--playkit-warning-darker-color);\n$warning-brighter-color: var(--playkit-warning-brighter-color);\n$warning-text-contrast-color: var(--playkit-warning-text-contrast-color);\n\n// Tone Ramp\n$tone-1-color: var(--playkit-tone-1-color);\n$tone-2-color: var(--playkit-tone-2-color);\n$tone-3-color: var(--playkit-tone-3-color);\n$tone-4-color: var(--playkit-tone-4-color);\n$tone-5-color: var(--playkit-tone-5-color);\n$tone-6-color: var(--playkit-tone-6-color);\n$tone-7-color: var(--playkit-tone-7-color);\n$tone-8-color: var(--playkit-tone-8-color);\n\n$live-color: var(--playkit-live-color);\n$player-background-color: var(--playkit-player-background-color);\n$tab-focus-color: var(--playkit-tab-focus-color);\n$tooltip-background-color: var(--playkit-tooltip-background-color);\n$tooltip-color: var(--playkit-tooltip-color);\n$ads-color: var(--playkit-ads-color);\n"],sourceRoot:""}]),a.locals={questionReviewWrapper:"question-review__questionReviewWrapper___FOTbA",backButtonContainer:"question-review__backButtonContainer___Zwube",backButton:"question-review__backButton___VkTfr",iconContainer:"question-review__iconContainer___OUM6D",quizQuestionContainer:"question-review__quizQuestionContainer___b9WwU",questionText:"question-review__questionText___pONFe",visuallyHidden:"question-review__visuallyHidden___wey_h",correctAnswerIs:"question-review__correctAnswerIs___M2jQr",yourAnswer:"question-review__yourAnswer___0Njea",openQuestionAnswer:"question-review__openQuestionAnswer___mg4hy",trueFalseAnswerWrapper:"question-review__trueFalseAnswerWrapper___xXB0x",trueFalseAnswer:"question-review__trueFalseAnswer___Gmj5V",disabled:"question-review__disabled___I02Zu",active:"question-review__active___fhVw1",multiAnswersWrapper:"question-review__multiAnswersWrapper___ILSTp",multiAnswersContainer:"question-review__multiAnswersContainer___vKoOw",multiSelectAnswer:"question-review__multiSelectAnswer___tu4gF",questionLabel:"question-review__questionLabel___xsnZq",questionContent:"question-review__questionContent___kjK83",iconPlaceholder:"question-review__iconPlaceholder___p8Q_W",rightDivider:"question-review__rightDivider___Vmcyg"};const s=a},5539:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(559),i=n.n(r),o=n(3476),a=n.n(o)()(i());a.push([e.id,".quiz-submit__quizSubmitWrapper___rW273{display:flex;flex-direction:column;justify-content:center;text-align:left;width:100%;height:100%;padding:48px 120px}.quiz-submit__quizSubmitWrapper___rW273 .quiz-submit__title___CWLKo,.quiz-submit__quizSubmitWrapper___rW273 .quiz-submit__description___jOnj2{font-style:normal;line-height:normal;font-size:18px;color:#fff;overflow:auto}.quiz-submit__quizSubmitWrapper___rW273 .quiz-submit__title___CWLKo{flex-shrink:0;font-size:32px;line-height:normal;font-weight:700}.quiz-submit__quizSubmitWrapper___rW273 .quiz-submit__description___jOnj2{margin-top:16px;font-size:16px;max-width:600px}.quiz-submit__quizSubmitWrapper___rW273 .quiz-submit__buttonWrapper___sRTXz{display:flex;margin-top:24px}.quiz-submit__quizSubmitWrapper___rW273 .quiz-submit__buttonWrapper___sRTXz .quiz-submit__primaryButton___fdXhM{display:flex;justify-content:center;align-items:center;padding:4px 8px;height:32px;border-radius:4px;border-width:1px;border-color:rgba(0,0,0,0);font-style:normal;font-weight:bold;font-size:14px;line-height:17px;text-align:left;color:#fff;box-sizing:border-box;color:var(--playkit-primary-text-contrast-color);background:var(--playkit-primary-color);min-width:66px;margin-right:16px}.quiz-submit__quizSubmitWrapper___rW273 .quiz-submit__buttonWrapper___sRTXz .quiz-submit__primaryButton___fdXhM:hover:not(.quiz-submit__disabled___TSHcW){cursor:pointer}.quiz-submit__quizSubmitWrapper___rW273 .quiz-submit__buttonWrapper___sRTXz .quiz-submit__primaryButton___fdXhM:hover:not(.quiz-submit__disabled___TSHcW){background:var(--playkit-primary-darker-color)}.quiz-submit__quizSubmitWrapper___rW273 .quiz-submit__buttonWrapper___sRTXz .quiz-submit__primaryButton___fdXhM:focus:not(.quiz-submit__disabled___TSHcW){background:var(--playkit-primary-brighter-color)}.quiz-submit__quizSubmitWrapper___rW273 .quiz-submit__buttonWrapper___sRTXz .quiz-submit__primaryButton___fdXhM.quiz-submit__disabled___TSHcW{border-width:1px;border-style:solid;border-color:var(--playkit-tone-4-color);color:var(--playkit-tone-4-color);background:rgba(0,0,0,0)}.quiz-submit__quizSubmitWrapper___rW273 .quiz-submit__buttonWrapper___sRTXz .quiz-submit__secondaryButton___MjGfR{display:flex;justify-content:center;align-items:center;padding:4px 8px;height:32px;border-radius:4px;border-width:1px;border-color:rgba(0,0,0,0);font-style:normal;font-weight:bold;font-size:14px;line-height:17px;text-align:left;color:#fff;box-sizing:border-box;color:var(--playkit-tone-1-color);background:rgba(0,0,0,0)}.quiz-submit__quizSubmitWrapper___rW273 .quiz-submit__buttonWrapper___sRTXz .quiz-submit__secondaryButton___MjGfR:hover:not(.quiz-submit__disabled___TSHcW){cursor:pointer}.quiz-submit__quizSubmitWrapper___rW273 .quiz-submit__buttonWrapper___sRTXz .quiz-submit__secondaryButton___MjGfR:hover:not(.quiz-submit__disabled___TSHcW){background:var(--playkit-tone-4-color)}.quiz-submit__quizSubmitWrapper___rW273 .quiz-submit__buttonWrapper___sRTXz .quiz-submit__secondaryButton___MjGfR:focus:not(.quiz-submit__disabled___TSHcW){background:var(--playkit-tone-6-color)}.quiz-submit__quizSubmitWrapper___rW273 .quiz-submit__buttonWrapper___sRTXz .quiz-submit__secondaryButton___MjGfR.quiz-submit__disabled___TSHcW{color:var(--playkit-tone-4-color)}.playkit-size-md .quiz-submit__quizSubmitWrapper___rW273{padding-left:84px;padding-right:84px}","",{version:3,sources:["webpack://./components/quiz-submit/quiz-submit.scss","webpack://./theme.scss","webpack://./../node_modules/@playkit-js/playkit-js-ui/src/styles/exported.scss"],names:[],mappings:"AAEA,wCACE,YAAA,CACA,qBAAA,CACA,sBAAA,CACA,eAAA,CACA,UAAA,CACA,WAAA,CACA,kBAAA,CAEA,8ICFA,iBAAA,CACA,kBAAA,CACA,cAAA,CACA,UAAA,CACA,aAAA,CDEA,oEACE,aAAA,CACA,cAAA,CACA,kBAAA,CACA,eAAA,CAEF,0EACE,eAAA,CACA,cAAA,CACA,eAAA,CAEF,4EACE,YAAA,CACA,eAAA,CACA,gHCFF,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,eAAA,CACA,WAAA,CACA,iBA9BY,CA+BZ,gBAAA,CACA,0BAAA,CACA,iBAAA,CACA,gBAAA,CACA,cAAA,CACA,gBAAA,CACA,eAAA,CACA,UAAA,CACA,qBAAA,CAQA,gDC3C4B,CD4C5B,uCC/Cc,CF4BV,cAAA,CACA,iBAAA,CCUJ,0JACE,cAAA,CAQF,0JACE,8CChDmB,CDkDrB,0JACE,gDClDqB,CDoDvB,8IACE,gBAAA,CACA,kBAAA,CACA,wCC3BW,CD4BX,iCC5BW,CD6BX,wBAAA,CD5BA,kHCPF,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,eAAA,CACA,WAAA,CACA,iBA9BY,CA+BZ,gBAAA,CACA,0BAAA,CACA,iBAAA,CACA,gBAAA,CACA,cAAA,CACA,gBAAA,CACA,eAAA,CACA,UAAA,CACA,qBAAA,CA2BA,iCCtCa,CDuCb,wBAAA,CA3BA,4JACE,cAAA,CA2BF,4JACE,sCCtCW,CDwCb,4JACE,sCCvCW,CDyCb,gJACE,iCC5CW,CFQb,yDACE,iBAAA,CACA,kBAAA",sourcesContent:["@import '../../theme.scss';\n\n.quizSubmitWrapper {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  text-align: left;\n  width: 100%;\n  height: 100%;\n  padding: 48px 120px;\n\n  .title,\n  .description {\n    @include ivq-text;\n  }\n  .title {\n    flex-shrink: 0;\n    font-size: 32px;\n    line-height: normal;\n    font-weight: 700;\n  }\n  .description {\n    margin-top: 16px;\n    font-size: 16px;\n    max-width: 600px;\n  }\n  .buttonWrapper {\n    display: flex;\n    margin-top: 24px;\n    .primaryButton {\n      @include ivq-primary-button;\n      min-width: 66px;\n      margin-right: 16px;\n    }\n    .secondaryButton {\n      @include ivq-secondary-button;\n    }\n  }\n}\n\n:global(.playkit-size-md) {\n  .quizSubmitWrapper {\n    padding-left: 84px;\n    padding-right: 84px;\n  }\n}\n","@import '~@playkit-js/playkit-js-ui';\n\n$roundness-1: 4px;\n\n$button-background: rgba(255, 255, 255, 0.12);\n$button-background-active: rgba(255, 255, 255, 0.2);\n$selection-border-width: 2px;\n\n@mixin ivq-text {\n  font-style: normal;\n  line-height: normal;\n  font-size: 18px;\n  color: #ffffff;\n  overflow: auto;\n}\n\n@mixin ivq-question-content {\n  flex-shrink: 0;\n  font-weight: bold;\n  line-height: normal;\n  overflow-wrap: break-word;\n  &:focus {\n    outline: none !important; // overwride player styles\n  }\n}\n\n@mixin ivq-button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 4px 8px;\n  height: 32px;\n  border-radius: $roundness-1;\n  border-width: 1px;\n  border-color: transparent;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 14px;\n  line-height: 17px;\n  text-align: left;\n  color: #ffffff;\n  box-sizing: border-box;\n  &:hover:not(.disabled) {\n    cursor: pointer;\n  }\n}\n\n@mixin ivq-primary-button {\n  @include ivq-button;\n  color: $primary-text-contrast-color;\n  background: $primary-color;\n  &:hover:not(.disabled) {\n    background: $primary-darker-color;\n  }\n  &:focus:not(.disabled) {\n    background: $primary-brighter-color;\n  }\n  &.disabled {\n    border-width: 1px;\n    border-style: solid;\n    border-color: $tone-4-color;\n    color: $tone-4-color;\n    background: transparent;\n  }\n}\n\n@mixin ivq-secondary-button {\n  @include ivq-button;\n  color: $tone-1-color;\n  background: transparent;\n  &:hover:not(.disabled) {\n    background: $tone-4-color;\n  }\n  &:focus:not(.disabled) {\n    background: $tone-6-color;\n  }\n  &.disabled {\n    color: $tone-4-color;\n  }\n}\n\n@mixin optional-answer {\n  display: flex;\n  flex-shrink: 0;\n  height: 32px;\n  align-items: center;\n  padding: 5px 16px;\n  margin: 4px;\n\n  background: $button-background;\n  border-style: solid;\n  border-width: $selection-border-width;\n  border-radius: $roundness-1;\n  border-color: transparent;\n  font-size: 16px;\n  line-height: normal;\n  color: #ffffff;\n  cursor: pointer;\n  box-sizing: border-box;\n  outline-offset: -1px;\n  &:hover:not(.disabled) {\n    background: $button-background-active;\n  }\n  &.active {\n    border-color: $tone-1-color;\n    background: $button-background-active;\n  }\n  &.disabled {\n    cursor: default;\n  }\n}\n\n@mixin without-scrollbar {\n  /* Hide scrollbar for Chrome, Safari and Opera */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  /* Hide scrollbar for IE, Edge and Firefox */\n  -ms-overflow-style: none; /* IE and Edge */\n  scrollbar-width: none; /* Firefox */\n}\n\n@mixin ivq-scrollbar {\n  &::-webkit-scrollbar {\n    width: 4px;\n  }\n  &::-webkit-scrollbar-track {\n    background: rgba(33, 33, 33, 0.9);\n  }\n  &::-webkit-scrollbar-thumb {\n    border-radius: 3px;\n    background-color: rgba(255, 255, 255, 0.3);\n  }\n}\n\n@mixin outline-fix {\n  &:focus {\n    outline: none !important; // overwrite player !important styles\n  }\n}\n\n// solution taken from bootstrap lib (https://github.com/twbs/bootstrap/blob/v5.0.2/site/content/docs/5.0/helpers/visually-hidden.md)\n@mixin visually-hidden() {\n  position: absolute !important;\n  width: 1px !important;\n  height: 1px !important;\n  padding: 0 !important;\n  margin: -1px !important;\n  overflow: hidden !important;\n  clip: rect(0, 0, 0, 0) !important;\n  white-space: nowrap !important;\n  border: 0 !important;\n}\n\n$bottom-bar-height: 60px;\n\n@mixin reset-css {\n  div,\n  span,\n  applet,\n  object,\n  iframe,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  abbr,\n  acronym,\n  address,\n  big,\n  cite,\n  code,\n  del,\n  dfn,\n  em,\n  img,\n  ins,\n  kbd,\n  q,\n  s,\n  samp,\n  small,\n  strike,\n  strong,\n  sub,\n  sup,\n  tt,\n  var,\n  b,\n  u,\n  i,\n  center,\n  dl,\n  dt,\n  dd,\n  ol,\n  ul,\n  li,\n  fieldset,\n  form,\n  label,\n  legend,\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  figcaption,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  output,\n  ruby,\n  section,\n  summary,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section {\n    display: block;\n  }\n  ol,\n  ul {\n    list-style: none;\n  }\n  blockquote,\n  q {\n    quotes: none;\n  }\n  blockquote:before,\n  blockquote:after,\n  q:before,\n  q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n}\n","// Sass variables exported using the npm package for plugins usage\n\n// Accent Colors\n$primary-color: var(--playkit-primary-color);\n$primary-darker-color: var(--playkit-primary-darker-color);\n$primary-brighter-color: var(--playkit-primary-brighter-color);\n$primary-text-contrast-color: var(--playkit-primary-text-contrast-color);\n\n$secondary-color: var(--playkit-secondary-color);\n$secondary-darker-color: var(--playkit-secondary-darker-color);\n$secondary-brighter-color: var(--playkit-secondary-brighter-color);\n$secondary-text-contrast-color: var(--playkit-secondary-text-contrast-color);\n\n// Acknowledgement Colors\n$success-color: var(--playkit-success-color);\n$success-darker-color: var(--playkit-success-darker-color);\n$success-brighter-color: var(--playkit-success-brighter-color);\n$success-text-contrast-color: var(--playkit-success-text-contrast-color);\n\n$danger-color: var(--playkit-danger-color);\n$danger-darker-color: var(--playkit-danger-darker-color);\n$danger-brighter-color: var(--playkit-danger-brighter-color);\n$danger-text-contrast-color: var(--playkit-danger-text-contrast-color);\n\n$warning-color: var(--playkit-warning-color);\n$warning-darker-color: var(--playkit-warning-darker-color);\n$warning-brighter-color: var(--playkit-warning-brighter-color);\n$warning-text-contrast-color: var(--playkit-warning-text-contrast-color);\n\n// Tone Ramp\n$tone-1-color: var(--playkit-tone-1-color);\n$tone-2-color: var(--playkit-tone-2-color);\n$tone-3-color: var(--playkit-tone-3-color);\n$tone-4-color: var(--playkit-tone-4-color);\n$tone-5-color: var(--playkit-tone-5-color);\n$tone-6-color: var(--playkit-tone-6-color);\n$tone-7-color: var(--playkit-tone-7-color);\n$tone-8-color: var(--playkit-tone-8-color);\n\n$live-color: var(--playkit-live-color);\n$player-background-color: var(--playkit-player-background-color);\n$tab-focus-color: var(--playkit-tab-focus-color);\n$tooltip-background-color: var(--playkit-tooltip-background-color);\n$tooltip-color: var(--playkit-tooltip-color);\n$ads-color: var(--playkit-ads-color);\n"],sourceRoot:""}]),a.locals={quizSubmitWrapper:"quiz-submit__quizSubmitWrapper___rW273",title:"quiz-submit__title___CWLKo",description:"quiz-submit__description___jOnj2",buttonWrapper:"quiz-submit__buttonWrapper___sRTXz",primaryButton:"quiz-submit__primaryButton___fdXhM",disabled:"quiz-submit__disabled___TSHcW",secondaryButton:"quiz-submit__secondaryButton___MjGfR"};const s=a},7586:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(559),i=n.n(r),o=n(3476),a=n.n(o)()(i());a.push([e.id,"div.spinner__ivqLoader___PeHQm{margin:auto;border:3px solid rgba(255,255,255,.2);border-radius:50%;border-top:3px solid var(--playkit-tone-1-color);animation:spinner__spinner___ihMDA 1s linear infinite}@keyframes spinner__spinner___ihMDA{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}","",{version:3,sources:["webpack://./components/spinner/spinner.scss"],names:[],mappings:"AAEA,+BACE,WAAA,CACA,qCAAA,CACA,iBAAA,CACA,gDAAA,CACA,qDAAA,CAEF,oCACE,GACE,sBAAA,CAEF,KACE,wBAAA,CAAA",sourcesContent:["@import '../../theme.scss';\n\ndiv.ivqLoader {\n  margin: auto;\n  border: 3px solid rgba(255, 255, 255, 0.2);\n  border-radius: 50%;\n  border-top: 3px solid $tone-1-color;\n  animation: spinner 1s linear infinite;\n}\n@keyframes spinner {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n"],sourceRoot:""}]),a.locals={ivqLoader:"spinner__ivqLoader___PeHQm",spinner:"spinner__spinner___ihMDA"};const s=a},8613:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(559),i=n.n(r),o=n(3476),a=n.n(o)()(i());a.push([e.id,".welcome-screen__welcomeScreenWrapper___jGNP3{position:absolute;left:0;top:0;width:100%;height:100%;text-align:left;z-index:1}.welcome-screen__welcomeScreenWrapper___jGNP3.welcome-screen__withPoster___e3DYq{background-size:contain;background-position:center center;background-repeat:no-repeat}.welcome-screen__welcomeScreenWrapper___jGNP3 .welcome-screen__background___EP22S{position:absolute;left:0;top:0;width:100%;height:100%;background:linear-gradient(180deg, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0) 100%);transform:rotate(-180deg)}.welcome-screen__welcomeScreenWrapper___jGNP3 .welcome-screen__content___ewee_{color:#fff;font-size:14px;position:absolute;bottom:0px;padding:32px}.welcome-screen__welcomeScreenWrapper___jGNP3 .welcome-screen__content___ewee_>div:focus{outline:none !important}.welcome-screen__welcomeScreenWrapper___jGNP3 .welcome-screen__content___ewee_ .welcome-screen__title___tpiPJ{font-weight:700;font-size:32px}.welcome-screen__welcomeScreenWrapper___jGNP3 .welcome-screen__content___ewee_ .welcome-screen__desc___F2VCr{font-weight:400;font-size:14px;padding-top:16px}.welcome-screen__welcomeScreenWrapper___jGNP3 .welcome-screen__content___ewee_ .welcome-screen__tip___rgZo1,.welcome-screen__welcomeScreenWrapper___jGNP3 .welcome-screen__content___ewee_ .welcome-screen__attempts___GoBwT{font-weight:400;font-size:14px;padding-top:5px}.welcome-screen__welcomeScreenWrapper___jGNP3 .welcome-screen__content___ewee_ .welcome-screen__buttonWrapper___e9aZJ{display:flex;width:100%;justify-content:flex-start;margin-top:16px}.welcome-screen__welcomeScreenWrapper___jGNP3 .welcome-screen__content___ewee_ .welcome-screen__buttonWrapper___e9aZJ .welcome-screen__startQuizButton___VujBD{display:flex;justify-content:center;align-items:center;padding:4px 8px;height:32px;border-radius:4px;border-width:1px;border-color:rgba(0,0,0,0);font-style:normal;font-weight:bold;font-size:14px;line-height:17px;text-align:left;color:#fff;box-sizing:border-box;color:var(--playkit-primary-text-contrast-color);background:var(--playkit-primary-color);min-width:80px;margin-right:8px}.welcome-screen__welcomeScreenWrapper___jGNP3 .welcome-screen__content___ewee_ .welcome-screen__buttonWrapper___e9aZJ .welcome-screen__startQuizButton___VujBD:hover:not(.welcome-screen__disabled___XD_Lw){cursor:pointer}.welcome-screen__welcomeScreenWrapper___jGNP3 .welcome-screen__content___ewee_ .welcome-screen__buttonWrapper___e9aZJ .welcome-screen__startQuizButton___VujBD:hover:not(.welcome-screen__disabled___XD_Lw){background:var(--playkit-primary-darker-color)}.welcome-screen__welcomeScreenWrapper___jGNP3 .welcome-screen__content___ewee_ .welcome-screen__buttonWrapper___e9aZJ .welcome-screen__startQuizButton___VujBD:focus:not(.welcome-screen__disabled___XD_Lw){background:var(--playkit-primary-brighter-color)}.welcome-screen__welcomeScreenWrapper___jGNP3 .welcome-screen__content___ewee_ .welcome-screen__buttonWrapper___e9aZJ .welcome-screen__startQuizButton___VujBD.welcome-screen__disabled___XD_Lw{border-width:1px;border-style:solid;border-color:var(--playkit-tone-4-color);color:var(--playkit-tone-4-color);background:rgba(0,0,0,0)}.welcome-screen__welcomeScreenWrapper___jGNP3 .welcome-screen__content___ewee_ .welcome-screen__buttonWrapper___e9aZJ .welcome-screen__download___xA8Q4{display:flex;justify-content:center;align-items:center;padding:4px 8px;height:32px;border-radius:4px;border-width:1px;border-color:rgba(0,0,0,0);font-style:normal;font-weight:bold;font-size:14px;line-height:17px;text-align:left;color:#fff;box-sizing:border-box;color:var(--playkit-tone-1-color);background:rgba(0,0,0,0);padding:8px 12px 8px 8px;width:fit-content}.welcome-screen__welcomeScreenWrapper___jGNP3 .welcome-screen__content___ewee_ .welcome-screen__buttonWrapper___e9aZJ .welcome-screen__download___xA8Q4:hover:not(.welcome-screen__disabled___XD_Lw){cursor:pointer}.welcome-screen__welcomeScreenWrapper___jGNP3 .welcome-screen__content___ewee_ .welcome-screen__buttonWrapper___e9aZJ .welcome-screen__download___xA8Q4:hover:not(.welcome-screen__disabled___XD_Lw){background:var(--playkit-tone-4-color)}.welcome-screen__welcomeScreenWrapper___jGNP3 .welcome-screen__content___ewee_ .welcome-screen__buttonWrapper___e9aZJ .welcome-screen__download___xA8Q4:focus:not(.welcome-screen__disabled___XD_Lw){background:var(--playkit-tone-6-color)}.welcome-screen__welcomeScreenWrapper___jGNP3 .welcome-screen__content___ewee_ .welcome-screen__buttonWrapper___e9aZJ .welcome-screen__download___xA8Q4.welcome-screen__disabled___XD_Lw{color:var(--playkit-tone-4-color)}.welcome-screen__welcomeScreenWrapper___jGNP3 .welcome-screen__content___ewee_ .welcome-screen__buttonWrapper___e9aZJ .welcome-screen__download___xA8Q4 .welcome-screen__spinnerContainer___cIFLe{margin:2px}.welcome-screen__welcomeScreenWrapper___jGNP3 .welcome-screen__content___ewee_ .welcome-screen__buttonWrapper___e9aZJ .welcome-screen__download___xA8Q4 .welcome-screen__icon___TrrT6{height:24px;width:24px}.welcome-screen__welcomeScreenWrapper___jGNP3 .welcome-screen__content___ewee_ .welcome-screen__buttonWrapper___e9aZJ .welcome-screen__download___xA8Q4>span{margin-left:4px}","",{version:3,sources:["webpack://./components/welcome-screen/welcome-screen.scss","webpack://./theme.scss","webpack://./../node_modules/@playkit-js/playkit-js-ui/src/styles/exported.scss"],names:[],mappings:"AAEA,8CACE,iBAAA,CACA,MAAA,CACA,KAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CACA,SAAA,CAEA,iFACE,uBAAA,CACA,iCAAA,CACA,2BAAA,CAGF,kFACE,iBAAA,CACA,MAAA,CACA,KAAA,CACA,UAAA,CACA,WAAA,CACA,gFAAA,CACA,yBAAA,CAEF,+EACE,UAAA,CACA,cAAA,CACA,iBAAA,CACA,UAAA,CACA,YAAA,CACA,yFACE,uBAAA,CAGF,8GACE,eAAA,CACA,cAAA,CAEF,6GACE,eAAA,CACA,cAAA,CACA,gBAAA,CAEF,6NACE,eAAA,CACA,cAAA,CACA,eAAA,CAEF,sHACE,YAAA,CACA,UAAA,CACA,0BAAA,CACA,eAAA,CAEA,+JC7BJ,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,eAAA,CACA,WAAA,CACA,iBA9BY,CA+BZ,gBAAA,CACA,0BAAA,CACA,iBAAA,CACA,gBAAA,CACA,cAAA,CACA,gBAAA,CACA,eAAA,CACA,UAAA,CACA,qBAAA,CAQA,gDC3C4B,CD4C5B,uCC/Cc,CFuDR,cAAA,CACA,gBAAA,CCjBN,4MACE,cAAA,CAQF,4MACE,8CChDmB,CDkDrB,4MACE,gDClDqB,CDoDvB,gMACE,gBAAA,CACA,kBAAA,CACA,wCC3BW,CD4BX,iCC5BW,CD6BX,wBAAA,CAAA,wJAnCF,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,eAAA,CACA,WAAA,CACA,iBA9BY,CA+BZ,gBAAA,CACA,0BAAA,CACA,iBAAA,CACA,gBAAA,CACA,cAAA,CACA,gBAAA,CACA,eAAA,CACA,UAAA,CACA,qBAAA,CA2BA,iCCtCa,CDuCb,wBAAA,CDKM,wBAAA,CACA,iBAAA,CCjCN,qMACE,cAAA,CA2BF,qMACE,sCCtCW,CDwCb,qMACE,sCCvCW,CDyCb,yLACE,iCC5CW,CF+BP,kMACE,UAAA,CAEF,sLACE,WAAA,CACA,UAAA,CAEF,6JACE,eAAA",sourcesContent:["@import '../../theme.scss';\n\n.welcomeScreenWrapper {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  text-align: left;\n  z-index: 1;\n\n  &.withPoster {\n    background-size: contain;\n    background-position: center center;\n    background-repeat: no-repeat;\n  }\n\n  .background {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(180deg, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0) 100%);\n    transform: rotate(-180deg);\n  }\n  .content {\n    color: #ffffff;\n    font-size: 14px;\n    position: absolute;\n    bottom: 0px;\n    padding: 32px;\n    & > div:focus {\n      outline: none !important; // overwride player styles\n    }\n\n    .title {\n      font-weight: 700;\n      font-size: 32px;\n    }\n    .desc {\n      font-weight: 400;\n      font-size: 14px;\n      padding-top: 16px;\n    }\n    .tip, .attempts{\n      font-weight: 400;\n      font-size: 14px;\n      padding-top: 5px;\n    }\n    .buttonWrapper {\n      display: flex;\n      width: 100%;\n      justify-content: flex-start;\n      margin-top: 16px;\n\n      .startQuizButton {\n        @include ivq-primary-button;\n        min-width: 80px;\n        margin-right: 8px;\n      }\n\n      .download {\n        @include ivq-secondary-button;\n        .spinnerContainer {\n          margin: 2px;\n        }\n        .icon {\n          height: 24px;\n          width: 24px;\n        }\n        > span {\n          margin-left: 4px;\n        }\n        padding: 8px 12px 8px 8px;\n        width: fit-content;\n      }\n    }\n  }\n}\n","@import '~@playkit-js/playkit-js-ui';\n\n$roundness-1: 4px;\n\n$button-background: rgba(255, 255, 255, 0.12);\n$button-background-active: rgba(255, 255, 255, 0.2);\n$selection-border-width: 2px;\n\n@mixin ivq-text {\n  font-style: normal;\n  line-height: normal;\n  font-size: 18px;\n  color: #ffffff;\n  overflow: auto;\n}\n\n@mixin ivq-question-content {\n  flex-shrink: 0;\n  font-weight: bold;\n  line-height: normal;\n  overflow-wrap: break-word;\n  &:focus {\n    outline: none !important; // overwride player styles\n  }\n}\n\n@mixin ivq-button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 4px 8px;\n  height: 32px;\n  border-radius: $roundness-1;\n  border-width: 1px;\n  border-color: transparent;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 14px;\n  line-height: 17px;\n  text-align: left;\n  color: #ffffff;\n  box-sizing: border-box;\n  &:hover:not(.disabled) {\n    cursor: pointer;\n  }\n}\n\n@mixin ivq-primary-button {\n  @include ivq-button;\n  color: $primary-text-contrast-color;\n  background: $primary-color;\n  &:hover:not(.disabled) {\n    background: $primary-darker-color;\n  }\n  &:focus:not(.disabled) {\n    background: $primary-brighter-color;\n  }\n  &.disabled {\n    border-width: 1px;\n    border-style: solid;\n    border-color: $tone-4-color;\n    color: $tone-4-color;\n    background: transparent;\n  }\n}\n\n@mixin ivq-secondary-button {\n  @include ivq-button;\n  color: $tone-1-color;\n  background: transparent;\n  &:hover:not(.disabled) {\n    background: $tone-4-color;\n  }\n  &:focus:not(.disabled) {\n    background: $tone-6-color;\n  }\n  &.disabled {\n    color: $tone-4-color;\n  }\n}\n\n@mixin optional-answer {\n  display: flex;\n  flex-shrink: 0;\n  height: 32px;\n  align-items: center;\n  padding: 5px 16px;\n  margin: 4px;\n\n  background: $button-background;\n  border-style: solid;\n  border-width: $selection-border-width;\n  border-radius: $roundness-1;\n  border-color: transparent;\n  font-size: 16px;\n  line-height: normal;\n  color: #ffffff;\n  cursor: pointer;\n  box-sizing: border-box;\n  outline-offset: -1px;\n  &:hover:not(.disabled) {\n    background: $button-background-active;\n  }\n  &.active {\n    border-color: $tone-1-color;\n    background: $button-background-active;\n  }\n  &.disabled {\n    cursor: default;\n  }\n}\n\n@mixin without-scrollbar {\n  /* Hide scrollbar for Chrome, Safari and Opera */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  /* Hide scrollbar for IE, Edge and Firefox */\n  -ms-overflow-style: none; /* IE and Edge */\n  scrollbar-width: none; /* Firefox */\n}\n\n@mixin ivq-scrollbar {\n  &::-webkit-scrollbar {\n    width: 4px;\n  }\n  &::-webkit-scrollbar-track {\n    background: rgba(33, 33, 33, 0.9);\n  }\n  &::-webkit-scrollbar-thumb {\n    border-radius: 3px;\n    background-color: rgba(255, 255, 255, 0.3);\n  }\n}\n\n@mixin outline-fix {\n  &:focus {\n    outline: none !important; // overwrite player !important styles\n  }\n}\n\n// solution taken from bootstrap lib (https://github.com/twbs/bootstrap/blob/v5.0.2/site/content/docs/5.0/helpers/visually-hidden.md)\n@mixin visually-hidden() {\n  position: absolute !important;\n  width: 1px !important;\n  height: 1px !important;\n  padding: 0 !important;\n  margin: -1px !important;\n  overflow: hidden !important;\n  clip: rect(0, 0, 0, 0) !important;\n  white-space: nowrap !important;\n  border: 0 !important;\n}\n\n$bottom-bar-height: 60px;\n\n@mixin reset-css {\n  div,\n  span,\n  applet,\n  object,\n  iframe,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  abbr,\n  acronym,\n  address,\n  big,\n  cite,\n  code,\n  del,\n  dfn,\n  em,\n  img,\n  ins,\n  kbd,\n  q,\n  s,\n  samp,\n  small,\n  strike,\n  strong,\n  sub,\n  sup,\n  tt,\n  var,\n  b,\n  u,\n  i,\n  center,\n  dl,\n  dt,\n  dd,\n  ol,\n  ul,\n  li,\n  fieldset,\n  form,\n  label,\n  legend,\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  figcaption,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  output,\n  ruby,\n  section,\n  summary,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section {\n    display: block;\n  }\n  ol,\n  ul {\n    list-style: none;\n  }\n  blockquote,\n  q {\n    quotes: none;\n  }\n  blockquote:before,\n  blockquote:after,\n  q:before,\n  q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n}\n","// Sass variables exported using the npm package for plugins usage\n\n// Accent Colors\n$primary-color: var(--playkit-primary-color);\n$primary-darker-color: var(--playkit-primary-darker-color);\n$primary-brighter-color: var(--playkit-primary-brighter-color);\n$primary-text-contrast-color: var(--playkit-primary-text-contrast-color);\n\n$secondary-color: var(--playkit-secondary-color);\n$secondary-darker-color: var(--playkit-secondary-darker-color);\n$secondary-brighter-color: var(--playkit-secondary-brighter-color);\n$secondary-text-contrast-color: var(--playkit-secondary-text-contrast-color);\n\n// Acknowledgement Colors\n$success-color: var(--playkit-success-color);\n$success-darker-color: var(--playkit-success-darker-color);\n$success-brighter-color: var(--playkit-success-brighter-color);\n$success-text-contrast-color: var(--playkit-success-text-contrast-color);\n\n$danger-color: var(--playkit-danger-color);\n$danger-darker-color: var(--playkit-danger-darker-color);\n$danger-brighter-color: var(--playkit-danger-brighter-color);\n$danger-text-contrast-color: var(--playkit-danger-text-contrast-color);\n\n$warning-color: var(--playkit-warning-color);\n$warning-darker-color: var(--playkit-warning-darker-color);\n$warning-brighter-color: var(--playkit-warning-brighter-color);\n$warning-text-contrast-color: var(--playkit-warning-text-contrast-color);\n\n// Tone Ramp\n$tone-1-color: var(--playkit-tone-1-color);\n$tone-2-color: var(--playkit-tone-2-color);\n$tone-3-color: var(--playkit-tone-3-color);\n$tone-4-color: var(--playkit-tone-4-color);\n$tone-5-color: var(--playkit-tone-5-color);\n$tone-6-color: var(--playkit-tone-6-color);\n$tone-7-color: var(--playkit-tone-7-color);\n$tone-8-color: var(--playkit-tone-8-color);\n\n$live-color: var(--playkit-live-color);\n$player-background-color: var(--playkit-player-background-color);\n$tab-focus-color: var(--playkit-tab-focus-color);\n$tooltip-background-color: var(--playkit-tooltip-background-color);\n$tooltip-color: var(--playkit-tooltip-color);\n$ads-color: var(--playkit-ads-color);\n"],sourceRoot:""}]),a.locals={welcomeScreenWrapper:"welcome-screen__welcomeScreenWrapper___jGNP3",withPoster:"welcome-screen__withPoster___e3DYq",background:"welcome-screen__background___EP22S",content:"welcome-screen__content___ewee_",title:"welcome-screen__title___tpiPJ",desc:"welcome-screen__desc___F2VCr",tip:"welcome-screen__tip___rgZo1",attempts:"welcome-screen__attempts___GoBwT",buttonWrapper:"welcome-screen__buttonWrapper___e9aZJ",startQuizButton:"welcome-screen__startQuizButton___VujBD",disabled:"welcome-screen__disabled___XD_Lw",download:"welcome-screen__download___xA8Q4",spinnerContainer:"welcome-screen__spinnerContainer___cIFLe",icon:"welcome-screen__icon___TrrT6"};const s=a},3476:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&a[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),t.push(c))}},t}},559:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(i," */"),a=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(a).concat([o]).join("\n")}return[t].join("\n")}},5792:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useCallback:()=>C,useContext:()=>w,useDebugValue:()=>k,useEffect:()=>v,useErrorBoundary:()=>E,useImperativeHandle:()=>m,useLayoutEffect:()=>g,useMemo:()=>y,useReducer:()=>f,useRef:()=>b,useState:()=>h});var r,i,o,a=n(4522),s=0,l=[],u=a.options.__b,c=a.options.__r,d=a.options.diffed,_=a.options.__c,p=a.options.unmount;function A(e,t){a.options.__h&&a.options.__h(i,e,s||t),s=0;var n=i.__H||(i.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function h(e){return s=1,f(I,e)}function f(e,t,n){var o=A(r++,2);return o.t=e,o.__c||(o.__=[n?n(t):I(void 0,t),function(e){var t=o.t(o.__[0],e);o.__[0]!==t&&(o.__=[t,o.__[1]],o.__c.setState({}))}],o.__c=i),o.__}function v(e,t){var n=A(r++,3);!a.options.__s&&O(n.__H,t)&&(n.__=e,n.__H=t,i.__H.__h.push(n))}function g(e,t){var n=A(r++,4);!a.options.__s&&O(n.__H,t)&&(n.__=e,n.__H=t,i.__h.push(n))}function b(e){return s=5,y((function(){return{current:e}}),[])}function m(e,t,n){s=6,g((function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0}),null==n?n:n.concat(e))}function y(e,t){var n=A(r++,7);return O(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function C(e,t){return s=8,y((function(){return e}),t)}function w(e){var t=i.context[e.__c],n=A(r++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(i)),t.props.value):e.__}function k(e,t){a.options.useDebugValue&&a.options.useDebugValue(t?t(e):e)}function E(e){var t=A(r++,10),n=h();return t.__=e,i.componentDidCatch||(i.componentDidCatch=function(e){t.__&&t.__(e),n[1](e)}),[n[0],function(){n[1](void 0)}]}function x(){for(var e;e=l.shift();)if(e.__P)try{e.__H.__h.forEach(q),e.__H.__h.forEach(S),e.__H.__h=[]}catch(t){e.__H.__h=[],a.options.__e(t,e.__v)}}a.options.__b=function(e){i=null,u&&u(e)},a.options.__r=function(e){c&&c(e),r=0;var t=(i=e.__c).__H;t&&(t.__h.forEach(q),t.__h.forEach(S),t.__h=[])},a.options.diffed=function(e){d&&d(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==l.push(t)&&o===a.options.requestAnimationFrame||((o=a.options.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),T&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);T&&(t=requestAnimationFrame(n))})(x)),i=null},a.options.__c=function(e,t){t.some((function(e){try{e.__h.forEach(q),e.__h=e.__h.filter((function(e){return!e.__||S(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],a.options.__e(n,e.__v)}})),_&&_(e,t)},a.options.unmount=function(e){p&&p(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{q(e)}catch(e){t=e}})),t&&a.options.__e(t,n.__v))};var T="function"==typeof requestAnimationFrame;function q(e){var t=i,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),i=t}function S(e){var t=i;e.__c=e.__(),i=t}function O(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function I(e,t){return"function"==typeof t?t(e):t}},741:(e,t,n)=>{var r=n(1892),i=n(6298);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-ivq"},insert:function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},5141:(e,t,n)=>{var r=n(1892),i=n(6469);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-ivq"},insert:function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},5312:(e,t,n)=>{var r=n(1892),i=n(5726);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-ivq"},insert:function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},8884:(e,t,n)=>{var r=n(1892),i=n(7269);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-ivq"},insert:function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},1083:(e,t,n)=>{var r=n(1892),i=n(3688);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-ivq"},insert:function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},4050:(e,t,n)=>{var r=n(1892),i=n(5546);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-ivq"},insert:function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},1263:(e,t,n)=>{var r=n(1892),i=n(5039);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-ivq"},insert:function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},1428:(e,t,n)=>{var r=n(1892),i=n(7291);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-ivq"},insert:function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},2767:(e,t,n)=>{var r=n(1892),i=n(1727);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-ivq"},insert:function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},8946:(e,t,n)=>{var r=n(1892),i=n(6957);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-ivq"},insert:function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},5361:(e,t,n)=>{var r=n(1892),i=n(1569);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-ivq"},insert:function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},6554:(e,t,n)=>{var r=n(1892),i=n(4071);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-ivq"},insert:function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},2221:(e,t,n)=>{var r=n(1892),i=n(5037);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-ivq"},insert:function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},3024:(e,t,n)=>{var r=n(1892),i=n(862);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-ivq"},insert:function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},8466:(e,t,n)=>{var r=n(1892),i=n(485);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-ivq"},insert:function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},1047:(e,t,n)=>{var r=n(1892),i=n(5539);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-ivq"},insert:function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},8083:(e,t,n)=>{var r=n(1892),i=n(7586);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-ivq"},insert:function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},2021:(e,t,n)=>{var r=n(1892),i=n(8613);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-ivq"},insert:function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},1892:(e,t,n)=>{"use strict";var r,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function a(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],i=0;i<e.length;i++){var s=e[i],l=t.base?s[0]+t.base:s[0],u=n[l]||0,c="".concat(l," ").concat(u);n[l]=u+1;var d=a(c),_={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(o[d].references++,o[d].updater(_)):o.push({identifier:c,updater:h(_,t),references:1}),r.push(c)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,c=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=c(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function _(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,A=0;function h(e,t){var n,r,i;if(t.singleton){var o=A++;n=p||(p=l(t)),r=d.bind(null,n,o,!1),i=d.bind(null,n,o,!0)}else n=l(t),r=_.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=a(n[r]);o[i].references--}for(var l=s(e,t),u=0;u<n.length;u++){var c=a(n[u]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=l}}}},1293:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.icons=void 0,(n=t.icons||(t.icons={})).CHEVRON_RIGHT="M0.792893 0.292893C0.432409 0.653377 0.40468 1.22061 0.709705 1.6129L0.792893 1.70711L6.085 7L0.792893 12.2929C0.432409 12.6534 0.40468 13.2206 0.709705 13.6129L0.792893 13.7071C1.15338 14.0676 1.72061 14.0953 2.1129 13.7903L2.20711 13.7071L8.20711 7.70711C8.56759 7.34662 8.59532 6.77939 8.2903 6.3871L8.20711 6.29289L2.20711 0.292893C1.81658 -0.0976311 1.18342 -0.0976311 0.792893 0.292893Z",n.CHEVRON_LEFT="M8.20711 0.292893C8.56759 0.653377 8.59532 1.22061 8.2903 1.6129L8.20711 1.70711L2.915 7L8.20711 12.2929C8.56759 12.6534 8.59532 13.2206 8.2903 13.6129L8.20711 13.7071C7.84662 14.0676 7.27939 14.0953 6.8871 13.7903L6.79289 13.7071L0.792893 7.70711C0.432409 7.34662 0.40468 6.77939 0.709705 6.3871L0.792893 6.29289L6.79289 0.292893C7.18342 -0.0976311 7.81658 -0.0976311 8.20711 0.292893Z",n.QUIZ_ICON="M8.49857 2.11499L12.7442 4.2052C12.9162 4.28987 12.9812 4.48721 12.8895 4.64597C12.8594 4.69807 12.8145 4.74163 12.7597 4.77201L8.54484 7.10634C8.20953 7.29205 7.79063 7.29205 7.45532 7.10634L3.2405 4.77202C3.07335 4.67945 3.01915 4.47933 3.11944 4.32505C3.15235 4.27441 3.19956 4.23299 3.256 4.2052L7.50203 2.11498C7.81345 1.96167 8.18715 1.96168 8.49857 2.11499ZM14 6.02878V10.7642C14 11.1075 13.8049 11.4256 13.486 11.6022L9.24043 13.9536C9.07328 14.0461 8.85649 13.9961 8.7562 13.8418C8.72329 13.7912 8.7059 13.7333 8.7059 13.6742V8.93882C8.7059 8.59551 8.90104 8.27738 9.21997 8.10075L13.4655 5.74942C13.6326 5.65685 13.8494 5.70688 13.9497 5.86116C13.9826 5.91179 14 5.96973 14 6.02878ZM6.5145 8.31192L2.50483 6.04476C2.45303 6.01547 2.39375 6 2.33333 6C2.14924 6 2 6.14064 2 6.31412V10.88C2 11.211 2.1843 11.5178 2.4855 11.6881L6.49517 13.9552C6.54697 13.9845 6.60625 14 6.66667 14C6.85076 14 7 13.8594 7 13.6859V9.12C7 8.78898 6.8157 8.48223 6.5145 8.31192Z",n.QUESTION_LINK="M13.5001 0C15.9853 0 18.0001 2.01472 18.0001 4.5V13.5C18.0001 15.9853 15.9853 18 13.5001 18H4.50006C2.01478 18 6.10352e-05 15.9853 6.10352e-05 13.5V4.5C6.10352e-05 2.01472 2.01478 0 4.50006 0H13.5001ZM12.3751 3.375H6.75006L6.61886 3.38257C6.05936 3.44755 5.62506 3.92306 5.62506 4.5C5.62506 5.12132 6.12874 5.625 6.75006 5.625H10.7821L3.70457 12.7045L3.61098 12.8105C3.26783 13.2518 3.29902 13.89 3.70457 14.2955C4.14391 14.7348 4.85622 14.7348 5.29556 14.2955L12.3751 7.21575V11.25L12.3826 11.3812C12.4476 11.9407 12.9231 12.375 13.5001 12.375C14.1214 12.375 14.6251 11.8713 14.6251 11.25V5.625L14.6189 5.45708C14.533 4.29286 13.5612 3.375 12.3751 3.375Z",n.DOWNLOAD="M12 3C12.5128 3 12.9355 3.38604 12.9933 3.88338L13 4V11.5852L15.2929 9.29289C15.6534 8.93241 16.2206 8.90468 16.6129 9.20971L16.7071 9.2929C17.0676 9.65339 17.0953 10.2206 16.7903 10.6129L16.7071 10.7071L12.7151 14.699C12.6845 14.7304 12.6518 14.7597 12.6173 14.7868C12.5589 14.8327 12.4965 14.8713 12.4315 14.9024C12.3009 14.9649 12.1545 15 12 15L11.9845 14.9999C11.8694 14.9981 11.759 14.9769 11.6564 14.9394C11.5612 14.9047 11.4702 14.8549 11.387 14.7903L11.3856 14.789C11.3533 14.7638 11.3225 14.7367 11.2936 14.7078L11.2928 14.7071L7.29289 10.7071C6.90237 10.3166 6.90237 9.6834 7.2929 9.29289C7.65339 8.93241 8.22062 8.90468 8.61291 9.20971L8.70711 9.2929L11 11.5852V4C11 3.44772 11.4477 3 12 3Z M4 18C3.44772 18 3 18.4477 3 19C3 19.5523 3.44772 20 4 20H20C20.5523 20 21 19.5523 21 19C21 18.4477 20.5523 18 20 18H4Z",n.INCORRECT_ANSWER="M12.5356 3.96477C12.9261 4.35529 12.9261 4.98846 12.5356 5.37898L9.41427 8.5003L12.5356 11.6216C12.9261 12.0121 12.9261 12.6453 12.5356 13.0358C12.1451 13.4264 11.5119 13.4264 11.1214 13.0358L8.00006 9.91452L4.87874 13.0358C4.48821 13.4264 3.85505 13.4264 3.46452 13.0358C3.074 12.6453 3.074 12.0121 3.46452 11.6216L6.58584 8.5003L3.46452 5.37898C3.074 4.98846 3.074 4.35529 3.46452 3.96477C3.85505 3.57424 4.48821 3.57424 4.87874 3.96477L8.00006 7.08609L11.1214 3.96477C11.5119 3.57424 12.1451 3.57424 12.5356 3.96477Z",n.CORRCT_ANSWER="M12.6402 4.7318C13.0645 5.08537 13.1218 5.71593 12.7682 6.14021L7.76822 12.1402C7.58835 12.356 7.32599 12.4863 7.04531 12.499C6.76464 12.5117 6.49156 12.4058 6.29289 12.2071L4.29289 10.2071C3.90237 9.81661 3.90237 9.18344 4.29289 8.79292C4.68342 8.40239 5.31658 8.40239 5.70711 8.79292L6.9328 10.0186L11.2318 4.85984C11.5853 4.43556 12.2159 4.37824 12.6402 4.7318Z",n.OPEN_QUESTION_ICON="M2 7.16699C2 4.95785 3.79086 3.16699 6 3.16699H10C12.2091 3.16699 14 4.95785 14 7.16699V9.83366C14 12.0428 12.2091 13.8337 10 13.8337H3.33333C2.59695 13.8337 2 13.2367 2 12.5003V7.16699ZM4.66667 7.16699C4.66667 6.7988 4.96514 6.50033 5.33333 6.50033H10C10.3682 6.50033 10.6667 6.7988 10.6667 7.16699C10.6667 7.53518 10.3682 7.83366 10 7.83366H5.33333C4.96514 7.83366 4.66667 7.53518 4.66667 7.16699ZM5.33333 9.16699C4.96514 9.16699 4.66667 9.46547 4.66667 9.83366C4.66667 10.2018 4.96514 10.5003 5.33333 10.5003H7.33333C7.70152 10.5003 8 10.2018 8 9.83366C8 9.46547 7.70152 9.16699 7.33333 9.16699H5.33333Z",n.REFLECTION_POINT_ICON="M2 4.5C2 3.94772 2.44772 3.5 3 3.5H13C13.5523 3.5 14 3.94772 14 4.5C14 5.05228 13.5523 5.5 13 5.5H3C2.44772 5.5 2 5.05228 2 4.5ZM2 8.5C2 7.94772 2.44772 7.5 3 7.5H13C13.5523 7.5 14 7.94772 14 8.5C14 9.05228 13.5523 9.5 13 9.5H3C2.44772 9.5 2 9.05228 2 8.5ZM3 11.5C2.44772 11.5 2 11.9477 2 12.5C2 13.0523 2.44772 13.5 3 13.5H9C9.55228 13.5 10 13.0523 10 12.5C10 11.9477 9.55228 11.5 9 11.5H3Z",n.RIGHT="M5.79271 12.2071C5.40219 11.8166 5.40219 11.1834 5.79271 10.7929L8.0856 8.5L5.79271 6.20711C5.40219 5.81658 5.40219 5.18342 5.79271 4.79289C6.18323 4.40237 6.8164 4.40237 7.20692 4.79289L10.2069 7.79289C10.5974 8.18342 10.5974 8.81658 10.2069 9.20711L7.20692 12.2071C6.8164 12.5976 6.18323 12.5976 5.79271 12.2071Z",n.DOWN="M4.29289 7.06194C4.68342 6.67141 5.31658 6.67141 5.70711 7.06194L8 9.35483L10.2929 7.06194C10.6834 6.67141 11.3166 6.67141 11.7071 7.06194C12.0976 7.45246 12.0976 8.08563 11.7071 8.47615L8.70711 11.4762C8.31658 11.8667 7.68342 11.8667 7.29289 11.4762L4.29289 8.47615C3.90237 8.08563 3.90237 7.45246 4.29289 7.06194Z",n.CLOSE="M11.6592 10.245L6.70483 5.29061C6.31701 4.9028 5.68581 4.90476 5.29528 5.29528C4.90204 5.68853 4.90267 6.31688 5.29061 6.70483L10.245 11.6592L5.29061 16.6137C4.9028 17.0015 4.90476 17.6327 5.29528 18.0232C5.68853 18.4165 6.31688 18.4158 6.70483 18.0279L11.6592 13.0735L16.6137 18.0279C17.0015 18.4157 17.6327 18.4137 18.0232 18.0232C18.4165 17.63 18.4158 17.0016 18.0279 16.6137L13.0735 11.6592L18.0279 6.70483C18.4157 6.31701 18.4137 5.68581 18.0232 5.29528C17.63 4.90204 17.0016 4.90267 16.6137 5.29061L11.6592 10.245Z",n.MediumSize=24,n.SmallSize=16},5333:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2917),t)},2917:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.IvqBottomBar=void 0;var i=n(4522),o=n(5792),a=n(979),s=n(1293),l=n(8884),u=KalturaPlayer.ui.components.Icon,c=KalturaPlayer.ui.preacti18n,d=c.withText,_=c.Text,p={nextQuestionButtonAriaLabel:(0,i.h)(_,{id:"ivq.next_question_area_label"},"Next Question"),prevQuestionButtonAriaLabel:(0,i.h)(_,{id:"ivq.prev_question_area_label"},"Previous Question")};t.IvqBottomBar=d(p)((function(e){var t=e.onPrev,n=e.onNext,c=e.questionCounter,d=e.getSeekBarNode,_=e.updatePlayerHover,p=r(e,["onPrev","onNext","questionCounter","getSeekBarNode","updatePlayerHover"]),A=(0,o.useRef)(null);(0,o.useLayoutEffect)((function(){_();var e=d();A.current&&e&&A.current.prepend(e)}),[]);var h=(0,o.useMemo)((function(){return(0,i.h)("div",{className:l.ivqNavigationWrapper},(0,i.h)(a.A11yWrapper,{onClick:t||function(){}},(0,i.h)("div",{tabIndex:0,disabled:!t,"aria-disabled":!t,className:[l.navigationButton,t?"":l.disabled].join(" "),"aria-label":p.prevQuestionButtonAriaLabel},(0,i.h)(u,{id:"ivq-chevron-left",height:14,width:9,viewBox:"0 0 ".concat(s.icons.SmallSize," ").concat(s.icons.SmallSize),path:s.icons.CHEVRON_LEFT}))),(0,i.h)("div",{className:l.questionIndex},c),(0,i.h)(a.A11yWrapper,{onClick:n||function(){}},(0,i.h)("div",{tabIndex:0,disabled:!n,"aria-disabled":!n,className:[l.navigationButton,n?"":l.disabled].join(" "),"aria-label":p.nextQuestionButtonAriaLabel},(0,i.h)(u,{id:"ivq-chevron-right",height:14,width:9,viewBox:"0 0 ".concat(s.icons.SmallSize," ").concat(s.icons.SmallSize),path:s.icons.CHEVRON_RIGHT}))))}),[n,t,c]);return(0,i.h)("div",{className:l.ivqBottomBar,ref:A},h)}))},6740:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(5003),t)},5003:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IvqOverlay=void 0;var r=n(4522),i=n(1083),o=n(8579),a=n(9547),s=KalturaPlayer.ui.components.Overlay;t.IvqOverlay=function(e){var t=e.children;return(0,r.h)(o.OverlayPortal,null,(0,r.h)(a.FocusTrap,{active:!0},(0,r.h)("div",{className:i.ivqOverlay,"aria-live":"polite"},(0,r.h)(s,{open:!0,permanent:!0},t))))}},962:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(99),t)},99:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.IvqPopup=t.IvqPopupTypes=void 0;var o,a=n(979),s=n(1972),l=n(5792),u=n(4522),c=n(1293),d=n(4050),_=KalturaPlayer.ui.preacti18n,p=_.withText,A=_.Text,h=KalturaPlayer.ui.components.Icon;!function(e){e[e.none=0]="none",e[e.almostDone=1]="almostDone",e[e.submit=2]="submit",e[e.completed=3]="completed",e[e.submitted=4]="submitted"}(o=t.IvqPopupTypes||(t.IvqPopupTypes={})),t.IvqPopup=p((function(e){var t=e.type,n=e.score,i={closeButton:(0,u.h)(A,{id:"ivq.close_button"},"Close"),submitButton:(0,u.h)(A,{id:"ivq.submit_button"},"Submit"),submitButtonAriaLabel:(0,u.h)(A,{id:"ivq.submit_button_area_label"},"Click to submit quiz"),reviewButton:(0,u.h)(A,{id:"ivq.review_button"},"Review"),reviewButtonAriaLabel:(0,u.h)(A,{id:"ivq.review_button_area_label"},"Click to review quiz")};return t===o.almostDone?r(r({},i),{title:(0,u.h)(A,{id:"ivq.quiz_almost_done_title"},"You’re almost done"),description:(0,u.h)(A,{id:"ivq.quiz_almost_done_description"},"It appears that some questions remained unanswered You must answer all questions before you can submit")}):t===o.submit?r(r({},i),{title:(0,u.h)(A,{id:"ivq.submit_title"},"Quiz completed"),description:(0,u.h)(A,{id:"ivq.quiz_submit_description"},"Take a moment to review your answers or go ahead to submit your answers.")}):t===o.completed?r(r({},i),{title:(0,u.h)(A,{id:"ivq.submit_title"},"Quiz completed"),description:(0,u.h)(A,{id:"ivq.quiz_completed_description"},"Watch the video until the end to submit.")}):r(r({},i),{title:(0,u.h)(A,{id:"ivq.quiz_submitted_title"},"Quiz submitted"),description:(0,u.h)(A,{id:"ivq.quiz_score",fields:{quizScore:"".concat(n,"/100")}},"Your score is ".concat(n,"/100"))})}))((function(e){var t=e.type,n=e.onClose,r=e.onSubmit,_=e.onReview,p=i(e,["type","onClose","onSubmit","onReview"]),A=(0,l.useState)(!1),f=A[0],v=A[1],g=(0,l.useState)(""),b=g[0],m=g[1];(0,l.useEffect)((function(){if(t!==o.none){var e="".concat(p.title," ").concat(p.description),n="".concat(p.closeButton);t===o.submit&&(n+=" ".concat(p.reviewButton," ").concat(p.submitButton));var r="".concat(e," ").concat(n);m(r.trim())}else m("")}),[t]);var y=(0,l.useCallback)((function(){r&&(v(!0),r().finally((function(){v(!1)})))}),[]),C=[d.popupRoot];return t===o.submit?C.push(d.submit):t===o.almostDone?C.push(d.almostDone):C.push(d.completed),(0,u.h)(u.Fragment,null,(0,u.h)("div",{role:"alert","aria-live":"assertive",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",padding:0,overflow:"hidden",border:0,whiteSpace:"nowrap"}},b),(0,u.h)("div",{className:C.join(" "),"data-testid":"ivqPopupRoot",role:"dialog","aria-modal":"false","aria-label":"".concat(p.title," ").concat(p.description)},(0,u.h)(a.A11yWrapper,{onClick:n},(0,u.h)("div",{tabIndex:0,className:d.closeButton,"aria-label":p.closeButton,"data-testid":"ivqPopupCloseButton"},(0,u.h)(h,{id:"ivq-close","data-testid":"closeIvqPopup",height:c.icons.MediumSize,width:c.icons.MediumSize,viewBox:"0 0 ".concat(c.icons.MediumSize," ").concat(c.icons.MediumSize),path:c.icons.CLOSE}))),(0,u.h)("div",{className:d.title,"data-testid":"ivqPopupTitle"},p.title),(0,u.h)("div",{className:d.description,"data-testid":"ivqPopupDescription"},p.description),t===o.submit&&(0,u.h)("div",{className:d.buttonsWrapper},(0,u.h)(s.Button,{onClick:_,type:s.ButtonType.secondary,size:s.ButtonSize.medium,ariaLabel:p.reviewButtonAriaLabel,testId:"ivqPopupReviewButton",className:d.ivqPopupButtons},p.reviewButton),(0,u.h)(s.Button,{onClick:y,type:s.ButtonType.primary,size:s.ButtonSize.medium,testId:"ivqPopupSubmitButton",ariaLabel:p.submitButtonAriaLabel,loading:f,className:[d.ivqPopupButtons,d.primaryButton].join(" ")},p.submitButton))))}))},359:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(9683),t)},3106:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(6729),t)},6729:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MultiChoice=void 0;var o=n(4522),a=n(5792),s=n(7610),l=n(6713),u=n(979),c=n(1263),d=KalturaPlayer.ui.preacti18n,_=d.withText,p=d.Text,A=(0,s.makeQuestionLabels)();t.MultiChoice=_((function(){return{yourAnswer:(0,o.h)(p,{id:"ivq.your_answer"},"Your answer"),questionLabel:(0,o.h)(p,{id:"ivq.question"},"Question")}}))((function(e){var t=e.question,n=e.optionalAnswers,d=e.selected,_=e.onSelect,p=e.hint,h=e.multiAnswer,f=e.questionIndex,v=r(e,["question","optionalAnswers","selected","onSelect","hint","multiAnswer","questionIndex"]),g=d?d.split(","):[],b=!_,m=new Map;(0,a.useEffect)((function(){var e;b||null===(e=m.get(0))||void 0===e||e.focus()}),[t]),(0,a.useEffect)((function(){return function(){m=new Map}}),[]);var y=(0,a.useCallback)((function(e,t){return function(n,r){var o=e;h&&(o=t?g.filter((function(t){return t!==e})).toString():i(i([],g,!0),[e],!1).toString()),_&&_(o,r)}}),[_,g]),C=function(e){return m.get(e)};return(0,o.h)("div",{className:c.multiChoiceWrapper,"data-testid":"multipleChoiceContainer"},(0,o.h)("legend",{className:c.questionText,"data-testid":"multipleChoiceQuestionTitle"},(0,o.h)("span",{className:c.visuallyHidden},"".concat(v.questionLabel," #").concat(f,":")),(0,o.h)("div",{id:"multiChoiceQuestion",dangerouslySetInnerHTML:{__html:(0,s.wrapLinksWithTags)(t)}})),p&&(0,o.h)(l.QuestionAddons,{hint:p}),(0,o.h)("div",{className:c.optionalAnswersWrapper,"data-testid":"multipleChoiceAnswersWrapper"},(0,o.h)("div",{className:c.optionalAnswersContainer,role:"radiogroup","aria-labelledby":"multiChoiceQuestion","data-testid":"multipleChoiceAnswersContainer"},n.map((function(e,t){var n=e.key,r=e.text,i=g.includes(n);return(0,o.h)(u.A11yWrapper,{onClick:y(n,i),onUpKeyPressed:function(){return function(e){var t;null===(t=C(e-1))||void 0===t||t.focus()}(t)},onDownKeyPressed:function(){return function(e){var t;null===(t=C(e+1))||void 0===t||t.focus()}(t)},role:"radio"},(0,o.h)("div",{ref:function(e){!function(e,t){m.set(e,t)}(t,e)},key:n,tabIndex:0,"data-testid":"multipleChoiceSelectAnswer","aria-checked":i,"aria-disabled":b,"aria-label":"".concat(A[t],", ").concat(r).concat(i?". ".concat(v.yourAnswer):""),className:[c.multiSelectAnswer,i?c.active:"",b?c.disabled:""].join(" ")},(0,o.h)("div",{className:c.questionLabel,"data-testid":"multipleChoiceQuestionLabel"},A[t]),(0,o.h)("div",{className:c.questionContent,"data-testid":"multipleChoiceQuestionContent"},r)))}))),(0,o.h)("div",null)))}))},3138:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(8144),t)},8144:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.OpenQuestion=void 0;var i=n(4522),o=n(5792),a=n(6713),s=n(1428),l=n(7610),u=KalturaPlayer.ui.preacti18n,c=u.withText,d=u.Text;t.OpenQuestion=c((function(){return{openQuestionPlaceHolder:(0,i.h)(d,{id:"ivq.open_question_placeholder"},"Type your answer here..."),questionLabel:(0,i.h)(d,{id:"ivq.question"},"Question")}}))((function(e){var t=e.question,n=e.selected,u=e.onSelect,c=e.hint,d=e.questionIndex,_=r(e,["question","selected","onSelect","hint","questionIndex"]),p=!u,A=(0,o.useRef)(null),h=(0,o.useCallback)((function(e){u&&u(e.target.value)}),[u]);return(0,o.useEffect)((function(){var e;p||null===(e=A.current)||void 0===e||e.focus()}),[t]),(0,i.h)("div",{className:s.openQuestionWrapper,"data-testid":"openQuestionContainer"},(0,i.h)("legend",{className:s.questionText,"data-testid":"openQuestionTitle"},(0,i.h)("span",{className:s.visuallyHidden},"".concat(_.questionLabel," #").concat(d,":")),(0,i.h)("div",{dangerouslySetInnerHTML:{__html:(0,l.wrapLinksWithTags)(t)}})),c&&(0,i.h)(a.QuestionAddons,{hint:c}),(0,i.h)("div",{className:s.textAreaWrapper},(0,i.h)("textarea",{tabIndex:0,className:s.questionAnswer,value:n,placeholder:_.openQuestionPlaceHolder,"aria-label":_.openQuestionPlaceHolder,maxLength:250,onChange:h,disabled:p,"data-testid":"openQuestionAnswerInput",ref:A}),(0,i.h)("div",{className:s.charCounter},"".concat(n.length,"/").concat(250))))}))},6713:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(9192),t)},9192:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionAddons=void 0;var i=n(4522),o=n(5792),a=n(1293),s=n(979),l=n(2767),u=KalturaPlayer.ui.preacti18n,c=u.withText,d=u.Text,_=KalturaPlayer.ui.components.Icon;t.QuestionAddons=c((function(e){var t=e.hint,n=e.explanation;return t?{show:(0,i.h)(d,{id:"ivq.show_hint"},"Show hint"),hide:(0,i.h)(d,{id:"ivq.hide_hint"},"Hide hint")}:n?{show:(0,i.h)(d,{id:"ivq.show_why"},"Show why"),hide:(0,i.h)(d,{id:"ivq.hide_why"},"Hide why")}:{show:(0,i.h)(d,{id:"ivq.show_feedback"},"Show feedback"),hide:(0,i.h)(d,{id:"ivq.hide_feedback"},"Hide feedback")}}))((function(e){var t=e.hint,n=e.explanation,u=e.feedback,c=r(e,["hint","explanation","feedback"]),d=(0,o.useState)(!1),p=d[0],A=d[1],h=(0,o.useMemo)((function(){if(t)return t;if(n)return n;if(u){var e=u.split("||");return e[e.length-1]}}),[t,n,u]),f=(0,o.useCallback)((function(){A(!p)}),[p]);return(0,i.h)("div",{className:l.questionAddonsWrapper},(0,i.h)(s.A11yWrapper,{onClick:f},(0,i.h)("div",{tabIndex:0,className:l.questionAddonsButton,"data-testid":"showHintButton"},p?c.hide:c.show,(0,i.h)("div",{className:[l.iconWrapper,p?l.active:""].join(" "),"aria-hidden":"true"},(0,i.h)(_,{id:"ivq-down-icon",height:a.icons.SmallSize,width:a.icons.SmallSize,viewBox:"0 0 ".concat(a.icons.SmallSize," ").concat(a.icons.SmallSize),path:a.icons.DOWN})),(0,i.h)("div",{className:[l.iconWrapper,p?"":l.active].join(" "),"aria-hidden":"true"},(0,i.h)(_,{id:"ivq-right-icon",height:a.icons.SmallSize,width:a.icons.SmallSize,viewBox:"0 0 ".concat(a.icons.SmallSize," ").concat(a.icons.SmallSize),path:a.icons.RIGHT})))),p&&(0,i.h)("div",{className:l.questionAddonsContent,"data-testid":"questionAddonsContent","aria-live":"polite"},h))}))},9683:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.QuizQuestionWrapper=void 0;var i=n(4522),o=n(5792),a=n(7865),s=n(3106),l=n(586),u=n(3138),c=n(2085),d=n(6740),_=n(1797),p=n(5333),A=n(979),h=n(8946),f=KalturaPlayer.ui.preacti18n,v=f.withText,g=f.Text,b=(KalturaPlayer.ui.redux.useSelector,function(e){var t,n;return e.q.questionType===c.KalturaQuizQuestionTypes.Reflection?"1":e.q.questionType===c.KalturaQuizQuestionTypes.OpenQuestion?(null===(t=e.a)||void 0===t?void 0:t.openAnswer)||"":(null===(n=e.a)||void 0===n?void 0:n.answerKey)||""});t.QuizQuestionWrapper=v((function(e){var t=e.qui;return{continueButton:(0,i.h)(g,{id:"ivq.continue_button"},"Continue"),continueButtonAriaLabel:(0,i.h)(g,{id:"ivq.continue_button_area_label"},"Continue quiz with the selected answer"),skipButton:(0,i.h)(g,{id:"ivq.skip_button"},"Skip"),skipButtonAriaLabel:(0,i.h)(g,{id:"ivq.skip_button_area_label"},"Skip for now"),questionCounter:(0,i.h)(g,{id:"ivq.question_counter",fields:{current:t.questionIndex[0],total:t.questionIndex[1]}},"Question ".concat(t.questionIndex[0]," of ").concat(t.questionIndex[1]))}}))((function(e){var t=e.qui,n=e.getSeekBarNode,f=e.updatePlayerHover,v=(0,o.useState)(b(t)),g=v[0],m=v[1],y=(0,o.useState)(!1),C=y[0],w=y[1],k=(0,o.useRef)(null);(0,o.useEffect)((function(){var e;m(b(t)),w(!1),(t.a||t.q.questionType===c.KalturaQuizQuestionTypes.Reflection)&&(null===(e=k.current)||void 0===e||e.focus())}),[t]);var E=(0,o.useCallback)((function(){var e,n,r;if(g){var i=g;(t.q.questionType===c.KalturaQuizQuestionTypes.Reflection&&(null===(e=t.a)||void 0===e?void 0:e.answerKey)||t.q.questionType===c.KalturaQuizQuestionTypes.OpenQuestion&&(null===(n=t.a)||void 0===n?void 0:n.openAnswer)===g||[c.KalturaQuizQuestionTypes.TrueFalse,c.KalturaQuizQuestionTypes.MultiAnswer,c.KalturaQuizQuestionTypes.MultiChoice].includes(t.q.questionType)&&(null===(r=t.a)||void 0===r?void 0:r.answerKey)===g)&&(i=null),i&&w(!0),t.onContinue(i).finally((function(){w(!1)}))}}),[t,g]),x=(0,o.useCallback)((function(){t.onSkip()}),[t]),T=(0,o.useCallback)((function(e,t){m(e)}),[g,k]),q=(0,o.useMemo)((function(){var e=t.q,n=e.question,o=e.optionalAnswers,d=e.hint,_={question:n,questionIndex:t.questionIndex[0],optionalAnswers:o,hint:d,selected:g};switch(t.disabled||C||(_.onSelect=T),t.q.questionType){case c.KalturaQuizQuestionTypes.TrueFalse:return(0,i.h)(a.TrueFalse,r({},_));case c.KalturaQuizQuestionTypes.MultiChoice:return(0,i.h)(s.MultiChoice,r({},_));case c.KalturaQuizQuestionTypes.Reflection:return(0,i.h)(l.ReflectionPoint,r({},_));case c.KalturaQuizQuestionTypes.OpenQuestion:return(0,i.h)(u.OpenQuestion,r({},_));case c.KalturaQuizQuestionTypes.MultiAnswer:default:return(0,i.h)(s.MultiChoice,r({},_,{multiAnswer:!0}))}}),[t.q,g,C]),S=(0,o.useMemo)((function(){var n=!g.length,r=t.q.questionType===c.KalturaQuizQuestionTypes.Reflection?e.continueButton:e.continueButtonAriaLabel;return(0,i.h)("div",{className:h.ivqButtonsWrapper},(0,i.h)(A.A11yWrapper,{onClick:E},(0,i.h)("div",{tabIndex:0,ref:k,"data-testid":"continueButton",disabled:n,"aria-disabled":n,"aria-label":r,className:[h.continueButton,n?h.disabled:""].join(" ")},C?(0,i.h)(_.Spinner,null):e.continueButton)),t.onSkip&&(0,i.h)(A.A11yWrapper,{onClick:x},(0,i.h)("div",{tabIndex:0,"data-testid":"skipButton","aria-label":e.skipButtonAriaLabel,className:[h.skipButton,C?h.disabled:""].join(" "),disabled:C},e.skipButton)))}),[t,g,C,k]);return(0,i.h)(d.IvqOverlay,null,(0,i.h)("div",{className:["ivq",h.ivqQuestionContainer].join(" "),"data-testid":"ivqQuestionContainer"},(0,i.h)("div",{className:h.ivqQuestionWrapper,"data-testid":"ivqQuestionWrapper"},q),S),(0,i.h)(p.IvqBottomBar,{questionCounter:e.questionCounter,onPrev:t.onPrev,onNext:t.onNext,getSeekBarNode:n,updatePlayerHover:f}))}))},586:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(4513),t)},4513:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.ReflectionPoint=void 0;var i=n(4522),o=n(5361),a=n(7610),s=KalturaPlayer.ui.preacti18n,l=s.withText,u=s.Text;t.ReflectionPoint=l((function(){return{reflectionPoint:(0,i.h)(u,{id:"ivq.reflection_point"},"Reflection Point"),questionLabel:(0,i.h)(u,{id:"ivq.question"},"Question")}}))((function(e){var t=e.question,n=e.questionIndex,s=r(e,["question","questionIndex"]);return(0,i.h)("div",{className:o.reflectionPointWrapper},(0,i.h)("legend",{className:o.reflectionText,"data-testid":"reflectionPointTitle"},(0,i.h)("span",{className:o.visuallyHidden},"".concat(s.questionLabel,"# ").concat(n,", ").concat(s.reflectionPoint,":")),(0,i.h)("div",{dangerouslySetInnerHTML:{__html:(0,a.wrapLinksWithTags)(t)}})))}))},7865:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1337),t)},1337:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.TrueFalse=void 0;var i=n(4522),o=n(5792),a=n(6713),s=n(979),l=n(6554),u=n(7610),c=KalturaPlayer.ui.preacti18n,d=c.withText,_=c.Text;t.TrueFalse=d((function(){return{answerNumber:(0,i.h)(_,{id:"ivq.answer_number"},"Answer number"),yourAnswer:(0,i.h)(_,{id:"ivq.your_answer"},"Your answer"),questionLabel:(0,i.h)(_,{id:"ivq.question"},"Question")}}))((function(e){var t=e.question,n=e.optionalAnswers,c=e.selected,d=e.onSelect,_=e.hint,p=e.questionIndex,A=r(e,["question","optionalAnswers","selected","onSelect","hint","questionIndex"]),h=!d,f=(0,o.useCallback)((function(e){return function(t,n){d&&d(e,n)}}),[d]);(0,o.useEffect)((function(){var e;h||null===(e=v.get(0))||void 0===e||e.focus()}),[t]);var v=new Map;(0,o.useEffect)((function(){return function(){v=new Map}}),[]);var g=function(e){return v.get(e)};return(0,i.h)("div",{className:l.trueFalseWrapper,"data-testid":"trueFalseContainer"},(0,i.h)("legend",{className:l.questionText,"data-testid":"trueFalseQuestionTitle"},(0,i.h)("span",{className:l.visuallyHidden},"".concat(A.questionLabel," #").concat(p,":")),(0,i.h)("div",{dangerouslySetInnerHTML:{__html:(0,u.wrapLinksWithTags)(t)}})),_&&(0,i.h)(a.QuestionAddons,{hint:_}),(0,i.h)("div",{className:l.optionalAnswersWrapper,role:"radiogroup","data-testid":"trueFalseAnswersContainer"},n.map((function(e,t){var n=e.key,r=e.text,o=c.includes(n),a=[l.trueFalseAnswer,o?l.active:"",h?l.disabled:""].join(" ");return(0,i.h)(s.A11yWrapper,{onClick:f(n),onUpKeyPressed:function(){},onDownKeyPressed:function(){},onLeftKeyPressed:function(){return function(e){var t;null===(t=g(e-1))||void 0===t||t.focus()}(t)},onRightKeyPressed:function(){return function(e){var t;null===(t=g(e+1))||void 0===t||t.focus()}(t)},role:"radio"},(0,i.h)("div",{ref:function(e){!function(e,t){v.set(e,t)}(t,e)},key:n,tabIndex:0,"data-testid":"trueFalseAnswerContent","aria-checked":o,"aria-disabled":h,className:a,"aria-label":"".concat(A.answerNumber," ").concat(t+1,", ").concat(r).concat(o?". ".concat(A.yourAnswer):"")},r))}))))}))},2376:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(6080),t)},9810:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(342),t)},342:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionIcon=void 0;var r=n(4522),i=n(2085),o=n(1293),a=n(2221),s=KalturaPlayer.ui.components.Icon;t.QuestionIcon=function(e){var t=function(e,t){switch(e){case i.KalturaQuizQuestionTypes.OpenQuestion:return[(0,r.h)(s,{id:"ivq-open-question",height:o.icons.SmallSize,width:o.icons.SmallSize,viewBox:"0 0 ".concat(o.icons.SmallSize," ").concat(o.icons.SmallSize),path:o.icons.OPEN_QUESTION_ICON}),a.defaultIcon];case i.KalturaQuizQuestionTypes.Reflection:return[(0,r.h)(s,{id:"ivq-reflectin-point",height:o.icons.SmallSize,width:o.icons.SmallSize,viewBox:"0 0 ".concat(o.icons.SmallSize," ").concat(o.icons.SmallSize),path:o.icons.REFLECTION_POINT_ICON}),a.defaultIcon];default:return t?[(0,r.h)(s,{id:"ivq-question-correct-answer",height:o.icons.SmallSize,width:o.icons.SmallSize,viewBox:"0 0 ".concat(o.icons.SmallSize," ").concat(o.icons.SmallSize),path:o.icons.CORRCT_ANSWER}),a.correctAnswer]:[(0,r.h)(s,{id:"ivq-question-incorrect-answer",height:o.icons.SmallSize,width:o.icons.SmallSize,viewBox:"0 0 ".concat(o.icons.SmallSize," ").concat(o.icons.SmallSize),path:o.icons.INCORRECT_ANSWER}),a.incorrectAnswer]}}(e.questionType,e.isCorrect),n=t[0],l=t[1];return(0,r.h)("div",{className:[a.questionIcon,l].join(" "),"data-testid":"reviewQuestionIcon"},n)}},8734:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2254),t)},2254:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionListReview=void 0;var i=n(4522),o=n(5792),a=n(1797),s=n(2085),l=n(9810),u=n(979),c=n(3024),d=n(9547),_=KalturaPlayer.ui.preacti18n,p=_.withText,A=_.Text;t.QuestionListReview=p((function(e){var t=e.score;return{quizScore:(0,i.h)(A,{id:"ivq.quiz_score",fields:{quizScore:"".concat(t,"/100")}},"Your score is ".concat(t,"/100")),retakeButton:(0,i.h)(A,{id:"ivq.retake_button"},"Retake"),retakeButtonAreaLabel:(0,i.h)(A,{id:"ivq.retake_button_area_label"},"Click to retake the quiz"),closeButton:(0,i.h)(A,{id:"ivq.close_button"},"Close"),closeButtonAriaLabel:(0,i.h)(A,{id:"ivq.close_button_aria_label"},"Click to close the review"),quizCompleted:(0,i.h)(A,{id:"ivq.quiz_completed"},"You completed the quiz"),reviewQuestion:(0,i.h)(A,{id:"ivq.review_question"},"Click to review the question"),correctAnswer:(0,i.h)(A,{id:"ivq.correct_answer"},"Correct answer"),wrongAnswer:(0,i.h)(A,{id:"ivq.wrong_answer"},"Wrong answer"),reflectionPointTranslate:(0,i.h)(A,{id:"ivq.reflection_point"},"Reflection Point"),questionLabel:(0,i.h)(A,{id:"ivq.question"},"Question")}}))((function(e){var t=e.onRetake,n=(e.score,e.reviewDetails),_=e.showAnswers,p=e.showScores,A=e.onClose,h=e.onQuestionClick,f=r(e,["onRetake","score","reviewDetails","showAnswers","showScores","onClose","onQuestionClick"]),v=(0,o.useState)(!1),g=v[0],b=v[1],m=(0,o.useRef)(null);(0,o.useEffect)((function(){m.current&&m.current.focus()}),[]);var y=(0,o.useCallback)((function(){b(!0),t&&t().finally((function(){b(!1)}))}),[t]),C=function(e){return"".concat(f.questionLabel," #").concat(e.index+1)},w=(0,o.useMemo)((function(){return(0,i.h)("div",{className:c.questionsContainer,"data-testid":"reviewQuestionsContainer",role:"list"},n.map((function(e,t){var n;return(0,i.h)(u.A11yWrapper,{onClick:h(e,t),role:"listitem"},(0,i.h)("div",{key:e.id,tabIndex:0,className:c.reviewAnswer,"data-testid":"reviewAnswer"},(0,i.h)("div",{className:c.questionLabel,"data-testid":"reviewQuestionLabel","aria-hidden":"true"},e.index+1),(0,i.h)("div",{className:c.questionContent,"data-testid":"reviewQuestionContent","aria-hidden":"true"},e.q.question),(0,i.h)("span",{className:c.visuallyHidden},function(e){var t;return e.q.questionType===s.KalturaQuizQuestionTypes.Reflection?"".concat(C(e),", ").concat(f.reflectionPointTranslate,": ").concat(e.q.question):e.q.questionType===s.KalturaQuizQuestionTypes.OpenQuestion?"".concat(C(e),", ").concat(e.q.question,". ").concat(f.reviewQuestion):"".concat(C(e),": ").concat((null===(t=e.a)||void 0===t?void 0:t.isCorrect)?f.correctAnswer:f.wrongAnswer,", ").concat(e.q.question,". ").concat(f.reviewQuestion)}(e)),(0,i.h)(l.QuestionIcon,{questionType:e.q.questionType,isCorrect:null===(n=e.a)||void 0===n?void 0:n.isCorrect})))})))}),[n]);return(0,i.h)(d.FocusTrap,{active:!0},(0,i.h)("div",{className:["ivq",c.quizReviewWrapper].join(" "),role:"dialog","aria-live":"polite","data-testid":"quizReviewWrapper"},p?(0,i.h)("legend",{"data-testid":"quizScoreTitle",className:c.quizScore,tabIndex:0},f.quizScore):(0,i.h)("div",{className:c.quizScore,"data-testid":"quizScoreTitle",tabIndex:0},f.quizCompleted),(0,i.h)("div",{className:c.questionsWrapper},_&&w),(0,i.h)("div",{className:c.buttonWrapper,"data-testid":"reviewButtonWrapper"},t&&(0,i.h)(u.A11yWrapper,{onClick:y},(0,i.h)("div",{tabIndex:0,className:c.primaryButton,"aria-label":f.retakeButtonAreaLabel,"data-testid":"reviewRetakeButton",disabled:g},g?(0,i.h)(a.Spinner,null):f.retakeButton)),(0,i.h)(u.A11yWrapper,{onClick:A},(0,i.h)("div",{ref:m,tabIndex:0,"data-testid":"reviewCloseButton",className:[t?c.secondaryButton:c.primaryButton,g?c.disabled:""].join(" "),"aria-label":f.closeButtonAriaLabel},f.closeButton)))))}))},9816:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(7386),t)},7386:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionReview=void 0;var i=n(4522),o=n(5792),a=n(979),s=n(2085),l=n(7610),u=n(1293),c=n(5333),d=n(9810),_=n(6713),p=n(8466),A=KalturaPlayer.ui.preacti18n,h=A.withText,f=A.Text,v=KalturaPlayer.ui.components.Icon;t.QuestionReview=h((function(e){var t=e.questionsAmount,n=e.reviewQuestion;return{backButton:(0,i.h)(f,{id:"ivq.back_button"},"Back"),questionCounter:(0,i.h)(f,{id:"ivq.question_counter",fields:{current:n.index+1,total:t}},"Question ".concat(n.index+1," of ").concat(t)),correctAnswerIs:(0,i.h)(f,{id:"ivq.correct_answer_is"},"The correct answer is:"),yourAnswer:(0,i.h)(f,{id:"ivq.your_answer"},"Your answer"),questionLabel:(0,i.h)(f,{id:"ivq.question"},"Question")}}))((function(e){var t=e.onBack,n=e.onNext,A=e.onPrev,h=e.questionCounter,f=e.reviewQuestion,g=e.getSeekBarNode,b=e.updatePlayerHover,m=r(e,["onBack","onNext","onPrev","questionCounter","reviewQuestion","getSeekBarNode","updatePlayerHover"]),y=(0,o.useRef)(null),C=f.qq,w=C.q,k=C.a;(0,o.useEffect)((function(){var e;f.byKeyboard&&(null===(e=y.current)||void 0===e||e.focus())}),[f]);var E=(0,o.useMemo)((function(){var e;if(w.questionType===s.KalturaQuizQuestionTypes.TrueFalse){var t=null===(e=null==k?void 0:k.correctAnswerKeys[0])||void 0===e?void 0:e.value,n=null==w?void 0:w.optionalAnswers.find((function(e){return e.key===t})),r=null==w?void 0:w.optionalAnswers.find((function(e){return e.key===(null==k?void 0:k.answerKey)}));return(0,i.h)(i.Fragment,null,(0,i.h)("div",{className:p.correctAnswerIs,"data-testid":"reviewCorrectAnswerIs"},"".concat(m.correctAnswerIs," ").concat(null==n?void 0:n.text)),(null==k?void 0:k.explanation)&&(0,i.h)(_.QuestionAddons,{explanation:k.explanation}),(0,i.h)("div",{className:p.yourAnswer,"data-testid":"reviewYourAnswer"},m.yourAnswer,(0,i.h)("span",{className:p.visuallyHidden},": ".concat(null==r?void 0:r.text))),(0,i.h)("div",{className:p.trueFalseAnswerWrapper,role:"listbox","aria-hidden":"true"},w.optionalAnswers.map((function(e){var t=e.key,r=e.text;return(0,i.h)("div",{key:t,className:[p.trueFalseAnswer,p.disabled].join(" "),"data-testid":"reviewTrueFalseAnswer",role:"option"},r,(null==k?void 0:k.answerKey)===t&&(0,i.h)(d.QuestionIcon,{questionType:w.questionType,isCorrect:t===(null==n?void 0:n.key)}))}))))}if([s.KalturaQuizQuestionTypes.MultiAnswer,s.KalturaQuizQuestionTypes.MultiChoice].includes(w.questionType)){var o=(0,l.makeQuestionLabels)(),a=null==k?void 0:k.correctAnswerKeys.map((function(e){return e.value})),u=[],c=[],A=[],h=(null==k?void 0:k.answerKey.split(","))||[],f=[];return w.optionalAnswers.forEach((function(e,t){var n=null==a?void 0:a.includes(e.key);n&&u.push(o[t]),h.includes(e.key)&&(n?(c.push(e.key),f.push(o[t])):(A.push(e.key),f.push(o[t])))})),(0,i.h)(i.Fragment,null,(0,i.h)("div",{className:p.correctAnswerIs,"data-testid":"reviewCorrectMultiChoiceAnswer"},"".concat(m.correctAnswerIs," ").concat(u.join(","))),(null==k?void 0:k.explanation)&&(0,i.h)(_.QuestionAddons,{explanation:k.explanation}),(0,i.h)("div",{className:p.yourAnswer,"data-testid":"reviewYourMultiChoiceAnswer"},m.yourAnswer,(0,i.h)("span",{className:p.visuallyHidden},": ".concat(f.join(",")))),(0,i.h)("div",{className:p.multiAnswersWrapper,"aria-hidden":"true"},(0,i.h)("div",{className:p.multiAnswersContainer,role:"listbox"},w.optionalAnswers.map((function(e,t){var n=e.key,r=e.text,a=A.includes(n),s=c.includes(n);return(0,i.h)("div",{key:n,className:[p.multiSelectAnswer,p.disabled].join(" "),"data-testid":"multiSelectAnswer",role:"option"},(0,i.h)("div",{className:p.questionLabel,"data-testid":"questionLabel"},o[t]),(0,i.h)("div",{className:p.questionContent,"data-testid":"questionContent"},r),s&&(0,i.h)(d.QuestionIcon,{questionType:w.questionType,isCorrect:!0}),a&&(0,i.h)(d.QuestionIcon,{questionType:w.questionType,isCorrect:!1}),!(s||a)&&(0,i.h)("div",{className:p.iconPlaceholder}))}))),(0,i.h)("div",{className:p.rightDivider})))}return w.questionType===s.KalturaQuizQuestionTypes.OpenQuestion?(0,i.h)(i.Fragment,null,(0,i.h)("div",{className:p.openQuestionAnswer,"data-testid":"openQuestionAnswer"},null==k?void 0:k.openAnswer),(null==k?void 0:k.explanation)&&(0,i.h)(_.QuestionAddons,{explanation:k.explanation}),(null==k?void 0:k.feedback)&&(0,i.h)(_.QuestionAddons,{feedback:null==k?void 0:k.feedback})):null}),[f]);return(0,i.h)(i.Fragment,null,(0,i.h)("div",{className:["ivq",p.questionReviewWrapper].join(" "),role:"dialog","aria-live":"polite","data-testid":"questionReviewWrapper"},(0,i.h)("div",{className:p.backButtonContainer},(0,i.h)(a.A11yWrapper,{onClick:t},(0,i.h)("div",{tabIndex:0,className:p.backButton,ref:y,"data-testid":"backButton"},(0,i.h)("div",{className:p.iconContainer,"aria-hidden":"true"},(0,i.h)(v,{id:"ivq-chevron-left",height:14,width:9,viewBox:"0 0 ".concat(u.icons.SmallSize," ").concat(u.icons.SmallSize),path:u.icons.CHEVRON_LEFT})),m.backButton))),(0,i.h)("div",{className:p.quizQuestionContainer},(0,i.h)("legend",{className:p.questionText,"data-testid":"reviewQuestionText"},(0,i.h)("span",{className:p.visuallyHidden},"".concat(m.questionLabel," #").concat(f.index+1,":")),w.question),E)),(0,i.h)(c.IvqBottomBar,{questionCounter:h,onPrev:A,onNext:n,getSeekBarNode:g,updatePlayerHover:b}))}))},6080:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.QuizReview=void 0;var o=n(4522),a=n(5792),s=n(6740),l=n(9816),u=n(8734);t.QuizReview=function(e){var t=e.reviewDetails,n=e.preparePlayer,c=e.getSeekBarNode,d=e.restoreSeekBar,_=e.updatePlayerHover,p=i(e,["reviewDetails","preparePlayer","getSeekBarNode","restoreSeekBar","updatePlayerHover"]),A=(0,a.useState)(null),h=A[0],f=A[1],v=(0,a.useCallback)((function(e,t){return function(r,i){n(e,!0,!1),f({qq:e,index:t,byKeyboard:i})}}),[]),g=(0,a.useCallback)((function(){f(null),d()}),[d]),b=(0,a.useCallback)((function(e){var r=h&&t[h.index+e];if(r)return function(){n(r,!0,!1),f({qq:r,index:h.index+e})}}),[h,t]),m=(0,a.useMemo)((function(){return(0,o.h)(l.QuestionReview,{onBack:g,onNext:b(1),onPrev:b(-1),reviewQuestion:h,questionsAmount:t.length,getSeekBarNode:c,updatePlayerHover:_})}),[h,t,c]),y=(0,a.useMemo)((function(){return(0,o.h)(u.QuestionListReview,r({onQuestionClick:v,reviewDetails:t},p))}),[p,t]);return(0,o.h)(s.IvqOverlay,null,h?m:y)}},5794:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(8501),t)},8501:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.QuizSubmit=void 0;var i=n(4522),o=n(5792),a=n(979),s=n(9547),l=n(6740),u=n(1797),c=n(1047),d=KalturaPlayer.ui.preacti18n,_=d.withText,p=d.Text;KalturaPlayer.ui.redux.useSelector,t.QuizSubmit=_((function(e){var t=e.onSubmit;return{submitButton:(0,i.h)(p,{id:"ivq.submit_button"},"Submit"),submitButtonAriaLabel:(0,i.h)(p,{id:"ivq.submit_button_area_label"},"Click to submit quiz"),reviewButton:(0,i.h)(p,{id:"ivq.review_button"},"Review"),reviewButtonAriaLabel:(0,i.h)(p,{id:"ivq.review_button_area_label"},"Click to review quiz"),title:t?(0,i.h)(p,{id:"ivq.submit_title"},"Quiz completed"):(0,i.h)(p,{id:"ivq.review_title"},"You are almost done"),description:t?(0,i.h)(p,{id:"ivq.submit_description"},"Take a moment to review your answers or go ahead to submit your answers."):(0,i.h)(p,{id:"ivq.review_description"},"It appears that some questions remained unanswered You must answer all questions before you can submit")}}))((function(e){var t=e.onReview,n=e.onSubmit,d=r(e,["onReview","onSubmit"]),_=(0,o.useState)(!1),p=_[0],A=_[1],h=(0,o.useRef)(null),f=(0,o.useRef)(null);(0,o.useEffect)((function(){var e,t;n?null===(e=h.current)||void 0===e||e.focus():null===(t=f.current)||void 0===t||t.focus()}),[n]);var v=(0,o.useCallback)((function(){t()}),[t]),g=(0,o.useCallback)((function(){n&&(A(!0),n().finally((function(){A(!1)})))}),[]);return(0,i.h)(l.IvqOverlay,null,(0,i.h)(s.FocusTrap,{active:!0},(0,i.h)("div",{className:["ivq",c.quizSubmitWrapper].join(" "),"data-testid":"submitContainer"},(0,i.h)("div",{tabIndex:0},(0,i.h)("div",{className:c.title},d.title),(0,i.h)("div",{className:c.description},d.description)),(0,i.h)("div",{className:c.buttonWrapper,"data-testid":"submitButton"},n&&(0,i.h)(a.A11yWrapper,{onClick:g},(0,i.h)("div",{tabIndex:0,className:c.primaryButton,"aria-label":d.submitButtonAriaLabel,disabled:p,ref:h},p?(0,i.h)(u.Spinner,null):d.submitButton)),(0,i.h)(a.A11yWrapper,{onClick:v},(0,i.h)("div",{tabIndex:0,disabled:p,className:[n?c.secondaryButton:c.primaryButton,p?c.disabled:""].join(" "),"aria-label":d.reviewButtonAriaLabel,ref:f},d.reviewButton))))))}))},1797:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(4350),t)},4350:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Spinner=void 0;var r=n(4522),i=n(8083);t.Spinner=function(e){return(0,r.h)("div",{style:{height:e.height,width:e.width},className:i.ivqLoader,"data-testid":"ivqSpinner"})},t.Spinner.defaultProps={height:"22px",width:"22px"}},8912:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(614),t)},614:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.WelcomeScreen=void 0;var i=n(4522),o=n(5792),a=n(2021),s=n(1293),l=n(1797),u=n(979),c=KalturaPlayer.ui.preacti18n,d=c.withText,_=c.Text,p=KalturaPlayer.ui.components.Icon,A=KalturaPlayer.ui.components.Overlay;t.WelcomeScreen=d((function(e){var t=e.availableAttempts;return{welcomeTitle:(0,i.h)(_,{id:"ivq.welcome_title"},"Start your video quiz!"),tip:(0,i.h)(_,{id:"ivq.tip"},"All questions must be answered. The quiz will be submitted at the end."),availableAttemptsMessage:(0,i.h)(_,{id:"ivq.available_attempts_message",fields:{availableAttempts:t}},"Total attempts available for this quiz: ".concat(t)),welcomeDownload:(0,i.h)(_,{id:"ivq.welcome_download"},"Download Pre-Test"),startQuiz:(0,i.h)(_,{id:"ivq.start_quiz"},"Start Quiz")}}))((function(e){var t=e.welcomeMessage,n=e.inVideoTip,c=e.onDownload,d=e.poster,_=e.onClose,h=e.availableAttempts,f=r(e,["welcomeMessage","inVideoTip","onDownload","poster","onClose","availableAttempts"]),v=(0,o.useState)(!1),g=v[0],b=v[1],m=(0,o.useCallback)((function(){g||(b(!0),c().finally((function(){b(!1)})))}),[c,g]),y=(0,o.useMemo)((function(){return(0,i.h)("div",{"data-testid":"welcomeScreenRoot",className:["ivq",a.welcomeScreenWrapper,d?a.withPoster:""].join(" "),style:{backgroundImage:d?"url(".concat(d,")"):"none"}},(0,i.h)("div",{className:a.background}),(0,i.h)("div",{className:a.content,"data-testid":"welcomeScreenContent"},(0,i.h)("div",{title:"".concat(f.welcomeTitle,". ").concat(t,". ").concat(f.tip," ").concat(f.availableAttemptsMessage),tabIndex:0,"aria-live":"polite"},(0,i.h)("div",{className:a.title,"data-testid":"welcomeScreenTitle"},f.welcomeTitle),(0,i.h)("div",{className:a.desc,"data-testid":"welcomeScreenDescription"},t),n?(0,i.h)("div",{className:a.tip,"data-testid":"welcomeScreenTip"},f.tip):"",h&&h>0?(0,i.h)("div",{className:a.attempts,"data-testid":"welcomeScreenAttempts"},f.availableAttemptsMessage):""),(0,i.h)("div",{className:a.buttonWrapper},_&&(0,i.h)(u.A11yWrapper,{onClick:_},(0,i.h)("div",{"data-testid":"startQuiz","aria-label":f.startQuiz,className:a.startQuizButton,tabIndex:0},f.startQuiz)),c&&(0,i.h)(u.A11yWrapper,{onClick:m},(0,i.h)("div",{tabIndex:0,"aria-label":f.welcomeDownload,"data-testid":"downloadPreTestContainer",className:[a.download,g?a.disabled:""].join(" ")},g&&(0,i.h)("div",{className:a.spinnerContainer},(0,i.h)(l.Spinner,{height:"20px",width:"20px"})),!g&&(0,i.h)("div",{className:a.icon,"data-testid":"downloadPreTestIcon"},(0,i.h)(p,{id:"ivq-download","data-testid":"downloadPreTestIcon",height:s.icons.MediumSize,width:s.icons.MediumSize,viewBox:"0 0 ".concat(s.icons.MediumSize," ").concat(s.icons.MediumSize),path:s.icons.DOWNLOAD})),(0,i.h)("span",null,f.welcomeDownload))))))}),[]);return _?(0,i.h)(A,{open:!0,permanent:!0,children:y,dontCheckOverlayPortal:!0}):y}))},6598:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.DataSyncManager=void 0;var i=n(2052),o=n(7610),a=n(937),s=n(2085),l=n(5294),u=n(6099),c=i.core.TimedMetadata,d=function(){function e(e,t,n,i,a,d,_,p,A,h){var f=this;this._onQuestionsLoad=e,this._onQuestionBecomeActive=t,this._enableSeekControl=n,this._eventManager=i,this._player=a,this._logger=d,this._dispatchIvqEvent=_,this._manageIvqPopup=p,this._filterQuestionChanged=A,this._makeOnClickHandler=h,this.quizData=null,this.quizUserEntry=null,this.quizQuestionsMap=new Map,this._quizCuePoints=[],this._quizAnswers=[],this._syncEvents=function(){f._eventManager.listen(f._player,f._player.Event.TIMED_METADATA_CHANGE,f._onTimedMetadataChange),f._eventManager.listen(f._player,f._player.Event.TIMED_METADATA_ADDED,f._onTimedMetadataAdded)},this.setQuizData=function(e,t){void 0===t&&(t=!1),f._logger.debug("setQuizData".concat(t?" in preview mode":""),e),f.quizData=r(r({},e),{welcomeMessage:(0,o.getKeyValue)(e.uiAttributes,"welcomeMessage"),noSeekAlertText:(0,o.getKeyValue)(e.uiAttributes,"noSeekAlertText"),inVideoTip:(0,o.stringToBoolean)((0,o.getKeyValue)(e.uiAttributes,"inVideoTip")),showWelcomePage:(0,o.stringToBoolean)((0,o.getKeyValue)(e.uiAttributes,"showWelcomePage")),canSkip:(0,o.stringToBoolean)((0,o.getKeyValue)(e.uiAttributes,"canSkip")),preventSeek:(0,o.stringToBoolean)((0,o.getKeyValue)(e.uiAttributes,"banSeek")),previewMode:t})},this.setQuizUserEntry=function(e){f._logger.debug("setQuizUserEntry",e),f.quizUserEntry=e},this.setQuizAnswers=function(e){void 0===e&&(e=[]),f._logger.debug("setQuizAnswers",e),f._quizAnswers=e},this.initDataManager=function(e){var t;f.quizData&&f.quizUserEntry?((f.quizData.preventSeek&&!e||f._player.ui.store.getState().seekbar.isPreventSeek)&&f._enableSeekControl(),f._syncEvents(),f._dispatchIvqEvent(s.IvqEventTypes.QUIZ_STARTED,{allowedAttempts:f.quizData.attemptsAllowed,allowSeekForward:!f.quizData.preventSeek,scoreType:f.quizData.scoreType,allowAnswerUpdate:null===(t=f.quizData)||void 0===t?void 0:t.allowAnswerUpdate})):f._logger.warn("initDataManager: quizData or quizUserEntry absent")},this.dispatchQuestionChanged=function(){var e=f.isQuizSubmitted(),t=[];f._filterQuestionChanged(f.quizQuestionsMap).forEach((function(n){var r,i=u.QuestionStateTypes.UNANSWERED;e&&f.quizData.showCorrectAfterSubmission?i=(null===(r=n.a)||void 0===r?void 0:r.isCorrect)?u.QuestionStateTypes.CORRECT:u.QuestionStateTypes.INCORRECT:n.a&&(i=u.QuestionStateTypes.ANSWERED);var o={id:n.id,index:n.index,type:n.q.questionType,question:n.q.question,startTime:n.startTime,state:i,onClick:f._makeOnClickHandler(n.id)};t.push(o)})),f._dispatchIvqEvent(s.IvqEventTypes.QUIZ_QUESTION_CHANGED,{qqa:t})},this.submitQuiz=function(){var e,t={entryId:f._player.sources.id,quizUserEntryId:null===(e=f.quizUserEntry)||void 0===e?void 0:e.id};return f._player.provider.doRequest([{loader:l.QuizSubmitLoader,params:t}]).then((function(e){var t;if(e&&e.has(l.QuizSubmitLoader.id)){var n=e.get(l.QuizSubmitLoader.id),i=null===(t=null==n?void 0:n.response)||void 0===t?void 0:t.userEntry;if(i)return f.quizUserEntry=i,f._dispatchIvqEvent(s.IvqEventTypes.QUIZ_SUBMITTED,i.id),f.getQuizAnswers().then((function(e){f._quizAnswers=e,f.prepareQuizData(),f.quizQuestionsMap.forEach((function(e){f.quizQuestionsMap.set(e.id,r(r({},e),{disabled:!0,skipAvailable:!1}))}))}));f._logger.warn("submit quiz failed")}}))},this.getUnansweredQuestions=function(){var e=[];return f.quizQuestionsMap.forEach((function(t){t.a||e.push(t)})),e},this.getQuizAnswers=function(){var e;return f._player.provider.doRequest([{loader:l.QuizAnswerLoader,params:{entryId:f._player.sources.id,quizUserEntryId:null===(e=f.quizUserEntry)||void 0===e?void 0:e.id}}]).then((function(e){var t;if(e&&e.has(l.QuizAnswerLoader.id)){var n=e.get(l.QuizAnswerLoader.id);return null===(t=null==n?void 0:n.response)||void 0===t?void 0:t.quizAnswers}})).catch((function(e){f._logger.warn(e)}))},this.createNewQuizUserEntry=function(){return f._player.provider.doRequest([{loader:l.QuizUserEntryIdLoader,params:{entryId:f._player.sources.id}}]).then((function(e){var t;if(e&&e.has(l.QuizUserEntryIdLoader.id)){var n=e.get(l.QuizUserEntryIdLoader.id);return null===(t=null==n?void 0:n.response)||void 0===t?void 0:t.userEntry}})).catch((function(e){f._logger.warn(e)}))},this.isQuizSubmitted=function(){var e;return(0,o.isNumber)(null===(e=f.quizUserEntry)||void 0===e?void 0:e.score)},this.isSubmitAllowed=function(){return!f.getUnansweredQuestions().length},this._getSubmittedAttempts=function(){var e;if((0,o.isNumber)(null===(e=f.quizUserEntry)||void 0===e?void 0:e.version)){var t=f.quizUserEntry.version;return f.isQuizSubmitted()?t+1:t}return 0},this.getQuizScore=function(){return f.isQuizSubmitted()?(100*f.quizUserEntry.score).toFixed(0):"0"},this.getAvailableAttempts=function(){var e;return((null===(e=f.quizData)||void 0===e?void 0:e.attemptsAllowed)||0)-f._getSubmittedAttempts()},this.isRetakeAllowed=function(){return f.getAvailableAttempts()>0},this.prepareQuizData=function(){f._quizCuePoints.forEach((function(e,t){var n=f._quizAnswers.find((function(t){return e.id===t.parentId})),i=f._quizCuePoints[t-1],o=f._quizCuePoints[t+1];i&&(i={id:i.id,startTime:i.startTime}),o&&(o={id:o.id,startTime:o.startTime});var a=f.isQuizSubmitted(),l={id:e.id,index:t,startTime:e.startTime,q:e.metadata,a:n,next:o,prev:i,skipAvailable:f.quizData.canSkip&&!a,seekAvailable:!f.quizData.preventSeek,allowAnswerUpdate:f.quizData.allowAnswerUpdate,disabled:a,onContinue:function(n){var i;if(null===(i=f.quizData)||void 0===i?void 0:i.previewMode)return f._logger.debug("Preview mode doesn't send answer data to BE"),Promise.resolve();var a=f.quizQuestionsMap.get(e.id).a;return f._sendQuizAnswer(n,e.metadata.questionType,null==a?void 0:a.id,e.id).then((function(i){var a;f._dispatchIvqEvent(s.IvqEventTypes.QUESTION_ANSWERED,{questionIndex:t,questionType:e.metadata.questionType,questionText:e.metadata.question,answer:n,attemptNumber:null===(a=f.quizData)||void 0===a?void 0:a.version}),f.quizQuestionsMap.set(e.id,r(r({},f.quizQuestionsMap.get(e.id)),{a:i})),f.dispatchQuestionChanged(),o&&!f.isSubmitAllowed()||f._manageIvqPopup()})).catch((function(e){throw f._logger.warn(e),e}))}};f.quizQuestionsMap.set(e.id,l)})),f.dispatchQuestionChanged()},this.retakeQuiz=function(e){f.setQuizUserEntry(e),f.setQuizAnswers([]),f.prepareQuizData()},this._sendQuizAnswer=function(e,t,n,r){var i,o="1";[s.KalturaQuizQuestionTypes.TrueFalse,s.KalturaQuizQuestionTypes.MultiAnswer,s.KalturaQuizQuestionTypes.MultiChoice].includes(t)&&(o=e);var a={entryId:f._player.sources.id,quizUserEntryId:null===(i=f.quizUserEntry)||void 0===i?void 0:i.id,parentId:r,answerKey:o,id:n};return t===s.KalturaQuizQuestionTypes.OpenQuestion&&(a.openAnswer=e),f._player.provider.doRequest([{loader:l.QuizAnswerSubmitLoader,params:a}]).then((function(e){var t;if(e&&e.has(l.QuizAnswerSubmitLoader.id)){var n=e.get(l.QuizAnswerSubmitLoader.id),r=null===(t=null==n?void 0:n.response)||void 0===t?void 0:t.quizAnswer;if(r)return r;f._logger.warn("submit answer failed")}}))},this._getQuizQuePoints=function(e){return e.filter((function(e){var t;return(null==e?void 0:e.type)===c.TYPE.CUE_POINT&&"quiz.QUIZ_QUESTION"===(null===(t=e.metadata)||void 0===t?void 0:t.cuePointType)}))},this._onTimedMetadataChange=function(e){var t=e.payload,n=f._getQuizQuePoints(t.cues).filter((function(e){return e.endTime!==f._player.currentTime}));n.length&&f._onQuestionBecomeActive(n[0])},this._onTimedMetadataAdded=function(e){var t=e.payload,n=f._getQuizQuePoints(t.cues);n.length&&(f._quizCuePoints=n,f.prepareQuizData(),f._onQuestionsLoad(f.quizQuestionsMap))},this.reset=function(){f.quizData=null,f.quizUserEntry=null,f.quizQuestionsMap=new Map,f._quizCuePoints=[],f._quizAnswers=[]}}return e.generateQuizUserEntry=function(e){return void 0===e&&(e={}),{id:e.id||"1",entryId:e.entryId||"1",userId:e.userId||"1",partnerId:e.partnerId||1,status:a.KalturaUserEntryStatus.active,createdAt:e.createdAt||"1",updatedAt:e.updatedAt||"1",type:e.type||a.KalturaUserEntryType.quiz,version:e.version||void 0,score:e.score||void 0,calculatedScore:e.calculatedScore||void 0}},e.generateRawQuizData=function(e){var t,n,i,a,s,l,u,c;void 0===e&&(e={});var d=[(0,o.generateKeyValue)("welcomeMessage","In this video, you will be given a Quiz. Good Luck!"),(0,o.generateKeyValue)("noSeekAlertText",""),(0,o.generateKeyValue)("inVideoTip","true"),(0,o.generateKeyValue)("showWelcomePage","true"),(0,o.generateKeyValue)("canSkip","true"),(0,o.generateKeyValue)("banSeek","false")];return{version:e.version||1,uiAttributes:d.map((function(t){var n,i;return r(r({},t),{value:(null===(i=null===(n=e.uiAttributes)||void 0===n?void 0:n.find((function(e){return e.key===t.key})))||void 0===i?void 0:i.value)||t.value})})),allowAnswerUpdate:null===(t=e.allowAnswerUpdate)||void 0===t||t,showCorrectAfterSubmission:null===(n=e.showCorrectAfterSubmission)||void 0===n||n,allowDownload:null===(i=e.allowDownload)||void 0===i||i,showGradeAfterSubmission:null===(a=e.showGradeAfterSubmission)||void 0===a||a,attemptsAllowed:null!==(s=e.attemptsAllowed)&&void 0!==s?s:0,scoreType:null!==(l=e.scoreType)&&void 0!==l?l:3,showResultOnAnswer:null!==(u=e.showResultOnAnswer)&&void 0!==u?u:void 0,showCorrectKeyOnAnswer:null!==(c=e.showCorrectKeyOnAnswer)&&void 0!==c?c:void 0}},e}();t.DataSyncManager=d},5195:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Ivq=t.PLUGIN_NAME=void 0;var a=n(4522),s=n(2052),l=n(4130),u=n(5294),c=n(2085),d=n(6598),_=n(2152),p=n(8912),A=n(5794),h=n(2376),f=n(962),v=n(9454),g=n(7406),b=s.core.EventType,m=s.core.FakeEvent,y=KalturaPlayer.ui.EventType.PLAYER_HOVERED,C="has-ivq-plugin-overlay",w=KalturaPlayer.ui.preacti18n.Text;t.PLUGIN_NAME="ivq";var k=function(e){function n(n,r,i){var s=e.call(this,n,r,i)||this;return s._resolveQuizDataPromise=function(){},s._resolveQuizQuestionsPromise=function(e){},s._maxCurrentTime=0,s._seekControlEnabled=!1,s._removeActiveOverlay=null,s._ivqPopup=null,s._playlistOptions=null,s.isNoSeekAlertShown=!1,s.defaultToastDuration=5e3,s._registerQuizApi=function(){var e=s._dataManager,n=e.setQuizData,r=e.setQuizUserEntry,i=e.setQuizAnswers;s._player.registerService(t.PLUGIN_NAME,{setQuizAttributes:function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var o=d.DataSyncManager.generateRawQuizData(e);n(o,!0),s._manageWelcomeScreen(),i([]);var a=d.DataSyncManager.generateQuizUserEntry(t);r(a),s._dataManager.initDataManager(!0)}})},s._getBottomBarNode=function(){var e,t;return(null===(t=null===(e=s._player.getView().parentNode)||void 0===e?void 0:e.parentNode)||void 0===t?void 0:t.querySelector(c.KalturaPlayerBottomBarSelector))||null},s._getSeekBarNode=function(){var e,t;return(null===(t=null===(e=s._player.getView().parentNode)||void 0===e?void 0:e.parentNode)||void 0===t?void 0:t.querySelector(c.KalturaPlayerSeekBarSelector))||null},s._updatePlayerHover=function(){s._player.dispatchEvent(new m(y))},s._restoreSeekBar=function(){var e=s._getBottomBarNode();if(e&&!(null==e?void 0:e.querySelector(c.KalturaPlayerSeekBarSelector))){var t=s._getSeekBarNode();t&&(e.append(t),t.setAttribute("role","slider"))}},s._makeOnClickHandler=function(e){return function(){s.dispatchEvent(c.IvqEventTypes.QUIZ_SEEK,{id:e});var t=s._dataManager.quizQuestionsMap.get(e);if(t){var n=t.startTime;s._shouldPreventSeek(n)||s._questionsVisualManager.preparePlayer(t,!0)}}},s._makeQuizDataPromise=function(){return new Promise((function(e){s._resolveQuizDataPromise=e}))},s._makeQuizQuestionsPromise=function(){return new Promise((function(e){s._resolveQuizQuestionsPromise=e}))},s._handleEndEvent=function(){var e;(null===(e=s._dataManager.quizData)||void 0===e?void 0:e.previewMode)?s.logger.debug("In preview mode, quiz won't be submitted"):s._dataManager.isQuizSubmitted()?s._displayQuizReview():s._displayQuizSubmit()},s._handleAdsCompletedEvent=function(e){var t=s._player.getService("timeline");e.forEach((function(e){e.id&&t.removeCueFromTimeline({id:e.id,startTime:e.startTime})})),s._handleTimeline(e)},s._manageIvqPopup=function(e){var t,n;void 0===e&&(e=!0),s.logger.debug("show 'IVQ Banner'"),s._removeIvqBanner();var r=s._questionsVisualManager.getSubmissionDetails(),i=f.IvqPopupTypes.none;if(e&&s._dataManager.isQuizSubmitted()&&!s._dataManager.isRetakeAllowed()?i=f.IvqPopupTypes.submitted:e||r.submitAllowed?r.submitAllowed&&(null===(t=s._dataManager.quizData)||void 0===t?void 0:t.preventSeek)?i=f.IvqPopupTypes.completed:r.submitAllowed&&!(null===(n=s._dataManager.quizData)||void 0===n?void 0:n.preventSeek)&&(i=f.IvqPopupTypes.submit):i=f.IvqPopupTypes.almostDone,i!==f.IvqPopupTypes.none){var l={score:s._dataManager.getQuizScore(),type:i,onClose:s._removeIvqBanner,onReview:r.onReview,onSubmit:function(){return s._player.pause(),s._submitQuiz()}};s._ivqPopup=s.floatingManager.add({label:"IVQ popup",mode:"Immediate",position:"InteractiveArea",renderContent:function(){return(0,a.h)(f.IvqPopup,o({},l))}})}},s._removeIvqBanner=function(){s._ivqPopup&&s.floatingManager.remove(s._ivqPopup)},s._setOverlay=function(e){var t;s._player.pause(),s._removeOverlay(),s._removeActiveOverlay=e,null===(t=s._player.ui.store)||void 0===t||t.dispatch(KalturaPlayer.ui.reducers.shell.actions.addPlayerClass(C))},s._removeOverlay=function(){var e;s._restoreSeekBar(),s._removeActiveOverlay&&(s._removeActiveOverlay(),s._removeActiveOverlay=null,null===(e=s._player.ui.store)||void 0===e||e.dispatch(KalturaPlayer.ui.reducers.shell.actions.removePlayerClass(C)))},s._showWelcomeScreen=function(e){var t,n,r;void 0===e&&(e=!1),s.logger.debug("show 'Welcome Screen'");var i={welcomeMessage:null===(t=s._dataManager.quizData)||void 0===t?void 0:t.welcomeMessage,inVideoTip:null===(n=s._dataManager.quizData)||void 0===n?void 0:n.inVideoTip};i.availableAttempts=s._dataManager.getAvailableAttempts(),(null===(r=s._dataManager.quizData)||void 0===r?void 0:r.allowDownload)&&(i.onDownload=function(){var e;return(null===(e=s._dataManager.quizData)||void 0===e?void 0:e.previewMode)?(s.logger.debug("Preview mode doesn't allow download pre-test"),Promise.resolve()):s._player.provider.doRequest([{loader:v.QuizDownloadLoader,params:{entryId:s._player.sources.id}}]).then((function(e){e&&e.has(v.QuizDownloadLoader.id)&&window.location.assign(e.get(v.QuizDownloadLoader.id).response)}))}),e?s.eventManager.listenOnce(s._player,b.PLAY,(function(){s._removeOverlay(),s._manageIvqPopup()})):(i.poster=s._player.poster||"",i.onClose=function(){s._player.play(),s._removeOverlay(),s._manageIvqPopup()}),s._setOverlay(s._player.ui.addComponent({label:"kaltura-ivq-welcome-screen",presets:c.PresetAreas,container:c.UiComponentArea,get:function(){return(0,a.h)(p.WelcomeScreen,o({},i))}}))},s._displayQuizReview=function(){var e=s._questionsVisualManager.getReviewDetails();if(e){var t=s._dataManager.quizData,n=t.showGradeAfterSubmission,r=t.showCorrectAfterSubmission;s._setOverlay(s._player.ui.addComponent({label:"kaltura-ivq-review-screen",presets:c.PresetAreas,container:c.UiComponentArea,replaceComponent:"PrePlaybackPlayOverlay",get:function(){var t={score:s._dataManager.getQuizScore(),onClose:function(){var e,t;s._removeOverlay();var n=s._player.playlist;((null===(e=s._playlistOptions)||void 0===e?void 0:e.loop)||(null===(t=s._playlistOptions)||void 0===t?void 0:t.autoContinue)&&n.next)&&n.playNext()},reviewDetails:e,showAnswers:r,showScores:n,preparePlayer:s._questionsVisualManager.preparePlayer,getSeekBarNode:s._getSeekBarNode,restoreSeekBar:s._restoreSeekBar,updatePlayerHover:s._updatePlayerHover};return s._dataManager.isRetakeAllowed()&&(t.onRetake=function(){return s._onQuizRetake().then(s._removeOverlay).catch((function(e){s.logger.warn(e)}))}),(0,a.h)(h.QuizReview,o({},t))}}))}},s._submitQuiz=function(){return s._dataManager.submitQuiz().then((function(){var e;s._removeIvqBanner(),s._removeOverlay(),(null===(e=s._dataManager.quizData)||void 0===e?void 0:e.showGradeAfterSubmission)&&s._displayQuizReview()})).catch((function(e){s.logger.warn(e)}))},s._displayQuizSubmit=function(){var e=s._questionsVisualManager.getSubmissionDetails();e&&s._setOverlay(s._player.ui.addComponent({label:"kaltura-ivq-submit-screen",presets:c.PresetAreas,container:c.UiComponentArea,replaceComponent:"PrePlaybackPlayOverlay",get:function(){var t={onReview:function(){s._removeOverlay(),e.onReview()}};return e.submitAllowed&&(t.onSubmit=s._submitQuiz),(0,a.h)(A.QuizSubmit,o({},t))}}))},s._seekControl=function(){s._seekControlEnabled=!0,s.eventManager.listen(s._player,s._player.Event.TIME_UPDATE,(function(){s._maxCurrentTime<s._player.currentTime&&(s._maxCurrentTime=s._player.currentTime)}))},s._shouldPreventSeek=function(e){return s._seekControlEnabled&&!s._questionsVisualManager.quizQuestionJumping&&e>s._maxCurrentTime},s._showNoSeekAlertPopUp=function(){s.isNoSeekAlertShown||s.toastManager.add({icon:null,onClick:function(){},severity:"Error",title:(0,a.h)(w,{id:"ivq.seeking_is_disable_popup_title"},"Seeking was disabled on this video"),text:"",duration:s.defaultToastDuration}),s.isNoSeekAlertShown=!0,setTimeout((function(){s.isNoSeekAlertShown=!1}),s.defaultToastDuration)},s._onQuizRetake=function(){return s._dataManager.createNewQuizUserEntry().then((function(e){if(!e)throw"QuizRetake: quizNewUserEntry absent";s.dispatchEvent(c.IvqEventTypes.QUIZ_RETAKE),s._maxCurrentTime=0,s._dataManager.retakeQuiz(e),s._player.currentTime=0,s._manageWelcomeScreen(!0),s._player.play()}))},s._manageWelcomeScreen=function(e){var t;void 0===e&&(e=!1),(null===(t=s._dataManager.quizData)||void 0===t?void 0:t.showWelcomePage)?s._player.config.playback.autoplay||e?s.eventManager.listenOnce(s.player,s.player.Event.PLAY,(function(){s._showWelcomeScreen()})):s._showWelcomeScreen(s._isFirstPlay()):s.eventManager.listenOnce(s.player,s.player.Event.PLAY,(function(){s._manageIvqPopup()}))},s._isFirstPlay=function(){return Number.isNaN(s._player.duration)},s._filterQuestionChanged=function(e){if(s._seekControlEnabled){var t=[];return e.forEach((function(e){e.startTime<=s._maxCurrentTime&&t.push(e)})),t}return Array.from(e.values())},s._disableNativePip=function(){s._seekControlEnabled&&"Firefox"===l.Env.browser.name&&s._player.getVideoElement().setAttribute("disablePictureInPicture","true")},s._player=r,s._quizDataPromise=s._makeQuizDataPromise(),s._quizQuestionsPromise=s._makeQuizQuestionsPromise(),s._dataManager=new d.DataSyncManager((function(e){return s._resolveQuizQuestionsPromise(e)}),(function(e){return s._questionsVisualManager.onQuestionCuepointActive(e)}),s._seekControl,s.eventManager,s.player,s.logger,(function(e,t){return s.dispatchEvent(e,t)}),(function(){return s._manageIvqPopup(!1)}),(function(e){return s._filterQuestionChanged(e)}),s._makeOnClickHandler),s._questionsVisualManager=new _.QuestionsVisualManager((function(){return s._dataManager.quizQuestionsMap}),s._dataManager.getUnansweredQuestions,s._player,s.eventManager,s._setOverlay,s._removeOverlay,(function(){return Boolean(s._removeActiveOverlay)}),s._getSeekBarNode,s._dataManager.dispatchQuestionChanged,s._updatePlayerHover),s._registerQuizApi(),s}return i(n,e),Object.defineProperty(n.prototype,"ready",{get:function(){return this._quizDataPromise},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"floatingManager",{get:function(){return this._player.getService("floatingManager")||{}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"toastManager",{get:function(){return this.player.getService("toastManager")||{}},enumerable:!1,configurable:!0}),n.prototype.getMiddlewareImpl=function(){return new g.KalturaIvqMiddleware(this._shouldPreventSeek,this._showNoSeekAlertPopUp)},n.prototype.loadMedia=function(){var e=this,t=this._player.getService("kalturaCuepoints");t&&!this._player.isLive()?(this._getQuestions(t),this._getQuiz(),this._quizQuestionsPromise.then((function(t){e._handleTimeline(t),e._handlePlaylistConfiguration(),e.eventManager.listen(e._player,e._player.Event.ENDED,e._handleEndEvent),e._disableNativePip(),e.eventManager.listen(e._player,e._player.Event.AD_SKIPPED,(function(){return e._handleAdsCompletedEvent(t)})),e.eventManager.listen(e._player,e._player.Event.AD_COMPLETED,(function(){return e._handleAdsCompletedEvent(t)}))}))):(this.logger.warn("kalturaCuepoints service is not registered or entry Live"),this._resolveQuizDataPromise())},n.prototype._handlePlaylistConfiguration=function(){var e=this._player.playlist,t=e.items,n=e.options;(null==t?void 0:t.length)&&((null==n?void 0:n.autoContinue)||(null==n?void 0:n.loop))&&(this._playlistOptions=o({},n),n.autoContinue=!1,n.loop=!1)},n.prototype._handleTimeline=function(e){var t=this,n=this._player.getService("timeline");if(n){var r=function(){return Boolean(t._removeActiveOverlay)};e.forEach((function(e){var i;if(e.startTime!==(null===(i=e.prev)||void 0===i?void 0:i.startTime)){var o={onClick:t._makeOnClickHandler(e.id),isMarkerDisabled:r,index:e.index,type:e.q.questionType};n.addKalturaCuePoint(e.startTime,"QuizQuestion",e.id,"",o)}}))}else this.logger.warn("No timeline service available")},n.isValid=function(){return!0},n.prototype._getQuestions=function(e){null==e||e.registerTypes([e.CuepointType.QUIZ])},n.prototype._getQuiz=function(){var e=this;this._player.provider.doRequest([{loader:u.QuizLoader,params:{entryId:this._player.sources.id}}]).then((function(t){var n,r,i;if(t&&t.has(u.QuizLoader.id)){var o=t.get(u.QuizLoader.id),a=null===(n=null==o?void 0:o.response)||void 0===n?void 0:n.userEntries[0],s=null===(r=null==o?void 0:o.response)||void 0===r?void 0:r.quiz,l=null===(i=null==o?void 0:o.response)||void 0===i?void 0:i.quizAnswers;if(!s)return void e.logger.warn("quiz data absent");var c=e._dataManager,d=c.setQuizUserEntry,_=c.setQuizAnswers,p=c.setQuizData,A=c.isQuizSubmitted,h=c.isRetakeAllowed;p(s),a&&d(a),e._manageWelcomeScreen();var f=!1;if(!a||A()&&h())return e._dataManager.createNewQuizUserEntry().then((function(t){if(!t)throw"quizUserEntryId absent";_([]),d(t),e._dataManager.initDataManager(f)}));a&&A()&&!h()&&(f=!0),l&&_(l),e._dataManager.initDataManager(f)}})).catch((function(t){e.logger.warn("can't process quiz data",t)})).finally((function(){e._resolveQuizDataPromise()}))},n.prototype.reset=function(){if(this._removeOverlay(),this._questionsVisualManager.reset(),this._dataManager.reset(),this._quizDataPromise=this._makeQuizDataPromise(),this._quizQuestionsPromise=this._makeQuizQuestionsPromise(),this.eventManager.removeAll(),this._seekControlEnabled=!1,this._maxCurrentTime=0,this._playlistOptions){var e=this._playlistOptions,t=e.autoContinue,n=e.loop;this._player.playlist.options.autoContinue=t,this._player.playlist.options.loop=n,this._playlistOptions=null}this._removeIvqBanner()},n.prototype.destroy=function(){this.eventManager.destroy()},n.defaultConfig={},n}(KalturaPlayer.core.BasePlugin);t.Ivq=k},5294:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1503),t),i(n(8519),t),i(n(5590),t),i(n(9943),t),i(n(918),t)},918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuizAnswerLoader=void 0;var r=n(937),i=KalturaPlayer.providers.RequestBuilder,o=function(){function e(e){var t=e.entryId,n=e.quizUserEntryId;this._entryId="",this._quizUserEntryId=0,this._requests=[],this._response={quizAnswers:[]},this._entryId=t,this._quizUserEntryId=n;var r=new Map,o=new i(r);o.service="cuepoint_cuepoint",o.action="list",o.params={filter:{objectType:"KalturaAnswerCuePointFilter",entryIdEqual:this._entryId,cuePointTypeEqual:"quiz.QUIZ_ANSWER",quizUserEntryIdEqual:this._quizUserEntryId}},this.requests.push(o)}return Object.defineProperty(e,"id",{get:function(){return"answers"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requests",{get:function(){return this._requests},set:function(e){this._requests=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"response",{get:function(){return this._response},set:function(e){var t,n=new r.KalturaQuizAnswerListResponse(null===(t=e[0])||void 0===t?void 0:t.data);n&&n.totalCount&&(this._response.quizAnswers=null==n?void 0:n.data)},enumerable:!1,configurable:!0}),e.prototype.isValid=function(){return Boolean(this._entryId&&this._quizUserEntryId)},e}();t.QuizAnswerLoader=o},9454:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuizDownloadLoader=void 0;var n=KalturaPlayer.providers.RequestBuilder,r=function(){function e(e){var t=e.entryId;this._entryId="",this._requests=[],this._response="",this._entryId=t;var r=new Map,i=new n(r);i.service="quiz_quiz",i.action="getUrl",i.params={entryId:this._entryId,quizOutputType:1},this.requests.push(i)}return Object.defineProperty(e,"id",{get:function(){return"quizDownload"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requests",{get:function(){return this._requests},set:function(e){this._requests=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"response",{get:function(){return this._response},set:function(e){var t;this._response=null===(t=e[0])||void 0===t?void 0:t.data},enumerable:!1,configurable:!0}),e.prototype.isValid=function(){return!!this._entryId},e}();t.QuizDownloadLoader=r},1503:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuizLoader=void 0;var r=n(937),i=KalturaPlayer.providers.RequestBuilder,o=function(){function e(e){var t=e.entryId;this._entryId="",this._requests=[],this._response={userEntries:[],quiz:{}},this._entryId=t;var n=new Map,o=new i(n);o.service="userEntry",o.action="list",o.params={filter:{objectType:"KalturaQuizUserEntryFilter",typeEqual:r.KalturaUserEntryType.quiz,entryIdEqual:this._entryId,userIdEqualCurrent:1,orderBy:"-createdAt"}};var a=new i(n);a.service="quiz_quiz",a.action="get",a.params={entryId:this._entryId};var s=new i(n);s.service="cuepoint_cuepoint",s.action="list",s.params={filter:{objectType:"KalturaAnswerCuePointFilter",entryIdEqual:this._entryId,cuePointTypeEqual:"quiz.QUIZ_ANSWER",quizUserEntryIdEqual:"{1:result:objects:0:id}"}},this.requests.push(o),this.requests.push(a),this.requests.push(s)}return Object.defineProperty(e,"id",{get:function(){return"quiz"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requests",{get:function(){return this._requests},set:function(e){this._requests=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"response",{get:function(){return this._response},set:function(e){var t,n,i,o=new r.KalturaUserEntryListResponse(null===(t=e[0])||void 0===t?void 0:t.data);o.totalCount&&(this._response.userEntries=null==o?void 0:o.data);var a=new r.KalturaQuizResponse(null===(n=e[1])||void 0===n?void 0:n.data);a&&(this._response.quiz=null==a?void 0:a.data);var s=new r.KalturaQuizAnswerListResponse(null===(i=e[2])||void 0===i?void 0:i.data);s&&s.totalCount&&(this._response.quizAnswers=null==s?void 0:s.data)},enumerable:!1,configurable:!0}),e.prototype.isValid=function(){return!!this._entryId},e}();t.QuizLoader=o},8519:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuizAnswerSubmitLoader=void 0;var r=n(937),i=KalturaPlayer.providers.RequestBuilder,o=function(){function e(e){var t=e.entryId,n=e.quizUserEntryId,r=e.parentId,o=e.answerKey,a=e.id,s=e.openAnswer;this._requests=[],this._response={},this._entryId=t,this._quizUserEntryId=n,this._parentId=r,this._answerKey=o,this._id=a;var l=new Map,u=new i(l);u.service="cuepoint_cuepoint",u.action=this._id?"update":"add",u.ignoreNull=1,u.format=1,u.params={cuePoint:{objectType:"KalturaAnswerCuePoint",answerKey:this._answerKey,quizUserEntryId:this._quizUserEntryId,entryId:this._entryId}},s&&(u.params.cuePoint.openAnswer=s),this._id?u.params.id=this._id:(u.params.cuePoint.parentId=this._parentId,u.params.cuePoint.startTime=0),this.requests.push(u)}return Object.defineProperty(e,"id",{get:function(){return"quizAnswerSubmit"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requests",{get:function(){return this._requests},set:function(e){this._requests=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"response",{get:function(){return this._response},set:function(e){var t,n=new r.KalturaQuizSubmitAnswerResponse(null===(t=e[0])||void 0===t?void 0:t.data);n&&(this._response.quizAnswer=null==n?void 0:n.data)},enumerable:!1,configurable:!0}),e.prototype.isValid=function(){return Boolean(this._entryId&&this._answerKey&&this._quizUserEntryId&&(this._parentId||this._id))},e}();t.QuizAnswerSubmitLoader=o},9943:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuizSubmitLoader=void 0;var r=n(937),i=KalturaPlayer.providers.RequestBuilder,o=function(){function e(e){var t=e.entryId,n=e.quizUserEntryId;this._requests=[],this._response={},this._entryId=t;var r=new Map,o=new i(r);o.service="userEntry",o.action="submitQuiz",o.ignoreNull=1,o.format=1,o.params={id:n},this.requests.push(o)}return Object.defineProperty(e,"id",{get:function(){return"quizSubmit"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requests",{get:function(){return this._requests},set:function(e){this._requests=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"response",{get:function(){return this._response},set:function(e){var t,n=new r.KalturaUserEntryResponse(null===(t=e[0])||void 0===t?void 0:t.data);n&&(this._response.userEntry=null==n?void 0:n.data)},enumerable:!1,configurable:!0}),e.prototype.isValid=function(){return Boolean(this._entryId)},e}();t.QuizSubmitLoader=o},5590:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuizUserEntryIdLoader=void 0;var r=n(937),i=KalturaPlayer.providers.RequestBuilder,o=function(){function e(e){var t=e.entryId;this._requests=[],this._response={},this._entryId=t;var n=new Map,r=new i(n);r.service="userEntry",r.action="add",r.ignoreNull=1,r.format=1,r.params={userEntry:{objectType:"KalturaQuizUserEntry",entryId:this._entryId}},this.requests.push(r)}return Object.defineProperty(e,"id",{get:function(){return"quizUserEntryId"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requests",{get:function(){return this._requests},set:function(e){this._requests=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"response",{get:function(){return this._response},set:function(e){var t,n=new r.KalturaUserEntryResponse(null===(t=e[0])||void 0===t?void 0:t.data);n&&(this._response.userEntry=null==n?void 0:n.data)},enumerable:!1,configurable:!0}),e.prototype.isValid=function(){return Boolean(this._entryId)},e}();t.QuizUserEntryIdLoader=o},937:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(5479),t),i(n(4228),t),i(n(7226),t),i(n(2358),t),i(n(2786),t),i(n(947),t),i(n(2847),t),i(n(9954),t)},947:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.KalturaQuizAnswerListResponse=void 0;var o=n(2847),a=function(e){function t(t){var n=e.call(this,t)||this;return n.data=[],n.hasError||(n.totalCount=t.totalCount,n.totalCount>0&&(n.data=[],t.objects.map((function(e){return n.data.push(new o.KalturaQuizAnswer(e))})))),n}return i(t,e),t}(KalturaPlayer.providers.ResponseTypes.BaseServiceResult);t.KalturaQuizAnswerListResponse=a},2847:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KalturaQuizAnswer=void 0;t.KalturaQuizAnswer=function(e){this.answerKey=e.answerKey,this.correctAnswerKeys=e.correctAnswerKeys,this.objectType=e.objectType,this.isCorrect=e.isCorrect,this.parentId=e.parentId,this.quizUserEntryId=e.quizUserEntryId,this.userId=e.userId,this.id=e.id,this.explanation=e.explanation,this.feedback=e.feedback,this.openAnswer=e.openAnswer,this.partnerId=e.partnerId,this.createdAt=e.createdAt,this.updatedAt=e.updatedAt}},5479:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.KalturaQuizResponse=void 0;var o=n(4228),a=function(e){function t(t){var n=e.call(this,t)||this;return n.hasError||(n.data=new o.KalturaQuiz(t)),n}return i(t,e),t}(KalturaPlayer.providers.ResponseTypes.BaseServiceResult);t.KalturaQuizResponse=a},9954:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.KalturaQuizSubmitAnswerResponse=void 0;var o=n(2847),a=function(e){function t(t){var n=e.call(this,t)||this;return n.hasError||(n.data=new o.KalturaQuizAnswer(t)),n}return i(t,e),t}(KalturaPlayer.providers.ResponseTypes.BaseServiceResult);t.KalturaQuizSubmitAnswerResponse=a},4228:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.KalturaQuiz=t.KalturaScoreType=t.KalturaNullableBoolean=void 0,(r=t.KalturaNullableBoolean||(t.KalturaNullableBoolean={}))[r.falseValue=0]="falseValue",r[r.nullValue=-1]="nullValue",r[r.trueValue=1]="trueValue",(n=t.KalturaScoreType||(t.KalturaScoreType={}))[n.average=5]="average",n[n.first=4]="first",n[n.highest=1]="highest",n[n.latest=3]="latest",n[n.lowest=2]="lowest";t.KalturaQuiz=function(e){this.version=e.version,this.uiAttributes=e.uiAttributes,this.showResultOnAnswer=e.showResultOnAnswer,this.showCorrectKeyOnAnswer=e.showCorrectKeyOnAnswer,this.allowAnswerUpdate=e.allowAnswerUpdate,this.showCorrectAfterSubmission=e.showCorrectAfterSubmission,this.allowDownload=e.allowDownload,this.showGradeAfterSubmission=e.showGradeAfterSubmission,this.attemptsAllowed=e.attemptsAllowed,this.scoreType=e.scoreType}},2358:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.KalturaUserEntryListResponse=void 0;var o=n(2786),a=function(e){function t(t){var n=e.call(this,t)||this;return n.data=[],n.hasError||(n.totalCount=t.totalCount,n.totalCount>0&&(n.data=[],t.objects.map((function(e){return n.data.push(new o.KalturaUserEntry(e))})))),n}return i(t,e),t}(KalturaPlayer.providers.ResponseTypes.BaseServiceResult);t.KalturaUserEntryListResponse=a},7226:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.KalturaUserEntryResponse=void 0;var o=n(2786),a=function(e){function t(t){var n=e.call(this,t)||this;return n.hasError||(n.data=new o.KalturaUserEntry(t)),n}return i(t,e),t}(KalturaPlayer.providers.ResponseTypes.BaseServiceResult);t.KalturaUserEntryResponse=a},2786:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.KalturaUserEntry=t.KalturaUserEntryStatus=t.KalturaUserEntryType=void 0,(r=t.KalturaUserEntryType||(t.KalturaUserEntryType={})).quiz="quiz.QUIZ",r.registration="registration.REGISTRATION",r.viewHistory="viewHistory.VIEW_HISTORY",r.watchLater="watchLater.WATCH_LATER",(n=t.KalturaUserEntryStatus||(t.KalturaUserEntryStatus={})).active="1",n.deleted="2",n.quizSubmitted="quiz.3";t.KalturaUserEntry=function(e){this.calculatedScore=e.calculatedScore,this.score=e.score,this.id=e.id,this.entryId=e.entryId,this.userId=e.userId,this.partnerId=e.partnerId,this.status=e.status,this.createdAt=e.createdAt,this.updatedAt=e.updatedAt,this.type=e.type,this.version=e.version}},2152:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionsVisualManager=void 0;var r=n(2052),i=n(4522),o=n(5792),a=n(2085),s=n(359),l=r.core.EventType,u=r.core.FakeEvent,c=function(){function e(e,t,n,r,c,d,_,p,A,h){var f=this;this._getQuizQuestionMap=e,this._getUnansweredQuestions=t,this._player=n,this._eventManager=r,this._setOverlay=c,this._removeOverlay=d,this._isOverlayExist=_,this._getSeekBarNode=p,this._dispatchQuestionChanged=A,this._updatePlayerHover=h,this._updateQuestionComponent=function(e){},this.quizQuestionJumping=!1,this._lastQuizCuePointId=null,this.getSubmissionDetails=function(){var e=f._getUnansweredQuestions(),t=e[0]||f._getQuizQuestionMap().values().next().value;return{onReview:function(){return f.preparePlayer(t,!0)},submitAllowed:!e.length}},this.getReviewDetails=function(){return Array.from(f._getQuizQuestionMap().values())},this.preparePlayer=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),f._lastQuizCuePointId=e.id;var r=e.startTime,i=f._player.currentTime<r-.3||f._player.currentTime>r+.3;t&&i&&(f.quizQuestionJumping=!0,f._player.currentTime=r,f._eventManager.listenOnce(f._player,l.SEEKED,(function(){f.quizQuestionJumping=!1}))),n&&f._showQuestion(e,t)},this._resetLastQuizCuePointId=function(){f._isOverlayExist()||(f._lastQuizCuePointId=null)},this._renderUiComponent=function(e,t){t&&f._isOverlayExist()?f._updateQuestionComponent(e):f._setOverlay(f._player.ui.addComponent({label:"kaltura-ivq-question-wrapper",presets:a.PresetAreas,container:a.UiComponentArea,get:function(){var t=(0,o.useState)(null),n=t[0],r=t[1];return f._updateQuestionComponent=function(e){r(e)},(0,i.h)(s.QuizQuestionWrapper,{qui:n||e,getSeekBarNode:f._getSeekBarNode,updatePlayerHover:f._updatePlayerHover})}}))},this._showQuestion=function(e,t){var n,r,i=e.next,o=e.prev,s=e.q,l=e.a,c=e.disabled;if(i){var d=f._getQuizQuestionMap().get(i.id);(e.skipAvailable||l&&d.a)&&(n=function(){f.preparePlayer(d,!0)})}if(o){var _=f._getQuizQuestionMap().get(o.id);(e.skipAvailable||l&&_.a)&&(r=function(){f.preparePlayer(f._getQuizQuestionMap().get(o.id),!0)})}var p=function(){e.startTime===(null==i?void 0:i.startTime)?f.preparePlayer(f._getQuizQuestionMap().get(i.id),!0):(f._removeOverlay(),f._player.play()),f._player.dispatchEvent(new u(a.IvqEventTypes.QUIZ_SKIPPED,{questionIndex:e.index+1}))},A={q:s,a:l,questionIndex:[e.index+1,f._getQuizQuestionMap().size],onNext:n,onPrev:r,onContinue:function(t){return t?e.onContinue(t).then(p).catch((function(e){})):(p(),f._dispatchQuestionChanged(),Promise.resolve())},disabled:c||Boolean(!e.allowAnswerUpdate&&l)};e.skipAvailable&&e.q.questionType!==a.KalturaQuizQuestionTypes.Reflection&&(A.onSkip=p),f._renderUiComponent(A,t)},this.reset=function(){f.quizQuestionJumping=!1,f._lastQuizCuePointId=null},this._eventManager.listen(this._player,l.SEEKING,this._resetLastQuizCuePointId)}return e.prototype.onQuestionCuepointActive=function(e){var t=e.id;if(!this.quizQuestionJumping&&!this._player.paused&&t!==this._lastQuizCuePointId){var n=this._getQuizQuestionMap().get(t);n&&this.preparePlayer(n)}},e}();t.QuestionsVisualManager=c},7406:function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.KalturaIvqMiddleware=void 0;var i=function(e){function t(t,n){var r=e.call(this)||this;return r._shouldPreventSeek=t,r._showNoSeekAlertMessage=n,r}return r(t,e),t.prototype.setCurrentTime=function(e,t){this._shouldPreventSeek(e)?this._showNoSeekAlertMessage():this.callNext(t)},t}(KalturaPlayer.core.BaseMiddleware);t.KalturaIvqMiddleware=i},9905:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KalturaPlayerBottomBarSelector=t.KalturaPlayerSeekBarSelector=t.UiComponentArea=t.PresetAreas=void 0,t.PresetAreas=["Playback"],t.UiComponentArea="GuiArea",t.KalturaPlayerSeekBarSelector=".playkit-seek-bar",t.KalturaPlayerBottomBarSelector=".playkit-bottom-bar-area"},2085:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(8838),t),i(n(3122),t),i(n(9905),t),i(n(3826),t)},3826:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.IvqEventTypes=void 0,(n=t.IvqEventTypes||(t.IvqEventTypes={})).QUIZ_STARTED="QuizStarted",n.QUIZ_SKIPPED="QuizSkipped",n.QUIZ_SEEK="QuizSeek",n.QUESTION_ANSWERED="QuestionAnswered",n.QUIZ_SUBMITTED="QuizSubmitted",n.QUIZ_RETAKE="QuizRetake",n.QUIZ_QUESTION_CHANGED="QuizQuestionChanged"},6099:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionStateTypes=void 0,(n=t.QuestionStateTypes||(t.QuestionStateTypes={}))[n.UNANSWERED=1]="UNANSWERED",n[n.ANSWERED=2]="ANSWERED",n[n.INCORRECT=3]="INCORRECT",n[n.CORRECT=4]="CORRECT"},8838:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.KalturaQuizQuestionTypes=void 0,(n=t.KalturaQuizQuestionTypes||(t.KalturaQuizQuestionTypes={}))[n.MultiChoice=1]="MultiChoice",n[n.TrueFalse=2]="TrueFalse",n[n.Reflection=3]="Reflection",n[n.MultiAnswer=4]="MultiAnswer",n[n.OpenQuestion=8]="OpenQuestion"},3122:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7610:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapLinksWithTags=t.makeQuestionLabels=t.isNumber=t.stringToBoolean=t.generateKeyValue=t.getKeyValue=void 0,t.getKeyValue=function(e,t){var n=e.find((function(e){return e.key===t}));return(null==n?void 0:n.value)||""},t.generateKeyValue=function(e,t){return{key:e,value:t,objectType:"KalturaKeyValue"}},t.stringToBoolean=function(e){return"true"===e},t.isNumber=function(e){return"number"==typeof e},t.makeQuestionLabels=function(){return Array.from(Array(26)).map((function(e,t){return t+"A".charCodeAt(0)})).map((function(e){return String.fromCharCode(e)}))},t.wrapLinksWithTags=function(e){return e.replace(/\[(\s+)?([^\|\]]*)(\|)(\s+)?((https?|ftps?):\/\/[^\s\]]+)(\s+)?(\])/gi,(function(e){var t=e.slice(1,-1).split("|"),n=t[0].trim(),r=t[1].trim();return'<a target="_blank" href="'.concat(r,'">').concat(n,"</a>")})).replace(/((https?|ftps?):\/\/[^\s"<\]]+)(?![^<>]*>|[^"]*<\/a>)/gi,(function(e){return'<a target="_blank" href="'.concat(e,'">').concat(e,"</a>")}))}},2052:e=>{"use strict";e.exports=KalturaPlayer},4522:e=>{"use strict";e.exports=KalturaPlayer.ui.preact}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.EventType=e.NAME=e.VERSION=e.Plugin=void 0;var t=n(5195);Object.defineProperty(e,"Plugin",{enumerable:!0,get:function(){return t.Ivq}}),e.VERSION="3.7.10",e.NAME="@playkit-js/playkit-js-ivq";var i=n(2085);Object.defineProperty(e,"EventType",{enumerable:!0,get:function(){return i.IvqEventTypes}}),KalturaPlayer.core.registerPlugin(t.PLUGIN_NAME,t.Ivq)})(),((KalturaPlayer=void 0===KalturaPlayer?{}:KalturaPlayer).plugins=KalturaPlayer.plugins||{}).ivq=r})();
//# sourceMappingURL=playkit-ivq.js.map
var KalturaPlayer="object"==typeof KalturaPlayer?KalturaPlayer:{};KalturaPlayer.plugins=KalturaPlayer.plugins||{},KalturaPlayer.plugins.kalturaCuepoints=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=33)}([function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2),t),i(n(17),t),i(n(41),t),i(n(42),t),i(n(43),t),i(n(44),t),i(n(45),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CuePointTags=t.KalturaCuePointType=t.KalturaThumbCuePointSubType=void 0,function(e){e[e.SLIDE=1]="SLIDE",e[e.CHAPTER=2]="CHAPTER"}(t.KalturaThumbCuePointSubType||(t.KalturaThumbCuePointSubType={})),function(e){e.PUBLIC_QNA="publicqna",e.USER_QNA="userqna",e.CODE_QNA="codeqna",e.QUIZ="quiz",e.SLIDE="slide",e.VIEW_CHANGE="viewchange",e.CHAPTER="chapter",e.HOTSPOT="hotspot",e.CAPTION="caption"}(t.KalturaCuePointType||(t.KalturaCuePointType={})),function(e){e.ANSWERONAIR="qna",e.HOTSPOT="hotspots"}(t.CuePointTags||(t.CuePointTags={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KalturaCuePoint=void 0;var r=function(){function e(e){this.partnerData="",this.id=e.id,this.intId=e.intId,this.cuePointType=e.cuePointType,this.status=e.status,this.entryId=e.entryId,this.partnerId=e.partnerId,this.createdAt=e.createdAt,this.updatedAt=e.updatedAt,this.triggeredAt=e.triggeredAt,this.startTime=e.startTime;try{this.partnerData=JSON.parse(e.partnerData)}catch(e){}}return e.KalturaCuePointType={AD:"adCuePoint.Ad",ANNOTATION:"annotation.Annotation",CODE:"codeCuePoint.Code",EVENT:"eventCuePoint.Event",QUIZ_QUESTION:"quiz.QUIZ_QUESTION",THUMB:"thumbCuePoint.Thumb",CAPTION:"kalturaCaption"},e.KalturaCuePointStatus={READY:1,DELETED:2,HANDLED:3,PENDING:4},e}();t.KalturaCuePoint=r},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){var r,i=n(76),o=n(27),s=n(78),a=n(79),u=n(80);"undefined"!=typeof ArrayBuffer&&(r=n(81));var c="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),h="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),p=c||h;t.protocol=3;var f=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},l=i(f),d={type:"error",data:"parser error"},y=n(82);function g(e,t,n){for(var r=new Array(e.length),i=a(e.length,n),o=function(e,n,i){t(n,(function(t,n){r[e]=n,i(t,r)}))},s=0;s<e.length;s++)o(s,e[s],i)}t.encodePacket=function(e,n,r,i){"function"==typeof n&&(i=n,n=!1),"function"==typeof r&&(i=r,r=null);var o=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&o instanceof ArrayBuffer)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=e.data,o=new Uint8Array(i),s=new Uint8Array(1+i.byteLength);s[0]=f[e.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return r(s.buffer)}(e,n,i);if(void 0!==y&&o instanceof y)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(p)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){t.encodePacket({type:e.type,data:i.result},n,!0,r)},i.readAsArrayBuffer(e.data)}(e,n,r);var i=new Uint8Array(1);i[0]=f[e.type];var o=new y([i.buffer,e.data]);return r(o)}(e,n,i);if(o&&o.base64)return function(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}(e,i);var s=f[e.type];return void 0!==e.data&&(s+=r?u.encode(String(e.data),{strict:!1}):String(e.data)),i(""+s)},t.encodeBase64Packet=function(e,n){var r,i="b"+t.packets[e.type];if(void 0!==y&&e.data instanceof y){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];n(i+e)},o.readAsDataURL(e.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var s=new Uint8Array(e.data),a=new Array(s.length),u=0;u<s.length;u++)a[u]=s[u];r=String.fromCharCode.apply(null,a)}return i+=btoa(r),n(i)},t.decodePacket=function(e,n,r){if(void 0===e)return d;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=function(e){try{e=u.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return d;var i=e.charAt(0);return Number(i)==i&&l[i]?e.length>1?{type:l[i],data:e.substring(1)}:{type:l[i]}:d}i=new Uint8Array(e)[0];var o=s(e,1);return y&&"blob"===n&&(o=new y([o])),{type:l[i],data:o}},t.decodeBase64Packet=function(e,t){var n=l[e.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:e.substr(1)}};var i=r.decode(e.substr(1));return"blob"===t&&y&&(i=new y([i])),{type:n,data:i}},t.encodePayload=function(e,n,r){"function"==typeof n&&(r=n,n=null);var i=o(e);if(n&&i)return y&&!p?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r);if(!e.length)return r("0:");g(e,(function(e,r){t.encodePacket(e,!!i&&n,!1,(function(e){r(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return r(t.join(""))}))},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);var i;if("function"==typeof n&&(r=n,n=null),""===e)return r(d,0,1);for(var o,s,a="",u=0,c=e.length;u<c;u++){var h=e.charAt(u);if(":"===h){if(""===a||a!=(o=Number(a)))return r(d,0,1);if(a!=(s=e.substr(u+1,o)).length)return r(d,0,1);if(s.length){if(i=t.decodePacket(s,n,!1),d.type===i.type&&d.data===i.data)return r(d,0,1);if(!1===r(i,u+o,c))return}u+=o,a=""}else a+=h}return""!==a?r(d,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));g(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}),(function(e,t){var r=t.reduce((function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2}),0),i=new Uint8Array(r),o=0;return t.forEach((function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),s=0;s<e.length;s++)r[s]=e.charCodeAt(s);n=r.buffer}i[o++]=t?0:1;var a=n.byteLength.toString();for(s=0;s<a.length;s++)i[o++]=parseInt(a[s]);i[o++]=255;for(r=new Uint8Array(n),s=0;s<r.length;s++)i[o++]=r[s]})),n(i.buffer)}))},t.encodePayloadAsBlob=function(e,n){g(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),s=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)s[i]=parseInt(o[i]);if(s[o.length]=255,y){var a=new y([t.buffer,s.buffer,e]);n(null,a)}}))}),(function(e,t){return n(new y(t))}))},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var i=e,o=[];i.byteLength>0;){for(var a=new Uint8Array(i),u=0===a[0],c="",h=1;255!==a[h];h++){if(c.length>310)return r(d,0,1);c+=a[h]}i=s(i,2+c.length),c=parseInt(c);var p=s(i,0,c);if(u)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(e){var f=new Uint8Array(p);p="";for(h=0;h<f.length;h++)p+=String.fromCharCode(f[h])}o.push(p),i=s(i,c)}var l=o.length;o.forEach((function(e,i){r(t.decodePacket(e,n,!0),i,l)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortArrayBy=t.generateThumb=t.makeAssetUrl=t.getDomainFromUrl=t.isEmptyObject=void 0,t.isEmptyObject=function(e){return 0===Object.keys(e).length&&e.constructor===Object},t.getDomainFromUrl=function(e){return e.replace(/^(.*\/\/[^\/?#]*).*$/,"$1")},t.makeAssetUrl=function(e,t){var n="";return void 0!==t&&(n=e.replace(/thumbAssetId\/([^\/]+)/,"/thumbAssetId/"+t)),n},t.generateThumb=function(e,t,n,r,i){return void 0===t&&(t=""),void 0===i&&(i=""),e.split("api_v3")[0]+"/p/"+t+"/sp/"+t+"00/thumbnail/entry_id/"+n+"/width/400/vid_sec/"+(r/1e3).toFixed(2)+(i?"/ks/"+i:"")},t.sortArrayBy=function(e,t,n){return e.sort((function(e,r){return n?e[t]-r[t]||e[n]-r[n]:e[t]-r[t]}))}},function(e,t,n){(function(r){function i(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=n(62)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=i,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(i())}).call(this,n(10))},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){(function(r){function i(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=n(83)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=i,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(i())}).call(this,n(10))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u,c=[],h=!1,p=-1;function f(){h&&u&&(h=!1,u.length?c=u.concat(c):p=-1,c.length&&l())}function l(){if(!h){var e=a(f);h=!0;for(var t=c.length;t;){for(u=c,c=[];++p<t;)u&&u[p].run();p=-1,t=c.length}u=null,h=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||h||a(l)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){var r=n(64)("socket.io-parser"),i=n(3),o=n(67),s=n(22),a=n(23);function u(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=u,t.Decoder=p;var c=t.ERROR+'"encode error"';function h(e){var n=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var i=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data);if(!1===i)return c;n+=i}return r("encoded %j as %s",e,n),n}function p(){this.reconstructor=null}function f(e){this.reconPack=e,this.buffers=[]}function l(e){return{type:t.ERROR,data:"parser error: "+e}}u.prototype.encode=function(e,n){(r("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){o.removeBlobs(e,(function(e){var n=o.deconstructPacket(e),r=h(n.packet),i=n.buffers;i.unshift(r),t(i)}))}(e,n):n([h(e)])},i(p.prototype),p.prototype.add=function(e){var n;if("string"==typeof e)n=function(e){var n=0,i={type:Number(e.charAt(0))};if(null==t.types[i.type])return l("unknown packet type "+i.type);if(t.BINARY_EVENT===i.type||t.BINARY_ACK===i.type){for(var o=n+1;"-"!==e.charAt(++n)&&n!=e.length;);var a=e.substring(o,n);if(a!=Number(a)||"-"!==e.charAt(n))throw new Error("Illegal attachments");i.attachments=Number(a)}if("/"===e.charAt(n+1)){for(o=n+1;++n;){if(","===(c=e.charAt(n)))break;if(n===e.length)break}i.nsp=e.substring(o,n)}else i.nsp="/";var u=e.charAt(n+1);if(""!==u&&Number(u)==u){for(o=n+1;++n;){var c;if(null==(c=e.charAt(n))||Number(c)!=c){--n;break}if(n===e.length)break}i.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){var h=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(n));if(!(!1!==h&&(i.type===t.ERROR||s(h))))return l("invalid payload");i.data=h}return r("decoded %s as %j",e,i),i}(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new f(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!a(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},p.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},f.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},f.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(69),i=n(70),o=n(71);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=f(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(t,n),i=(e=a(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|l(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function p(e,t){if(h(t),e=a(e,t<0?0:0|l(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|l(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function l(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function d(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(r)return j(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return S(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var h=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===u)return h*s}else-1!==h&&(o-=o-h),h=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var p=!0,f=0;f<u;f++)if(c(e,o+f)!==c(t,f)){p=!1;break}if(p)return o}return-1}function _(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function C(e,t,n,r){return K(j(t,e.length-n),e,n,r)}function b(e,t,n,r){return K(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function P(e,t,n,r){return b(e,t,n,r)}function T(e,t,n,r){return K(q(t),e,n,r)}function w(e,t,n,r){return K(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,c=e[i],h=null,p=c>239?4:c>223?3:c>191?2:1;if(i+p<=n)switch(p){case 1:c<128&&(h=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(h=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(h=u)}null===h?(h=65533,p=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),i+=p}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return h(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return p(null,e)},u.allocUnsafeSlow=function(e){return p(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):y.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(r,i),h=e.slice(t,n),p=0;p<a;++p)if(c[p]!==h[p]){o=c[p],s=h[p];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return C(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return P(this,e,t,n);case"base64":return T(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function S(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=U(e[o]);return i}function N(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function F(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function x(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function L(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,o){return o||L(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function M(e,t,n,r,o){return o||L(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):x(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):x(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=u.isBuffer(e)?e:j(new u(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(68))},function(e,t,n){var r=n(74),i=n(14);e.exports=function(e){var t=e.xdomain,n=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(e){}if(!t)try{return new(i[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}},function(e,t){e.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},function(e,t,n){var r=n(4),i=n(3);function o(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=o,i(o.prototype),o.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},o.prototype.onPacket=function(e){this.emit("packet",e)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.Provider=void 0;var s=n(1),a=n(37),u=n(0),c=n(18),h=n(5),p=n(47),f=n(48),l=function(){function e(e,t,n,r){var i=this;this.cuePointManager=null,this._dataAggregator=null,this._pendingCuesManager=null,this._maybeForcePushingCuePoints=function(){var e;i._isPreventSeek()&&i._player.paused&&(null===(e=i._pendingCuesManager)||void 0===e||e.checkCues())},this._types=r,this._logger=n,this._player=e,this._eventManager=t,this._logger=n,this._player.isLive()&&!this._player.isDvr()&&this._initDataAggregator(),this._pendingCuesManager=new f.PendingCuesManager({player:this._player,eventManager:this._eventManager})}return e.prototype._addCuePointToPlayer=function(e,t){var n,r=this,o=void 0===t?{}:t,c=o.useDataAggregator,h=void 0===c?Boolean(this._dataAggregator):c,p=o.usePendingQueManager,f=void 0===p?this._isPreventSeek():p;if(e.length){this._types.has(s.KalturaCuePointType.QUIZ)&&(f=!1);var l=e.map((function(e){return{startTime:e.startTime,endTime:e.endTime,id:e.id,metadata:i(e,["startTime","endTime","id"])}}));"youtube"===this._player.engineType?(this.cuePointManager||(this.cuePointManager=new a.CuePointManager(this._player,this._eventManager)),this.cuePointManager.addCuePoints(l)):h?l.forEach((function(e){e.metadata.cuePointType===u.KalturaCuePoint.KalturaCuePointType.CODE&&r._player.cuePointManager.addCuePoints(l),r._dataAggregator.addData(e)})):f?null===(n=this._pendingCuesManager)||void 0===n||n.addCuePoint(l):this._player.cuePointManager.addCuePoints(l)}},e.prototype._shiftCuePoints=function(e,t){e.forEach((function(e){e.startTime=e.startTime-t,e.endTime!==Number.MAX_SAFE_INTEGER&&(e.endTime=e.endTime-t)}))},e.prototype._filterCuePointsOutOfVideoRange=function(e,t,n){return e.filter((function(e){return e.startTime>=t&&(!n||e.startTime<n)}))},e.prototype._filterAndShiftCuePoints=function(e){var t=this._player.sources,n=t.seekFrom,r=t.clipTo;if(e.length&&(n||r)){var i=this._filterCuePointsOutOfVideoRange(e,n||0,r);return this._shiftCuePoints(i,n||0),i}return e},e.prototype._fixCuePointsEndTime=function(e){return e.map((function(t,n){if(t.endTime===Number.MAX_SAFE_INTEGER)for(var i=n+1;e[i];){if(e[i].startTime!==t.startTime)return r(r({},t),{endTime:e[i].startTime});i++}return t}))},e.prototype._handleThumbResponse=function(e,t){var n,a=this;void 0===t&&(t={});var u=t.cuepointOffset,p=void 0===u?0:u,f=i(t,["cuepointOffset"]),l=function(e){return function(t){return h.makeAssetUrl(e,t.assetId)}},d=function(e){var t,n=a._player.config.provider;return h.generateThumb(null===(t=null==n?void 0:n.env)||void 0===t?void 0:t.serviceUrl,null==n?void 0:n.partnerId,a._player.sources.id,e.startTime,null==n?void 0:n.ks)},y=function(e,t){var n=e.map((function(e){return{assetUrl:t(e),id:e.id,cuePointType:e.cuePointType,title:e.title,description:e.description,subType:e.subType,startTime:e.startTime/1e3+p,endTime:Number.MAX_SAFE_INTEGER,isDefaultThumb:!e.assetId}}));n=h.sortArrayBy(n,"startTime"),n=a._fixCuePointsEndTime(n),n=a._filterAndShiftCuePoints(n),a._addCuePointToPlayer(n,f)},g=e.get(c.ThumbLoader.id),v=(null==g?void 0:g.response.thumbCuePoints)||[];if(this._logger.debug("_fetchVodData thumb response successful with "+v.length+" cue points"),v.length){var m=v.reduce((function(e,t){return t.subType===s.KalturaThumbCuePointSubType.SLIDE?r(r({},e),{slideCuePoints:o(e.slideCuePoints,[t])}):t.subType===s.KalturaThumbCuePointSubType.CHAPTER?r(r({},e),{chapterCuePoints:o(e.chapterCuePoints,[t])}):e}),{slideCuePoints:[],chapterCuePoints:[]}),_=m.slideCuePoints,C=m.chapterCuePoints,b=null===(n=v.find((function(e){return e.assetId})))||void 0===n?void 0:n.assetId;b?this._player.provider.doRequest([{loader:c.ThumbUrlLoader,params:{thumbAssetId:b}}]).then((function(e){if(e){if(e.has(c.ThumbUrlLoader.id)){var t=e.get(c.ThumbUrlLoader.id),n=null==t?void 0:t.response;if(n&&_.length&&y(_,l(n)),n&&C.length){y(C,(function(e){return e.assetId?l(n)(e):d(e)}))}}}else a._logger.warn("ThumbUrlLoader doRequest doesn't have data")})).catch((function(e){a._logger.warn("ThumbUrlLoader doRequest was rejected")})):C.length&&y(C,d)}},e.prototype._handleHotspotResponse=function(e,t){void 0===t&&(t={});var n=t.cuepointOffset,r=void 0===n?0:n,o=i(t,["cuepointOffset"]),s=e.get(c.HotspotLoader.id),a=(null==s?void 0:s.response.hotspotCuePoints)||[];if(this._logger.debug("_fetchVodData hotspots response successful with "+a.length+" cue points"),a.length){var u=function(e){return e.map((function(e){return{id:e.id,cuePointType:e.cuePointType,text:e.text,partnerData:e.partnerData,startTime:e.startTime/1e3+r,endTime:e.endTime?e.endTime/1e3+r:Number.MAX_SAFE_INTEGER,tags:e.tags}}))}(a);u=this._filterAndShiftCuePoints(u),u=h.sortArrayBy(u,"startTime","createdAt"),this._addCuePointToPlayer(u,o)}},e.prototype._isPreventSeek=function(){return this._player.ui.store.getState().seekbar.isPreventSeek},e.prototype._initDataAggregator=function(){var e=this;this._dataAggregator=new p.DataAggregator({onTimeoutFn:function(t){var n=new Map;t.forEach((function(e){n.set(e.id,e)})),n.forEach((function(t){t.endTime===Number.MAX_SAFE_INTEGER&&e._player.cuePointManager.addCuePoints([t])}))}})},e.prototype.destroy=function(){this.cuePointManager&&this.cuePointManager.destroy(),this._dataAggregator&&(this._dataAggregator.destroy(),this._dataAggregator=null),this._pendingCuesManager&&(this._pendingCuesManager.destroy(),this._pendingCuesManager=null)},e}();t.Provider=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.KalturaCodeCuePoint=void 0;var o=function(e){function t(t){var n=e.call(this,t)||this;return n.tags="",n.code=t.code,n.description=t.description,n.endTime=t.endTime,n.duration=t.duration,n.tags=t.tags,n}return i(t,e),t}(n(2).KalturaCuePoint);t.KalturaCodeCuePoint=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19);Object.defineProperty(t,"HotspotLoader",{enumerable:!0,get:function(){return r.HotspotLoader}});var i=n(20);Object.defineProperty(t,"ThumbLoader",{enumerable:!0,get:function(){return i.ThumbLoader}});var o=n(46);Object.defineProperty(t,"ThumbUrlLoader",{enumerable:!0,get:function(){return o.ThumbUrlLoader}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HotspotLoader=void 0;var r=n(0),i=n(1),o=KalturaPlayer.providers.RequestBuilder,s=function(){function e(e){this._entryId="",this._requests=[],this._response={hotspotCuePoints:[]},this._entryId=e.entryId;var t=new Map,n=new o(t);n.service="cuepoint_cuepoint",n.action="list",n.params={filter:{objectType:"KalturaCuePointFilter",entryIdEqual:this._entryId,cuePointTypeEqual:r.KalturaCuePoint.KalturaCuePointType.ANNOTATION,tagsLike:i.CuePointTags.HOTSPOT},responseProfile:{type:1,fields:"id, startTime, endTime, cuePointType, partnerData, text, tags"}},this.requests.push(n)}return Object.defineProperty(e,"id",{get:function(){return"hotspot"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requests",{get:function(){return this._requests},set:function(e){this._requests=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"response",{get:function(){return this._response},set:function(e){var t,n=new r.KalturaCuePointListResponse(null===(t=e[0])||void 0===t?void 0:t.data,r.KalturaHotspotCuePoint);n.totalCount&&(this._response.hotspotCuePoints=n.cuePoints)},enumerable:!1,configurable:!0}),e.prototype.isValid=function(){return!!this._entryId},e}();t.HotspotLoader=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThumbLoader=void 0;var r=n(0),i=KalturaPlayer.providers.RequestBuilder,o=function(){function e(e){this._entryId="",this._requests=[],this._response={thumbCuePoints:[]},this._entryId=e.entryId;var t=new Map,n=new i(t);n.service="cuepoint_cuepoint",n.action="list",n.params={filter:{objectType:"KalturaThumbCuePointFilter",entryIdEqual:this._entryId,cuePointTypeEqual:r.KalturaCuePoint.KalturaCuePointType.THUMB,subTypeIn:e.subTypesFilter},responseProfile:{type:1,fields:"id, assetId, startTime, cuePointType, title, description, subType"}},this.requests.push(n)}return Object.defineProperty(e,"id",{get:function(){return"thumb"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requests",{get:function(){return this._requests},set:function(e){this._requests=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"response",{get:function(){return this._response},set:function(e){var t,n=new r.KalturaCuePointListResponse(null===(t=e[0])||void 0===t?void 0:t.data,r.KalturaThumbCuePoint);n.totalCount&&(this._response.thumbCuePoints=n.cuePoints)},enumerable:!1,configurable:!0}),e.prototype.isValid=function(){return!!this._entryId},e}();t.ThumbLoader=o},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,i=e.indexOf("["),o=e.indexOf("]");-1!=i&&-1!=o&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var s,a,u=n.exec(e||""),c={},h=14;h--;)c[r[h]]=u[h]||"";return-1!=i&&-1!=o&&(c.source=t,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=function(e,t){var n=t.replace(/\/{2,9}/g,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||n.splice(0,1);"/"==t.substr(t.length-1,1)&&n.splice(n.length-1,1);return n}(0,c.path),c.queryKey=(s=c.query,a={},s.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(a[t]=n)})),a),c}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(t){e.exports=function(e){return n&&t.isBuffer(e)||r&&(e instanceof ArrayBuffer||function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))};var n="function"==typeof t&&"function"==typeof t.isBuffer,r="function"==typeof ArrayBuffer}).call(this,n(12).Buffer)},function(e,t,n){var r=n(72),i=n(30),o=n(3),s=n(11),a=n(31),u=n(32),c=n(6)("socket.io-client:manager"),h=n(29),p=n(89),f=Object.prototype.hasOwnProperty;function l(e,t){if(!(this instanceof l))return new l(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||s;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=l,l.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)f.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},l.prototype.updateSocketIds=function(){for(var e in this.nsps)f.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},l.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},o(l.prototype),l.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},l.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},l.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},l.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},l.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},l.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},l.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},l.prototype.open=l.prototype.connect=function(e,t){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=a(n,"open",(function(){i.onopen(),e&&e()})),s=a(n,"error",(function(t){if(c("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else i.maybeReconnectOnOpen()}));if(!1!==this._timeout){var u=this._timeout;c("connect attempt will timeout after %d",u),0===u&&o.destroy();var h=setTimeout((function(){c("connect attempt timed out after %d",u),o.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",u)}),u);this.subs.push({destroy:function(){clearTimeout(h)}})}return this.subs.push(o),this.subs.push(s),this},l.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(a(e,"data",u(this,"ondata"))),this.subs.push(a(e,"ping",u(this,"onping"))),this.subs.push(a(e,"pong",u(this,"onpong"))),this.subs.push(a(e,"error",u(this,"onerror"))),this.subs.push(a(e,"close",u(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",u(this,"ondecoded")))},l.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},l.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},l.prototype.ondata=function(e){this.decoder.add(e)},l.prototype.ondecoded=function(e){this.emit("packet",e)},l.prototype.onerror=function(e){c("error",e),this.emitAll("error",e)},l.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new i(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",o),n.on("connect",(function(){n.id=r.generateId(e)})),this.autoConnect&&o()}function o(){~h(r.connecting,n)||r.connecting.push(n)}return n},l.prototype.destroy=function(e){var t=h(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},l.prototype.packet=function(e){c("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()})))},l.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},l.prototype.cleanup=function(){c("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},l.prototype.close=l.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},l.prototype.onclose=function(e){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},l.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();c("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(c("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(c("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(c("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},l.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){var r=n(13),i=n(75),o=n(85),s=n(86);t.polling=function(e){var t=!1,n=!1,s=!1!==e.jsonp;if("undefined"!=typeof location){var a="https:"===location.protocol,u=location.port;u||(u=a?443:80),t=e.hostname!==location.hostname||u!==e.port,n=e.secure!==a}if(e.xdomain=t,e.xscheme=n,"open"in new r(e)&&!e.forceJSONP)return new i(e);if(!s)throw new Error("JSONP disabled");return new o(e)},t.websocket=s},function(e,t,n){var r=n(15),i=n(7),o=n(4),s=n(8),a=n(28),u=n(9)("engine.io-client:polling");e.exports=h;var c=null!=new(n(13))({xdomain:!1}).responseType;function h(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),r.call(this,e)}s(h,r),h.prototype.name="polling",h.prototype.doOpen=function(){this.poll()},h.prototype.pause=function(e){var t=this;function n(){u("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(u("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){u("pre-pause polling complete"),--r||n()}))),this.writable||(u("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){u("pre-pause writing complete"),--r||n()})))}else n()},h.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},h.prototype.onData=function(e){var t=this;u("polling got data %s",e);o.decodePayload(e,this.socket.binaryType,(function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},h.prototype.doClose=function(){var e=this;function t(){u("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(u("transport open - closing"),t()):(u("transport not open - deferring close"),this.once("open",t))},h.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};o.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},h.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=a()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){(function(t){var r=n(77),i=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);e.exports=function e(n){if(!n||"object"!=typeof n)return!1;if(r(n)){for(var i=0,a=n.length;i<a;i++)if(e(n[i]))return!0;return!1}if("function"==typeof t&&t.isBuffer&&t.isBuffer(n)||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||o&&n instanceof Blob||s&&n instanceof File)return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return e(n.toJSON(),!0);for(var u in n)if(Object.prototype.hasOwnProperty.call(n,u)&&e(n[u]))return!0;return!1}}).call(this,n(12).Buffer)},function(e,t,n){"use strict";var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o={},s=0,a=0;function u(e){var t="";do{t=i[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function c(){var e=u(+new Date);return e!==r?(s=0,r=e):e+"."+u(s++)}for(;a<64;a++)o[i[a]]=a;c.encode=u,c.decode=function(e){var t=0;for(a=0;a<e.length;a++)t=64*t+o[e.charAt(a)];return t},e.exports=c},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(11),i=n(3),o=n(88),s=n(31),a=n(32),u=n(6)("socket.io-client:socket"),c=n(7),h=n(27);e.exports=l;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=i.prototype.emit;function l(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}i(l.prototype),l.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,"open",a(this,"onopen")),s(e,"packet",a(this,"onpacket")),s(e,"close",a(this,"onclose"))]}},l.prototype.open=l.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.reconnecting||this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},l.prototype.send=function(){var e=o(arguments);return e.unshift("message"),this.emit.apply(this,e),this},l.prototype.emit=function(e){if(p.hasOwnProperty(e))return f.apply(this,arguments),this;var t=o(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:h(t))?r.BINARY_EVENT:r.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},l.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},l.prototype.onopen=function(){if(u("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?c.encode(this.query):this.query;u("sending connect packet with query %s",e),this.packet({type:r.CONNECT,query:e})}else this.packet({type:r.CONNECT})},l.prototype.onclose=function(e){u("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},l.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===r.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},l.prototype.onevent=function(e){var t=e.data||[];u("emitting event %j",t),null!=e.id&&(u("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?f.apply(this,t):this.receiveBuffer.push(t)},l.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=o(arguments);u("sending ack %j",i),t.packet({type:h(i)?r.BINARY_ACK:r.ACK,id:e,data:i})}}},l.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(u("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):u("bad ack %s",e.id)},l.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},l.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)f.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},l.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},l.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},l.prototype.close=l.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},l.prototype.compress=function(e){return this.flags.compress=e,this},l.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAME=t.VERSION=t.Plugin=void 0;var r=n(34);Object.defineProperty(t,"Plugin",{enumerable:!0,get:function(){return r.Cuepoints}});t.VERSION="3.0.19";t.NAME="@playkit-js/playkit-js-kaltura-cuepoints";KalturaPlayer.core.registerPlugin("kalturaCuepoints",r.Cuepoints)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Cuepoints=void 0;var o=n(35),s=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._cuePointService=new o.CuepointService(n,r.eventManager,r.logger),n.registerService("kalturaCuepoints",r._cuePointService),r}return i(t,e),t.prototype.reset=function(){this._cuePointService.reset()},t.prototype.destroy=function(){this.eventManager.destroy(),this._cuePointService.reset()},t.isValid=function(){return!0},t.defaultConfig={},t}(KalturaPlayer.core.BasePlugin);t.Cuepoints=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CuepointService=void 0;var r=n(36),i=n(52),o=n(0),s=n(1),a=function(){function e(e,t,n){var r=this;this._types=new Map,this._mediaLoaded=!1,this._logger=n,this._player=e,this._eventManager=t,t.listen(this._player,this._player.Event.CHANGE_SOURCE_ENDED,(function(){r._initProvider()}))}return Object.defineProperty(e.prototype,"CuepointType",{get:function(){return s.KalturaCuePointType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"KalturaThumbCuePointSubType",{get:function(){return s.KalturaThumbCuePointSubType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"KalturaCuePointType",{get:function(){return o.KalturaCuePoint.KalturaCuePointType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"KalturaCuePointTags",{get:function(){return s.CuePointTags},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cuePointManager",{get:function(){var e;return(null===(e=this._provider)||void 0===e?void 0:e.cuePointManager)||null},enumerable:!1,configurable:!0}),e.prototype.registerTypes=function(e){var t=this;this._mediaLoaded?this._logger.warn("Cue point registration should occur on loadMedia (or before)"):e.forEach((function(e){Object.values(s.KalturaCuePointType).includes(e)?t._types.set(e,!0):t._logger.warn('"'+e+'" is not a valid cue point type for registration')}))},e.prototype._initProvider=function(){this._mediaLoaded=!0,0!=this._types.size?this._player.isLive()?this._provider=new i.LiveProvider(this._player,this._eventManager,this._logger,this._types):this._provider=new r.VodProvider(this._player,this._eventManager,this._logger,this._types):this._logger.warn("Cue points provider was not initialized because there are no registered types")},e.prototype.reset=function(){var e;this._mediaLoaded=!1,null===(e=this._provider)||void 0===e||e.destroy(),this._types.clear()},e}();t.CuepointService=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.VodProvider=void 0;var a=n(16),u=n(20),c=n(1),h=n(5),p=n(49),f=n(50),l=n(19),d=n(51),y=function(e){function t(t,n,r,i){var s=e.call(this,t,n,r,i)||this;return s._fetchedCaptionKeys=[],s._fetchingCaptionKey=null,s._handleLanguageChange=function(){var e=(s._player.getTracks(s._player.Track.TEXT)||[]).find((function(e){return e.active})),t=s._player.sources.captions;if(e&&Array.isArray(t)&&t.length){var n=t.find((function(t){return t.language===e.language&&t.label===e.label}))||t[0];s._loadCaptions(n)}},s._loadCaptions=function(e){var t=e.language+"-"+e.label;if(!s._fetchedCaptionKeys.includes(t)&&s._fetchingCaptionKey!==t){var n=e.url.match("/captionAssetId/(.*?)(/|$)");if(n&&n[1]){s._fetchingCaptionKey=t;var r=s._player.config.session,i=(null==r?void 0:r.isAnonymous)?s._player.config.session.ks:void 0;s._player.provider.doRequest([{loader:d.CaptionLoader,params:{captionAssetId:n[1]}}],i).then((function(n){if(n){if(n.has(d.CaptionLoader.id)){var r=n.get(d.CaptionLoader.id),i=null==r?void 0:r.response.captions;if(i.length){var a=i.map((function(t){return o(o({},t),{language:e.language,label:e.label,startTime:t.startTime/1e3,endTime:t.endTime/1e3,text:t.content.reduce((function(e,t){return""+e+t.text}),"")})}));a=a.filter((function(e){return e.text})),a=s._filterAndShiftCuePoints(a),s._addCuePointToPlayer(a),s._fetchedCaptionKeys.push(t),s._maybeForcePushingCuePoints()}}}else s._logger.warn("CaptionLoader doRequest doesn't have data")})).catch((function(e){s._logger.warn("Fetching captions "+t+" has failed")})).finally((function(){s._fetchingCaptionKey=null}))}}},s._addListeners(),s._fetchVodData(),s}return i(t,e),t.prototype._addListeners=function(){this._types.has(c.KalturaCuePointType.CAPTION)&&(this._eventManager.listenOnce(this._player,this._player.Event.TEXT_TRACK_ADDED,this._handleLanguageChange),this._eventManager.listen(this._player,this._player.Event.TEXT_TRACK_CHANGED,this._handleLanguageChange))},t.prototype._removeListeners=function(){this._types.has(c.KalturaCuePointType.CAPTION)&&(this._eventManager.unlisten(this._player,this._player.Event.TEXT_TRACK_ADDED,this._handleLanguageChange),this._eventManager.unlisten(this._player,this._player.Event.TEXT_TRACK_CHANGED,this._handleLanguageChange))},t.prototype._fetchVodData=function(){var e=this,t="";this._types.has(c.KalturaCuePointType.SLIDE)&&(t=c.KalturaThumbCuePointSubType.SLIDE+","),this._types.has(c.KalturaCuePointType.CHAPTER)&&(t+=c.KalturaThumbCuePointSubType.CHAPTER+",");var n=[];t&&n.push({loader:u.ThumbLoader,params:{entryId:this._player.sources.id,subTypesFilter:t}}),this._types.has(c.KalturaCuePointType.VIEW_CHANGE)&&n.push({loader:p.ViewChangeLoader,params:{entryId:this._player.sources.id}}),this._types.has(c.KalturaCuePointType.QUIZ)&&n.push({loader:f.QuizQuestionLoader,params:{entryId:this._player.sources.id}}),this._types.has(c.KalturaCuePointType.HOTSPOT)&&n.push({loader:l.HotspotLoader,params:{entryId:this._player.sources.id}}),n.length&&this._player.provider.doRequest(n).then((function(t){t?(t.has(u.ThumbLoader.id)&&e._handleThumbResponse(t),t.has(p.ViewChangeLoader.id)&&e._handleViewChangeResponse(t),t.has(f.QuizQuestionLoader.id)&&e._handleQuizQuestionResponse(t),t.has(l.HotspotLoader.id)&&e._handleHotspotResponse(t)):e._logger.warn("Provider cue points doRequest doesn't have data")})).catch((function(t){e._logger.warn("Provider cue points doRequest was rejected")}))},t.prototype._handleViewChangeResponse=function(e){var t=e.get(p.ViewChangeLoader.id),n=(null==t?void 0:t.response.viewChangeCuePoints)||[];if(this._logger.debug("_fetchVodData viewChange response successful with "+n.length+" cue points"),n.length){var r=function(e){return e.map((function(e){return{id:e.id,startTime:e.startTime/1e3,endTime:e.endTime||Number.MAX_SAFE_INTEGER,cuePointType:e.cuePointType,partnerData:e.partnerData,tags:e.tags}}))}(n).reduce((function(e,t){var n;return(null===(n=t.partnerData)||void 0===n?void 0:n.viewModeLockState)?{lockedCuePoints:s(e.lockedCuePoints,[t]),viewChangeCuePoints:e.viewChangeCuePoints}:{lockedCuePoints:e.lockedCuePoints,viewChangeCuePoints:s(e.viewChangeCuePoints,[t])}}),{lockedCuePoints:[],viewChangeCuePoints:[]}),i=r.lockedCuePoints,o=r.viewChangeCuePoints;i=h.sortArrayBy(i,"startTime"),i=this._fixCuePointsEndTime(i),i=this._filterAndShiftCuePoints(i),o=h.sortArrayBy(o,"startTime"),o=this._fixCuePointsEndTime(o),o=this._filterAndShiftCuePoints(o),this._addCuePointToPlayer(o),this._addCuePointToPlayer(i)}},t.prototype._handleQuizQuestionResponse=function(e){var t=e.get(f.QuizQuestionLoader.id),n=(null==t?void 0:t.response.quizQuestionCuePoints)||[];if(this._logger.debug("_fetchVodData quiz question response successful with "+n.length+" cue points"),n.length){var r=function(e){return e.map((function(e){var t=e.startTime/1e3;return o(o({},e),{startTime:t,endTime:t+.5})}))}(n);r=this._filterAndShiftCuePoints(r),r=h.sortArrayBy(r,"startTime","createdAt"),this._addCuePointToPlayer(r)}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this._fetchedCaptionKeys=[],this._fetchingCaptionKey=null,this._removeListeners()},t}(a.Provider);t.VodProvider=y},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(38),t)},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.CuePointManager=void 0;var o=n(39),s=n(40),a=function(){function e(e,t){var n=this;this._player=e,this._eventManager=t,this._engine=null,this._activeCuePoints=[],this._allCuePoints=[],this.addCuePoints=function(e){e&&0!==e.length&&n._player.ready().then((function(){var t=e.map((function(e){return r(r({},e),{type:o.core.TimedMetadata.TYPE.CUE_POINT})}));n._player.dispatchEvent(new o.core.FakeEvent(o.core.EventType.TIMED_METADATA_ADDED,{cues:t})),n._allCuePoints=i(n._allCuePoints,t),n._engine=new s.CuepointEngine(n._allCuePoints),n._activeCuePoints=[],n._getActiveCuePoints(null,!0)}))},this._setActiveCuePoints=function(e){n._activeCuePoints=e,n._player.dispatchEvent(new o.core.FakeEvent(o.core.EventType.TIMED_METADATA_CHANGE,{cues:n._activeCuePoints}))},this._getActiveCuePoints=function(e,t){var r,o,s,a;if(void 0===t&&(t=!1),n._engine){var u=n._engine.updateTime(n._player.currentTime,t);if(u.snapshot&&u.snapshot.length>0&&(u.snapshot.length!==n._activeCuePoints.length||(null===(r=u.snapshot[0])||void 0===r?void 0:r.id)!==(null===(o=n._activeCuePoints[0])||void 0===o?void 0:o.id)||(null===(s=u.snapshot[u.snapshot.length-1])||void 0===s?void 0:s.id)!==(null===(a=n._activeCuePoints[n._activeCuePoints.length-1])||void 0===a?void 0:a.id))&&n._setActiveCuePoints(u.snapshot),u.delta){var c=u.delta,h=c.show,p=c.hide;(h.length>0||p.length>0)&&(n._activeCuePoints=n._activeCuePoints.filter((function(e){return!p.find((function(t){return e.id===t.id}))})),n._setActiveCuePoints(i(n._activeCuePoints,h)))}}},this._eventManager.listen(this._player,this._player.Event.TIME_UPDATE,this._getActiveCuePoints)}return Object.defineProperty(e.prototype,"allCuePoints",{get:function(){return this._allCuePoints},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeCuePoints",{get:function(){return this._activeCuePoints},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this._engine=null,this._eventManager.unlisten(this._player,this._player.Event.TIME_UPDATE,this._getActiveCuePoints)},e}();t.CuePointManager=a},function(e,t){e.exports=KalturaPlayer},function(e,t,n){"use strict";var r,i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.CuepointEngine=void 0,function(e){e.Show="show",e.Hide="hide"}(r||(r={}));var o=function(){function e(e,t){this.isFirstTime=!0,this.enabled=!0,this.lastHandledTime=null,this.lastHandledTimeIndex=null,this.nextTimeToHandle=null,this.cuepointChanges=[],this.reasonableSeekThreshold=Math.max(2e3,t&&t.reasonableSeekThreshold||0),this._cuepoints=e,this.prepareCuepoint()}return Object.defineProperty(e.prototype,"cuepoints",{get:function(){return i(this._cuepoints)},enumerable:!1,configurable:!0}),e.prototype.getSnapshot=function(e){var t=this.findClosestLastIndexByTime(e);return this.createCuepointSnapshot(t)},e.prototype.updateTime=function(e,t,n){void 0===t&&(t=!1);var r=this.isFirstTime,i=this.lastHandledTime,o=this.nextTimeToHandle;if(0===this.cuepointChanges.length)return r&&(this.isFirstTime=!1),{snapshot:[]};var s=!r&&null!==i&&null!==o&&(i>e||e-o>this.reasonableSeekThreshold),a=r||null!==this.lastHandledTime&&this.lastHandledTime>e||null!=this.nextTimeToHandle&&e>=this.nextTimeToHandle,u=this.findClosestLastIndexByTime(e),c=u<0?0:this.cuepointChanges[u].time;if(!a)return t?{snapshot:this.createCuepointSnapshot(u,n)}:{delta:this.createEmptyDelta()};if(r||t||s){var h=this.createCuepointSnapshot(u,n);return this.updateInternals(c,u),{snapshot:h}}var p=this.createCuepointDelta(u,n);return this.updateInternals(c,u),{delta:p}},e.prototype.getCurrentCuepointSnapshot=function(){return this.lastHandledTimeIndex?this.createCuepointSnapshot(this.lastHandledTimeIndex):[]},e.prototype.createCuepointSnapshot=function(e,t){if(!this.enabled||e<0||!this.cuepointChanges||0===this.cuepointChanges.length)return[];for(var n=[],i=0;i<=e;i++){var o=this.cuepointChanges[i],s=n.indexOf(o.cuePoint);o.type===r.Show?-1===s&&n.push(o.cuePoint):-1!==s&&n.splice(s,1)}return t&&(n=n.filter(t)),n},e.prototype.createCuepointDelta=function(e,t){if(!this.enabled||!this.cuepointChanges||0===this.cuepointChanges.length)return this.createEmptyDelta();var n=this.lastHandledTimeIndex;if(null===n)return this.createEmptyDelta();for(var i=[],o=[],s=n+1;s<=e;s++){var a=this.cuepointChanges[s],u=i.indexOf(a.cuePoint);a.type===r.Show?-1===u&&i.push(a.cuePoint):-1!==u?i.splice(u,1):-1===o.indexOf(a.cuePoint)&&o.push(a.cuePoint)}return t&&(i=i.filter(t),o=o.filter(t)),{show:i,hide:o}},e.prototype.updateInternals=function(e,t){var n=this.cuepointChanges;if(n&&0!==n.length){var r=t>=n.length-1,i=null===t;this.lastHandledTime=e,this.lastHandledTimeIndex=t,this.nextTimeToHandle=i?n[0].time:r?n[n.length-1].time:n[t+1].time,this.isFirstTime=!1}},e.prototype.createEmptyDelta=function(){return{show:[],hide:[]}},e.prototype.binarySearch=function(e,t){if(!e||0===e.length)return null;if(t<e[0].time)return-1;if(t>e[e.length-1].time)return e.length-1;for(var n=0,r=e.length-1;n<=r;){var i=Math.floor((r+n+1)/2);if(t<e[i].time)r=i-1;else{if(!(t>e[i].time))return i;n=i+1}}return Math.min(n,r)},e.prototype.findClosestLastIndexByTime=function(e){var t=this.cuepointChanges,n=this.binarySearch(t,e);if(null===n)return-1;for(var r=t.length;n<r-1&&t[n+1].time===e;)n++;return n},e.prototype.prepareCuepoint=function(){var e=this;(this._cuepoints||[]).forEach((function(t){null!==t.startTime&&void 0!==t.startTime&&t.startTime>=0&&e.cuepointChanges.push({time:t.startTime,type:r.Show,cuePoint:t}),null!==t.endTime&&void 0!==t.endTime&&t.endTime>=0&&e.cuepointChanges.push({time:t.endTime,type:r.Hide,cuePoint:t})})),this.cuepointChanges.sort((function(e,t){return e.time<t.time?-1:e.time===t.time?0:1}))},e}();t.CuepointEngine=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.KalturaThumbCuePoint=void 0;var o=function(e){function t(t){var n=e.call(this,t)||this;return n.assetId=t.assetId,n.description=t.description,n.title=t.title,n.subType=t.subType,n}return i(t,e),t}(n(2).KalturaCuePoint);t.KalturaThumbCuePoint=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KalturaCuePointListResponse=void 0;var r=function(e,t){var n=this;this.totalCount=0,this.cuePoints=[],this.totalCount=e.totalCount,this.totalCount>0&&e.objects.map((function(e){var r=new t(e);n.cuePoints.push(r)}))};t.KalturaCuePointListResponse=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.KalturaQuizQuestionCuePoint=t.KalturaQuestionType=void 0;var o=n(2);!function(e){e[e.fillInBlank=5]="fillInBlank",e[e.goTo=7]="goTo",e[e.hotSpot=6]="hotSpot",e[e.multipleAnswerQuestion=4]="multipleAnswerQuestion",e[e.multipleChoiceAnswer=1]="multipleChoiceAnswer",e[e.openQuestion=8]="openQuestion",e[e.reflectionPoint=3]="reflectionPoint",e[e.trueFalse=2]="trueFalse"}(t.KalturaQuestionType||(t.KalturaQuestionType={}));var s=function(e){function t(t){var n=e.call(this,t)||this;return n.excludeFromScore=t.excludeFromScore,n.objectType=t.objectType,n.optionalAnswers=t.optionalAnswers,n.hint=t.hint,n.explanation=t.explanation,n.question=t.question,n.questionType=t.questionType,n.userId=t.userId,n}return i(t,e),t}(o.KalturaCuePoint);t.KalturaQuizQuestionCuePoint=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.KalturaHotspotCuePoint=void 0;var o=function(e){function t(t){var n=e.call(this,t)||this;return n.text=t.text,n.endTime=t.endTime,n.tags=t.tags,n}return i(t,e),t}(n(2).KalturaCuePoint);t.KalturaHotspotCuePoint=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KalturaCaption=void 0;var r=n(2),i=function(e,t){this.cuePointType=r.KalturaCuePoint.KalturaCuePointType.CAPTION,this.id=t,this.startTime=e.startTime,this.endTime=e.endTime,this.content=e.content};t.KalturaCaption=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThumbUrlLoader=void 0;var r=KalturaPlayer.providers.RequestBuilder,i=function(){function e(e){this._thumbAssetId="",this._requests=[],this._response="";var t=new Map,n=new r(t);this._thumbAssetId=e.thumbAssetId,n.service="thumbAsset",n.action="getUrl",n.params={id:this._thumbAssetId},this.requests.push(n)}return Object.defineProperty(e,"id",{get:function(){return"thumburlloader"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requests",{get:function(){return this._requests},set:function(e){this._requests=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"response",{get:function(){return this._response},set:function(e){var t;this._response=null===(t=e[0])||void 0===t?void 0:t.data},enumerable:!1,configurable:!0}),e.prototype.isValid=function(){return!!this._thumbAssetId},e}();t.ThumbUrlLoader=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataAggregator=void 0;var r=function(){function e(e){this._data=[],this._timerId=null,this._onTimeoutFn=e.onTimeoutFn,this._throttleTimeout=e.throttleTimeout||350}return e.prototype.addData=function(e){var t=this;this._data.push(e),this._timerId||(this._timerId=setTimeout((function(){t._useData(),t._clearData(),t._timerId=null}),this._throttleTimeout))},e.prototype._useData=function(){this._data.length>0&&this._onTimeoutFn(this._data)},e.prototype._clearData=function(){this._data=[]},e.prototype.destroy=function(){this._timerId&&(clearTimeout(this._timerId),this._clearData())},e}();t.DataAggregator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PendingCuesManager=void 0;var r=function(){function e(e){var t=this;this._lastPositionCuePointsPushed=0,this._pendingCuePointsData=[],this._activeListener=!1,this._onTimeUpdate=function(){1e3*t._player.currentTime-t._lastPositionCuePointsPushed>=t._timeUpdateDelta&&(t._pushCuePointsToPlayer(),t._lastPositionCuePointsPushed=1e3*t._player.currentTime)},this._addListener=function(){t._activeListener||(t._eventManager.listen(t._player,t._player.Event.TIME_UPDATE,t._onTimeUpdate),t._activeListener=!0)},this._removeListener=function(){t._activeListener&&(t._eventManager.unlisten(t._player,t._player.Event.TIME_UPDATE,t._onTimeUpdate),t._activeListener=!1)},this._player=e.player,this._timeUpdateDelta=e.timeUpdateDelta||400,this._eventManager=e.eventManager}return e.prototype.addCuePoint=function(e){this._addListener(),this._pendingCuePointsData.push(e)},e.prototype.checkCues=function(){this._pushCuePointsToPlayer()},e.prototype._pushCuePointsToPlayer=function(){for(var e=0,t=this._pendingCuePointsData;e<t.length;e++){for(var n=t[e],r=[],i=0;i<n.length;i++){var o=n[i];if(!(Math.floor(o.startTime)<=this._player.currentTime))break;r.push(o)}n.splice(0,r.length),r.length&&this._player.cuePointManager.addCuePoints(r)}this._pendingCuePointsData.every((function(e){return 0===e.length}))&&(this._pendingCuePointsData=[],this._removeListener())},e.prototype.destroy=function(){this._lastPositionCuePointsPushed=0,this._pendingCuePointsData=[],this._removeListener()},e}();t.PendingCuesManager=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewChangeLoader=void 0;var r=n(0),i=n(17),o=KalturaPlayer.providers.RequestBuilder,s=function(){function e(e){this._entryId="",this._requests=[],this._response={viewChangeCuePoints:[]},this._entryId=e.entryId;var t=new Map,n=new o(t);n.service="cuepoint_cuepoint",n.action="list",n.params={filter:{objectType:"KalturaCodeCuePointFilter",entryIdEqual:this._entryId,cuePointTypeEqual:r.KalturaCuePoint.KalturaCuePointType.CODE},responseProfile:{type:1,fields:"id, startTime, endTime, partnerData, cuePointType, tags"}},this.requests.push(n)}return Object.defineProperty(e,"id",{get:function(){return"viewchange"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requests",{get:function(){return this._requests},set:function(e){this._requests=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"response",{get:function(){return this._response},set:function(e){var t,n=new r.KalturaCuePointListResponse(null===(t=e[0])||void 0===t?void 0:t.data,i.KalturaCodeCuePoint);n.totalCount&&(this._response.viewChangeCuePoints=n.cuePoints)},enumerable:!1,configurable:!0}),e.prototype.isValid=function(){return!!this._entryId},e}();t.ViewChangeLoader=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuizQuestionLoader=void 0;var r=n(0),i=KalturaPlayer.providers.RequestBuilder,o=function(){function e(e){this._entryId="",this._requests=[],this._response={quizQuestionCuePoints:[]},this._entryId=e.entryId;var t=new Map,n=new i(t);n.service="cuepoint_cuepoint",n.action="list",n.params={filter:{objectType:"KalturaQuestionCuePointFilter",entryIdEqual:this._entryId,cuePointTypeEqual:r.KalturaCuePoint.KalturaCuePointType.QUIZ_QUESTION,orderBy:"+startTime"}},this.requests.push(n)}return Object.defineProperty(e,"id",{get:function(){return"quiz-question"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requests",{get:function(){return this._requests},set:function(e){this._requests=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"response",{get:function(){return this._response},set:function(e){var t,n=new r.KalturaCuePointListResponse(null===(t=e[0])||void 0===t?void 0:t.data,r.KalturaQuizQuestionCuePoint);n.totalCount&&(this._response.quizQuestionCuePoints=n.cuePoints)},enumerable:!1,configurable:!0}),e.prototype.isValid=function(){return!!this._entryId},e}();t.QuizQuestionLoader=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CaptionLoader=void 0;var r=n(0),i=KalturaPlayer.providers.RequestBuilder,o=function(){function e(e){this._captionAssetId="",this._requests=[],this._response={captions:[]},this._captionAssetId=e.captionAssetId;var t=new Map,n=new i(t);n.service="caption_captionasset",n.action="serveAsJson",n.params={captionAssetId:this._captionAssetId},this.requests.push(n)}return Object.defineProperty(e,"id",{get:function(){return"caption"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requests",{get:function(){return this._requests},set:function(e){this._requests=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"response",{get:function(){return this._response},set:function(e){var t,n,i=this,o=null===(n=null===(t=e[0])||void 0===t?void 0:t.data)||void 0===n?void 0:n.objects;o&&Array.isArray(o)&&(this._response.captions=o.map((function(e,t){return new r.KalturaCaption(e,i._captionAssetId+"-"+t)})))},enumerable:!1,configurable:!0}),e.prototype.isValid=function(){return!!this._captionAssetId},e}();t.CaptionLoader=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.LiveProvider=void 0;var a=n(16),u=n(1),c=n(53),h=n(5),p=n(18),f=function(e){function t(t,n,r,i){var a=e.call(this,t,n,r,i)||this;return a._thumbCuePoints=[],a._slideViewChangeCuePoints=[],a._id3Timestamp=0,a._currentTime=0,a._currentTimeLive=0,a._seekDifference=0,a._currentTimeLiveResolvePromise=function(){},a._baseThumbAssetUrl="",a._thumbUrlLoaderResolvePromise=function(){},a._thumbUrlIsLoaderActive=!1,a._thumbUrlAssetIdQueue=[],a._simuliveStartTime=-1,a._makeCurrentTimeLiveReadyPromise=function(){return new Promise((function(e){a._currentTimeLiveResolvePromise=e}))},a._makeThumbUrlLoaderResolvePromise=function(){return new Promise((function(e){a._thumbUrlLoaderResolvePromise=e}))},a._onTimedMetadataLoaded=function(e){var t=e.payload.cues.filter((function(e){return e.value&&"TEXT"===e.value.key}));if(t.length)try{var n=t[t.length-1],r=JSON.parse(n.value.data),i=r.timestamp,o=(r.clipId,r.setId,Math.ceil(i/1e3));if(o&&(a._id3Timestamp=o),!r.clipId||!r.setId)return;var u=r.clipId.split("-"),c=(u[0],u[1]),h=(u[2],a._getSimuliveCuepointOffset(r.clipId));if(null===h)return;var p=a._player.currentTime+h,f=s(a._player.getVideoElement().textTracks).find((function(e){return"CuePoints"===e.label})),l=(null==f?void 0:f.activeCues)||[];if(c!==a._currentClipEntryId){a._currentClipEntryId=c;for(var d=0,y=l;d<y.length;d++){y[d].endTime=p}a._simuliveEntryIds.has(c)||(a._simuliveEntryIds.add(c),a._addSimuliveCuepoints(c,p))}}catch(e){a._logger.debug("Failed retrieving id3 tag metadata")}},a._onTimeUpdate=function(){var e=Math.ceil(a._player.currentTime);if(e!==a._currentTime){if(a._currentTime=e,null!==a._seekDifference&&a._currentTimeLive)a._currentTimeLive=a._currentTimeLive-a._seekDifference;else if(a._id3Timestamp){if(a._id3Timestamp===a._currentTimeLive)return void(a._id3Timestamp=null);a._currentTimeLive=a._id3Timestamp}else a._currentTimeLive++;a._id3Timestamp&&a._currentTimeLiveResolvePromise(),a._id3Timestamp=null,a._seekDifference=null}},a._handleSeeking=function(){a._seekDifference=Math.ceil(a._currentTime-a._player.currentTime)},a._handleConnection=function(){a._logger.debug("Connected to push server")},a._handleConnectionError=function(){a._logger.error("Got an error during connection to push server")},a._makeCuePointStartEndTime=function(e,t){var n=a._player.currentTime-(a._currentTimeLive-e),r=t?a._player.currentTime-(a._currentTimeLive-t):Number.MAX_SAFE_INTEGER;a._player.isDvr()||a._currentTimeLive-e>0&&(n=a._player.currentTime);return{startTime:n,endTime:r}},a._isCueInvalid=function(e){return isNaN(e.startTime)||e.startTime<0},a._prepareThumbCuePoints=function(e){var t=o(o(o({},e),a._makeCuePointStartEndTime(e.createdAt)),{assetUrl:h.makeAssetUrl(a._baseThumbAssetUrl,e.assetId)});a._isCueInvalid(t)||(a._thumbCuePoints.push(t),a._thumbCuePoints=a._fixCuePointEndTime(a._thumbCuePoints),a._addCuePointToPlayer([t]))},a._prepareViewChangeCuePoints=function(e){try{var t=JSON.parse(e.partnerData),n=o(o(o({},e),a._makeCuePointStartEndTime(e.createdAt)),{partnerData:t});if(a._isCueInvalid(n))return;a._slideViewChangeCuePoints.push(n),a._slideViewChangeCuePoints=a._fixCuePointEndTime(a._slideViewChangeCuePoints),a._addCuePointToPlayer([n])}catch(e){a._logger.error("Unnable parse slide-view change cue-point")}},a._preparePublicQnaCuePoints=function(e){var t=o(o(o({},e),{cueType:u.KalturaCuePointType.PUBLIC_QNA}),a._makeCuePointStartEndTime(e.createdAt,e.endTime));a._isCueInvalid(t)||a._addCuePointToPlayer([t])},a._prepareUserQnaCuePoints=function(e){var t=o(o({},e),{cueType:u.KalturaCuePointType.USER_QNA,startTime:0,endTime:0});a._addCuePointToPlayer([t],{useDataAggregator:!1})},a._prepareCodeQnaCuePoints=function(e){try{var t=JSON.parse(e.partnerData),n=o(o({},e),{partnerData:t});a._addCuePointToPlayer([n])}catch(e){a._logger.error("Unnable parse code qna cue-point")}},a._getBaseThumbAssetUrl=function(){if(!a._thumbUrlIsLoaderActive){a._thumbUrlIsLoaderActive=!0;var e=a._thumbUrlAssetIdQueue.shift();a._player.provider.doRequest([{loader:p.ThumbUrlLoader,params:{thumbAssetId:e}}]).then((function(e){if(a._thumbUrlIsLoaderActive=!1,e.has(p.ThumbUrlLoader.id)){a._logger.debug("baseThumbAssetUrl fetched");var t=e.get(p.ThumbUrlLoader.id);a._baseThumbAssetUrl=null==t?void 0:t.response,a._thumbUrlAssetIdQueue=[],a._thumbUrlLoaderResolvePromise()}})).catch((function(e){a._thumbUrlIsLoaderActive=!1,a._logger.warn("can't get baseThumbAssetUrl"),a._thumbUrlAssetIdQueue.length&&(a._logger.debug("try get next thumbAssetId from queue"),a._getBaseThumbAssetUrl())}))}},a._handleThumbNotificationData=function(e){var t,n,r=e.thumbs;!a._baseThumbAssetUrl&&(null===(t=r[0])||void 0===t?void 0:t.assetId)&&(a._thumbUrlAssetIdQueue.push(null===(n=r[0])||void 0===n?void 0:n.assetId),a._getBaseThumbAssetUrl()),Promise.all([a._currentTimeLivePromise,a._thumbUrlLoaderPromise]).then((function(){r.forEach((function(e){return a._prepareThumbCuePoints(e)}))}))},a._handleSlideViewChangeNotificationData=function(e){var t=e.slideViewChanges;a._currentTimeLivePromise.then((function(){t.forEach((function(e){return a._prepareViewChangeCuePoints(e)}))}))},a._handlePublicQnaNotificationsData=function(e){var t=e.messages;a._currentTimeLivePromise.then((function(){t.forEach((function(e){return a._preparePublicQnaCuePoints(e)}))}))},a._handleUserQnaNotificationsData=function(e){var t=e.messages;a._currentTimeLivePromise.then((function(){t.forEach((function(e){return a._prepareUserQnaCuePoints(e)}))}))},a._handleCodeQnaNotificationsData=function(e){var t=e.settings;a._currentTimeLivePromise.then((function(){t.forEach((function(e){return a._prepareCodeQnaCuePoints(e)}))}))},a._pushNotification=new c.PushNotificationPrivider(a._player,a._logger),a._currentTimeLivePromise=a._makeCurrentTimeLiveReadyPromise(),a._thumbUrlLoaderPromise=a._makeThumbUrlLoaderResolvePromise(),a._pushNotification.init(),a._constructPushNotificationListener(),a._pushNotification.registerToPushServer(a._player.sources.id,i,a._handleConnection,a._handleConnectionError),a._addBindings(),a._simuliveEntryIds=new Set,a._eventManager.listen(a._player,a._player.Event.PLAYING,(function(){-1===a._simuliveStartTime&&(a._simuliveStartTime=Date.now()-a._player.currentTime)})),a._eventManager.listen(a._player,a._player.Event.RESET,(function(){a._simuliveStartTime=-1})),a}return i(t,e),t.prototype._addBindings=function(){var e=this;this._eventManager.listen(this._player,this._player.Event.TIMED_METADATA,(function(t){return e._onTimedMetadataLoaded(t)})),this._eventManager.listen(this._player,this._player.Event.SEEKING,this._handleSeeking),this._eventManager.listen(this._player,this._player.Event.TIME_UPDATE,this._onTimeUpdate)},t.prototype._fixCuePointEndTime=function(e){var t=this;return h.sortArrayBy(e,"createdAt").map((function(n,r){if(n.endTime===Number.MAX_SAFE_INTEGER&&r!==e.length-1){var i=o(o({},n),{endTime:e[r+1].startTime});return t._addCuePointToPlayer([i]),i}return n}))},t.prototype._handlePushNotificationsErrorData=function(e){this._logger.warn("Got an error from push notification server - ",e)},t.prototype._constructPushNotificationListener=function(){this._pushNotification.on(c.PushNotificationEventTypes.PushNotificationsError,this._handlePushNotificationsErrorData),this._types.has(u.KalturaCuePointType.SLIDE)&&this._pushNotification.on(c.PushNotificationEventTypes.ThumbNotification,this._handleThumbNotificationData),this._types.has(u.KalturaCuePointType.VIEW_CHANGE)&&this._pushNotification.on(c.PushNotificationEventTypes.SlideViewChangeNotification,this._handleSlideViewChangeNotificationData),this._types.has(u.KalturaCuePointType.PUBLIC_QNA)&&this._pushNotification.on(c.PushNotificationEventTypes.PublicNotifications,this._handlePublicQnaNotificationsData),this._types.has(u.KalturaCuePointType.USER_QNA)&&this._pushNotification.on(c.PushNotificationEventTypes.UserNotifications,this._handleUserQnaNotificationsData),this._types.has(u.KalturaCuePointType.CODE_QNA)&&this._pushNotification.on(c.PushNotificationEventTypes.CodeNotifications,this._handleCodeQnaNotificationsData)},t.prototype._removePushNotificationListener=function(){this._pushNotification.off(c.PushNotificationEventTypes.PushNotificationsError,this._handlePushNotificationsErrorData),this._types.has(u.KalturaCuePointType.SLIDE)&&this._pushNotification.off(c.PushNotificationEventTypes.ThumbNotification,this._handleThumbNotificationData),this._types.has(u.KalturaCuePointType.VIEW_CHANGE)&&this._pushNotification.off(c.PushNotificationEventTypes.SlideViewChangeNotification,this._handleSlideViewChangeNotificationData),this._types.has(u.KalturaCuePointType.PUBLIC_QNA)&&this._pushNotification.off(c.PushNotificationEventTypes.PublicNotifications,this._handlePublicQnaNotificationsData),this._types.has(u.KalturaCuePointType.USER_QNA)&&this._pushNotification.off(c.PushNotificationEventTypes.UserNotifications,this._handleUserQnaNotificationsData),this._types.has(u.KalturaCuePointType.CODE_QNA)&&this._pushNotification.off(c.PushNotificationEventTypes.CodeNotifications,this._handleCodeQnaNotificationsData)},t.prototype._getSimuliveCuepointOffset=function(e){var t=e.split("-"),n=(t[0],t[1],t[2]);return n&&-1!==this._simuliveStartTime?(Number(n)-this._simuliveStartTime)/1e3:null},t.prototype._addSimuliveCuepoints=function(e,t){var n=this,r=[],i="";this._types.has(u.KalturaCuePointType.SLIDE)&&(i=u.KalturaThumbCuePointSubType.SLIDE+","),i&&r.push({loader:p.ThumbLoader,params:{entryId:e,subTypesFilter:i}}),this._types.has(u.KalturaCuePointType.HOTSPOT)&&r.push({loader:p.HotspotLoader,params:{entryId:e}}),r.length&&this._player.provider.doRequest(r).then((function(e){e?(e.has(p.ThumbLoader.id)&&n._handleThumbResponse(e,{cuepointOffset:t,useDataAggregator:!1,usePendingQueManager:!0}),e.has(p.HotspotLoader.id)&&n._handleHotspotResponse(e,{cuepointOffset:t,useDataAggregator:!1,usePendingQueManager:!0})):n._logger.warn("Simulive cue points doRequest doesn't have data")}))},t.prototype.destroy=function(){this._pushNotification.reset(),this._removePushNotificationListener(),this._currentTimeLivePromise=this._makeCurrentTimeLiveReadyPromise(),this._thumbUrlLoaderPromise=this._makeThumbUrlLoaderResolvePromise()},t}(a.Provider);t.LiveProvider=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PushNotificationPrivider=t.PushNotificationEventTypes=void 0;var r,i=n(54),o=n(57),s=n(1);!function(e){e.PushNotificationsError="PUSH_NOTIFICATIONS_ERROR",e.ThumbNotification="THUMB_CUE_POINT_READY_NOTIFICATION",e.SlideViewChangeNotification="SLIDE_VIEW_CHANGE_CODE_CUE_POINT",e.PublicNotifications="PUBLIC_QNA_NOTIFICATIONS",e.UserNotifications="USER_QNA_NOTIFICATIONS",e.CodeNotifications="CODE_QNA_NOTIFICATIONS"}(r=t.PushNotificationEventTypes||(t.PushNotificationEventTypes={}));var a=function(){function e(e,t){this._player=e,this._logger=t,this._pushServerInstance=null,this._registeredToMessages=!1,this._events=new i.EventsManager,this._initialized=!1,this.on=this._events.on.bind(this._events),this.off=this._events.off.bind(this._events)}return e.prototype.init=function(){this._initialized||(this._initialized=!0,this._pushServerInstance=new o.PushNotifications(this._player,this._logger))},e.prototype.reset=function(){this._registeredToMessages=!1},e.prototype.registerToPushServer=function(e,t,n,o){var a=this;if(this._registeredToMessages)throw this._logger.error("Multiple registration error"),new Error("Already register to push server");if(this._logger.info("Registering for push notifications server"),!this._pushServerInstance)return this._logger.error("Can't register to notifications as _pushServerInstance doesn't exists"),void this._events.emit({type:r.PushNotificationsError,error:"Can't register to notifications as _pushServerInstance doesn't exists"});var u=[];if(t.has(s.KalturaCuePointType.SLIDE)&&u.push(this._createThumbRegistration(e)),t.has(s.KalturaCuePointType.VIEW_CHANGE)&&u.push(this._createSlideViewChangeRegistration(e)),t.has(s.KalturaCuePointType.PUBLIC_QNA)&&u.push(this._createPublicQnaRegistration(e)),t.has(s.KalturaCuePointType.USER_QNA)){var c=i.getQnaUserId(this._player);u.push(this._createUserQnaRegistration(e,c))}t.has(s.KalturaCuePointType.CODE_QNA)&&u.push(this._createCodeQnaRegistration(e)),this._pushServerInstance.registerNotifications({prepareRegisterRequestConfigs:u,onSocketReconnect:function(){}}).then((function(){a._logger.info("Registered push notification service"),a._registeredToMessages=!0,n()}),(function(e){a._logger.error("Registration for push notification error"),o(),a._events.emit({type:r.PushNotificationsError,error:e})}))},e.prototype._createThumbRegistration=function(e){var t=this;return this._logger.info("Register thumb notification"),{eventName:r.ThumbNotification,eventParams:{entryId:e},onMessage:function(e){t._events.emit({type:r.ThumbNotification,thumbs:e})}}},e.prototype._createSlideViewChangeRegistration=function(e){var t=this;return this._logger.info("Register slide notification"),{eventName:r.SlideViewChangeNotification,eventParams:{entryId:e},onMessage:function(e){t._events.emit({type:r.SlideViewChangeNotification,slideViewChanges:e})}}},e.prototype._createPublicQnaRegistration=function(e){var t=this;return this._logger.info("Register public qna notification"),{eventName:r.PublicNotifications,eventParams:{entryId:e},onMessage:function(e){t._events.emit({type:r.PublicNotifications,messages:e})}}},e.prototype._createUserQnaRegistration=function(e,t){var n=this;return this._logger.info("Register user qna notification"),{eventName:r.UserNotifications,eventParams:{entryId:e,userId:t},onMessage:function(e){n._events.emit({type:r.UserNotifications,messages:e})}}},e.prototype._createCodeQnaRegistration=function(e){var t=this;return this._logger.info("Register code qna notification"),{eventName:r.CodeNotifications,eventParams:{entryId:e},onMessage:function(e){t._events.emit({type:r.CodeNotifications,settings:e})}}},e}();t.PushNotificationPrivider=a},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(55),t),i(n(56),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventsManager=void 0;var r=function(){function e(){this._eventListeners={},this._wildcardEventListeners=[]}return e.prototype.on=function(e,t){"*"!==e?(this._eventListeners[e]||(this._eventListeners[e]=[])).push(t):this._wildcardEventListeners.push(t)},e.prototype.off=function(e,t){if("*"!==e){var n=this._eventListeners[e];n&&n.splice(n.indexOf(t)>>>0,1)}else this._wildcardEventListeners.splice(this._wildcardEventListeners.indexOf(t)>>>0,1)},e.prototype.emit=function(e){(this._eventListeners[e.type]||[]).slice().map((function(t){t(e)})),this._wildcardEventListeners.slice().map((function(t){t(e)}))},e}();t.EventsManager=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=t.getQnaUserId=t.getUserId=t.generateId=void 0;t.generateId=function(){return(new Date).getTime().toString(36)+Math.random().toString(36).slice(2)};function r(){return"undefined"==typeof Storage?i():((e=localStorage.getItem("anonymousUserId"))||(e=i(),localStorage.setItem("anonymousUserId",e)),e);var e}t.getUserId=r;function i(){return"##".concat("Guest").concat("HashSeparator").concat(function(){for(var e=(0,t.generateId)(),n="",r=0;r<e.length;r++){var i=e.charAt(r);n+=Number.isNaN(+i)?i.charCodeAt(0):i}return n}(),"##")}t.getQnaUserId=function(e){var t,n,i,o,s=e,a=s.config,u=s.plugins,c=(null==a?void 0:a.session)||{},h=(null===(n=null===(t=null==u?void 0:u.qna)||void 0===t?void 0:t.config)||void 0===n?void 0:n.userRole)||c.userRole;return h&&"anonymousRole"!==h?(null===(o=null===(i=null==u?void 0:u.qna)||void 0===i?void 0:i.config)||void 0===o?void 0:o.userId)||c.userId:r()},t.debounce=function(e,t,n){var r;return void 0===t&&(t=50),void 0===n&&(n={isImmediate:!1}),function(){for(var i=this,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=function(){r=void 0,n.isImmediate||e.apply(i,o)},u=n.isImmediate&&void 0===r;void 0!==r&&clearTimeout(r),r=setTimeout(a,t),u&&e.apply(this,o)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PushNotifications=t.isAPIErrorResponse=t.isAPINotificationResponse=void 0;var r=n(58),i=n(59),o=n(5);function s(e){return"KalturaPushNotificationData"===e.objectType}function a(e){return"KalturaAPIException"===e.objectType}t.isAPINotificationResponse=s,t.isAPIErrorResponse=a;var u=function(){function e(e,t){this._socketPool={},this._player=e,this._logger=t,this._onPlayerReset()}return e.prototype._onPlayerReset=function(){var e=this;this._player.addEventListener(this._player.Event.PLAYER_RESET,(function(){e.reset()}))},e.prototype.reset=function(){for(var e in this._socketPool)this._socketPool[e].destroy();this._socketPool={}},e.prototype.registerNotifications=function(e){var t=this,n=e.prepareRegisterRequestConfigs.map((function(e){return t._prepareRegisterRequest(e)}));return this._player.provider.doRequest([{loader:r.PushNotificationLoader,params:n}]).then((function(n){var i;if(n&&n.has(r.PushNotificationLoader.id)){var o=(null===(i=n.get(r.PushNotificationLoader.id))||void 0===i?void 0:i.response).map((function(n,r){return t._processResult(e.prepareRegisterRequestConfigs[r],n,e.onSocketDisconnect,e.onSocketReconnect)}));return Promise.all(o).then((function(){}))}})).catch((function(e){t._logger.warn("Error: failed to multirequest of register requests - ",e)}))},e.prototype._prepareRegisterRequest=function(e){var t={service:"eventnotification_eventnotificationtemplate",action:"register",notificationTemplateSystemName:e.eventName,pushNotificationParams:{objectType:"KalturaPushNotificationParams",userParams:{}}},n=0;for(var r in e.eventParams)t.pushNotificationParams.userParams["item"+n]={objectType:"KalturaPushNotificationParams",key:r,value:{objectType:"KalturaStringValue",value:e.eventParams[r]},sQueueKeyParam:1},n++;return t},e.prototype._processResult=function(e,t,n,r){if(a(t))return this._logger.error("Error fetching registration info from service "+e.eventName),Promise.reject(new Error(t.message));if(!s(t))return Promise.reject(new Error("invalid response structure"));var u=o.getDomainFromUrl(t.url),c=this._socketPool[u];return c||(c=new i.SocketWrapper({key:u,url:t.url,onSocketDisconnect:n,onSocketReconnect:r},this._logger),this._socketPool[u]=c),c.prepareForListening(e.eventName,t.queueName,t.queueKey,e.onMessage),Promise.resolve()},e}();t.PushNotifications=u},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.PushNotificationLoader=void 0;var o=KalturaPlayer.providers.RequestBuilder,s=function(){function e(e){var t=this;this._apiRequests=e,this._requests=[],this._response={};var n=new Map;e.forEach((function(e){var s=new o(n),a=e.action,u=e.service,c=i(e,["action","service"]);s.action=a,s.service=u,s.params=r({},c),t.requests.push(s)}))}return Object.defineProperty(e,"id",{get:function(){return"push-notification"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requests",{get:function(){return this._requests},set:function(e){this._requests=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"response",{get:function(){return this._response},set:function(e){this._response=e.map((function(e){return e.data}))},enumerable:!1,configurable:!0}),e.prototype.isValid=function(){return this._apiRequests.length>0},e}();t.PushNotificationLoader=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SocketWrapper=void 0;var r=n(60),i=n(5),o=function(){function e(e,t){this._logger=t,this._listenKeys={},this._messageKeyToQueueKeyMap={},this._connected=!1,this._logger.info("Connecting to socket"),this._connectAndListenToSocket(e)}return e.prototype.destroy=function(){this._socket&&(this._socket.disconnect(),this._socket=null),this._listenKeys={},this._messageKeyToQueueKeyMap={},this._connected=!1},e.prototype._connectAndListenToSocket=function(t){var n=this;this._logger.info("connect to socket"),this._socket=r(t.url,{forceNew:!0,timeout:e.CONNECTION_TIMEOUT}),this._socket.on("validated",(function(){for(var e in n._connected=!0,n._listenKeys)n._logger.info("Emit listen to url"),n._socket.emit("listen",n._listenKeys[e].queueNameHash,n._listenKeys[e].queueKeyHash)})),this._socket.on("connected",(function(e,t){n._listenKeys[t]?(n._messageKeyToQueueKeyMap[e]=t,n._logger.info("Listening to queue")):n._logger.error("Cannot listen to queue, queueKeyHash not recognized")})),this._socket.on("message",(function(e,t){n._logger.debug("Cannot listen to queue, queueKeyHash not recognized"),n._messageKeyToQueueKeyMap[e]&&n._listenKeys[n._messageKeyToQueueKeyMap[e]]?n._listenKeys[n._messageKeyToQueueKeyMap[e]].onMessage.forEach((function(e){e(t)})):n._logger.error("couldn't find queueKey in map")})),this._socket.on("disconnect",(function(e){if(n._logger.info("push server was disconnected"),!i.isEmptyObject(n._listenKeys)){var r=t.onSocketDisconnect;r&&r(e)}})),this._socket.on("reconnect",(function(e){if(n._logger.info("push server was reconnected"),!i.isEmptyObject(n._listenKeys)){var r=t.onSocketReconnect;r&&r(e)}})),this._socket.on("reconnect_error",(function(e){n._logger.error("reconnection error")})),this._socket.on("errorMsg",(function(e){n._logger.error("error message recieved")}))},e.prototype.prepareForListening=function(e,t,n,r){this._listenKeys[n]?this._listenKeys[n].onMessage.push(r):this._listenKeys[n]={eventName:e,queueNameHash:t,queueKeyHash:n,onMessage:[r]},this._connected&&(this._logger.info("Listening to "+e),this._socket.emit("listen",t,n))},e.CONNECTION_TIMEOUT=6e5,e}();t.SocketWrapper=o},function(e,t,n){var r=n(61),i=n(11),o=n(24),s=n(6)("socket.io-client");e.exports=t=u;var a=t.managers={};function u(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i=r(e),u=i.source,c=i.id,h=i.path,p=a[c]&&h in a[c].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||p?(s("ignoring socket cache for %s",u),n=o(u,t)):(a[c]||(s("new io instance for %s",u),a[c]=o(u,t)),n=a[c]),i.query&&!t.query&&(t.query=i.query),n.socket(i.path,t)}t.protocol=i.protocol,t.connect=u,t.Manager=n(24),t.Socket=n(30)},function(e,t,n){var r=n(21),i=n(6)("socket.io-client:url");e.exports=function(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),n=r(e));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port,n.href=n.protocol+"://"+o+(t&&t.port===n.port?"":":"+n.port),n}},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,i=+new Date,o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;u++;var i=t.formatters[r];if("function"==typeof i){var o=s[u];n=i.call(e,o),s.splice(u,1),u--}return n})),t.formatArgs.call(e,s);var c=r.log||t.log||console.log.bind(console);c.apply(e,s)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=i,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(63),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){var n=1e3,r=6e4,i=60*r,o=24*i;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var a,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?s(a=e,o,"day")||s(a,i,"hour")||s(a,r,"minute")||s(a,n,"second")||a+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){(function(r){function i(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=n(65)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=i,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(i())}).call(this,n(10))},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,i=+new Date,o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;u++;var i=t.formatters[r];if("function"==typeof i){var o=s[u];n=i.call(e,o),s.splice(u,1),u--}return n})),t.formatArgs.call(e,s);var c=r.log||t.log||console.log.bind(console);c.apply(e,s)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=i,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(66),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){var n=1e3,r=6e4,i=60*r,o=24*i;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var a,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?s(a=e,o,"day")||s(a,i,"hour")||s(a,r,"minute")||s(a,n,"second")||a+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(22),i=n(23),o=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);t.deconstructPacket=function(e){var t=[],n=e.data,o=e;return o.data=function e(t,n){if(!t)return t;if(i(t)){var o={_placeholder:!0,num:n.length};return n.push(t),o}if(r(t)){for(var s=new Array(t.length),a=0;a<t.length;a++)s[a]=e(t[a],n);return s}if("object"==typeof t&&!(t instanceof Date)){s={};for(var u in t)s[u]=e(t[u],n);return s}return t}(n,t),o.attachments=t.length,{packet:o,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(r(t))for(var i=0;i<t.length;i++)t[i]=e(t[i],n);else if("object"==typeof t)for(var o in t)t[o]=e(t[o],n);return t}(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var n=0,o=e;!function e(u,c,h){if(!u)return u;if(s&&u instanceof Blob||a&&u instanceof File){n++;var p=new FileReader;p.onload=function(){h?h[c]=this.result:o=this.result,--n||t(o)},p.readAsArrayBuffer(u)}else if(r(u))for(var f=0;f<u.length;f++)e(u[f],f,u);else if("object"==typeof u&&!i(u))for(var l in u)e(u[l],l,u)}(o),n||t(o)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),s=r[0],a=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),h=0,p=a>0?s-4:s;for(n=0;n<p;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[h++]=t>>16&255,u[h++]=t>>8&255,u[h++]=255&t;2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[h++]=255&t);1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[h++]=t>>8&255,u[h++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(h(e,s,s+16383>a?a:s+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function h(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,h=-7,p=n?i-1:0,f=n?-1:1,l=e[t+p];for(p+=f,o=l&(1<<-h)-1,l>>=-h,h+=a;h>0;o=256*o+e[t+p],p+=f,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;h>0;s=256*s+e[t+p],p+=f,h-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(l?-1:1);s+=Math.pow(2,r),o-=c}return(l?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,h=(1<<c)-1,p=h>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,l=r?0:o-1,d=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+p>=1?f/u:f*Math.pow(2,1-p))*u>=2&&(s++,u/=2),s+p>=h?(a=0,s=h):s+p>=1?(a=(t*u-1)*Math.pow(2,i),s+=p):(a=t*Math.pow(2,p-1)*Math.pow(2,i),s=0));i>=8;e[n+l]=255&a,l+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+l]=255&s,l+=d,s/=256,c-=8);e[n+l-d]|=128*y}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){e.exports=n(73),e.exports.parser=n(4)},function(e,t,n){var r=n(25),i=n(3),o=n(9)("engine.io-client:socket"),s=n(29),a=n(4),u=n(21),c=n(7);function h(e,t){if(!(this instanceof h))return new h(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=u(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=u(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=h,h.priorWebsocketSuccess=!1,i(h.prototype),h.protocol=a.protocol,h.Socket=h,h.Transport=n(15),h.transports=n(25),h.parser=n(4),h.prototype.createTransport=function(e){o('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=a.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new r[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},h.prototype.open=function(){var e;if(this.rememberUpgrade&&h.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},h.prototype.setTransport=function(e){o("setting transport %s",e.name);var t=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},h.prototype.probe=function(e){o('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(o('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(o('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;h.priorWebsocketSuccess="websocket"===t.name,o('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(o("changing transport and sending upgrade packet"),f(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())}))}else{o('probe transport "%s" failed',e);var s=new Error("probe error");s.transport=t.name,r.emit("upgradeError",s)}})))}function s(){n||(n=!0,f(),t.close(),t=null)}function a(n){var i=new Error("probe error: "+n);i.transport=t.name,s(),o('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",i)}function u(){a("transport closed")}function c(){a("socket closed")}function p(e){t&&e.name!==t.name&&(o('"%s" works - aborting "%s"',e.name,t.name),s())}function f(){t.removeListener("open",i),t.removeListener("error",a),t.removeListener("close",u),r.removeListener("close",c),r.removeListener("upgrading",p)}h.priorWebsocketSuccess=!1,t.once("open",i),t.once("error",a),t.once("close",u),this.once("close",c),this.once("upgrading",p),t.open()},h.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",h.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},h.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else o('packet received with socket readyState "%s"',this.readyState)},h.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},h.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},h.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){o("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},h.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},h.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},h.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},h.prototype.write=h.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},h.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},h.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():t()})):this.upgrading?r():t()}function t(){e.onClose("forced close"),o("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},h.prototype.onError=function(e){o("socket error %j",e),h.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},h.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},h.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~s(this.transports,e[n])&&t.push(e[n]);return t}},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){var r=n(13),i=n(26),o=n(3),s=n(8),a=n(9)("engine.io-client:polling-xhr"),u=n(14);function c(){}function h(e){if(i.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function p(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(e.exports=h,e.exports.Request=p,s(h,i),h.prototype.supportsBinary=!0,h.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new p(e)},h.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",(function(e){i.onError("xhr post error",e)})),this.sendXhr=r},h.prototype.doPoll=function(){a("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},o(p.prototype),p.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new r(e),n=this;try{a("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.extraHeaders[i])}catch(e){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(e){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout((function(){n.onError("number"==typeof t.status?t.status:0)}),0))},a("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout((function(){n.onError(e)}),0)}"undefined"!=typeof document&&(this.index=p.requestsCount++,p.requests[this.index]=this)},p.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},p.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},p.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},p.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete p.requests[this.index],this.xhr=null}},p.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},p.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},p.prototype.abort=function(){this.cleanup()},p.requestsCount=0,p.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",f);else if("function"==typeof addEventListener){addEventListener("onpagehide"in u?"pagehide":"unload",f,!1)}function f(){for(var e in p.requests)p.requests.hasOwnProperty(e)&&p.requests[e].abort()}},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),s=t,a=0;s<n;s++,a++)o[a]=i[s];return o.buffer}},function(e,t){function n(){}e.exports=function(e,t,r){var i=!1;return r=r||n,o.count=e,0===e?t():o;function o(e,n){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(i=!0,t(e),t=r):0!==o.count||i||t(null,n)}}},function(e,t){
/*! https://mths.be/utf8js v2.1.2 by @mathias */
var n,r,i,o=String.fromCharCode;function s(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function a(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function u(e,t){return o(e>>t&63|128)}function c(e,t){if(0==(4294967168&e))return o(e);var n="";return 0==(4294965248&e)?n=o(e>>6&31|192):0==(4294901760&e)?(a(e,t)||(e=65533),n=o(e>>12&15|224),n+=u(e,6)):0==(4292870144&e)&&(n=o(e>>18&7|240),n+=u(e,12),n+=u(e,6)),n+=o(63&e|128)}function h(){if(i>=r)throw Error("Invalid byte index");var e=255&n[i];if(i++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function p(e){var t,o;if(i>r)throw Error("Invalid byte index");if(i==r)return!1;if(t=255&n[i],i++,0==(128&t))return t;if(192==(224&t)){if((o=(31&t)<<6|h())>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if((o=(15&t)<<12|h()<<6|h())>=2048)return a(o,e)?o:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(o=(7&t)<<18|h()<<12|h()<<6|h())>=65536&&o<=1114111)return o;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,r=s(e),i=r.length,o=-1,a="";++o<i;)a+=c(r[o],n);return a},decode:function(e,t){var a=!1!==(t=t||{}).strict;n=s(e),r=n.length,i=0;for(var u,c=[];!1!==(u=p(a));)c.push(u);return function(e){for(var t,n=e.length,r=-1,i="";++r<n;)(t=e[r])>65535&&(i+=o((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=o(t);return i}(c)}}},function(e,t){!function(e){"use strict";t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(t){var n,r,i,o,s,a=.75*t.length,u=t.length,c=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var h=new ArrayBuffer(a),p=new Uint8Array(h);for(n=0;n<u;n+=4)r=e.indexOf(t[n]),i=e.indexOf(t[n+1]),o=e.indexOf(t[n+2]),s=e.indexOf(t[n+3]),p[c++]=r<<2|i>>4,p[c++]=(15&i)<<4|o>>2,p[c++]=(3&o)<<6|63&s;return h}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},function(e,t){var n=void 0!==n?n:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),i=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;function s(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function a(e,t){t=t||{};var r=new n;return s(e).forEach((function(e){r.append(e)})),t.type?r.getBlob(t.type):r.getBlob()}function u(e,t){return new Blob(s(e),t||{})}"undefined"!=typeof Blob&&(a.prototype=Blob.prototype,u.prototype=Blob.prototype),e.exports=r?i?Blob:u:o?a:void 0},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,i=+new Date,o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;u++;var i=t.formatters[r];if("function"==typeof i){var o=s[u];n=i.call(e,o),s.splice(u,1),u--}return n})),t.formatArgs.call(e,s);var c=r.log||t.log||console.log.bind(console);c.apply(e,s)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=i,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(84),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){var n=1e3,r=6e4,i=60*r,o=24*i;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var a,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?s(a=e,o,"day")||s(a,i,"hour")||s(a,r,"minute")||s(a,n,"second")||a+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(26),i=n(8),o=n(14);e.exports=h;var s,a=/\n/g,u=/\\n/g;function c(){}function h(e){r.call(this,e),this.query=this.query||{},s||(s=o.___eio=o.___eio||[]),this.index=s.length;var t=this;s.push((function(e){t.onData(e)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){t.script&&(t.script.onerror=c)}),!1)}i(h,r),h.prototype.supportsBinary=!1,h.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},h.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},h.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r,i=document.createElement("form"),o=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=s,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function c(){h(),t()}function h(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(e){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),h(),e=e.replace(u,"\\\n"),this.area.value=e.replace(a,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&c()}:this.iframe.onload=c}},function(e,t,n){(function(t){var r,i,o=n(15),s=n(4),a=n(7),u=n(8),c=n(28),h=n(9)("engine.io-client:websocket");if("undefined"!=typeof WebSocket?r=WebSocket:"undefined"!=typeof self&&(r=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{i=n(87)}catch(e){}var p=r||i;function f(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=r&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(p=i),o.call(this,e)}e.exports=f,u(f,o),f.prototype.name="websocket",f.prototype.supportsBinary=!0,f.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={};this.isReactNative||(n.agent=this.agent,n.perMessageDeflate=this.perMessageDeflate,n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new p(e,t):new p(e):new p(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},f.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},f.prototype.write=function(e){var n=this;this.writable=!1;for(var r=e.length,i=0,o=r;i<o;i++)!function(e){s.encodePacket(e,n.supportsBinary,(function(i){if(!n.usingBrowserWebSocket){var o={};if(e.options&&(o.compress=e.options.compress),n.perMessageDeflate)("string"==typeof i?t.byteLength(i):i.length)<n.perMessageDeflate.threshold&&(o.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(i):n.ws.send(i,o)}catch(e){h("websocket closed before onclose event")}--r||a()}))}(e[i]);function a(){n.emit("flush"),setTimeout((function(){n.writable=!0,n.emit("drain")}),0)}},f.prototype.onClose=function(){o.prototype.onClose.call(this)},f.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},f.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||(e.b64=1),(e=a.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},f.prototype.check=function(){return!(!p||"__initialize"in p&&this.name===f.prototype.name)}}).call(this,n(12).Buffer)},function(e,t){},function(e,t){e.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}}]);
//# sourceMappingURL=playkit-kaltura-cuepoints.js.map
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("KalturaPlayer",[],t):"object"==typeof exports?exports.KalturaPlayer=t():(e.KalturaPlayer=e.KalturaPlayer||{},e.KalturaPlayer.plugins=e.KalturaPlayer.plugins||{},e.KalturaPlayer.plugins.kava=t())}(self,(()=>(()=>{var e={796:e=>{self,e.exports=function(){"use strict";var e={d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!==r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===r(t)?t:String(t)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.r(t),e.d(t,{NAME:function(){return R},OVPAnalyticsService:function(){return m},OVPConfiguration:function(){return d},RequestBuilder:function(){return u},VERSION:function(){return O}});var l=o((function e(t,r,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n(this,e),this.severity=t,this.category=r,this.code=a,this.data=i,e._logger.error("Category:".concat(r," | Code:").concat(a," |"),i)}));s(l,"Severity",{RECOVERABLE:1,CRITICAL:2}),s(l,"Category",{NETWORK:1,SERVICE:2,PROVIDER:3}),s(l,"Code",{UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,BAD_SERVER_RESPONSE:1005,MULTIREQUEST_API_ERROR:1006,API_RESPONSE_MISMATCH:1007,ERROR:2e3,BLOCK_ACTION:2001,MEDIA_STATUS_NOT_READY:2002,MISSING_MANDATORY_PARAMS:3e3,MISSING_PLAY_SOURCE:3001,METHOD_NOT_IMPLEMENTED:3002}),s(l,"_logger",{VERSION:"",DEBUG:{value:"",name:""},ERROR:{value:"",name:""},INFO:{value:"",name:""},OFF:{value:"",name:""},TIME:{value:"",name:""},TRACE:{value:"",name:""},WARN:{value:"",name:""},createDefaultHandler:function(){},debug:function(){},enabledFor:function(){},error:function(){},get:function(){},getLevel:function(){},info:function(){},log:function(){},setHandler:function(){},setLevel:function(){},time:function(){},timeEnd:function(){},trace:function(){},useDefaults:function(){},warn:function(){}});var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;n(this,e),s(this,"retryConfig",{async:!0,timeout:0,maxAttempts:4}),s(this,"_attemptCounter",1),this.headers=t}return o(e,[{key:"getUrl",value:function(e){return e+"/service/"+this.service+(this.action?"/action/"+this.action:"")}},{key:"doHttpRequest",value:function(){var e=this,t=new Promise((function(t,n){e._requestPromise={resolve:t,reject:n}}));return this.url||this._requestPromise.reject(new l(l.Severity.CRITICAL,l.Category.NETWORK,l.Code.MALFORMED_DATA_URI,{url:this.url})),this._createXHR(),t}},{key:"_createXHR",value:function(){var e=this,t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===t.readyState&&200===t.status)try{var n=JSON.parse(t.responseText);return e.responseHeaders=e._getResponseHeaders(t),e._requestPromise.resolve(n)}catch(n){e._requestPromise.reject(e._createError(t,l.Code.BAD_SERVER_RESPONSE,{text:t.responseText}))}},t.open(this.method,this.url,this.retryConfig.async),this.retryConfig.async&&this.retryConfig.timeout&&(t.timeout=this.retryConfig.timeout);var n=performance.now();t.ontimeout=function(){e._handleError(t,l.Code.TIMEOUT,{timeout:(performance.now()-n)/1e3,statusText:t.statusText})},t.onerror=t.onabort=function(){e._handleError(t,l.Code.HTTP_ERROR,{text:t.responseText,statusText:t.statusText})},this.headers.forEach((function(e,n){t.setRequestHeader(n,e)})),t.send(this.params)}},{key:"_getResponseHeaders",value:function(e){return e.getAllResponseHeaders().split("\n").filter((function(e){return 0===e.toLowerCase().indexOf("x-")}))}},{key:"_handleError",value:function(e,t,n){var r=this._createError(e,t,n);if(e.onreadystatechange=function(){},e.onerror=function(){},e.ontimeout=function(){},e.onabort=function(){},!(this.retryConfig.maxAttempts&&this._attemptCounter<this.retryConfig.maxAttempts))return this._requestPromise.reject(r);this._attemptCounter++,this._createXHR()}},{key:"_createError",value:function(e,t,n){return Object.assign(n,{url:this.url,headers:this._getResponseHeaders(e),attempt:this._attemptCounter}),new l(l.Severity.CRITICAL,l.Category.NETWORK,t,n)}}]),e}(),c=function e(t){var n;return Array.isArray(t)?(n=t.length>0?t.slice(0):[]).forEach((function(t,a){("object"===r(t)||Array.isArray(t)&&t.length>0)&&(n[a]=e(t))})):"object"===r(t)?(n=Object.assign({},t),Object.keys(n).forEach((function(t){("object"===r(n[t])||Array.isArray(n[t])&&n[t].length>0)&&(n[t]=e(n[t]))}))):n=t,n},_={serviceUrl:"https://cdnapisec.kaltura.com/api_v3",cdnUrl:"https://cdnapisec.kaltura.com",serviceParams:{apiVersion:"3.3.0",format:1},useApiCaptions:!0,loadThumbnailWithKs:!1,replaceHostOnlyManifestUrls:!1},d=function(){function e(){n(this,e)}return o(e,null,[{key:"set",value:function(e){e&&Object.assign(_,e)}},{key:"get",value:function(){return c(_)}}]),e}();function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}var f=o((function e(t){n(this,e),s(this,"hasError",!1),"KalturaAPIException"===t.objectType?(this.hasError=!0,this.error=new g(t.code,t.message)):t.error&&"KalturaAPIException"===t.error.objectType?(this.hasError=!0,this.error=new g(t.error.code,t.error.message)):this.data=t})),g=o((function e(t,r){n(this,e),this.code=t,this.message=r})),h=function(e){E(i,e);var t,r,a=(t=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=T(t);if(r){var a=T(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return y(this,e)});function i(){var e;n(this,i);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return s(v(e=a.call.apply(a,[this].concat(r))),"requests",[]),e}return o(i,[{key:"add",value:function(e){this.requests.push(e);var t={},n={service:e.service,action:e.action};return Object.assign(t,s({},this.requests.length,Object.assign(n,e.params))),Object.assign(t,this.params),this.params=t,this}},{key:"execute",value:function(e){var t=this;return new Promise((function(n,r){try{t.params=JSON.stringify(t.params)}catch(e){i._logger.error("".concat(e.message)),r(new l(l.Severity.CRITICAL,l.Category.PROVIDER,l.Code.FAILED_PARSING_REQUEST,{error:e,params:t.params}))}t.doHttpRequest().then((function(a){var i=new A(a,e);i.success?n({headers:t.responseHeaders,response:i}):r(new l(l.Severity.CRITICAL,l.Category.NETWORK,l.Code.MULTIREQUEST_API_ERROR,{url:t.url,headers:t.responseHeaders,results:i.results}))}),(function(e){r(e)}))}))}}]),i}(u);s(h,"_logger",{VERSION:"",DEBUG:{value:"",name:""},ERROR:{value:"",name:""},INFO:{value:"",name:""},OFF:{value:"",name:""},TIME:{value:"",name:""},TRACE:{value:"",name:""},WARN:{value:"",name:""},createDefaultHandler:function(){},debug:function(){},enabledFor:function(){},error:function(){},get:function(){},getLevel:function(){},info:function(){},log:function(){},setHandler:function(){},setLevel:function(){},time:function(){},timeEnd:function(){},trace:function(){},useDefaults:function(){},warn:function(){}});var A=o((function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n(this,e),s(this,"results",[]);var a=t.result?t.result:t,i=(Array.isArray(a)?a:[a]).map((function(e){return new f(e)})),o=i.filter((function(e){return e.hasError}));o.forEach((function(t){e._logger.error("Service returned an error with error code: ".concat(t.error.code," and message: ").concat(t.error.message,"."))})),this.results=i,r&&o.length||o.length===this.results.length?this.success=!1:(this.results=this.results.filter((function(e){return!e.hasError})),this.success=!0)}));s(A,"_logger",{VERSION:"",DEBUG:{value:"",name:""},ERROR:{value:"",name:""},INFO:{value:"",name:""},OFF:{value:"",name:""},TIME:{value:"",name:""},TRACE:{value:"",name:""},WARN:{value:"",name:""},createDefaultHandler:function(){},debug:function(){},enabledFor:function(){},error:function(){},get:function(){},getLevel:function(){},info:function(){},log:function(){},setHandler:function(){},setLevel:function(){},time:function(){},timeEnd:function(){},trace:function(){},useDefaults:function(){},warn:function(){}});var S=function(e){var t=[],n=/\[\]$/,a=function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=function(e,n){n="function"==typeof n?n():null==n?"":n,t[t.length]=encodeURIComponent(e)+"="+encodeURIComponent(n)};return function e(o,s){var l,u,c;if(o)if(a(s))for(l=0,u=s.length;l<u;l++)n.test(o)?i(o,s[l]):e(o+":"+("object"===r(s[l])?l:""),s[l]);else if(s&&"[object Object]"===String(s))for(c in s)e(o+":"+c,s[c]);else i(o,s);else if(a(s))for(l=0,u=s.length;l<u;l++)i(s[l].name,s[l].value);else for(c in s)e(c,s[c]);return t}("",e).join("&").replace(/%20/g,"+")},C="analytics",m=function(e){E(i,e);var t,r,a=(t=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=T(t);if(r){var a=T(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return y(this,e)});function i(){return n(this,i),a.apply(this,arguments)}return o(i,null,[{key:"trackEvent",value:function(e,t,n){return"POST"===n?i._trackEventByPOST(e,t):i._trackEventByGET(e,t)}},{key:"_trackEventByGET",value:function(e,t){var n=d.get(),r={};Object.assign(r,n.serviceParams,t);var a=new u;return a.service=C,a.action="trackEvent",a.method="GET",a.retryConfig.maxAttempts=1,a.tag="analytics-trackEvent",a.params=r,a.url=e+"?service="+a.service+"&action="+a.action+"&"+S(a.params),a}},{key:"_trackEventByPOST",value:function(e,t){var n=d.get(),r={};Object.assign(r,n.serviceParams,t);var a=new Map;a.set("Content-Type","application/json");var i=new u(a),o={eventType:r.eventType,partnerId:r.partnerId,entryId:r.entryId,sessionId:r.sessionId};return["eventType","partnerId","entryId","sessionId"].forEach((function(e){return delete r[e]})),i.service=C,i.action="trackEvent",i.method="POST",i.retryConfig.maxAttempts=1,i.tag="analytics-trackEvent",i.params=JSON.stringify(r),i.url=e+"?service="+i.service+"&action="+i.action+"&"+S(o),i}}]),i}(function(){function e(){n(this,e)}return o(e,null,[{key:"getMultiRequest",value:function(e,t,n){var r=d.get(),a=r.serviceParams;Object.assign(a,{ks:t,clientTag:"html5:v"+e}),n&&Object.assign(a,{partnerId:n});var i=new Map;i.set("Content-Type","application/json");var o=new h(i);return o.method="POST",o.service="multirequest",o.url=o.getUrl(r.serviceUrl),o.params=a,o}}]),e}()),R="@playkit-js/playkit-js-providers-analytics-service",O="2.40.4";return t}()}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{EventType:()=>f,HttpMethodType:()=>q,NAME:()=>oe,Plugin:()=>ae,VERSION:()=>ie});const e=KalturaPlayer;function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,"string");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:String(n)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function E(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v,y=n(796),T={VIEW:{type:"VIEW",index:99,getEventModel:function(e){var t={playTimeSum:e.getPlayTimeSum(),bufferTime:e.getBufferTime(),bufferTimeSum:e.getBufferTimeSum(),actualBitrate:e.getActualBitrate(),averageBitrate:e.getAverageBitrate(),audioLanguage:e.getLanguage(),soundMode:e.getSoundMode(),tabMode:e.getTabMode(),viewabilityMode:e.getViewabilityMode(),screenMode:e.getScreenMode()};return isNaN(e.getForwardBufferHealth())||(t.forwardBufferHealth=e.getForwardBufferHealth()),e.getMaxManifestDownloadTime()>0&&(t.manifestDownloadTime=e.getMaxManifestDownloadTime()),e.getSegmentDownloadTime()>0&&(t.segmentDownloadTime=e.getSegmentDownloadTime()),e.getBandwidth()&&(t.bandwidth=e.getBandwidth()),null!==e.getDroppedFramesRatio()&&(t.droppedFramesRatio=e.getDroppedFramesRatio()),isNaN(e.getTargetBuffer())||(t.targetBuffer=e.getTargetBuffer()),""!==e.getNetworkConnectionType()&&(t.networkConnectionType=e.getNetworkConnectionType()),e.getNetworkConnectionOverhead()&&(t.networkConnectionOverhead=e.getNetworkConnectionOverhead()),isNaN(e.getFlavorParamsId())||(t.flavorParamsId=e.getFlavorParamsId()),isNaN(e.getPlaybackMode())||(t.playbackMode=e.getPlaybackMode()),null!==e.getSourceEntryId()&&(t.sourceEntryId=e.getSourceEntryId()),t}},IMPRESSION:{type:"IMPRESSION",index:1,getEventModel:function(e){var t={};null!==e.getPlayerJSLoadTime()&&(t.playerJSLoadTime=e.getPlayerJSLoadTime());var n=e.getV2ToV7Redirect(),r=e.getRegisteredPlugins();return t.loadedPlugins=n?"v2-v7redirect,".concat(r):r,t}},PLAY_REQUEST:{type:"PLAY_REQUEST",index:2,getEventModel:function(){return{}}},PLAY:{type:"PLAY",index:3,getEventModel:function(e){var t={bufferTime:e.getBufferTime(),bufferTimeSum:e.getBufferTimeSum(),actualBitrate:e.getActualBitrate(),joinTime:e.getJoinTime(),canPlay:e.getCanPlayTime()};return""!==e.getNetworkConnectionType()&&(t.networkConnectionType=e.getNetworkConnectionType()),t}},RESUME:{type:"RESUME",index:4,getEventModel:function(e){return{bufferTime:e.getBufferTime(),bufferTimeSum:e.getBufferTimeSum(),actualBitrate:e.getActualBitrate()}}},PAUSE:{type:"PAUSE",index:33,getEventModel:function(){return{}}},BUFFER_START:{type:"BUFFER_START",index:45,getEventModel:function(){return{}}},BUFFER_END:{type:"BUFFER_END",index:46,getEventModel:function(){return{}}},REPLAY:{type:"REPLAY",index:34,getEventModel:function(){return{}}},SEEK:{type:"SEEK",index:35,getEventModel:function(e){return{targetPosition:e.getTargetPosition()}}},PLAY_REACHED_25_PERCENT:{type:"PLAY_REACHED_25_PERCENT",index:11,getEventModel:function(){return{}}},PLAY_REACHED_50_PERCENT:{type:"PLAY_REACHED_50_PERCENT",index:12,getEventModel:function(){return{}}},PLAY_REACHED_75_PERCENT:{type:"PLAY_REACHED_75_PERCENT",index:13,getEventModel:function(){return{}}},PLAY_REACHED_100_PERCENT:{type:"PLAY_REACHED_100_PERCENT",index:14,getEventModel:function(){return{}}},SOURCE_SELECTED:{type:"SOURCE_SELECTED",index:39,getEventModel:function(e){return{actualBitrate:e.getActualBitrate()}}},AUDIO_SELECTED:{type:"AUDIO_SELECTED",index:42,getEventModel:function(e){return{language:e.getLanguage()}}},FLAVOR_SWITCH:{type:"FLAVOR_SWITCH",index:43,getEventModel:function(e){return{actualBitrate:e.getActualBitrate()}}},SPEED:{type:"SPEED",index:41,getEventModel:function(){return{}}},CAPTIONS:{type:"CAPTIONS",index:38,getEventModel:function(){return{}}},ERROR:{type:"ERROR",index:98,getEventModel:function(e){return{errorCode:e.getErrorCode(),errorDetails:e.getErrorDetails(),errorPosition:e.getErrorPosition()}}},RELATED_OPEN:{type:"RELATED_OPEN",index:36,getEventModel:function(){return{}}},RELATED_SELECTED:{type:"RELATED_SELECTED",index:37,getEventModel:function(){return{}}},SHARE_CLICKED:{type:"SHARE_CLICKED",index:21,getEventModel:function(){return{}}},SHARE_NETWORK:{type:"SHARE_NETWORK",index:22,getEventModel:function(e){return{socialNetwork:e.getShareNetworkName()}}},ENTER_FULLSCREEN:{type:"ENTER_FULLSCREEN",index:31,getEventModel:function(e){return{screenMode:e.getScreenMode()}}},EXIT_FULLSCREEN:{type:"EXIT_FULLSCREEN",index:32,getEventModel:function(e){return{screenMode:e.getScreenMode()}}},DOWNLOAD:{type:"DOWNLOAD",index:23,getEventModel:function(){return{}}},REPORT_CLICKED:{type:"REPORT_CLICKED",index:24,getEventModel:function(){return{}}},REPORT_SUBMITTED:{type:"REPORT_SUBMITTED",index:25,getEventModel:function(e){return{reportType:e.getReportType()}}},INFO:{type:"INFO",index:40,getEventModel:function(){return{}}}},f=(v={},Object.keys(T).forEach((function(e){return v[e]=e})),v),g=function(){function e(){i(this,e),E(this,"_rates",[]),this._rates=[]}return l(e,[{key:"setRates",value:function(e){var t=this;this._rates=[],e.forEach((function(e){t._rates.push({rate:e,active:!1,duration:0})}))}},{key:"setCurrent",value:function(e){this._rates.forEach((function(e){return e.active=!1}));var t=this._rates.find((function(t){return t.rate===e}));t&&(t.active=!0)}},{key:"getCurrent",value:function(){var e=this._rates.find((function(e){return e.active}));return e?e.rate:-1}},{key:"countCurrent",value:function(){var e=this._rates.find((function(e){return e.active}));e&&e.duration++}},{key:"getAverage",value:function(){var e=0,t=0;return this._rates.forEach((function(n){t+=n.rate*n.duration,e+=n.duration})),e?t/e:0}},{key:"reset",value:function(){this._rates.forEach((function(e){return e.duration=0}))}},{key:"destroy",value:function(){this._rates=[]}}]),e}();function h(e,t,n){return t=_(t),c(e,A()?Reflect.construct(t,n||[],_(e).constructor):t.apply(e,n))}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(A=function(){return!!e})()}var S=e.core.FakeEvent,C=e.core.FakeEventTarget,m=function(){function e(t,n){i(this,e),E(this,"worker",null);var r=new Blob(["setInterval(() => postMessage(0), ".concat(n,");")]),a=URL.createObjectURL(r);this.worker=new Worker(a),this.worker.onmessage=t}return l(e,[{key:"stop",value:function(){this.worker&&this.worker.terminate()}}]),e}(),R=function(e){function t(e){var n;return i(this,t),(n=h(this,t))._config=e,n}return p(t,e),l(t,[{key:"start",value:function(){var e=this;this._terminateTimer(),this._stopped=!1,this._resetCounter=0,this._eventCounter=0,this._timer=new m((function(){return e._monitor()}),1e3)}},{key:"resume",value:function(){this._stopped=!1,this._resetCounter=0}},{key:"stop",value:function(){this._stopped=!0}},{key:"isStopped",value:function(){return this._stopped}},{key:"destroy",value:function(){this._terminateTimer()}},{key:"_terminateTimer",value:function(){this._timer&&(this._timer.stop(),this._timer=null)}},{key:"_monitor",value:function(){this._stopped?(this._resetCounter===this._config.resetCounter&&(this.dispatchEvent(new S(t.Event.RESET)),this._resetCounter=0,this._eventCounter=0),this._resetCounter++):(this.dispatchEvent(new S(t.Event.TICK)),this._eventCounter===this._config.eventCounter&&(this.dispatchEvent(new S(t.Event.REPORT)),this._eventCounter=0),this._eventCounter++)}}]),t}(C);E(R,"Event",{TICK:"tick",RESET:"reset",REPORT:"report"});var O=function(e){return e.ApplicationEvents="ApplicationEvents",e.PlayerEvents="PlayerEvents",e}({}),P=function(e){return e[e.Create=1]="Create",e[e.Filter=2]="Filter",e[e.Search=3]="Search",e[e.Export=4]="Export",e[e.Navigate=5]="Navigate",e[e.Schedule=6]="Schedule",e[e.Insert=7]="Insert",e[e.Choose=8]="Choose",e[e.Launch=9]="Launch",e[e.Open=10]="Open",e[e.Send=11]="Send",e[e.Invite=12]="Invite",e[e.Close=13]="Close",e[e.Save=14]="Save",e[e.Expand=15]="Expand",e[e.Collapse=16]="Collapse",e[e.Edit=17]="Edit",e[e.Delete=18]="Delete",e[e.Browse=19]="Browse",e[e.Load=20]="Load",e[e.Add=21]="Add",e[e.Menu=22]="Menu",e[e.Register=23]="Register",e[e.Login=24]="Login",e[e.Link=25]="Link",e[e.Toggle=26]="Toggle",e[e.Thumbnail=27]="Thumbnail",e[e.Download=28]="Download",e[e.Share=29]="Share",e}({}),I=10002,D=10003,L=function(e){return e[e.View=1]="View",e[e.Create=2]="Create",e[e.Edit=3]="Edit",e[e.Participate=4]="Participate",e[e.List=5]="List",e[e.Analytics=6]="Analytics",e[e.Admin=7]="Admin",e[e.Error=8]="Error",e[e.Login=9]="Login",e[e.Registration=10]="Registration",e[e.Custom=11]="Custom",e}({});function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V,k="playkit-ui",b={USER_CLICKED_LOGO:"".concat(k,"-userclickedlogo"),USER_SELECTED_CAPTIONS_SIZE:"".concat(k,"-userselectedcaptionssize"),USER_SELECTED_CAPTIONS_ALIGNMENT:"".concat(k,"-userselectedcaptionsalignment"),USER_SELECTED_CAPTIONS_FONT_COLOR:"".concat(k,"-userselectedcaptionsfontcolor"),USER_SELECTED_CAPTIONS_FONT_FAMILY:"".concat(k,"-userselectedcaptionsfontfamily"),USER_SELECTED_CAPTIONS_FONT_STYLE:"".concat(k,"-userselectedcaptionsfontstyle"),USER_SELECTED_CAPTIONS_FONT_OPACITY:"".concat(k,"-userselectedcaptionsfontopacity"),USER_SELECTED_CAPTIONS_BACKGROUND_COLOR:"".concat(k,"-userselectedcaptionsbackgroundcolor"),USER_SELECTED_CAPTIONS_BACKGROUND_OPACITY:"".concat(k,"-userselectedcaptionsbackgroundopacity"),USER_SHOWED_CAPTIONS:"".concat(k,"-usershowedcaptions"),USER_HID_CAPTIONS:"".concat(k,"-userhidcaptions"),USER_SELECTED_CAPTION_TRACK:"".concat(k,"-userselectedcaptiontrack"),USER_SELECTED_AUDIO_TRACK:"".concat(k,"-userselectedaudiotrack"),USER_COPIED_DEBUG_INFO:"".concat(k,"-usercopieddebuginfo")},U=M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M({},{NAVIGATION_OPEN:"navigation_open",NAVIGATION_CLOSE:"navigation_close",NAVIGATION_SEARCH:"navigation_search",NAVIGATION_ITEM_CLICK:"navigation_item_click",NAVIGATION_EXPANDABLE_TEXT_CLICK:"navigation_expandable_text_clicked"}),{DOWNLOAD_ITEM_CLICKED:"download_item_clicked",SHOW_OVERLAY:"download_show_overlay",HIDE_OVERLAY:"download_hide_overlay"}),{TRANSCRIPT_OPEN:"transcript_open",TRANSCRIPT_CLOSE:"transcript_close",TRANSCRIPT_DOWNLOAD:"transcript_download",TRANSCRIPT_PRINT:"transcript_print",TRANSCRIPT_SEARCH:"transcript_search",TRANSCRIPT_NAVIGATE_RESULT:"transcript_navigate_result",TRANSCRIPT_POPOUT_OPEN:"transcript_popout_open",TRANSCRIPT_POPOUT_CLOSE:"transcript_popout_close",TRANSCRIPT_POPOUT_DRAG:"transcript_popout_drag",TRANSCRIPT_POPOUT_RESIZE:"transcript_popout_resize"}),{CHANGE_LAYOUT:"dualscreen_change_layout",SIDE_DISPLAYED:"dualscreen_side_displayed"}),{SHARE_CLICKED:"share_clicked",SHARE_CLOSE:"share_close",SHARE_NETWORK:"share_network",SHARE_COPY:"share_copy"}),{BUMPER_CLICKED:"bumper_clicked"}),{SKIP_BUTTON_CLICK:"skip_button_click",SKIP_BUTTON_DISPLAYED:"skip_button_displayed"}),{PLAYLIST_OPEN:"playlist_open",PLAYLIST_CLOSE:"playlist_close"}),{RELATED_OPEN:"related_open",RELATED_CLOSE:"related_close",RELATED_ENTRY_SELECTED:"related_entry_selected",RELATED_ENTRY_AUTO_PLAYED:"related_entry_auto_played",RELATED_GRID_DISPLAYED:"related_grid_displayed"}),{CALL_TO_ACTION_BUTTON_CLICK:"call_to_action_button_click",CALL_TO_ACTION_DISPLAYED:"call_to_action_displayed"}),{HOTSPOT_CLICK:"hotspot_click",HOTSPOT_DISPLAYED:"hotspot_displayed"}),{QUIZ_STARTED:"QuizStarted",QUIZ_SKIPPED:"QuizSkipped",QUIZ_SEEK:"QuizSeek",QUESTION_ANSWERED:"QuestionAnswered",QUIZ_SUBMITTED:"QuizSubmitted",QUIZ_RETAKE:"QuizRetake",QUIZ_QUESTION_CHANGED:"QuizQuestionChanged"}),{DETECT_AD_BLOCK_PARTIAL_OVERLAY_SHOWN:"detect_ad_block_partial_overlay_shown",DETECT_AD_BLOCK_FULL_OVERLAY_SHOWN:"detect_ad_block_full_overlay_shown",DETECT_AD_BLOCK_SECONDARY_BUTTON_CLICKED:"detect_ad_block_secondary_button_clicked",DETECT_AD_BLOCK_X_BUTTON_CLICKED:"detect_ad_block_x_button_clicked",DETECT_AD_BLOCK_AD_BLOCKER_DISABLED:"detect_ad_block_ad_blocker_disabled",DETECT_AD_BLOCK_AD_BLOCKER_NOT_DISABLED:"detect_ad_block_ad_blocker_not_disabled"}),{REELS_PLAY:"reels_play",REELS_PAUSE:"reels_pause",REELS_MUTE:"reels_mute",REELS_UNMUTE:"reels_unmute",REELS_SEEK:"reels_seek",REELS_POSTER_CLICKED:"reels_poster_clicked",REELS_ENTRY_LOADED:"reels_entry_loaded",REELS_PLAYLIST_LOADED:"reels_playlist_loaded"}),{EAD_ON:"EAD_on",EAD_OFF:"EAD_off",EAD_SKIP:"EAD_skip",EAD_REPLAY:"EAD_replay",EAD_PAUSE:"EAD_pause",EAD_RESUME:"EAD_resume",EAD_PLAY:"EAD_play",EAD_SCROLL:"EAD_scroll"}),{SUMMARY_CHAPTERS_OPEN:"summary_chapters_open",SUMMARY_CHAPTERS_CLOSE:"summary_chapters_close",SUMMARY_CHAPTERS_READ_CHAPTERS:"summary_chapters_read_chapters",SUMMARY_CHAPTERS_READ_OVERVIEW:"summary_chapters_read_overview",SUMMARY_CHAPTERS_COPY_TO_CLIPBOARD:"summary_chapters_copy_to_clipboard",SUMMARY_CHAPTERS_CHAPTER_EXPAND:"summary_chapters_chapter_expand",SUMMARY_CHAPTERS_CHAPTER_COLLAPSE:"summary_chapters_chapter_collapse",SUMMARY_CHAPTERS_CHAPTER_SEEK:"summary_chapters_chapter_seek"}),{AUDIO_PLAYER_VISUALIZATION_STATE:"audio_player_visualization_state"}),w={KMC:"0",KMS:"1",KAF:"2",PITCH:"3",KMS_GO:"4",WEBCASTING:"5",PERSONAL_CAPTURE:"6",KME:"7",KME_MOBILE_APP:"8",PATH:"9",LECTURE_CAPTURE:"10",EP:"11",CHAT_AND_COLLABORATION:"12",ANALYTICS:"13",EXPRESS_CAPTURE:"14",KPF:"15",KAF_GO:"16",SITES:"17",STUDIO:"18",CAPTIONS_EDITOR:"19",CHECKLIST:"20",PLAYER:"21",GENIE:"23"},F=function(e){return e.DUAL_SCREEN="dual_screen",e.SHARE_EMBED="share_embed",e.DOWNLOAD="download",e.BUMPER="bumper",e.NAVIGATION="navaigation",e.TRANSCRIPT="transcript",e.PLAYLIST="playlist",e.SKIP="skip",e.RELATED="related",e.CALL_TO_ACTION="call_to_action",e.HOTSPOPT="hotspot",e.QUIZ="quiz",e.UI="ui",e.DETECT_AD_BLOCK="detect_ad_block",e.REELS="reels_player",e.EAD="extended_audio_description",e.ADVANCED_CAPTIONS="advanced_captions",e.CAPTIONS="captions",e.AUDION_TRACKS="audio_tracks",e.SUMMARY_CHAPTERS="summary_chapters",e.DEBUG_INFO="debug_info",e.AUDIO_PLAYER="audio_player",e}({});function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){var r={partnerId:t.getPartnerId(),entryId:t.getEntryId(),sessionId:t.getSessionId(),kalturaApplication:w.PLAYER,application:t.getApplication(!1)};t.getVirtualEventId()&&(r.virtualEventId=t.getVirtualEventId()),t.getKalturaApplicationVersion()&&(r.kalturaApplicationVer=t.getKalturaApplicationVersion()),t.getUserId()&&(r.userId=t.getUserId()),t.getKS()&&(r.ks=t.getKS()),t.getHostingKalturaApplication()&&(r.hostingKalturaApplication=t.getHostingKalturaApplication()),t.getHostingKalturaApplicationVersion()&&(r.hostingKalturaApplicationVersion=t.getHostingKalturaApplicationVersion());var a=e.getEventModel(n),i={},o=a.eventType,s=a.eventVar1,l=a.eventVar2,u=a.eventVar3,c=a.eventVar4,_=a.applicationFeature;return i.eventType=o,i.feature=_,a.eventType===I?(i.buttonName=s,i.buttonType=l,i.buttonValue=u,i.buttonInfo=c):a.eventType===D&&(i.pageName=s,i.pageType=l,i.pageValue=u,i.pageInfo=c),Object.assign(i,r)}var Y=(E(E(E(E(E(E(E(E(E(E(V={},U.CHANGE_LAYOUT,{type:"CHANGE_LAYOUT",getEventModel:function(e){var t=e.layout;return{eventType:I,eventVar1:"Hidden"!==t?"Dual__screen_change_layout":"",eventVar2:P.Choose,eventVar3:t,applicationFeature:F.DUAL_SCREEN}}}),U.SIDE_DISPLAYED,{type:"SIDE_DISPLAYED",getEventModel:function(e){return{eventType:D,eventVar1:"Dual__screen_slide_displayed",eventVar2:L.View,eventVar3:e,applicationFeature:F.DUAL_SCREEN}}}),U.SHARE_CLICKED,{type:"SHARE_CLICKED",getEventModel:function(){return{eventType:I,eventVar1:"Share_embed_open",eventVar2:P.Open,eventVar3:"",applicationFeature:F.SHARE_EMBED}}}),U.SHARE_CLOSE,{type:"SHARE_CLOSE",getEventModel:function(){return{eventType:I,eventVar1:"Share_embed_close",eventVar2:P.Close,eventVar3:"",applicationFeature:F.SHARE_EMBED}}}),U.SHARE_NETWORK,{type:"SHARE_NETWORK",getEventModel:function(e){var t={eventType:I,eventVar2:P.Share,eventVar3:"full"===e.videoClippingOption?"full-length":e.videoClippingOption,applicationFeature:F.SHARE_EMBED},n="";switch(e.socialNetworkName){case"twitter":n="Share_embed_X_click";break;case"facebook":n="Share_embed_facebook_click";break;case"email":n="Share_embed_email_click";break;case"linkedin":n="Share_embed_linkedin_click";break;case"embed":n="Share_embed_embed_click"}return B(B({},t),{},{eventVar1:n})}}),U.SHARE_COPY,{type:"SHARE_COPY",getEventModel:function(e){return{eventType:I,eventVar1:"Share_embed_copy_click",eventVar2:P.Share,eventVar3:"full"===e.videoClippingOption?"full-length":e.videoClippingOption,applicationFeature:F.SHARE_EMBED}}}),U.DOWNLOAD_ITEM_CLICKED,{type:"DOWNLOAD_ITEM_CLICKED",getEventModel:function(e){var t,n,r={eventType:I,eventVar2:P.Download,applicationFeature:F.DOWNLOAD},a=e.assetType,i=e.fileType,o=e.description,s=e.isDefault;switch(a){case"Media":t=s?"Download_video_download":"Download_additional_stream_download",n=o;break;case"Captions":t="Download_captions_download",n=o;break;case"Attachments":t="Download_attachment_download",n=i;break;default:t="",n=""}return B(B({},r),{},{eventVar1:t,eventVar3:n})}}),U.SHOW_OVERLAY,{type:"SHOW_OVERLAY",getEventModel:function(){return{eventType:I,eventVar1:"Download_open",eventVar2:P.Open,eventVar3:"",applicationFeature:F.DOWNLOAD}}}),U.HIDE_OVERLAY,{type:"HIDE_OVERLAY",getEventModel:function(){return{eventType:I,eventVar1:"Download_close",eventVar2:P.Close,eventVar3:"",applicationFeature:F.DOWNLOAD}}}),U.BUMPER_CLICKED,{type:"BUMPER_CLICKED",getEventModel:function(e){return{eventType:I,eventVar1:"Bumper_click",eventVar2:P.Link,eventVar3:e.clickThroughUrl,applicationFeature:F.BUMPER}}}),E(E(E(E(E(E(E(E(E(E(V,U.NAVIGATION_OPEN,{type:"NAVIGATION_OPEN",getEventModel:function(e){return{eventType:e.auto?D:I,eventVar1:e.auto?"Navigation_open_auto":"Navigation_open_manual",eventVar2:L.View,eventVar3:"",applicationFeature:F.NAVIGATION}}}),U.NAVIGATION_CLOSE,{type:"NAVIGATION_CLOSE",getEventModel:function(){return{eventType:I,eventVar1:"Navigation_close",eventVar2:P.Close,eventVar3:"",applicationFeature:F.NAVIGATION}}}),U.NAVIGATION_SEARCH,{type:"NAVIGATION_SEARCH",getEventModel:function(e){var t={eventType:I,applicationFeature:F.NAVIGATION},n="",r=P.Open,a=e.searchQuery,i=e.activeTab,o=e.availableTabs,s=a;switch(i){case"All":var l=a.length>0||0===o.length;n=l?"Navigation_search":"Navigation_all_tab",r=l?P.Search:P.Open;break;case"Chapter":n="Navigation_chapters_tab";break;case"Slide":n="Navigation_slides_tab";break;case"Hotspot":n="Navigation_hotspots_tab"}return B(B({},t),{},{eventVar1:n,eventVar2:r,eventVar3:s})}}),U.NAVIGATION_ITEM_CLICK,{type:"NAVIGATION_ITEM_CLICK",getEventModel:function(e){var t={eventType:I,eventVar2:P.Choose,eventVar3:"",applicationFeature:F.NAVIGATION},n="";switch(e.itemType){case"Chapter":n="Navigation_chapter_click";break;case"Slide":n="Navigation_slide_click";break;case"Hotspot":n="Navigation_hotspots_click"}return B(B({},t),{},{eventVar1:n})}}),U.NAVIGATION_EXPANDABLE_TEXT_CLICK,{type:"NAVIGATION_EXPANDABLE_TEXT_CLICK",getEventModel:function(e){var t={eventType:I,eventVar3:"",applicationFeature:F.NAVIGATION},n=e.isTextExpanded,r=e.itemType,a="",i=n?P.Expand:P.Collapse;switch(r){case"Chapter":a=n?"Navigation_chapters_see_more":"Navigation_chapters_see_less";break;case"Slide":a=n?"Navigation_slides_see_more":"Navigation_slides_see_less";break;case"Hotspot":a=n?"Navigation_hotspots_see_more":"Navigation_hotspots_see_less"}return B(B({},t),{},{eventVar1:a,eventVar2:i})}}),U.TRANSCRIPT_OPEN,{type:"TRANSCRIPT_OPEN",getEventModel:function(e){return{eventType:e.auto?D:I,eventVar1:e.auto?"Transcript_open_auto":"Transcript_open_manual",eventVar2:L.View,eventVar3:"",applicationFeature:F.TRANSCRIPT}}}),U.TRANSCRIPT_CLOSE,{type:"TRANSCRIPT_CLOSE",getEventModel:function(){return{eventType:I,eventVar1:"Transcript_close",eventVar2:P.Close,eventVar3:"",applicationFeature:F.TRANSCRIPT}}}),U.TRANSCRIPT_DOWNLOAD,{type:"TRANSCRIPT_DOWNLOAD",getEventModel:function(e){return{eventType:I,eventVar1:"Transcript_download",eventVar2:P.Download,eventVar3:e.videoPosition,applicationFeature:F.TRANSCRIPT}}}),U.TRANSCRIPT_PRINT,{type:"TRANSCRIPT_PRINT",getEventModel:function(e){return{eventType:I,eventVar1:"Transcript_print",eventVar2:P.Download,eventVar3:e.videoPosition,applicationFeature:F.TRANSCRIPT}}}),U.TRANSCRIPT_SEARCH,{type:"TRANSCRIPT_SEARCH",getEventModel:function(e){return{eventType:I,eventVar1:"Transcript_search",eventVar2:P.Search,eventVar3:e.search,applicationFeature:F.TRANSCRIPT}}}),E(E(E(E(E(E(E(E(E(E(V,U.TRANSCRIPT_NAVIGATE_RESULT,{type:"TRANSCRIPT_NAVIGATE_RESULT",getEventModel:function(e){return{eventType:I,eventVar1:"Transcript_navigate_result",eventVar2:P.Navigate,eventVar3:e.index,applicationFeature:F.TRANSCRIPT}}}),U.TRANSCRIPT_POPOUT_OPEN,{type:"TRANSCRIPT_POPOUT_OPEN",getEventModel:function(){return{eventType:I,eventVar1:"Transcript_popout_open",eventVar2:P.Expand,eventVar3:"",applicationFeature:F.TRANSCRIPT}}}),U.TRANSCRIPT_POPOUT_CLOSE,{type:"TRANSCRIPT_POPOUT_CLOSE",getEventModel:function(e){return{eventType:I,eventVar1:"Transcript_popout_close",eventVar2:P.Collapse,eventVar3:e.type,applicationFeature:F.TRANSCRIPT}}}),U.TRANSCRIPT_POPOUT_DRAG,{type:"TRANSCRIPT_POPOUT_DRAG",getEventModel:function(e){return{eventType:I,eventVar1:"Transcript_popout_drag",eventVar2:P.Edit,eventVar3:"".concat(e.position.x,",").concat(e.position.y),applicationFeature:F.TRANSCRIPT}}}),U.TRANSCRIPT_POPOUT_RESIZE,{type:"TRANSCRIPT_POPOUT_RESIZE",getEventModel:function(e){return{eventType:I,eventVar1:"Transcript_popout_resize",eventVar2:P.Edit,eventVar3:"".concat(e.size.x,",").concat(e.size.y),applicationFeature:F.TRANSCRIPT}}}),U.PLAYLIST_OPEN,{type:"PLAYLIST_OPEN",getEventModel:function(e){return{eventType:e.auto?D:I,eventVar1:e.auto?"Playlist_side_panel_open_auto":"Playlist_side_panel_open_manual",eventVar2:L.View,eventVar3:e.position,applicationFeature:F.PLAYLIST}}}),U.PLAYLIST_CLOSE,{type:"PLAYLIST_CLOSE",getEventModel:function(e){return{eventType:I,eventVar1:"Playlist_side_panel_close_manual",eventVar2:P.Close,eventVar3:e.position,applicationFeature:F.PLAYLIST}}}),U.SKIP_BUTTON_CLICK,{type:"SKIP_BUTTON_CLICK",getEventModel:function(e){var t={eventType:I,eventVar2:P.Navigate,eventVar3:"",applicationFeature:F.SKIP},n=e.mode,r="";return"intro"===n&&(r="Skip_intro_click"),"outro"===n&&(r="Skip_outro_click"),B(B({},t),{},{eventVar1:r})}}),U.SKIP_BUTTON_DISPLAYED,{type:"SKIP_BUTTON_DISPLAYED",getEventModel:function(e){var t={eventType:D,eventVar2:L.View,eventVar3:"",applicationFeature:F.SKIP},n=e.mode,r="";return"intro"===n&&(r="Skip_intro_displayed"),"outro"===n&&(r="Skip_outro_displayed"),B(B({},t),{},{eventVar1:r})}}),U.RELATED_OPEN,{type:"RELATED_OPEN",getEventModel:function(e){return{eventType:I,eventVar1:"Related_open_manual",eventVar2:P.Open,eventVar3:e.expandMode,applicationFeature:F.RELATED}}}),E(E(E(E(E(E(E(E(E(E(V,U.RELATED_CLOSE,{type:"RELATED_CLOSE",getEventModel:function(){return{eventType:I,eventVar1:"Related_close",eventVar2:P.Close,eventVar3:"",applicationFeature:F.RELATED}}}),U.RELATED_ENTRY_SELECTED,{type:"RELATED_ENTRY_SELECTED",getEventModel:function(){return{eventType:I,eventVar1:"Related_entry_click",eventVar2:P.Navigate,eventVar3:"",applicationFeature:F.RELATED}}}),U.RELATED_ENTRY_AUTO_PLAYED,{type:"RELATED_ENTRY_AUTO_PLAYED",getEventModel:function(){return{eventType:D,eventVar1:"Related_entry_auto_continue",eventVar2:L.View,eventVar3:"",applicationFeature:F.RELATED}}}),U.RELATED_GRID_DISPLAYED,{type:"RELATED_GRID_DISPLAYED",getEventModel:function(){return{eventType:D,eventVar1:"Related_open_auto",eventVar2:L.View,eventVar3:"",applicationFeature:F.RELATED}}}),U.CALL_TO_ACTION_BUTTON_CLICK,{type:"CALL_TO_ACTION_BUTTON_CLICK",getEventModel:function(e){return{eventType:I,eventVar3:e.label,eventVar2:P.Link,eventVar1:"primary"===e.type?"CTA_primary_button_click":"CTA_secondary_button_click",applicationFeature:F.CALL_TO_ACTION}}}),U.CALL_TO_ACTION_DISPLAYED,{type:"CALL_TO_ACTION_DISPLAYED",getEventModel:function(e){return{eventType:D,eventVar1:"CTA_displayed",eventVar2:L.View,eventVar3:e.displayType,eventVar4:e.isMetadataBased?"metadata_based":"player_level",applicationFeature:F.CALL_TO_ACTION}}}),U.HOTSPOT_DISPLAYED,{type:"HOTSPOT_DISPLAYED",getEventModel:function(e){return{eventType:D,eventVar1:"Hotspot_displayed",eventVar2:L.View,eventVar3:e.label,applicationFeature:F.HOTSPOPT}}}),U.HOTSPOT_CLICK,{type:"HOTSPOT_CLICK",getEventModel:function(e){return{eventType:I,eventVar1:"Hotspot_click",eventVar2:P.Link,eventVar3:e.label,applicationFeature:F.HOTSPOPT}}}),U.QUIZ_STARTED,{type:"QUIZ_STARTED",getEventModel:function(){return{eventType:I,eventVar1:"Quiz_start",eventVar2:P.Load,eventVar3:"",applicationFeature:F.QUIZ}}}),U.QUIZ_SUBMITTED,{type:"QUIZ_SUBMITTED",getEventModel:function(){return{eventType:I,eventVar1:"Quiz_submit",eventVar2:P.Send,eventVar3:"",applicationFeature:F.QUIZ}}}),E(E(E(E(E(E(E(E(E(E(V,U.QUIZ_SKIPPED,{type:"QUIZ_SKIPPED",getEventModel:function(e){var t=e.questionIndex;return{eventType:I,eventVar1:"Quiz_skip_question",eventVar2:P.Navigate,eventVar3:t,applicationFeature:F.QUIZ}}}),U.QUIZ_SEEK,{type:"QUIZ_SEEK",getEventModel:function(){return{eventType:I,eventVar1:"Quiz_nav_click",eventVar2:P.Navigate,eventVar3:"",applicationFeature:F.QUIZ}}}),U.EAD_ON,{type:"EAD_ON",getEventModel:function(e){return{eventType:I,eventVar1:"EAD_on",eventVar2:P.Toggle,eventVar3:null==e?void 0:e.language,eventVar4:null!=e&&e.settings?"settings":"toggle",applicationFeature:F.EAD}}}),U.EAD_OFF,{type:"EAD_OFF",getEventModel:function(e){return{eventType:I,eventVar1:"EAD_off",eventVar2:P.Toggle,eventVar3:null==e?void 0:e.language,eventVar4:null!=e&&e.settings?"settings":"toggle",applicationFeature:F.EAD}}}),U.EAD_SKIP,{type:"EAD_SKIP",getEventModel:function(e){var t=e.trigger;return{eventType:I,eventVar1:"EAD_skip",eventVar2:P.Navigate,eventVar3:t,applicationFeature:F.EAD}}}),U.EAD_REPLAY,{type:"EAD_REPLAY",getEventModel:function(e){var t=e.trigger;return{eventType:I,eventVar1:"EAD_replay",eventVar2:P.Navigate,eventVar3:t,applicationFeature:F.EAD}}}),U.EAD_PAUSE,{type:"EAD_PAUSE",getEventModel:function(e){var t=e.trigger;return{eventType:I,eventVar1:"EAD_pause",eventVar2:P.Navigate,eventVar3:t,applicationFeature:F.EAD}}}),U.EAD_RESUME,{type:"EAD_PAUSE",getEventModel:function(e){var t=e.trigger;return{eventType:I,eventVar1:"EAD_resume",eventVar2:P.Navigate,eventVar3:t,applicationFeature:F.EAD}}}),U.EAD_PLAY,{type:"EAD_PLAY",getEventModel:function(){return{eventType:I,eventVar1:"EAD_play",eventVar2:P.Toggle,eventVar3:"",applicationFeature:F.EAD}}}),U.EAD_SCROLL,{type:"EAD_SCROLL",getEventModel:function(){return{eventType:I,eventVar1:"EAD_scroll",eventVar2:P.Browse,eventVar3:"",applicationFeature:F.EAD}}}),E(E(E(E(E(E(E(E(E(E(V,b.USER_CLICKED_LOGO,{type:"USER_CLICKED_LOGO",getEventModel:function(e){return{eventType:I,eventVar1:"Logo_click",eventVar2:P.Link,eventVar3:e.logoUrl,applicationFeature:F.UI}}}),b.USER_SELECTED_CAPTIONS_SIZE,{type:"USER_SELECTED_CAPTIONS_SIZE",getEventModel:function(e){return{eventType:I,eventVar1:"Advanced_captions_size",eventVar2:P.Choose,eventVar3:e,applicationFeature:F.ADVANCED_CAPTIONS}}}),b.USER_SELECTED_CAPTIONS_ALIGNMENT,{type:"USER_SELECTED_CAPTIONS_ALIGNMENT",getEventModel:function(e){return{eventType:I,eventVar1:"Advanced_captions_font_alignment",eventVar2:P.Choose,eventVar3:e,applicationFeature:F.ADVANCED_CAPTIONS}}}),b.USER_SELECTED_CAPTIONS_FONT_COLOR,{type:"USER_SELECTED_CAPTIONS_FONT_COLOR",getEventModel:function(e){return{eventType:I,eventVar1:"Advanced_captions_font_color",eventVar2:P.Choose,eventVar3:e,applicationFeature:F.ADVANCED_CAPTIONS}}}),b.USER_SELECTED_CAPTIONS_FONT_FAMILY,{type:"USER_SELECTED_CAPTIONS_FONT_FAMILY",getEventModel:function(e){return{eventType:I,eventVar1:"Advanced_captions_font_family",eventVar2:P.Choose,eventVar3:e,applicationFeature:F.ADVANCED_CAPTIONS}}}),b.USER_SELECTED_CAPTIONS_FONT_STYLE,{type:"USER_SELECTED_CAPTIONS_FONT_STYLE",getEventModel:function(e){return{eventType:I,eventVar1:"Advanced_captions_font_style",eventVar2:P.Choose,eventVar3:e,applicationFeature:F.ADVANCED_CAPTIONS}}}),b.USER_SELECTED_CAPTIONS_FONT_OPACITY,{type:"USER_SELECTED_CAPTIONS_FONT_OPACITY",getEventModel:function(e){return{eventType:I,eventVar1:"Advanced_captions_font_opacity",eventVar2:P.Choose,eventVar3:"".concat(100*e,"%"),applicationFeature:F.ADVANCED_CAPTIONS}}}),b.USER_SELECTED_CAPTIONS_BACKGROUND_COLOR,{type:"USER_SELECTED_CAPTIONS_BACKGROUND_COLOR",getEventModel:function(e){return{eventType:I,eventVar1:"Advanced_captions_background_color",eventVar2:P.Choose,eventVar3:e,applicationFeature:F.ADVANCED_CAPTIONS}}}),b.USER_SELECTED_CAPTIONS_BACKGROUND_OPACITY,{type:"USER_SELECTED_CAPTIONS_BACKGROUND_OPACITY",getEventModel:function(e){return{eventType:I,eventVar1:"Advanced_captions_background_opacity",eventVar2:P.Choose,eventVar3:"".concat(100*e,"%"),applicationFeature:F.ADVANCED_CAPTIONS}}}),b.USER_SHOWED_CAPTIONS,{type:"USER_SHOWED_CAPTIONS",getEventModel:function(e){return{eventType:I,eventVar1:"Captions_on",eventVar2:P.Toggle,eventVar3:null==e?void 0:e.language,applicationFeature:F.CAPTIONS}}}),E(E(E(E(E(E(E(E(E(E(V,b.USER_HID_CAPTIONS,{type:"USER_HID_CAPTIONS",getEventModel:function(e){return{eventType:I,eventVar1:"Captions_off",eventVar2:P.Toggle,eventVar3:null==e?void 0:e.language,applicationFeature:F.CAPTIONS}}}),b.USER_SELECTED_CAPTION_TRACK,{type:"USER_SELECTED_CAPTION_TRACK",getEventModel:function(e){var t=e.captionTrack,n=e.autoSelected;return{eventType:I,eventVar1:"Captions_language_selected",eventVar2:P.Choose,eventVar3:null==t?void 0:t.language,eventVar4:n?"Auto display":"Manual selection",applicationFeature:F.CAPTIONS}}}),b.USER_SELECTED_AUDIO_TRACK,{type:"USER_SELECTED_AUDIO_TRACK",getEventModel:function(e){var t,n=e.audioTrack;return{eventType:I,eventVar1:"audioSelected",eventVar2:P.Choose,eventVar3:null==n?void 0:n.language,eventVar4:null!=n&&null!==(t=n.language)&&void 0!==t&&t.startsWith("ad-")?"AD":"non_AD",applicationFeature:F.AUDION_TRACKS}}}),U.DETECT_AD_BLOCK_FULL_OVERLAY_SHOWN,{type:"DETECT_AD_BLOCK_FULL_OVERLAY_SHOWN",getEventModel:function(){return{eventType:D,eventVar2:L.View,eventVar1:"Ad_blocker_displayed",eventVar3:"Allow_playback",applicationFeature:F.DETECT_AD_BLOCK}}}),U.DETECT_AD_BLOCK_PARTIAL_OVERLAY_SHOWN,{type:"DETECT_AD_BLOCK_PARTIAL_OVERLAY_SHOWN",getEventModel:function(){return{eventType:D,eventVar2:L.View,eventVar1:"Ad_blocker_displayed",eventVar3:"Block_playback",applicationFeature:F.DETECT_AD_BLOCK}}}),U.DETECT_AD_BLOCK_SECONDARY_BUTTON_CLICKED,{type:"DETECT_AD_BLOCK_SECONDARY_BUTTON_CLICKED",getEventModel:function(){return{eventType:I,eventVar2:P.Close,eventVar1:"Ad_blocker_keep_watching",eventVar3:"secondary_button",applicationFeature:F.DETECT_AD_BLOCK}}}),U.DETECT_AD_BLOCK_X_BUTTON_CLICKED,{type:"DETECT_AD_BLOCK_X_BUTTON_CLICKED",getEventModel:function(){return{eventType:I,eventVar2:P.Close,eventVar1:"Ad_blocker_keep_watching",eventVar3:"x_button",applicationFeature:F.DETECT_AD_BLOCK}}}),U.DETECT_AD_BLOCK_AD_BLOCKER_DISABLED,{type:"DETECT_AD_BLOCK_AD_BLOCKER_DISABLED",getEventModel:function(){return{eventType:I,eventVar2:P.Close,eventVar1:"Ad_blocker_disabled_ad_blocker",eventVar3:"disabled",applicationFeature:F.DETECT_AD_BLOCK}}}),U.DETECT_AD_BLOCK_AD_BLOCKER_NOT_DISABLED,{type:"DETECT_AD_BLOCK_AD_BLOCKER_NOT_DISABLED",getEventModel:function(){return{eventType:I,eventVar2:P.Close,eventVar1:"Ad_blocker_disabled_ad_blocker",eventVar3:"still_detected",applicationFeature:F.DETECT_AD_BLOCK}}}),U.REELS_PLAY,{type:"REELS_PLAY",getEventModel:function(e){var t=e.duration,n=e.isResume;return{eventType:I,eventVar2:P.Choose,eventVar1:"reels_play_click",eventVar3:n?"resume":"manual_play",eventVar4:t,applicationFeature:F.REELS}}}),E(E(E(E(E(E(E(E(E(E(V,U.REELS_PAUSE,{type:"REELS_PAUSE",getEventModel:function(e){var t=e.duration;return{eventType:I,eventVar2:P.Choose,eventVar1:"reels_pause",eventVar4:t,applicationFeature:F.REELS}}}),U.REELS_MUTE,{type:"REELS_MUTE",getEventModel:function(e){var t=e.duration;return{eventType:I,eventVar2:P.Choose,eventVar1:"reels_mute",eventVar4:t,applicationFeature:F.REELS}}}),U.REELS_UNMUTE,{type:"REELS_UNMUTE",getEventModel:function(e){var t=e.duration;return{eventType:I,eventVar2:P.Choose,eventVar1:"reels_unmute",eventVar4:t,applicationFeature:F.REELS}}}),U.REELS_SEEK,{type:"REELS_SEEK",getEventModel:function(e){var t=e.duration,n=e.from,r=e.to;return{eventType:I,eventVar2:P.Navigate,eventVar1:"reels_seek",eventVar3:r>n?"forward":"backward",eventVar4:t,applicationFeature:F.REELS}}}),U.REELS_POSTER_CLICKED,{type:"REELS_POSTER_CLICKED",getEventModel:function(e){var t=e.duration;return{eventType:I,eventVar2:P.Choose,eventVar1:"reels_navigate_to_entry",eventVar4:t,applicationFeature:F.REELS}}}),U.REELS_ENTRY_LOADED,{type:"REELS_ENTRY_LOADED",getEventModel:function(e){var t=e.muted,n=e.playlistId;return{eventType:D,eventVar2:L.View,eventVar1:"reels_entry_start_playback",eventVar3:t?"muted":"unmuted",eventVar4:n,applicationFeature:F.REELS}}}),U.REELS_PLAYLIST_LOADED,{type:"REELS_PLAYLIST_LOADED",getEventModel:function(e){var t=e.muted,n=e.autoplay,r=e.playlistId;return{eventType:D,eventVar2:L.View,eventVar1:"reels_playlist_load",eventVar3:"".concat(t?"muted":"unmuted"," ; ").concat(n?"autoplay_on":"autoplay_off"),eventVar4:r,applicationFeature:F.REELS}}}),U.SUMMARY_CHAPTERS_OPEN,{type:"SUMMARY_CHAPTERS_OPEN",getEventModel:function(e){var t=e.buttonName;return{eventType:I,eventVar2:P.Toggle,eventVar1:"summary_chapters_open_plugin",eventVar3:t,eventVar4:"",applicationFeature:F.SUMMARY_CHAPTERS}}}),U.SUMMARY_CHAPTERS_CLOSE,{type:"SUMMARY_CHAPTERS_CLOSE",getEventModel:function(e){var t=e.buttonName;return{eventType:I,eventVar2:P.Toggle,eventVar1:"summary_chapters_close_plugin",eventVar3:t,eventVar4:"",applicationFeature:F.SUMMARY_CHAPTERS}}}),U.SUMMARY_CHAPTERS_READ_CHAPTERS,{type:"SUMMARY_CHAPTERS_READ_CHAPTERS",getEventModel:function(){return{eventType:I,eventVar2:P.Choose,eventVar1:"summary_chapters_read_as_chapters",eventVar3:"",eventVar4:"",applicationFeature:F.SUMMARY_CHAPTERS}}}),E(E(E(E(E(E(E(V,U.SUMMARY_CHAPTERS_READ_OVERVIEW,{type:"SUMMARY_CHAPTERS_READ_OVERVIEW",getEventModel:function(){return{eventType:I,eventVar2:P.Choose,eventVar1:"summary_chapters_read_as_overview",eventVar3:"",eventVar4:"",applicationFeature:F.SUMMARY_CHAPTERS}}}),U.SUMMARY_CHAPTERS_COPY_TO_CLIPBOARD,{type:"SUMMARY_CHAPTERS_COPY_TO_CLIPBOARD",getEventModel:function(){return{eventType:I,eventVar2:P.Choose,eventVar1:"summary_chapters_copy_to_clipboard",eventVar3:"",eventVar4:"",applicationFeature:F.SUMMARY_CHAPTERS}}}),U.SUMMARY_CHAPTERS_CHAPTER_EXPAND,{type:"SUMMARY_CHAPTERS_CHAPTER_EXPAND",getEventModel:function(e){var t=e.chapterNumber,n=e.buttonName;return{eventType:I,eventVar2:P.Expand,eventVar1:"summary_chapters_expand_chapter",eventVar3:n,eventVar4:t+1,applicationFeature:F.SUMMARY_CHAPTERS}}}),U.SUMMARY_CHAPTERS_CHAPTER_COLLAPSE,{type:"SUMMARY_CHAPTERS_CHAPTER_COLLAPSE",getEventModel:function(e){var t=e.chapterNumber,n=e.buttonName;return{eventType:I,eventVar2:P.Collapse,eventVar1:"summary_chapters_collapse_chapter",eventVar3:n,eventVar4:t+1,applicationFeature:F.SUMMARY_CHAPTERS}}}),U.SUMMARY_CHAPTERS_CHAPTER_SEEK,{type:"SUMMARY_CHAPTERS_CHAPTER_SEEK",getEventModel:function(e){var t=e.chapterNumber,n=e.buttonName;return{eventType:I,eventVar2:P.Navigate,eventVar1:"summary_chapters_seek_to_chapter",eventVar3:n,eventVar4:t+1,applicationFeature:F.SUMMARY_CHAPTERS}}}),b.USER_COPIED_DEBUG_INFO,{type:"USER_COPIED_DEBUG_INFO",getEventModel:function(){return{eventType:I,eventVar2:P.Choose,eventVar1:"copy_debug_info",eventVar3:"",applicationFeature:F.DEBUG_INFO}}}),U.AUDIO_PLAYER_VISUALIZATION_STATE,{type:"AUDIO_PLAYER_VISUALIZATION_STATE",getEventModel:function(e){return{eventType:D,eventVar2:L.Analytics,eventVar1:"audio_player_visualization_state",eventVar3:e.state,eventVar4:e.size,applicationFeature:F.AUDIO_PLAYER}}})),x=function(){function e(t){i(this,e),E(this,"totalSegmentsDownloadTime",0),E(this,"totalSegmentsDownloadBytes",0),E(this,"maxSegmentDownloadTime",0),E(this,"maxManifestDownloadTime",0),E(this,"droppedFramesRatio",null),E(this,"screenMode",Q.NOT_IN_FULLSCREEN),E(this,"maxNetworkConnectionOverhead",0),E(this,"flavorParamsId",NaN),E(this,"playerJSLoadTime",null),E(this,"shareNetworkName",""),E(this,"reportType",NaN),E(this,"playbackMode",NaN),E(this,"sourceEntryId",null),t&&this.updateModel(t)}return l(e,[{key:"getPlayTimeSum",value:function(){return this.playTimeSum}},{key:"getCanPlayTime",value:function(){return this.canPlayTime}},{key:"getBufferTime",value:function(){return this.bufferTime}},{key:"getBufferTimeSum",value:function(){return this.bufferTimeSum}},{key:"getPlayerJSLoadTime",value:function(){return this.playerJSLoadTime?Math.round(1e3*this.playerJSLoadTime)/1e3:null}},{key:"getJoinTime",value:function(){return this.joinTime}},{key:"getTargetPosition",value:function(){return this.targetPosition}},{key:"getTargetBuffer",value:function(){return this.targetBuffer}},{key:"getRegisteredPlugins",value:function(){return this.registeredPlugins}},{key:"getLanguage",value:function(){return this.language}},{key:"getCaption",value:function(){return this.caption}},{key:"getBandwidth",value:function(){return this.totalSegmentsDownloadTime>0?Math.round(8*this.totalSegmentsDownloadBytes/this.totalSegmentsDownloadTime)/1e3:0}},{key:"getMaxManifestDownloadTime",value:function(){return this.maxManifestDownloadTime}},{key:"getSegmentDownloadTime",value:function(){return this.maxSegmentDownloadTime}},{key:"getForwardBufferHealth",value:function(){return this.forwardBufferHealth}},{key:"getDroppedFramesRatio",value:function(){return this.droppedFramesRatio}},{key:"getSoundMode",value:function(){return this.soundMode}},{key:"getViewabilityMode",value:function(){return this.viewabilityMode}},{key:"getScreenMode",value:function(){return this.screenMode}},{key:"getTabMode",value:function(){return this.tabMode}},{key:"getNetworkConnectionType",value:function(){return this.networkConnectionType}},{key:"getNetworkConnectionOverhead",value:function(){return Math.round(this.maxNetworkConnectionOverhead)/1e3}},{key:"getErrorCode",value:function(){return this.errorCode}},{key:"getFlavorParamsId",value:function(){return this.flavorParamsId}},{key:"getErrorDetails",value:function(){var e="";if(this.errorDetails)try{e=JSON.stringify(this.errorDetails)}catch(e){}return e}},{key:"getEventIndex",value:function(){return this.eventIndex}},{key:"getErrorPosition",value:function(){return this.errorPosition}},{key:"getSessionStartTime",value:function(){return this.sessionStartTime}},{key:"getShareNetworkName",value:function(){return this.shareNetworkName}},{key:"getReportType",value:function(){return this.reportType}},{key:"getPlaybackMode",value:function(){return this.playbackMode}},{key:"getSourceEntryId",value:function(){return this.sourceEntryId}},{key:"updateModel",value:function(e){Object.assign(this,e)}},{key:"getModel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.PlayerEvents,n=arguments.length>2?arguments[2]:void 0;switch(t){case O.PlayerEvents:return function(e,t){var n={eventType:e.index,partnerId:t.getPartnerId(),entryId:t.getEntryId(),sessionId:t.getSessionId(),eventIndex:t.getEventIndex(),referrer:t.getReferrer(),deliveryType:t.getDeliveryType(),playbackType:t.getPlaybackType(),clientVer:t.getClientVer(),clientTag:t.getClientTag(),position:t.getPosition(),playbackSpeed:t.getPlaybackSpeed(),playerSkin:t.getPlayerSkin()};t.getCaption()&&(n.caption=t.getCaption()),t.getSessionStartTime()&&(n.sessionStartTime=t.getSessionStartTime()),t.getKS()&&(n.ks=t.getKS()),t.getVirtualEventId()&&(n.virtualEventId=t.getVirtualEventId()),t.getUIConfId()&&(n.uiConfId=t.getUIConfId()),t.getPlaylistId()&&(n.playlistId=t.getPlaylistId()),t.getCustomVar1()&&(n.customVar1=t.getCustomVar1()),t.getCustomVar2()&&(n.customVar2=t.getCustomVar2()),t.getCustomVar3()&&(n.customVar3=t.getCustomVar3()),t.getPlaybackContext()&&(n.playbackContext=t.getPlaybackContext()),t.getApplication()&&(n.application=t.getApplication()),t.getKalturaApplicationVersion()&&(n.kalturaApplicationVer=t.getKalturaApplicationVersion()),t.getKalturaApplication()&&(n.kalturaApplication=t.getKalturaApplication()),t.getUserId()&&(n.userId=t.getUserId()),t.getPersistentSessionId()&&(n.persistentSessionId=t.getPersistentSessionId()),t.getHostingKalturaApplication()&&(n.hostingKalturaApplication=t.getHostingKalturaApplication()),t.getHostingKalturaApplicationVersion()&&(n.hostingKalturaApplicationVersion=t.getHostingKalturaApplicationVersion());var r=e.getEventModel(t);return Object.assign(r,n)}(e,this);case O.ApplicationEvents:return K(e,this,n)}}}]),e}(),j=function(e){return e[e.SOUND_OFF=1]="SOUND_OFF",e[e.SOUND_ON=2]="SOUND_ON",e}(j||{}),G=function(e){return e[e.NOT_IN_VIEW=1]="NOT_IN_VIEW",e[e.IN_VIEW=2]="IN_VIEW",e}(G||{}),W=function(e){return e[e.TAB_NOT_FOCUSED=1]="TAB_NOT_FOCUSED",e[e.TAB_FOCUSED=2]="TAB_FOCUSED",e}(W||{}),Q=function(e){return e[e.NOT_IN_FULLSCREEN=1]="NOT_IN_FULLSCREEN",e[e.FULLSCREEN=2]="FULLSCREEN",e}(Q||{}),Z=function(e){return e[e.PRE_PLAY=3]="PRE_PLAY",e[e.PRE_PLAYING=1]="PRE_PLAYING",e[e.MID_STREAM=2]="MID_STREAM",e}(Z||{}),q={GET:"GET",POST:"POST"},X=function(e){return e.REELS="reels",e.AUDIO="audio",e.VIDEO="video",e}({}),z=function(e){return e[e.PLAYER=1]="PLAYER",e[e.AUDIO=2]="AUDIO",e[e.REELS=3]="REELS",e}({}),J=function(){function t(e,n){i(this,t),this.logger=e,this.numOfLoggedFailedEvents=n||100}return l(t,[{key:"logFailedLiveAnalyticsEventsToLocalStorage",value:function(t,n){var r=n.eventType||"unknown",a=n.entryId||"unknown",i=n.sessionId||"unknown",o=n.partnerId||"unknown",s=n.position||0,l=n.errorDetails||null,u=this.numOfLoggedFailedEvents,c="".concat("FailedLiveEvent_","-").concat(a),_={error:t,model:{eventType:r,entryId:a,sessionId:i,partnerId:o,position:s,errorDetails:l}},d=this.getFailedCounterKey(a);try{var p=e.LocalStorageManager.getItem(d)||0;e.LocalStorageManager.setItem(d,p+1),this.appendNewFailedLiveEventToLocalStorage(_,c,u)}catch(e){this.logger.warn("Failed to store failed event in localStorage:",e)}}},{key:"appendNewFailedLiveEventToLocalStorage",value:function(t,n,r){var a=e.LocalStorageManager.getItem(n)||[];a.push({date:new Date,data:t}),a.length>r&&(a=a.slice(a.length-r)),e.LocalStorageManager.setItem(n,JSON.stringify(a))}},{key:"getFailedCounterKey",value:function(e){return"".concat("FailedLiveEventCounter_","-").concat(e)}},{key:"getNumFailedAnalyticReports",value:function(t){return parseInt(e.LocalStorageManager.getItem(this.getFailedCounterKey(t))||0)}}]),t}();function $(e,t,n){return t=_(t),c(e,ee()?Reflect.construct(t,n||[],_(e).constructor):t.apply(e,n))}function ee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ee=function(){return!!e})()}var te=e.core.Error,ne=e.core.Utils,re=1024,ae=function(e){function n(e,t,r){var a;if(i(this,n),E(u(a=$(this,n,[e,t,r])),"_lastDroppedFrames",0),E(u(a),"_lastTotalFrames",0),E(u(a),"_performanceEntries",[]),E(u(a),"_pendingFragLoadedUrls",[]),E(u(a),"_fragLoadedFiredOnce",!1),E(u(a),"_canPlayOccured",!1),E(u(a),"_isManualPreload",!1),E(u(a),"_lastViewEventPlayTime",-1),a._logFailedLiveEvents=new J(a.logger,r.numOfLoggedFailedEvents),a._rateHandler=new g,a._model=new x,a._setModelDelegates(),a._timer=new R({resetCounter:a.config.resetSessionCountdown,eventCounter:a.config.viewEventCountdown}),a._viewEventEnabled=!0,a._resetFlags(),a._addBindings(),a._model.updateModel({eventIndex:1,bufferTime:0,bufferTimeSum:0,playTimeSum:0}),performance&&a.config.uiConfId){var o=performance.getEntriesByType("resource").find((function(e){return e.name.match("embedPlaykitJs.*"+a.config.uiConfId)}));o&&a._model.updateModel({playerJSLoadTime:o.duration})}return a}return p(n,e),l(n,[{key:"_updateSoundModeInModel",value:function(){this._model.updateModel({soundMode:this.player.muted||0===this.player.volume?j.SOUND_OFF:j.SOUND_ON})}},{key:"_updateViewabilityModeInModel",value:function(e){this._model.updateModel({viewabilityMode:e||this.player.isInPictureInPicture()?G.IN_VIEW:G.NOT_IN_VIEW})}},{key:"_handleNewPerformanceEntries",value:function(e){for(var t=e.getEntries(),n=0;n<t.length;n++)this._performanceEntries.push(t[n]);for(;this._pendingFragLoadedUrls.length;)this._handleFragPerformanceObserver(this._pendingFragLoadedUrls.pop())}},{key:"destroy",value:function(){this.eventManager.destroy(),this._reset()}},{key:"_reset",value:function(){this._timer.destroy(),this._rateHandler.destroy(),this._performanceObserver&&this._performanceObserver.disconnect(),this._performanceEntries=[],this._pendingFragLoadedUrls=[]}},{key:"reset",value:function(){this.eventManager.removeAll(),this._resetFlags(),this._addBindings(),this._model.updateModel({eventIndex:1,bufferTime:0,bufferTimeSum:0,playTimeSum:0,sessionStartTime:null}),this._reset()}},{key:"loadMedia",value:function(){window.PerformanceObserver&&(this._performanceObserver=new window.PerformanceObserver(this._handleNewPerformanceEntries.bind(this)),this._performanceObserver.observe({entryTypes:["resource"]}))}},{key:"getEventModel",value:function(e){if(e)return this._model.getModel(T[e])}},{key:"EventType",get:function(){return ne.Object.copyDeep(f)}},{key:"sendAnalytics",value:function(e){var t=this;return new Promise((function(n,r){y.OVPAnalyticsService.trackEvent(t.config.serviceUrl,e,t.config.requestMethod).doHttpRequest().then((function(r){t._handleServerResponseSuccess(r,e),n()}),(function(n){t._handleServerResponseFailed(n,e),r(n)})),t._model.updateModel({eventIndex:t._model.getEventIndex()+1})}))}},{key:"_resetFlags",value:function(){this._previousCurrentTime=0,this._lastViewEventPlayTime=-1,this._isPlaying=!1,this._isFirstPlay=!0,this._isFirstPlaying=!0,this._isEnded=!1,this._isPaused=!1,this._isBuffering=!1,this._timePercentEvent={PLAY_REACHED_25_PERCENT:!1,PLAY_REACHED_50_PERCENT:!1,PLAY_REACHED_75_PERCENT:!1,PLAY_REACHED_100_PERCENT:!1},this._canPlayOccured=!1,this._isManualPreload=!1}},{key:"_resetSession",value:function(){this.logger.debug("Reset KAVA session"),this._rateHandler.reset(),this._model.updateModel({eventIndex:1,bufferTimeSum:0,playTimeSum:0})}},{key:"_sendAnalytics",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.PlayerEvents,n=arguments.length>2?arguments[2]:void 0;if(this._validate()){this._isBuffering&&(this._updateBufferModel(),this._bufferStartTime=Date.now());var r=this._model.getModel(e,t,n);if("function"==typeof this.config.tamperAnalyticsHandler&&!this.config.tamperAnalyticsHandler(r))return void this.logger.debug("Cancel KAVA request",r);this.logger.debug("Sending KAVA event ".concat(r.eventType,":").concat(e.type)),this.sendAnalytics(r).catch((function(){}))}}},{key:"shouldLogLiveAnalyticsFailures",value:function(){var e,t;return(null===(e=this.config)||void 0===e?void 0:e.logLiveAnalyticsFailures)&&(null===(t=this.player)||void 0===t?void 0:t.isLive())}},{key:"_handleServerResponseSuccess",value:function(e,t){this.logger.debug("KAVA event sent",t),this._updateSessionStartTimeModel(e)}},{key:"_handleServerResponseFailed",value:function(e,t){this.shouldLogLiveAnalyticsFailures()&&this._logFailedLiveEvents.logFailedLiveAnalyticsEventsToLocalStorage(e,t),this.logger.warn("Failed to send KAVA event",t,e)}},{key:"_addBindings",value:function(){var e=this;this.eventManager.listen(this._timer,R.Event.TICK,(function(){return e._rateHandler.countCurrent()})),this.eventManager.listen(this._timer,R.Event.REPORT,(function(){return e._onReport()})),this.eventManager.listen(this._timer,R.Event.RESET,(function(){return e._resetSession()})),this.eventManager.listen(this.player,this.player.Event.Core.SOURCE_SELECTED,(function(){return e._onSourceSelected()})),this.eventManager.listen(this.player,this.player.Event.Core.ERROR,(function(t){return e._onError(t)})),this.eventManager.listen(this.player,this.player.Event.Core.FIRST_PLAY,(function(){return e._onFirstPlay()})),this.eventManager.listen(this.player,this.player.Event.Core.FRAG_LOADED,(function(t){return e._onFragLoaded(t)})),this.eventManager.listen(this.player,this.player.Event.Core.MANIFEST_LOADED,(function(t){return e._onManifestLoaded(t)})),this.eventManager.listen(this.player,this.player.Event.Core.TIMED_METADATA,(function(t){return e._onTimedMetadataLoaded(t)})),this.eventManager.listen(this.player,this.player.Event.Core.TRACKS_CHANGED,(function(){return e._setInitialTracks()})),this.eventManager.listen(this.player,this.player.Event.Core.PLAYING,(function(){return e._onPlaying()})),this.eventManager.listen(this.player,this.player.Event.Core.FIRST_PLAYING,(function(){return e._onFirstPlaying()})),this.eventManager.listen(this.player,this.player.Event.Core.SEEKING,(function(){return e._onSeeking()})),this.eventManager.listen(this.player,this.player.Event.Core.PAUSE,(function(){return e._onPause()})),this.eventManager.listen(this.player,this.player.Event.Core.ENDED,(function(){return e._onEnded()})),this.eventManager.listen(this.player,this.player.Event.Core.VIDEO_TRACK_CHANGED,(function(t){return e._onVideoTrackChanged(t)})),this.eventManager.listen(this.player,this.player.Event.Core.AUDIO_TRACK_CHANGED,(function(t){return e._onAudioTrackChanged(t)})),this.eventManager.listen(this.player,this.player.Event.Core.TEXT_TRACK_CHANGED,(function(t){return e._onTextTrackChanged(t)})),this.eventManager.listen(this.player,this.player.Event.Core.PLAYER_STATE_CHANGED,(function(t){return e._onPlayerStateChanged(t)})),this.eventManager.listen(this.player,this.player.Event.Core.RATE_CHANGE,(function(){return e._onPlaybackRateChanged()})),this.eventManager.listen(this.player,this.player.Event.Core.CAN_PLAY,(function(){return e._onCanPlay()})),this.eventManager.listen(this.player,this.player.Event.Core.LOAD_START,(function(){return e._onLoadStart()})),this.eventManager.listen(this.player,this.player.Event.Core.VOLUME_CHANGE,(function(){return e._updateSoundModeInModel()})),this.eventManager.listen(this.player,this.player.Event.VISIBILITY_CHANGE,(function(t){return e._updateViewabilityModeInModel(t.payload.visible)})),this.eventManager.listen(this.player,this.player.Event.Core.MUTE_CHANGE,(function(){return e._updateSoundModeInModel()})),this.eventManager.listen(this.player,this.player.Event.Core.ENTER_FULLSCREEN,(function(){return e._onFullScreenChanged(Q.FULLSCREEN)})),this.eventManager.listen(this.player,this.player.Event.Core.EXIT_FULLSCREEN,(function(){return e._onFullScreenChanged(Q.NOT_IN_FULLSCREEN)})),this.eventManager.listen(this.player,"related_open",(function(){return e._onRelatedClicked()})),this.eventManager.listen(this.player,"related_selected",(function(){return e._onRelatedSelected()})),this.eventManager.listen(this.player,"share_clicked",(function(){return e._onShareClicked()})),this.eventManager.listen(this.player,"share_network",(function(t){return e._onShareNetworkClicked(t)})),this.eventManager.listen(this.player,"download_item_clicked",(function(){return e._onDownloadItemClicked()})),this.eventManager.listen(this.player,"info_screen_open",(function(){return e._onInfoScreenOpened()})),this.eventManager.listen(this.player,"report_clicked",(function(){return e._onReportClicked()})),this.eventManager.listen(this.player,"report_submitted",(function(t){return e._onReportSubmitted(t)})),this._bindApplicationEvents(),this._bindPlaykitUIEvents(),this._initTabMode(),this._initNetworkConnectionType()}},{key:"_bindPlaykitUIEvents",value:function(){var e=this;Object.values(b).forEach((function(t){e.eventManager.listen(e.player,t,(function(t){t.type in Y&&e._isApplicationEventValid(t)&&e._sendAnalytics(Y[t.type],O.ApplicationEvents,t.payload)}))}))}},{key:"_bindApplicationEvents",value:function(){var e=this;Object.values(U).forEach((function(t){e.eventManager.listen(e.player,t,(function(t){t.type in Y&&e._isApplicationEventValid(t)&&e._sendAnalytics(Y[t.type],O.ApplicationEvents,t.payload)}))}))}},{key:"_onFirstPlaying",value:function(){this._isPlaying=!0,!this._fragLoadedFiredOnce&&this._performanceObserver&&(this._performanceObserver.disconnect(),this.logger.debug("This adapter / media doesn't fire fragLoaded - disconnect performance observer"))}},{key:"_onLoadStart",value:function(){this._loadStartTime=Date.now()}},{key:"_getRates",value:function(){var e=[];return this.player.getTracks(this.player.Track.VIDEO).forEach((function(t){return e.push(t.bandwidth/re)})),e}},{key:"_setInitialTracks",value:function(){var e=this._getRates(),t=this.player.getActiveTracks();this._rateHandler.setRates(e),t.video&&this._rateHandler.setCurrent(t.video.bandwidth/re),t.audio&&this._model.updateModel({language:t.audio.language}),t.text&&this._model.updateModel({caption:t.text.language})}},{key:"_getAvailableBuffer",value:function(){var e=NaN;return this.player.stats&&(e=this.player.stats.availableBuffer),e}},{key:"_getForwardBufferHealth",value:function(){var e=NaN,t=this._getAvailableBuffer(),n=this._getTargetBuffer();return isNaN(n)||(e=Math.round(1e3*t/n)/1e3),e}},{key:"_getTargetBuffer",value:function(){var e=NaN;return this.player.stats&&(e=this.player.stats.targetBuffer),e}},{key:"_getDroppedFramesRatio",value:function(){var e=-1,t=this._getDroppedAndDecodedFrames();if(t){var n=t[0],r=t[1],a=n-this._lastDroppedFrames,i=r-this._lastTotalFrames;e=i?Math.round(a/i*1e3)/1e3:0,this._lastTotalFrames=r,this._lastDroppedFrames=n}return e}},{key:"_getDroppedAndDecodedFrames",value:function(){if("function"==typeof this.player.getVideoElement().getVideoPlaybackQuality){var e=this.player.getVideoElement().getVideoPlaybackQuality();return[e.droppedVideoFrames,e.totalVideoFrames]}return"number"==typeof this.player.getVideoElement().webkitDroppedFrameCount&&"number"==typeof this.player.getVideoElement().webkitDecodedFrameCount?[this.player.getVideoElement().webkitDroppedFrameCount,this.player.getVideoElement().webkitDecodedFrameCount]:null}},{key:"_onReport",value:function(){this._viewEventEnabled?(this._updatePlayTimeSumModel(),this._model.updateModel({forwardBufferHealth:this._getForwardBufferHealth(),targetBuffer:this._getTargetBuffer(),droppedFramesRatio:this._getDroppedFramesRatio()}),this._lastViewEventPlayTime!==this._model.getPlayTimeSum()?(this._lastViewEventPlayTime=this._model.getPlayTimeSum(),this._sendAnalytics(T.VIEW)):this.logger.warn("VIEW event blocked because view event with same time already sent: ".concat(this._lastViewEventPlayTime))):this.logger.warn("VIEW event blocked because server response of viewEventsEnabled=false"),this._model.updateModel({totalSegmentsDownloadTime:0,totalSegmentsDownloadBytes:0,maxManifestDownloadTime:0,maxSegmentDownloadTime:0,maxNetworkConnectionOverhead:0,bufferTime:0})}},{key:"_updateNetworkConnectionTypeinModel",value:function(e){this._model.updateModel({networkConnectionType:e.effectiveType})}},{key:"_initNetworkConnectionType",value:function(){var e=this,t=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection;t&&(this.eventManager.listen(t,"change",(function(){return e._updateNetworkConnectionTypeinModel(t)})),this._updateNetworkConnectionTypeinModel(t))}},{key:"_onPlaying",value:function(){if(this._isFirstPlaying){this._updateSoundModeInModel(),this._updateViewabilityModeInModel(this.player.isVisible),this.player.isUntimedImg()||this._timer.start(),this._isFirstPlaying=!1;var e="auto"===this.player.config.playback.preload||this._isManualPreload?this._firstPlayRequestTime:this._loadStartTime;this._model.updateModel({joinTime:n._getTimeDifferenceInSeconds(e)}),this._sendAnalytics(T.PLAY),this._onReport()}else this._isEnded?(this._timer.start(),this._isEnded=!1,this._sendAnalytics(T.REPLAY)):this._isPaused&&(this._timer.resume(),this._isPaused=!1,this._sendAnalytics(T.RESUME))}},{key:"_onCanPlay",value:function(){this._canPlayOccured=!0,this._model.updateModel({canPlayTime:n._getTimeDifferenceInSeconds(this._loadStartTime)})}},{key:"_onFirstPlay",value:function(){this._canPlayOccured&&(this._isManualPreload=!0),this._isFirstPlay=!1,this._firstPlayRequestTime=Date.now(),this._sendAnalytics(T.PLAY_REQUEST)}},{key:"_onSourceSelected",value:function(){var e=this,t=Object.values(this.player.plugins).map((function(e){return e.name}));this._model.updateModel({registeredPlugins:t.join(",")}),this._sendAnalytics(T.IMPRESSION),this.player.isImage()||this.player.isLive()||this.eventManager.listen(this.player,this.player.Event.Core.TIME_UPDATE,(function(){return e._onTimeUpdate()}))}},{key:"_onSeeking",value:function(){this._previousCurrentTime=this.player.currentTime,this._model.updateModel({targetPosition:this.player.currentTime}),this._sendAnalytics(T.SEEK)}},{key:"_onPause",value:function(){this._isPaused=!0,this._timer.stop(),this._sendAnalytics(T.PAUSE)}},{key:"_onEnded",value:function(){this._isEnded=!0,this._onTimeUpdate(),this._model.updateModel({bufferTime:0})}},{key:"_onTimeUpdate",value:function(){this._updatePlayTimeSumModel();var e=parseFloat((this.player.currentTime/this.player.duration).toFixed(2));!this._timePercentEvent.PLAY_REACHED_25&&e>=.25&&(this._timePercentEvent.PLAY_REACHED_25=!0,this._sendAnalytics(T.PLAY_REACHED_25_PERCENT)),!this._timePercentEvent.PLAY_REACHED_50&&e>=.5&&(this._timePercentEvent.PLAY_REACHED_50=!0,this._sendAnalytics(T.PLAY_REACHED_50_PERCENT)),!this._timePercentEvent.PLAY_REACHED_75&&e>=.75&&(this._timePercentEvent.PLAY_REACHED_75=!0,this._sendAnalytics(T.PLAY_REACHED_75_PERCENT)),this._timePercentEvent.PLAY_REACHED_100||1!==e||(this._timePercentEvent.PLAY_REACHED_100=!0,this._sendAnalytics(T.PLAY_REACHED_100_PERCENT))}},{key:"_onFragLoaded",value:function(e){this._fragLoadedFiredOnce||(this._fragLoadedFiredOnce=!0),this._updateFragLoadedStats(e),this._performanceObserver&&(this._handleFragPerformanceObserver(e.payload.url)||this._pendingFragLoadedUrls.push(e.payload.url))}},{key:"_handleFragPerformanceObserver",value:function(e){var t=this._performanceEntries.filter((function(t){return t.name===e})),n=t&&t.length?t[t.length-1]:null;if(n){this._updateMaxNetworkConnectionOverhead(n.connectEnd-n.domainLookupStart);var r=this._performanceEntries.indexOf(n);return r>-1&&r<this._performanceEntries.length&&(this._performanceEntries=this._performanceEntries.splice(r+1,this._performanceEntries.length-(r+1))),!0}return!1}},{key:"_updateMaxNetworkConnectionOverhead",value:function(e){this._model.updateModel({maxNetworkConnectionOverhead:Math.max(this._model.maxNetworkConnectionOverhead,e)})}},{key:"_updateFragLoadedStats",value:function(e){var t=Math.round(e.payload.miliSeconds)/1e3;this._model.updateModel({totalSegmentsDownloadTime:this._model.totalSegmentsDownloadTime+t,totalSegmentsDownloadBytes:this._model.totalSegmentsDownloadBytes+e.payload.bytes,maxSegmentDownloadTime:Math.max(t,this._model.maxSegmentDownloadTime)})}},{key:"_onManifestLoaded",value:function(e){var t=Math.round(e.payload.miliSeconds)/1e3;this._model.updateModel({maxManifestDownloadTime:Math.max(t,this._model.maxManifestDownloadTime)})}},{key:"_onTimedMetadataLoaded",value:function(e){var t,n,r=e.payload.cues.filter((function(e){return e.value&&"TEXT"===e.value.key}));if(r.length)try{var i=JSON.parse(r[r.length-1].value.data);if(this._model.updateModel({flavorParamsId:Number(i.sequenceId)}),i.clipId){var o=(t=i.clipId.split("-"),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(t,n)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=o[0],l=o[1];switch(s){case"preStartContent":this._model.updateModel({sourceEntryId:l,playbackMode:1});break;case"content":this._model.updateModel({sourceEntryId:l,playbackMode:2});break;case"postEntryContent":this._model.updateModel({sourceEntryId:l,playbackMode:3})}}}catch(e){this.logger.debug("error parsing id3",e)}}},{key:"_onVideoTrackChanged",value:function(e){var t=e.payload.selectedVideoTrack;this._rateHandler.setCurrent(t.bandwidth/re),this.player.isAdaptiveBitrateEnabled()?this._sendAnalytics(T.FLAVOR_SWITCH):this._sendAnalytics(T.SOURCE_SELECTED)}},{key:"_onAudioTrackChanged",value:function(e){var t=e.payload.selectedAudioTrack;this._model.updateModel({language:t.language}),this._sendAnalytics(T.AUDIO_SELECTED)}},{key:"_onTextTrackChanged",value:function(e){if(this._isPlaying){var t=e.payload.selectedTextTrack;this._model.updateModel({caption:t.language}),this._sendAnalytics(T.CAPTIONS)}}},{key:"_onError",value:function(e){e.payload&&e.payload.severity===te.Severity.CRITICAL&&(this._model.updateModel({errorCode:e.payload.code,errorDetails:e.payload.data,errorPosition:this._isFirstPlay?Z.PRE_PLAY:this._isFirstPlaying?Z.PRE_PLAYING:Z.MID_STREAM}),this._sendAnalytics(T.ERROR),this.reset())}},{key:"_onPlaybackRateChanged",value:function(){this.player.playbackRates.length&&!this.player.playbackRates.includes(this.player.playbackRate)||this._sendAnalytics(T.SPEED)}},{key:"_onPlayerStateChanged",value:function(e){var t=e.payload.oldState,n=e.payload.newState;t.type===this.player.State.BUFFERING&&(this._isBuffering=!1,this._updateBufferModel(),this._sendAnalytics(T.BUFFER_END)),n.type===this.player.State.BUFFERING&&(this._isBuffering=!0,this._bufferStartTime=Date.now(),this._sendAnalytics(T.BUFFER_START))}},{key:"_onRelatedClicked",value:function(){this._sendAnalytics(T.RELATED_OPEN)}},{key:"_onRelatedSelected",value:function(){this._sendAnalytics(T.RELATED_SELECTED)}},{key:"_onShareClicked",value:function(){this._sendAnalytics(T.SHARE_CLICKED)}},{key:"_onShareNetworkClicked",value:function(e){var t=e.payload.shareNetworkName;t&&(this._model.updateModel({shareNetworkName:t}),this._sendAnalytics(T.SHARE_NETWORK))}},{key:"_onReportSubmitted",value:function(e){var t=e.payload.reportType;t&&(this._model.updateModel({reportType:t}),this._sendAnalytics(T.REPORT_SUBMITTED))}},{key:"_onReportClicked",value:function(){this._sendAnalytics(T.REPORT_CLICKED)}},{key:"_onInfoScreenOpened",value:function(){this._sendAnalytics(T.INFO)}},{key:"_onDownloadItemClicked",value:function(){this._sendAnalytics(T.DOWNLOAD)}},{key:"_onFullScreenChanged",value:function(e){this._model.updateModel({screenMode:e}),this._sendAnalytics(e===Q.FULLSCREEN?T.ENTER_FULLSCREEN:T.EXIT_FULLSCREEN)}},{key:"_updateSessionStartTimeModel",value:function(e){!this._model.getSessionStartTime()&&e&&("object"===t(e)?(this._model.updateModel({sessionStartTime:e.time}),this._viewEventEnabled=e.viewEventsEnabled):this._model.updateModel({sessionStartTime:e})),this._timer.isStopped()&&this._model.updateModel({sessionStartTime:null})}},{key:"_updateBufferModel",value:function(){var e=n._getTimeDifferenceInSeconds(this._bufferStartTime);this._model.updateModel({bufferTime:this._model.getBufferTime()+e,bufferTimeSum:this._model.getBufferTimeSum()+e})}},{key:"_updatePlayTimeSumModel",value:function(){var e;this.player.isLive()?e=this.config.viewEventCountdown-this._model.getBufferTime():(e=this.player.currentTime-this._previousCurrentTime,this._previousCurrentTime=this.player.currentTime),this._model.updateModel({playTimeSum:this._model.getPlayTimeSum()+e})}},{key:"_setModelDelegates",value:function(){var e=this;this._model.getPlaybackSpeed=function(){return e.player.playbackRate},this._model.getActualBitrate=function(){return e._rateHandler.getCurrent()},this._model.getAverageBitrate=function(){return e._rateHandler.getAverage()},this._model.getPartnerId=function(){return e.config.partnerId},this._model.getEntryId=function(){return e.config.entryId},this._model.getPlaylistId=function(){return e.config.playlistId},this._model.getSessionId=function(){return e.config.sessionId},this._model.getPersistentSessionId=function(){return e.config.persistentSessionId},this._model.getClientVer=function(){return e.config.playerVersion},this._model.getClientTag=function(){return"html5:v"+e.config.playerVersion},this._model.getKS=function(){return e.config.ks},this._model.getVirtualEventId=function(){return e.config.virtualEventId},this._model.getUIConfId=function(){return e.config.uiConfId},this._model.getReferrer=function(){return e.config.referrer},this._model.getCustomVar1=function(){return e.config.customVar1},this._model.getCustomVar2=function(){return e.config.customVar2},this._model.getCustomVar3=function(){return e.config.customVar3},this._model.getPosition=function(){return e._getPosition()},this._model.getDeliveryType=function(){return e._getDeliveryType()},this._model.getPlaybackType=function(){return e._getPlaybackType()},this._model.getPlaybackContext=function(){return e.config.playbackContext},this._model.getApplication=function(t){return e._getApplication(t)},this._model.getKalturaApplicationVersion=function(){return e.config.kalturaApplicationVersion},this._model.getKalturaApplication=function(){return e._getKalturaApplicationId(e.config.kalturaApplication)},this._model.getUserId=function(){return e.config.userId},this._model.getHostingKalturaApplication=function(){return e.config.application},this._model.getHostingKalturaApplicationVersion=function(){return e.config.applicationVersion},this._model.getPlayerSkin=function(){return e._getPlayerSkin()},this._model.getV2ToV7Redirect=function(){return e.player.isV2ToV7Redirected},this._model.getNumFailedAnalyticReports=function(){return e._logFailedLiveEvents.getNumFailedAnalyticReports(e.config.entryId)}}},{key:"_getApplication",value:function(){return arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?this._getPlayerType():this.config.application}},{key:"_getPlayerType",value:function(){return void 0!==this.player.plugins.reels?X.REELS:void 0!==this.player.plugins.audioPlayer?X.AUDIO:X.VIDEO}},{key:"_getPlayerSkin",value:function(){return void 0!==this.player.plugins.reels?z.REELS:void 0!==this.player.plugins.audioPlayer?z.AUDIO:z.PLAYER}},{key:"_getKalturaApplicationId",value:function(e){return e in w?w[e]:(this.logger.warn("Kava analytics - unknon kalturaAppName: "+e),"")}},{key:"_getPosition",value:function(){if(this.player.isLive())return Number.isNaN(this.player.duration)||this.player.duration-this.player.currentTime<1?0:-(this.player.duration-this.player.currentTime);var e=this.player.currentTime;return"number"==typeof this.player.sources.seekFrom&&e&&(e+=this.player.sources.seekFrom),this._isFirstPlaying?e||this.player.sources.startTime||0:e}},{key:"_getDeliveryType",value:function(){return this.player.streamType===this.player.StreamType.PROGRESSIVE?"url":this.player.streamType}},{key:"_getPlaybackType",value:function(){return this.player.isLive()?this.player.isDvr()&&this.player.duration-this.player.currentTime>=this.config.dvrThreshold?"dvr":"live":"vod"}},{key:"_validate",value:function(){return this.config.partnerId?!!this.config.entryId||(this._logMissingParam("entryId"),!1):(this._logMissingParam("partnerId"),!1)}},{key:"_isApplicationEventValid",value:function(e){var t=K(Y[e.type],this._model,e.payload);return!!t.buttonName||!!t.pageName}},{key:"_logMissingParam",value:function(e){this.logger.warn("Kava analytics block report because of missing param ".concat(e))}},{key:"_updateTabModeInModel",value:function(e){this._model.updateModel({tabMode:this._isTabHidden(e)&&!this.player.isInPictureInPicture()?W.TAB_NOT_FOCUSED:W.TAB_FOCUSED})}},{key:"_isTabHidden",value:function(e){return document[e]}},{key:"_initTabMode",value:function(){var e,t,n=this;void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),e&&t&&(this.eventManager.listen(document,t,(function(){return n._updateTabModeInModel(e)})),this._updateTabModeInModel(e))}}],[{key:"isValid",value:function(){return!0}},{key:"_getTimeDifferenceInSeconds",value:function(e){return(Date.now()-e)/1e3}}]),n}(e.BasePlugin);E(ae,"defaultConfig",{serviceUrl:"".concat(ne.Http.protocol,"//analytics.kaltura.com/api_v3/index.php"),requestMethod:q.POST,viewEventCountdown:10,resetSessionCountdown:30,dvrThreshold:120,playbackContext:"",application:"",kalturaApplicationVersion:"",kalturaApplication:"PLAYER",hostingKalturaApplication:"",hostingKalturaApplicationVersion:"",numOfLoggedFailedEvents:100});var ie="1.13.0",oe="@playkit-js/playkit-js-kava";(0,e.registerPlugin)("kava",ae)})(),r})()));
//# sourceMappingURL=playkit-kava.js.map
/*! For license information please see playkit-timeline.js.LICENSE.txt */
var KalturaPlayer;(()=>{var e={979:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.A11yWrapper=t.isKeyboardEvent=void 0;var r=n(4522),i=n(2052).ui.utils.KeyMap,o=i.ENTER,a=i.SPACE,s=i.UP,u=i.DOWN,l=i.LEFT,c=i.RIGHT,p=function(e){e.preventDefault(),e.stopPropagation()};t.isKeyboardEvent=function(e){return e instanceof KeyboardEvent||[e.offsetX,e.offsetY].every((function(e){return 0===e}))},t.A11yWrapper=function(e){var n=e.children,i=e.onClick,d=e.onUpKeyPressed,h=e.onDownKeyPressed,f=e.onLeftKeyPressed,_=e.onRightKeyPressed,m=e.role,v=e.type,g={onKeyDown:function(e){e.keyCode===a||e.keyCode===o?(p(e),i(e,!0)):e.keyCode===s&&d?(p(e),d(e)):e.keyCode===u&&h?(p(e),h(e)):e.keyCode===l&&f?(p(e),f(e)):e.keyCode===c&&_&&(p(e),_(e))},onClick:function(e){i(e,(0,t.isKeyboardEvent)(e))},role:m};return"button"===(null==n?void 0:n.type)&&(g.type=v||"button"),(0,r.cloneElement)(n,g)},t.A11yWrapper.defaultProps={role:"button"}},9695:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Add=void 0;var r=n(4522);t.Add=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{d:"M21.8083 4C22.4665 4 23 4.55964 23 5.25V18.75C23 19.4404 22.4665 20 21.8083 20H2.19167C1.53353 20 1 19.4404 1 18.75V5.25C1 4.55964 1.53353 4 2.19167 4H21.8083ZM15 6H3V18H15V6ZM12.999 8.967L13 9L12.998 8.94L12.999 8.967L13 9V15C13 15.5523 12.5523 16 12 16C11.4872 16 11.0645 15.614 11.0067 15.1166L11 15V11.414L6.70711 15.7071C6.34662 16.0676 5.77939 16.0953 5.3871 15.7903L5.29289 15.7071C4.93241 15.3466 4.90468 14.7794 5.2097 14.3871L5.29289 14.2929L9.584 10H6C5.48716 10 5.06449 9.61396 5.00673 9.11662L5 9C5 8.44772 5.44772 8 6 8L12.0193 8.00018C12.0427 8.00063 12.066 8.00189 12.0893 8.00397C12.1097 8.00575 12.1294 8.0081 12.149 8.01102C12.1659 8.01363 12.1834 8.0167 12.2007 8.02024C12.2227 8.02464 12.2444 8.02983 12.2658 8.03572C12.2815 8.0401 12.2969 8.04473 12.3121 8.04974C12.3318 8.05612 12.3516 8.06332 12.3711 8.0711L12.4232 8.09367C12.4439 8.10338 12.4643 8.11379 12.4843 8.12488C12.4964 8.1315 12.5086 8.13861 12.5207 8.146C12.5463 8.16172 12.5711 8.17849 12.5952 8.19631L12.6525 8.24221L12.6167 8.21279C12.6802 8.26255 12.7374 8.31982 12.7872 8.38325C12.7927 8.39016 12.7982 8.3974 12.8037 8.40469C12.8215 8.42887 12.8383 8.45372 12.8539 8.47934L12.8753 8.51594C12.8862 8.53571 12.8966 8.55611 12.9063 8.5769L12.9288 8.62866C12.9367 8.64842 12.9439 8.6682 12.9505 8.68826C12.9553 8.70315 12.9599 8.71854 12.9642 8.73401C12.9702 8.75556 12.9754 8.77725 12.9798 8.79921C12.9833 8.81662 12.9864 8.83405 12.989 8.85153L12.9972 8.92482L12.998 8.94L12.999 8.967Z",fill:"white"}))}},3697:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnswerOnAir=void 0;var r=n(4522);t.AnswerOnAir=function(){return(0,r.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.99999 10C7.72605 10 11.1196 10.84 11.3237 12.5079L11.3333 12.6667V13.3333C11.3333 13.6667 11.0854 13.9449 10.7648 13.9927L10.6667 14H1.33332C0.99999 14 0.721753 13.7521 0.673919 13.4315L0.666656 13.3333V12.6667C0.666656 10.8933 4.21999 10 5.99999 10ZM13.9533 1.99333C15.7933 4.42667 15.7867 7.64667 13.9533 10.0067C13.6967 10.3428 13.2103 10.3932 12.8794 10.1476L12.7933 10.0733L12.7733 10.0533C12.5133 9.79333 12.4667 9.38 12.68 9.08C14.0067 7.18667 14.0133 4.74 12.7 2.91333C12.48 2.60667 12.52 2.19333 12.7867 1.92667C13.1133 1.6 13.6733 1.62667 13.9533 1.99333ZM5.99999 3.33333C7.47275 3.33333 8.66666 4.52724 8.66666 6C8.66666 7.47276 7.47275 8.66667 5.99999 8.66667C4.52723 8.66667 3.33332 7.47276 3.33332 6C3.33332 4.52724 4.52723 3.33333 5.99999 3.33333ZM11.7867 4.46C12.3067 5.46667 12.3067 6.6 11.8 7.56667C11.5635 8.02089 10.9728 8.12086 10.5808 7.8178L10.5 7.74667L10.48 7.72667C10.24 7.48667 10.1867 7.13333 10.3133 6.82C10.5267 6.29333 10.5267 5.70667 10.3133 5.18C10.2025 4.90583 10.2295 4.59594 10.3898 4.36643L10.4667 4.27333L10.4733 4.26667C10.8667 3.87333 11.5333 3.96667 11.7867 4.46Z",fill:"white"}))}},6389:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrowClose=void 0;var r=n(4522);t.ArrowClose=function(){return(0,r.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.5 21C5.01472 21 3 18.9853 3 16.5L3 7.5C3 5.01472 5.01472 3 7.5 3L16.5 3C18.9853 3 21 5.01472 21 7.5V16.5C21 18.9853 18.9853 21 16.5 21H7.5ZM8.625 17.625L14.25 17.625L14.3812 17.6174C14.9407 17.5524 15.375 17.0769 15.375 16.5C15.375 15.8787 14.8713 15.375 14.25 15.375L10.218 15.375L17.2955 8.2955L17.3891 8.18951C17.7322 7.74819 17.701 7.11005 17.2955 6.70451C16.8562 6.26517 16.1438 6.26517 15.7045 6.70451L8.625 13.7843L8.625 9.75L8.61743 9.6188C8.55245 9.0593 8.07694 8.625 7.5 8.625C6.87868 8.625 6.375 9.12868 6.375 9.75L6.375 15.375L6.38117 15.5429C6.46706 16.7071 7.43884 17.625 8.625 17.625Z",fill:"white"}))}},3029:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrowOpen=void 0;var r=n(4522);t.ArrowOpen=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.5 3C18.9853 3 21 5.01472 21 7.5V16.5C21 18.9853 18.9853 21 16.5 21H7.5C5.01472 21 3 18.9853 3 16.5V7.5C3 5.01472 5.01472 3 7.5 3H16.5ZM15.375 6.375H9.75L9.6188 6.38257C9.0593 6.44755 8.625 6.92306 8.625 7.5C8.625 8.12132 9.12868 8.625 9.75 8.625H13.782L6.7045 15.7045L6.61092 15.8105C6.26776 16.2518 6.29896 16.89 6.7045 17.2955C7.14384 17.7348 7.85616 17.7348 8.2955 17.2955L15.375 10.2158V14.25L15.3826 14.3812C15.4476 14.9407 15.9231 15.375 16.5 15.375C17.1213 15.375 17.625 14.8713 17.625 14.25V8.625L17.6188 8.45708C17.5329 7.29286 16.5612 6.375 15.375 6.375Z",fill:"white"}))}},4953:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chapter=void 0;var r=n(4522);t.Chapter=function(){return(0,r.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 4C4 3.44772 4.44772 3 5 3H11C11.5523 3 12 3.44772 12 4V13C12 13.824 11.0592 14.2944 10.4 13.8L8.6 12.45C8.24444 12.1833 7.75556 12.1833 7.4 12.45L5.6 13.8C4.94076 14.2944 4 13.824 4 13V4Z",fill:"white"}))}},5254:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Close=void 0;var r=n(4522);t.Close=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{d:"M11.6592 10.245L6.70483 5.29061C6.31701 4.9028 5.68581 4.90476 5.29528 5.29528C4.90204 5.68853 4.90267 6.31688 5.29061 6.70483L10.245 11.6592L5.29061 16.6137C4.9028 17.0015 4.90476 17.6327 5.29528 18.0232C5.68853 18.4165 6.31688 18.4158 6.70483 18.0279L11.6592 13.0735L16.6137 18.0279C17.0015 18.4157 17.6327 18.4137 18.0232 18.0232C18.4165 17.63 18.4158 17.0016 18.0279 16.6137L13.0735 11.6592L18.0279 6.70483C18.4157 6.31701 18.4137 5.68581 18.0232 5.29528C17.63 4.90204 17.0016 4.90267 16.6137 5.29061L11.6592 10.245Z",fill:"white"}))}},1577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Download=void 0;var r=n(4522);t.Download=function(){return(0,r.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{d:"M17.5 6C17.5 5.44772 17.0523 5 16.5 5L16.3834 5.00673C15.886 5.06449 15.5 5.48716 15.5 6L15.4997 17.693L9.71029 12.2702C9.30721 11.8926 8.67439 11.9133 8.29683 12.3164C7.91928 12.7195 7.93998 13.3523 8.34306 13.7298L15.8164 20.7298C15.8212 20.7343 15.826 20.7387 15.8308 20.7431L15.8164 20.7298L15.9035 20.8027C15.9034 20.8026 15.9037 20.8028 15.9035 20.8027C15.9135 20.8101 15.9231 20.817 15.9333 20.824C15.956 20.8397 15.9793 20.8544 16.0038 20.8684C16.0148 20.8747 16.0259 20.8808 16.0366 20.8864C16.0596 20.8984 16.0832 20.9096 16.1077 20.9201C16.1223 20.9263 16.1371 20.9322 16.1515 20.9376C16.1769 20.947 16.2028 20.9555 16.2299 20.963C16.2399 20.9658 16.25 20.9684 16.2595 20.9709C16.3365 20.9899 16.4171 21 16.5 21C16.5804 21 16.6585 20.9905 16.7336 20.9725C16.7521 20.968 16.7706 20.963 16.7889 20.9576C16.8097 20.9514 16.8303 20.9444 16.8507 20.9367C16.8632 20.932 16.8756 20.9271 16.8878 20.922C16.9121 20.9118 16.936 20.9006 16.9596 20.8883C16.9735 20.8812 16.9872 20.8736 17.0007 20.8658C17.0223 20.8533 17.0434 20.84 17.0636 20.8262C17.0764 20.8174 17.0891 20.8083 17.1021 20.7985C17.1224 20.7831 17.1422 20.767 17.161 20.7504C17.1685 20.7437 17.176 20.737 17.1834 20.7301L24.6619 13.7301C25.0651 13.3527 25.086 12.7198 24.7086 12.3166L24.6172 12.2304C24.2352 11.9126 23.6674 11.9215 23.2952 12.2699L17.4997 17.694L17.5 6Z",fill:"white"}),(0,r.h)("path",{d:"M27 26C27 26.5523 26.5523 27 26 27H7C6.44772 27 6 26.5523 6 26C6 25.4477 6.44772 25 7 25H26C26.5523 25 27 25.4477 27 26Z",fill:"white"}))}},2942:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Expand=void 0;var r=n(4522);t.Expand=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{d:"M20.997 3.924L20.998 3.945L20.999 3.98L21 4V10C21 10.5523 20.5523 11 20 11C19.4872 11 19.0645 10.614 19.0067 10.1166L19 10V6.416L14.7071 10.7071C14.3466 11.0676 13.7794 11.0953 13.3871 10.7903L13.2929 10.7071C12.9324 10.3466 12.9047 9.77939 13.2097 9.3871L13.2929 9.29289L17.586 5H14C13.4872 5 13.0645 4.61396 13.0067 4.11662L13 4C13 3.48716 13.386 3.06449 13.8834 3.00673L14 3L20.0332 3.00054C20.0503 3.00109 20.0683 3.00216 20.0862 3.0037C20.1079 3.00553 20.1285 3.00797 20.149 3.01102C20.166 3.01363 20.1834 3.0167 20.2007 3.02024C20.2227 3.02464 20.2444 3.02983 20.2658 3.03572C20.2815 3.0401 20.2969 3.04473 20.3121 3.04974C20.3318 3.05612 20.3516 3.06332 20.3711 3.0711L20.4232 3.09367C20.4439 3.10338 20.4643 3.11379 20.4843 3.12488C20.4964 3.1315 20.5086 3.13861 20.5207 3.146C20.5463 3.16172 20.5711 3.17849 20.5952 3.19631L20.6525 3.24221L20.6168 3.21279C20.6802 3.26255 20.7374 3.31982 20.7872 3.38325C20.7927 3.39016 20.7982 3.3974 20.8037 3.40469C20.8215 3.42887 20.8383 3.45373 20.8539 3.47934L20.8753 3.51594C20.8862 3.53571 20.8966 3.55611 20.9063 3.5769L20.9288 3.62866C20.9367 3.64842 20.9439 3.6682 20.9505 3.68826C20.9553 3.70315 20.9599 3.71854 20.9642 3.73401C20.9702 3.75556 20.9754 3.77725 20.9798 3.79921C20.9833 3.81662 20.9864 3.83405 20.989 3.85153L20.996 3.91075L20.996 3.919L20.997 3.921V3.924ZM3.002 20.059V20.071L3.00175 20.0593C3.00122 20.0503 3.00081 20.0413 3.00052 20.0323L3 14C3 13.4477 3.44772 13 4 13C4.51284 13 4.93551 13.386 4.99327 13.8834L5 14V17.586L9.29289 13.2929C9.65338 12.9324 10.2206 12.9047 10.6129 13.2097L10.7071 13.2929C11.0676 13.6534 11.0953 14.2206 10.7903 14.6129L10.7071 14.7071L6.416 19H10C10.5128 19 10.9355 19.386 10.9933 19.8834L11 20C11 20.5128 10.614 20.9355 10.1166 20.9933L10 21H4C3.99354 21 3.98709 20.9999 3.98066 20.9998C3.95732 20.9994 3.93401 20.9981 3.91075 20.996C3.89031 20.9943 3.87058 20.9919 3.85104 20.989C3.83405 20.9864 3.81662 20.9833 3.79927 20.9798C3.77725 20.9754 3.75556 20.9702 3.73416 20.9643C3.71854 20.9599 3.70315 20.9553 3.68786 20.9503C3.6682 20.9439 3.64842 20.9367 3.62894 20.9289L3.57678 20.9063C3.55611 20.8966 3.53571 20.8862 3.51572 20.8751C3.50361 20.8685 3.49139 20.8614 3.47929 20.854C3.45373 20.8383 3.42887 20.8215 3.40484 20.8037L3.34745 20.7578L3.38325 20.7872C3.31982 20.7374 3.26255 20.6802 3.21279 20.6168C3.20728 20.6098 3.20175 20.6026 3.19633 20.5953C3.17849 20.5711 3.16172 20.5463 3.14607 20.5207L3.12467 20.4841C3.11379 20.4643 3.10338 20.4439 3.09365 20.4231L3.07123 20.3713C3.06332 20.3516 3.05612 20.3318 3.04955 20.3117C3.04473 20.2969 3.0401 20.2815 3.03585 20.266C3.02983 20.2444 3.02464 20.2227 3.02017 20.2008C3.0167 20.1834 3.01363 20.1659 3.01102 20.1485L3.0037 20.0862L3.002 20.059Z",fill:"white"}))}},3057:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hotspot=void 0;var r=n(4522);t.Hotspot=function(){return(0,r.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.5 2C6.11537 2 5.79837 2.28953 5.75505 2.66253L5.75 2.75V3.5C5.75 3.91421 6.08579 4.25 6.5 4.25C6.88463 4.25 7.20163 3.96047 7.24495 3.58747L7.25 3.5V2.75C7.25 2.33579 6.91421 2 6.5 2ZM11.7955 3.8295C11.5235 3.55753 11.0946 3.53811 10.8003 3.77123L10.7348 3.8295L10.2045 4.35984C9.91161 4.65273 9.91161 5.1276 10.2045 5.4205C10.4765 5.69247 10.9054 5.71189 11.1997 5.47878L11.2652 5.4205L11.7955 4.89016C12.0884 4.59727 12.0884 4.1224 11.7955 3.8295ZM3.4545 12.1705C3.72648 12.4425 4.15536 12.4619 4.44975 12.2288L4.51516 12.1705L5.0455 11.6402C5.33839 11.3473 5.33839 10.8724 5.0455 10.5795C4.77352 10.3075 4.34464 10.2881 4.05025 10.5212L3.98484 10.5795L3.4545 11.1098C3.16161 11.4027 3.16161 11.8776 3.4545 12.1705ZM6.53592 6.98358C6.65797 6.61718 7.05316 6.41577 7.4186 6.53371L13.5234 8.50394C13.6272 8.53745 13.7214 8.59497 13.7983 8.67186C14.0693 8.94255 14.0669 9.38382 13.793 9.65748L12.8998 10.5499C12.7787 10.6708 12.7713 10.8642 12.8828 10.9915L13.6084 11.8185C14.0177 12.3362 13.9793 13.0939 13.4958 13.5769L13.4659 13.6069C12.9452 14.127 12.1056 14.1316 11.5906 13.6171L10.9802 12.9207C10.8554 12.7952 10.6516 12.7959 10.525 12.9224L9.66058 13.786C9.58277 13.8638 9.48795 13.9223 9.38376 13.957C9.01702 14.0789 8.624 13.8818 8.50593 13.5167L6.53356 7.41792C6.48802 7.27709 6.48885 7.12492 6.53592 6.98358ZM3.5 5.75C3.91421 5.75 4.25 6.08579 4.25 6.5C4.25 6.91421 3.91421 7.25 3.5 7.25H2.75C2.33579 7.25 2 6.91421 2 6.5C2 6.08579 2.33579 5.75 2.75 5.75H3.5Z",fill:"white"}))}},1861:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Icons=void 0;var r=n(5254),i=n(9919),o=n(1577),a=n(7024),s=n(8835),u=n(1223),l=n(7858),c=n(6563),p=n(2489),d=n(9695),h=n(756),f=n(4726),_=n(2942),m=n(3029),v=n(6389),g=n(4953),C=n(3057),A=n(3697);t.Icons={close:r.Close,print:i.Print,download:o.Download,related:a.Related,message:s.Message,share:u.Share,more:l.More,quiz:c.QuizIcon,switch:p.Switch,add:d.Add,minimizedVideo:h.MinimizedVideo,pictureInPicture:f.PictureInPicture,expand:_.Expand,arrowOpen:m.ArrowOpen,arrowClose:v.ArrowClose,chapter:g.Chapter,hotspot:C.Hotspot,answerOnAir:A.AnswerOnAir}},8835:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Message=void 0;var r=n(4522);t.Message=function(){return(0,r.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M25 5C27.2091 5 29 6.75035 29 8.90952V18.6833C29 20.8425 27.2091 22.5928 25 22.5928H14.985L10.7019 26.7188C10.546 26.8689 10.3449 26.9641 10.1302 26.9917L10 27C9.44772 27 9 26.5624 9 26.0226V22.5928H7C4.79086 22.5928 3 20.8425 3 18.6833V8.90952C3 6.75035 4.79086 5 7 5H25ZM25 6.95476H7C5.89543 6.95476 5 7.82994 5 8.90952V18.6833C5 19.7629 5.89543 20.6381 7 20.6381H11V23.687L14.1651 20.6381H25C26.1046 20.6381 27 19.7629 27 18.6833V8.90952C27 7.82994 26.1046 6.95476 25 6.95476ZM19 14.7738C19.5523 14.7738 20 15.2114 20 15.7512C20 16.291 19.5523 16.7286 19 16.7286H10C9.44772 16.7286 9 16.291 9 15.7512C9 15.2114 9.44772 14.7738 10 14.7738H19ZM23 10.8643C23.5523 10.8643 24 11.3019 24 11.8417C24 12.3815 23.5523 12.819 23 12.819H10C9.44772 12.819 9 12.3815 9 11.8417C9 11.3019 9.44772 10.8643 10 10.8643H23Z",fill:"white"}))}},756:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MinimizedVideo=void 0;var r=n(4522);t.MinimizedVideo=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.25 4.5H18.75C19.9926 4.5 21 5.50736 21 6.75V17.25C21 18.4926 19.9926 19.5 18.75 19.5H5.25C4.00736 19.5 3 18.4926 3 17.25V6.75C3 5.50736 4.00736 4.5 5.25 4.5ZM5.25 6C4.83579 6 4.5 6.33579 4.5 6.75V17.25C4.5 17.6642 4.83579 18 5.25 18H18.75C19.1642 18 19.5 17.6642 19.5 17.25V6.75C19.5 6.33579 19.1642 6 18.75 6H5.25ZM13 12C12.4477 12 12 12.4477 12 13V15.5C12 16.0523 12.4477 16.5 13 16.5H17C17.5523 16.5 18 16.0523 18 15.5V13C18 12.4477 17.5523 12 17 12H13Z",fill:"white"}))}},7858:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.More=void 0;var r=n(4522);t.More=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{d:"M8 12C8 13.1046 7.10457 14 6 14C4.89543 14 4 13.1046 4 12C4 10.8954 4.89543 10 6 10C7.10457 10 8 10.8954 8 12ZM14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12ZM20 12C20 13.1046 19.1046 14 18 14C16.8954 14 16 13.1046 16 12C16 10.8954 16.8954 10 18 10C19.1046 10 20 10.8954 20 12Z",fill:"white"}))}},4726:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PictureInPicture=void 0;var r=n(4522);t.PictureInPicture=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.75 4.5H5.25C4.00736 4.5 3 5.50736 3 6.75V17.25C3 18.4926 4.00736 19.5 5.25 19.5H18.75C19.9926 19.5 21 18.4926 21 17.25V6.75C21 5.50736 19.9926 4.5 18.75 4.5ZM13 12C12.4477 12 12 12.4477 12 13V15.5C12 16.0523 12.4477 16.5 13 16.5H17C17.5523 16.5 18 16.0523 18 15.5V13C18 12.4477 17.5523 12 17 12H13Z",fill:"white"}))}},9919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Print=void 0;var r=n(4522);t.Print=function(){return(0,r.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M23 23H26C27.1046 23 28 22.1046 28 21V11C28 9.89543 27.1046 9 26 9H23V5C23 3.89543 22.1046 3 21 3H11C9.89543 3 9 3.89543 9 5V9H6C4.89543 9 4 9.89543 4 11V21C4 22.1046 4.89543 23 6 23H9V28C9 29.1046 9.89543 30 11 30H21C22.1046 30 23 29.1046 23 28V23ZM6 11V21H9V19C8.44772 19 8 18.5523 8 18C8 17.4477 8.44772 17 9 17H23C23.5523 17 24 17.4477 24 18C24 18.5523 23.5523 19 23 19V21H26V11H6ZM21 9V5H11V9H21ZM11 19V28H21V19H11Z",fill:"white"}))}},6563:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuizIcon=void 0;var r=n(4522);t.QuizIcon=function(){return(0,r.h)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.49857 2.11499L12.7442 4.2052C12.9162 4.28987 12.9812 4.48721 12.8895 4.64597C12.8594 4.69807 12.8145 4.74163 12.7597 4.77201L8.54484 7.10634C8.20953 7.29205 7.79063 7.29205 7.45532 7.10634L3.2405 4.77202C3.07335 4.67945 3.01915 4.47933 3.11944 4.32505C3.15235 4.27441 3.19956 4.23299 3.256 4.2052L7.50203 2.11498C7.81345 1.96167 8.18715 1.96168 8.49857 2.11499ZM14 6.02878V10.7642C14 11.1075 13.8049 11.4256 13.486 11.6022L9.24043 13.9536C9.07328 14.0461 8.85649 13.9961 8.7562 13.8418C8.72329 13.7912 8.7059 13.7333 8.7059 13.6742V8.93882C8.7059 8.59551 8.90104 8.27738 9.21997 8.10075L13.4655 5.74942C13.6326 5.65685 13.8494 5.70688 13.9497 5.86116C13.9826 5.91179 14 5.96973 14 6.02878ZM6.5145 8.31192L2.50483 6.04476C2.45303 6.01547 2.39375 6 2.33333 6C2.14924 6 2 6.14064 2 6.31412V10.88C2 11.211 2.1843 11.5178 2.4855 11.6881L6.49517 13.9552C6.54697 13.9845 6.60625 14 6.66667 14C6.85076 14 7 13.8594 7 13.6859V9.12C7 8.78898 6.8157 8.48223 6.5145 8.31192Z",fill:"white"}))}},7024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Related=void 0;var r=n(4522);t.Related=function(){return(0,r.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 7H12C13.1046 7 14 7.89543 14 9V13C14 14.1046 13.1046 15 12 15H8C6.89543 15 6 14.1046 6 13V9C6 7.89543 6.89543 7 8 7ZM8 13H12V9H8V13Z",fill:"white"}),(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 18H12C13.1046 18 14 18.8954 14 20V24C14 25.1046 13.1046 26 12 26H8C6.89543 26 6 25.1046 6 24V20C6 18.8954 6.89543 18 8 18ZM8 24H12V20H8V24Z",fill:"white"}),(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 7H20C18.8954 7 18 7.89543 18 9V13C18 14.1046 18.8954 15 20 15H24C25.1046 15 26 14.1046 26 13V9C26 7.89543 25.1046 7 24 7ZM24 13H20V9H24V13Z",fill:"white"}),(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20 18H24C25.1046 18 26 18.8954 26 20V24C26 25.1046 25.1046 26 24 26H20C18.8954 26 18 25.1046 18 24V20C18 18.8954 18.8954 18 20 18ZM20 24H24V20H20V24Z",fill:"white"}))}},1223:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Share=void 0;var r=n(4522);t.Share=function(){return(0,r.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22.6667 12.6667C24.5076 12.6667 26 11.1743 26 9.33333C26 7.49238 24.5076 6 22.6667 6C20.8257 6 19.3333 7.49238 19.3333 9.33333C19.3333 9.38882 19.3347 9.44399 19.3374 9.49881L11.9575 13.9443C11.3473 13.1665 10.3987 12.6667 9.33333 12.6667C7.49238 12.6667 6 14.1591 6 16C6 17.8409 7.49238 19.3333 9.33333 19.3333C10.3981 19.3333 11.3462 18.8341 11.9564 18.057L19.3374 22.5013C19.3347 22.5561 19.3333 22.6112 19.3333 22.6667C19.3333 24.5076 20.8257 26 22.6667 26C24.5076 26 26 24.5076 26 22.6667C26 20.8257 24.5076 19.3333 22.6667 19.3333C21.6074 19.3333 20.6636 19.8274 20.053 20.5976L12.864 16.2689L12.8651 15.7324L20.0531 11.4025C20.6637 12.1727 21.6075 12.6667 22.6667 12.6667ZM22.6667 10.6667C21.9303 10.6667 21.3333 10.0697 21.3333 9.33333C21.3333 8.59695 21.9303 8 22.6667 8C23.403 8 24 8.59695 24 9.33333C24 10.0697 23.403 10.6667 22.6667 10.6667ZM9.33333 17.3333C8.59695 17.3333 8 16.7364 8 16C8 15.2636 8.59695 14.6667 9.33333 14.6667C10.0697 14.6667 10.6667 15.2636 10.6667 16C10.6667 16.7364 10.0697 17.3333 9.33333 17.3333ZM21.3333 22.6667C21.3333 23.403 21.9303 24 22.6667 24C23.403 24 24 23.403 24 22.6667C24 21.9303 23.403 21.3333 22.6667 21.3333C21.9303 21.3333 21.3333 21.9303 21.3333 22.6667Z",fill:"white"}))}},2489:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Switch=void 0;var r=n(4522);t.Switch=function(){return(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{d:"M17.6744 9.27934L21.7563 13.3632L21.8282 13.4537L21.887 13.5492L21.9333 13.6489L21.9684 13.7556L21.9824 13.8172L21.9974 13.929L22 14L21.9897 14.1405L21.9824 14.1828L21.9535 14.2949L21.9231 14.3759L21.887 14.4508L21.8281 14.5463L21.7763 14.6137L21.7207 14.6744L17.6744 18.7207C17.3019 19.0931 16.6981 19.0931 16.3256 18.7207C15.9818 18.3769 15.9554 17.8359 16.2463 17.4617L16.3256 17.3719L18.7439 14.9536L12.9537 14.9537C12.4675 14.9537 12.0663 14.5899 12.0074 14.1196L12 14C12 13.5109 12.3682 13.1078 12.8425 13.0527L12.9537 13.0463L18.7426 13.0451L16.3256 10.6281C15.9798 10.2823 15.9551 9.73687 16.2515 9.36252L16.3256 9.27934C16.6981 8.90689 17.3019 8.90689 17.6744 9.27934ZM6.32562 5.27934C6.69807 4.90689 7.30193 4.90689 7.67438 5.27934L7.74849 5.36252C8.04493 5.73687 8.02023 6.28225 7.67438 6.6281L5.2574 9.04508L11.0463 9.04628L11.1575 9.0527C11.6318 9.10779 12 9.5109 12 10L11.9926 10.1196C11.9337 10.5899 11.5325 10.9537 11.0463 10.9537L5.25605 10.9536L7.67438 13.3719L7.75372 13.4617C8.04463 13.8359 8.01818 14.3769 7.67438 14.7207C7.30193 15.0931 6.69807 15.0931 6.32562 14.7207L2.25793 10.6523L2.18664 10.5668L2.12413 10.4708L2.07695 10.3759L2.03697 10.2639L2.01028 10.1405L2 10C2 9.95226 2.00351 9.90534 2.01036 9.85937L2.01758 9.81716L2.04651 9.70514L2.08932 9.59642L2.12415 9.52899L2.18631 9.43351L2.24369 9.36325L6.32562 5.27934Z",fill:"white"}))}},4820:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Icon=t.IconSize=void 0;var r,i=n(4522),o=n(42),a=n(1861),s=n(5566);!function(e){e.small="small",e.medium="medium",e.large="large"}(r=t.IconSize||(t.IconSize={})),t.Icon=function(e){var t=a.Icons[e.name];return t?(0,i.h)("div",{className:o(s.iconWrapper,s[e.size])},(0,i.h)(t,null)):null},t.Icon.defaultProps={size:r.medium}},2563:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SeekBarSegment:()=>M,SegmentsWrapper:()=>I});var r,i,o=n(4522),a=n(4336),s=n.n(a),u=n(2052),l=n(3710),c=n.n(l);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v,g,C=u.ui,A=C.redux,y=C.reducers,b=C.preact,k=C.components,w=b.Component,x=y.seekbar,P=k.withPlayer,M=A.connect((function(e){return{dataLoaded:e.engine.dataLoaded,currentTime:e.engine.currentTime,duration:e.engine.duration,seekbarClientRect:e.seekbar.clientRect,isMobile:e.shell.isMobile,isDraggingActive:e.seekbar.draggingActive,isHoverActive:e.seekbar.hoverActive,virtualTime:e.seekbar.virtualTime,activePresetName:e.shell.activePresetName,segments:e.seekbar.segments}}),(function(e){return{updateHoveredSegment:function(t,n){return e(x.actions.updateHoveredSegment(t,n))}}}))(r=P((i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t,n,o=_(r);if(i){var a=_(this).constructor;e=Reflect.construct(o,arguments,a)}else e=o.apply(this,arguments);return t=this,!(n=e)||"object"!==p(n)&&"function"!=typeof n?f(t):n});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(f(e=o.call.apply(o,[this].concat(n))),"_prevDraggingState",!1),m(f(e),"_setSegmentRef",(function(t){t&&(e._segmentEl=t)})),m(f(e),"onMouseOver",(function(){e.props.isMobile||e.props.updateHoveredSegment(e.props.id,!0)})),m(f(e),"onMouseLeave",(function(){e.props.isMobile||e.props.updateHoveredSegment(e.props.id,!1)})),e}return t=a,(n=[{key:"_getSegmentWidth",value:function(){if(this._segmentEl&&this.props.duration){var e=this.props.seekbarClientRect.width,t=(this.props.startTime<this.props.duration?this.props.startTime/this.props.duration:1)*e;return(this.props.endTime<this.props.duration?this.props.endTime/this.props.duration:1)*e-t}return 0}},{key:"getTotalBufferedPercent",value:function(){var e=this.props.player;if(this.props.duration>0&&e.buffered.length>0){var t=(e.isLive()?e.buffered.end(0)-e.getStartTimeOfDvrWindow():e.buffered.end(0))/this.props.duration*100;return t<100?t:100}return 0}},{key:"_getProgressWidth",value:function(e){var t=this.props,n=t.startTime,r=t.endTime,i=r-n,o=0;return e>=r||this.props.forceFullProgress?o=100:e>=n&&e<=r&&(o=(e-n)/i*100),o}},{key:"_getSegmentBufferedWidth",value:function(e,t){var n=e/this.props.seekbarClientRect.width*100,r=this.props.startTime/this.props.duration*100,i=this.props.endTime/this.props.duration*100,o=0;return t>=i?o=100:t>r&&t<i&&(o=(t-r)/n*100),o}},{key:"render",value:function(e){var t=this,n=e.virtualTime,r=e.currentTime,i=e.isDraggingActive,o=e.isHovered;this._wasDragging=i!==this._prevDraggingState,this._prevDraggingState=i;var a="".concat(this._getProgressWidth(i||this._wasDragging?n:r),"%"),s=Math.round(this.getTotalBufferedPercent()),l=this._getSegmentWidth(),p=Math.round(this._getSegmentBufferedWidth(l,s)),d=[c().seekBarSegment];return o&&d.push(c().hovered),u.ui.h("div",{onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,className:d.join(" "),style:"width: ".concat(l,"px;"),ref:function(e){return t._segmentEl=e}},u.ui.h("div",{className:c().buffered,style:{width:"".concat(p,"%")}}),e.dataLoaded?u.ui.h("div",{className:c().segmentProgress,style:{width:a}}):void 0)}}])&&d(t.prototype,n),a}(w),r=i))||r)||r;function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},j(e,t)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}M.displayName="SeekBarSegment",n(9389);var H=u.ui,E=H.redux,D=H.reducers.seekbar,I=E.connect((function(e){return{isMobile:e.shell.isMobile,duration:e.engine.duration,segments:e.seekbar.segments}}),(function(e){return{updateSeekbarSegments:function(t){return e(D.actions.updateSeekbarSegments(t))},updateSegmentEndTime:function(t,n){return e(D.actions.updateSegmentEndTime(t,n))}}}))((g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t,n,o=O(r);if(i){var a=O(this).constructor;e=Reflect.construct(o,arguments,a)}else e=o.apply(this,arguments);return t=this,!(n=e)||"object"!==S(n)&&"function"!=typeof n?B(t):n});function a(){var e,t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];return r=function(){var t;e.props.segments.find((function(e){return 0===e.startTime}))||e.props.updateSeekbarSegments([{id:"0",startTime:0,endTime:e.props.segments[0].startTime,isDummy:!0,isHovered:!1}].concat(function(e){if(Array.isArray(e))return L(e)}(t=e.props.segments)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))},(n="_maybeAddDummySegment")in(t=B(e=o.call.apply(o,[this].concat(s))))?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e}return t=a,(n=[{key:"componentWillMount",value:function(){this._maybeAddDummySegment()}},{key:"render",value:function(e){return u.ui.h("div",{className:s().chaptersContainer,"data-testid":"segmentsWrapper"},e.segments.map((function(e){return u.ui.h(M,{key:e.id,id:e.id,startTime:e.startTime,endTime:e.endTime,title:e.title,isHovered:e.isHovered,isDummy:e.isDummy})})))}}])&&T(t.prototype,n),a}(o.Component),v=g))||v;I.displayName="SegmentsWrapper"},4467:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CuePoint:()=>w});var r,i,o=n(2052),a=n(9561),s=n.n(a),u=n(416);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(9389);var v=o.ui,g=v.preact,C=v.redux,A=v.reducers,y=v.utils,b=v.style,k=o.core.Utils,w=C.connect((function(e){return{config:e.config.components.seekbar,duration:e.engine.duration,seekbarClientRect:e.seekbar.clientRect,hideTimeBubble:e.seekbar.hideTimeBubble,virtualTime:e.seekbar.virtualTime,seekbarSegments:e.seekbar.segments,hoverActive:e.seekbar.hoverActive}}),y.bindActions(A.seekbar.actions))((i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(c,e);var t,n,r,i,a=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t,n,o=_(r);if(i){var a=_(this).constructor;e=Reflect.construct(o,arguments,a)}else e=o.apply(this,arguments);return t=this,!(n=e)||"object"!==l(n)&&"function"!=typeof n?f(t):n});function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(f(e=a.call.apply(a,[this].concat(n))),"_update",(function(){e.setState((function(e){return{render:!e.render}}))})),m(f(e),"_setMarkerRef",(function(t){t&&(e._markerRef=t,e._update())})),m(f(e),"_setPreviewRef",(function(t){t&&(e._previewRef=t,e._update())})),e}return t=c,(n=[{key:"_getMarkerPositionStyle",value:function(){var e=this,t={left:"0",edge:"Left"},n=0;if(this._markerRef&&this.props.duration){var r=this._markerRef.getBoundingClientRect(),i=this.props.seekbarClientRect,o=r.width,a=i.width,s=(this.props.time<this.props.duration?this.props.time/this.props.duration:1)*a;if(s-o/2>0&&(s+o/2>a?(n=a-o,t.edge="Right"):(n=s-o/2,t.edge="none")),this.props.seekbarSegments.length){var u=0;this.props.seekbarSegments.forEach((function(t){e.props.time>=t.endTime&&u++})),n+=2*u}t.left="".concat(n,"px")}return t}},{key:"_getPreviewPosition",value:function(e){var t=0;if(this._markerRef){var n,r,i,o=null!==(n=null===(r=this._previewRef)||void 0===r||null===(i=r.getBoundingClientRect())||void 0===i?void 0:i.width)&&void 0!==n?n:e,a=this._markerRef.getBoundingClientRect(),s=this.props.seekbarClientRect,u=a.left-s.left,l=a.width,c=u+l,p=s.width,d=(o-l)/2;t=u-d>0?c+d>p?-(o-(p-u)):-d:-u}return t}},{key:"onMarkerMouseOver",value:function(){var e=this;this.setState({hover:!0}),this.props.preview.get&&this.props.updateHideSeekbarPreview(!0),!this.props.hideTimeBubble&&this.props.preview.hideTime&&(this._hideTimeBubble=!0,this.props.updateHideSeekbarTimeBubble(!0));var t=this.props.seekbarSegments.find((function(t){return e.props.time>=t.startTime&&e.props.time<t.endTime}));t&&!t.isHovered&&this.props.updateHoveredSegment(t.id,!0)}},{key:"onMarkerMouseLeave",value:function(){var e=this;this.setState({hover:!1}),this.props.updateHideSeekbarPreview(!1),this._hideTimeBubble&&(this._hideTimeBubble=!1,this.props.updateHideSeekbarTimeBubble(!1));var t=this.props.seekbarSegments.find((function(t){return e.props.time>=t.startTime&&e.props.time<t.endTime}));t&&t.isHovered&&this.props.updateHoveredSegment(t.id,!1)}},{key:"onPreviewMouseOver",value:function(){this.props.updateSeekbarPreviewHoverActive(!0)}},{key:"onPreviewMouseLeave",value:function(){this.props.updateSeekbarPreviewHoverActive(!1)}},{key:"componentDidMount",value:function(){this._hideTimeBubble=!1}},{key:"componentWillUnmount",value:function(){this.props.updateHideSeekbarPreview(!1),this._hideTimeBubble&&this.props.updateHideSeekbarTimeBubble(!1)}},{key:"render",value:function(e){var t=this,n=e.marker,r=e.preview,i=e.virtualTime,a=e.config,l=e.hoverActive,c=this._getMarkerPositionStyle(),d=c.edge,h={left:c.left};"none"!==d&&(h["padding".concat(d)]=0),(0,u.g)()&&k.Object.mergeDeep(h,{"--white":b.white,"--progress-bar-height":b.progressBarHeight,"--progress-bar-border-radius":b.progressBarBorderRadius});var f={backgroundColor:n.color,width:n.width},_=[s().playkitCuePoint,this.state.hover?b.hover:"","none"!==d?"playkit-".concat(d.toLowerCase(),"-border-radius"):""],m={className:(n.className?[].concat(_,[n.className]):_).join(" "),style:n.props?p(p({},f),n.props.style):f};m=p(p({},n.props),m);var v=r.width||n.width,C=r.height||n.height,A={width:"".concat(v,"px"),height:"".concat(C,"px")},y={style:r.props?p(p({},A),r.props.style):A};return r.className&&(y.className=r.className),y=p(p(p({},r.props),y),{},{defaultPreviewProps:{virtualTime:i,thumbsSlices:a.thumbsSlices,thumbsWidth:a.thumbsWidth,thumbsSprite:a.thumbsSprite}}),o.ui.h("div",{onMouseOver:function(){return t.onMarkerMouseOver()},onMouseLeave:function(){return t.onMarkerMouseLeave()},className:s().playkitCuePointContainer,style:h,ref:this._setMarkerRef,"data-testid":"cuePointContainer"},n.get?g.h(n.get,m):o.ui.h("div",{style:f,className:[].concat(_,[n.className]).join(" ")}),this._markerRef&&r.get?o.ui.h("div",{onMouseOver:function(){return t.onPreviewMouseOver()},onMouseLeave:function(){return t.onPreviewMouseLeave()},className:[s().playkitCuePointPreviewContainer,l?s().hoverActive:"",!1===r.sticky?b.nonSticky:""].join(" "),style:{left:"".concat(this._getPreviewPosition(v),"px")},ref:this._setPreviewRef},g.h(r.get,y)):void 0)}}])&&d(t.prototype,n),c}(g.Component),r=i))||r;w.displayName="CuePoint"},416:(e,t,n)=>{"use strict";var r;n.d(t,{g:()=>i});var i=function(){if("boolean"!=typeof r){var e=document.createElement("div");e.style.setProperty("--var","none"),e.style.setProperty("display","var(--var)"),document.body.appendChild(e),r="none"===getComputedStyle(e).display,document.body.removeChild(e)}return r}},42:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},396:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(559),i=n.n(r),o=n(3476),a=n.n(o)()(i());a.push([e.id,".icon__iconWrapper___O5uqn.icon__small___IddLg{width:16px;height:16px}.icon__iconWrapper___O5uqn.icon__medium___llFxB{width:24px;height:24px}.icon__iconWrapper___O5uqn.icon__large___Q96VN{width:32px;height:32px}.icon__iconWrapper___O5uqn>svg{width:100%;height:100%}","",{version:3,sources:["webpack://./../node_modules/@playkit-js/common/dist/icon/icon.scss"],names:[],mappings:"AACE,+CACE,UAAA,CACA,WAAA,CAEF,gDACE,UAAA,CACA,WAAA,CAEF,+CACE,UAAA,CACA,WAAA,CAEF,+BACE,UAAA,CACA,WAAA",sourcesContent:[".iconWrapper {\n  &.small {\n    width: 16px;\n    height: 16px;\n  }\n  &.medium {\n    width: 24px;\n    height: 24px;\n  }\n  &.large {\n    width: 32px;\n    height: 32px;\n  }\n  > svg {\n    width: 100%;\n    height: 100%;\n  }\n}\n"],sourceRoot:""}]),a.locals={iconWrapper:"icon__iconWrapper___O5uqn",small:"icon__small___IddLg",medium:"icon__medium___llFxB",large:"icon__large___Q96VN"};const s=a},4135:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(559),i=n.n(r),o=n(3476),a=n.n(o)()(i());a.push([e.id,".seekbar-segment__seek-bar-segment___rYKqA{background-color:rgba(255,255,255,.3);height:4px;transition:height 200ms ease,transform 200ms ease;position:relative;transform:translateY(0)}.seekbar-segment__seek-bar-segment___rYKqA:hover,.seekbar-segment__seek-bar-segment___rYKqA.seekbar-segment__hovered___IfpVf{height:8px;transform:translateY(-2px)}.seekbar-segment__seek-bar-segment___rYKqA .seekbar-segment__segment-progress___eZluc{position:absolute;top:0;left:0;height:100%;border-radius:inherit;background-color:var(--playkit-primary-color)}.seekbar-segment__seek-bar-segment___rYKqA .seekbar-segment__buffered___uobPI{position:absolute;top:0;left:0;height:100%;border-radius:inherit;background-color:rgba(255,255,255,.3)}","",{version:3,sources:["webpack://./components/chapters/seekbar-segment.scss","webpack://./theme.scss","webpack://./../node_modules/@playkit-js/playkit-js-ui/src/styles/exported.scss"],names:[],mappings:"AAUA,2CACE,qCAAA,CACA,UCToB,CDUpB,iDAAA,CACA,iBAAA,CACA,uBAAA,CAEA,6HAEE,UAAA,CACA,0BAAA,CAGF,sFApBA,iBAAA,CACA,KAAA,CACA,MAAA,CACA,WAAA,CACA,qBAAA,CAkBE,6CEtBY,CFyBd,8EAzBA,iBAAA,CACA,KAAA,CACA,MAAA,CACA,WAAA,CACA,qBAAA,CAuBE,qCAAA",sourcesContent:["@import '../../theme';\n\n@mixin base-segment {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  border-radius: inherit;\n}\n\n.seek-bar-segment {\n  background-color: rgba(255, 255, 255, 0.3);\n  height: $progress-bar-height;\n  transition: height 200ms ease, transform 200ms ease;\n  position: relative;\n  transform: translateY(0);\n\n  &:hover,\n  &.hovered {\n    height: 2 * $progress-bar-height;\n    transform: translateY(calc($progress-bar-height / -2));\n  }\n\n  .segment-progress {\n    @include base-segment;\n    background-color: $primary-color;\n  }\n\n  .buffered {\n    @include base-segment;\n    background-color: rgba(255, 255, 255, 0.3);\n  }\n}\n","@import '~@playkit-js/playkit-js-ui';\n\n$roundness-1: 4px;\n$progress-bar-height: 4px;\n","// Sass variables exported using the npm package for plugins usage\n\n// Accent Colors\n$primary-color: var(--playkit-primary-color);\n$primary-darker-color: var(--playkit-primary-darker-color);\n$primary-brighter-color: var(--playkit-primary-brighter-color);\n$primary-text-contrast-color: var(--playkit-primary-text-contrast-color);\n\n$secondary-color: var(--playkit-secondary-color);\n$secondary-darker-color: var(--playkit-secondary-darker-color);\n$secondary-brighter-color: var(--playkit-secondary-brighter-color);\n$secondary-text-contrast-color: var(--playkit-secondary-text-contrast-color);\n\n// Acknowledgement Colors\n$success-color: var(--playkit-success-color);\n$success-darker-color: var(--playkit-success-darker-color);\n$success-brighter-color: var(--playkit-success-brighter-color);\n$success-text-contrast-color: var(--playkit-success-text-contrast-color);\n\n$danger-color: var(--playkit-danger-color);\n$danger-darker-color: var(--playkit-danger-darker-color);\n$danger-brighter-color: var(--playkit-danger-brighter-color);\n$danger-text-contrast-color: var(--playkit-danger-text-contrast-color);\n\n$warning-color: var(--playkit-warning-color);\n$warning-darker-color: var(--playkit-warning-darker-color);\n$warning-brighter-color: var(--playkit-warning-brighter-color);\n$warning-text-contrast-color: var(--playkit-warning-text-contrast-color);\n\n// Tone Ramp\n$tone-1-color: var(--playkit-tone-1-color);\n$tone-2-color: var(--playkit-tone-2-color);\n$tone-3-color: var(--playkit-tone-3-color);\n$tone-4-color: var(--playkit-tone-4-color);\n$tone-5-color: var(--playkit-tone-5-color);\n$tone-6-color: var(--playkit-tone-6-color);\n$tone-7-color: var(--playkit-tone-7-color);\n$tone-8-color: var(--playkit-tone-8-color);\n\n$live-color: var(--playkit-live-color);\n$player-background-color: var(--playkit-player-background-color);\n$tab-focus-color: var(--playkit-tab-focus-color);\n$tooltip-background-color: var(--playkit-tooltip-background-color);\n$tooltip-color: var(--playkit-tooltip-color);\n$ads-color: var(--playkit-ads-color);\n"],sourceRoot:""}]),a.locals={"seek-bar-segment":"seekbar-segment__seek-bar-segment___rYKqA",seekBarSegment:"seekbar-segment__seek-bar-segment___rYKqA",hovered:"seekbar-segment__hovered___IfpVf","segment-progress":"seekbar-segment__segment-progress___eZluc",segmentProgress:"seekbar-segment__segment-progress___eZluc",buffered:"seekbar-segment__buffered___uobPI"};const s=a},4299:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(559),i=n.n(r),o=n(3476),a=n.n(o)()(i());a.push([e.id,".segments-wrapper__chapters-container___qLDCM{display:flex;width:100%;height:100%;position:absolute}.segments-wrapper__chapters-container___qLDCM>div{border-radius:4px}.segments-wrapper__chapters-container___qLDCM>div:not(:last-child){margin-right:4px}","",{version:3,sources:["webpack://./components/chapters/segments-wrapper.scss"],names:[],mappings:"AAAA,8CACE,YAAA,CACA,UAAA,CACA,WAAA,CACA,iBAAA,CAGF,kDACE,iBAAA,CACA,mEACE,gBAAA",sourcesContent:[".chapters-container {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n\n.chapters-container > div {\n  border-radius: 4px;\n  &:not(:last-child) {\n    margin-right: 4px;\n  }\n}\n"],sourceRoot:""}]),a.locals={"chapters-container":"segments-wrapper__chapters-container___qLDCM",chaptersContainer:"segments-wrapper__chapters-container___qLDCM"};const s=a},2382:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(559),i=n.n(r),o=n(3476),a=n.n(o)()(i());a.push([e.id,".cue-point__playkit-cue-point-container___gBJv8{position:absolute;height:inherit;padding:12px 2px 16px 2px;padding:18px 2px calc(12px + var(--progress-bar-height)) 2px;margin:-18px 0}.cue-point__playkit-cue-point-container___gBJv8:focus-within .cue-point__playkit-cue-point-preview-container___IFVsk:not(.cue-point__hoverActive___BD4Kt){display:block}.cue-point__playkit-cue-point-container___gBJv8:hover .cue-point__playkit-cue-point-preview-container___IFVsk{display:block}.cue-point__playkit-cue-point___NWE7m{height:inherit;width:2px;background-color:#fff;background-color:var(--white);transition:transform 100ms}.cue-point__playkit-cue-point___NWE7m.cue-point__playkit-hover___gaWUy{transform:scale(2);border-radius:1px}.cue-point__playkit-left-border-radius___Kfmxx{border-radius:4px 0 0 4px;border-radius:calc(2*var(--progress-bar-border-radius)) 0 0 calc(2*var(--progress-bar-border-radius))}.cue-point__playkit-right-border-radius___qC6Gk{border-radius:0 4px 4px 0;border-radius:0 calc(2*var(--progress-bar-border-radius)) calc(2*var(--progress-bar-border-radius)) 0}.cue-point__playkit-cue-point-preview-container___IFVsk{display:none;position:absolute;bottom:28px;bottom:calc(28px + var(--progress-bar-height))}.cue-point__playkit-seek-bar___cWk9e.cue-point__playkit-resizing___TWSNM .cue-point__playkit-cue-point-container___gBJv8{display:none}","",{version:3,sources:["webpack://./components/cue-point/cue-point.scss"],names:[],mappings:"AAAA,gDACE,iBAAA,CACA,cAAA,CACA,yBAAA,CACA,4DAAA,CACA,cAAA,CACA,0JACE,aAAA,CAIJ,8GACE,aAAA,CAGF,sCACE,cAAA,CACA,SAAA,CACA,qBAAA,CACA,6BAAA,CACA,0BAAA,CAGF,uEACE,kBAAA,CACA,iBAAA,CAGF,+CACE,yBAAA,CACA,qGAAA,CAGF,gDACE,yBAAA,CACA,qGAAA,CAGF,wDACE,YAAA,CACA,iBAAA,CACA,WAAA,CACA,8CAAA,CAGF,yHACE,YAAA",sourcesContent:[".playkit-cue-point-container {\n  position: absolute;\n  height: inherit;\n  padding: 12px 2px 16px 2px;\n  padding: 18px 2px calc(12px + var(--progress-bar-height)) 2px;\n  margin: -18px 0;\n  &:focus-within .playkit-cue-point-preview-container:not(.hoverActive) {\n    display: block;\n  }\n}\n\n.playkit-cue-point-container:hover .playkit-cue-point-preview-container {\n  display: block;\n}\n\n.playkit-cue-point {\n  height: inherit;\n  width: 2px;\n  background-color: #ffffff;\n  background-color: var(--white);\n  transition: transform 100ms;\n}\n\n.playkit-cue-point.playkit-hover {\n  transform: scale(2);\n  border-radius: 1px;\n}\n\n.playkit-left-border-radius {\n  border-radius: 4px 0 0 4px;\n  border-radius: calc(2 * var(--progress-bar-border-radius)) 0 0 calc(2 * var(--progress-bar-border-radius));\n}\n\n.playkit-right-border-radius {\n  border-radius: 0 4px 4px 0;\n  border-radius: 0 calc(2 * var(--progress-bar-border-radius)) calc(2 * var(--progress-bar-border-radius)) 0;\n}\n\n.playkit-cue-point-preview-container {\n  display: none;\n  position: absolute;\n  bottom: 28px;\n  bottom: calc(28px + var(--progress-bar-height));\n}\n\n.playkit-seek-bar.playkit-resizing .playkit-cue-point-container {\n  display: none;\n}\n"],sourceRoot:""}]),a.locals={"playkit-cue-point-container":"cue-point__playkit-cue-point-container___gBJv8",playkitCuePointContainer:"cue-point__playkit-cue-point-container___gBJv8","playkit-cue-point-preview-container":"cue-point__playkit-cue-point-preview-container___IFVsk",playkitCuePointPreviewContainer:"cue-point__playkit-cue-point-preview-container___IFVsk",hoverActive:"cue-point__hoverActive___BD4Kt","playkit-cue-point":"cue-point__playkit-cue-point___NWE7m",playkitCuePoint:"cue-point__playkit-cue-point___NWE7m","playkit-hover":"cue-point__playkit-hover___gaWUy",playkitHover:"cue-point__playkit-hover___gaWUy","playkit-left-border-radius":"cue-point__playkit-left-border-radius___Kfmxx",playkitLeftBorderRadius:"cue-point__playkit-left-border-radius___Kfmxx","playkit-right-border-radius":"cue-point__playkit-right-border-radius___qC6Gk",playkitRightBorderRadius:"cue-point__playkit-right-border-radius___qC6Gk","playkit-seek-bar":"cue-point__playkit-seek-bar___cWk9e",playkitSeekBar:"cue-point__playkit-seek-bar___cWk9e","playkit-resizing":"cue-point__playkit-resizing___TWSNM",playkitResizing:"cue-point__playkit-resizing___TWSNM"};const s=a},2417:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(559),i=n.n(r),o=n(3476),a=n.n(o)()(i());a.push([e.id,".timeline-marker__quizQuestionMarkerSize___xAKIM{display:flex;justify-content:center;width:12px;height:8px;transform:translateY(-2px);background-color:rgba(0,0,0,0);outline-offset:1px}.timeline-marker__quizQuestionMarkerSize___xAKIM.timeline-marker__hover___a8Shw{height:12px;transition:height 200ms ease,transform 200ms ease}.timeline-marker__quizQuestionMarkerSize___xAKIM .timeline-marker__marker___KFI7C{width:4px;height:100%;background-color:#fff;border-radius:2px}.timeline-marker__smallMarker___j4xu2{width:2px;height:4px;display:flex;justify-content:center;background-color:rgba(0,0,0,0);outline-offset:1px}.timeline-marker__smallMarker___j4xu2.timeline-marker__hover___a8Shw{height:8px;transition:height 200ms ease,transform 200ms ease;border-radius:2px}.timeline-marker__smallMarker___j4xu2 .timeline-marker__marker___KFI7C{width:4px;height:100%;background-color:#fff;border-radius:2px}","",{version:3,sources:["webpack://./components/marker/timeline-marker.scss"],names:[],mappings:"AAUA,iDACE,YAAA,CACA,sBAAA,CACA,UAAA,CACA,UAAA,CACA,0BAAA,CACA,8BAAA,CACA,kBAAA,CACA,gFACE,WAAA,CACA,iDAlBS,CAoBX,kFAlBA,SAAA,CACA,WAAA,CACA,qBAAA,CACA,iBAAA,CAoBF,sCACE,SAAA,CACA,UAAA,CACA,YAAA,CACA,sBAAA,CACA,8BAAA,CACA,kBAAA,CACA,qEACE,UAAA,CACA,iDAlCS,CAmCT,iBAAA,CAEF,uEAnCA,SAAA,CACA,WAAA,CACA,qBAAA,CACA,iBAAA",sourcesContent:["@import '../../theme.scss';\n\n$transition: height 200ms ease, transform 200ms ease;\n@mixin marker {\n  width: 4px;\n  height: 100%;\n  background-color: #ffffff;\n  border-radius: 2px;\n}\n\n.quizQuestionMarkerSize {\n  display: flex;\n  justify-content: center;\n  width: 12px;\n  height: 8px;\n  transform: translateY(calc($progress-bar-height / -2));\n  background-color: transparent;\n  outline-offset: 1px;\n  &.hover {\n    height: 12px;\n    transition: $transition;\n  }\n  .marker {\n    @include marker;\n  }\n}\n\n.smallMarker {\n  width: 2px;\n  height: 4px;\n  display: flex;\n  justify-content: center;\n  background-color: transparent;\n  outline-offset: 1px;\n  &.hover {\n    height: 8px;\n    transition: $transition;\n    border-radius: 2px;\n  }\n  .marker {\n    @include marker;\n  }\n}\n"],sourceRoot:""}]),a.locals={quizQuestionMarkerSize:"timeline-marker__quizQuestionMarkerSize___xAKIM",hover:"timeline-marker__hover___a8Shw",marker:"timeline-marker__marker___KFI7C",smallMarker:"timeline-marker__smallMarker___j4xu2"};const s=a},4389:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(559),i=n.n(r),o=n(3476),a=n.n(o)()(i());a.push([e.id,'.timeline-preview__container___b1rJr{display:flex;flex-direction:column;cursor:pointer;position:relative;padding-top:40px;z-index:1}.timeline-preview__container___b1rJr:not(.timeline-preview__xs-player___FxJJZ) .timeline-preview__header___FnZkA:has(.timeline-preview__title___Iue1r){background:rgba(0,0,0,.6);border-radius:4px}.timeline-preview__container___b1rJr:not(.timeline-preview__xs-player___FxJJZ) .timeline-preview__header___FnZkA:has(.timeline-preview__title___Iue1r):hover{background:rgba(0,0,0,.7)}.timeline-preview__container___b1rJr:not(.timeline-preview__xs-player___FxJJZ) .timeline-preview__header___FnZkA .timeline-preview__items-wrapper___uzD5D>div:first-child{margin-left:2px}.timeline-preview__container___b1rJr.timeline-preview__xs-player___FxJJZ{padding-top:0}.timeline-preview__container___b1rJr.timeline-preview__xs-player___FxJJZ .timeline-preview__header___FnZkA{top:3px;padding:0;position:absolute;align-items:flex-start;height:auto;width:100%;margin-left:2px}.timeline-preview__container___b1rJr.timeline-preview__xs-player___FxJJZ .timeline-preview__header___FnZkA .timeline-preview__title-wrapper___UjFuw{margin-right:4px}.timeline-preview__container___b1rJr::after{position:absolute;bottom:-14px;content:"";width:100%;height:14px;display:block;background-color:rgba(0,0,0,0)}.timeline-preview__container___b1rJr .timeline-preview__header___FnZkA{display:flex;align-items:center;padding:4px;color:#fff;font-size:14px;text-shadow:0 0 2px rgba(0,0,0,.5);margin-bottom:2px;position:absolute;top:-10px}.timeline-preview__container___b1rJr .timeline-preview__header___FnZkA.timeline-preview__header-thumbnail___KKUq7{top:10px}.timeline-preview__container___b1rJr .timeline-preview__header___FnZkA .timeline-preview__items-wrapper___uzD5D{display:flex;flex-direction:row;flex-wrap:nowrap;flex-grow:1}.timeline-preview__container___b1rJr .timeline-preview__header___FnZkA .timeline-preview__items-wrapper___uzD5D .timeline-preview__title-wrapper___UjFuw{display:flex;align-items:center}.timeline-preview__container___b1rJr .timeline-preview__header___FnZkA .timeline-preview__items-wrapper___uzD5D .timeline-preview__title-wrapper___UjFuw div{filter:drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.5))}.timeline-preview__container___b1rJr .timeline-preview__header___FnZkA .timeline-preview__items-wrapper___uzD5D .timeline-preview__title-wrapper___UjFuw .timeline-preview__title___Iue1r{flex-grow:1;margin:0 8px 0 2px;text-align:left;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:320px}.timeline-preview__container___b1rJr .timeline-preview__image-container___RZz_2{display:flex;background:rgba(0,0,0,.7);background-clip:content-box;border:2px solid rgba(255,255,255,.2);border-radius:4px}',"",{version:3,sources:["webpack://./components/marker/timeline-preview.scss","webpack://./theme.scss"],names:[],mappings:"AAEA,qCACE,YAAA,CACA,qBAAA,CACA,cAAA,CACA,iBAAA,CACA,gBAAA,CACA,SAAA,CAEE,uJACE,yBAAA,CACA,iBCVQ,CDWR,6JACE,yBAAA,CAGJ,0KACE,eAAA,CAGJ,yEACE,aAAA,CACA,2GACE,OAAA,CACA,SAAA,CACA,iBAAA,CACA,sBAAA,CACA,WAAA,CACA,UAAA,CACA,eAAA,CACA,oJACE,gBAAA,CAIN,4CACE,iBAAA,CACA,YAAA,CACA,UAAA,CACA,UAAA,CACA,WAAA,CACA,aAAA,CACA,8BAAA,CAEF,uEACE,YAAA,CACA,kBAAA,CACA,WAAA,CACA,UAAA,CACA,cAAA,CACA,kCAAA,CACA,iBAAA,CACA,iBAAA,CACA,SAAA,CACA,kHACE,QAAA,CAEF,gHACE,YAAA,CACA,kBAAA,CACA,gBAAA,CACA,WAAA,CACA,yJACE,YAAA,CACA,kBAAA,CACA,6JACE,kDAAA,CAEF,0LACE,WAAA,CACA,kBAAA,CACA,eAAA,CACA,kBAAA,CACA,eAAA,CACA,sBAAA,CACA,eAAA,CAKR,gFACE,YAAA,CACA,yBAAA,CACA,2BAAA,CACA,qCAAA,CACA,iBCpFU",sourcesContent:["@import '../../theme.scss';\n\n.container {\n  display: flex;\n  flex-direction: column;\n  cursor: pointer;\n  position: relative;\n  padding-top: 40px;\n  z-index: 1;\n  &:not(.xs-player) {\n    .header:has(.title) {\n      background: rgba(0, 0, 0, 0.6);\n      border-radius: $roundness-1;\n      &:hover {\n        background: rgba(0, 0, 0, 0.7);\n      }\n    }\n    .header .items-wrapper > div:first-child {\n      margin-left: 2px;\n    }\n  }\n  &.xs-player {\n    padding-top: 0;\n    .header {\n      top: 3px;\n      padding: 0;\n      position: absolute;\n      align-items: flex-start;\n      height: auto;\n      width: 100%;\n      margin-left: 2px;\n      .title-wrapper {\n        margin-right: 4px;\n      }\n    }\n  }\n  &::after {\n    position: absolute;\n    bottom: -14px;\n    content: \"\";\n    width: 100%;\n    height: 14px;\n    display: block;\n    background-color: transparent;\n  }\n  .header {\n    display: flex;\n    align-items: center;\n    padding: 4px;\n    color: #ffffff;\n    font-size: 14px;\n    text-shadow: 0 0 2px rgba(0, 0, 0, 0.5);\n    margin-bottom: 2px;\n    position: absolute;\n    top: -10px;\n    &.header-thumbnail {\n      top: 10px;\n    }\n    .items-wrapper {\n      display: flex;\n      flex-direction: row;\n      flex-wrap: nowrap;\n      flex-grow: 1;\n      .title-wrapper {\n        display: flex;\n        align-items: center;\n        div {\n          filter: drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.50));\n        }\n        .title {\n          flex-grow: 1;\n          margin: 0 8px 0 2px;\n          text-align: left;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          max-width: 320px;\n        }\n      }\n    }\n  }\n  .image-container {\n    display: flex;\n    background: rgba(0, 0, 0, 0.7);\n    background-clip: content-box;\n    border: 2px solid rgba(255, 255, 255, 0.2);\n    border-radius: $roundness-1;\n  }\n}\n","@import '~@playkit-js/playkit-js-ui';\n\n$roundness-1: 4px;\n$progress-bar-height: 4px;\n"],sourceRoot:""}]),a.locals={container:"timeline-preview__container___b1rJr","xs-player":"timeline-preview__xs-player___FxJJZ",xsPlayer:"timeline-preview__xs-player___FxJJZ",header:"timeline-preview__header___FnZkA",title:"timeline-preview__title___Iue1r","items-wrapper":"timeline-preview__items-wrapper___uzD5D",itemsWrapper:"timeline-preview__items-wrapper___uzD5D","title-wrapper":"timeline-preview__title-wrapper___UjFuw",titleWrapper:"timeline-preview__title-wrapper___UjFuw","header-thumbnail":"timeline-preview__header-thumbnail___KKUq7",headerThumbnail:"timeline-preview__header-thumbnail___KKUq7","image-container":"timeline-preview__image-container___RZz_2",imageContainer:"timeline-preview__image-container___RZz_2"};const s=a},3476:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(a[u]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);r&&a[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),t.push(c))}},t}},559:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(i," */");return[t].concat([o]).join("\n")}return[t].join("\n")}},3977:(e,t,n)=>{var r;!function(){var i=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])_(t,r)&&(e[r]=t[r]);return e},o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=u((function(e){return 1===e?"χρόνος":"χρόνια"}),(function(e){return 1===e?"μήνας":"μήνες"}),(function(e){return 1===e?"εβδομάδα":"εβδομάδες"}),(function(e){return 1===e?"μέρα":"μέρες"}),(function(e){return 1===e?"ώρα":"ώρες"}),(function(e){return 1===e?"λεπτό":"λεπτά"}),(function(e){return 1===e?"δευτερόλεπτο":"δευτερόλεπτα"}),(function(e){return(1===e?"χιλιοστό":"χιλιοστά")+" του δευτερολέπτου"}),","),s={af:u("jaar",(function(e){return"maand"+(1===e?"":"e")}),(function(e){return 1===e?"week":"weke"}),(function(e){return 1===e?"dag":"dae"}),(function(e){return 1===e?"uur":"ure"}),(function(e){return 1===e?"minuut":"minute"}),(function(e){return"sekonde"+(1===e?"":"s")}),(function(e){return"millisekonde"+(1===e?"":"s")}),","),am:u("ዓመት","ወር","ሳምንት","ቀን","ሰዓት","ደቂቃ","ሰከንድ","ሚሊሰከንድ"),ar:i(u((function(e){return["سنة","سنتان","سنوات"][l(e)]}),(function(e){return["شهر","شهران","أشهر"][l(e)]}),(function(e){return["أسبوع","أسبوعين","أسابيع"][l(e)]}),(function(e){return["يوم","يومين","أيام"][l(e)]}),(function(e){return["ساعة","ساعتين","ساعات"][l(e)]}),(function(e){return["دقيقة","دقيقتان","دقائق"][l(e)]}),(function(e){return["ثانية","ثانيتان","ثواني"][l(e)]}),(function(e){return["جزء من الثانية","جزآن من الثانية","أجزاء من الثانية"][l(e)]}),","),{delimiter:" ﻭ ",_hideCountIf2:!0,_digitReplacements:["۰","١","٢","٣","٤","٥","٦","٧","٨","٩"]}),bg:u((function(e){return["години","година","години"][p(e)]}),(function(e){return["месеца","месец","месеца"][p(e)]}),(function(e){return["седмици","седмица","седмици"][p(e)]}),(function(e){return["дни","ден","дни"][p(e)]}),(function(e){return["часа","час","часа"][p(e)]}),(function(e){return["минути","минута","минути"][p(e)]}),(function(e){return["секунди","секунда","секунди"][p(e)]}),(function(e){return["милисекунди","милисекунда","милисекунди"][p(e)]}),","),bn:u("বছর","মাস","সপ্তাহ","দিন","ঘন্টা","মিনিট","সেকেন্ড","মিলিসেকেন্ড"),ca:u((function(e){return"any"+(1===e?"":"s")}),(function(e){return"mes"+(1===e?"":"os")}),(function(e){return"setman"+(1===e?"a":"es")}),(function(e){return"di"+(1===e?"a":"es")}),(function(e){return"hor"+(1===e?"a":"es")}),(function(e){return"minut"+(1===e?"":"s")}),(function(e){return"segon"+(1===e?"":"s")}),(function(e){return"milisegon"+(1===e?"":"s")}),","),ckb:u("ساڵ","مانگ","هەفتە","ڕۆژ","کاژێر","خولەک","چرکە","میلی چرکە","."),cs:u((function(e){return["rok","roku","roky","let"][d(e)]}),(function(e){return["měsíc","měsíce","měsíce","měsíců"][d(e)]}),(function(e){return["týden","týdne","týdny","týdnů"][d(e)]}),(function(e){return["den","dne","dny","dní"][d(e)]}),(function(e){return["hodina","hodiny","hodiny","hodin"][d(e)]}),(function(e){return["minuta","minuty","minuty","minut"][d(e)]}),(function(e){return["sekunda","sekundy","sekundy","sekund"][d(e)]}),(function(e){return["milisekunda","milisekundy","milisekundy","milisekund"][d(e)]}),","),cy:u("flwyddyn","mis","wythnos","diwrnod","awr","munud","eiliad","milieiliad"),da:u("år",(function(e){return"måned"+(1===e?"":"er")}),(function(e){return"uge"+(1===e?"":"r")}),(function(e){return"dag"+(1===e?"":"e")}),(function(e){return"time"+(1===e?"":"r")}),(function(e){return"minut"+(1===e?"":"ter")}),(function(e){return"sekund"+(1===e?"":"er")}),(function(e){return"millisekund"+(1===e?"":"er")}),","),de:u((function(e){return"Jahr"+(1===e?"":"e")}),(function(e){return"Monat"+(1===e?"":"e")}),(function(e){return"Woche"+(1===e?"":"n")}),(function(e){return"Tag"+(1===e?"":"e")}),(function(e){return"Stunde"+(1===e?"":"n")}),(function(e){return"Minute"+(1===e?"":"n")}),(function(e){return"Sekunde"+(1===e?"":"n")}),(function(e){return"Millisekunde"+(1===e?"":"n")}),","),el:a,en:u((function(e){return"year"+(1===e?"":"s")}),(function(e){return"month"+(1===e?"":"s")}),(function(e){return"week"+(1===e?"":"s")}),(function(e){return"day"+(1===e?"":"s")}),(function(e){return"hour"+(1===e?"":"s")}),(function(e){return"minute"+(1===e?"":"s")}),(function(e){return"second"+(1===e?"":"s")}),(function(e){return"millisecond"+(1===e?"":"s")})),eo:u((function(e){return"jaro"+(1===e?"":"j")}),(function(e){return"monato"+(1===e?"":"j")}),(function(e){return"semajno"+(1===e?"":"j")}),(function(e){return"tago"+(1===e?"":"j")}),(function(e){return"horo"+(1===e?"":"j")}),(function(e){return"minuto"+(1===e?"":"j")}),(function(e){return"sekundo"+(1===e?"":"j")}),(function(e){return"milisekundo"+(1===e?"":"j")}),","),es:u((function(e){return"año"+(1===e?"":"s")}),(function(e){return"mes"+(1===e?"":"es")}),(function(e){return"semana"+(1===e?"":"s")}),(function(e){return"día"+(1===e?"":"s")}),(function(e){return"hora"+(1===e?"":"s")}),(function(e){return"minuto"+(1===e?"":"s")}),(function(e){return"segundo"+(1===e?"":"s")}),(function(e){return"milisegundo"+(1===e?"":"s")}),","),et:u((function(e){return"aasta"+(1===e?"":"t")}),(function(e){return"kuu"+(1===e?"":"d")}),(function(e){return"nädal"+(1===e?"":"at")}),(function(e){return"päev"+(1===e?"":"a")}),(function(e){return"tund"+(1===e?"":"i")}),(function(e){return"minut"+(1===e?"":"it")}),(function(e){return"sekund"+(1===e?"":"it")}),(function(e){return"millisekund"+(1===e?"":"it")}),","),eu:u("urte","hilabete","aste","egun","ordu","minutu","segundo","milisegundo",","),fa:u("سال","ماه","هفته","روز","ساعت","دقیقه","ثانیه","میلی ثانیه"),fi:u((function(e){return 1===e?"vuosi":"vuotta"}),(function(e){return 1===e?"kuukausi":"kuukautta"}),(function(e){return"viikko"+(1===e?"":"a")}),(function(e){return"päivä"+(1===e?"":"ä")}),(function(e){return"tunti"+(1===e?"":"a")}),(function(e){return"minuutti"+(1===e?"":"a")}),(function(e){return"sekunti"+(1===e?"":"a")}),(function(e){return"millisekunti"+(1===e?"":"a")}),","),fo:u("ár",(function(e){return 1===e?"mánaður":"mánaðir"}),(function(e){return 1===e?"vika":"vikur"}),(function(e){return 1===e?"dagur":"dagar"}),(function(e){return 1===e?"tími":"tímar"}),(function(e){return 1===e?"minuttur":"minuttir"}),"sekund","millisekund",","),fr:u((function(e){return"an"+(e>=2?"s":"")}),"mois",(function(e){return"semaine"+(e>=2?"s":"")}),(function(e){return"jour"+(e>=2?"s":"")}),(function(e){return"heure"+(e>=2?"s":"")}),(function(e){return"minute"+(e>=2?"s":"")}),(function(e){return"seconde"+(e>=2?"s":"")}),(function(e){return"milliseconde"+(e>=2?"s":"")}),","),gr:a,he:u((function(e){return 1===e?"שנה":"שנים"}),(function(e){return 1===e?"חודש":"חודשים"}),(function(e){return 1===e?"שבוע":"שבועות"}),(function(e){return 1===e?"יום":"ימים"}),(function(e){return 1===e?"שעה":"שעות"}),(function(e){return 1===e?"דקה":"דקות"}),(function(e){return 1===e?"שניה":"שניות"}),(function(e){return 1===e?"מילישנייה":"מילישניות"})),hr:u((function(e){return e%10==2||e%10==3||e%10==4?"godine":"godina"}),(function(e){return 1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci"}),(function(e){return e%10==1&&11!==e?"tjedan":"tjedna"}),(function(e){return 1===e?"dan":"dana"}),(function(e){return 1===e?"sat":2===e||3===e||4===e?"sata":"sati"}),(function(e){var t=e%10;return 2!==t&&3!==t&&4!==t||!(e<10||e>14)?"minuta":"minute"}),(function(e){var t=e%10;return 5===t||Math.floor(e)===e&&e>=10&&e<=19?"sekundi":1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi"}),(function(e){return 1===e?"milisekunda":e%10==2||e%10==3||e%10==4?"milisekunde":"milisekundi"}),","),hi:u("साल",(function(e){return 1===e?"महीना":"महीने"}),(function(e){return 1===e?"हफ़्ता":"हफ्ते"}),"दिन",(function(e){return 1===e?"घंटा":"घंटे"}),"मिनट","सेकंड","मिलीसेकंड"),hu:u("év","hónap","hét","nap","óra","perc","másodperc","ezredmásodperc",","),id:u("tahun","bulan","minggu","hari","jam","menit","detik","milidetik"),is:u("ár",(function(e){return"mánuð"+(1===e?"ur":"ir")}),(function(e){return"vik"+(1===e?"a":"ur")}),(function(e){return"dag"+(1===e?"ur":"ar")}),(function(e){return"klukkutím"+(1===e?"i":"ar")}),(function(e){return"mínút"+(1===e?"a":"ur")}),(function(e){return"sekúnd"+(1===e?"a":"ur")}),(function(e){return"millisekúnd"+(1===e?"a":"ur")})),it:u((function(e){return"ann"+(1===e?"o":"i")}),(function(e){return"mes"+(1===e?"e":"i")}),(function(e){return"settiman"+(1===e?"a":"e")}),(function(e){return"giorn"+(1===e?"o":"i")}),(function(e){return"or"+(1===e?"a":"e")}),(function(e){return"minut"+(1===e?"o":"i")}),(function(e){return"second"+(1===e?"o":"i")}),(function(e){return"millisecond"+(1===e?"o":"i")}),","),ja:u("年","ヶ月","週","日","時間","分","秒","ミリ秒"),km:u("ឆ្នាំ","ខែ","សប្តាហ៍","ថ្ងៃ","ម៉ោង","នាទី","វិនាទី","មិល្លីវិនាទី"),kn:u((function(e){return 1===e?"ವರ್ಷ":"ವರ್ಷಗಳು"}),(function(e){return 1===e?"ತಿಂಗಳು":"ತಿಂಗಳುಗಳು"}),(function(e){return 1===e?"ವಾರ":"ವಾರಗಳು"}),(function(e){return 1===e?"ದಿನ":"ದಿನಗಳು"}),(function(e){return 1===e?"ಗಂಟೆ":"ಗಂಟೆಗಳು"}),(function(e){return 1===e?"ನಿಮಿಷ":"ನಿಮಿಷಗಳು"}),(function(e){return 1===e?"ಸೆಕೆಂಡ್":"ಸೆಕೆಂಡುಗಳು"}),(function(e){return 1===e?"ಮಿಲಿಸೆಕೆಂಡ್":"ಮಿಲಿಸೆಕೆಂಡುಗಳು"})),ko:u("년","개월","주일","일","시간","분","초","밀리 초"),ku:u("sal","meh","hefte","roj","seet","deqe","saniye","mîlîçirk",","),lo:u("ປີ","ເດືອນ","ອາທິດ","ມື້","ຊົ່ວໂມງ","ນາທີ","ວິນາທີ","ມິນລິວິນາທີ",","),lt:u((function(e){return e%10==0||e%100>=10&&e%100<=20?"metų":"metai"}),(function(e){return["mėnuo","mėnesiai","mėnesių"][h(e)]}),(function(e){return["savaitė","savaitės","savaičių"][h(e)]}),(function(e){return["diena","dienos","dienų"][h(e)]}),(function(e){return["valanda","valandos","valandų"][h(e)]}),(function(e){return["minutė","minutės","minučių"][h(e)]}),(function(e){return["sekundė","sekundės","sekundžių"][h(e)]}),(function(e){return["milisekundė","milisekundės","milisekundžių"][h(e)]}),","),lv:u((function(e){return f(e)?"gads":"gadi"}),(function(e){return f(e)?"mēnesis":"mēneši"}),(function(e){return f(e)?"nedēļa":"nedēļas"}),(function(e){return f(e)?"diena":"dienas"}),(function(e){return f(e)?"stunda":"stundas"}),(function(e){return f(e)?"minūte":"minūtes"}),(function(e){return f(e)?"sekunde":"sekundes"}),(function(e){return f(e)?"milisekunde":"milisekundes"}),","),mk:u((function(e){return 1===e?"година":"години"}),(function(e){return 1===e?"месец":"месеци"}),(function(e){return 1===e?"недела":"недели"}),(function(e){return 1===e?"ден":"дена"}),(function(e){return 1===e?"час":"часа"}),(function(e){return 1===e?"минута":"минути"}),(function(e){return 1===e?"секунда":"секунди"}),(function(e){return 1===e?"милисекунда":"милисекунди"}),","),mn:u("жил","сар","долоо хоног","өдөр","цаг","минут","секунд","миллисекунд"),mr:u((function(e){return 1===e?"वर्ष":"वर्षे"}),(function(e){return 1===e?"महिना":"महिने"}),(function(e){return 1===e?"आठवडा":"आठवडे"}),"दिवस","तास",(function(e){return 1===e?"मिनिट":"मिनिटे"}),"सेकंद","मिलिसेकंद"),ms:u("tahun","bulan","minggu","hari","jam","minit","saat","milisaat"),nl:u("jaar",(function(e){return 1===e?"maand":"maanden"}),(function(e){return 1===e?"week":"weken"}),(function(e){return 1===e?"dag":"dagen"}),"uur",(function(e){return 1===e?"minuut":"minuten"}),(function(e){return 1===e?"seconde":"seconden"}),(function(e){return 1===e?"milliseconde":"milliseconden"}),","),no:u("år",(function(e){return"måned"+(1===e?"":"er")}),(function(e){return"uke"+(1===e?"":"r")}),(function(e){return"dag"+(1===e?"":"er")}),(function(e){return"time"+(1===e?"":"r")}),(function(e){return"minutt"+(1===e?"":"er")}),(function(e){return"sekund"+(1===e?"":"er")}),(function(e){return"millisekund"+(1===e?"":"er")}),","),pl:u((function(e){return["rok","roku","lata","lat"][c(e)]}),(function(e){return["miesiąc","miesiąca","miesiące","miesięcy"][c(e)]}),(function(e){return["tydzień","tygodnia","tygodnie","tygodni"][c(e)]}),(function(e){return["dzień","dnia","dni","dni"][c(e)]}),(function(e){return["godzina","godziny","godziny","godzin"][c(e)]}),(function(e){return["minuta","minuty","minuty","minut"][c(e)]}),(function(e){return["sekunda","sekundy","sekundy","sekund"][c(e)]}),(function(e){return["milisekunda","milisekundy","milisekundy","milisekund"][c(e)]}),","),pt:u((function(e){return"ano"+(1===e?"":"s")}),(function(e){return 1===e?"mês":"meses"}),(function(e){return"semana"+(1===e?"":"s")}),(function(e){return"dia"+(1===e?"":"s")}),(function(e){return"hora"+(1===e?"":"s")}),(function(e){return"minuto"+(1===e?"":"s")}),(function(e){return"segundo"+(1===e?"":"s")}),(function(e){return"milissegundo"+(1===e?"":"s")}),","),ro:u((function(e){return 1===e?"an":"ani"}),(function(e){return 1===e?"lună":"luni"}),(function(e){return 1===e?"săptămână":"săptămâni"}),(function(e){return 1===e?"zi":"zile"}),(function(e){return 1===e?"oră":"ore"}),(function(e){return 1===e?"minut":"minute"}),(function(e){return 1===e?"secundă":"secunde"}),(function(e){return 1===e?"milisecundă":"milisecunde"}),","),ru:u((function(e){return["лет","год","года"][p(e)]}),(function(e){return["месяцев","месяц","месяца"][p(e)]}),(function(e){return["недель","неделя","недели"][p(e)]}),(function(e){return["дней","день","дня"][p(e)]}),(function(e){return["часов","час","часа"][p(e)]}),(function(e){return["минут","минута","минуты"][p(e)]}),(function(e){return["секунд","секунда","секунды"][p(e)]}),(function(e){return["миллисекунд","миллисекунда","миллисекунды"][p(e)]}),","),sq:u((function(e){return 1===e?"vit":"vjet"}),"muaj","javë","ditë","orë",(function(e){return"minut"+(1===e?"ë":"a")}),(function(e){return"sekond"+(1===e?"ë":"a")}),(function(e){return"milisekond"+(1===e?"ë":"a")}),","),sr:u((function(e){return["години","година","године"][p(e)]}),(function(e){return["месеци","месец","месеца"][p(e)]}),(function(e){return["недељи","недеља","недеље"][p(e)]}),(function(e){return["дани","дан","дана"][p(e)]}),(function(e){return["сати","сат","сата"][p(e)]}),(function(e){return["минута","минут","минута"][p(e)]}),(function(e){return["секунди","секунда","секунде"][p(e)]}),(function(e){return["милисекунди","милисекунда","милисекунде"][p(e)]}),","),ta:u((function(e){return 1===e?"வருடம்":"ஆண்டுகள்"}),(function(e){return 1===e?"மாதம்":"மாதங்கள்"}),(function(e){return 1===e?"வாரம்":"வாரங்கள்"}),(function(e){return 1===e?"நாள்":"நாட்கள்"}),(function(e){return 1===e?"மணி":"மணிநேரம்"}),(function(e){return"நிமிட"+(1===e?"ம்":"ங்கள்")}),(function(e){return"வினாடி"+(1===e?"":"கள்")}),(function(e){return"மில்லி விநாடி"+(1===e?"":"கள்")})),te:u((function(e){return"సంవత్స"+(1===e?"రం":"రాల")}),(function(e){return"నెల"+(1===e?"":"ల")}),(function(e){return 1===e?"వారం":"వారాలు"}),(function(e){return"రోజు"+(1===e?"":"లు")}),(function(e){return"గంట"+(1===e?"":"లు")}),(function(e){return 1===e?"నిమిషం":"నిమిషాలు"}),(function(e){return 1===e?"సెకను":"సెకన్లు"}),(function(e){return 1===e?"మిల్లీసెకన్":"మిల్లీసెకన్లు"})),uk:u((function(e){return["років","рік","роки"][p(e)]}),(function(e){return["місяців","місяць","місяці"][p(e)]}),(function(e){return["тижнів","тиждень","тижні"][p(e)]}),(function(e){return["днів","день","дні"][p(e)]}),(function(e){return["годин","година","години"][p(e)]}),(function(e){return["хвилин","хвилина","хвилини"][p(e)]}),(function(e){return["секунд","секунда","секунди"][p(e)]}),(function(e){return["мілісекунд","мілісекунда","мілісекунди"][p(e)]}),","),ur:u("سال",(function(e){return 1===e?"مہینہ":"مہینے"}),(function(e){return 1===e?"ہفتہ":"ہفتے"}),"دن",(function(e){return 1===e?"گھنٹہ":"گھنٹے"}),"منٹ","سیکنڈ","ملی سیکنڈ"),sk:u((function(e){return["rok","roky","roky","rokov"][d(e)]}),(function(e){return["mesiac","mesiace","mesiace","mesiacov"][d(e)]}),(function(e){return["týždeň","týždne","týždne","týždňov"][d(e)]}),(function(e){return["deň","dni","dni","dní"][d(e)]}),(function(e){return["hodina","hodiny","hodiny","hodín"][d(e)]}),(function(e){return["minúta","minúty","minúty","minút"][d(e)]}),(function(e){return["sekunda","sekundy","sekundy","sekúnd"][d(e)]}),(function(e){return["milisekunda","milisekundy","milisekundy","milisekúnd"][d(e)]}),","),sl:u((function(e){return e%10==1?"leto":e%100==2?"leti":e%100==3||e%100==4||Math.floor(e)!==e&&e%100<=5?"leta":"let"}),(function(e){return e%10==1?"mesec":e%100==2||Math.floor(e)!==e&&e%100<=5?"meseca":e%10==3||e%10==4?"mesece":"mesecev"}),(function(e){return e%10==1?"teden":e%10==2||Math.floor(e)!==e&&e%100<=4?"tedna":e%10==3||e%10==4?"tedne":"tednov"}),(function(e){return e%100==1?"dan":"dni"}),(function(e){return e%10==1?"ura":e%100==2?"uri":e%10==3||e%10==4||Math.floor(e)!==e?"ure":"ur"}),(function(e){return e%10==1?"minuta":e%10==2?"minuti":e%10==3||e%10==4||Math.floor(e)!==e&&e%100<=4?"minute":"minut"}),(function(e){return e%10==1?"sekunda":e%100==2?"sekundi":e%100==3||e%100==4||Math.floor(e)!==e?"sekunde":"sekund"}),(function(e){return e%10==1?"milisekunda":e%100==2?"milisekundi":e%100==3||e%100==4||Math.floor(e)!==e?"milisekunde":"milisekund"}),","),sv:u("år",(function(e){return"månad"+(1===e?"":"er")}),(function(e){return"veck"+(1===e?"a":"or")}),(function(e){return"dag"+(1===e?"":"ar")}),(function(e){return"timm"+(1===e?"e":"ar")}),(function(e){return"minut"+(1===e?"":"er")}),(function(e){return"sekund"+(1===e?"":"er")}),(function(e){return"millisekund"+(1===e?"":"er")}),","),sw:i(u((function(e){return 1===e?"mwaka":"miaka"}),(function(e){return 1===e?"mwezi":"miezi"}),"wiki",(function(e){return 1===e?"siku":"masiku"}),(function(e){return 1===e?"saa":"masaa"}),"dakika","sekunde","milisekunde"),{_numberFirst:!0}),tr:u("yıl","ay","hafta","gün","saat","dakika","saniye","milisaniye",","),th:u("ปี","เดือน","สัปดาห์","วัน","ชั่วโมง","นาที","วินาที","มิลลิวินาที"),uz:u("yil","oy","hafta","kun","soat","minut","sekund","millisekund"),uz_CYR:u("йил","ой","ҳафта","кун","соат","минут","секунд","миллисекунд"),vi:u("năm","tháng","tuần","ngày","giờ","phút","giây","mili giây",","),zh_CN:u("年","个月","周","天","小时","分钟","秒","毫秒"),zh_TW:u("年","個月","周","天","小時","分鐘","秒","毫秒")};function u(e,t,n,r,i,o,a,s,u){var l={y:e,mo:t,w:n,d:r,h:i,m:o,s:a,ms:s};return void 0!==u&&(l.decimal=u),l}function l(e){return 2===e?1:e>2&&e<11?2:0}function c(e){return 1===e?0:Math.floor(e)!==e?1:e%10>=2&&e%10<=4&&!(e%100>10&&e%100<20)?2:3}function p(e){return Math.floor(e)!==e?2:e%100>=5&&e%100<=20||e%10>=5&&e%10<=9||e%10==0?0:e%10==1?1:e>1?2:0}function d(e){return 1===e?0:Math.floor(e)!==e?1:e%10>=2&&e%10<=4&&e%100<10?2:3}function h(e){return 1===e||e%10==1&&e%100>20?0:Math.floor(e)!==e||e%10>=2&&e%100>20||e%10>=2&&e%100<10?1:2}function f(e){return e%10==1&&e%100!=11}function _(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function m(e,t,n){var r,i,o,a=e.unitName,s=e.unitCount,u=n.spacer,l=n.maxDecimalPoints;r=_(n,"decimal")?n.decimal:_(t,"decimal")?t.decimal:".","digitReplacements"in n?i=n.digitReplacements:"_digitReplacements"in t&&(i=t._digitReplacements);var c=(void 0===l?s:Math.floor(s*Math.pow(10,l))/Math.pow(10,l)).toString();if(t._hideCountIf2&&2===s)o="",u="";else if(i){o="";for(var p=0;p<c.length;p++){var d=c[p];o+="."===d?r:i[d]}}else o=c.replace(".",r);var h,f=t[a];return h="function"==typeof f?f(s):f,t._numberFirst?h+u+o:o+u+h}function v(e){var t=function(e,n){e=Math.abs(e);var r=i({},t,n||{}),a=function(e,t){var n,r,i,o,a=t.units,s=t.unitMeasures,u="largest"in t?t.largest:1/0;if(!a.length)return[];var l={};for(o=e,r=0;r<a.length;r++){var c=s[n=a[r]];i=r===a.length-1?o/c:Math.floor(o/c),l[n]=i,o-=i*c}if(t.round){var p=u;for(r=0;r<a.length;r++)if(0!==(i=l[n=a[r]])&&0==--p){for(var d=r+1;d<a.length;d++){var h=a[d],f=l[h];l[n]+=f*s[h]/s[n],l[h]=0}break}for(r=a.length-1;r>=0;r--)if(0!==(i=l[n=a[r]])){var _=Math.round(i);if(l[n]=_,0===r)break;var m=a[r-1],v=s[m],g=Math.floor(_*s[n]/v);if(!g)break;l[m]+=g,l[n]=0}}var C=[];for(r=0;r<a.length&&C.length<u;r++)(i=l[n=a[r]])&&C.push({unitName:n,unitCount:i});return C}(e,r);return function(e,t){var n=function(e){var t=[e.language];if(_(e,"fallbacks")){if(!o(e.fallbacks)||!e.fallbacks.length)throw new Error("fallbacks must be an array with at least one element");t=t.concat(e.fallbacks)}for(var n=0;n<t.length;n++){var r=t[n];if(_(e.languages,r))return e.languages[r];if(_(s,r))return s[r]}throw new Error("No language found.")}(t);if(!e.length){var r=t.units;return m({unitName:r[r.length-1],unitCount:0},n,t)}var i,a=t.conjunction,u=t.serialComma;i=_(t,"delimiter")?t.delimiter:_(n,"delimiter")?n.delimiter:", ";for(var l=[],c=0;c<e.length;c++)l.push(m(e[c],n,t));return a&&1!==e.length?2===e.length?l.join(a):l.slice(0,-1).join(i)+(u?",":"")+a+l.slice(-1):l.join(i)}(a,r)};return i(t,{language:"en",spacer:" ",conjunction:"",serialComma:!0,units:["y","mo","w","d","h","m","s"],languages:{},round:!1,unitMeasures:{y:315576e5,mo:26298e5,w:6048e5,d:864e5,h:36e5,m:6e4,s:1e3,ms:1}},e)}var g=i(v({}),{getSupportedLanguages:function(){var e=[];for(var t in s)_(s,t)&&"gr"!==t&&e.push(t);return e},humanizer:v});void 0===(r=function(){return g}.call(t,n,t,e))||(e.exports=r)}()},5792:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useCallback:()=>b,useContext:()=>k,useDebugValue:()=>w,useEffect:()=>v,useErrorBoundary:()=>x,useImperativeHandle:()=>A,useLayoutEffect:()=>g,useMemo:()=>y,useReducer:()=>m,useRef:()=>C,useState:()=>_});var r,i,o,a=n(4522),s=0,u=[],l=a.options.__b,c=a.options.__r,p=a.options.diffed,d=a.options.__c,h=a.options.unmount;function f(e,t){a.options.__h&&a.options.__h(i,e,s||t),s=0;var n=i.__H||(i.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function _(e){return s=1,m(j,e)}function m(e,t,n){var o=f(r++,2);return o.t=e,o.__c||(o.__=[n?n(t):j(void 0,t),function(e){var t=o.t(o.__[0],e);o.__[0]!==t&&(o.__=[t,o.__[1]],o.__c.setState({}))}],o.__c=i),o.__}function v(e,t){var n=f(r++,3);!a.options.__s&&T(n.__H,t)&&(n.__=e,n.__H=t,i.__H.__h.push(n))}function g(e,t){var n=f(r++,4);!a.options.__s&&T(n.__H,t)&&(n.__=e,n.__H=t,i.__h.push(n))}function C(e){return s=5,y((function(){return{current:e}}),[])}function A(e,t,n){s=6,g((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))}function y(e,t){var n=f(r++,7);return T(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function b(e,t){return s=8,y((function(){return e}),t)}function k(e){var t=i.context[e.__c],n=f(r++,9);return n.__c=e,t?(null==n.__&&(n.__=!0,t.sub(i)),t.props.value):e.__}function w(e,t){a.options.useDebugValue&&a.options.useDebugValue(t?t(e):e)}function x(e){var t=f(r++,10),n=_();return t.__=e,i.componentDidCatch||(i.componentDidCatch=function(e){t.__&&t.__(e),n[1](e)}),[n[0],function(){n[1](void 0)}]}function P(){u.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(S),e.__H.__h.forEach(L),e.__H.__h=[]}catch(t){e.__H.__h=[],a.options.__e(t,e.__v)}})),u=[]}a.options.__b=function(e){i=null,l&&l(e)},a.options.__r=function(e){c&&c(e),r=0;var t=(i=e.__c).__H;t&&(t.__h.forEach(S),t.__h.forEach(L),t.__h=[])},a.options.diffed=function(e){p&&p(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==u.push(t)&&o===a.options.requestAnimationFrame||((o=a.options.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),M&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);M&&(t=requestAnimationFrame(n))})(P)),i=void 0},a.options.__c=function(e,t){t.some((function(e){try{e.__h.forEach(S),e.__h=e.__h.filter((function(e){return!e.__||L(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],a.options.__e(n,e.__v)}})),d&&d(e,t)},a.options.unmount=function(e){h&&h(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(S)}catch(e){a.options.__e(e,t.__v)}};var M="function"==typeof requestAnimationFrame;function S(e){var t=i;"function"==typeof e.__c&&e.__c(),i=t}function L(e){var t=i;e.__c=e.__(),i=t}function T(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function j(e,t){return"function"==typeof t?t(e):t}},5566:(e,t,n)=>{var r=n(1892),i=n(396);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-timeline"},insert:function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},3710:(e,t,n)=>{var r=n(1892),i=n(4135);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-timeline"},insert:function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},4336:(e,t,n)=>{var r=n(1892),i=n(4299);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-timeline"},insert:function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},9561:(e,t,n)=>{var r=n(1892),i=n(2382);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-timeline"},insert:function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},4566:(e,t,n)=>{var r=n(1892),i=n(2417);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-timeline"},insert:function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},7333:(e,t,n)=>{var r=n(1892),i=n(4389);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{attributes:{id:"@playkit-js/playkit-js-timeline"},insert:function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},singleton:!1}),e.exports=i.locals||{}},1892:(e,t,n)=>{"use strict";var r,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function a(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],i=0;i<e.length;i++){var s=e[i],u=t.base?s[0]+t.base:s[0],l=n[u]||0,c="".concat(u," ").concat(l);n[u]=l+1;var p=a(c),d={css:s[1],media:s[2],sourceMap:s[3]};-1!==p?(o[p].references++,o[p].updater(d)):o.push({identifier:c,updater:_(d,t),references:1}),r.push(c)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var l,c=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function p(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=c(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function d(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,f=0;function _(e,t){var n,r,i;if(t.singleton){var o=f++;n=h||(h=u(t)),r=p.bind(null,n,o,!1),i=p.bind(null,n,o,!0)}else n=u(t),r=d.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=a(n[r]);o[i].references--}for(var u=s(e,t),l=0;l<n.length;l++){var c=a(n[l]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=u}}}},9389:(e,t)=>{},3578:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimelineMarker=void 0;const r=n(4522),i=n(2052),o=n(4566),a=n(979),s=n(5792),{redux:{useSelector:u,useDispatch:l},reducers:c}=i.ui,{withText:p,Text:d}=i.ui.preacti18n;t.TimelineMarker=p((({type:e,startTimeInText:t})=>({markerAriaLabel:(0,r.h)(d,{id:"timeline.marker_aria_label",fields:{type:e,position:t}},`${e} at ${t}`)})))((({isDisabled:e,onMarkerClick:t,getSeekBarNode:n,useQuizQuestionMarkerSize:i,setMarkerRef:p=(()=>{}),markerStartTime:d,markerAriaLabel:h})=>{const f=l(),_=u((e=>e.seekbar.segments.find((e=>d>=e.startTime&&d<e.endTime)))),m=u((e=>_?_.isHovered:e.seekbar.hoverActive)),v=!!_;u((e=>e.seekbar));const g="boolean"==typeof e?e:e(),C=(0,s.useRef)(null);return(0,s.useEffect)((()=>p(null==C?void 0:C.current)),[]),(0,s.useMemo)((()=>(0,r.h)(a.A11yWrapper,{onClick:t},(0,r.h)("div",{ref:C,onFocus:()=>{f(c.seekbar.actions.updateVirtualTime(d));const e=n();e&&e.setAttribute("role","none")},onBlur:()=>{const e=n();e&&e.setAttribute("role","slider")},onMouseOver:()=>{(null==C?void 0:C.current)&&!i&&v&&(C.current.style.width="12px",C.current.style.height="12px",C.current.style.transform="translateY(-4px)")},tabIndex:g?-1:0,"data-testid":"cuePointMarkerContainer","aria-label":h,className:`${i?o.quizQuestionMarkerSize:o.smallMarker} ${m?o.hover:""}`,style:`transform: translateY(${i&&v&&m?-4:i||v&&m?-2:0}px)`},(0,r.h)("div",{className:`${o.marker}`})))),[g,m,i,v])}))},6569:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.TimelinePreview=void 0;const i=n(4522),o=n(7333),a=n(979),s=n(7927),u=n(4820),{preacti18n:{withText:l,Text:c},redux:{connect:p},reducers:{seekbar:d},components:{PLAYER_SIZE:h}}=KalturaPlayer.ui,f=e=>{if(!e)return{borderColor:"transparent"};if(Array.isArray(e)){const t=e[0],n=e[1];let r=t.slide?n.height:t.height,i=t.slide?n.width:t.width;return[t,n].every((e=>!e.slide))&&(r>n.height&&(r=n.height),i>n.width&&(i=n.width)),{height:`${r}px`,width:2*i+"px"}}return{height:`${e.slide?g:e.height}px`,width:`${e.slide?v:e.width}px`}},_=e=>e?Object.assign({height:"100%",width:"100%",backgroundImage:`url(${e.url})`,backgroundPosition:e.slide?"center":`-${e.x}px -${e.y}px`,backgroundRepeat:"no-repeat"},e.slide&&{backgroundSize:"cover"}):"",m=({iconName:e,children:t,shouldDisplayTitle:n=!0})=>(0,i.h)("div",{className:o.titleWrapper},(0,i.h)(u.Icon,{size:u.IconSize.small,name:e}),n&&(0,i.h)("span",{className:o.title,"data-testid":"cuePointPreviewHeaderTitle"},t)),v=164,g=92;let C=class extends i.Component{constructor(){super(...arguments),this._previewHeaderElement=null,this._thumbnailContainerElement=null,this.onMouseMove=e=>{this.props.moveOnHover||e.stopPropagation()},this.onMouseOver=e=>{!e||e.isHovered||e.isDummy||this.props.updateHoveredSegment(e.id,!0)},this.onMouseLeave=e=>{(null==e?void 0:e.isHovered)&&this.props.updateHoveredSegment(null==e?void 0:e.id,!1)},this.onThumbnailClick=e=>{this.props.seekTo(),e.preventDefault(),e.stopPropagation()},this.onPreviewHeaderClick=(e,t)=>{var n;const r=this.props.cuePointsData.find((e=>e.type===s.ItemTypes.QuizQuestion));r?null===(n=r.cuePointData)||void 0===n||n.onClick():this.props.onPreviewClick(e,t,this.props.relevantChapter)},this.handleFocus=()=>{const e=this.props.getSeekBarNode();e&&e.setAttribute("role","none")},this.handleBlur=()=>{const e=this.props.getSeekBarNode();e&&e.setAttribute("role","slider")},this._renderThumbnail=e=>Array.isArray(e)?e.map((e=>(0,i.h)("div",{style:_(e)}))):(0,i.h)("div",{style:_(e)}),this._getCuePointPreviewHeaderProps=(e,t)=>{const{quizQuestions:n,hotspots:r,answerOnAir:i}=e;let a="";r.length>0&&0===n.length&&0===i.length&&(a=this.props.hotspotTitleAriaLabelTranslate);const s=[o.header];return t&&s.push(o.headerThumbnail),Object.assign({className:s.join(" "),"data-testid":"cuePointPreviewHeader",style:this._getPreviewHeaderStyle(),tabIndex:0,onFocus:this.handleFocus,onBlur:this.handleBlur},a?{"aria-label":a}:{})}}componentDidUpdate(){this._calculateLeftPosition()}_calculateLeftPosition(){null!==this._getPreviewHeaderLeft()&&this._previewHeaderElement&&(this._previewHeaderElement.style.left=`${this._getPreviewHeaderLeft()}px`)}shouldComponentUpdate(e,t,n){return this.props.duration!==e.duration||this.props.relevantChapter!==e.relevantChapter||this.props.virtualTime!==e.virtualTime}_renderHeader(e,t){const{quizQuestions:n,hotspots:r,answerOnAir:o}=t;let a={type:"",firstIndex:1,lastIndex:""};if(n.length){const e=n.find((e=>3===e.cuePointData.type));a={type:1===n.length&&e?this.props.reflectionPointTranslate:this.props.questionTranslate,firstIndex:n[0].cuePointData.index+1,lastIndex:n.length>1?`-${n[n.length-1].cuePointData.index+1}`:""}}return!this.props.cuePointsData.length&&(null==e?void 0:e.title)?(0,i.h)(m,{iconName:"chapter",shouldDisplayTitle:!0},e.title):(0,i.h)(i.Fragment,null,r.length>0&&(0,i.h)(m,{iconName:"hotspot",shouldDisplayTitle:!0},this.props.hotspotTranslate),n.length>0&&(0,i.h)(m,{iconName:"quiz",shouldDisplayTitle:!0},(0,i.h)("span",null,`${a.type} ${a.firstIndex}${a.lastIndex}`)),o.length>0&&(0,i.h)(m,{iconName:"answerOnAir",shouldDisplayTitle:!0},this.props.aoaTranslate))}_getData(){const e={[s.ItemTypes.QuizQuestion]:[],[s.ItemTypes.Hotspot]:[],[s.ItemTypes.AnswerOnAir]:[]},t=this.props.cuePointsData.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.type]:[...e[t.type],t]})),e);return{hotspots:t[s.ItemTypes.Hotspot],quizQuestions:t[s.ItemTypes.QuizQuestion],answerOnAir:t[s.ItemTypes.AnswerOnAir]}}_renderSmallPlayerHeader(e,t){const{quizQuestions:n,hotspots:r,answerOnAir:a}=t;return(0,i.h)("div",{className:o.header},(0,i.h)("div",{className:o.itemsWrapper,"data-testid":"cuePointPreviewHeaderItems"},(()=>e&&0===this.props.cuePointsData.length?e.isDummy?null:(0,i.h)(m,{iconName:"chapter",shouldDisplayTitle:!1}):(0,i.h)(i.Fragment,null,r.length>0&&(0,i.h)(m,{iconName:"hotspot",shouldDisplayTitle:!1}),n.length>0&&(0,i.h)(m,{iconName:"quiz",shouldDisplayTitle:!1}),a.length>0&&(0,i.h)(m,{iconName:"answerOnAir",shouldDisplayTitle:!1})))()))}_shouldRenderHeader(e){return!this.props.isExtraSmallPlayer&&(this.props.cuePointsData.length>0||!(null==e?void 0:e.isDummy))}_getPreviewHeaderLeft(){var e;const t=this.props.getSeekBarNode();if(t&&this._previewHeaderElement){const n=this._previewHeaderElement.getClientRects()[0],r=t.getClientRects()[0],i=null===(e=this._thumbnailContainerElement)||void 0===e?void 0:e.getClientRects()[0];if(!r||!i||!n)return null;const o=n.width,a=i.width||v,s=i.left,u=i.right,l=(a-o)/2;return l>=0?l:s+l<r.left?r.left-s:u-l>r.right?a-o+r.right-u:l}return null}_getPreviewHeaderStyle(){const e=this.props.getThumbnailInfo?null:"-20px",t=null===this._getPreviewHeaderLeft()?null:`${this._getPreviewHeaderLeft}px`;if(null===e&&null===t)return null;const n={};return e&&(n.top=e),t&&(n.left=t),n}render(){if(this.props.hidePreview)return null;const{getThumbnailInfo:e,isExtraSmallPlayer:t,relevantChapter:n}=this.props,r=this._getData(),s=e(),u=[o.container,this.props.isExtraSmallPlayer?o.xsPlayer:""].join(" ");return(0,i.h)("div",{className:u,"data-testid":"cuePointPreviewContainer",onMouseMove:this.onMouseMove,onMouseOver:()=>this.onMouseOver(n),onMouseLeave:()=>this.onMouseLeave(n)},this._shouldRenderHeader(n)?(0,i.h)(a.A11yWrapper,{onClick:this.onPreviewHeaderClick},(0,i.h)("div",Object.assign({},this._getCuePointPreviewHeaderProps(r,s),{ref:e=>this._previewHeaderElement=e}),(0,i.h)("div",{className:o.itemsWrapper,"data-testid":"cuePointPreviewHeaderItems"},this._renderHeader(n,r)))):null,(0,i.h)("div",{className:o.imageContainer,"data-testid":"cuePointPreviewImageContainer",style:f(s),onMouseDown:this.onThumbnailClick,ref:e=>this._thumbnailContainerElement=e},t?this._renderSmallPlayerHeader(n,r):null,this._renderThumbnail(s)))}};C=r([l((({cuePointsData:e})=>{const t=null==e?void 0:e.find((e=>e.type===s.ItemTypes.Hotspot)),n=null==t?void 0:t.title;return{hotspotTitleAriaLabelTranslate:n?(0,i.h)(c,{id:"timeline.hotspot_aria_label",fields:{title:n}},`Click to jump to ${n} hotspot`):(0,i.h)(c,{id:"timeline.hotspot_title_aria_label"},"Click to jump to hotspot video position"),questionTranslate:(0,i.h)(c,{id:"timeline.question_title"},"Question"),reflectionPointTranslate:(0,i.h)(c,{id:"timeline.reflection_point_title"},"Reflection Point"),hotspotTranslate:(0,i.h)(c,{id:"timeline.hotspot_title"},"Hotspot"),aoaTranslate:(0,i.h)(c,{id:"timeline.audience_asked_title"},"Audience Asked"),showNavigationTranslate:(0,i.h)(c,{id:"navigation.show_plugin"},"Show Navigation"),hideNavigationTranslate:(0,i.h)(c,{id:"navigation.hide_plugin"},"Hide Navigation")}})),p(((e,{markerStartTime:t})=>{const n=void 0!==t?t:e.seekbar.virtualTime,r=e.seekbar.segments.find((e=>e.startTime<=n&&n<e.endTime));return{isExtraSmallPlayer:e.shell.playerSize===h.EXTRA_SMALL,hidePreview:e.shell.playerSize===h.TINY,relevantChapter:r,virtualTime:e.seekbar.virtualTime,duration:e.engine.duration}}),(e=>({updateHoveredSegment:(t,n)=>e(d.actions.updateHoveredSegment(t,n))})))],C),t.TimelinePreview=C},1670:(e,t,n)=>{"use strict";t.j=void 0;const r=n(4522),i=n(2052),o=n(4467),a=n(3578),s=n(7927),u=n(6569),l=n(2563),c=n(2474),{core:p,ui:d}=i,{EngineType:h}=p,{preact:f,redux:_,reducers:m,style:v,components:g}=d,{PLAYER_SIZE:C,ProgressIndicator:A,SeekBarPreview:y}=g,{actions:b}=m.seekbar,k="playkit-chapters";t.j=class{constructor(e,t,n){this._player=e,this._logger=t,this._eventManager=n,this._chapters=[],this._resolveTimelineDurationPromise=()=>{},this._chapterTypesArray=[],this.loadMedia=()=>{this._listenerDuration()},this._makeTimelineDurationPromise=()=>new Promise((e=>{this._resolveTimelineDurationPromise=e})),this._seekTo=()=>{this._player.currentTime=this._state.seekbar.virtualTime},this._handleChapter=e=>{this._chapters.length>0&&(this._chapters[this._chapters.length-1].endTime=e.startTime),this._chapters.push(e);const t=this._getProgressBarEl();t&&!t.classList.contains(v.chapters)&&t.classList.add(k),this._store.dispatch(b.updateSeekbarSegments(this._chapters)),this._uiManager.addComponent({label:"Seekbar segment",presets:[this._state.shell.activePresetName],area:"SeekBar",replaceComponent:"ProgressIndicator",get:l.SegmentsWrapper}),this._addSeekBarPreview(!1,null==e?void 0:e.onPreviewClick)},this._isDurationCorrect=()=>{let e=this._player.sources.duration;if(this._player.engineType===h.YOUTUBE)return Math.ceil(this._state.engine.duration)===e;const{clipTo:t,seekFrom:n}=this._player.sources;return t?e="number"==typeof n&&n>0?t-n:t:!t&&n&&e&&(e-=n),Math.round(this._state.engine.duration)===e},this._listenerDuration=()=>{this._eventManager.listenOnce(this._player,this._player.Event.DURATION_CHANGE,(()=>{this._isDurationCorrect()?this._resolveTimelineDurationPromise():this._listenerDuration()}))},this._addSeekBarPreview=(e=!0,t=this._seekTo)=>{this._uiManager.addComponent({label:"Chapter preview",presets:[this._state.shell.activePresetName],area:"SeekBar",replaceComponent:"SeekBarPreview",get:()=>(0,r.h)(u.TimelinePreview,{moveOnHover:e,onPreviewClick:t,seekTo:this._seekTo,cuePointsData:[],getThumbnailInfo:()=>this._getThumbnailInfo(this._state.seekbar.virtualTime),getSeekBarNode:this._getSeekBarNode})})},this._restoreSeekBarPreview=()=>{this._uiManager.addComponent({label:"SeekBarPreview",presets:[this._state.shell.activePresetName],area:"SeekBar",replaceComponent:"SeekBarPreview",get:y})},this.addKalturaCuePoint=(e,t,n,i,o)=>{this._state.shell.playerSize===C.TINY||this._uiManager.store.getState().seekbar.isPreventSeek||this._timelineDurationPromise.then((()=>{var a,u,l,c,p,d;if(t===s.ItemTypes.Chapter&&!this._shouldIncludeChapters)return;if(this._chapterTypesArray.includes(t)){const t={type:s.ItemTypes.Chapter,id:n,startTime:e,title:i,endTime:this._state.engine.duration,isHovered:!1,isDummy:!1,onPreviewClick:(e,t,n)=>{var r;null===(r=null==o?void 0:o.onClick)||void 0===r||r.call(o,{e,byKeyboard:t,cuePoint:n})}};return void this._handleChapter(t)}const h={id:n,type:t,title:i||"",cuePointData:null!=o?o:null},f=this._cuePointsMap.get(e);if(f)f.cuePointsData.push(h),f.useQuizQuestionMarkerSize=t===s.ItemTypes.QuizQuestion,t===s.ItemTypes.QuizQuestion&&(f.onMarkerClick=o.onClick),null===(c=null===(l=f.timelinePreviewRef)||void 0===l?void 0:l.current)||void 0===c||c.forceUpdate(),null===(d=null===(p=f.timelineMarkerRef)||void 0===p?void 0:p.current)||void 0===d||d.forceUpdate();else{const n={cuePointsData:[h],timelinePreviewRef:(0,r.createRef)(),timelineMarkerRef:(0,r.createRef)(),useQuizQuestionMarkerSize:t===s.ItemTypes.QuizQuestion,onMarkerClick:null!==(a=null==o?void 0:o.onClick)&&void 0!==a?a:this._seekTo,onPreviewClick:(t,n)=>{var r,i;null!==(i=null===(r=null==o?void 0:o.onClick)||void 0===r?void 0:r.call(o,{e:t,byKeyboard:n,cuePoint:Object.assign(Object.assign({},h),{startTime:e})}))&&void 0!==i||this._seekTo()},isMarkerDisabled:null!==(u=null==o?void 0:o.isMarkerDisabled)&&void 0!==u&&u};this._cuePointsMap.set(e,n),this._createKalturaCuePoint(n,e)}}))},this._createKalturaCuePoint=(e,t)=>{var n,i,o;const s=t=>{e.timelineMarkerRef=t},l=()=>{var t,n;return null===(n=null===(t=null==e?void 0:e.cuePointsData)||void 0===t?void 0:t[0])||void 0===n?void 0:n.type},d={time:t,marker:{width:124,height:32,get:n=>{var i,o;return(0,r.h)(a.TimelineMarker,Object.assign({},n,{getSeekBarNode:this._getSeekBarNode,onMarkerClick:e.onMarkerClick,useQuizQuestionMarkerSize:e.useQuizQuestionMarkerSize,isDisabled:e.isMarkerDisabled,setMarkerRef:s,markerStartTime:t,type:l(),startTimeInText:(0,c.getTimeInText)(t,null===(o=null===(i=this._player)||void 0===i?void 0:i.config)||void 0===o?void 0:o.ui)}))}}};(null===(n=this._player.sources)||void 0===n?void 0:n.type)!==p.MediaType.AUDIO&&(d.preview={get:()=>(0,r.h)(u.TimelinePreview,{ref:e.timelinePreviewRef,seekTo:this._seekTo,onPreviewClick:e.onPreviewClick,cuePointsData:e.cuePointsData,getThumbnailInfo:()=>this._getThumbnailInfo(t),markerStartTime:t,getSeekBarNode:this._getSeekBarNode}),props:{style:{paddingTop:"33%"}},className:"preview",width:null===(i=this._player.getThumbnail(0))||void 0===i?void 0:i.width,hideTime:!1,sticky:!0}),e.id=null===(o=this.addCuePoint(d))||void 0===o?void 0:o.id},this._getSeekBarNode=()=>{var e,t;return(null===(t=null===(e=this._player.getView().parentNode)||void 0===e?void 0:e.parentNode)||void 0===t?void 0:t.querySelector(".playkit-seek-bar"))||null},this.addCuePoint=e=>{if(this._state.engine.isLive)return this._logger.warn("Impossible to add cue points while LIVE playback"),null;if(!e||"number"!=typeof e.time)return this._logger.warn("Cue point time is missing"),null;const t=this._cuePointsRemoveMap.size.toString();return this._cuePointsRemoveMap.set(t,this._uiManager.addComponent({label:`Cue Point - ${t}`,presets:e.presets||[this._state.shell.activePresetName],area:"SeekBar",get:o.CuePoint,props:{time:e.time,marker:e.marker||{},preview:e.preview||{}}})),{id:t}},this.removeCuePoint=e=>{const{id:t}=e,n=this._cuePointsRemoveMap.get(t);"function"==typeof n&&(n(),this._cuePointsRemoveMap.delete(t))},this.removeCueFromTimeline=e=>{const{id:t,startTime:n}=e;this.removeCuePoint({id:t}),this._cuePointsMap.delete(n)},this.setSeekbarPreview=(e={})=>{const t=e.presets||[this._state.shell.activePresetName],n={width:`${e.width||v.framePreviewImgWidth}px`,height:`${e.height||v.framePreviewImgHeight}px`},i=this._uiManager.addComponent({label:"SeekBar Preview",presets:t,area:"SeekBar",get:e.get?t=>{const i=Object.assign(Object.assign({},e.props),{className:e.className,style:e.props?Object.assign(Object.assign({},n),e.props.style):n});return"string"!=typeof e.get&&(i.defaultPreviewProps=t.replacedComponentProps),(0,r.h)("div",{className:!1===e.sticky?v.nonSticky:void 0,onMouseOver:()=>{this._store.dispatch(b.updateSeekbarPreviewHoverActive(!0))},onMouseLeave:()=>{this._store.dispatch(b.updateSeekbarPreviewHoverActive(!1))}},f.h(e.get,i))}:void 0,replaceComponent:"SeekBarPreview"});return this._store.dispatch(b.updateHideSeekbarTimeBubble(!1)),e.hideTime&&this._store.dispatch(b.updateHideSeekbarTimeBubble(!0)),()=>{i(),this._store.dispatch(b.updateHideSeekbarTimeBubble(!1))}},this._removeAllCuePoints=()=>{this._cuePointsRemoveMap.forEach(((e,t)=>{this.removeCuePoint({id:t})})),this._cuePointsMap=new Map,this._restoreProgressIndicator(),this._restoreSeekBarPreview(),this._chapters.length&&(this._store.dispatch(b.updateSeekbarSegments([])),this._chapters=[]),this._shouldIncludeChapters=!0},this._store=_.useStore(),this._cuePointsRemoveMap=new Map,this._cuePointsMap=new Map,this._timelineDurationPromise=this._makeTimelineDurationPromise(),this._getThumbnailInfoFn=this._player.getThumbnail.bind(this._player),this._shouldIncludeChapters=!0,this._chapterTypesArray=[s.ItemTypes.Chapter,s.ItemTypes.SummaryAndChapters,s.ItemTypes.YouTubeClipChapter]}get _uiManager(){return this._player.ui}get _state(){return this._store.getState()}disableChapters(){this._shouldIncludeChapters=!1,this._chapters=[]}get timelineManagerAPI(){return Object.assign({loadMedia:this.loadMedia,addKalturaCuePoint:this.addKalturaCuePoint,removeAllKalturaCuePoints:this._removeAllCuePoints,addCuePoint:this.addCuePoint,removeCuePoint:this.removeCuePoint,setSeekbarPreview:this.setSeekbarPreview,setGetThumbnailInfo:e=>{this._addSeekBarPreview(),this._getThumbnailInfoFn=e},addSeekBarPreview:this._addSeekBarPreview,removeCueFromTimeline:this.removeCueFromTimeline,reset:()=>this.reset(),disableChapters:()=>this.disableChapters()},window._TEST_ENV?{timelineManager:this}:{})}_getProgressBarEl(){return document.querySelector(`#${this._player.config.targetId} .${v.progressBar}`)}_restoreProgressIndicator(){const e=this._getProgressBarEl();(null==e?void 0:e.classList.contains(v.chapters))&&e.classList.remove(k),this._uiManager.addComponent({label:"ProgressIndicator",presets:[this._state.shell.activePresetName],area:"SeekBar",replaceComponent:"ProgressIndicator",get:A})}reset(){this._removeAllCuePoints(),this._eventManager.removeAll(),this._timelineDurationPromise=this._makeTimelineDurationPromise()}destroy(){this.reset()}_getThumbnailInfo(e){return this._getThumbnailInfoFn(e)}}},7927:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ItemTypes=void 0,(n=t.ItemTypes||(t.ItemTypes={})).AnswerOnAir="AnswerOnAir",n.Chapter="Chapter",n.Hotspot="Hotspot",n.QuizQuestion="QuizQuestion",n.SummaryAndChapters="SummaryAndChapters",n.YouTubeClipChapter="YouTubeClipChapter"},9760:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTimeInText=void 0;const r=n(3977);t.getTimeInText=(e,t)=>{try{const n=i(t);if(n)try{return e?n(1e3*e):"0"}catch(t){return`${e}`}}catch(e){console.log(e)}};const i=({locale:e})=>{const t=["en"];e&&(e.match("_")&&t.unshift(e.split("_")[0]),t.unshift(e));const n=new Map(r.getSupportedLanguages().map((e=>[e.toLowerCase(),e])));for(const e of t)try{if(n.has(e))return r.humanizer({language:n.get(e)})}catch(e){}return null}},2474:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(9760),t)},2052:e=>{"use strict";e.exports=KalturaPlayer},4522:e=>{"use strict";e.exports=KalturaPlayer.ui.preact}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0;var r={};(()=>{"use strict";n.r(r),n.d(r,{NAME:()=>v,Plugin:()=>_,VERSION:()=>m});var e=n(2052),t=n(1670),i=n(416);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var c=e.ui.style,p=e.core.Utils,d="https://cdn.jsdelivr.net/npm/css-vars-ponyfill",h=null,f="timeline",_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(_,e);var n,r,a=(n=_,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t,i,a=l(n);if(r){var s=l(this).constructor;e=Reflect.construct(a,arguments,s)}else e=a.apply(this,arguments);return t=this,!(i=e)||"object"!==o(i)&&"function"!=typeof i?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):i});function _(e,n,r){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),i=a.call(this,e,n,r);var o=new t.j(i.player,i.logger,i.eventManager);return i.player.registerService(f,o.timelineManagerAPI),i}return s(_,null,[{key:"isValid",value:function(){return!0}}]),s(_,[{key:"loadMedia",value:function(){this.player.getService(f).loadMedia()}},{key:"ready",get:function(){var e=this;return(0,i.g)()?Promise.resolve():(h||(h=p.Dom.loadScriptAsync(d).then((function(){cssVars({variables:{white:c.white,"progress-bar-height":c.progressBarHeight,"progress-bar-border-radius":c.progressBarBorderRadius}})})).catch((function(){e.logger.warn("Failed to load css-vars-ponyfill lib from ".concat(d))}))),h)}}]),_}(e.BasePlugin),m="3.1.3",v="@playkit-js/playkit-js-timeline";(0,e.registerPlugin)("timeline",_)})(),((KalturaPlayer=void 0===KalturaPlayer?{}:KalturaPlayer).plugins=KalturaPlayer.plugins||{}).timeline=r})();
//# sourceMappingURL=playkit-timeline.js.map
/*! For license information please see playkit-ui-managers.js.LICENSE.txt */
(()=>{var e={5720:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.A11yWrapper=t.isKeyboardEvent=void 0;var o=n(4522),i=n(2052).ui.utils.KeyMap,r=i.ENTER,a=i.SPACE,s=i.UP,l=i.DOWN,c=i.LEFT,p=i.RIGHT,u=function(e){e.preventDefault(),e.stopPropagation()};t.isKeyboardEvent=function(e){return e instanceof KeyboardEvent||e instanceof PointerEvent&&([e.offsetX,e.offsetY].every((function(e){return 0===e}))||!e.pointerType)},t.A11yWrapper=function(e){var n=e.children,i=e.onClick,d=e.onUpKeyPressed,h=e.onDownKeyPressed,f=e.onLeftKeyPressed,C=e.onRightKeyPressed,A=e.role,v=e.type,y={onKeyDown:function(e){e.keyCode===a||e.keyCode===r?(u(e),i(e,!0)):e.keyCode===s&&d?(u(e),d(e)):e.keyCode===l&&h?(u(e),h(e)):e.keyCode===c&&f?(u(e),f(e)):e.keyCode===p&&C&&(u(e),C(e))},onClick:function(e){i(e,(0,t.isKeyboardEvent)(e))}};return"button"===(null==n?void 0:n.type)&&(y.type=v||"button"),null!==A&&(y.role=A),(0,o.cloneElement)(n,y)},t.A11yWrapper.defaultProps={role:"button"}},14:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Add=void 0;var o=n(4522);t.Add=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M21.8083 4C22.4665 4 23 4.55964 23 5.25V18.75C23 19.4404 22.4665 20 21.8083 20H2.19167C1.53353 20 1 19.4404 1 18.75V5.25C1 4.55964 1.53353 4 2.19167 4H21.8083ZM15 6H3V18H15V6ZM12.999 8.967L13 9L12.998 8.94L12.999 8.967L13 9V15C13 15.5523 12.5523 16 12 16C11.4872 16 11.0645 15.614 11.0067 15.1166L11 15V11.414L6.70711 15.7071C6.34662 16.0676 5.77939 16.0953 5.3871 15.7903L5.29289 15.7071C4.93241 15.3466 4.90468 14.7794 5.2097 14.3871L5.29289 14.2929L9.584 10H6C5.48716 10 5.06449 9.61396 5.00673 9.11662L5 9C5 8.44772 5.44772 8 6 8L12.0193 8.00018C12.0427 8.00063 12.066 8.00189 12.0893 8.00397C12.1097 8.00575 12.1294 8.0081 12.149 8.01102C12.1659 8.01363 12.1834 8.0167 12.2007 8.02024C12.2227 8.02464 12.2444 8.02983 12.2658 8.03572C12.2815 8.0401 12.2969 8.04473 12.3121 8.04974C12.3318 8.05612 12.3516 8.06332 12.3711 8.0711L12.4232 8.09367C12.4439 8.10338 12.4643 8.11379 12.4843 8.12488C12.4964 8.1315 12.5086 8.13861 12.5207 8.146C12.5463 8.16172 12.5711 8.17849 12.5952 8.19631L12.6525 8.24221L12.6167 8.21279C12.6802 8.26255 12.7374 8.31982 12.7872 8.38325C12.7927 8.39016 12.7982 8.3974 12.8037 8.40469C12.8215 8.42887 12.8383 8.45372 12.8539 8.47934L12.8753 8.51594C12.8862 8.53571 12.8966 8.55611 12.9063 8.5769L12.9288 8.62866C12.9367 8.64842 12.9439 8.6682 12.9505 8.68826C12.9553 8.70315 12.9599 8.71854 12.9642 8.73401C12.9702 8.75556 12.9754 8.77725 12.9798 8.79921C12.9833 8.81662 12.9864 8.83405 12.989 8.85153L12.9972 8.92482L12.998 8.94L12.999 8.967Z",fill:"white"}))}},9709:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnswerOnAir=void 0;var o=n(4522);t.AnswerOnAir=function(){return(0,o.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.99999 10C7.72605 10 11.1196 10.84 11.3237 12.5079L11.3333 12.6667V13.3333C11.3333 13.6667 11.0854 13.9449 10.7648 13.9927L10.6667 14H1.33332C0.99999 14 0.721753 13.7521 0.673919 13.4315L0.666656 13.3333V12.6667C0.666656 10.8933 4.21999 10 5.99999 10ZM13.9533 1.99333C15.7933 4.42667 15.7867 7.64667 13.9533 10.0067C13.6967 10.3428 13.2103 10.3932 12.8794 10.1476L12.7933 10.0733L12.7733 10.0533C12.5133 9.79333 12.4667 9.38 12.68 9.08C14.0067 7.18667 14.0133 4.74 12.7 2.91333C12.48 2.60667 12.52 2.19333 12.7867 1.92667C13.1133 1.6 13.6733 1.62667 13.9533 1.99333ZM5.99999 3.33333C7.47275 3.33333 8.66666 4.52724 8.66666 6C8.66666 7.47276 7.47275 8.66667 5.99999 8.66667C4.52723 8.66667 3.33332 7.47276 3.33332 6C3.33332 4.52724 4.52723 3.33333 5.99999 3.33333ZM11.7867 4.46C12.3067 5.46667 12.3067 6.6 11.8 7.56667C11.5635 8.02089 10.9728 8.12086 10.5808 7.8178L10.5 7.74667L10.48 7.72667C10.24 7.48667 10.1867 7.13333 10.3133 6.82C10.5267 6.29333 10.5267 5.70667 10.3133 5.18C10.2025 4.90583 10.2295 4.59594 10.3898 4.36643L10.4667 4.27333L10.4733 4.26667C10.8667 3.87333 11.5333 3.96667 11.7867 4.46Z",fill:"white"}))}},4843:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrowClose=void 0;var o=n(4522);t.ArrowClose=function(){return(0,o.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.5 21C5.01472 21 3 18.9853 3 16.5L3 7.5C3 5.01472 5.01472 3 7.5 3L16.5 3C18.9853 3 21 5.01472 21 7.5V16.5C21 18.9853 18.9853 21 16.5 21H7.5ZM8.625 17.625L14.25 17.625L14.3812 17.6174C14.9407 17.5524 15.375 17.0769 15.375 16.5C15.375 15.8787 14.8713 15.375 14.25 15.375L10.218 15.375L17.2955 8.2955L17.3891 8.18951C17.7322 7.74819 17.701 7.11005 17.2955 6.70451C16.8562 6.26517 16.1438 6.26517 15.7045 6.70451L8.625 13.7843L8.625 9.75L8.61743 9.6188C8.55245 9.0593 8.07694 8.625 7.5 8.625C6.87868 8.625 6.375 9.12868 6.375 9.75L6.375 15.375L6.38117 15.5429C6.46706 16.7071 7.43884 17.625 8.625 17.625Z",fill:"white"}))}},1813:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrowOpen=void 0;var o=n(4522);t.ArrowOpen=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.5 3C18.9853 3 21 5.01472 21 7.5V16.5C21 18.9853 18.9853 21 16.5 21H7.5C5.01472 21 3 18.9853 3 16.5V7.5C3 5.01472 5.01472 3 7.5 3H16.5ZM15.375 6.375H9.75L9.6188 6.38257C9.0593 6.44755 8.625 6.92306 8.625 7.5C8.625 8.12132 9.12868 8.625 9.75 8.625H13.782L6.7045 15.7045L6.61092 15.8105C6.26776 16.2518 6.29896 16.89 6.7045 17.2955C7.14384 17.7348 7.85616 17.7348 8.2955 17.2955L15.375 10.2158V14.25L15.3826 14.3812C15.4476 14.9407 15.9231 15.375 16.5 15.375C17.1213 15.375 17.625 14.8713 17.625 14.25V8.625L17.6188 8.45708C17.5329 7.29286 16.5612 6.375 15.375 6.375Z",fill:"white"}))}},5799:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Attach=void 0;var o=n(4522);t.Attach=function(){return(0,o.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.657 9.34254L21.657 9.34254C22.2093 9.34254 22.657 9.79026 22.657 10.3425L22.657 19.3425C22.657 19.8948 22.2093 20.3425 21.657 20.3425C21.1047 20.3425 20.657 19.8948 20.657 19.3425L20.657 12.7568L11.0504 22.3634C10.6599 22.7539 10.0267 22.7539 9.63618 22.3634C9.24566 21.9728 9.24566 21.3397 9.63618 20.9491L19.2428 11.3425L12.657 11.3425C12.1047 11.3425 11.657 10.8948 11.657 10.3425C11.657 9.79026 12.1047 9.34254 12.657 9.34254Z",fill:"white"}))}},5960:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Audio=void 0;var o=n(4522);t.Audio=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.5 4.5C10.5 3.67157 11.1716 3 12 3C12.8284 3 13.5 3.67157 13.5 4.5V19.5C13.5 20.3284 12.8284 21 12 21C11.1716 21 10.5 20.3284 10.5 19.5V4.5ZM4.5 9C4.5 8.17157 5.17157 7.5 6 7.5C6.82843 7.5 7.5 8.17157 7.5 9V15C7.5 15.8284 6.82843 16.5 6 16.5C5.17157 16.5 4.5 15.8284 4.5 15V9ZM18 7.5C17.1716 7.5 16.5 8.17157 16.5 9V15C16.5 15.8284 17.1716 16.5 18 16.5C18.8284 16.5 19.5 15.8284 19.5 15V9C19.5 8.17157 18.8284 7.5 18 7.5Z",fill:"white"}))}},3847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoScroll=void 0;var o=n(4522);t.AutoScroll=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},(0,o.h)("path",{d:"M6.29289 15.2929C6.65338 14.9324 7.22061 14.9047 7.6129 15.2097L7.70711 15.2929L12 19.585L16.2929 15.2929C16.6534 14.9324 17.2206 14.9047 17.6129 15.2097L17.7071 15.2929C18.0676 15.6534 18.0953 16.2206 17.7903 16.6129L17.7071 16.7071L12.7071 21.7071C12.3466 22.0676 11.7794 22.0953 11.3871 21.7903L11.2929 21.7071L6.29289 16.7071C5.90237 16.3166 5.90237 15.6834 6.29289 15.2929Z",fill:"white"}),(0,o.h)("path",{d:"M17.7071 8.70711C17.3466 9.06759 16.7794 9.09532 16.3871 8.7903L16.2929 8.70711L12 4.415L7.70711 8.70711C7.34662 9.06759 6.77939 9.09532 6.3871 8.79029L6.29289 8.70711C5.93241 8.34662 5.90468 7.77939 6.2097 7.3871L6.29289 7.29289L11.2929 2.29289C11.6534 1.93241 12.2206 1.90468 12.6129 2.2097L12.7071 2.29289L17.7071 7.29289C18.0976 7.68342 18.0976 8.31658 17.7071 8.70711Z",fill:"white"}),(0,o.h)("rect",{x:"10",y:"10",width:"4",height:"4",rx:"2",fill:"white"}))}},768:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chapter=void 0;var o=n(4522);t.Chapter=function(){return(0,o.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 4C4 3.44772 4.44772 3 5 3H11C11.5523 3 12 3.44772 12 4V13C12 13.824 11.0592 14.2944 10.4 13.8L8.6 12.45C8.24444 12.1833 7.75556 12.1833 7.4 12.45L5.6 13.8C4.94076 14.2944 4 13.824 4 13V4Z",fill:"white"}))}},4995:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Check=void 0;var o=n(4522);t.Check=function(){return(0,o.h)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.6402 4.2318C13.0645 4.58537 13.1218 5.21593 12.7682 5.64021L7.76822 11.6402C7.58835 11.856 7.32599 11.9863 7.04531 11.999C6.76464 12.0117 6.49156 11.9058 6.29289 11.7071L4.29289 9.70713C3.90237 9.31661 3.90237 8.68344 4.29289 8.29292C4.68342 7.90239 5.31658 7.90239 5.70711 8.29292L6.9328 9.51861L11.2318 4.35984C11.5853 3.93556 12.2159 3.87824 12.6402 4.2318Z",fill:"white"}))}},1948:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChevronRight=void 0;var o=n(4522);t.ChevronRight=function(){return(0,o.h)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.29289 11.7071C5.90237 11.3166 5.90237 10.6834 6.29289 10.2929L8.58579 8L6.29289 5.70711C5.90237 5.31658 5.90237 4.68342 6.29289 4.29289C6.68342 3.90237 7.31658 3.90237 7.70711 4.29289L10.7071 7.29289C11.0976 7.68342 11.0976 8.31658 10.7071 8.70711L7.70711 11.7071C7.31658 12.0976 6.68342 12.0976 6.29289 11.7071Z",fill:"white"}))}},8963:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Close=void 0;var o=n(4522);t.Close=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M11.6592 10.245L6.70483 5.29061C6.31701 4.9028 5.68581 4.90476 5.29528 5.29528C4.90204 5.68853 4.90267 6.31688 5.29061 6.70483L10.245 11.6592L5.29061 16.6137C4.9028 17.0015 4.90476 17.6327 5.29528 18.0232C5.68853 18.4165 6.31688 18.4158 6.70483 18.0279L11.6592 13.0735L16.6137 18.0279C17.0015 18.4157 17.6327 18.4137 18.0232 18.0232C18.4165 17.63 18.4158 17.0016 18.0279 16.6137L13.0735 11.6592L18.0279 6.70483C18.4157 6.31701 18.4137 5.68581 18.0232 5.29528C17.63 4.90204 17.0016 4.90267 16.6137 5.29061L11.6592 10.245Z",fill:"white"}))}},7656:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClosedCaptions=void 0;var o=n(4522);t.ClosedCaptions=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.53616 4C2.68845 4 2 4.68038 2 5.51967V18.4803C2 19.3125 2.68776 20 3.53616 20H20.4638C21.3116 20 22 19.3196 22 18.4803V5.51967C22 4.6875 21.3122 4 20.4638 4H3.53616ZM11.4852 13.4164C11.4852 13.6096 11.4297 13.8161 11.3186 14.0358C11.2074 14.2555 11.0381 14.4648 10.8104 14.6637C10.5827 14.8626 10.2958 15.0227 9.94978 15.1439C9.60371 15.2652 9.21394 15.3258 8.78045 15.3258C7.85882 15.3258 7.13938 15.0464 6.6221 14.4876C6.10483 13.9288 5.84619 13.1796 5.84619 12.2401C5.84619 11.6036 5.96458 11.041 6.20136 10.5523C6.43814 10.0636 6.78056 9.68567 7.22863 9.41858C7.67669 9.15149 8.21217 9.01794 8.83509 9.01794C9.22123 9.01794 9.57548 9.07667 9.89787 9.19411C10.2203 9.31155 10.4935 9.46309 10.7175 9.64873C10.9415 9.83436 11.1127 10.0323 11.2311 10.2426C11.3495 10.4528 11.4087 10.6489 11.4087 10.8307C11.4087 11.0164 11.3422 11.1736 11.2093 11.3024C11.0763 11.4312 10.9151 11.4956 10.7257 11.4956C10.6018 11.4956 10.4989 11.4625 10.417 11.3962C10.335 11.3299 10.243 11.2228 10.141 11.0751C9.95889 10.7872 9.76855 10.5712 9.57002 10.4273C9.37149 10.2833 9.11923 10.2113 8.81323 10.2113C8.37246 10.2113 8.01729 10.3903 7.74772 10.7483C7.47815 11.1064 7.34337 11.596 7.34337 12.2173C7.34337 12.509 7.37798 12.7771 7.44719 13.0214C7.51641 13.2658 7.61658 13.4742 7.74772 13.6465C7.87886 13.8189 8.03732 13.9496 8.2231 14.0386C8.40889 14.1277 8.61288 14.1722 8.83509 14.1722C9.1338 14.1722 9.3897 14.1002 9.60281 13.9562C9.81591 13.8123 10.0044 13.5925 10.1683 13.297C10.2594 13.1228 10.3578 12.9864 10.4634 12.8879C10.5691 12.7894 10.6984 12.7401 10.8514 12.7401C11.0335 12.7401 11.1847 12.8121 11.3049 12.9561C11.4251 13.1 11.4852 13.2535 11.4852 13.4164ZM18.1351 13.4164C18.1351 13.6096 18.0796 13.8161 17.9684 14.0358C17.8573 14.2555 17.688 14.4648 17.4603 14.6637C17.2326 14.8626 16.9457 15.0227 16.5997 15.1439C16.2536 15.2652 15.8638 15.3258 15.4303 15.3258C14.5087 15.3258 13.7893 15.0464 13.272 14.4876C12.7547 13.9288 12.4961 13.1796 12.4961 12.2401C12.4961 11.6036 12.6145 11.041 12.8513 10.5523C13.088 10.0636 13.4305 9.68567 13.8785 9.41858C14.3266 9.15149 14.8621 9.01794 15.485 9.01794C15.8711 9.01794 16.2254 9.07667 16.5478 9.19411C16.8702 9.31155 17.1434 9.46309 17.3674 9.64873C17.5914 9.83436 17.7626 10.0323 17.881 10.2426C17.9994 10.4528 18.0586 10.6489 18.0586 10.8307C18.0586 11.0164 17.9921 11.1736 17.8592 11.3024C17.7262 11.4312 17.565 11.4956 17.3756 11.4956C17.2517 11.4956 17.1488 11.4625 17.0669 11.3962C16.9849 11.3299 16.8929 11.2228 16.7909 11.0751C16.6088 10.7872 16.4184 10.5712 16.2199 10.4273C16.0214 10.2833 15.7691 10.2113 15.4631 10.2113C15.0223 10.2113 14.6672 10.3903 14.3976 10.7483C14.128 11.1064 13.9933 11.596 13.9933 12.2173C13.9933 12.509 14.0279 12.7771 14.0971 13.0214C14.1663 13.2658 14.2665 13.4742 14.3976 13.6465C14.5288 13.8189 14.6872 13.9496 14.873 14.0386C15.0588 14.1277 15.2628 14.1722 15.485 14.1722C15.7837 14.1722 16.0396 14.1002 16.2527 13.9562C16.4658 13.8123 16.6543 13.5925 16.8182 13.297C16.9093 13.1228 17.0077 12.9864 17.1133 12.8879C17.2189 12.7894 17.3483 12.7401 17.5013 12.7401C17.6834 12.7401 17.8346 12.8121 17.9548 12.9561C18.075 13.1 18.1351 13.2535 18.1351 13.4164Z",fill:"white"}))}},5971:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Detach=void 0;var o=n(4522);t.Detach=function(){return(0,o.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 6C6.89543 6 6 6.89543 6 8V14C6 15.1046 6.89543 16 8 16L8 23C8 24.6569 9.34315 26 11 26H23C24.6569 26 26 24.6569 26 23V11C26 9.34315 24.6569 8 23 8H16C16 6.89543 15.1046 6 14 6H8ZM10 16H14C15.1046 16 16 15.1046 16 14V10H23C23.5523 10 24 10.4477 24 11V23C24 23.5523 23.5523 24 23 24H11C10.4477 24 10 23.5523 10 23V16Z",fill:"white"}))}},2673:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Document=void 0;var o=n(4522);t.Document=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6 2H9.82843H14.1716H18C19.1046 2 20 2.89543 20 4V7.82843V20C20 21.1046 19.1046 22 18 22H6C4.89543 22 4 21.1046 4 20V7.82843V4C4 2.89543 4.89543 2 6 2ZM13 16C13 15.4477 12.5523 15 12 15H8C7.44772 15 7 15.4477 7 16C7 16.5523 7.44772 17 8 17H12C12.5523 17 13 16.5523 13 16ZM17 12C17 11.4477 16.5523 11 16 11H8C7.44772 11 7 11.4477 7 12C7 12.5523 7.44772 13 8 13H16C16.5523 13 17 12.5523 17 12ZM17 8C17 7.44772 16.5523 7 16 7H8C7.44772 7 7 7.44772 7 8C7 8.55228 7.44772 9 8 9H16C16.5523 9 17 8.55228 17 8Z",fill:"white"}))}},1495:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Download=void 0;var o=n(4522);t.Download=function(){return(0,o.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M17.5 6C17.5 5.44772 17.0523 5 16.5 5L16.3834 5.00673C15.886 5.06449 15.5 5.48716 15.5 6L15.4997 17.693L9.71029 12.2702C9.30721 11.8926 8.67439 11.9133 8.29683 12.3164C7.91928 12.7195 7.93998 13.3523 8.34306 13.7298L15.8164 20.7298C15.8212 20.7343 15.826 20.7387 15.8308 20.7431L15.8164 20.7298L15.9035 20.8027C15.9034 20.8026 15.9037 20.8028 15.9035 20.8027C15.9135 20.8101 15.9231 20.817 15.9333 20.824C15.956 20.8397 15.9793 20.8544 16.0038 20.8684C16.0148 20.8747 16.0259 20.8808 16.0366 20.8864C16.0596 20.8984 16.0832 20.9096 16.1077 20.9201C16.1223 20.9263 16.1371 20.9322 16.1515 20.9376C16.1769 20.947 16.2028 20.9555 16.2299 20.963C16.2399 20.9658 16.25 20.9684 16.2595 20.9709C16.3365 20.9899 16.4171 21 16.5 21C16.5804 21 16.6585 20.9905 16.7336 20.9725C16.7521 20.968 16.7706 20.963 16.7889 20.9576C16.8097 20.9514 16.8303 20.9444 16.8507 20.9367C16.8632 20.932 16.8756 20.9271 16.8878 20.922C16.9121 20.9118 16.936 20.9006 16.9596 20.8883C16.9735 20.8812 16.9872 20.8736 17.0007 20.8658C17.0223 20.8533 17.0434 20.84 17.0636 20.8262C17.0764 20.8174 17.0891 20.8083 17.1021 20.7985C17.1224 20.7831 17.1422 20.767 17.161 20.7504C17.1685 20.7437 17.176 20.737 17.1834 20.7301L24.6619 13.7301C25.0651 13.3527 25.086 12.7198 24.7086 12.3166L24.6172 12.2304C24.2352 11.9126 23.6674 11.9215 23.2952 12.2699L17.4997 17.694L17.5 6Z",fill:"white"}),(0,o.h)("path",{d:"M27 26C27 26.5523 26.5523 27 26 27H7C6.44772 27 6 26.5523 6 26C6 25.4477 6.44772 25 7 25H26C26.5523 25 27 25.4477 27 26Z",fill:"white"}))}},9504:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Excel=void 0;var o=n(4522);t.Excel=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22 6C22 4.89543 21.1046 4 20 4H4C2.89543 4 2 4.89543 2 6V18C2 19.1046 2.89543 20 4 20H20C21.1046 20 22 19.1046 22 18V6ZM8 16C8 15.4477 7.55228 15 7 15H5C4.44772 15 4 15.4477 4 16C4 16.5523 4.44772 17 5 17H7C7.55228 17 8 16.5523 8 16ZM14 16C14 15.4477 13.5523 15 13 15H11C10.4477 15 10 15.4477 10 16C10 16.5523 10.4477 17 11 17H13C13.5523 17 14 16.5523 14 16ZM8 12C8 11.4477 7.55228 11 7 11H5C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13H7C7.55228 13 8 12.5523 8 12ZM14 12C14 11.4477 13.5523 11 13 11H11C10.4477 11 10 11.4477 10 12C10 12.5523 10.4477 13 11 13H13C13.5523 13 14 12.5523 14 12ZM8 8C8 7.44772 7.55228 7 7 7H5C4.44772 7 4 7.44772 4 8C4 8.55228 4.44772 9 5 9H7C7.55228 9 8 8.55228 8 8ZM14 8C14 7.44772 13.5523 7 13 7H11C10.4477 7 10 7.44772 10 8C10 8.55228 10.4477 9 11 9H13C13.5523 9 14 8.55228 14 8ZM19 17H17C16.4477 17 16 16.5523 16 16C16 15.4477 16.4477 15 17 15H19C19.5523 15 20 15.4477 20 16C20 16.5523 19.5523 17 19 17ZM17 13H19C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11H17C16.4477 11 16 11.4477 16 12C16 12.5523 16.4477 13 17 13ZM19 9H17C16.4477 9 16 8.55228 16 8C16 7.44772 16.4477 7 17 7H19C19.5523 7 20 7.44772 20 8C20 8.55228 19.5523 9 19 9Z",fill:"white"}))}},3767:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Expand=void 0;var o=n(4522);t.Expand=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M20.997 3.924L20.998 3.945L20.999 3.98L21 4V10C21 10.5523 20.5523 11 20 11C19.4872 11 19.0645 10.614 19.0067 10.1166L19 10V6.416L14.7071 10.7071C14.3466 11.0676 13.7794 11.0953 13.3871 10.7903L13.2929 10.7071C12.9324 10.3466 12.9047 9.77939 13.2097 9.3871L13.2929 9.29289L17.586 5H14C13.4872 5 13.0645 4.61396 13.0067 4.11662L13 4C13 3.48716 13.386 3.06449 13.8834 3.00673L14 3L20.0332 3.00054C20.0503 3.00109 20.0683 3.00216 20.0862 3.0037C20.1079 3.00553 20.1285 3.00797 20.149 3.01102C20.166 3.01363 20.1834 3.0167 20.2007 3.02024C20.2227 3.02464 20.2444 3.02983 20.2658 3.03572C20.2815 3.0401 20.2969 3.04473 20.3121 3.04974C20.3318 3.05612 20.3516 3.06332 20.3711 3.0711L20.4232 3.09367C20.4439 3.10338 20.4643 3.11379 20.4843 3.12488C20.4964 3.1315 20.5086 3.13861 20.5207 3.146C20.5463 3.16172 20.5711 3.17849 20.5952 3.19631L20.6525 3.24221L20.6168 3.21279C20.6802 3.26255 20.7374 3.31982 20.7872 3.38325C20.7927 3.39016 20.7982 3.3974 20.8037 3.40469C20.8215 3.42887 20.8383 3.45373 20.8539 3.47934L20.8753 3.51594C20.8862 3.53571 20.8966 3.55611 20.9063 3.5769L20.9288 3.62866C20.9367 3.64842 20.9439 3.6682 20.9505 3.68826C20.9553 3.70315 20.9599 3.71854 20.9642 3.73401C20.9702 3.75556 20.9754 3.77725 20.9798 3.79921C20.9833 3.81662 20.9864 3.83405 20.989 3.85153L20.996 3.91075L20.996 3.919L20.997 3.921V3.924ZM3.002 20.059V20.071L3.00175 20.0593C3.00122 20.0503 3.00081 20.0413 3.00052 20.0323L3 14C3 13.4477 3.44772 13 4 13C4.51284 13 4.93551 13.386 4.99327 13.8834L5 14V17.586L9.29289 13.2929C9.65338 12.9324 10.2206 12.9047 10.6129 13.2097L10.7071 13.2929C11.0676 13.6534 11.0953 14.2206 10.7903 14.6129L10.7071 14.7071L6.416 19H10C10.5128 19 10.9355 19.386 10.9933 19.8834L11 20C11 20.5128 10.614 20.9355 10.1166 20.9933L10 21H4C3.99354 21 3.98709 20.9999 3.98066 20.9998C3.95732 20.9994 3.93401 20.9981 3.91075 20.996C3.89031 20.9943 3.87058 20.9919 3.85104 20.989C3.83405 20.9864 3.81662 20.9833 3.79927 20.9798C3.77725 20.9754 3.75556 20.9702 3.73416 20.9643C3.71854 20.9599 3.70315 20.9553 3.68786 20.9503C3.6682 20.9439 3.64842 20.9367 3.62894 20.9289L3.57678 20.9063C3.55611 20.8966 3.53571 20.8862 3.51572 20.8751C3.50361 20.8685 3.49139 20.8614 3.47929 20.854C3.45373 20.8383 3.42887 20.8215 3.40484 20.8037L3.34745 20.7578L3.38325 20.7872C3.31982 20.7374 3.26255 20.6802 3.21279 20.6168C3.20728 20.6098 3.20175 20.6026 3.19633 20.5953C3.17849 20.5711 3.16172 20.5463 3.14607 20.5207L3.12467 20.4841C3.11379 20.4643 3.10338 20.4439 3.09365 20.4231L3.07123 20.3713C3.06332 20.3516 3.05612 20.3318 3.04955 20.3117C3.04473 20.2969 3.0401 20.2815 3.03585 20.266C3.02983 20.2444 3.02464 20.2227 3.02017 20.2008C3.0167 20.1834 3.01363 20.1659 3.01102 20.1485L3.0037 20.0862L3.002 20.059Z",fill:"white"}))}},7713:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericFile=void 0;var o=n(4522);t.GenericFile=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6 2C4.89543 2 4 2.89543 4 4V20C4 21.1046 4.89543 22 6 22H18C19.1046 22 20 21.1046 20 20V7.82843C20 7.29799 19.7893 6.78929 19.4142 6.41421L15.5858 2.58579C15.2107 2.21071 14.702 2 14.1716 2H6ZM14.3657 4.36569C13.8617 3.86171 13 4.21865 13 4.93137V8.2C13 8.64183 13.3582 9 13.8 9H17.0686C17.7814 9 18.1383 8.13829 17.6343 7.63431L14.3657 4.36569Z",fill:"white"}))}},3064:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hotspot=void 0;var o=n(4522);t.Hotspot=function(){return(0,o.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.5 2C6.11537 2 5.79837 2.28953 5.75505 2.66253L5.75 2.75V3.5C5.75 3.91421 6.08579 4.25 6.5 4.25C6.88463 4.25 7.20163 3.96047 7.24495 3.58747L7.25 3.5V2.75C7.25 2.33579 6.91421 2 6.5 2ZM11.7955 3.8295C11.5235 3.55753 11.0946 3.53811 10.8003 3.77123L10.7348 3.8295L10.2045 4.35984C9.91161 4.65273 9.91161 5.1276 10.2045 5.4205C10.4765 5.69247 10.9054 5.71189 11.1997 5.47878L11.2652 5.4205L11.7955 4.89016C12.0884 4.59727 12.0884 4.1224 11.7955 3.8295ZM3.4545 12.1705C3.72648 12.4425 4.15536 12.4619 4.44975 12.2288L4.51516 12.1705L5.0455 11.6402C5.33839 11.3473 5.33839 10.8724 5.0455 10.5795C4.77352 10.3075 4.34464 10.2881 4.05025 10.5212L3.98484 10.5795L3.4545 11.1098C3.16161 11.4027 3.16161 11.8776 3.4545 12.1705ZM6.53592 6.98358C6.65797 6.61718 7.05316 6.41577 7.4186 6.53371L13.5234 8.50394C13.6272 8.53745 13.7214 8.59497 13.7983 8.67186C14.0693 8.94255 14.0669 9.38382 13.793 9.65748L12.8998 10.5499C12.7787 10.6708 12.7713 10.8642 12.8828 10.9915L13.6084 11.8185C14.0177 12.3362 13.9793 13.0939 13.4958 13.5769L13.4659 13.6069C12.9452 14.127 12.1056 14.1316 11.5906 13.6171L10.9802 12.9207C10.8554 12.7952 10.6516 12.7959 10.525 12.9224L9.66058 13.786C9.58277 13.8638 9.48795 13.9223 9.38376 13.957C9.01702 14.0789 8.624 13.8818 8.50593 13.5167L6.53356 7.41792C6.48802 7.27709 6.48885 7.12492 6.53592 6.98358ZM3.5 5.75C3.91421 5.75 4.25 6.08579 4.25 6.5C4.25 6.91421 3.91421 7.25 3.5 7.25H2.75C2.33579 7.25 2 6.91421 2 6.5C2 6.08579 2.33579 5.75 2.75 5.75H3.5Z",fill:"white"}))}},5865:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Image=void 0;var o=n(4522);t.Image=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20 4C21.1046 4 22 4.89543 22 6V18C22 19.1046 21.1046 20 20 20H4C2.89543 20 2 19.1046 2 18V6C2 4.89543 2.89543 4 4 4H20ZM13.4658 9.8483C13.739 9.41452 14.1763 9.3854 14.4736 9.76788L14.5351 9.85614L18.2077 15.7324C18.6176 16.3882 18.3599 16.9391 17.6281 16.9953L17.5018 17H6.49825C5.71856 17 5.40843 16.498 5.77171 15.8584L5.83853 15.7506L8.44382 11.8687C8.72793 11.4454 9.26701 11.3331 9.6897 11.5934L9.785 11.6602L10.696 12.3798C11.1046 12.7026 11.6375 12.6332 11.9477 12.2465L12.0152 12.1517L13.4658 9.8483ZM9 8.5C9 7.672 8.328 7 7.5 7C6.672 7 6 7.672 6 8.5C6 9.329 6.672 10 7.5 10C8.328 10 9 9.329 9 8.5Z",fill:"white"}))}},9294:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Icons=void 0;var o=n(8963),i=n(9761),r=n(1495),a=n(1060),s=n(9109),l=n(0),c=n(6139),p=n(1384),u=n(3410),d=n(14),h=n(8671),f=n(1383),C=n(3767),A=n(1813),v=n(4843),y=n(768),g=n(3064),m=n(9709),_=n(6461),w=n(3847),b=n(716),x=n(7656),k=n(7713),P=n(94),B=n(5865),M=n(2673),O=n(9504),L=n(2295),S=n(7370),j=n(9787),I=n(4359),T=n(5403),W=n(5971),R=n(5799),E=n(5960),D=n(1948),H=n(4995);t.Icons={close:o.Close,print:i.Print,download:r.Download,related:a.Related,message:s.Message,share:l.Share,more:c.More,quiz:p.QuizIcon,switch:u.Switch,add:d.Add,minimizedVideo:h.MinimizedVideo,pictureInPicture:f.PictureInPicture,expand:C.Expand,arrowOpen:A.ArrowOpen,arrowClose:v.ArrowClose,chapter:y.Chapter,hotspot:g.Hotspot,answerOnAir:m.AnswerOnAir,screenRotation:_.ScreenRotation,autoScroll:w.AutoScroll,replay:b.ReplayIcon,closedCaptions:x.ClosedCaptions,genericFile:k.GenericFile,presentation:P.Presentation,image:B.Image,document:M.Document,excel:O.Excel,pdf:L.PDF,zip:S.Zip,volumeOn:j.VolumeOn,volumeMute:I.VolumeMute,spinner:T.Spinner,detach:W.Detach,attach:R.Attach,audio:E.Audio,chevronRight:D.ChevronRight,check:H.Check}},9109:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Message=void 0;var o=n(4522);t.Message=function(){return(0,o.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M25 5C27.2091 5 29 6.75035 29 8.90952V18.6833C29 20.8425 27.2091 22.5928 25 22.5928H14.985L10.7019 26.7188C10.546 26.8689 10.3449 26.9641 10.1302 26.9917L10 27C9.44772 27 9 26.5624 9 26.0226V22.5928H7C4.79086 22.5928 3 20.8425 3 18.6833V8.90952C3 6.75035 4.79086 5 7 5H25ZM25 6.95476H7C5.89543 6.95476 5 7.82994 5 8.90952V18.6833C5 19.7629 5.89543 20.6381 7 20.6381H11V23.687L14.1651 20.6381H25C26.1046 20.6381 27 19.7629 27 18.6833V8.90952C27 7.82994 26.1046 6.95476 25 6.95476ZM19 14.7738C19.5523 14.7738 20 15.2114 20 15.7512C20 16.291 19.5523 16.7286 19 16.7286H10C9.44772 16.7286 9 16.291 9 15.7512C9 15.2114 9.44772 14.7738 10 14.7738H19ZM23 10.8643C23.5523 10.8643 24 11.3019 24 11.8417C24 12.3815 23.5523 12.819 23 12.819H10C9.44772 12.819 9 12.3815 9 11.8417C9 11.3019 9.44772 10.8643 10 10.8643H23Z",fill:"white"}))}},8671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MinimizedVideo=void 0;var o=n(4522);t.MinimizedVideo=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.25 4.5H18.75C19.9926 4.5 21 5.50736 21 6.75V17.25C21 18.4926 19.9926 19.5 18.75 19.5H5.25C4.00736 19.5 3 18.4926 3 17.25V6.75C3 5.50736 4.00736 4.5 5.25 4.5ZM5.25 6C4.83579 6 4.5 6.33579 4.5 6.75V17.25C4.5 17.6642 4.83579 18 5.25 18H18.75C19.1642 18 19.5 17.6642 19.5 17.25V6.75C19.5 6.33579 19.1642 6 18.75 6H5.25ZM13 12C12.4477 12 12 12.4477 12 13V15.5C12 16.0523 12.4477 16.5 13 16.5H17C17.5523 16.5 18 16.0523 18 15.5V13C18 12.4477 17.5523 12 17 12H13Z",fill:"white"}))}},6139:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.More=void 0;var o=n(4522);t.More=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},(0,o.h)("path",{d:"M8 12C8 13.1046 7.10457 14 6 14C4.89543 14 4 13.1046 4 12C4 10.8954 4.89543 10 6 10C7.10457 10 8 10.8954 8 12ZM14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12ZM20 12C20 13.1046 19.1046 14 18 14C16.8954 14 16 13.1046 16 12C16 10.8954 16.8954 10 18 10C19.1046 10 20 10.8954 20 12Z",fill:"white"}))}},2295:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDF=void 0;var o=n(4522);t.PDF=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M16.2428 13.7325C17.4357 13.7542 18.6185 13.8543 19.7692 14.1927C20.2755 14.3415 20.7634 14.5301 21.1919 14.8459C22.0863 15.5045 22.2575 16.5466 21.6176 17.4515C20.9502 18.3952 19.8553 18.72 18.699 18.3321C17.8678 18.0533 17.1473 17.5995 16.5083 17.0166C15.915 16.4753 15.3392 15.9159 14.7469 15.3728C14.6746 15.3069 14.5482 15.2591 14.4503 15.2645C13.1247 15.3448 11.8091 15.509 10.5119 15.7995C10.0065 15.9123 9.50577 16.0458 9.00867 16.1884C8.9162 16.2146 8.82374 16.3138 8.77522 16.4031C8.07579 17.6978 7.33425 18.9672 6.42427 20.1329C5.98118 20.7004 5.49231 21.2273 4.87985 21.6261C3.70346 22.3912 2.4932 21.9482 2.10595 20.6075C1.88074 19.828 2.01715 19.1098 2.49045 18.4458C3.25945 17.3658 4.29212 16.5917 5.46301 15.998C6.15878 15.6453 6.89849 15.3755 7.61256 15.0561C7.72516 15.0056 7.84509 14.9081 7.89911 14.8017C8.68916 13.2489 9.37486 11.6511 9.98182 10.0199C10.0386 9.86741 10.023 9.75825 9.93879 9.62562C9.17254 8.42205 8.68001 7.12375 8.59212 5.69644C8.52987 4.68865 8.64431 3.71155 9.23845 2.84631C9.8207 1.99822 10.8058 1.74831 11.6059 2.27611C12.2705 2.71459 12.6788 3.33712 12.7594 4.13649C12.8656 5.19209 12.6788 6.22063 12.4216 7.23743C12.2357 7.97275 12.0087 8.69813 11.7899 9.42532C11.7487 9.56246 11.7643 9.659 11.8494 9.77629C12.8399 11.1441 13.9632 12.4018 15.147 13.608C15.2156 13.6784 15.341 13.7217 15.4427 13.7289C15.7081 13.7434 15.9755 13.7325 16.2428 13.7325ZM9.79415 14.3894C10.9486 14.1981 12.0792 14.0104 13.2171 13.8219C12.5168 13.0017 11.8155 12.1798 11.1069 11.3507C10.6648 12.3738 10.2327 13.3735 9.79415 14.3894ZM10.7133 7.76704C10.7591 7.60103 10.8058 7.43592 10.8497 7.26901C11.0777 6.4101 11.3029 5.54937 11.2855 4.65347C11.2809 4.40716 11.2141 4.14551 11.1079 3.92176C11.0319 3.76207 10.8424 3.65471 10.7041 3.52388C10.5833 3.67095 10.4267 3.80267 10.3471 3.96868C10.1137 4.45588 10.0834 4.98458 10.1127 5.51329C10.1576 6.29912 10.3379 7.05428 10.7133 7.76704ZM6.60279 17.0942C5.92899 17.4163 5.3083 17.7592 4.77915 18.2283C4.40197 18.563 4.06233 18.942 3.73642 19.3272C3.48832 19.6204 3.46452 19.9696 3.62931 20.3242C3.70438 20.4866 3.80233 20.5461 3.96071 20.427C4.11817 20.3088 4.28662 20.2015 4.42852 20.068C5.31471 19.2334 5.95097 18.2148 6.58356 17.1944C6.59546 17.1763 6.59272 17.152 6.60279 17.0942ZM16.8937 15.2762C17.54 15.9394 18.2166 16.5529 19.1055 16.8678C19.3087 16.9399 19.5358 16.9715 19.7518 16.9724C20.0594 16.9742 20.4055 16.6792 20.4503 16.3842C20.497 16.0792 20.2233 15.9998 20.0237 15.9033C19.0396 15.426 17.9685 15.3484 16.8937 15.2762Z",fill:"white"}))}},1383:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PictureInPicture=void 0;var o=n(4522);t.PictureInPicture=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.75 4.5H5.25C4.00736 4.5 3 5.50736 3 6.75V17.25C3 18.4926 4.00736 19.5 5.25 19.5H18.75C19.9926 19.5 21 18.4926 21 17.25V6.75C21 5.50736 19.9926 4.5 18.75 4.5ZM13 12C12.4477 12 12 12.4477 12 13V15.5C12 16.0523 12.4477 16.5 13 16.5H17C17.5523 16.5 18 16.0523 18 15.5V13C18 12.4477 17.5523 12 17 12H13Z",fill:"white"}))}},94:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Presentation=void 0;var o=n(4522);t.Presentation=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6 4C4.34315 4 3 5.34315 3 7V17C3 18.6569 4.34315 20 6 20H18C19.6569 20 21 18.6569 21 17V7C21 5.34315 19.6569 4 18 4H6ZM18 8H6V16H18V8Z",fill:"white"}))}},9761:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Print=void 0;var o=n(4522);t.Print=function(){return(0,o.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M23 23H26C27.1046 23 28 22.1046 28 21V11C28 9.89543 27.1046 9 26 9H23V5C23 3.89543 22.1046 3 21 3H11C9.89543 3 9 3.89543 9 5V9H6C4.89543 9 4 9.89543 4 11V21C4 22.1046 4.89543 23 6 23H9V28C9 29.1046 9.89543 30 11 30H21C22.1046 30 23 29.1046 23 28V23ZM6 11V21H9V19C8.44772 19 8 18.5523 8 18C8 17.4477 8.44772 17 9 17H23C23.5523 17 24 17.4477 24 18C24 18.5523 23.5523 19 23 19V21H26V11H6ZM21 9V5H11V9H21ZM11 19V28H21V19H11Z",fill:"white"}))}},1384:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuizIcon=void 0;var o=n(4522);t.QuizIcon=function(){return(0,o.h)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.49857 2.11499L12.7442 4.2052C12.9162 4.28987 12.9812 4.48721 12.8895 4.64597C12.8594 4.69807 12.8145 4.74163 12.7597 4.77201L8.54484 7.10634C8.20953 7.29205 7.79063 7.29205 7.45532 7.10634L3.2405 4.77202C3.07335 4.67945 3.01915 4.47933 3.11944 4.32505C3.15235 4.27441 3.19956 4.23299 3.256 4.2052L7.50203 2.11498C7.81345 1.96167 8.18715 1.96168 8.49857 2.11499ZM14 6.02878V10.7642C14 11.1075 13.8049 11.4256 13.486 11.6022L9.24043 13.9536C9.07328 14.0461 8.85649 13.9961 8.7562 13.8418C8.72329 13.7912 8.7059 13.7333 8.7059 13.6742V8.93882C8.7059 8.59551 8.90104 8.27738 9.21997 8.10075L13.4655 5.74942C13.6326 5.65685 13.8494 5.70688 13.9497 5.86116C13.9826 5.91179 14 5.96973 14 6.02878ZM6.5145 8.31192L2.50483 6.04476C2.45303 6.01547 2.39375 6 2.33333 6C2.14924 6 2 6.14064 2 6.31412V10.88C2 11.211 2.1843 11.5178 2.4855 11.6881L6.49517 13.9552C6.54697 13.9845 6.60625 14 6.66667 14C6.85076 14 7 13.8594 7 13.6859V9.12C7 8.78898 6.8157 8.48223 6.5145 8.31192Z",fill:"white"}))}},1060:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Related=void 0;var o=n(4522);t.Related=function(){return(0,o.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 7H12C13.1046 7 14 7.89543 14 9V13C14 14.1046 13.1046 15 12 15H8C6.89543 15 6 14.1046 6 13V9C6 7.89543 6.89543 7 8 7ZM8 13H12V9H8V13Z",fill:"white"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 18H12C13.1046 18 14 18.8954 14 20V24C14 25.1046 13.1046 26 12 26H8C6.89543 26 6 25.1046 6 24V20C6 18.8954 6.89543 18 8 18ZM8 24H12V20H8V24Z",fill:"white"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 7H20C18.8954 7 18 7.89543 18 9V13C18 14.1046 18.8954 15 20 15H24C25.1046 15 26 14.1046 26 13V9C26 7.89543 25.1046 7 24 7ZM24 13H20V9H24V13Z",fill:"white"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20 18H24C25.1046 18 26 18.8954 26 20V24C26 25.1046 25.1046 26 24 26H20C18.8954 26 18 25.1046 18 24V20C18 18.8954 18.8954 18 20 18ZM20 24H24V20H20V24Z",fill:"white"}))}},716:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReplayIcon=void 0;var o=n(4522);t.ReplayIcon=function(){return(0,o.h)("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("g",{opacity:"0.8"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.5 7.50049C8.73858 7.50049 6.5 9.73906 6.5 12.5005V16.5005C6.5 19.2619 8.73858 21.5005 11.5 21.5005H13.0858L11.7929 22.7934C11.4024 23.1839 11.4024 23.8171 11.7929 24.2076C12.1834 24.5981 12.8166 24.5981 13.2071 24.2076L16.2071 21.2076C16.5976 20.8171 16.5976 20.1839 16.2071 19.7934L13.2071 16.7934C12.8166 16.4029 12.1834 16.4029 11.7929 16.7934C11.4024 17.1839 11.4024 17.8171 11.7929 18.2076L13.0858 19.5005H11.5C9.84315 19.5005 8.5 18.1573 8.5 16.5005V12.5005C8.5 10.8436 9.84315 9.50049 11.5 9.50049H21.5C23.1569 9.50049 24.5 10.8436 24.5 12.5005V16.5005C24.5 18.1573 23.1569 19.5005 21.5 19.5005H20C19.4477 19.5005 19 19.9482 19 20.5005C19 21.0528 19.4477 21.5005 20 21.5005H21.5C24.2614 21.5005 26.5 19.2619 26.5 16.5005V12.5005C26.5 9.73906 24.2614 7.50049 21.5 7.50049H11.5Z",fill:"white"})))}},6461:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenRotation=void 0;var o=n(4522);t.ScreenRotation=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 3C12 2.44772 12.4477 2 13 2C17.9706 2 22 6.02944 22 11C22 11.5523 21.5523 12 21 12C20.4477 12 20 11.5523 20 11C20 7.13401 16.866 4 13 4C12.4477 4 12 3.55228 12 3ZM10.6569 7.82843L7.82843 10.6569L13.4853 16.3137L16.3137 13.4853L10.6569 7.82843ZM12.0711 6.41421C11.29 5.63317 10.0237 5.63317 9.24265 6.41421L6.41422 9.24264C5.63317 10.0237 5.63317 11.29 6.41422 12.0711L12.0711 17.7279C12.8521 18.509 14.1185 18.509 14.8995 17.7279L17.7279 14.8995C18.509 14.1184 18.509 12.8521 17.7279 12.0711L12.0711 6.41421ZM11 22C11.5523 22 12 21.5523 12 21C12 20.4477 11.5523 20 11 20C7.13401 20 4 16.866 4 13C4 12.4477 3.55228 12 3 12C2.44771 12 2 12.4477 2 13C2 17.9706 6.02944 22 11 22Z",fill:"white"}))}},0:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Share=void 0;var o=n(4522);t.Share=function(){return(0,o.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22.6667 12.6667C24.5076 12.6667 26 11.1743 26 9.33333C26 7.49238 24.5076 6 22.6667 6C20.8257 6 19.3333 7.49238 19.3333 9.33333C19.3333 9.38882 19.3347 9.44399 19.3374 9.49881L11.9575 13.9443C11.3473 13.1665 10.3987 12.6667 9.33333 12.6667C7.49238 12.6667 6 14.1591 6 16C6 17.8409 7.49238 19.3333 9.33333 19.3333C10.3981 19.3333 11.3462 18.8341 11.9564 18.057L19.3374 22.5013C19.3347 22.5561 19.3333 22.6112 19.3333 22.6667C19.3333 24.5076 20.8257 26 22.6667 26C24.5076 26 26 24.5076 26 22.6667C26 20.8257 24.5076 19.3333 22.6667 19.3333C21.6074 19.3333 20.6636 19.8274 20.053 20.5976L12.864 16.2689L12.8651 15.7324L20.0531 11.4025C20.6637 12.1727 21.6075 12.6667 22.6667 12.6667ZM22.6667 10.6667C21.9303 10.6667 21.3333 10.0697 21.3333 9.33333C21.3333 8.59695 21.9303 8 22.6667 8C23.403 8 24 8.59695 24 9.33333C24 10.0697 23.403 10.6667 22.6667 10.6667ZM9.33333 17.3333C8.59695 17.3333 8 16.7364 8 16C8 15.2636 8.59695 14.6667 9.33333 14.6667C10.0697 14.6667 10.6667 15.2636 10.6667 16C10.6667 16.7364 10.0697 17.3333 9.33333 17.3333ZM21.3333 22.6667C21.3333 23.403 21.9303 24 22.6667 24C23.403 24 24 23.403 24 22.6667C24 21.9303 23.403 21.3333 22.6667 21.3333C21.9303 21.3333 21.3333 21.9303 21.3333 22.6667Z",fill:"white"}))}},5403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Spinner=void 0;var o=n(4522),i=n(7859);t.Spinner=function(){return(0,o.h)("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i.spinner},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.5 18C15.8137 18 18.5 15.3137 18.5 12C18.5 8.68629 15.8137 6 12.5 6C9.18629 6 6.5 8.68629 6.5 12C6.5 15.3137 9.18629 18 12.5 18ZM12.5 22C18.0228 22 22.5 17.5228 22.5 12C22.5 6.47715 18.0228 2 12.5 2C6.97715 2 2.5 6.47715 2.5 12C2.5 17.5228 6.97715 22 12.5 22Z",fill:"white","fill-opacity":"0.2"}),(0,o.h)("path",{d:"M18.5 12H22.5C22.5 6.47715 18.0228 2 12.5 2V6C15.8137 6 18.5 8.68629 18.5 12Z",fill:"white"}))}},3410:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Switch=void 0;var o=n(4522);t.Switch=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M17.6744 9.27934L21.7563 13.3632L21.8282 13.4537L21.887 13.5492L21.9333 13.6489L21.9684 13.7556L21.9824 13.8172L21.9974 13.929L22 14L21.9897 14.1405L21.9824 14.1828L21.9535 14.2949L21.9231 14.3759L21.887 14.4508L21.8281 14.5463L21.7763 14.6137L21.7207 14.6744L17.6744 18.7207C17.3019 19.0931 16.6981 19.0931 16.3256 18.7207C15.9818 18.3769 15.9554 17.8359 16.2463 17.4617L16.3256 17.3719L18.7439 14.9536L12.9537 14.9537C12.4675 14.9537 12.0663 14.5899 12.0074 14.1196L12 14C12 13.5109 12.3682 13.1078 12.8425 13.0527L12.9537 13.0463L18.7426 13.0451L16.3256 10.6281C15.9798 10.2823 15.9551 9.73687 16.2515 9.36252L16.3256 9.27934C16.6981 8.90689 17.3019 8.90689 17.6744 9.27934ZM6.32562 5.27934C6.69807 4.90689 7.30193 4.90689 7.67438 5.27934L7.74849 5.36252C8.04493 5.73687 8.02023 6.28225 7.67438 6.6281L5.2574 9.04508L11.0463 9.04628L11.1575 9.0527C11.6318 9.10779 12 9.5109 12 10L11.9926 10.1196C11.9337 10.5899 11.5325 10.9537 11.0463 10.9537L5.25605 10.9536L7.67438 13.3719L7.75372 13.4617C8.04463 13.8359 8.01818 14.3769 7.67438 14.7207C7.30193 15.0931 6.69807 15.0931 6.32562 14.7207L2.25793 10.6523L2.18664 10.5668L2.12413 10.4708L2.07695 10.3759L2.03697 10.2639L2.01028 10.1405L2 10C2 9.95226 2.00351 9.90534 2.01036 9.85937L2.01758 9.81716L2.04651 9.70514L2.08932 9.59642L2.12415 9.52899L2.18631 9.43351L2.24369 9.36325L6.32562 5.27934Z",fill:"white"}))}},4359:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VolumeMute=void 0;var o=n(4522);t.VolumeMute=function(){return(0,o.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 11L14.2433 6.97588C15.2135 6.43689 16 6.89817 16 7.99076V24.0092C16 25.1087 15.2171 25.565 14.2433 25.024L7 21H3.00293C2.44903 21 2 20.5443 2 20.0046V11.9954C2 11.4456 2.43788 11 3.00293 11H7ZM9 12.1768V19.8232L14 22.6009V9.39899L9 12.1768ZM7 13H4V19H7V13Z",fill:"white"}),(0,o.h)("path",{d:"M20.4645 12.4644C20.0739 12.855 20.0739 13.4881 20.4645 13.8786L22.5858 16L20.4645 18.1213C20.0739 18.5118 20.0739 19.145 20.4645 19.5355C20.855 19.926 21.4882 19.926 21.8787 19.5355L24 17.4142L26.1213 19.5355C26.5118 19.926 27.145 19.926 27.5355 19.5355C27.9261 19.145 27.9261 18.5118 27.5355 18.1213L25.4142 16L27.5355 13.8786C27.9261 13.4881 27.9261 12.855 27.5355 12.4644C27.145 12.0739 26.5118 12.0739 26.1213 12.4644L24 14.5857L21.8787 12.4644C21.4882 12.0739 20.855 12.0739 20.4645 12.4644Z",fill:"white"}))}},9787:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VolumeOn=void 0;var o=n(4522);t.VolumeOn=function(){return(0,o.h)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M25.063 26.1618C27.6367 23.4547 29.1 19.8564 29.1 16.0287C29.1 12.1544 27.6007 8.51592 24.971 5.79967C24.5869 5.40288 23.9538 5.39263 23.557 5.77678C23.1602 6.16093 23.15 6.79402 23.5341 7.19081C25.8057 9.53719 27.1 12.6782 27.1 16.0287C27.1 19.339 25.8368 22.4453 23.6136 24.7838C23.233 25.184 23.249 25.817 23.6493 26.1975C24.0495 26.5781 24.6825 26.5621 25.063 26.1618Z",fill:"white"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 11L14.2433 6.97595C15.2135 6.43696 16 6.89824 16 7.99082V24.0092C16 25.1087 15.2171 25.5651 14.2433 25.0241L7 21H3.00293C2.44903 21 2 20.5444 2 20.0046V11.9954C2 11.4457 2.43788 11 3.00293 11H7ZM9 12.1768V19.8232L14 22.601V9.39906L9 12.1768ZM7 13H4V19H7V13Z",fill:"white"}),(0,o.h)("path",{d:"M24.2097 15.6872C24.2097 18.6042 22.9749 21.3231 20.8574 23.2257C20.4466 23.5948 19.8143 23.561 19.4452 23.1502C19.076 22.7394 19.1098 22.1071 19.5207 21.738C21.2197 20.2114 22.2097 18.0316 22.2097 15.6872C22.2097 13.4938 21.344 11.4424 19.8323 9.93166C19.4417 9.54127 19.4414 8.9081 19.8318 8.51745C20.2222 8.12679 20.8554 8.12657 21.246 8.51697C23.1299 10.3996 24.2097 12.9585 24.2097 15.6872Z",fill:"white"}))}},7370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Zip=void 0;var o=n(4522);t.Zip=function(){return(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6 2C4.89543 2 4 2.89543 4 4V20C4 21.1046 4.89543 22 6 22H18C19.1046 22 20 21.1046 20 20V7.82843C20 7.29799 19.7893 6.78929 19.4142 6.41421L15.5858 2.58579C15.2107 2.21071 14.702 2 14.1716 2H6ZM14.3657 4.36569C13.8617 3.86171 13 4.21865 13 4.93137V8.2C13 8.64183 13.3582 9 13.8 9H17.0686C17.7814 9 18.1383 8.13829 17.6343 7.63431L14.3657 4.36569ZM7 5H9V7H7V5ZM9 9H7V11H9V9ZM7 13H9V15H7V13ZM10 17H6V19H10V17Z",fill:"white"}))}},9731:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Icon=t.IconSize=void 0;var o,i=n(4522),r=n(4184),a=n(9294),s=n(3848);!function(e){e.small="small",e.medium="medium",e.large="large"}(o=t.IconSize||(t.IconSize={})),t.Icon=function(e){var t=a.Icons[e.name];return t?(0,i.h)("div",{className:r(s.iconWrapper,s[e.size])},(0,i.h)(t,null)):null},t.Icon.defaultProps={size:o.medium}},3266:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventsManager=void 0;var n=function(){function e(){this._eventListeners={},this._wildcardEventListeners=[]}return e.prototype.on=function(e,t){"*"!==e?(this._eventListeners[e]||(this._eventListeners[e]=[])).push(t):this._wildcardEventListeners.push(t)},e.prototype.off=function(e,t){if("*"!==e){var n=this._eventListeners[e];n&&n.splice(n.indexOf(t)>>>0,1)}else this._wildcardEventListeners.splice(this._wildcardEventListeners.indexOf(t)>>>0,1)},e.prototype.emit=function(e){(this._eventListeners[e.type]||[]).slice().map((function(t){t(e)})),this._wildcardEventListeners.slice().map((function(t){t(e)}))},e}();t.EventsManager=n},3181:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InjectedComponent=void 0;var o=n(6425);Object.defineProperty(t,"InjectedComponent",{enumerable:!0,get:function(){return o.InjectedComponent}})},6425:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.InjectedComponent=void 0;var r=n(4522),a=n(1412),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._root=null,t}return i(t,e),t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.componentDidMount=function(){var e=this.props,t=e.onCreate;if(e.label,t){var n=this._root;n&&t({parent:n})}},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.onDestroy,n=(e.label,this._root);n&&t&&t({parent:n})},t.prototype.render=function(){var e=this,t=this.props,n=t.label,o=t.fillContainer?a.fillContainer:"";return(0,r.h)("div",{"data-contrib-injected":n,className:o,ref:function(t){return e._root=t}})},t}(r.Component);t.InjectedComponent=s},6227:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVideoSize=t.getPlayerSize=void 0,t.getPlayerSize=function(e){return e?e.dimensions:{width:0,height:0}},t.getVideoSize=function(e){if(!e)return{width:0,height:0};var t=e.getActiveTracks().video;return t&&void 0!==t.width&&void 0!==t.height?{width:t.width,height:t.height}:e.getVideoElement()?{width:e.getVideoElement().videoWidth,height:e.getVideoElement().videoHeight}:{width:0,height:0}}},9350:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UUID=void 0;var n=function(){function e(){}return e.uuidV1=function(){return"".concat(Date.now(),"-").concat(Math.random())},e}();t.UUID=n},4184:(e,t)=>{var n;!function(){"use strict";var o={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===r){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)o.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},4137:(e,t,n)=>{"use strict";n.d(t,{IV:()=>c,ZP:()=>u,aW:()=>s,bH:()=>p,yG:()=>l});var o=n(7537),i=n.n(o),r=n(3645),a=n.n(r)()(i());a.push([e.id,".playkit-iconWrapper_XI.playkit-small_S5{width:16px;height:16px}.playkit-iconWrapper_XI.playkit-medium_Jb{width:24px;height:24px}.playkit-iconWrapper_XI.playkit-large_dv{width:32px;height:32px}.playkit-iconWrapper_XI>svg{width:100%;height:100%}","",{version:3,sources:["webpack://./node_modules/@playkit-js/common/dist/icon/icon.scss"],names:[],mappings:"AAAA,yCAAmB,UAAU,CAAC,WAAW,CAAC,0CAAoB,UAAU,CAAC,WAAW,CAAC,yCAAmB,UAAU,CAAC,WAAW,CAAC,4BAAiB,UAAU,CAAC,WAAW",sourcesContent:[".iconWrapper.small{width:16px;height:16px}.iconWrapper.medium{width:24px;height:24px}.iconWrapper.large{width:32px;height:32px}.iconWrapper>svg{width:100%;height:100%}"],sourceRoot:""}]);var s="playkit-iconWrapper_XI",l="playkit-small_S5",c="playkit-medium_Jb",p="playkit-large_dv";const u=a},6155:(e,t,n)=>{"use strict";n.d(t,{Pm:()=>l,ZP:()=>c,lY:()=>s});var o=n(7537),i=n.n(o),r=n(3645),a=n.n(r)()(i());a.push([e.id,".playkit-spinner_ny{animation:playkit-spinner-animation_u8 1s linear infinite}@keyframes playkit-spinner-animation_u8{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}","",{version:3,sources:["webpack://./node_modules/@playkit-js/common/dist/icon/icons/spinner.scss"],names:[],mappings:"AAAA,oBAAS,yDAA8C,CAAC,wCAA6B,GAAG,sBAAsB,CAAC,KAAK,wBAAwB,CAAC",sourcesContent:[".spinner{animation:spinner-animation 1s linear infinite}@keyframes spinner-animation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}"],sourceRoot:""}]);var s="playkit-spinner_ny",l="playkit-spinner-animation_u8";const c=a},6426:(e,t,n)=>{"use strict";n.d(t,{V:()=>s,Z:()=>l});var o=n(7537),i=n.n(o),r=n(3645),a=n.n(r)()(i());a.push([e.id,".playkit-fill-container_nM{width:100%;height:100%;overflow:hidden}","",{version:3,sources:["webpack://./node_modules/@playkit-js/common/dist/ui-common/injected-component/injected-component.scss"],names:[],mappings:"AAAA,2BAAgB,UAAU,CAAC,WAAW,CAAC,eAAe",sourcesContent:[".fill-container{width:100%;height:100%;overflow:hidden}"],sourceRoot:""}]);var s="playkit-fill-container_nM";const l=a},8824:(e,t,n)=>{"use strict";n.d(t,{Ah:()=>c,Cg:()=>l,ZP:()=>d,bH:()=>u,ce:()=>s,yG:()=>p});var o=n(7537),i=n.n(o),r=n(3645),a=n.n(r)()(i());a.push([e.id,".playkit-bannerContainerRoot_If{position:absolute;max-width:100%;min-width:270px;padding:0 16px 8px;height:88px;bottom:0;left:0;transition:all .5s ease}.playkit-bannerContainer_Pb{position:relative;width:100%;height:100%;border-radius:4px;transition:all .5s ease}.playkit-closeButton__6{position:absolute;background-color:rgba(0,0,0,0);padding:0;border:none;top:0;right:0;width:32px;height:32px;padding:0}.playkit-closeButton__6 .playkit-small_Hx{display:none}.playkit-closeButton__6:hover,.playkit-closeButton__6:active{cursor:pointer}.playkit-size-md .playkit-bannerContainerRoot_If{height:68px;min-width:230px}.playkit-size-md .playkit-closeButton__6{top:8px;right:8px;width:10px;height:10px}.playkit-size-md .playkit-closeButton__6 .playkit-large_v4{display:none}.playkit-size-md .playkit-closeButton__6 .playkit-small_Hx{display:block}.playkit-size-sm .playkit-bannerContainerRoot_If,.playkit-size-xs .playkit-bannerContainerRoot_If,.playkit-size-ty .playkit-bannerContainerRoot_If{display:none;width:0;height:0}","",{version:3,sources:["webpack://./src/services/banner-manager/ui/banner-container/banner-container.scss"],names:[],mappings:"AAAA,gCAAqB,iBAAiB,CAAC,cAAc,CAAC,eAAe,CAAC,kBAAkB,CAAC,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC,uBAAuB,CAAC,4BAAiB,iBAAiB,CAAC,UAAU,CAAC,WAAW,CAAC,iBAAiB,CAAC,uBAAuB,CAAC,wBAAa,iBAAiB,CAAC,8BAA8B,CAAC,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,WAAW,CAAC,SAAS,CAAC,0CAAoB,YAAY,CAAC,6DAAuC,cAAc,CAAC,iDAAqD,WAAW,CAAC,eAAe,CAAC,yCAA6C,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,CAAC,2DAAoD,YAAY,CAAC,2DAAoD,aAAa,CAAC,mJAA+J,YAAY,CAAC,OAAO,CAAC,QAAQ",sourcesContent:[".bannerContainerRoot{position:absolute;max-width:100%;min-width:270px;padding:0 16px 8px;height:88px;bottom:0;left:0;transition:all .5s ease}.bannerContainer{position:relative;width:100%;height:100%;border-radius:4px;transition:all .5s ease}.closeButton{position:absolute;background-color:rgba(0,0,0,0);padding:0;border:none;top:0;right:0;width:32px;height:32px;padding:0}.closeButton .small{display:none}.closeButton:hover,.closeButton:active{cursor:pointer}:global .playkit-size-md :local .bannerContainerRoot{height:68px;min-width:230px}:global .playkit-size-md :local .closeButton{top:8px;right:8px;width:10px;height:10px}:global .playkit-size-md :local .closeButton .large{display:none}:global .playkit-size-md :local .closeButton .small{display:block}:global .playkit-size-sm :local .bannerContainerRoot,:global .playkit-size-xs :local .bannerContainerRoot,:global .playkit-size-ty :local .bannerContainerRoot{display:none;width:0;height:0}"],sourceRoot:""}]);var s="playkit-bannerContainerRoot_If",l="playkit-bannerContainer_Pb",c="playkit-closeButton__6",p="playkit-small_Hx",u="playkit-large_v4";const d=a},4769:(e,t,n)=>{"use strict";n.d(t,{Fu:()=>c,TN:()=>f,Wd:()=>l,ZP:()=>v,aW:()=>p,bH:()=>A,cy:()=>u,d7:()=>h,fL:()=>C,m0:()=>s,yG:()=>d});var o=n(7537),i=n.n(o),r=n(3645),a=n.n(r)()(i());a.push([e.id,".playkit-defaultBannerRoot_CP{display:flex;max-width:100%;height:100%;transition:all .5s ease;text-align:left}.playkit-bannerWrapper_co{padding:18px 17px 17px 16px}.playkit-iconContainer_sj{height:100%;width:64px}.playkit-iconWrapper_a5{position:relative;height:48px;width:48px;background-color:rgba(255,255,255,.14);border-radius:50%;transition:all .5s ease}.playkit-iconImage_BL{position:absolute;width:32px;height:32px;left:calc(50% - 16px);top:calc(50% - 16px);transition:all .5s ease;padding:0}.playkit-iconImage_BL .playkit-small_bv{display:none}.playkit-bannerBody_Fj{height:100%;flex:1 1 auto;overflow:hidden}.playkit-title_vu{opacity:.9;font-size:14px;font-weight:normal;font-style:normal;font-stretch:normal;line-height:1;letter-spacing:normal;color:#ebebeb}.playkit-text_OX{opacity:.9;font-size:24px;font-weight:normal;font-style:normal;font-stretch:normal;line-height:1.21;letter-spacing:normal;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:all .5s ease}.playkit-size-md .playkit-bannerWrapper_co{padding:14px 16px 14px}.playkit-size-md .playkit-iconContainer_sj{width:44px}.playkit-size-md .playkit-iconWrapper_a5{height:32px;width:32px}.playkit-size-md .playkit-iconImage_BL{width:20px;height:20px;left:calc(50% - 10px);top:calc(50% - 10px)}.playkit-size-md .playkit-iconImage_BL .playkit-small_bv{display:block}.playkit-size-md .playkit-iconImage_BL .playkit-large_Ii{display:none}.playkit-size-md .playkit-bannerBody_Fj{flex:1 1 auto}.playkit-size-md .playkit-title_vu{font-size:12px;font-weight:bold;line-height:1.17}.playkit-size-md .playkit-text_OX{font-size:15px;line-height:1.27}","",{version:3,sources:["webpack://./src/services/banner-manager/ui/banner/banner.scss"],names:[],mappings:"AAAA,8BAAmB,YAAY,CAAC,cAAc,CAAC,WAAW,CAAC,uBAAuB,CAAC,eAAe,CAAC,0BAAe,2BAA2B,CAAC,0BAAe,WAAW,CAAC,UAAU,CAAC,wBAAa,iBAAiB,CAAC,WAAW,CAAC,UAAU,CAAC,sCAAsC,CAAC,iBAAiB,CAAC,uBAAuB,CAAC,sBAAW,iBAAiB,CAAC,UAAU,CAAC,WAAW,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,uBAAuB,CAAC,SAAS,CAAC,wCAAkB,YAAY,CAAC,uBAAY,WAAW,CAAC,aAAa,CAAC,eAAe,CAAC,kBAAO,UAAU,CAAC,cAAc,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,mBAAmB,CAAC,aAAa,CAAC,qBAAqB,CAAC,aAAa,CAAC,iBAAM,UAAU,CAAC,cAAc,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,UAAU,CAAC,kBAAkB,CAAC,eAAe,CAAC,sBAAsB,CAAC,uBAAuB,CAAC,2CAA+C,sBAAsB,CAAC,2CAA+C,UAAU,CAAC,yCAA6C,WAAW,CAAC,UAAU,CAAC,uCAA2C,UAAU,CAAC,WAAW,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,yDAAkD,aAAa,CAAC,yDAAkD,YAAY,CAAC,wCAA4C,aAAa,CAAC,mCAAuC,cAAc,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,kCAAsC,cAAc,CAAC,gBAAgB",sourcesContent:[".defaultBannerRoot{display:flex;max-width:100%;height:100%;transition:all .5s ease;text-align:left}.bannerWrapper{padding:18px 17px 17px 16px}.iconContainer{height:100%;width:64px}.iconWrapper{position:relative;height:48px;width:48px;background-color:rgba(255,255,255,.14);border-radius:50%;transition:all .5s ease}.iconImage{position:absolute;width:32px;height:32px;left:calc(50% - 16px);top:calc(50% - 16px);transition:all .5s ease;padding:0}.iconImage .small{display:none}.bannerBody{height:100%;flex:1 1 auto;overflow:hidden}.title{opacity:.9;font-size:14px;font-weight:normal;font-style:normal;font-stretch:normal;line-height:1;letter-spacing:normal;color:#ebebeb}.text{opacity:.9;font-size:24px;font-weight:normal;font-style:normal;font-stretch:normal;line-height:1.21;letter-spacing:normal;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:all .5s ease}:global .playkit-size-md :local .bannerWrapper{padding:14px 16px 14px}:global .playkit-size-md :local .iconContainer{width:44px}:global .playkit-size-md :local .iconWrapper{height:32px;width:32px}:global .playkit-size-md :local .iconImage{width:20px;height:20px;left:calc(50% - 10px);top:calc(50% - 10px)}:global .playkit-size-md :local .iconImage .small{display:block}:global .playkit-size-md :local .iconImage .large{display:none}:global .playkit-size-md :local .bannerBody{flex:1 1 auto}:global .playkit-size-md :local .title{font-size:12px;font-weight:bold;line-height:1.17}:global .playkit-size-md :local .text{font-size:15px;line-height:1.27}"],sourceRoot:""}]);var s="playkit-defaultBannerRoot_CP",l="playkit-bannerWrapper_co",c="playkit-iconContainer_sj",p="playkit-iconWrapper_a5",u="playkit-iconImage_BL",d="playkit-small_bv",h="playkit-bannerBody_Fj",f="playkit-title_vu",C="playkit-text_OX",A="playkit-large_Ii";const v=a},2023:(e,t,n)=>{"use strict";n.d(t,{V:()=>s,Z:()=>l});var o=n(7537),i=n.n(o),r=n(3645),a=n.n(r)()(i());a.push([e.id,".playkit-fill-container_Ah{width:100%;height:100%}","",{version:3,sources:["webpack://./src/services/preset-manager/ui/managed-component.scss"],names:[],mappings:"AAAA,2BAAgB,UAAU,CAAC,WAAW",sourcesContent:[".fill-container{width:100%;height:100%}"],sourceRoot:""}]);var s="playkit-fill-container_Ah";const l=a},499:(e,t,n)=>{"use strict";n.d(t,{Mk:()=>s,ZP:()=>c,uj:()=>l});var o=n(7537),i=n.n(o),r=n(3645),a=n.n(r)()(i());a.push([e.id,".playkit-side-panel-wrapper_Wr{visibility:hidden;position:absolute;width:100%;height:100%}.playkit-active-state_vh{visibility:visible}","",{version:3,sources:["webpack://./src/services/side-panels-manager/ui/panel-item-wrapper/panel-item-wrapper.component.scss"],names:[],mappings:"AAAA,+BAAoB,iBAAiB,CAAC,iBAAiB,CAAC,UAAU,CAAC,WAAW,CAAC,yBAAc,kBAAkB",sourcesContent:[".side-panel-wrapper{visibility:hidden;position:absolute;width:100%;height:100%}.active-state{visibility:visible}"],sourceRoot:""}]);var s="playkit-side-panel-wrapper_Wr",l="playkit-active-state_vh";const c=a},6761:(e,t,n)=>{"use strict";n.d(t,{Ah:()=>d,Fu:()=>C,GK:()=>s,Jc:()=>u,Qm:()=>c,Rr:()=>l,TN:()=>h,X$:()=>f,ZP:()=>y,aW:()=>A,fL:()=>v,x_:()=>p});var o=n(7537),i=n.n(o),r=n(3645),a=n.n(r)()(i());a.push([e.id,".playkit-toastWrapper_Ys{position:relative;min-width:120px;max-width:310px;height:100%;border-radius:4px;background-color:#222;border-left-style:solid;border-left-width:2px;text-align:left;padding:8px}.playkit-infoToast_Xh{border-left-color:var(--playkit-primary-color)}.playkit-successToast_g_{border-left-color:var(--playkit-success-color)}.playkit-warnToast_w7{border-left-color:var(--playkit-warning-color)}.playkit-errorToast_t6{border-left-color:var(--playkit-danger-color)}.playkit-closeButton_zr{position:absolute;background-color:rgba(0,0,0,0);top:0;right:0;width:16px;height:16px;object-fit:contain;background-repeat:no-repeat;border:none;padding:0;margin-top:8px;margin-right:8px}.playkit-closeButton_zr:hover{cursor:pointer}.playkit-title_SE{font-size:12px;font-weight:normal;font-style:normal;font-stretch:normal;line-height:1.17;letter-spacing:normal;color:var(--playkit-tone-1-color);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-top:4px;padding-right:16px}.playkit-toastBody_YK{position:relative;width:100%;padding:0px 16px 5px 0px;margin-top:8px}.playkit-iconContainer_dR{position:relative;height:16px;width:16px;float:left;margin-right:7px}.playkit-iconWrapper_C5{height:16px;width:16px}.playkit-text_XI{font-size:14px;font-weight:bold;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;color:var(--playkit-tone-1-color);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}","",{version:3,sources:["webpack://./src/services/toast-manager/ui/toast/toast.scss"],names:[],mappings:"AAAA,yBAAc,iBAAiB,CAAC,eAAe,CAAC,eAAe,CAAC,WAAW,CAAC,iBAAiB,CAAC,qBAAqB,CAAC,uBAAuB,CAAC,qBAAqB,CAAC,eAAe,CAAC,WAAW,CAAC,sBAAW,8CAA8C,CAAC,yBAAc,8CAA8C,CAAC,sBAAW,8CAA8C,CAAC,uBAAY,6CAA6C,CAAC,wBAAa,iBAAiB,CAAC,8BAA8B,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,WAAW,CAAC,kBAAkB,CAAC,2BAA2B,CAAC,WAAW,CAAC,SAAS,CAAC,cAAc,CAAC,gBAAgB,CAAC,8BAAmB,cAAc,CAAC,kBAAO,cAAc,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,iCAAiC,CAAC,kBAAkB,CAAC,eAAe,CAAC,sBAAsB,CAAC,eAAe,CAAC,kBAAkB,CAAC,sBAAW,iBAAiB,CAAC,UAAU,CAAC,wBAAwB,CAAC,cAAc,CAAC,0BAAe,iBAAiB,CAAC,WAAW,CAAC,UAAU,CAAC,UAAU,CAAC,gBAAgB,CAAC,wBAAa,WAAW,CAAC,UAAU,CAAC,iBAAM,cAAc,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,qBAAqB,CAAC,iCAAiC,CAAC,kBAAkB,CAAC,eAAe,CAAC,sBAAsB",sourcesContent:[".toastWrapper{position:relative;min-width:120px;max-width:310px;height:100%;border-radius:4px;background-color:#222;border-left-style:solid;border-left-width:2px;text-align:left;padding:8px}.infoToast{border-left-color:var(--playkit-primary-color)}.successToast{border-left-color:var(--playkit-success-color)}.warnToast{border-left-color:var(--playkit-warning-color)}.errorToast{border-left-color:var(--playkit-danger-color)}.closeButton{position:absolute;background-color:rgba(0,0,0,0);top:0;right:0;width:16px;height:16px;object-fit:contain;background-repeat:no-repeat;border:none;padding:0;margin-top:8px;margin-right:8px}.closeButton:hover{cursor:pointer}.title{font-size:12px;font-weight:normal;font-style:normal;font-stretch:normal;line-height:1.17;letter-spacing:normal;color:var(--playkit-tone-1-color);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-top:4px;padding-right:16px}.toastBody{position:relative;width:100%;padding:0px 16px 5px 0px;margin-top:8px}.iconContainer{position:relative;height:16px;width:16px;float:left;margin-right:7px}.iconWrapper{height:16px;width:16px}.text{font-size:14px;font-weight:bold;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;color:var(--playkit-tone-1-color);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"],sourceRoot:""}]);var s="playkit-toastWrapper_Ys",l="playkit-infoToast_Xh",c="playkit-successToast_g_",p="playkit-warnToast_w7",u="playkit-errorToast_t6",d="playkit-closeButton_zr",h="playkit-title_SE",f="playkit-toastBody_YK",C="playkit-iconContainer_dR",A="playkit-iconWrapper_C5",v="playkit-text_XI";const y=a},9857:(e,t,n)=>{"use strict";n.d(t,{Oq:()=>d,Q$:()=>s,YY:()=>p,ZP:()=>h,f6:()=>l,hT:()=>u,w3:()=>c});var o=n(7537),i=n.n(o),r=n(3645),a=n.n(r)()(i());a.push([e.id,".playkit-toastsContainer_Ev{position:absolute;min-width:120px;max-width:310px;display:flex;flex-direction:column;z-index:2}.playkit-toastsContainer_Ev.playkit-top-right_fC{right:0;top:0}.playkit-toastsContainer_Ev.playkit-top-left_Pi{left:0;top:0}.playkit-toastsContainer_Ev.playkit-top-left_Pi .playkit-toastRow_Va{align-self:flex-start}.playkit-toastsContainer_Ev.playkit-bottom-right_KT{right:0;bottom:0}.playkit-toastsContainer_Ev.playkit-bottom-left_Dx{left:0;bottom:0}.playkit-toastsContainer_Ev.playkit-bottom-left_Dx .playkit-toastRow_Va{align-self:flex-start}.playkit-toastRow_Va{height:58px;min-width:120px;max-width:310px;margin-top:8px;overflow:hidden;overflow-wrap:break-word;text-overflow:ellipsis;align-self:flex-end}","",{version:3,sources:["webpack://./src/services/toast-manager/ui/toasts-container/toasts-container.scss"],names:[],mappings:"AAAA,4BAAiB,iBAAiB,CAAC,eAAe,CAAC,eAAe,CAAC,YAAY,CAAC,qBAAqB,CAAC,SAAS,CAAC,iDAA2B,OAAO,CAAC,KAAK,CAAC,gDAA0B,MAAM,CAAC,KAAK,CAAC,qEAAoC,qBAAqB,CAAC,oDAA8B,OAAO,CAAC,QAAQ,CAAC,mDAA6B,MAAM,CAAC,QAAQ,CAAC,wEAAuC,qBAAqB,CAAC,qBAAU,WAAW,CAAC,eAAe,CAAC,eAAe,CAAC,cAAc,CAAC,eAAe,CAAC,wBAAwB,CAAC,sBAAsB,CAAC,mBAAmB",sourcesContent:[".toastsContainer{position:absolute;min-width:120px;max-width:310px;display:flex;flex-direction:column;z-index:2}.toastsContainer.top-right{right:0;top:0}.toastsContainer.top-left{left:0;top:0}.toastsContainer.top-left .toastRow{align-self:flex-start}.toastsContainer.bottom-right{right:0;bottom:0}.toastsContainer.bottom-left{left:0;bottom:0}.toastsContainer.bottom-left .toastRow{align-self:flex-start}.toastRow{height:58px;min-width:120px;max-width:310px;margin-top:8px;overflow:hidden;overflow-wrap:break-word;text-overflow:ellipsis;align-self:flex-end}"],sourceRoot:""}]);var s="playkit-toastsContainer_Ev",l="playkit-top-right_fC",c="playkit-top-left_Pi",p="playkit-toastRow_Va",u="playkit-bottom-right_KT",d="playkit-bottom-left_Dx";const h=a},6477:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,Z:()=>l});var o=n(7537),i=n.n(o),r=n(3645),a=n.n(r)()(i());a.push([e.id,".playkit-right-upper-bar-wrapper-container_Vm{direction:ltr;display:flex;align-items:center}","",{version:3,sources:["webpack://./src/services/upper-bar-manager/ui/displayed-bar/displayed-bar.component.scss"],names:[],mappings:"AAAA,8CAAmC,aAAa,CAAC,YAAY,CAAC,kBAAkB",sourcesContent:[".right-upper-bar-wrapper-container{direction:ltr;display:flex;align-items:center}"],sourceRoot:""}]);var s="playkit-right-upper-bar-wrapper-container_Vm";const l=a},4778:(e,t,n)=>{"use strict";n.d(t,{Af:()=>d,ZP:()=>h,_h:()=>c,aT:()=>u,mB:()=>s,qv:()=>l,rd:()=>p});var o=n(7537),i=n.n(o),r=n(3645),a=n.n(r)()(i());a.push([e.id,".playkit-dropdown-item_kw{border-radius:4px;padding:4px 12px 4px 15px;display:flex;margin:4px 0;cursor:pointer;align-items:center}.playkit-dropdown-item_kw .playkit-icon_tv{width:24px;height:24px;display:flex;align-items:center;justify-content:center}.playkit-dropdown-item_kw .playkit-icon_tv i{display:inline-block}.playkit-dropdown-item_kw:hover{background-color:var(--playkit-tone-6-color)}.playkit-dropdown-item_kw .playkit-dropdown-item-description_Al{flex:1;font-size:14px;font-weight:700;padding-left:11px;overflow:hidden;white-space:nowrap}.playkit-dropdown-item_kw .playkit-dropdown-item-description_Al.playkit-trim-text_Kj{text-overflow:ellipsis}.playkit-dropdown-item_kw .playkit-comparison-text_OS{position:absolute;font-size:14px;font-weight:700;left:0;padding:0}.playkit-more-item-tooltip_y7{z-index:1}","",{version:3,sources:["webpack://./src/services/upper-bar-manager/ui/dropdown-bar-item/dropdown-bar-item.scss"],names:[],mappings:"AAAA,0BAAe,iBAAiB,CAAC,yBAAyB,CAAC,YAAY,CAAC,YAAY,CAAC,cAAc,CAAC,kBAAkB,CAAC,2CAAqB,UAAU,CAAC,WAAW,CAAC,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,6CAAuB,oBAAoB,CAAC,gCAAqB,4CAA4C,CAAC,gEAA0C,MAAM,CAAC,cAAc,CAAC,eAAe,CAAC,iBAAiB,CAAC,eAAe,CAAC,kBAAkB,CAAC,qFAAoD,sBAAsB,CAAC,sDAAgC,iBAAiB,CAAC,cAAc,CAAC,eAAe,CAAC,MAAM,CAAC,SAAS,CAAC,8BAAmB,SAAS",sourcesContent:[".dropdown-item{border-radius:4px;padding:4px 12px 4px 15px;display:flex;margin:4px 0;cursor:pointer;align-items:center}.dropdown-item .icon{width:24px;height:24px;display:flex;align-items:center;justify-content:center}.dropdown-item .icon i{display:inline-block}.dropdown-item:hover{background-color:var(--playkit-tone-6-color)}.dropdown-item .dropdown-item-description{flex:1;font-size:14px;font-weight:700;padding-left:11px;overflow:hidden;white-space:nowrap}.dropdown-item .dropdown-item-description.trim-text{text-overflow:ellipsis}.dropdown-item .comparison-text{position:absolute;font-size:14px;font-weight:700;left:0;padding:0}.more-item-tooltip{z-index:1}"],sourceRoot:""}]);var s="playkit-dropdown-item_kw",l="playkit-icon_tv",c="playkit-dropdown-item-description_Al",p="playkit-trim-text_Kj",u="playkit-comparison-text_OS",d="playkit-more-item-tooltip_y7";const h=a},3206:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l,p:()=>s});var o=n(7537),i=n.n(o),r=n(3645),a=n.n(r)()(i());a.push([e.id,".playkit-more-dropdown_SJ{position:absolute;padding:8px 4px;width:200px;background-color:var(--playkit-tone-7-color);border-radius:4px;top:44px;right:0;overflow:hidden}","",{version:3,sources:["webpack://./src/services/upper-bar-manager/ui/dropdown-bar/dropdown-bar.component.scss"],names:[],mappings:"AAAA,0BAAe,iBAAiB,CAAC,eAAe,CAAC,WAAW,CAAC,4CAA4C,CAAC,iBAAiB,CAAC,QAAQ,CAAC,OAAO,CAAC,eAAe",sourcesContent:[".more-dropdown{position:absolute;padding:8px 4px;width:200px;background-color:var(--playkit-tone-7-color);border-radius:4px;top:44px;right:0;overflow:hidden}"],sourceRoot:""}]);var s="playkit-more-dropdown_SJ";const l=a},324:(e,t,n)=>{"use strict";n.d(t,{W:()=>s,Z:()=>l});var o=n(7537),i=n.n(o),r=n(3645),a=n.n(r)()(i());a.push([e.id,".playkit-more-icon_fR{margin-right:0;z-index:2}","",{version:3,sources:["webpack://./src/services/upper-bar-manager/ui/more-icon/more-icon.component.scss"],names:[],mappings:"AAAA,sBAAW,cAAc,CAAC,SAAS",sourcesContent:[".more-icon{margin-right:0;z-index:2}"],sourceRoot:""}]);var s="playkit-more-icon_fR";const l=a},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,i,r){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(o)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var p=[].concat(e[c]);o&&a[p[0]]||(void 0!==r&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=r),n&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=n):p[2]=n),i&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=i):p[4]="".concat(i)),t.push(p))}},t}},7537:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),r="/*# ".concat(i," */"),a=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(a).concat([r]).join("\n")}return[t].join("\n")}},7649:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>R,render:()=>T,renderToStaticMarkup:()=>W,renderToString:()=>L,renderToStringAsync:()=>x});var o=n(4522),i=/[\s\n\\/='"\0<>]/,r=/^(xlink|xmlns|xml)([A-Z])/,a=/^accessK|^auto[A-Z]|^cell|^ch|^col|cont|cross|dateT|encT|form[A-Z]|frame|hrefL|inputM|maxL|minL|noV|playsI|popoverT|readO|rowS|src[A-Z]|tabI|useM|item[A-Z]/,s=/^ac|^ali|arabic|basel|cap|clipPath$|clipRule$|color|dominant|enable|fill|flood|font|glyph[^R]|horiz|image|letter|lighting|marker[^WUH]|overline|panose|pointe|paint|rendering|shape|stop|strikethrough|stroke|text[^L]|transform|underline|unicode|units|^v[^i]|^w|^xH/,l=new Set(["draggable","spellcheck"]),c=/["&<]/;function p(e){if(0===e.length||!1===c.test(e))return e;for(var t=0,n=0,o="",i="";n<e.length;n++){switch(e.charCodeAt(n)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;default:continue}n!==t&&(o+=e.slice(t,n)),o+=i,t=n+1}return n!==t&&(o+=e.slice(t,n)),o}var u={},d=new Set(["animation-iteration-count","border-image-outset","border-image-slice","border-image-width","box-flex","box-flex-group","box-ordinal-group","column-count","fill-opacity","flex","flex-grow","flex-negative","flex-order","flex-positive","flex-shrink","flood-opacity","font-weight","grid-column","grid-row","line-clamp","line-height","opacity","order","orphans","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","widows","z-index","zoom"]),h=/[A-Z]/g;function f(e){var t="";for(var n in e){var o=e[n];if(null!=o&&""!==o){var i="-"==n[0]?n:u[n]||(u[n]=n.replace(h,"-$&").toLowerCase()),r=";";"number"!=typeof o||i.startsWith("--")||d.has(i)||(r="px;"),t=t+i+":"+o+r}}return t||void 0}function C(){this.__d=!0}function A(e,t){return{__v:e,context:t,props:e.props,setState:C,forceUpdate:C,__d:!0,__h:new Array(0)}}function v(e,t,n){if(!e.s){if(n instanceof y){if(!n.s)return void(n.o=v.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(v.bind(null,e,t),v.bind(null,e,2));e.s=t,e.v=n;const o=e.o;o&&o(e)}}var y=function(){function e(){}return e.prototype.then=function(t,n){var o=new e,i=this.s;if(i){var r=1&i?t:n;if(r){try{v(o,1,r(this.v))}catch(e){v(o,2,e)}return o}return this}return this.o=function(e){try{var i=e.v;1&e.s?v(o,1,t?t(i):i):n?v(o,1,n(i)):v(o,2,i)}catch(e){v(o,2,e)}},o},e}();function g(e){return e instanceof y&&1&e.s}var m,_,w,b,x=function(e,t){try{var n=o.options.__s;o.options.__s=!0,m=o.options.__b,_=o.options.diffed,w=o.options.__r,b=o.options.unmount;var i=(0,o.h)(o.Fragment,null);return i.__k=[e],Promise.resolve(function(n,o){try{var r=Promise.resolve(j(e,t||k,!1,void 0,i,!0,void 0)).then((function(e){var t,n=function(){if(B(e)){var n=function(){var e=i.join(O);return t=1,e},o=0,i=e,r=function(e,t,n){for(var o;;){var i=e();if(g(i)&&(i=i.v),!i)return r;if(i.then){o=0;break}var r=n();if(r&&r.then){if(!g(r)){o=1;break}r=r.s}if(t){var a=t();if(a&&a.then&&!g(a)){o=2;break}}}var s=new y,l=v.bind(null,s,2);return(0===o?i.then(p):1===o?r.then(c):a.then(u)).then(void 0,l),s;function c(o){r=o;do{if(t&&(a=t())&&a.then&&!g(a))return void a.then(u).then(void 0,l);if(!(i=e())||g(i)&&!i.v)return void v(s,1,r);if(i.then)return void i.then(p).then(void 0,l);g(r=n())&&(r=r.v)}while(!r||!r.then);r.then(c).then(void 0,l)}function p(e){e?(r=n())&&r.then?r.then(c).then(void 0,l):c(r):v(s,1,r)}function u(){(i=e())?i.then?i.then(p).then(void 0,l):p(i):v(s,1,r)}}((function(){return!!i.some((function(e){return e&&"function"==typeof e.then}))&&o++<25}),void 0,(function(){return Promise.resolve(Promise.all(i)).then((function(e){i=e.flat()}))}));return r&&r.then?r.then(n):n()}}();return n&&n.then?n.then((function(n){return t?n:e})):t?n:e}))}catch(n){return o(!0,n)}return r&&r.then?r.then(o.bind(null,!1),o.bind(null,!0)):o(!1,r)}((function(){return Promise.resolve(j(e,t||k,!1,void 0,i,!0,void 0)).then((function(e){var t,n=function(){if(B(e)){var n=function(){var e=i.join(O);return t=1,e},o=0,i=e,r=function(e,t,n){for(var o;;){var i=e();if(g(i)&&(i=i.v),!i)return a;if(i.then){o=0;break}var r,a=n();if(a&&a.then){if(!g(a)){o=1;break}a=a.s}}var s=new y,l=v.bind(null,s,2);return(0===o?i.then(p):1===o?a.then(c):r.then(u)).then(void 0,l),s;function c(t){a=t;do{if(!(i=e())||g(i)&&!i.v)return void v(s,1,a);if(i.then)return void i.then(p).then(void 0,l);g(a=n())&&(a=a.v)}while(!a||!a.then);a.then(c).then(void 0,l)}function p(e){e?(a=n())&&a.then?a.then(c).then(void 0,l):c(a):v(s,1,a)}function u(){(i=e())?i.then?i.then(p).then(void 0,l):p(i):v(s,1,a)}}((function(){return!!i.some((function(e){return e&&"function"==typeof e.then}))&&o++<25}),0,(function(){return Promise.resolve(Promise.all(i)).then((function(e){i=e.flat()}))}));return r&&r.then?r.then(n):n()}}();return n&&n.then?n.then((function(n){return t?n:e})):t?n:e}))}),(function(t,i){if(o.options.__c&&o.options.__c(e,P),o.options.__s=n,P.length=0,t)throw i;return i})))}catch(e){return Promise.reject(e)}},k={},P=[],B=Array.isArray,M=Object.assign,O="";function L(e,t,n){var i=o.options.__s;o.options.__s=!0,m=o.options.__b,_=o.options.diffed,w=o.options.__r,b=o.options.unmount;var r=(0,o.h)(o.Fragment,null);r.__k=[e];try{var a=j(e,t||k,!1,void 0,r,!1,n);return B(a)?a.join(O):a}catch(e){if(e.then)throw new Error('Use "renderToStringAsync" for suspenseful rendering.');throw e}finally{o.options.__c&&o.options.__c(e,P),o.options.__s=i,P.length=0}}function S(e,t){var n,o=e.type,i=!0;return e.__c?(i=!1,(n=e.__c).state=n.__s):n=new o(e.props,t),e.__c=n,n.__v=e,n.props=e.props,n.context=t,n.__d=!0,null==n.state&&(n.state=k),null==n.__s&&(n.__s=n.state),o.getDerivedStateFromProps?n.state=M({},n.state,o.getDerivedStateFromProps(n.props,n.state)):i&&n.componentWillMount?(n.componentWillMount(),n.state=n.__s!==n.state?n.__s:n.state):!i&&n.componentWillUpdate&&n.componentWillUpdate(),w&&w(e),n.render(n.props,n.state,t)}function j(e,t,n,c,u,d,h){if(null==e||!0===e||!1===e||e===O)return O;var C=typeof e;if("object"!=C)return"function"==C?O:"string"==C?p(e):e+O;if(B(e)){var v,y=O;u.__k=e;for(var g=0;g<e.length;g++){var x=e[g];if(null!=x&&"boolean"!=typeof x){var P,L=j(x,t,n,c,u,d,h);"string"==typeof L?y+=L:(v||(v=[]),y&&v.push(y),y=O,B(L)?(P=v).push.apply(P,L):v.push(L))}}return v?(y&&v.push(y),v):y}if(void 0!==e.constructor)return O;e.__=u,m&&m(e);var T=e.type,W=e.props;if("function"==typeof T){var R,E,D,H=t;if(T===o.Fragment){if("tpl"in W){for(var Z=O,V=0;V<W.tpl.length;V++)if(Z+=W.tpl[V],W.exprs&&V<W.exprs.length){var z=W.exprs[V];if(null==z)continue;"object"!=typeof z||void 0!==z.constructor&&!B(z)?Z+=z:Z+=j(z,t,n,c,e,d,h)}return Z}if("UNSTABLE_comment"in W)return"\x3c!--"+p(W.UNSTABLE_comment)+"--\x3e";E=W.children}else{if(null!=(R=T.contextType)){var N=t[R.__c];H=N?N.props.value:R.__}var U=T.prototype&&"function"==typeof T.prototype.render;if(U)E=S(e,H),D=e.__c;else{e.__c=D=A(e,H);for(var G=0;D.__d&&G++<25;)D.__d=!1,w&&w(e),E=T.call(D,W,H);D.__d=!0}if(null!=D.getChildContext&&(t=M({},t,D.getChildContext())),U&&o.options.errorBoundaries&&(T.getDerivedStateFromError||D.componentDidCatch)){E=null!=E&&E.type===o.Fragment&&null==E.key&&null==E.props.tpl?E.props.children:E;try{return j(E,t,n,c,e,d,h)}catch(i){return T.getDerivedStateFromError&&(D.__s=T.getDerivedStateFromError(i)),D.componentDidCatch&&D.componentDidCatch(i,k),D.__d?(E=S(e,t),null!=(D=e.__c).getChildContext&&(t=M({},t,D.getChildContext())),j(E=null!=E&&E.type===o.Fragment&&null==E.key&&null==E.props.tpl?E.props.children:E,t,n,c,e,d,h)):O}finally{_&&_(e),e.__=null,b&&b(e)}}}E=null!=E&&E.type===o.Fragment&&null==E.key&&null==E.props.tpl?E.props.children:E;try{var Y=j(E,t,n,c,e,d,h);return _&&_(e),e.__=null,o.options.unmount&&o.options.unmount(e),Y}catch(i){if(!d&&h&&h.onError){var F=h.onError(i,e,(function(o){return j(o,t,n,c,e,d,h)}));if(void 0!==F)return F;var q=o.options.__e;return q&&q(i,e),O}if(!d)throw i;if(!i||"function"!=typeof i.then)throw i;return i.then((function o(){try{return j(E,t,n,c,e,d,h)}catch(i){if(!i||"function"!=typeof i.then)throw i;return i.then((function(){return j(E,t,n,c,e,d,h)}),o)}}))}}var K,X="<"+T,Q=O;for(var J in W){var $=W[J];if("function"!=typeof $||"class"===J||"className"===J){switch(J){case"children":K=$;continue;case"key":case"ref":case"__self":case"__source":continue;case"htmlFor":if("for"in W)continue;J="for";break;case"className":if("class"in W)continue;J="class";break;case"defaultChecked":J="checked";break;case"defaultSelected":J="selected";break;case"defaultValue":case"value":switch(J="value",T){case"textarea":K=$;continue;case"select":c=$;continue;case"option":c!=$||"selected"in W||(X+=" selected")}break;case"dangerouslySetInnerHTML":Q=$&&$.__html;continue;case"style":"object"==typeof $&&($=f($));break;case"acceptCharset":J="accept-charset";break;case"httpEquiv":J="http-equiv";break;default:if(r.test(J))J=J.replace(r,"$1:$2").toLowerCase();else{if(i.test(J))continue;"-"!==J[4]&&!l.has(J)||null==$?n?s.test(J)&&(J="panose1"===J?"panose-1":J.replace(/([A-Z])/g,"-$1").toLowerCase()):a.test(J)&&(J=J.toLowerCase()):$+=O}}null!=$&&!1!==$&&(X=!0===$||$===O?X+" "+J:X+" "+J+'="'+("string"==typeof $?p($):$+O)+'"')}}if(i.test(T))throw new Error(T+" is not a valid HTML tag name in "+X+">");if(Q||("string"==typeof K?Q=p(K):null!=K&&!1!==K&&!0!==K&&(Q=j(K,t,"svg"===T||"foreignObject"!==T&&n,c,e,d,h))),_&&_(e),e.__=null,b&&b(e),!Q&&I.has(T))return X+"/>";var ee="</"+T+">",te=X+">";return B(Q)?[te].concat(Q,[ee]):"string"!=typeof Q?[te,Q,ee]:te+Q+ee}var I=new Set(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),T=L,W=L;const R=L},3848:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C,iconWrapper:()=>h.aW,large:()=>h.bH,medium:()=>h.IV,small:()=>h.yG});var o=n(3379),i=n.n(o),r=n(7795),a=n.n(r),s=n(8575),l=n.n(s),c=n(9216),p=n.n(c),u=n(4589),d=n.n(u),h=n(4137),f={attributes:{id:"@playkit-js/ui-managers"}};f.styleTagTransform=d(),f.setAttributes=l(),f.insert=function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},f.domAPI=a(),f.insertStyleElement=p(),i()(h.ZP,f);const C=h.ZP&&h.ZP.locals?h.ZP.locals:void 0},7859:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C,spinner:()=>h.lY,spinnerAnimation:()=>h.Pm});var o=n(3379),i=n.n(o),r=n(7795),a=n.n(r),s=n(8575),l=n.n(s),c=n(9216),p=n.n(c),u=n(4589),d=n.n(u),h=n(6155),f={attributes:{id:"@playkit-js/ui-managers"}};f.styleTagTransform=d(),f.setAttributes=l(),f.insert=function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},f.domAPI=a(),f.insertStyleElement=p(),i()(h.ZP,f);const C=h.ZP&&h.ZP.locals?h.ZP.locals:void 0},1412:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C,fillContainer:()=>h.V});var o=n(3379),i=n.n(o),r=n(7795),a=n.n(r),s=n(8575),l=n.n(s),c=n(9216),p=n.n(c),u=n(4589),d=n.n(u),h=n(6426),f={attributes:{id:"@playkit-js/ui-managers"}};f.styleTagTransform=d(),f.setAttributes=l(),f.insert=function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},f.domAPI=a(),f.insertStyleElement=p(),i()(h.Z,f);const C=h.Z&&h.Z.locals?h.Z.locals:void 0},9629:(e,t,n)=>{"use strict";n.r(t),n.d(t,{bannerContainer:()=>h.Cg,bannerContainerRoot:()=>h.ce,closeButton:()=>h.Ah,default:()=>C,large:()=>h.bH,small:()=>h.yG});var o=n(3379),i=n.n(o),r=n(7795),a=n.n(r),s=n(8575),l=n.n(s),c=n(9216),p=n.n(c),u=n(4589),d=n.n(u),h=n(8824),f={attributes:{id:"@playkit-js/ui-managers"}};f.styleTagTransform=d(),f.setAttributes=l(),f.insert=function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},f.domAPI=a(),f.insertStyleElement=p(),i()(h.ZP,f);const C=h.ZP&&h.ZP.locals?h.ZP.locals:void 0},5901:(e,t,n)=>{"use strict";n.r(t),n.d(t,{bannerBody:()=>h.d7,bannerWrapper:()=>h.Wd,default:()=>C,defaultBannerRoot:()=>h.m0,iconContainer:()=>h.Fu,iconImage:()=>h.cy,iconWrapper:()=>h.aW,large:()=>h.bH,small:()=>h.yG,text:()=>h.fL,title:()=>h.TN});var o=n(3379),i=n.n(o),r=n(7795),a=n.n(r),s=n(8575),l=n.n(s),c=n(9216),p=n.n(c),u=n(4589),d=n.n(u),h=n(4769),f={attributes:{id:"@playkit-js/ui-managers"}};f.styleTagTransform=d(),f.setAttributes=l(),f.insert=function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},f.domAPI=a(),f.insertStyleElement=p(),i()(h.ZP,f);const C=h.ZP&&h.ZP.locals?h.ZP.locals:void 0},3033:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C,fillContainer:()=>h.V});var o=n(3379),i=n.n(o),r=n(7795),a=n.n(r),s=n(8575),l=n.n(s),c=n(9216),p=n.n(c),u=n(4589),d=n.n(u),h=n(2023),f={attributes:{id:"@playkit-js/ui-managers"}};f.styleTagTransform=d(),f.setAttributes=l(),f.insert=function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},f.domAPI=a(),f.insertStyleElement=p(),i()(h.Z,f);const C=h.Z&&h.Z.locals?h.Z.locals:void 0},8158:(e,t,n)=>{"use strict";n.r(t),n.d(t,{activeState:()=>h.uj,default:()=>C,sidePanelWrapper:()=>h.Mk});var o=n(3379),i=n.n(o),r=n(7795),a=n.n(r),s=n(8575),l=n.n(s),c=n(9216),p=n.n(c),u=n(4589),d=n.n(u),h=n(499),f={attributes:{id:"@playkit-js/ui-managers"}};f.styleTagTransform=d(),f.setAttributes=l(),f.insert=function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},f.domAPI=a(),f.insertStyleElement=p(),i()(h.ZP,f);const C=h.ZP&&h.ZP.locals?h.ZP.locals:void 0},411:(e,t,n)=>{"use strict";n.r(t),n.d(t,{closeButton:()=>h.Ah,default:()=>C,errorToast:()=>h.Jc,iconContainer:()=>h.Fu,iconWrapper:()=>h.aW,infoToast:()=>h.Rr,successToast:()=>h.Qm,text:()=>h.fL,title:()=>h.TN,toastBody:()=>h.X$,toastWrapper:()=>h.GK,warnToast:()=>h.x_});var o=n(3379),i=n.n(o),r=n(7795),a=n.n(r),s=n(8575),l=n.n(s),c=n(9216),p=n.n(c),u=n(4589),d=n.n(u),h=n(6761),f={attributes:{id:"@playkit-js/ui-managers"}};f.styleTagTransform=d(),f.setAttributes=l(),f.insert=function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},f.domAPI=a(),f.insertStyleElement=p(),i()(h.ZP,f);const C=h.ZP&&h.ZP.locals?h.ZP.locals:void 0},1896:(e,t,n)=>{"use strict";n.r(t),n.d(t,{bottomLeft:()=>h.Oq,bottomRight:()=>h.hT,default:()=>C,toastRow:()=>h.YY,toastsContainer:()=>h.Q$,topLeft:()=>h.w3,topRight:()=>h.f6});var o=n(3379),i=n.n(o),r=n(7795),a=n.n(r),s=n(8575),l=n.n(s),c=n(9216),p=n.n(c),u=n(4589),d=n.n(u),h=n(9857),f={attributes:{id:"@playkit-js/ui-managers"}};f.styleTagTransform=d(),f.setAttributes=l(),f.insert=function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},f.domAPI=a(),f.insertStyleElement=p(),i()(h.ZP,f);const C=h.ZP&&h.ZP.locals?h.ZP.locals:void 0},6422:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C,rightUpperBarWrapperContainer:()=>h.A});var o=n(3379),i=n.n(o),r=n(7795),a=n.n(r),s=n(8575),l=n.n(s),c=n(9216),p=n.n(c),u=n(4589),d=n.n(u),h=n(6477),f={attributes:{id:"@playkit-js/ui-managers"}};f.styleTagTransform=d(),f.setAttributes=l(),f.insert=function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},f.domAPI=a(),f.insertStyleElement=p(),i()(h.Z,f);const C=h.Z&&h.Z.locals?h.Z.locals:void 0},3421:(e,t,n)=>{"use strict";n.r(t),n.d(t,{comparisonText:()=>h.aT,default:()=>C,dropdownItem:()=>h.mB,dropdownItemDescription:()=>h._h,icon:()=>h.qv,moreItemTooltip:()=>h.Af,trimText:()=>h.rd});var o=n(3379),i=n.n(o),r=n(7795),a=n.n(r),s=n(8575),l=n.n(s),c=n(9216),p=n.n(c),u=n(4589),d=n.n(u),h=n(4778),f={attributes:{id:"@playkit-js/ui-managers"}};f.styleTagTransform=d(),f.setAttributes=l(),f.insert=function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},f.domAPI=a(),f.insertStyleElement=p(),i()(h.ZP,f);const C=h.ZP&&h.ZP.locals?h.ZP.locals:void 0},1397:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C,moreDropdown:()=>h.p});var o=n(3379),i=n.n(o),r=n(7795),a=n.n(r),s=n(8575),l=n.n(s),c=n(9216),p=n.n(c),u=n(4589),d=n.n(u),h=n(3206),f={attributes:{id:"@playkit-js/ui-managers"}};f.styleTagTransform=d(),f.setAttributes=l(),f.insert=function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},f.domAPI=a(),f.insertStyleElement=p(),i()(h.Z,f);const C=h.Z&&h.Z.locals?h.Z.locals:void 0},1891:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C,moreIcon:()=>h.W});var o=n(3379),i=n.n(o),r=n(7795),a=n.n(r),s=n(8575),l=n.n(s),c=n(9216),p=n.n(c),u=n(4589),d=n.n(u),h=n(324),f={attributes:{id:"@playkit-js/ui-managers"}};f.styleTagTransform=d(),f.setAttributes=l(),f.insert=function(e){window.kalturaGlobalConfig&&"string"==typeof window.kalturaGlobalConfig.stylesNonce&&e.setAttribute("nonce",window.kalturaGlobalConfig.stylesNonce),document.head.appendChild(e)},f.domAPI=a(),f.insertStyleElement=p(),i()(h.Z,f);const C=h.Z&&h.Z.locals?h.Z.locals:void 0},3379:e=>{"use strict";var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var r={},a=[],s=0;s<e.length;s++){var l=e[s],c=o.base?l[0]+o.base:l[0],p=r[c]||0,u="".concat(c," ").concat(p);r[c]=p+1;var d=n(u),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)t[d].references++,t[d].updater(h);else{var f=i(h,o);o.byIndex=s,t.splice(s,0,{identifier:u,updater:f,references:1})}a.push(u)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var r=o(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<r.length;a++){var s=n(r[a]);t[s].references--}for(var l=o(e,i),c=0;c<r.length;c++){var p=n(r[c]);0===t[p].references&&(t[p].updater(),t.splice(p,1))}r=l}}},9216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},8575:e=>{"use strict";e.exports=function(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}},7795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,i&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},5216:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UiManagersEvent=void 0,t.UiManagersEvent={UPDATE_COMPONENTS:"UPDATE_COMPONENTS"}},1968:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BannerManager=t.VisibilityMode=void 0;var o,i=n(4522),r=n(6237),a=n(5091),s=n(6227);!function(e){e.VISIBLE="VISIBLE",e.HIDDEN="HIDDEN"}(o=t.VisibilityMode||(t.VisibilityMode={}));var l=function(){function e(e){this.options=e,this._floatingItem=null,this._timerSubscription=void 0,this._options=e,this._bannerConfig={theme:{backgroundColor:"rgba(0, 0, 0, .7)",blur:"10px"}}}return e.prototype.add=function(e){return this._floatingItem&&this.remove(),this._floatingItem=this._options.floatingManager.add({label:"Banner",mode:"Immediate",position:"InteractiveArea",renderContent:this._createRenderBanner(e,{onClose:this._handleCloseEvent.bind(this),theme:this._bannerConfig.theme})}),e.autoClose&&this._startDurationTimer(e.duration),this._getState()},e.prototype.remove=function(){this._floatingItem&&(this._timerSubscription&&clearTimeout(this._timerSubscription),this._options.floatingManager.remove(this._floatingItem),this._floatingItem=null)},e.prototype.reset=function(){this.remove()},e.prototype._createRenderBanner=function(e,t){var n=e.content,o=e.renderContent,s=t.onClose,l=t.theme;return function(e){return(0,i.h)(a.BannerContainer,{onClose:s,theme:l},o?o(n,e):(0,i.h)(r.Banner,{content:n}))}},e.prototype._handleCloseEvent=function(){this.remove()},e.prototype._startDurationTimer=function(e){void 0===e&&(e=6e4),this._timerSubscription=setTimeout(this.remove.bind(this),Math.max(5e3,e))},e.prototype._getState=function(){var e=(0,s.getPlayerSize)(this._options.kalturaPlayer);return{visibilityMode:!e||e.width<480?o.HIDDEN:o.VISIBLE}},e}();t.BannerManager=l},5091:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BannerContainer=void 0;var l=n(4522),c=s(n(9629)),p=n(9731),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(e){var t=this.props.theme,n=t.backgroundColor,o=t.blur;return(0,l.h)("div",{className:c.bannerContainerRoot,"aria-live":"polite"},(0,l.h)("div",{style:"\n                background-color:".concat(n,"; \n                backdrop-filter: blur(").concat(o,");\n             "),className:c.bannerContainer},(0,l.h)("button",{className:c.closeButton,onClick:e.onClose},(0,l.h)("div",{className:c.small},(0,l.h)(p.Icon,{size:p.IconSize.small,name:"close"})),(0,l.h)("div",{className:c.large},(0,l.h)(p.Icon,{size:p.IconSize.large,name:"close"}))),this.props.children))},t}(l.Component);t.BannerContainer=u},2282:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Banner=void 0;var l=n(4522),c=s(n(5901)),p=n(2248),u=n(1160),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(e){var t=e.content,n=t.text,o=t.title,i=void 0===o?"Audience asks:":o,r=t.icon,a=void 0===r?this._defaultIcon():r;return(0,l.h)("div",{className:c.defaultBannerRoot+" "+c.bannerWrapper,role:"alert","aria-live":"polite"},(0,l.h)("div",{className:c.iconContainer},(0,l.h)("div",{className:c.iconWrapper},a)),(0,l.h)("div",{className:c.bannerBody},(0,l.h)("div",{className:c.title},i),(0,l.h)("div",{className:c.text},n)))},t.prototype._defaultIcon=function(){return(0,l.h)("div",{className:c.iconImage},(0,l.h)(p.SomeoneAsksLarge,{className:c.large}),(0,l.h)(u.SomeoneAsksSmall,{className:c.small}))},t}(l.Component);t.Banner=d},6237:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Banner=void 0;var o=n(2282);Object.defineProperty(t,"Banner",{enumerable:!0,get:function(){return o.Banner}})},2248:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.SomeoneAsksLarge=void 0;var i=n(4522);t.SomeoneAsksLarge=function(e){return(0,i.h)("svg",o({width:"32px",height:"32px",viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e),(0,i.h)("g",{id:"Icons/32/Someone-asks",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},(0,i.h)("g",{id:"Group",transform:"translate(4.000000, 5.000000)",fill:"#B2D238"},(0,i.h)("ellipse",{id:"Oval",cx:"12",cy:"5.5",rx:"6",ry:"5.5"}),(0,i.h)("path",{d:"M12,13 C7.995,13 0,15.01 0,19 L0,20.5 C0,21.325 0.675,22 1.5,22 L22.5,22 C23.325,22 24,21.325 24,20.5 L24,19 C24,15.01 16.005,13 12,13 Z",id:"Path"}))))}},1160:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.SomeoneAsksSmall=void 0;var i=n(4522);t.SomeoneAsksSmall=function(e){return(0,i.h)("svg",o({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e),(0,i.h)("g",{id:"Icons/20/Someone-asks",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},(0,i.h)("g",{id:"Group",transform:"translate(2.000000, 2.000000)",fill:"#B2D238"},(0,i.h)("circle",{id:"Oval",cx:"8",cy:"4",r:"4"}),(0,i.h)("path",{d:"M8,9 C5.33,9 0,10.5633333 0,13.6666667 L0,14.8333333 C0,15.475 0.45,16 1,16 L15,16 C15.55,16 16,15.475 16,14.8333333 L16,13.6666667 C16,10.5633333 10.67,9 8,9 Z",id:"Path"}))))}},7243:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.FloatingManager=void 0;var a=n(4522),s=n(3121),l=n(4019),c=n(6227),p=n(3775),u=n(5216),d={VideoArea:{Live:"VideoArea",Playback:"VideoArea"},PresetArea:{Live:"PresetArea",Playback:"PresetArea"},InteractiveArea:{Live:"InteractiveArea",Playback:"InteractiveArea"}},h=function(){function e(e){var t=this;this._options=e,this._registered=!1,this._items={VideoArea:[],InteractiveArea:[],PresetArea:[]},this._componentRef={InteractiveArea:null,VideoArea:null,PresetArea:null},this._cache={canvas:{playerSize:{width:0,height:0},videoSize:{width:0,height:0}}},this._renderItems=function(e){var n=t._getRendererProps({});return t._items[e].map((function(e){return e.renderFloatingChild(n)}))},this._renderChild=function(e){return(0,a.h)(l.ManagedComponent,{label:"floating-manager",renderChildren:function(){return t._renderItems(e)},isShown:function(){return!0},ref:function(n){return t._componentRef[e]=n}})},this._onTimeUpdate=function(){t._updateComponents()},this._onMediaLoaded=function(){t._updateCachedCanvas(),t._updateComponents()},this._onLoadedData=function(){t._updateCachedCanvas(),t._updateComponents()},Object.keys(d).forEach((function(e){t._options.presetManager.add({label:"floating-manager",presetAreas:d[e],renderChild:function(){return t._renderChild(e)}})})),this._logger=e.logger,this._eventManager=e.eventManager,this._addPlayerBindings(),this._updateCachedCanvas()}return e.prototype.add=function(e){var t=this._options.presetManager,n=o(o({presetManager:t},this._options),{data:e}),i=new p.FloatingItem(n);return this._items[e.position].push(i),i},e.prototype.remove=function(e){var t=this._items[e.data.position],n=t.indexOf(e);n>-1?(t[n].destroy(),t.splice(n,1)):this._logger.warn("couldn't remove ".concat(e," since it wasn't found"))},e.prototype.reset=function(){var e=this;r(r(r([],i(this._items.VideoArea),!1),i(this._items.InteractiveArea),!1),i(this._items.PresetArea),!1).forEach((function(t){try{t.destroy()}catch(t){e._logger.warn(t)}})),this._items.VideoArea=[],this._items.PresetArea=[],this._items.InteractiveArea=[]},e.prototype._getRendererProps=function(e){var t=this._options.kalturaPlayer;return{currentTime:void 0!==e.currentTime?e.currentTime:1e3*t.currentTime,canvas:this._cache.canvas}},e.prototype._updateCachedCanvas=function(){this._cache.canvas={playerSize:(0,c.getPlayerSize)(this._options.kalturaPlayer),videoSize:(0,c.getVideoSize)(this._options.kalturaPlayer)}},e.prototype._updateComponents=function(){this._componentRef.InteractiveArea&&this._componentRef.InteractiveArea.update(),this._componentRef.PresetArea&&this._componentRef.PresetArea.update(),this._componentRef.VideoArea&&this._componentRef.VideoArea.update()},e.prototype._addPlayerBindings=function(){var e=this,t=this._options.kalturaPlayer;this._eventManager.listen(t,t.Event.Core.TIME_UPDATE,this._onTimeUpdate),this._eventManager.listen(t,t.Event.Core.MEDIA_LOADED,this._onMediaLoaded),this._eventManager.listen(t,t.Event.Core.LOADED_DATA,this._onLoadedData),this._options.presetManager.on(s.PresetManagerEventTypes.VideoResizeEvent,(function(){e._updateCachedCanvas(),e._updateComponents()})),this._options.presetManager.on(s.PresetManagerEventTypes.PresetResizeEvent,(function(){e._updateCachedCanvas(),e._updateComponents()})),this._eventManager.listen(t,u.UiManagersEvent.UPDATE_COMPONENTS,(function(){return e._updateComponents()}))},e}();t.FloatingManager=h},3775:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FloatingItem=void 0;var o=n(4522),i=n(4019),r=function(){function e(e){var t=this;this._isShown=!1,this._componentRef=null,this.remove=function(){t._isShown=!1,t._componentRef&&t._componentRef.update()},this.add=function(){t._isShown=!0,t._componentRef&&t._componentRef.update()},this.update=function(){t._componentRef&&t._componentRef.update()},this._options=e,this._addPlayerBindings()}return Object.defineProperty(e.prototype,"data",{get:function(){return this._options.data},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.remove()},e.prototype.renderFloatingChild=function(e){var t=this,n=this._options.data.label;return(0,o.h)(i.ManagedComponent,{label:n,renderChildren:function(){return t._options.data.renderContent(e)},isShown:function(){return t._isShown},ref:function(e){t._componentRef=e}})},e.prototype._addPlayerBindings=function(){var e=this._options,t=e.kalturaPlayer,n=e.data,o=e.eventManager;"MediaLoaded"===n.mode&&o.listenOnce(t,t.Event.Core.MEDIA_LOADED,this.add),"FirstPlay"===n.mode&&o.listenOnce(t,t.Event.Core.FIRST_PLAY,this.add),"Immediate"===n.mode&&this.add()},e}();t.FloatingItem=r},5462:(e,t)=>{"use strict";var n,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.RelativeToTypes=t.ReservedPresetAreas=t.ReservedPresetNames=void 0,(i=t.ReservedPresetNames||(t.ReservedPresetNames={})).Playback="Playback",i.Live="Live",(o=t.ReservedPresetAreas||(t.ReservedPresetAreas={})).PresetFloating="PresetFloating",o.BottomBarLeftControls="BottomBarLeftControls",o.BottomBarRightControls="BottomBarRightControls",o.TopBarLeftControls="TopBarLeftControls",o.TopBarRightControls="TopBarRightControls",o.SidePanelTop="SidePanelTop",o.SidePanelLeft="SidePanelLeft",o.SidePanelRight="SidePanelRight",o.SidePanelBottom="SidePanelBottom",o.PresetArea="PresetArea",o.InteractiveArea="InteractiveArea",o.PlayerArea="PlayerArea",o.VideoArea="VideoArea",(n=t.RelativeToTypes||(t.RelativeToTypes={})).Before="Before",n.After="After",n.Replace="Replace"},3121:function(e,t,n){"use strict";var o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.PresetManager=t.PresetManagerEventTypes=void 0;var i,r=n(4522),a=n(3266),s=n(2194),l=n(4869);!function(e){e.PresetResizeEvent="PresetResizeEvent",e.VideoResizeEvent="VideoResizeEvent"}(i=t.PresetManagerEventTypes||(t.PresetManagerEventTypes={}));var c=function(){function e(e){var t=this;this._events=new a.EventsManager,this._registerToPlayer=function(){t._eventManager.listen(t._kalturaPlayer,t._kalturaPlayer.Event.UI.UI_PRESET_RESIZE,t._notifyUIPresetResize),t._eventManager.listen(t._kalturaPlayer,t._kalturaPlayer.Event.UI.VIDEO_RESIZE,t._notifyVideoResize)},this._notifyVideoResize=function(){t._events.emit({type:i.VideoResizeEvent})},this._notifyUIPresetResize=function(){t._events.emit({type:i.PresetResizeEvent})},this._unregisterToPlayer=function(){t._eventManager.unlisten(t._kalturaPlayer,t._kalturaPlayer.Event.UI.UI_PRESET_RESIZE,t._notifyUIPresetResize),t._eventManager.unlisten(t._kalturaPlayer,t._kalturaPlayer.Event.UI.VIDEO_RESIZE,t._notifyVideoResize)},this.on=this._events.on.bind(this._events),this.off=this._events.off.bind(this._events),this._eventManager=e.eventManager,this._kalturaPlayer=e.kalturaPlayer,this.add({label:"preset-manager",presetAreas:{Playback:"PlayerArea",Live:"PlayerArea"},renderChild:function(){return(0,r.h)(s.UIPlayerAdapter,{player:e.kalturaPlayer,onMount:t._registerToPlayer,onUnmount:t._unregisterToPlayer})}})}return e.prototype.add=function(e){var t,n,i=new l.PresetItem({kalturaPlayer:this._kalturaPlayer,data:e}).playerConfig;try{for(var r=o(i),a=r.next();!a.done;a=r.next()){var s=a.value,c=s.label,p=s.presets,u=s.container,d=s.get;this._kalturaPlayer.ui.addComponent({label:c,presets:p,container:u,get:d})}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e}();t.PresetManager=c},2194:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.UIPlayerAdapter=void 0;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.componentDidMount=function(){this.props.onMount(this.props.player)},t.prototype.componentWillUnmount=function(){this.props.onUnmount(this.props.player)},t.prototype.render=function(){return null},t.defaultProps={player:null},t}(n(4522).Component);t.UIPlayerAdapter=r},4019:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ManagedComponent=void 0;var c=n(4522),p=l(n(3033)),u=n(2052).ui.redux.connect,d=function(e){return{playerSize:e.shell.playerSize}},h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.update=function(){this.setState((function(e){return{toggler:!e.toggler}}))},t.prototype.shouldComponentUpdate=function(e){var t=this.props,n=t.updateOnPlayerSizeChanged,o=t.playerSize;return n&&e.playerSize!==o||e.playerSize===o},t.prototype.componentDidMount=function(){this.setState({toggler:!1})},t.prototype.render=function(){var e=this.props,t=e.fillContainer,n=e.isShown,o=e.playerSize;return n()?(0,c.h)("div",{"data-contrib-item":this.props.label,className:"".concat(t?p.fillContainer:"")},this.props.renderChildren(o)):null},t.defaultProps={fillContainer:!1},s([u(d,null,null,{forwardRef:!0})],t)}(c.Component);t.ManagedComponent=h},4869:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PresetItem=void 0;var o=n(4522),i=n(5462),r=n(3181),a=function(){function e(e){var t=this;this._render=function(){if(t._options.data.isolateComponent){var e=t._options.data,n=e.label,i=e.fillContainer;return(0,o.h)(r.InjectedComponent,{label:n,fillContainer:i||!1,onCreate:t._onCreate,onDestroy:t._onDestroy})}return t._options.data.renderChild()},this._onDestroy=function(e){e.parent&&(0,o.render)(null,e.parent)},this._onCreate=function(e){try{if(!e.parent)return;var n=t._options.data.renderChild();if(!n)return;(0,o.render)(n,e.parent)}catch(e){}},this._options=e}return Object.defineProperty(e.prototype,"playerConfig",{get:function(){var e=[];for(var t in this._options.data.presetAreas){var n=this._options.data.presetAreas[t],o=this._options.data.relativeTo;if(n){var r={label:this._options.data.label,presets:[t],container:n,get:this._render};if(o)switch(o.type){case i.RelativeToTypes.After:r.afterComponent=o.name;break;case i.RelativeToTypes.Before:r.beforeComponent=o.name;break;case i.RelativeToTypes.Replace:r.replaceComponent=o.name}e.push(r)}}return e},enumerable:!1,configurable:!0}),e}();t.PresetItem=a},7321:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ItemWrapper=void 0;var o=n(4522),i=n(2837),r=n(8399),a=function(){function e(t,n){var o=this;this._detachWindow=null,this._closingDetachWindow=!1,this._attachingDetachWindow=!1,this._detachWindowPosition={screenX:0,screenY:0},this._detachWindowSize={innerWidth:0,innerHeight:0},this._detachWindowAnalyticsInterval=null,this._initialDetachWindowSizeSet=!1,this.attach=function(){o.isDetached&&(o._attachingDetachWindow=!0,o.panelItemComponentRef.current.attach(),o._closeDetachedWindow())},this._setDetachWindowPosition=function(e,t){o._detachWindowPosition={screenX:e,screenY:t}},this._setDetachWindowSize=function(e,t){o._detachWindowSize={innerWidth:e,innerHeight:t}},this._closeDetachedWindow=function(){o._detachWindow&&!o._closingDetachWindow&&(o._closingDetachWindow=!0,r.CLOSE_DETACH_EVENTS.forEach((function(e){window.removeEventListener(e,o._closeDetachedWindow)})),o._detachWindow.close(),o._detachWindow=null,o._closingDetachWindow=!1,o._attachingDetachWindow=!1,o._initialDetachWindowSizeSet=!1,o._setDetachWindowPosition(0,0),o._setDetachWindowSize(0,0),o._detachWindowAnalyticsInterval&&(clearInterval(o._detachWindowAnalyticsInterval),o._detachWindowAnalyticsInterval=null))},this.id=++e.nextId,this.item=t,this.player=n,this.isActive=!1,this.injectPanelComponent()}return e.prototype.activate=function(){var e=this;this.panelItemComponentRef.current?(this.panelItemComponentRef.current.on(),this.isActive=!0):setTimeout((function(){return e.activate()}))},e.prototype.deactivate=function(e){var t;void 0===e&&(e=!1),null===(t=this.panelItemComponentRef.current)||void 0===t||t.off(e),this.isActive=!1},e.prototype.detach=function(e){var t,n,o=this,i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.className="".concat(r.DETACH_CONTAINER_CLASS,"-").concat(this.id);var a="menubar=no,status=no,location=no,toolbar=no";a+=",width=".concat((null==e?void 0:e.width)||"auto",",height=").concat((null==e?void 0:e.height)||"auto"),a+=",top=".concat((null==e?void 0:e.top)||"auto",", left=").concat((null==e?void 0:e.left)||"auto"),this._detachWindow=window.open("","_blank",a),this._detachWindow.document.title=null==e?void 0:e.title,null===(t=this._detachWindow)||void 0===t||t.focus();var s=document.head,l=this._detachWindow.document.head,c=this._detachWindow.document.body;if(s.querySelectorAll("style").forEach((function(e){var t=o._detachWindow.document.createElement("style");t.textContent=e.textContent,l.appendChild(t)})),Object.assign(c.style,r.DETACHED_WINDOW_STYLES),null===(n=this._detachWindow)||void 0===n||n.document.body.appendChild(i),this._detachWindow.onbeforeunload=function(){o._attachingDetachWindow||(e.onDetachWindowClose(),o._closeDetachedWindow())},r.CLOSE_DETACH_EVENTS.forEach((function(e){window.addEventListener(e,o._closeDetachedWindow)})),((null==e?void 0:e.maxWidth)||(null==e?void 0:e.maxHeight))&&this._detachWindow.addEventListener("resize",(function(t){t.preventDefault(),(null==e?void 0:e.maxWidth)&&o._detachWindow.innerWidth>e.maxWidth&&o._detachWindow.resizeTo(e.maxWidth,o._detachWindow.outerHeight),(null==e?void 0:e.maxHeight)&&o._detachWindow.innerHeight>e.maxHeight&&o._detachWindow.resizeTo(o._detachWindow.outerWidth,e.maxHeight)})),e.onDetachMove||e.onDetachResize){var p=this._detachWindow,u=p.screenX,d=p.screenY;this._setDetachWindowPosition(u,d),this._detachWindowAnalyticsInterval=setInterval((function(){o._initialDetachWindowSizeSet||(o._setDetachWindowSize(o._detachWindow.innerWidth,o._detachWindow.innerHeight),o._initialDetachWindowSizeSet=!0),!e.onDetachMove||o._detachWindow.screenX===o._detachWindowPosition.screenX&&o._detachWindow.screenY===o._detachWindowPosition.screenY||(o._setDetachWindowPosition(o._detachWindow.screenX,o._detachWindow.screenY),e.onDetachMove(o._detachWindow.screenX,o._detachWindow.screenY)),!e.onDetachResize||o._detachWindow.innerWidth===o._detachWindowSize.innerWidth&&o._detachWindow.innerHeight===o._detachWindowSize.innerHeight||(o._setDetachWindowSize(o._detachWindow.innerWidth,o._detachWindow.innerHeight),e.onDetachResize(o._detachWindow.innerWidth,o._detachWindow.innerHeight))}),r.DETACH_POSITION_INTERVAL)}this.panelItemComponentRef.current.detach(i,(null==e?void 0:e.attachPlaceholder)||function(){return null})},Object.defineProperty(e.prototype,"isDetached",{get:function(){return Boolean(this._detachWindow)},enumerable:!1,configurable:!0}),e.prototype.getDetachedRef=function(){var e;return null===(e=this.panelItemComponentRef.current)||void 0===e?void 0:e.detachRef},e.prototype.remove=function(){this.removePanelComponentFn(),this._closeDetachedWindow()},e.prototype.update=function(){var e;null===(e=this.panelItemComponentRef.current)||void 0===e||e.forceUpdate()},e.prototype.injectPanelComponent=function(){var t=this,n=this.item,r=n.label,a=n.position,s=n.panelComponent,l=n.presets,c=s,p=(0,o.createRef)();this.panelItemComponentRef=p,this.removePanelComponentFn=this.player.ui.addComponent({label:"Side-panel-".concat(a,"-").concat(r),presets:l,area:e.getPanelArea(a),get:function(){return(0,o.h)(i.PanelItemWrapper,{ref:p},(0,o.h)(c,{isActive:t.isActive}))}})},e.getPanelArea=function(e){return"SidePanel".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))},e.nextId=0,e}();t.ItemWrapper=a},8399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DETACH_POSITION_INTERVAL=t.CLOSE_DETACH_EVENTS=t.DETACH_CONTAINER_CLASS=t.DETACHED_WINDOW_STYLES=void 0,t.DETACHED_WINDOW_STYLES={margin:"0px",backgroundColor:"#000"},t.DETACH_CONTAINER_CLASS="playkit-player detach-sidebar-container",t.CLOSE_DETACH_EVENTS=["beforeunload","popstate"],t.DETACH_POSITION_INTERVAL=1e3},3682:function(e,t,n){"use strict";var o,i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.SidePanelsManager=void 0;var a=n(2052),s=n(7321),l=a.ui.SidePanelModes,c=a.ui.SidePanelPositions,p=a.ui.ReservedPresetNames,u=((o={})[c.TOP]=c.BOTTOM,o[c.BOTTOM]=c.TOP,o[c.RIGHT]=c.LEFT,o[c.LEFT]=c.RIGHT,o),d=function(){function e(e,t){this.player=e,this.activePanels={top:null,bottom:null,right:null,left:null},this.componentsRegistry=new Map,this.logger=t}return e.prototype.add=function(t){if(e.validateItem(t)){var n=new s.ItemWrapper(t,this.player);return this.componentsRegistry.set(n.id,n),this.logger.debug("New Panel Item Added",t),n.id}this.logger.error("Invalid SidePanelItem parameters",t)},e.prototype.remove=function(e){var t=this.componentsRegistry.get(e);t?(this.isItemActive(e)&&this.deactivateItem(e),t.remove(),this.componentsRegistry.delete(e)):this.logger.warn("".concat(e," is not registered"))},e.prototype.activateItem=function(t){var n=this.componentsRegistry.get(t);if(n){var o=n.item,i=o.position,r=o.expandMode;if(this.isItemActive(t))return;var a=this.activePanels[i];null!==a&&a.deactivate(!0);var s=e.getCounterPanelPosition(i);this.activePanels[s]&&this.deactivateItem(this.activePanels[s].id),n.activate(),this.expand(i,r),this.activePanels[i]=n}else this.logger.warn("".concat(t," is not registered"))},e.prototype.deactivateItem=function(e){var t=this.componentsRegistry.get(e);if(t){if(!this.isItemActive(e))return;var n=t.item.position;t.deactivate(),this.collapse(n),this.activePanels[n]=null}else this.logger.warn("".concat(e," is not registered"))},e.prototype.isItemActive=function(e){var t,n=this.componentsRegistry.get(e);return n?(null===(t=this.activePanels[n.item.position])||void 0===t?void 0:t.id)===e:(this.logger.warn("".concat(e," is not registered")),!1)},e.prototype.isItemDetached=function(e){var t=this.componentsRegistry.get(e);return t?t.isDetached:(this.logger.warn("".concat(e," is not registered")),!1)},e.prototype.detachItem=function(e,t){var n=this,o=this.componentsRegistry.get(e);o?(this.deactivateItem(e),o.detach(i(i({},t),{onDetachWindowClose:function(){n.attachItem(e),null==t||t.onDetachWindowClose()}}))):this.logger.warn("".concat(e," is not registered"))},e.prototype.attachItem=function(e){var t=this.componentsRegistry.get(e);t?(t.attach(),this.activateItem(e)):this.logger.warn("".concat(e," is not registered"))},e.prototype.getDetachedRef=function(e){return this.isItemDetached(e)?this.componentsRegistry.get(e).getDetachedRef():null},e.prototype.update=function(e){var t=this.componentsRegistry.get(e);t?t.update():this.logger.warn("".concat(e," is not registered"))},e.prototype.reset=function(){this.logger.debug("reset")},e.prototype.destroy=function(){this.logger.debug("destroy"),this.removeAllItems()},e.prototype.removeAllItems=function(){var e,t;try{for(var n=r(this.componentsRegistry.values()),o=n.next();!o.done;o=n.next()){var i=o.value;this.remove(i.id)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.toggle=function(e){this.isItemActive(e)?this.deactivateItem(e):this.activateItem(e)},e.prototype.expand=function(e,t){this.player.ui.store.dispatch(a.ui.reducers.shell.actions.updateSidePanelMode(e,t))},e.prototype.collapse=function(e){this.player.ui.store.dispatch(a.ui.reducers.shell.actions.updateSidePanelMode(e,l.HIDDEN))},e.getCounterPanelPosition=function(e){return u[e]},e.validateItem=function(e){var t=e.label,n=e.panelComponent,o=e.position,i=e.expandMode,r=e.presets;return!!(t&&Object.values(c).includes(o)&&Object.values(l).includes(i)&&r.every((function(e){return Object.values(p).includes(e)}))&&"function"==typeof n)},e}();t.SidePanelsManager=d},2837:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PanelItemWrapper=void 0;var l=n(4522),c=s(n(8158)),p=n(2052),u=p.ui.style.defaultTransitionTime,d=p.ui.createPortal,h=function(e){function t(){var t=e.call(this)||this;return t.detach=function(e,n){t.setState({detachRef:e,attachPlaceholder:n})},t.attach=function(){t.setState({detachRef:null,attachPlaceholder:function(){return null}})},t.state={on:!1,detachRef:null,attachPlaceholder:function(){return null}},t.switchMode=!1,t}return i(t,e),t.prototype.on=function(){this.setState({on:!0})},t.prototype.off=function(e){this.switchMode=e,this.setState({on:!1})},Object.defineProperty(t.prototype,"detachRef",{get:function(){return this.state.detachRef},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=(0,l.cloneElement)(this.props.children);return(0,l.h)("div",{className:[c.sidePanelWrapper,this.state.on?c.activeState:""].join(" "),style:this.state.on||this.switchMode?"":{transition:"visibility ".concat(u,"ms")}},this.detachRef?(0,l.h)(l.Fragment,null,d(e,this.detachRef),(0,l.h)(this.state.attachPlaceholder,null)):e)},t}(l.Component);t.PanelItemWrapper=h},3884:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToastType=void 0;var o=n(3618);Object.defineProperty(t,"ToastType",{enumerable:!0,get:function(){return o.ToastType}})},3618:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ToastType=void 0,(n=t.ToastType||(t.ToastType={})).TopRight="topRight",n.TopLeft="topLeft",n.BottomRight="bottomRight",n.BottomLeft="bottomLeft"},5963:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.ToastManager=void 0;var r=n(4522),a=n(9350),s=n(3884),l=n(7233),c=n(5216),p=function(){function e(e,t){var n=this;this.options=e,this.dispatchEvent=t,this._toasts=[],this._floatingItem=null,this._remove=function(e){var t=n._findToastIndexById(e);-1!==t&&(clearTimeout(n._toasts[t].timerSubscription),n._toasts.splice(t,1),n._updateToastsUI(),0===n._toasts.length&&n._removeToastsContainer())},this._options=e,this._dispatchEvent=t}return e.prototype.add=function(e){var t=e.duration,n=e.toastType,r=i(e,["duration","toastType"]);this._floatingItem||this._addToastsContainer(n);var s={toastProps:o(o({},r),{id:a.UUID.uuidV1(),onClose:this._remove}),duration:t,timerSubscription:null};this._toasts.push(s),this._updateToastsUI(),this._startDurationTimer(s),this.dispatchEvent(c.UiManagersEvent.UPDATE_COMPONENTS)},e.prototype.reset=function(){var e=this;this._toasts.forEach((function(t){e._remove(t.toastProps.id)}))},e.prototype._startDurationTimer=function(e){var t=this;e.timerSubscription=setTimeout((function(){t._remove(e.toastProps.id)}),e.duration)},e.prototype._addToastsContainer=function(e){var t=this;this._floatingItem=this._options.floatingManager.add({label:"Toasts",mode:"Immediate",position:"InteractiveArea",renderContent:function(){return(0,r.h)(l.ToastsContainer,{toastType:e||s.ToastType.BottomLeft,toasts:t._toasts.map((function(e){return e.toastProps}))})}})},e.prototype._removeToastsContainer=function(){this._floatingItem&&(this._options.floatingManager.remove(this._floatingItem),this._floatingItem=null)},e.prototype._updateToastsUI=function(){this._floatingItem&&this._floatingItem.update()},e.prototype._findToastIndexById=function(e){for(var t=0;t<this._toasts.length;){if(this._toasts[t].toastProps.id===e)return t;t++}return-1},e}();t.ToastManager=p},3118:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Toast=void 0;var l=n(4522),c=s(n(411)),p=n(9731),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isShown:!0},t._onClick=function(e){t.props.onClick(),t._onClose(e)},t._onClose=function(e){e.stopPropagation(),t.setState({isShown:!1}),t.props.onClose(t.props.id)},t}return i(t,e),t.prototype._getToastSeverityClass=function(){switch(this.props.severity){case"Success":return c.successToast;case"Warning":return c.warnToast;case"Error":return c.errorToast;default:return c.infoToast}},t.prototype.render=function(){var e=this.props,t=e.text,n=e.title,o=e.icon;return(0,l.h)("div",{className:c.toastWrapper+" "+this._getToastSeverityClass(),onClick:this._onClick},(0,l.h)("button",{className:c.closeButton,onClick:this._onClose},(0,l.h)(p.Icon,{size:p.IconSize.small,name:"close"})),(0,l.h)("div",{className:c.title},n),(0,l.h)("div",{className:c.toastBody,role:"alert","aria-live":"assertive"},(0,l.h)("div",{className:c.iconContainer},(0,l.h)("div",{className:c.iconWrapper},o)),(0,l.h)("div",{className:c.text},t)))},t}(l.Component);t.Toast=u},7233:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ToastsContainer=void 0;var c=n(4522),p=n(3118),u=l(n(1896)),d=n(3884),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=[u.toastsContainer,u["".concat(this.props.toastType||d.ToastType.BottomLeft)]];return(0,c.h)("div",{className:e.join(" "),"aria-live":"polite"},this.props.toasts.map((function(e){return(0,c.h)("div",{className:u.toastRow,key:e.id},(0,c.h)(p.Toast,r({},e)))})))},t}(c.Component);t.ToastsContainer=h},183:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IconModel=void 0;var o=n(4522),i=n(2052).ui.ReservedPresetNames,r=function(){function e(t){this.id=++e.nextId,this.displayName=t.displayName,this.ariaLabel=t.ariaLabel,this.order=t.order,this.component=t.component,this.svgIcon=t.svgIcon,this.onClick=t.onClick,this.componentRef=(0,o.createRef)(),this.presets=t.presets&&t.presets.length>0?t.presets:[i.Playback,i.Live],this.shouldHandleOnClick="boolean"!=typeof t.shouldHandleOnClick||t.shouldHandleOnClick}return e.prototype.update=function(){var e;null===(e=this.componentRef.current)||void 0===e||e.forceUpdate()},e.nextId=0,e}();t.IconModel=r},2195:function(e,t){"use strict";var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MoveControlsManager=void 0;var i=function(){function e(e,t,n,o){this.player=e,this.logger=t,this.store=o.useStore(),this.upperBarManager=n,this.store.subscribe(this.handleStoreChange.bind(this)),this.currentState=this.store.getState(),this.iconIds=new Map}return Object.defineProperty(e.prototype,"bottomBarRegistryManager",{get:function(){return this.player.getService("bottomBarRegistryManager")||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this.store.getState()},enumerable:!1,configurable:!0}),e.prototype.handleStoreChange=function(){var e=this,t=this.state,i=this.bottomBarRegistryManager;if(i&&this.currentState.bottomBar!==t.bottomBar){this.logger.debug("Removing core controls from upper bar"),o([],n(this.iconIds.values()),!1).forEach((function(t){return e.upperBarManager.remove(t)})),this.iconIds.clear();var r=t.bottomBar.controlsToMove;r.length>0&&(this.logger.debug("Adding core controls to upper bar: ",r),r.forEach((function(t){var n=i.getComponentItem(t);if(n){var o=e.upperBarManager.add(n);"number"==typeof o&&e.iconIds.set(t,o)}}))),this.currentState=t}},e}();t.MoveControlsManager=i},9328:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},p=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayedBar=void 0;var u=n(4522),d=n(5883),h=l(n(6422)),f=n(2052),C=n(4951),A=f.ui.Components.PLAYER_SIZE,v=f.ui.redux.connect,y=function(e){return{playerSize:e.shell.playerSize}},g=function(e){function t(){var t=e.call(this)||this;return t.moreIconRef=(0,u.createRef)(),t.handleOnClick=function(){t.setState((function(e){return{showDropdown:!e.showDropdown}}))},t.update=function(){t.forceUpdate()},t.state={showDropdown:!1},t}return i(t,e),t.prototype.closeDropdown=function(){this.setState({showDropdown:!1})},t.prototype.splitControlsIntoDisplayedAndDropdown=function(){switch(this.props.playerSize){case A.TINY:return{displayedControls:[],dropdownControls:[]};case A.EXTRA_SMALL:case A.SMALL:return this.splitControls(2);default:return this.splitControls(4)}},t.prototype.splitControls=function(e){var t,n,o=this.props.getControls();return o.length>e+1?(t=o.slice(0,e),n=o.slice(e)):(t=o,n=[]),{displayedControls:t,dropdownControls:n}},t.prototype.render=function(){var e=this,t=this.splitControlsIntoDisplayedAndDropdown(),n=t.displayedControls,o=t.dropdownControls;return n.length>0?(0,u.h)("div",{className:h.rightUpperBarWrapperContainer},n.map((function(t){var n=t.id,o=t.component,i=t.onClick,r=t.componentRef,a=t.shouldHandleOnClick,s=o;return(0,u.h)(d.IconWrapper,{key:n,onClick:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];a&&i.apply(void 0,p([],c(t),!1)),e.closeDropdown()},ref:r},(0,u.h)(s,null))})),o.length>0&&(0,u.h)(C.MoreIcon,{showDropdown:this.state.showDropdown,onClick:this.handleOnClick,icons:o,player:this.props.player,ref:function(t){e.moreIconRef.current=t}})):void 0},s([v(y,null,null,{forwardRef:!0})],t)}(u.Component);t.DisplayedBar=g},9705:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.DropdownBarItem=void 0;var s=n(4522),l=n(8750),c=r(n(3421)),p=n(7649),u=n(2052),d=n(5720),h=u.ui.Components,f=h.Icon,C=h.Tooltip;t.DropdownBarItem=function(e){var t=e.displayName,n=e.text,o=e.icon,i=e.onClick,r=e.onDropdownClick,u=e.tooltipPosition,h=(0,l.useRef)(null),A=(0,l.useRef)(null),v=a((0,l.useState)(!1),2),y=v[0],g=v[1],m=a((0,l.useState)(!1),2),_=m[0],w=m[1];(0,l.useLayoutEffect)((function(){if(!_&&(null==A?void 0:A.current)&&(null==h?void 0:h.current)){w(!0);var e=(null==A?void 0:A.current.getBoundingClientRect().width)-11,t=null==h?void 0:h.current.getBoundingClientRect().width;g(t>e)}}));var b=(0,s.h)("span",{className:[c.dropdownItemDescription,y?c.trimText:""].join(" "),ref:A},n),x=(0,s.h)("span",{ref:h,className:c.comparisonText},n),k=_?b:(0,s.h)(s.Fragment,null,b,x),P="string"==typeof n?n:(0,p.renderToString)(n),B=function(){return(0,s.h)(d.A11yWrapper,{onClick:function(e){i(e),r()},role:"menuitem"},(0,s.h)("div",{className:c.dropdownItem,tabIndex:0,"aria-label":P},(0,s.h)("div",{className:c.icon},(0,s.h)(f,{type:o.type,id:t,path:o.path,viewBox:o.viewBox||"0 0 32 32"})),k))};return(0,s.h)(s.Fragment,null,y?(0,s.h)(C,{label:n,type:u,className:c.moreItemTooltip},B()):B())}},5174:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DropdownBar=void 0;var c=n(4522),p=l(n(1397)),u=n(2052),d=n(9705),h=u.ui.Components.Scrollable,f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.calculateMaxHeight=function(){return this.props.player.getVideoElement().clientHeight-Number(window.KalturaPlayer.ui.style.topBarMaxHeight)-16},t.prototype.render=function(){var e=this,t=this.calculateMaxHeight(),n={className:p.moreDropdown,role:"menu",ariaExpanded:!0,style:{maxHeight:"".concat(t,"px")}},o=this.props.controls.length;return(0,c.h)("div",r({},n),(0,c.h)(h,{isVertical:!0},this.props.controls.map((function(t,n){var i=t.id,r=t.displayName,a=t.ariaLabel,s=t.svgIcon,l=t.onClick,p="function"==typeof s?s():s,u="function"==typeof a?a():a;return(0,c.h)(d.DropdownBarItem,{key:i,displayName:r,text:u,icon:p,onClick:l,onDropdownClick:e.props.onDropdownClick,tooltipPosition:n===o-1?"top":"bottom"})}))))},t}(c.Component);t.DropdownBar=f},5883:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.IconWrapper=void 0;var r=n(4522),a=n(5720),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){return(0,r.h)(a.A11yWrapper,{role:null,onClick:this.props.onClick},(0,r.h)("div",null,(0,r.cloneElement)(this.props.children)))},t}(r.Component);t.IconWrapper=s},4951:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MoreIcon=void 0;var c=n(4522),p=n(5720),u=n(2052),d=l(n(1891)),h=n(5174),f=n(562),C=u.ui.Components,A=C.Icon,v=C.Tooltip,y=u.ui.Event.withEventManager,g=u.ui.preacti18n,m=g.withText,_=g.Text,w=function(e){function t(){var t=e.call(this)||this;return t.moreButtonRef=(0,c.createRef)(),t}return i(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.eventManager.listen(document,"click",(function(t){return e.handleClickOutside(t)}))},t.prototype.handleClickOutside=function(e){this.moreButtonRef&&!this.moreButtonRef.current.contains(e.target)&&this.setState({toggle:!1})},t.prototype.render=function(){return(0,c.h)("div",{style:{position:"relative"}},(0,c.h)(v,{label:this.props.moreIconTxt,type:"bottom-left",strictPosition:!0},(0,c.h)(p.A11yWrapper,{onClick:this.props.onClick},(0,c.h)("button",{ref:this.moreButtonRef,className:"".concat(u.ui.style.upperBarIcon," ").concat(d.moreIcon),tabIndex:0,"aria-label":this.props.moreIconTxt},(0,c.h)(A,{id:"".concat(f.pluginName,"-upper-bar-manager"),path:"M16 22a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 2a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm0-11a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 2a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm0-11a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 2a1 1 0 1 0 0 2 1 1 0 0 0 0-2z",viewBox:"0 0 32 32"})))),this.props.showDropdown&&(0,c.h)("div",null,(0,c.h)(h.DropdownBar,{onDropdownClick:this.props.onClick,controls:this.props.icons,player:this.props.player})))},s([y,m({moreIconTxt:(0,c.h)(_,{id:"controls.moreIcon"},"More")})],t)}(c.Component);t.MoreIcon=w},3765:function(e,t,n){"use strict";var o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.UpperBarManager=void 0;var i=n(2052),r=n(183),a=n(4522),s=n(9328),l=n(2195),c=i.ui.ReservedPresetAreas,p=i.ui.ReservedPresetNames,u=i.ui.redux,d=Object.values(p).filter((function(e){return e!==p.Idle&&e!==p.Error})),h=function(){function e(e,t){var n=this;this.player=e,this.componentsRegistry=new Map,this.logger=t,this.displayedBarComponentRefs={},this.iconsOrder={},d.forEach((function(e){return n.displayedBarComponentRefs[e]=(0,a.createRef)()})),this.injectDisplayedBarComponentWrapper(),this.moveControlsManager=new l.MoveControlsManager(e,t,this,u)}return e.prototype.add=function(t){var n=this;if(e.validateItem(t)){var o=new r.IconModel(t);return this.componentsRegistry.set(o.id,o),this.iconsOrder[t.displayName]=t.order,o.presets.forEach((function(e){var t;return null===(t=n.displayedBarComponentRefs[e].current)||void 0===t?void 0:t.update()})),this.logger.debug("control '".concat(o.displayName,"' added, id: '").concat(o.id,"' ")),o.id}this.logger.error("icon cannot be added due to invalid parameters",JSON.stringify(t))},e.prototype.remove=function(e){var t=this,n=this.componentsRegistry.get(e);n?(this.componentsRegistry.delete(e),n.presets.forEach((function(e){var n;return null===(n=t.displayedBarComponentRefs[e].current)||void 0===n?void 0:n.update()})),this.logger.debug("control '".concat(n.displayName,"' removed, id: '").concat(n.id,"' "))):this.logger.warn("control ".concat(e," is not registered"))},e.prototype.isActive=function(e){return!!this.componentsRegistry.get(e)},e.prototype.update=function(e){var t=this.componentsRegistry.get(e);t?t.update():this.logger.warn("control ".concat(e," is not registered"))},e.prototype.getControls=function(e){return Array.from(this.componentsRegistry.values()).sort((function(t,n){return e[t.displayName]-e[n.displayName]}))},e.prototype.getMorePluginButton=function(){var e,t,n,o=null===(n=null===(t=null===(e=this.displayedBarComponentRefs.Playback.current)||void 0===e?void 0:e.moreIconRef)||void 0===t?void 0:t.current)||void 0===n?void 0:n.base;return null==o?void 0:o.querySelector('[tabindex="0"]')},e.prototype.focusPluginButton=function(e,t){var n,o,i,r,a=null===(i=null===(o=null===(n=this.getControls(this.iconsOrder).find((function(t){return t.id===e})))||void 0===n?void 0:n.componentRef)||void 0===o?void 0:o.current)||void 0===i?void 0:i.base;(r=a?a.querySelector('[tabindex="0"]'):this.getMorePluginButton())&&(null==t||t.preventDefault(),r.focus())},e.prototype.injectDisplayedBarComponentWrapper=function(){var e,t,n=this,i=this.iconsOrder,r=function(e){l.player.ui.addComponent({label:"Right-Upper-Bar-Wrapper",presets:[e],area:c.TopBarRightControls,get:function(){return(0,a.h)(s.DisplayedBar,{ref:n.displayedBarComponentRefs[e],getControls:function(){return n.getControls(i).filter((function(t){return t.presets.includes(e)}))},player:n.player})}})},l=this;try{for(var p=o(d),u=p.next();!u.done;u=p.next())r(u.value)}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}},e.validateItem=function(e){return"function"==typeof e.onClick&&"function"==typeof e.component},e}();t.UpperBarManager=h},562:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.UIManagers=t.pluginName=void 0;var r=n(2052),a=n(3682),s=n(3765),l=n(7243),c=n(3121),p=n(5963),u=n(1968);t.pluginName="uiManagers";var d=function(e){function t(t,n,o){var i=e.call(this,t,n,o)||this;n.registerService("sidePanelsManager",new a.SidePanelsManager(n,i.logger)),n.registerService("upperBarManager",new s.UpperBarManager(n,i.logger));var r=new c.PresetManager({kalturaPlayer:n,eventManager:i.eventManager}),d=new l.FloatingManager({presetManager:r,kalturaPlayer:n,logger:i.logger,eventManager:i.eventManager});return n.registerService("floatingManager",d),n.registerService("toastManager",new p.ToastManager({floatingManager:d},(function(e){return i.dispatchEvent(e)}))),n.registerService("bannerManager",new u.BannerManager({floatingManager:d,kalturaPlayer:n})),i}return i(t,e),t.isValid=function(){return!0},t.defaultConfig={},t}(r.BasePlugin);t.UIManagers=d},2052:e=>{"use strict";e.exports=KalturaPlayer},4522:e=>{"use strict";e.exports=KalturaPlayer.ui.preact},8750:e=>{"use strict";e.exports=KalturaPlayer.ui.preactHooks}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={id:o,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=n(2052),t=n(562);(0,e.registerPlugin)(t.pluginName,t.UIManagers)})()})();
//# sourceMappingURL=playkit-ui-managers.js.map
var KalturaPlayer="object"==typeof KalturaPlayer?KalturaPlayer:{};KalturaPlayer.plugins=KalturaPlayer.plugins||{},KalturaPlayer.plugins.visibility=function(t){var n={};function e(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)e.d(i,a,function(n){return t[n]}.bind(null,a));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=5)}([function(t,n){t.exports=KalturaPlayer},function(t,n,e){"use strict";t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=function(t,n){var e=t[1]||"",i=t[3];if(!i)return e;if(n&&"function"==typeof btoa){var a=(r=i,s=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),o=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[e].concat(o).concat([a]).join("\n")}var r,s,l;return[e].join("\n")}(n,t);return n[2]?"@media ".concat(n[2]," {").concat(e,"}"):e})).join("")},n.i=function(t,e,i){"string"==typeof t&&(t=[[null,t,""]]);var a={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(a[r]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);i&&a[l[0]]||(e&&(l[2]?l[2]="".concat(e," and ").concat(l[2]):l[2]=e),n.push(l))}},n}},function(t,n,e){var i=e(3),a=e(4);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var o={insert:"head",singleton:!1};i(a,o);t.exports=a.locals||{}},function(t,n,e){"use strict";var i,a=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},o=function(){var t={};return function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}t[n]=e}return t[n]}}(),r=[];function s(t){for(var n=-1,e=0;e<r.length;e++)if(r[e].identifier===t){n=e;break}return n}function l(t,n){for(var e={},i=[],a=0;a<t.length;a++){var o=t[a],l=n.base?o[0]+n.base:o[0],c=e[l]||0,u="".concat(l," ").concat(c);e[l]=c+1;var f=s(u),p={css:o[1],media:o[2],sourceMap:o[3]};-1!==f?(r[f].references++,r[f].updater(p)):r.push({identifier:u,updater:A(p,n),references:1}),i.push(u)}return i}function c(t){var n=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var a=e.nc;a&&(i.nonce=a)}if(Object.keys(i).forEach((function(t){n.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(n);else{var r=o(t.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}return n}var u,f=(u=[],function(t,n){return u[t]=n,u.filter(Boolean).join("\n")});function p(t,n,e,i){var a=e?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=f(n,a);else{var o=document.createTextNode(a),r=t.childNodes;r[n]&&t.removeChild(r[n]),r.length?t.insertBefore(o,r[n]):t.appendChild(o)}}function g(t,n,e){var i=e.css,a=e.media,o=e.sourceMap;if(a?t.setAttribute("media",a):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var h=null,d=0;function A(t,n){var e,i,a;if(n.singleton){var o=d++;e=h||(h=c(n)),i=p.bind(null,e,o,!1),a=p.bind(null,e,o,!0)}else e=c(n),i=g.bind(null,e,n),a=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)};return i(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;i(t=n)}else a()}}t.exports=function(t,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=a());var e=l(t=t||[],n);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<e.length;i++){var a=s(e[i]);r[a].references--}for(var o=l(t,n),c=0;c<e.length;c++){var u=s(e[c]);0===r[u].references&&(r[u].updater(),r.splice(u,1))}e=o}}}},function(t,n,e){"use strict";e.r(n);var i=e(1),a=e.n(i)()(!0);a.push([t.i,"\n.playkit-floating-poster {\n  height: 100%;\n  width: 100%;\n  background-color: black;\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n  display: none;\n}\n.playkit-floating-poster.playkit-floating-poster-show {\n  display: block;\n}\n.playkit-floating-active.playkit-floating-active-top {\n  top: 0;\n}\n.playkit-floating-active.playkit-floating-active-bottom {\n  bottom: 0;\n}\n.playkit-floating-active.playkit-floating-active-left {\n  left: 0;\n}\n.playkit-floating-active.playkit-floating-active-right {\n  right: 0;\n}\n\n.playkit-floating-container {\n  height: 100%;\n  width: 100%;\n  touch-action: none;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.playkit-floating-container.playkit-floating-active {\n  z-index: 9999;\n  position: fixed;\n  border-radius: 8px;\n}\n.playkit-floating-container.playkit-floating-active.draggable {\n  cursor: grab;\n}\n\n#playkit-floating-dismissible-container {\n  display: none;\n  align-items: center;\n  flex-direction: row;\n  width: 100%;\n  height: 32px;\n  background: #242424;\n  border-radius: 8px 8px 0 0;\n  .playkit-dismissible-text {\n    color: white;\n    display: flex;\n    width: 100%;\n    margin-left: 8px;\n    font-size: 14px;\n    font-weight: 700;\n    font-family: Lato, Helvetica Neue, Segoe UI, sans-serif;\n    cursor: pointer;\n  }\n  .playkit-icon-close {\n    cursor: pointer;\n    background-position-x: 0;\n  }\n}\n\n.playkit-floating-dismissible {\n  display: none;\n  height: 24px;\n  width: 24px;\n}\n\n.playkit-floating-container.playkit-floating-active #playkit-floating-dismissible-container {\n  display: flex;\n  .playkit-floating-dismissible {\n    display: flex;\n    align-items: center;\n    margin: 4px 8px 4px 0;\n  }\n}\n.playkit-floating-dismissible.playkit-floating-infullscreen{\n  display: none !important;\n}\n","",{version:3,sources:["webpack://style.css"],names:[],mappings:";AACA;EACE,YAAY;EACZ,WAAW;EACX,uBAAuB;EACvB,4BAA4B;EAC5B,wBAAwB;EACxB,2BAA2B;EAC3B,aAAa;AACf;AACA;EACE,cAAc;AAChB;AACA;EACE,MAAM;AACR;AACA;EACE,SAAS;AACX;AACA;EACE,OAAO;AACT;AACA;EACE,QAAQ;AACV;;AAEA;EACE,YAAY;EACZ,WAAW;EACX,kBAAkB;EAClB,aAAa;EACb,sBAAsB;EACtB,gBAAgB;AAClB;AACA;EACE,aAAa;EACb,eAAe;EACf,kBAAkB;AACpB;AACA;EACE,YAAY;AACd;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,mBAAmB;EACnB,WAAW;EACX,YAAY;EACZ,mBAAmB;EACnB,0BAA0B;EAC1B;IACE,YAAY;IACZ,aAAa;IACb,WAAW;IACX,gBAAgB;IAChB,eAAe;IACf,gBAAgB;IAChB,uDAAuD;IACvD,eAAe;EACjB;EACA;IACE,eAAe;IACf,wBAAwB;EAC1B;AACF;;AAEA;EACE,aAAa;EACb,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,aAAa;EACb;IACE,aAAa;IACb,mBAAmB;IACnB,qBAAqB;EACvB;AACF;AACA;EACE,wBAAwB;AAC1B",sourcesContent:["\n.playkit-floating-poster {\n  height: 100%;\n  width: 100%;\n  background-color: black;\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n  display: none;\n}\n.playkit-floating-poster.playkit-floating-poster-show {\n  display: block;\n}\n.playkit-floating-active.playkit-floating-active-top {\n  top: 0;\n}\n.playkit-floating-active.playkit-floating-active-bottom {\n  bottom: 0;\n}\n.playkit-floating-active.playkit-floating-active-left {\n  left: 0;\n}\n.playkit-floating-active.playkit-floating-active-right {\n  right: 0;\n}\n\n.playkit-floating-container {\n  height: 100%;\n  width: 100%;\n  touch-action: none;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.playkit-floating-container.playkit-floating-active {\n  z-index: 9999;\n  position: fixed;\n  border-radius: 8px;\n}\n.playkit-floating-container.playkit-floating-active.draggable {\n  cursor: grab;\n}\n\n#playkit-floating-dismissible-container {\n  display: none;\n  align-items: center;\n  flex-direction: row;\n  width: 100%;\n  height: 32px;\n  background: #242424;\n  border-radius: 8px 8px 0 0;\n  .playkit-dismissible-text {\n    color: white;\n    display: flex;\n    width: 100%;\n    margin-left: 8px;\n    font-size: 14px;\n    font-weight: 700;\n    font-family: Lato, Helvetica Neue, Segoe UI, sans-serif;\n    cursor: pointer;\n  }\n  .playkit-icon-close {\n    cursor: pointer;\n    background-position-x: 0;\n  }\n}\n\n.playkit-floating-dismissible {\n  display: none;\n  height: 24px;\n  width: 24px;\n}\n\n.playkit-floating-container.playkit-floating-active #playkit-floating-dismissible-container {\n  display: flex;\n  .playkit-floating-dismissible {\n    display: flex;\n    align-items: center;\n    margin: 4px 8px 4px 0;\n  }\n}\n.playkit-floating-dismissible.playkit-floating-infullscreen{\n  display: none !important;\n}\n"],sourceRoot:""}]),n.default=a},function(t,n,e){"use strict";e.r(n),e.d(n,"Plugin",(function(){return B})),e.d(n,"VERSION",(function(){return w})),e.d(n,"NAME",(function(){return x})),e.d(n,"EventType",(function(){return y}));var i=e(0);e(2);function a(){return(a=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}).apply(this,arguments)}var o=i.ui.h,r=i.ui.preact,s=i.ui.preacti18n,l=i.ui.utils,c=i.ui.Components,u=s.Localizer,f=s.Text,p=r.Component,g=l.KeyMap,h=c.Icon,d=c.IconType,A=function(t){var n,e;function i(){return t.apply(this,arguments)||this}e=t,(n=i).prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e;var r=i.prototype;return r._onKeyDownHandler=function(t,n){void 0===n&&(n=!1),t.keyCode===g.ENTER&&this.props.onClose(n)},r.render=function(t){var n=this,e={role:"button",tabIndex:"0",ref:function(n){t.addAccessibleChild&&t.addAccessibleChild(n)}};return o("div",{id:"playkit-floating-dismissible-container"},o(u,null,o("div",a({},e,{className:"playkit-dismissible-text",onClick:function(){return t.onClose(!0)},onKeyDown:function(t){return n._onKeyDownHandler(t,!0)},"aria-label":o(f,{id:"floating.back_to_video"},"Back to video")}),o(f,{id:"floating.back_to_video"},"Back to video"))),o(u,null,o("a",a({},e,{onClick:function(){return t.onClose()},onKeyDown:function(t){return n._onKeyDownHandler(t)},"aria-label":o(f,{id:"overlay.close"}),className:"playkit-floating-dismissible playkit-icon playkit-icon-close"}),o(h,{type:d.Close}))))},i}(p),y={FLOATING_PLAYER_STATE_CHANGED:"floatingplayerstatechanged",FLOATING_PLAYER_DISMISSED:"floatingplayerdismissed"};function m(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var _=i.core.Utils,b=i.ui.redux,E=i.ui.reducers.shell.actions,k={position:"bottom-right",height:"225",width:"400",marginX:"20",marginY:"20",dismissible:!0,draggable:!0},B=function(t){var n,e;e=t,(n=s).prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e;var i,a,o,r=s.prototype;function s(n,e,i){var a;return C(v(a=t.call(this,n,e,i)||this),"_playbackStartOccurred",!1),C(v(a),"_dismissed",!1),C(v(a),"_isInPIP",!1),C(v(a),"_currMousePos",{x:0,y:0}),C(v(a),"_throttleWait",!1),a._appTargetContainer=_.Dom.getElementById(a.player.config.targetId),a._store=b.useStore(),a._initFloating(),a._addBindings(),a}return r.getUIComponents=function(){var t=this;return this.config.dismissible?[{label:"dismissibleFloatingButtonComponent",presets:["Playback","Live","Error","Ads","Idle","Img"],container:"TopBarRightControls",get:A,props:{onClose:function(n){void 0===n&&(n=!1),t._handleDismissFloating(n)}}}]:[]},s.isValid=function(){return!0},r._initFloating=function(){var t=this;this.config=_.Object.mergeDeep(k,this.config),this._floatingPoster=_.Dom.createElement("div"),this._floatingPoster.className="playkit-floating-poster",this._floatingContainer=_.Dom.createElement("div"),this._floatingContainer.className="playkit-floating-container",_.Dom.prependTo(this._floatingPoster,this._appTargetContainer);var n=_.Dom.getElementById(this.player.config.ui.targetId);this._appTargetContainer&&this._floatingContainer&&(this._appTargetContainer.replaceChild(this._floatingContainer,n),_.Dom.appendChild(this._floatingContainer,n),this.config.position.split("-").forEach((function(n){_.Dom.addClassName(t._floatingContainer,"playkit-floating-active-"+n)}))),this.config.draggable&&_.Dom.addClassName(this._floatingContainer,"playkit-floating-draggable")},r._getDismissibleContainerEl=function(){return _.Dom.getElementById(this.player.config.targetId).querySelector("#playkit-floating-dismissible-container")},r._getFloatingContainerHeight=function(){return this.config.dismissible&&this._getDismissibleContainerEl()?""+(Number(this.config.height)+32):this.config.height},r._handleDismissFloating=function(t){this._dismissed=!0,this.player.pause(),t&&this._floatingPoster.scrollIntoView(),this._stopFloating(),this.dispatchEvent(y.FLOATING_PLAYER_DISMISSED)},r._stopFloating=function(){_.Dom.removeClassName(this._floatingPoster,"playkit-floating-poster-show"),_.Dom.removeClassName(this._floatingContainer,"playkit-floating-active"),_.Dom.removeAttribute(this._floatingContainer,"style"),this.config.draggable&&(this.eventManager.unlisten(this._floatingContainer,"mousedown"),this.eventManager.unlisten(this._floatingContainer,"touchstart"),this._stopDrag()),this.dispatchEvent(y.FLOATING_PLAYER_STATE_CHANGED,{active:!1});var t=this._state.shell.playerSize;this._playerSizeBeforeFloating!==t&&this._store.dispatch(E.updatePlayerClientRect(this._floatingContainer.getBoundingClientRect()))},r._stopFloatingOnOtherPlayers=function(){var t=this,n=document.getElementsByClassName("playkit-floating-container"),e=document.getElementsByClassName("playkit-floating-poster");Array.from(n).forEach((function(n){n!==t._floatingContainer&&(_.Dom.removeClassName(n,"playkit-floating-active"),_.Dom.removeAttribute(n,"style"),t.config.draggable&&(t.eventManager.unlisten(n,"mousedown"),t.eventManager.unlisten(n,"touchstart"),t._stopDrag()))})),Array.from(e).forEach((function(n){n!==t._floatingPoster&&_.Dom.removeClassName(n,"playkit-floating-poster-show")}))},r._startFloating=function(){var t=this;if(this._stopFloatingOnOtherPlayers(),this._playerSizeBeforeFloating=this._state.shell.playerSize,_.Dom.addClassName(this._floatingContainer,"playkit-floating-active"),_.Dom.addClassName(this._floatingPoster,"playkit-floating-poster-show"),_.Dom.setStyle(this._floatingContainer,"height",this._getFloatingContainerHeight()+"px"),_.Dom.setStyle(this._floatingContainer,"width",this.config.width+"px"),_.Dom.setStyle(this._floatingContainer,"margin",this.config.marginY+"px "+this.config.marginX+"px"),this.config.dismissible){var n=this._getDismissibleContainerEl();n&&this._floatingContainer.prepend(n)}this.config.draggable&&(this.eventManager.listen(this._floatingContainer,"mousedown",(function(n){t._startDrag(n,"mousemove","mouseup")})),this.eventManager.listen(this._floatingContainer,"touchstart",(function(n){t.eventManager.unlisten(t._floatingContainer,"mousedown"),t._startDrag(n,"touchmove","touchend")}))),this.dispatchEvent(y.FLOATING_PLAYER_STATE_CHANGED,{active:!0})},r._handleFloatingChange=function(t){t?this._stopFloating():this._startFloating()},r._addBindings=function(){var t=this;this.eventManager.listen(this.player,this.player.Event.ENTER_PICTURE_IN_PICTURE,(function(){t._stopFloating(),t._isInPIP=!0})),this.eventManager.listen(this.player,this.player.Event.LEAVE_PICTURE_IN_PICTURE,(function(){t._isInPIP=!1})),this.player.viewabilityManager.observe(this._appTargetContainer,this._handleViewabilityChanged.bind(this)),this.eventManager.listen(this.player,this.player.Event.PLAYBACK_START,(function(){t._playbackStartOccurred=!0,_.Dom.setStyle(t._floatingPoster,"background-image",'url("'+t.player.config.sources.poster+'")')})),this.eventManager.listen(this.player,this.player.Event.ENTER_FULLSCREEN,(function(){var n=_.Dom.getElementById(t.player.config.ui.targetId).querySelector(".playkit-floating-dismissible");_.Dom.addClassName(n,"playkit-floating-infullscreen")})),this.eventManager.listen(this.player,this.player.Event.EXIT_FULLSCREEN,(function(){var n=_.Dom.getElementById(t.player.config.ui.targetId).querySelector(".playkit-floating-dismissible");_.Dom.removeClassName(n,"playkit-floating-infullscreen")}))},r._handleViewabilityChanged=function(t,n){n!==this.player.ViewabilityType.VIEWPORT||!this._playbackStartOccurred||this._dismissed||this._isInPIP||this._handleFloatingChange(t)},r.destroy=function(){this.logger.debug("destroy"),_.Dom.removeChild(this._appTargetContainer,this._floatingContainer),_.Dom.removeChild(this._appTargetContainer,this._floatingPoster),this.player.viewabilityManager.unObserve(this._appTargetContainer,this._handleViewabilityChanged.bind(this)),this._appTargetContainer=null,this._floatingContainer=null,this._floatingPoster=null,this.eventManager.destroy(),this._playerSizeBeforeFloating=""},r._startDrag=function(t,n,e){var i=this;this.eventManager.listenOnce(document,e,(function(){i._stopDrag()})),this._currMousePos.x=this._clientX(t),this._currMousePos.y=this._clientY(t),this.eventManager.listen(document,n,(function(t){i._moveDrag(t)}))},r._clientX=function(t){return t instanceof MouseEvent?t.clientX:t.changedTouches&&t.changedTouches[0]&&t.changedTouches[0].clientX},r._clientY=function(t){return t instanceof MouseEvent?t.clientY:t.changedTouches&&t.changedTouches[0]&&t.changedTouches[0].clientY},r._moveDrag=function(t){var n=this;if(!this._throttleWait){t=t||window.event;var e=this._currMousePos.x-this._clientX(t),i=this._currMousePos.y-this._clientY(t);this._currMousePos.x=this._clientX(t),this._currMousePos.y=this._clientY(t);var a=this._floatingContainer;if(a){var o=a.getBoundingClientRect(),r=Math.max(o.top-parseInt(a.style.marginTop)-i,0);r=Math.min(r,window.innerHeight-o.height-2*this.config.marginY),a.style.top=r+"px";var s=Math.max(o.left-parseInt(a.style.marginLeft)-e,0);s=Math.min(s,window.innerWidth-o.width-2*this.config.marginX),a.style.left=s+"px"}this._throttleWait=!0,setTimeout((function(){n._throttleWait=!1}),30)}},r._stopDrag=function(){this.eventManager.unlisten(document,"mousemove"),this.eventManager.unlisten(document,"touchmove")},i=s,(a=[{key:"_state",get:function(){return this._store.getState()}}])&&m(i.prototype,a),o&&m(i,o),s}(i.BasePlugin);C(B,"defaultConfig",{});var w="2.3.2",x="@playkit-js/playkit-js-visibility";Object(i.registerPlugin)("floating",B)}]);
//# sourceMappingURL=playkit-visibility.js.map
		window.__kalturaplayerdata = (window.__kalturaplayerdata || {});
		window.__kalturaplayerdata={"plugins":{"kava":{},"floating":{"position":"bottom-right","dismissible":true,"draggable":true,"width":400,"height":225,"marginX":0,"marginY":0},"ivq":{},"playkit-js-hotspots":{},"timeline":{},"kalturaCuepoints":{},"uiManagers":{}},"playback":{"autoplay":false,"preload":"none","textLanguage":"off","captionsDisplay":false,"preferNative":{"dash":false,"hls":false}},"provider":{"env":{"serviceUrl":"https:\/\/cdnapisec.kaltura.com\/api_v3","cdnUrl":"https:\/\/cfvod.kaltura.com","statsServiceUrl":"https:\/\/stats.kaltura.com","liveStatsServiceUrl":"https:\/\/livestats.kaltura.com","analyticsServiceUrl":"https:\/\/analytics.kaltura.com","apiFeatures":{"entryRedirect":"1"}},"unisphereLoaderUrl":"https:\/\/unisphere.nvp1.ovp.kaltura.com\/v1"},"ui":{"components":{},"locale":"pt_br","translations":{"en":{"controls":{"play":"Play","pause":"Pause","title":"title","language":"Language","settings":"Settings","fullscreen":"Fullscreen","fullscreenExit":"Exit fullscreen","rewind":"Seek backwards","secondsRewind":"Seek {{seconds}} seconds backwards","forward":"Seek forward","secondsForward":"Seek {{seconds}} seconds forward","vrStereo":"vrStereo","closedCaptionsOn":"Disable Captions","closedCaptionsOff":"Enable Captions","live":"Live","mute":"Mute","unmute":"Unmute","next":"Next","prev":"Prev","startOver":"Start over","pictureInPicture":"Picture in picture","pictureInPictureExit":"Exit picture in picture","logo":"Logo","seekBarSlider":"Seek bar","readLess":"Less","readMore":"More","valuetextLabel":"of"},"unmute":{"unmute":"Unmute"},"volume":{"muted_click_to_unmute":"Muted. Click to unmute","volume_click_to_mute":"{{vol}}% volume. Click to mute","ten_percent":"ten percent","twenty_percent":"twenty percent","thirty_percent":"thirty percent","fourty_percent":"forty percent","fifty_percent":"fifty percent","sixty_percent":"sixty percent","seventy_percent":"seventy percent","eighty_percent":"eighty percent","ninety_percent":"ninety percent","one_hundred_percent":"one hundred percent","volume_button_aria_label":"Volume","volume_button_description":"Click to volume control","volume_slider_aria_label":"Volume control","volume_slider_description":"Use the arrows to control the volume"},"copy":{"button":"Copy URL"},"settings":{"title":"Settings","audio":"Audio","quality":"Quality","speed":"Speed","speedNormal":"Normal","qualityAuto":"Auto","qualityHdLabel":"Quality is HD","quality4kLabel":"Quality is 4k","quality8kLabel":"Quality is 8k","advanced_audio_description":"Extended Audio Description","advanced_audio_description_enabled":"Disable Extended Audio Description","advanced_audio_description_disabled":"Enable Extended Audio Description"},"captions":{"captions":"Captions","advanced_captions_settings":"Advanced captions settings"},"overlay":{"close":"Close"},"error":{"default_error_title":"Something went wrong","default_error_message":"An error occurred, please try again later.","network_error_title":"There\u2019s a problem with your network","network_error_message":"Please check your network connection and try again.","media_unavailable_error_title":"Media unavailable","media_unavailable_error_message":"This media has been restricted. Please obtain relevant permissions to access content.","text_error_title":"Text stream error","text_error_message":"Text stream error occurred","media_error_title":"Media stream error","media_error_message":"One or more media streams have failed.","manifest_error_title":"Play manifest error","manifest_error_message":"Error processing the play manifest.","streaming_error_title":"Cannot load stream","streaming_error_message":"A streaming protocol error occurred.","drm_error_message":"You don\u2019t have permissions to view this media.","media_not_ready_error_title":"Media is being processed","media_not_ready_error_message":"Media is processing, check back soon.","geo_location_error_title":"Geo location unavailable","geo_location_error_message":"This content is unavailable in your region.","ip_restricted_error_message":"This media has been restricted to certain IP addresses.","site_restricted_error_message":"This content is unavailable in this domain.","scheduled_restricted_error_message":"This content is currently unavailable.","default_session_text":"Copy for customer care: session ID","retry":"Try again","error_title":"Error","access_control_error_message":"Blocked by Conditional Access","copy_debug_info":"Copy debug info"},"ads":{"ad_notice":"Advertisement","learn_more":"Learn more","skip_ad":"Skip ad","skip_in":"Skip in"},"cvaa":{"title":"Advanced captions settings","sample_caption_tag":"Sample {{number}}","sample_custom_caption_tag":"Custom captions","set_custom_caption":"Set custom caption","edit_caption":"Edit caption","size_label":"Size","font_color_label":"Font color","font_alignment_label":"Font alignment","font_family_label":"Font family","font_style_label":"Font style","font_opacity_label":"Font opacity","background_color_label":"Background color","background_opacity_label":"Background opacity","apply":"Apply","caption_preview":"This is your caption preview","close_label":"Close Advanced captions settings"},"cast":{"play_on_tv":"Play on TV","disconnect_from_tv":"Disconnect from TV","status":{"connecting_to":"Connecting to","connected_to":"Connected to","playing_on":"Playing on"}},"playlist":{"prev":"Previous","next":"Next","up_next":"Up Next","up_next_in":"Up next in","cancel":"Cancel"},"pictureInPicture":{"overlay_text":"Playing in Picture In Picture mode"},"watermark":{"watermark_alt_text":"Watermark"},"spinner":{"loading":"Loading"},"videoArea":{"videoLabel":"Video player. Use the play button or press the space bar to start playback."},"ivq":{"continue_button":"Continue","continue_button_area_label":"Continue quiz with the selected answer","skip_button":"Skip","skip_button_area_label":"Skip for now","question_counter":"Question {{current}} of {{total}}","next_question_area_label":"Next Question","prev_question_area_label":"Previous Question","open_question_placeholder":"Type your answer here...","question":"Question","reflection_point":"Reflection Point","welcome_title":"Start your video quiz!","welcome_download":"Download Pre-Test","start_quiz":"Start Quiz","submit_button":"Submit","submit_button_area_label":"Click to submit quiz","review_button":"Review","review_button_area_label":"Click to review quiz","review_title":"You are almost done","review_description":"It appears that some questions remained unanswered You must answer all questions before you can submit","submit_title":"Quiz completed","submit_description":"Take a moment to review your answers or go ahead to submit your answers.","quiz_score":"Your score is {{quizScore}}","retake_button":"Retake","retake_button_area_label":"Click to retake the quiz","close_button":"Close","close_button_aria_label":"Click to close the review","quiz_completed":"You completed the quiz","back_button":"Back","correct_answer_is":"The correct answer is:","your_answer":"Your answer","correct_answer":"Correct answer","incorrect_answer":"Incorrect answer","wrong_answer":"Wrong answer","show_hint":"Show hint","hide_hint":"Hide hint","show_why":"Show why","hide_why":"Hide why","show_feedback":"Show feedback","hide_feedback":"Hide feedback","marker_area_label":"Jump to Question {{questionIndex}}","answer_number":"Answer number","review_question":"Click to review the question","tip":"All questions must be answered. The quiz will be submitted at the end.","available_attempts_message":"Total attempts available for this quiz: {{availableAttempts}}","quiz_almost_done_title":"You\u2019re almost done","quiz_almost_done_description":"It appears that some questions remained unanswered You must answer all questions before you can submit","quiz_submit_description":"Take a moment to review your answers or go ahead to submit your answers.","quiz_completed_description":"Watch the video until the end to submit.","quiz_submitted_title":"Quiz submitted","seeking_is_disable_popup_title":"Seeking was disabled on this video"},"timeline":{"hotspot_title":"Hotspot","hotspot_title_aria_label":"Click to jump to hotspot video position","hotspot_aria_label":"Click to jump to {{title}} hotspot","question_title":"Question","reflection_point_title":"Reflection Point","audience_asked_title":"Audience Asked","marker_aria_label":"{{type}} at {{position}}"},"floating":{"back_to_video":"Back to video"}},"pt_br":{"controls":{"play":"Reproduzir","pause":"Pausar","language":"Idioma","settings":"Configura\u00e7\u00f5es","fullscreen":"Tela inteira","fullscreenExit":"Sair da tela inteira","rewind":"Buscar para tr\u00e1s","forward":"Buscar para frente","secondsRewind":"Buscar {{seconds}} segundos para tr\u00e1s","secondsForward":"Buscar {{seconds}} segundos para a frente","vrStereo":"vrStereo","closedCaptionsOn":"Desabilitar legendas","closedCaptionsOff":"Habilitar legendas","live":"Ao vivo","mute":"Silenciar","unmute":"Cancelar silenciamento","next":"Pr\u00f3ximo","prev":"Anterior","startOver":"Come\u00e7ar de novo","pictureInPicture":"Picture in picture","pictureInPictureExit":"Sair do Picture in picture","logo":"Logo","seekBarSlider":"Controle deslizante","readLess":"Menos","readMore":"Mais"},"unmute":{"unmute":"Cancelar silenciamento"},"copy":{"button":"Copiar URL"},"settings":{"title":"Configura\u00e7\u00f5es","audio":"\u00c1udio","quality":"Qualidade","speed":"Velocidade","speedNormal":"Normal","qualityAuto":"Autom\u00e1tico"},"captions":{"captions":"Legendas","advanced_captions_settings":"Configura\u00e7\u00f5es avan\u00e7adas de legendas"},"overlay":{"close":"Fechar"},"error":{"default_error_title":"Ocorreu um erro"},"ads":{"ad_notice":"Publicidade","learn_more":"Saiba mais","skip_ad":"Ignorar publicidade","skip_in":"Ignorar em"},"cvaa":{"title":"Configura\u00e7\u00f5es avan\u00e7adas de legendas","sample_caption_tag":"Amostra {{number}}","sample_custom_caption_tag":"Legendas personalizadas","set_custom_caption":"Definir legenda personalizada","edit_caption":"Editar legenda","size_label":"Tamanho","font_color_label":"Cor da fonte","font_family_label":"Fam\u00edlia da fonte","font_style_label":"Estilo da fonte","font_opacity_label":"Opacidade da fonte","background_color_label":"Cor de fundo","background_opacity_label":"Opacidade do fundo","apply":"Aplicar","caption_preview":"Esta \u00e9 a pr\u00e9-visualiza\u00e7\u00e3o da sua legenda"},"cast":{"play_on_tv":"Reproduzir na TV","disconnect_from_tv":"Desconectar da TV","status":{"connecting_to":"Conectando a","connected_to":"Conectado a","playing_on":"Reproduzindo em"}},"playlist":{"prev":"Anterior","next":"Pr\u00f3ximo","up_next":"A seguir","up_next_in":"Pr\u00f3ximo em","cancel":"Cancelar"},"pictureInPicture":{"overlay_text":"Reproduzindo no modo Picture In Picture"},"volume":{"muted_click_to_unmute":"Silenciado. Clique para cancelar silenciamento","volume_click_to_mute":"volume. Clique para silenciar","ten_percent":"dez por cento","twenty_percent":"vinte por cento","thirty_percent":"trinta por cento","fourty_percent":"quarenta por cento","fifty_percent":"cinquenta por cento","sixty_percent":"sessenta por cento","seventy_percent":"setenta por cento","eighty_percent":"oitenta por cento","ninety_percent":"noventa por cento","one_hundred_percent":"cem por cento","volume_slider_aria_label":"Controle de volume","volume_slider_description":"Use as setas para controlar o volume"}},"es":{"controls":{"play":"Reproducir","pause":"Pausar","language":"Idioma","settings":"Configuraci\u00f3n","fullscreen":"Pantalla completa","fullscreenExit":"Salir del modo de pantalla completa","rewind":"Buscar hacia atr\u00e1s","forward":"Buscar hacia delante","vrStereo":"vrStereo","closedCaptionsOn":"Desactivar subt\u00edtulos","closedCaptionsOff":"Activar subt\u00edtulos","live":"En directo","mute":"Silenciar","unmute":"Dejar de silenciar","next":"Siguiente","prev":"Anterior","startOver":"Volver a empezar","pictureInPicture":"Imagen dentro de la imagen","pictureInPictureExit":"Salir de imagen en imagen","logo":"Logotipo","seekBarSlider":"Buscar control deslizante","readLess":"Menos","readMore":"M\u00e1s","secondsRewind":"Buscar {{seconds}} segundos hacia atr\u00e1s","secondsForward":"Buscar {{seconds}} segundos hacia delante"},"unmute":{"unmute":"Dejar de silenciar"},"copy":{"button":"Copiar URL"},"settings":{"title":"Configuraci\u00f3n","quality":"Calidad","audio":"Audio","speed":"Velocidad","speedNormal":"Normal","qualityAuto":"Autom\u00e1tico"},"captions":{"captions":"Subt\u00edtulos","advanced_captions_settings":"Configuraci\u00f3n avanzada de los subt\u00edtulos"},"overlay":{"close":"Cerrar"},"error":{"default_error_title":"Algo sali\u00f3 mal."},"ads":{"ad_notice":"Anuncio","learn_more":"M\u00e1s informaci\u00f3n","skip_ad":"Omitir anuncio","skip_in":"Saltar"},"cvaa":{"title":"Configuraci\u00f3n avanzada de los subt\u00edtulos","sample_caption_tag":"Ejemplo {{number}}","sample_custom_caption_tag":"Personalizar subt\u00edtulos","set_custom_caption":"Configurar subt\u00edtulos personalizados","edit_caption":"Editar subt\u00edtulo","size_label":"Tama\u00f1o","font_color_label":"Color de la fuente","font_family_label":"Tipo de fuente","font_style_label":"Estilo de la fuente","font_opacity_label":"Opacidad de la fuente","background_color_label":"Color de fondo","background_opacity_label":"Opacidad del fondo","apply":"Aplicar","caption_preview":"Esta es la vista previa de su subt\u00edtulo"},"cast":{"play_on_tv":"Reproducir en TV","disconnect_from_tv":"Desconectar de TV","status":{"connecting_to":"Conectar a","connected_to":"Conectado a","playing_on":"Reproducido en"}},"playlist":{"prev":"Anterior","next":"Siguiente","up_next":"Siguiente","up_next_in":"Siguiente en","cancel":"Cancelar"},"pictureInPicture":{"overlay_text":"Reproducido en modo imagen dentro de la imagen"},"volume":{"muted_click_to_unmute":"Silenciado. Haga clic para activar el audio","volume_click_to_mute":"volumen. Haga clic para silenciar","ten_percent":"diez por ciento","twenty_percent":"veinte por ciento","thirty_percent":"treinta por ciento","fourty_percent":"cuarenta por ciento","fifty_percent":"cincuenta por ciento","sixty_percent":"sesenta por ciento","seventy_percent":"setenta por ciento","eighty_percent":"ochenta por ciento","ninety_percent":"noventa por ciento","one_hundred_percent":"cien por cien","volume_slider_aria_label":"Control de volumen","volume_slider_description":"Use las flechas para controlar el volumen"},"ivq":{"continue_button":"Continuar","continue_button_area_label":"Continuar el cuestionario con la respuesta seleccionada","skip_button":"Saltar","skip_button_area_label":"Saltar por ahora","question_counter":"Pregunta {{actual}} de {{total}}","next_question_area_label":"Pr\u00f3xima pregunta","prev_question_area_label":"Pregunta anterior","open_question_placeholder":"Escriba aqu\u00ed su respuesta...","question":"Pregunta","reflection_point":"Punto de reflexi\u00f3n","welcome_title":"\u00a1Comience su video cuestionario!","welcome_download":"Descargar preguntas","start_quiz":"Iniciar el cuestionario","submit_button":"Enviar","submit_button_area_label":"Haga clic para enviar el cuestionario","review_button":"Revisar","review_button_area_label":"Haga clic para revisar el cuestionario","review_title":"Casi ha terminado","review_description":"Parece que algunas preguntas se han quedado sin respuesta. Por favor, complete el cuestionario para enviarlo.","submit_title":"Cuestionario completado","submit_description":"T\u00f3mese un momento para revisar sus respuestas o contin\u00fae para enviarlas.","quiz_score":"Su puntuaci\u00f3n es {{quizScore}}","retake_button":"Volver a hacer","retake_button_area_label":"Haga clic para volver a realizar el cuestionario","close_button":"Cerrar","close_button_aria_label":"Haga clic para cerrar la revisi\u00f3n","quiz_completed":"Ha completado el cuestionario","back_button":"Atr\u00e1s","correct_answer_is":"La respuesta correcta es:","your_answer":"Su respuesta","correct_answer":"La respuesta correcta","incorrect_answer":"La respuesta incorrecta","wrong_answer":"La respuesta incorrecta","show_hint":"Mostrar pista","hide_hint":"Ocultar pista","show_why":"Mostrar por qu\u00e9","hide_why":"Ocultar por qu\u00e9","show_feedback":"Mostrar comentarios","hide_feedback":"Ocultar comentarios","marker_area_label":"Saltar a la pregunta {{questionIndex}}","answer_number":"N\u00famero de respuesta","review_question":"Haga clic para ver la pregunta y su respuesta","tip":"Es obligatorio responder a todas las preguntas. El cuestionario se enviar\u00e1 al final.","available_attempts_message":"N\u00famero total de intentos disponibles para este cuestionario: {{availableAttempts}}","quiz_almost_done_title":"Ya casi has terminado","quiz_almost_done_description":"Parece que algunas preguntas se han quedado sin respuesta. Por favor, complete el cuestionario para poder enviarlo.","quiz_submit_description":"T\u00f3mese un momento para revisar sus respuestas o contin\u00fae para enviarlas.","quiz_completed_description":"Mire el video hasta el final para poder enviarlo.","quiz_submitted_title":"Cuestionario presentado","seeking_is_disable_popup_title":"La b\u00fasqueda est\u00e1 deshabilitada en este reproductor"}}}},"text":{"textTrackDisplaySetting":{"align":"default"}},"disableUserCache":false,"viewability":{"playerThreshold":50},"productVersion":"7.196","uiConfData":{"width":"560","height":"395","name":"EBAC v7 Player Beta"}};